(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{1148:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OklchColor=t.RgbaColor=t.CntrlColor=void 0;let n=r(6381),o=r(5483);class s{static rgba(e,t,r,n=1){return new a(e,t,r,n)}static oklch(e,t,r,n=1){return new l(e,t,r,n)}static from(e){switch(e.type){case"rgba":return new a(e.r,e.g,e.b,e.a);case"oklch":return new l(e.l,e.c,e.h,e.a)}}static parse(e){let t=(0,n.ColorParser)()(e,0).unwrap();switch(t.type){case"rgba":return new a(t.value.r,t.value.g,t.value.b,t.value.a);case"oklch":return new l(t.value.l,t.value.c,t.value.h,t.value.a);default:throw Error("current color format isn't supported")}}fmt(e,t){throw Error("not implemented")}toCss(){throw Error("not implemented")}getRgba(){throw Error("not implemented")}getOklch(){throw Error("not implemented")}getHex(){let{r:e,g:t,b:r}=this.getRgba();return"#"+[e,t,r].map(e=>e.toString(16).padStart(2,"0")).join("")}getAlpha(){throw Error("not implemented")}mix(e,t){throw Error("not implemented")}}t.CntrlColor=s;class a extends s{constructor(e,t,r,n){super(),this.red=e,this.green=t,this.blue=r,this.alpha=n}fmt(e="rgba",t){switch(e){case"hex":return this.getHex();case"oklch":{let{l:e,c:r,h:n,a:o}=this.getOklch();return`oklch(${100*e}% ${r} ${n} / ${null!=t?t:o})`}default:return`rgba(${this.red}, ${this.green}, ${this.blue}, ${null!=t?t:this.alpha})`}}getRgba(){return{type:"rgba",r:this.red,g:this.green,b:this.blue,a:this.alpha}}getOklch(){let{l:e,c:t,h:r,a:n}=(0,o.rgbToOklch)(this.red,this.green,this.blue,this.alpha);return{type:"oklch",l:e,c:t,h:r,a:n}}toCss(){return this.fmt("rgba")}getAlpha(){return this.alpha}mix(e,t){var r,n,o,a;let{r:l,g:u,b:d,a:c}=e.getRgba(),h=l*t-(r=this.red)*t+r,p=u*t-(n=this.green)*t+n,f=d*t-(o=this.blue)*t+o,m=c*t-(a=this.alpha)*t+a;return s.from({type:"rgba",r:Math.round(h),g:Math.round(p),b:Math.round(f),a:Math.round(m)})}}t.RgbaColor=a;class l extends s{constructor(e,t,r,n){super(),this.lightness=e,this.chroma=t,this.hue=r,this.alpha=n}fmt(e="oklch",t){switch(e){case"hex":return this.getHex();case"rgba":{let{r:e,g:r,b:n,a:o}=this.getRgba();return`rgba(${e}, ${r}, ${n}, ${null!=t?t:o})`}default:return`oklch(${100*this.lightness}% ${this.chroma} ${this.hue} / ${null!=t?t:this.alpha})`}}toCss(){return"undefined"==typeof window?this.fmt("oklch"):this.fmt(window.CSS.supports("color: oklch(42% 0.3 90 / 1)")?"oklch":"rgba")}getOklch(){return{type:"oklch",l:this.lightness,c:this.chroma,h:this.hue,a:this.alpha}}getRgba(){let{r:e,g:t,b:r}=(0,o.oklchToRgb)(this.lightness,this.chroma,this.hue);return{type:"rgba",r:Math.round(e),g:Math.round(t),b:Math.round(r),a:this.alpha}}getAlpha(){return this.alpha}mix(e,t){var r,n,o,a;let{l:l,c:u,h:d,a:c}=e.getOklch(),h=l*t-(r=this.lightness)*t+r,p=u*t-(n=this.chroma)*t+n,f=d*t-(o=this.hue)*t+o,m=c*t-(a=this.alpha)*t+a;return s.from({type:"oklch",l:h,c:p,h:f,a:parseFloat(m.toFixed(2))})}}t.OklchColor=l},5483:function(e,t){"use strict";function r(e){return .04045<e?Math.pow((e+.055)/1.055,2.4):e/12.92}function n(e){return .0031308>=e?12.92*e:1.055*Math.pow(e,.4166666666666667)-.055}function o(e){return e<t.Converters?t.Converters:e>1-t.Converters?1-t.Converters:e}Object.defineProperty(t,"__esModule",{value:!0}),t.oklchToRgb=t.clamp=t.rgbToOklch=t.Converters=void 0,t.Converters=1e-4,t.rgbToOklch=function(e,t,n,s=1){let a=function(e,t,r){let n=Math.cbrt(.4122214708*e+.5363325363*t+.0514459929*r),o=Math.cbrt(.2119034982*e+.6806995451*t+.1073969566*r),s=Math.cbrt(.0883024619*e+.2817188376*t+.6299787005*r);return[.2104542553*n+.793617785*o-.0040720468*s,1.9779984951*n-2.428592205*o+.4505937099*s,.0259040371*n+.7827717662*o-.808675766*s]}(r(e/255),r(t/255),r(n/255)),l=a[0],u=(.5+.5*Math.atan2(-a[2],-a[1])/Math.PI)*360;return{l:l,h:u<0?u+360:u,c:o(Math.sqrt(a[1]*a[1]+a[2]*a[2])),a:s}},t.clamp=o,t.oklchToRgb=function(e,t,r,o=1){let s=r/360*2*Math.PI,a=function(e,t,r){let n=e+.3963377774*t+.2158037573*r,o=e-.1055613458*t-.0638541728*r,s=e-.0894841775*t-1.291485548*r,a=n*n*n,l=o*o*o,u=s*s*s;return[4.0767416621*a-3.3077115913*l+.2309699292*u,-1.2684380046*a+2.6097574011*l-.3413193965*u,-.0041960863*a-.7034186147*l+1.707614701*u]}(e,t*Math.cos(s),t*Math.sin(s));return{r:255*n(a[0]),g:255*n(a[1]),b:255*n(a[2]),a:o}}},1444:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.List=t.Seq=t.Alt=t.Opt=t.Ignore=t.Regex=t.Text=void 0;let n=r(3413),o=r(5907),s=r(1086);t.Text=function(e,t=!1){return(r,a)=>{let l=r.slice(a,a+e.length);return(t?e.toLowerCase()!==l.toLowerCase():e!==l)?o.Result.Err(new n.ParseError(`Expects "${e}" instead got "${l}"`,a)):o.Result.Ok(s.Token.Plain({index:a,size:l.length,type:"text",value:l}))}},t.Regex=function(e){let t=new RegExp(e,/g/i.test(e.flags)?e.flags:`${e.flags}g`);return(e,r)=>{t.lastIndex=r;let a=t.exec(e);return a&&a.index===r?o.Result.Ok(s.Token.Plain({index:r,size:a[0].length,type:"regex",value:a})):o.Result.Err(new n.ParseError(`Cannot match "${t}"`,r))}},t.Ignore=function(e){return(t,r)=>e(t,r).map(e=>e.ignore())},t.Opt=function(e){return(t,r)=>{let n=e(t,r);return n.mapOrElse(()=>o.Result.Ok(s.Token.Ignore({index:r,size:0})),()=>n)}},t.Alt=function(...e){return(t,r)=>{let s=[];for(let n of e){let e=n(t,r);if(e.isOk())return e;s.push(e.unwrapErr())}return o.Result.Err(n.ParseError.merge(s,r))}},t.Seq=function(e,t){return(r,a)=>{let l=[],u=a;for(let s of e){if(u>=r.length)return o.Result.Err(new n.ParseError("Unexpected end of input",u));let e=s(r,u);if(e.isErr()){if(!(t&&t(r,u).isOk()))return e;break}let a=e.unwrap();u=a.end(),a.isIgnore()||l.push(a)}return 0===l.length?o.Result.Err(new n.ParseError("Cannot match sequence",u)):o.Result.Ok(s.Token.Plain({index:a,size:u-a,type:"sequence",value:l}))}},t.List=function(e,t,r){return(a,l)=>{let u=[],d=l;for(;d<a.length;){let n=e(a,d);if(n.isErr())return o.Result.Err(n.unwrapErr());let s=n.unwrap();if(s.isIgnore||u.push(s),d=s.end(),r&&r(a,d).isOk())break;if(t){let e=t(a,d);if(e.isErr())break;d=e.unwrap().end()}}return 0===u.length?o.Result.Err(new n.ParseError("Cannot match list",d)):o.Result.Ok(s.Token.Plain({index:l,size:d-l,type:"list",value:u}))}}},3413:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParseError=void 0;class r extends Error{static merge(e,t){return new r(["Multiple errors occured:",...e.map(e=>e instanceof Error?e.toString():e)].join("\n"),t)}constructor(e,t){super(`${e} at ${t}`),this.index=t,this.name="ParseError"}toString(){return`${this.name}: ${this.message} at ${this.index}`}}t.ParseError=r},5907:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Err=t.Ok=t.Result=void 0;class r{static Ok(e){return new n(e)}static Err(e){return new o(e)}isOk(){return!1}isErr(){return!1}}t.Result=r;class n extends r{constructor(e){super(),this.value=e,Object.freeze(this)}isOk(){return!0}unwrap(){return this.value}unwrapErr(){throw this.value}map(e){return new n(e(this.value))}mapOrElse(e,t){return t(this.value)}}t.Ok=n;class o extends r{constructor(e){super(),this.error=e,Object.freeze(this)}isErr(){return!0}unwrap(){throw this.error}unwrapErr(){return this.error}map(e){return this}mapOrElse(e,t){return e()}}t.Err=o},1086:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Token=t.TOKEN_IGNORE=void 0,t.TOKEN_IGNORE=Symbol.for("@cntrl-site/cms-client:TokenIgnore");class r{static Plain(e){return new r(e)}static Ignore({index:e,size:n}){return new r({index:e,size:n,type:t.TOKEN_IGNORE,value:void 0})}constructor({index:e,size:t,type:r,value:n}){this.index=e,this.size=t,this.type=r,this.value=n}produce({type:e,value:t}){return new r({index:this.index,size:this.size,type:e,value:t})}ignore(){return r.Ignore({index:this.index,size:this.size})}end(){return this.index+this.size}isIgnore(){return this.type===t.TOKEN_IGNORE}}t.Token=r},2996:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Angle=t.Percentage=t.CssNumber=void 0;let n=r(1444);function o(){let e=(0,n.Regex)(/[+-]?(?:\d*\.\d|\d)\d*(?:[eE][+-]?\d+)?/);return(t,r)=>e(t,r).map(e=>e.produce({type:"number",value:parseFloat(e.value[0])}))}t.CssNumber=o,t.Percentage=function(){let e=(0,n.Seq)([o(),(0,n.Text)("%")]);return(t,r)=>e(t,r).map(e=>e.produce({type:"percentage",value:e.value[0].value}))},t.Angle=function(){let e=(0,n.Seq)([o(),(0,n.Opt)((0,n.Alt)((0,n.Text)("rad",!0),(0,n.Text)("deg",!0)))]);return(t,r)=>e(t,r).map(e=>{var t,r;return e.produce({type:"angle",value:{angle:e.value[0].value,unit:null!==(r=null===(t=e.value[1])||void 0===t?void 0:t.value)&&void 0!==r?r:"deg"}})})}},6381:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorParser=void 0;let n=r(1444),o=r(2996);t.ColorParser=function(){return(0,n.Alt)(function(){let e=(0,o.CssNumber)(),t=(0,n.Regex)(/\s*,\s*/),r=(0,n.Seq)([(0,n.Text)("rgb",!0),(0,n.Regex)(/\(\s*/),e,t,e,t,e,(0,n.Regex)(/\s*\)/)]),s=(0,n.Seq)([(0,n.Text)("rgba",!0),(0,n.Regex)(/\(\s*/),e,t,e,t,e,t,e,(0,n.Regex)(/\s*\)/)]),a=(0,n.Alt)(r,s);return(e,t)=>a(e,t).map(e=>{var t,r;return e.produce({type:"rgba",value:{r:e.value[2].value,g:e.value[4].value,b:e.value[6].value,a:null!==(r=null===(t=e.value[8])||void 0===t?void 0:t.value)&&void 0!==r?r:1}})})}(),function(){let e=(0,o.CssNumber)(),t=(0,n.Regex)(/\s+/),r=(0,n.Seq)([(0,n.Text)("rgb",!0),(0,n.Regex)(/\(\s*/),e,t,e,t,e,(0,n.Regex)(/\s*\)/)]),s=(0,n.Seq)([(0,n.Text)("rgba",!0),(0,n.Regex)(/\(\s*/),e,t,e,t,e,(0,n.Regex)(/\s*\/\s*/),e,(0,n.Regex)(/\s*\)/)]),a=(0,n.Alt)(r,s);return(e,t)=>a(e,t).map(e=>{var t,r;return e.produce({type:"rgba",value:{r:e.value[2].value,g:e.value[4].value,b:e.value[6].value,a:null!==(r=null===(t=e.value[8])||void 0===t?void 0:t.value)&&void 0!==r?r:1}})})}(),function(){let e=(0,n.Regex)(/#(?:([0-9a-f]{8})|([0-9a-f]{6})|([0-9a-f]{3}))(?=\b|$)/i);return(t,r)=>e(t,r).map(e=>{let[,t,r,n]=e.value,o=0,s=0,a=0,l=1;return t&&(o=parseInt(t.slice(0,2),16),s=parseInt(t.slice(2,4),16),a=parseInt(t.slice(4,6),16),l=parseInt(t.slice(6,8),16)/255),r&&(o=parseInt(r.slice(0,2),16),s=parseInt(r.slice(2,4),16),a=parseInt(r.slice(4,6),16)),n&&(o=(o=parseInt(n.charAt(0),16))<<4^o,s=(s=parseInt(n.charAt(1),16))<<4^s,a=(a=parseInt(n.charAt(2),16))<<4^a),e.produce({type:"rgba",value:{r:o,g:s,b:a,a:l}})})}(),function(){let e=(0,o.CssNumber)(),t=(0,o.Percentage)(),r=(0,n.Regex)(/\s+/),s=(0,n.Seq)([(0,n.Regex)(/oklch\(\s*/i),(0,n.Alt)(t,e),r,e,r,(0,o.Angle)(),(0,n.Opt)((0,n.Seq)([(0,n.Regex)(/\s*\/\s*/),e])),(0,n.Regex)(/\s*\)/)]);return(e,t)=>s(e,t).map(e=>{let t="number"===e.value[1].type?e.value[1].value:e.value[1].value/100,r=e.value[3].value,n="deg"===e.value[5].value.unit?e.value[5].value.angle:e.value[5].value.angle/(2*Math.PI)*360,o=8===e.value.length?e.value[6].value[1].value:1;return e.produce({type:"oklch",value:{l:t,c:r,h:n,a:o}})})}())}},3799:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CntrlColor=void 0;var n=r(1148);Object.defineProperty(t,"CntrlColor",{enumerable:!0,get:function(){return n.CntrlColor}})},5407:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageTextureManager=void 0;class r{constructor(e){this.image=new Image,this.image.crossOrigin="anonymous",this.image.src=e.startsWith("blob")?e:`${e}?dt=${Date.now()}`}updatesOnRender(){return!1}getElement(){return this.image}ready(){return this.image.complete}getWidth(){return this.image.width}getHeight(){return this.image.height}}t.ImageTextureManager=r},27:function(e,t){"use strict";var r=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)0>t.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEffect=void 0;let n=`
attribute vec2 a_position;
attribute vec2 a_texCoord;

uniform vec2 u_resolution;

varying vec2 v_texCoord;

void main() {
  // convert the rectangle from pixels to 0.0 to 1.0
  vec2 zeroToOne = a_position / u_resolution;

  // convert from 0->1 to 0->2
  vec2 zeroToTwo = zeroToOne * 2.0;

  // convert from 0->2 to -1->+1 (clipspace)
  vec2 clipSpace = zeroToTwo - 1.0;

  gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);

  // pass the texCoord to the fragment shader
  // The GPU will interpolate this value between points.
  v_texCoord = a_texCoord;
}`,o=`
precision mediump float;

// our texture
uniform sampler2D u_image;
uniform sampler2D u_pattern;
uniform float u_time;
uniform vec2 u_imgDimensions;
uniform vec2 u_patternDimensions;

// the texCoords passed in from the vertex shader.
varying vec2 v_texCoord;

void main() {
  float tunedTime = u_time * 1.0;
  gl_FragColor = texture2D(u_image, v_texCoord);
}`;class s{constructor(e,t,r,n,s,a,l){this.textureManager=e,this.imageWidth=a,this.imageHeight=l,this.vpWidth=100,this.vpHeight=100,this.cache=new WeakMap,this.statusListeners=[],this.pattern1=new Image,this.pattern1.crossOrigin="anonymous",this.pattern1.src=t,this.pattern2=new Image,this.pattern2.crossOrigin="anonymous",this.pattern2.src=r,this.fxParams=Object.assign({},s),this.fragmentShaderSrc=n||o}setViewport(e,t){this.vpWidth=e,this.vpHeight=t}setParam(e,t){this.fxParams[e]=t}subscribeStatus(e){this.statusListeners.push(e)}ready(){return this.textureManager.ready()}prepare(e){this.ensureCache(e)}render(e){if(!this.ready())return;let t=this.fxParams,{time:n,cursor:o}=t,s=r(t,["time","cursor"]);this.ensureCache(e);let a=this.cacheGet(e,"program"),l=this.cacheGet(e,"positionBuffer"),u=this.cacheGet(e,"texCoordBuffer"),d=this.cacheGet(e,"texture"),c=this.cacheGet(e,"pattern1Texture"),h=this.cacheGet(e,"pattern2Texture");this.textureManager.updatesOnRender()&&(e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,d),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.textureManager.getElement())),e.viewport(0,0,this.vpWidth,this.vpHeight),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),this.setupPosition(e),e.useProgram(a);let p=e.getAttribLocation(a,"a_position");e.enableVertexAttribArray(p),e.bindBuffer(e.ARRAY_BUFFER,l),e.vertexAttribPointer(p,2,e.FLOAT,!1,0,0);let f=e.getAttribLocation(a,"a_texCoord");e.enableVertexAttribArray(f),e.bindBuffer(e.ARRAY_BUFFER,u),e.vertexAttribPointer(f,2,e.FLOAT,!1,0,0);let m=e.getUniformLocation(a,"u_resolution");e.uniform2f(m,this.vpWidth,this.vpHeight);let g=e.getUniformLocation(a,"u_cursor");e.uniform2f(g,...o);let y=e.getUniformLocation(a,"u_time");for(let[t,r]of(e.uniform1f(y,n),Object.entries(s))){let n=e.getUniformLocation(a,t);e.uniform1f(n,r)}let v=e.getUniformLocation(a,"u_image"),_=e.getUniformLocation(a,"u_imgDimensions");e.uniform2f(_,this.imageWidth,this.imageHeight);let b=e.getUniformLocation(a,"u_pattern"),x=e.getUniformLocation(a,"u_patternDimensions"),w=e.getUniformLocation(a,"u_pattern2"),S=e.getUniformLocation(a,"u_pattern2Dimensions");e.uniform2f(x,this.pattern1.width,this.pattern1.height),e.uniform2f(S,this.pattern2.width,this.pattern2.height),e.uniform1i(v,0),e.uniform1i(b,1),e.uniform1i(w,2),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,d),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,c),e.activeTexture(e.TEXTURE2),e.bindTexture(e.TEXTURE_2D,h),e.drawArrays(e.TRIANGLES,0,6)}setupPosition(e){let t=this.cacheGet(e,"positionBuffer");e.bindBuffer(e.ARRAY_BUFFER,t);let r=this.textureManager.getWidth()/this.textureManager.getHeight(),n=this.vpWidth/this.vpHeight,o=n<r?this.vpHeight*r:this.vpWidth,s=n<r?this.vpHeight:this.vpWidth/r,a=(this.vpWidth-o)/2,l=(this.vpHeight-s)/2,u=a+o,d=l+s;e.bufferData(e.ARRAY_BUFFER,new Float32Array([a,l,u,l,a,d,a,d,u,l,u,d]),e.STATIC_DRAW)}ensureCache(e){this.cacheGet(e,"program")||this.compileProgram(e),this.cacheGet(e,"positionBuffer")||this.createPositionBuffer(e),this.cacheGet(e,"texCoordBuffer")||this.createTexCoordBuffer(e),this.cacheGet(e,"texture")||this.loadTexture(e,this.textureManager.getElement(),"texture"),this.cacheGet(e,"pattern1Texture")||this.loadTexture(e,this.pattern1,"pattern1Texture",e.NEAREST),this.cacheGet(e,"pattern2Texture")||this.loadTexture(e,this.pattern2,"pattern2Texture",e.NEAREST)}cacheGet(e,t){var r;return null===(r=this.cache.get(e))||void 0===r?void 0:r[t]}cacheSet(e,t,r){this.cache.get(e)||this.cache.set(e,{}),this.cache.get(e)[t]=r}compileProgram(e){let t=e.createProgram();if(!t)throw Error("Cannot create program");let r=this.compileShader(e,n,e.VERTEX_SHADER),o=this.compileShader(e,this.fragmentShaderSrc,e.FRAGMENT_SHADER);e.attachShader(t,r),e.attachShader(t,o),e.linkProgram(t),this.cacheSet(e,"program",t)}compileShader(e,t,r){let n=e.createShader(r);if(!n)throw Error("cannot create shader");if(e.shaderSource(n,t),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))this.statusListeners.forEach(e=>e("ready"));else{let t=e.getShaderInfoLog(n);t&&this.statusListeners.forEach(e=>e("error",t));let r=Error(`Error during compilation of shader ${n}: ${t}`);e.deleteShader(n),console.error(r)}return n}createPositionBuffer(e){let t=e.createBuffer();if(!t)throw Error("Cannot create position buffer");this.cacheSet(e,"positionBuffer",t)}loadTexture(e,t,r,n=e.LINEAR){if(!this.ready())return;let o=e.createTexture();o&&(e.bindTexture(e.TEXTURE_2D,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),this.cacheSet(e,r,o))}createTexCoordBuffer(e){let t=e.createBuffer();t&&(e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW),this.cacheSet(e,"texCoordBuffer",t))}}t.MediaEffect=s},6109:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoTextureManager=void 0;class r{constructor(e,t){this.listeners=[],this.isReady=!1;let r=document.createElement("video");r.autoplay=!0,r.muted=!0,r.loop=!0,r.playsInline=!0,r.controls=!0,r.crossOrigin="anonymous",r.addEventListener("loadedmetadata",()=>{r.play().then(()=>{this.isReady=!0,this.listeners.forEach(e=>e(!0))}).catch(t)}),r.src=e,this.video=r}updatesOnRender(){return!0}onReadyStatusChange(e){this.listeners.push(e)}getElement(){return this.video}ready(){return this.isReady}getWidth(){return this.video.videoWidth}getHeight(){return this.video.videoHeight}}t.VideoTextureManager=r},7738:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContextManager=void 0;class r{constructor(){this.contexts=[],this.maxContexts=14,this.contextMap=new WeakMap}getContext(e){let t=this.contextMap.get(e);if(t)return this.markContextAsUsed(t),t;let r=this.contexts.find(e=>!e.isInUse);if(r)return this.assignContextToCanvas(r,e),r.gl;if(this.contexts.length<this.maxContexts){let t=this.createNewContext();if(t)return this.assignContextToCanvas(t,e),t.gl}let n=this.findOldestUnusedContext();return n?(this.cleanupContext(n.gl),this.assignContextToCanvas(n,e),n.gl):null}releaseContext(e){let t=this.contextMap.get(e);if(!t)return;let r=this.contexts.find(e=>e.gl===t);r&&(r.isInUse=!1,r.lastUsed=Date.now(),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)),this.contextMap.delete(e)}createNewContext(){let e=document.createElement("canvas");e.width=1,e.height=1,e.style.display="none";let t=e.getContext("webgl2",{alpha:!0,premultipliedAlpha:!1,preserveDrawingBuffer:!1,antialias:!1});if(!t)return null;t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA);let r={gl:t,canvas:e,isInUse:!1,lastUsed:Date.now()};return this.contexts.push(r),r}assignContextToCanvas(e,t){e.isInUse=!0,e.lastUsed=Date.now(),this.contextMap.set(t,e.gl),e.canvas.width=t.width,e.canvas.height=t.height}markContextAsUsed(e){let t=this.contexts.find(t=>t.gl===e);t&&(t.lastUsed=Date.now())}findOldestUnusedContext(){let e=this.contexts.filter(e=>!e.isInUse);return 0===e.length?null:e.reduce((e,t)=>t.lastUsed<e.lastUsed?t:e)}cleanupContext(e){e.useProgram(null),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)}renderToCanvas(e,t){let r=t.getContext("2d");if(!r)return;let n=this.contexts.find(t=>t.gl===e);n&&(r.clearRect(0,0,t.width,t.height),r.drawImage(n.canvas,0,0))}updateContextSize(e,t,r){let n=this.contexts.find(t=>t.gl===e);n&&(n.canvas.width=t,n.canvas.height=r)}getStats(){return{total:this.contexts.length,inUse:this.contexts.filter(e=>e.isInUse).length,free:this.contexts.filter(e=>!e.isInUse).length}}}t.WebGLContextManager=r},4439:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContextManager=t.VideoTextureManager=t.ImageTextureManager=t.MediaEffect=void 0;var n=r(27);Object.defineProperty(t,"MediaEffect",{enumerable:!0,get:function(){return n.MediaEffect}});var o=r(5407);Object.defineProperty(t,"ImageTextureManager",{enumerable:!0,get:function(){return o.ImageTextureManager}});var s=r(6109);Object.defineProperty(t,"VideoTextureManager",{enumerable:!0,get:function(){return s.VideoTextureManager}});var a=r(7738);Object.defineProperty(t,"WebGLContextManager",{enumerable:!0,get:function(){return a.WebGLContextManager}})},5702:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useCurrentLayout=void 0;let n=r(1753),o=r(7294),s=r(8316);t.useCurrentLayout=function(){let{layouts:e}=(0,n.useCntrlContext)(),t=(0,o.useContext)(s.ArticleRectContext),r=(0,o.useMemo)(()=>e.slice().sort((e,t)=>e.startsWith-t.startsWith).reduce((e,t,r,n)=>{let o=n[r+1];return[...e,{layoutId:t.id,exemplary:t.exemplary,start:t.startsWith,end:o?o.startsWith:Number.MAX_SAFE_INTEGER}]},[]),[e]),a=(0,o.useCallback)(e=>r.find(t=>e>=t.start&&e<t.end),[r]),[l,u]=(0,o.useState)(void 0),[d,c]=(0,o.useState)(1);return(0,o.useEffect)(()=>{if(t)return t.on("resize",()=>{let e=t.width,{layoutId:r,exemplary:n}=a(e);u(r),c(e/n)})},[t,a]),{layoutId:l,layoutDeviation:d}}},1264:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useExemplary=void 0;let n=r(1753),o=r(3877);t.useExemplary=()=>{var e,t;let{layouts:r}=(0,n.useCntrlContext)(),s=(0,o.useLayoutContext)();return null!==(t=null===(e=r.find(e=>e.id===s))||void 0===e?void 0:e.exemplary)&&void 0!==t?t:1}},4754:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useItemFXData=void 0;let n=r(7747),o=r(9911),s=`precision mediump float;
uniform sampler2D u_image;
uniform sampler2D u_pattern;
uniform vec2 u_imgDimensions;
uniform vec2 u_patternDimensions;
uniform float u_time;
uniform vec2 u_cursor;
varying vec2 v_texCoord;`;t.useItemFXData=function(e,t){let{fragmentShader:r,FXControls:a}=e.commonParams,l=null!=a?a:[],u=l.map(e=>`uniform ${e.type} ${e.shaderParam};`).join("\n");return{fragmentShader:`${s}
${u}
${r}`,controlsValues:(0,o.useKeyframeValue)(e,n.KeyframeType.FXParams,()=>l.reduce((e,t)=>(Array.isArray(t.value)?e[t.shaderParam]=t.value[0]:e[t.shaderParam]=t.value,e),{}),(e,t,r)=>e.getFXParams(r,t),t)}}},9911:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useKeyframeValue=void 0;let o=n(r(2307)),s=r(7294),a=r(8316),l=r(8775),u=r(6661),d=r(3877),c=[];t.useKeyframeValue=function(e,t,r,n,h,p=c){let f=(0,s.useRef)(n),m=(0,s.useRef)(r);f.current=n,m.current=r;let g=(0,s.useContext)(a.ArticleRectContext),y=(0,d.useLayoutContext)(),v=(0,s.useContext)(l.KeyframesContext),_=(0,s.useMemo)(()=>v.getItemKeyframes(e.id).filter(e=>e.type===t),[e.id,v,t]),b=(0,s.useMemo)(()=>m.current(e,y),[e,y,...p]),[x,w]=(0,s.useState)(b),S=(0,s.useRef)(x);S.current=x;let C=(0,s.useMemo)(()=>{if(!y||!_.length)return;let e=_.filter(e=>e.layoutId===y).map(({position:e,type:t,value:r})=>({position:e,type:t,value:r}));return new u.Animator(e)},[_,y]),T=(0,s.useCallback)(e=>{if(!C)return;let t=f.current(C,e,b);(0,o.default)(t,S.current)||w(t)},[C,b]);return(0,s.useEffect)(()=>{w(b)},[b]),(0,s.useEffect)(()=>{g&&C&&T(g.getSectionScroll(h))},[g,T,C]),(0,s.useEffect)(()=>{if(g&&C)return g.on("resize",()=>{T(g.getSectionScroll(h))})},[T,g,C]),(0,s.useEffect)(()=>{if(g&&C)return g.on("scroll",()=>{T(g.getSectionScroll(h))})},[T,g,C]),_.length?x:b}},3267:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useRegisterResize=void 0;let o=r(7294),s=n(r(1033));t.useRegisterResize=function(e,t){(0,o.useEffect)(()=>{if(!e||!t)return;let r=new s.default(e=>{let[r]=e;t(r.target.clientHeight/window.innerWidth)});return r.observe(e),()=>{r.unobserve(e)}},[e,t])}},7994:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Article=void 0;let o=r(5893),s=r(7294),a=n(r(2335)),l=r(504),u=r(2565),d=r(419),c=r(8316),h=r(1432),p=r(6581),f=r(5365),m=r(4439);t.Article=({article:e,sectionData:t})=>{let r=(0,s.useRef)(null),n=(0,d.useArticleRectObserver)(r.current),g=(0,s.useId)(),[y,v]=(0,s.useState)(1);(0,s.useEffect)(()=>{if(n)return n.on("resize",e=>{v(e.height/e.width)})},[n]);let _=(0,s.useMemo)(()=>new m.WebGLContextManager,[]);return(0,o.jsx)(c.ArticleRectContext.Provider,{value:n,children:(0,o.jsxs)(p.InteractionsProvider,{article:e,children:[(0,o.jsx)(h.ArticleWrapper,{children:(0,o.jsx)("div",{className:"article",ref:r,children:(0,o.jsx)(f.WebglContextManagerContext.Provider,{value:_,children:e.sections.map((r,n)=>{let s=r.name?t[r.name]:{};return(0,o.jsx)(l.Section,{section:r,data:s,children:e.sections[n].items.map(e=>(0,o.jsx)(u.Item,{item:e,sectionId:r.id,articleHeight:y},e.id))},r.id)})})})}),(0,o.jsx)(a.default,{id:g,children:`
       .article {
         position: relative;
         overflow: clip;
       }
      `})]})})}},1432:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleWrapper=void 0;let n=r(5893),o=r(5702),s=r(2458);t.ArticleWrapper=({children:e})=>{let{layoutId:t,layoutDeviation:r}=(0,o.useCurrentLayout)();return(0,n.jsx)(s.LayoutContext.Provider,{value:t,children:(0,n.jsx)("div",{className:"article-wrapper",style:Object.assign({},{"--layout-deviation":r}),children:e})})}},786:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CNTRLHead=void 0;let o=r(5893),s=n(r(488)),a=n(r(9008)),l=r(7747);t.CNTRLHead=({meta:e,project:t})=>{let r=(0,s.default)(t.fonts.google),n=(0,s.default)(t.fonts.adobe),u=Object.assign(Object.assign({},"object"==typeof r?r:{}),"object"==typeof n?n:{}),d=t.fonts.custom,c=(0,s.default)(t.html.head),h=new l.FontFaceGenerator(d),p=Object.values(u).map(e=>{var t,r;if(!e)return;let n=(null==e?void 0:e.rel)||(null===(t=e.props)||void 0===t?void 0:t.rel),s=(null==e?void 0:e.href)||(null===(r=e.props)||void 0===r?void 0:r.href);if(n&&s)return(0,o.jsx)("link",{rel:n,href:s},`link-${n}-${s}`)});return(0,o.jsxs)(a.default,{children:[(0,o.jsx)("title",{children:e.title}),(0,o.jsx)("meta",{name:"description",content:e.description}),(0,o.jsx)("meta",{name:"keywords",content:e.keywords}),(0,o.jsx)("meta",{name:"og:title",content:e.title}),(0,o.jsx)("meta",{name:"og:image",content:e.opengraphThumbnail}),(0,o.jsx)("meta",{name:"og:description",content:e.description}),(0,o.jsx)("meta",{name:"twitter:title",content:e.title}),(0,o.jsx)("meta",{name:"twitter:image",content:e.opengraphThumbnail}),(0,o.jsx)("meta",{name:"twitter:description",content:e.description}),(0,o.jsx)("meta",{property:"twitter:card",content:"summary_large_image"}),(0,o.jsx)("meta",{name:"generator",content:"https://cntrl.site"}),(0,o.jsx)("link",{rel:"icon",href:e.favicon}),d.length>0&&(0,o.jsx)("style",{dangerouslySetInnerHTML:{__html:h.generate()}}),p,c]})}},9435:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutStyle=void 0;let o=r(5893),s=r(7747),a=n(r(2335));t.LayoutStyle=({id:e,layouts:t,layoutId:r,children:n})=>{let l=t.find(e=>e.id===r);return(0,o.jsx)(a.default,{id:e,children:`
      ${(0,s.getLayoutMediaQuery)(r,t)} {
        ${null==n?void 0:n(l)}
      }
    `})}},8476:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0;let o=r(5893),s=r(7294),a=n(r(488)),l=r(7994),u=r(8775),d=r(786),c=r(1227);t.Page=({article:e,project:t,meta:r,keyframes:n,sectionData:h})=>{let p=(0,a.default)(t.html.afterBodyOpen),f=(0,a.default)(t.html.beforeBodyClose),m=(0,s.useMemo)(()=>new c.Keyframes(n),[n]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.CNTRLHead,{project:t,meta:r}),p,(0,o.jsx)(u.KeyframesContext.Provider,{value:m,children:(0,o.jsx)(l.Article,{article:e,sectionData:h})}),f]})}},3512:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollPlaybackVideo=void 0;let n=r(5893),o=r(7294),s=r(5485),a=r(8316),l=r(7747);t.ScrollPlaybackVideo=({sectionId:e,src:t,playbackParams:r,style:u,className:d})=>{let[c,h]=(0,o.useState)(null),[p,f]=(0,o.useState)(0),m=(0,o.useContext)(a.ArticleRectContext);(0,o.useEffect)(()=>{if(r&&m)return m.on("scroll",()=>{let t=m.getSectionScroll(e);f(Number((0,s.rangeMap)(t,r.from,r.to,0,1,!0).toFixed(3)))})},[null==r?void 0:r.from,null==r?void 0:r.to,p]);let g=(0,o.useMemo)(()=>c?new l.ScrollPlaybackVideoManager({src:t,videoContainer:c}):null,[c,t]);return(0,o.useEffect)(()=>()=>{null==g||g.destroy()},[g]),(0,o.useEffect)(()=>{g&&p>=0&&p<=1&&g.setTargetTimePercent(p)},[p,g]),(0,n.jsx)("div",{className:d,style:u,ref:h})}},504:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSectionHeight=t.Section=void 0;let o=r(5893),s=r(7294),a=n(r(2335)),l=r(7747),u=r(1753),d=r(316),c=r(3799),h=r(3877);function p(e){let{units:t,vhUnits:r,mode:n}=e;return n===l.SectionHeightMode.ViewportHeightUnits?`${r}vh`:n===l.SectionHeightMode.ControlUnits?`${100*t}vw`:"0"}t.Section=({section:e,data:t,children:r})=>{var n,f,m,g,y,v,_,b,x,w,S,C,T,E,k,I;let A=(0,s.useId)(),P=(0,s.useRef)(null),{layouts:U,customSections:z}=(0,u.useCntrlContext)(),O=(0,h.useLayoutContext)(),j=[e.height,e.color,null!==(n=e.media)&&void 0!==n?n:{}],R=e.name?z.getComponent(e.name):void 0,B=!!O&&null!==(m=null===(f=e.media)||void 0===f?void 0:f[O])&&void 0!==m&&!!m.url&&(I=String(null===(y=null===(g=e.media)||void 0===g?void 0:g[O])||void 0===y?void 0:y.url),[".mp4",".webm",".ogg"].some(e=>I.toLowerCase().endsWith(e))),M=(0,s.useRef)(null);return((0,d.useSectionRegistry)(e.id,P.current),(0,s.useEffect)(()=>{if(!B||!P.current||!M.current)return;let e=M.current,t=P.current,r=new IntersectionObserver(([t])=>{t.isIntersecting?(e.style.display="block",e.play().catch(()=>{})):(e.style.display="none",e.pause())},{root:null,rootMargin:"50px",threshold:0});return r.observe(t),()=>r.disconnect()},[B]),R)?(0,o.jsx)("div",{ref:P,children:(0,o.jsx)(R,{data:t,children:r})}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:`section-${e.id}`,id:e.name,ref:P,children:[O&&(null===(_=null===(v=e.media)||void 0===v?void 0:v[O])||void 0===_?void 0:_.url)&&(null===(x=null===(b=e.media)||void 0===b?void 0:b[O])||void 0===x?void 0:x.size)!=="none"&&P.current&&(0,o.jsx)("div",{className:`section-background-overlay-${e.id}`,children:(0,o.jsx)("div",{className:`section-background-wrapper-${e.id}`,children:B?(0,o.jsx)("video",{ref:M,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",className:`video-background-${e.id}`,children:(0,o.jsx)("source",{src:null!==(C=null===(S=null===(w=e.media)||void 0===w?void 0:w[O])||void 0===S?void 0:S.url)&&void 0!==C?C:""})}):(0,o.jsx)("img",{src:null!==(k=null===(E=null===(T=e.media)||void 0===T?void 0:T[O])||void 0===E?void 0:E.url)&&void 0!==k?k:"",className:`image-background-${e.id}`})},`section-background-wrapper-${e.id}`)}),r]}),(0,o.jsx)(a.default,{id:A,children:`
      ${(0,l.getLayoutStyles)(U,j,([t,r,n])=>{var o;return`
         .section-${e.id} {
            height: ${p(t)};
            position: relative;
            background-color: ${c.CntrlColor.parse(null!=r?r:"rgba(0, 0, 0, 0)").fmt("rgba")};
         }
         .section-background-overlay-${e.id} {
            height: ${p(t)};
            width: 100%;
            position: relative;
            overflow: clip;
         }
         .section-background-wrapper-${e.id} {
            transform: ${(null==n?void 0:n.position)==="fixed"?"translateY(-100vh)":"unset"};
            position: relative;
            height: ${(null==n?void 0:n.position)==="fixed"?`calc(${p(t)} + 200vh)`:p(t)};
            width: 100%;
         }
         .video-background-${e.id} {
            object-fit: ${null!==(o=null==n?void 0:n.size)&&void 0!==o?o:"cover"};
            width: ${(null==n?void 0:n.offsetX)===null||(null==n?void 0:n.size)==="cover"?"100%":"auto"};
            height: ${(null==n?void 0:n.position)==="fixed"?"100vh":"100%"};
            position: ${(null==n?void 0:n.position)==="fixed"?"sticky":"relative"};
            top: ${(null==n?void 0:n.position)==="fixed"?"100vh":"unset"};
            ${n&&null!==n.offsetX&&"cover"!==n.size?`margin-left: ${100*n.offsetX}vw;`:""}
         }
         .image-background-${e.id} {
            object-fit: ${null==n?void 0:n.size};
            width: ${(null==n?void 0:n.offsetX)===null?"100%":"auto"};
            height: ${(null==n?void 0:n.position)==="fixed"?"100vh":"100%"};
            position: ${(null==n?void 0:n.position)==="fixed"?"sticky":"relative"};
            top: ${(null==n?void 0:n.position)==="fixed"?"100vh":"unset"};
            ${n&&null!==n.offsetX&&"cover"!==n.size?`margin-left: ${100*n.offsetX}vw;`:""}
         }
        `})}
      ${U.sort((e,t)=>e.startsWith-t.startsWith).reduce((t,r)=>{let n=e.hidden[r.id];return`
          ${t}
          ${(0,l.getLayoutMediaQuery)(r.id,U)} {
            .section-${e.id} {
              display: ${n?"none":"block"};
            }
          }`},"")}
    `})]})},t.getSectionHeight=p},1128:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSectionHeightMap=t.useSectionHeightData=void 0;let n=r(7294),o=r(7384),s=r(504);function a(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,(0,s.getSectionHeight)(t)]))}t.useSectionHeightData=e=>{let t=(0,n.useContext)(o.CntrlContext),r=t.layouts,s=t.getSectionHeightData(e);return s?a(s):r.reduce((e,t)=>Object.assign(Object.assign({},e),{[t.id]:"0"}),{})},t.getSectionHeightMap=a},3600:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeEmbedItem=void 0;let o=r(5893),s=r(7747),a=r(7294),l=r(1753),u=n(r(2335)),d=r(3267),c=r(4990),h=r(7004),p=r(5471),f={[s.AreaAnchor.TopLeft]:{},[s.AreaAnchor.TopCenter]:{justifyContent:"center"},[s.AreaAnchor.TopRight]:{justifyContent:"flex-end"},[s.AreaAnchor.MiddleLeft]:{alignItems:"center"},[s.AreaAnchor.MiddleCenter]:{justifyContent:"center",alignItems:"center"},[s.AreaAnchor.MiddleRight]:{justifyContent:"flex-end",alignItems:"center"},[s.AreaAnchor.BottomLeft]:{alignItems:"flex-end"},[s.AreaAnchor.BottomCenter]:{justifyContent:"center",alignItems:"flex-end"},[s.AreaAnchor.BottomRight]:{justifyContent:"flex-end",alignItems:"flex-end"}};t.CodeEmbedItem=({item:e,sectionId:t,onResize:r,interactionCtrl:n,onVisibilityChange:m})=>{var g,y,v,_,b,x,w,S,C,T;let E=(0,a.useId)(),{layouts:k,fonts:I}=(0,l.useCntrlContext)(),A=null==I?void 0:I.google,P=null==I?void 0:I.adobe,U=new s.FontFaceGenerator(null!==(g=null==I?void 0:I.custom)&&void 0!==g?g:[]).generate(),{anchor:z,blur:O,opacity:j}=(0,p.useCodeEmbedItem)(e,t),R=(0,c.useItemAngle)(e,t),{html:B}=e.commonParams,[M,L]=(0,a.useState)(null);(0,d.useRegisterResize)(M,r);let F=f[z],N=[e.area,e.layoutParams],D=null==n?void 0:n.getState(["angle","blur","opacity"]),$=null!==(v=null===(y=null==D?void 0:D.styles)||void 0===y?void 0:y.blur)&&void 0!==v?v:O,Z=null!==(b=null===(_=null==D?void 0:D.styles)||void 0===_?void 0:_.opacity)&&void 0!==b?b:j,V=null!==(w=null===(x=null==D?void 0:D.styles)||void 0===x?void 0:x.angle)&&void 0!==w?w:R;(0,a.useEffect)(()=>{if(M)for(let e of M.querySelectorAll("script")){let t=document.createElement("script");for(let r of e.getAttributeNames())t.setAttribute(r,e.getAttribute(r));t.textContent=e.textContent,e.parentNode.removeChild(e),M.appendChild(t)}},[e.commonParams.html]),(0,a.useEffect)(()=>{if(!M)return;let t=M.querySelector(`[data-embed="${e.id}"]`);if(!t)return;let r=`
      ${A}
      ${P}
      <style>
      ${U}
        html, body {
          height: 100%;
          margin: 0 !important;
          padding: 0 !important;
        }
      </style>
      ${e.commonParams.html}
    `;t.srcdoc=r},[e.commonParams.html,e.commonParams.iframe,M]);let G=0!==Z;return(0,a.useEffect)(()=>{null==m||m(G)},[G,m]),(0,o.jsxs)(h.LinkWrapper,{url:null===(S=e.link)||void 0===S?void 0:S.url,target:null===(C=e.link)||void 0===C?void 0:C.target,children:[(0,o.jsx)("div",{className:`embed-wrapper-${e.id}`,style:Object.assign(Object.assign(Object.assign(Object.assign({},void 0!==V?{transform:`rotate(${V}deg) translateZ(0)`}:{}),void 0!==$?{filter:`blur(${100*$}vw)`}:{}),void 0!==Z?{opacity:Z}:{}),{transition:null!==(T=null==D?void 0:D.transition)&&void 0!==T?T:"none"}),ref:L,children:e.commonParams.iframe?(0,o.jsx)("iframe",{"data-embed":e.id,className:`embed-${e.id}`,style:Object.assign(Object.assign({},F),{border:"unset"})}):(0,o.jsx)("div",{className:`embed-${e.id}`,style:Object.assign({},F),dangerouslySetInnerHTML:{__html:B}})}),(0,o.jsx)(u.default,{id:E,children:`
      .embed-wrapper-${e.id} {
        position: absolute;
        width: 100%;
        height: 100%;
      }
      .embed-${e.id} {
        transform: ${e.commonParams.scale?"scale(var(--layout-deviation))":"none"};
        transform-origin: top left;
        z-index: 1;
        border: none;
      }
      ${(0,s.getLayoutStyles)(k,N,([t,r],n)=>`
          .embed-wrapper-${e.id} {
            opacity: ${r.opacity};
            transform: rotate(${t.angle}deg) translateZ(0);
            filter: ${0!==r.blur?`blur(${100*r.blur}vw)`:"unset"};
          }
          .embed-${e.id} {
            width: ${e.commonParams.scale?`${t.width*n}px`:"100%"};
            height: ${e.commonParams.scale?`${t.height*n}px`:"100%"};
          }
        `)}
    `})]})}},5471:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useCodeEmbedItem=void 0;let n=r(7747),o=r(3877),s=r(9911);t.useCodeEmbedItem=function(e,t){let r=(0,o.useLayoutContext)(),a=(0,s.useKeyframeValue)(e,n.KeyframeType.Blur,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"blur"in r?r.blur:0},(e,t,r)=>void 0!==r?e.getBlur({blur:r},t).blur:void 0,t,[r]),l=(0,s.useKeyframeValue)(e,n.KeyframeType.Opacity,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"opacity"in r?r.opacity:1},(e,t,r)=>void 0!==r?e.getOpacity({opacity:r},t).opacity:void 0,t,[r]);return{anchor:r&&"areaAnchor"in e.layoutParams[r]?e.layoutParams[r].areaAnchor:n.AreaAnchor.TopLeft,blur:a,opacity:l}}},8181:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentItem=void 0;let o=r(5893),s=n(r(2335)),a=r(7747),l=r(7294),u=r(1753),d=r(7748),c=r(4990),h=r(3267),p=r(2247),f=r(3877);t.ComponentItem=({item:e,sectionId:t,onResize:r,interactionCtrl:n})=>{var m,g,y,v;let _=(0,u.useCntrlContext)(),{layouts:b}=_,x=(0,c.useItemAngle)(e,t),w=(0,f.useLayoutContext)(),S=[e.area,e.layoutParams],C=_.getComponent(e.commonParams.componentId),[T,E]=(0,l.useState)(null),{opacity:k,blur:I}=(0,d.useComponentItem)(e,t);(0,h.useRegisterResize)(T,r);let A=null==n?void 0:n.getState(["opacity","angle","blur"]),P=(0,p.getStyleFromItemStateAndParams)(null===(m=null==A?void 0:A.styles)||void 0===m?void 0:m.angle,x),U=(0,p.getStyleFromItemStateAndParams)(null===(g=null==A?void 0:A.styles)||void 0===g?void 0:g.opacity,k),z=(0,p.getStyleFromItemStateAndParams)(null===(y=null==A?void 0:A.styles)||void 0===y?void 0:y.blur,I),O=C?C.element:void 0,j=w?e.layoutParams[w].parameters:void 0;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:`custom-component-${e.id}`,ref:E,style:Object.assign(Object.assign(Object.assign(Object.assign({},void 0!==U?{opacity:U}:{}),void 0!==P?{transform:`rotate(${P}deg) translateZ(0)`}:{}),void 0!==z?{filter:`blur(${100*z}vw)`}:{}),{transition:null!==(v=null==A?void 0:A.transition)&&void 0!==v?v:"none"}),children:j&&O&&(0,o.jsx)(O,Object.assign({content:e.commonParams.content},j))}),(0,o.jsx)(s.default,{id:e.id,children:`
      .custom-component-${e.id} {
        width: 100%;
        height: 100%;
        pointer-events: auto;
      }
      ${(0,a.getLayoutStyles)(b,S,([t,r])=>`
          .custom-component-${e.id} {
            transform: rotate(${t.angle}deg) translateZ(0);
            opacity: ${r.opacity};
            filter: blur(${r.blur}vw);
          }
        `)}`})]})}},7748:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useComponentItem=void 0;let n=r(7747),o=r(9911),s=r(3877);t.useComponentItem=function(e,t){let r=(0,s.useLayoutContext)();return{opacity:(0,o.useKeyframeValue)(e,n.KeyframeType.Opacity,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"opacity"in r?r.opacity:1},(e,t,r)=>void 0!==r?e.getOpacity({opacity:r},t).opacity:void 0,t,[r]),blur:(0,o.useKeyframeValue)(e,n.KeyframeType.Blur,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"blur"in r?r.blur:0},(e,t,r)=>void 0!==r?e.getBlur({blur:r},t).blur:void 0,t,[r])}}},5645:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompoundChild=void 0;let o=r(5893),s=r(7294),a=r(1753),l=r(3877),u=r(1264),d=r(5093),c=r(2550),h=r(7747),p=n(r(2335)),f=r(1626),m=r(9355),g=r(7704),y=r(3165),v=r(757),_=r(3831),b=r(5796),x=r(2044),w=r(5879),S=()=>null;t.CompoundChild=({item:e,sectionId:t,isParentVisible:r=!0})=>{var n,C,T,E,k,I,A,P,U,z,O;let j=(0,s.useId)(),{layouts:R}=(0,a.useCntrlContext)(),B=(0,l.useLayoutContext)(),M=(0,u.useExemplary)(),{handleVisibilityChange:L,allowPointerEvents:F}=(0,x.useItemPointerEvents)(null!==(C=null===(n=e.commonParams)||void 0===n?void 0:n.pointerEvents)&&void 0!==C?C:"when_visible",r),N=(0,d.useItemScale)(e,t),D=(0,c.useItemInteractionCtrl)(e.id),$=(0,_.useItemTriggers)(D),Z=null==D?void 0:D.getState(["top","left","width","height"]),V=null==D?void 0:D.getState(["scale"]),G=B&&e.compoundSettings?e.compoundSettings[B]:void 0,{width:H,height:W,top:Y,left:K}=(0,w.useItemArea)(e,t,{top:null===(T=null==Z?void 0:Z.styles)||void 0===T?void 0:T.top,left:null===(E=null==Z?void 0:Z.styles)||void 0===E?void 0:E.left,width:null===(k=null==Z?void 0:Z.styles)||void 0===k?void 0:k.width,height:null===(I=null==Z?void 0:Z.styles)||void 0===I?void 0:I.height}),q=(0,s.useRef)(!0),X=(0,b.useSizing)(e),J=y.itemsMap[e.type]||S;(0,s.useEffect)(()=>{q.current=!1},[]);let Q=G?f.ScaleAnchorMap[G.positionAnchor]:"top left",ee=(0,m.isItemType)(e,h.ArticleItemType.RichText),et=null!==(P=null===(A=null==V?void 0:V.styles)||void 0===A?void 0:A.scale)&&void 0!==P?P:N,ei=null!==(U=null==D?void 0:D.getHasTrigger(e.id,"click"))&&void 0!==U&&U;if(!e.compoundSettings)return null;let er=[e.area,e.hidden,e.compoundSettings];return e.layoutParams&&er.push(e.layoutParams),(0,o.jsxs)("div",Object.assign({className:`item-${e.id}`,onTransitionEnd:e=>{var t;e.stopPropagation(),null===(t=null==D?void 0:D.handleTransitionEnd)||void 0===t||t.call(D,e.propertyName)},style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},void 0!==Y&&G?{top:(0,v.getCompoundTop)(G,Y)}:{}),void 0!==K&&G?{left:(0,v.getCompoundLeft)(G,K)}:{}),void 0!==H&&G?{width:`${"manual"===X.x?(0,v.getCompoundWidth)(G,H,ee,M):"max-content"}`}:{}),void 0!==W&&G?{height:`${"manual"===X.y?(0,v.getCompoundHeight)(G,W):"unset"}`}:{}),G?{transform:`${(0,v.getCompoundTransform)(G)}`}:{}),{transition:null!==(z=null==Z?void 0:Z.transition)&&void 0!==z?z:"none",cursor:ei?"pointer":"unset",pointerEvents:F?"auto":"none"})},$,{children:[(0,o.jsx)("div",{className:`item-${e.id}-inner`,style:Object.assign({transition:null!==(O=null==V?void 0:V.transition)&&void 0!==O?O:"none"},void 0!==et?{transform:`scale(${et})`}:{}),children:(0,o.jsx)(g.RichTextWrapper,{isRichText:ee,transformOrigin:Q,children:(0,o.jsx)(J,{item:e,sectionId:t,interactionCtrl:D,onVisibilityChange:L,isInCompound:!0})})}),(0,o.jsx)(p.default,{id:j,children:`
        ${(0,h.getLayoutStyles)(R,er,([t,r,n,o])=>{let s=(0,b.parseSizing)(o.sizing),a=t.scaleAnchor;return`
            .item-${e.id}-inner {
              width: 100%;
              height: 100%;
              transform-origin: ${f.ScaleAnchorMap[a]};
              transform: scale(${t.scale});
            }
            .item-${e.id} {
              position: absolute;
              top: ${(0,v.getCompoundTop)(n,t.top)};
              left: ${(0,v.getCompoundLeft)(n,t.left)};
              transition: opacity 0.2s linear 0.1s;
              display: ${r?"none":"block"};
              width: ${"manual"===s.x?`${(0,v.getCompoundWidth)(n,t.width,ee)}`:"max-content"};
              height: ${"manual"===s.y?`${(0,v.getCompoundHeight)(n,t.height)}`:"unset"};
              transform: ${(0,v.getCompoundTransform)(n)};
              z-index: ${t.zIndex};
            }
          `})}
      `})]}))}},5856:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompoundItem=void 0;let o=r(5893),s=r(7294),a=r(4990),l=r(1753),u=r(3267),d=r(2247),c=r(7004),h=n(r(2335)),p=r(7747),f=r(5645),m=r(1088);t.CompoundItem=({item:e,sectionId:t,onResize:r,interactionCtrl:n,onVisibilityChange:g})=>{var y,v,_,b,x;let w=(0,s.useId)(),{items:S}=e,C=(0,a.useItemAngle)(e,t),{layouts:T}=(0,l.useCntrlContext)(),{opacity:E}=(0,m.useCompoundItem)(e,t),k=[e.area,e.layoutParams],[I,A]=(0,s.useState)(null);(0,u.useRegisterResize)(I,r);let P=null==n?void 0:n.getState(["opacity","angle"]),U=(0,d.getStyleFromItemStateAndParams)(null===(y=null==P?void 0:P.styles)||void 0===y?void 0:y.angle,C),z=(0,d.getStyleFromItemStateAndParams)(null===(v=null==P?void 0:P.styles)||void 0===v?void 0:v.opacity,E),O=0!==z&&void 0!==z;return(0,s.useEffect)(()=>{null==g||g(O)},[O,g]),(0,o.jsx)(c.LinkWrapper,{url:null===(_=e.link)||void 0===_?void 0:_.url,target:null===(b=e.link)||void 0===b?void 0:b.target,children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:`compound-${e.id}`,ref:A,style:Object.assign(Object.assign(Object.assign({},void 0!==z?{opacity:z}:{}),void 0!==U?{transform:`rotate(${U}deg)`}:{}),{transition:null!==(x=null==P?void 0:P.transition)&&void 0!==x?x:"none"}),children:S&&S.map(e=>(0,o.jsx)(f.CompoundChild,{item:e,sectionId:t,isParentVisible:O},e.id))}),(0,o.jsx)(h.default,{id:w,children:`
        .compound-${e.id} {
          overflow: ${e.commonParams.overflow};
          position: absolute;
          width: 100%;
          height: 100%;
          box-sizing: border-box;
        }
        ${(0,p.getLayoutStyles)(T,k,([t,r])=>`
            .compound-${e.id} {
              opacity: ${r.opacity};
              transform: rotate(${t.angle}deg);
            }
          `)}
      `})]})})}},1088:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useCompoundItem=void 0;let n=r(7747),o=r(3877),s=r(9911);t.useCompoundItem=function(e,t){let r=(0,o.useLayoutContext)();return{opacity:(0,s.useKeyframeValue)(e,n.KeyframeType.Opacity,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"opacity"in r?r.opacity:1},(e,t,r)=>void 0!==r?e.getOpacity({opacity:r},t).opacity:void 0,t,[r])}}},8174:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomItem=void 0;let o=r(5893),s=r(7747),a=r(7294),l=r(1753),u=n(r(2335)),d=r(3267),c=r(4990);t.CustomItem=({item:e,onResize:t,sectionId:r,interactionCtrl:n})=>{var h,p,f;let m=(0,l.useCntrlContext)(),{layouts:g}=(0,l.useCntrlContext)(),y=(0,c.useItemAngle)(e,r),v=m.customItems.get(e.commonParams.name),_=[e.area],[b,x]=(0,a.useState)(null);(0,d.useRegisterResize)(b,t);let w=null==n?void 0:n.getState(["angle"]),S=null!==(p=null===(h=null==w?void 0:w.styles)||void 0===h?void 0:h.angle)&&void 0!==p?p:y;return v?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:`custom-component-${e.id}`,ref:x,style:Object.assign(Object.assign({},void 0!==S?{transform:`rotate(${S}deg)`}:{}),{transition:null!==(f=null==w?void 0:w.transition)&&void 0!==f?f:"none"}),children:v({})}),(0,o.jsx)(u.default,{id:e.id,children:`${(0,s.getLayoutStyles)(g,_,([t])=>`
            .custom-component-${e.id} {
              transform: rotate(${t.angle}deg);
              height: 100%;
              width: 100%;
              position: absolute;
              left: 0;
              top: 0;
            }
          `)}`})]}):null}},673:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,s){function a(e){try{u(n.next(e))}catch(e){s(e)}}function l(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,l)}u((n=n.apply(e,t||[])).next())})},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VimeoEmbedItem=void 0;let s=r(5893),a=r(7747),l=o(r(8333)),u=r(7294),d=o(r(2335)),c=r(4990),h=r(1753),p=r(3267),f=r(2247),m=r(2242),g=r(7004);t.VimeoEmbedItem=({item:e,sectionId:t,onResize:r,interactionCtrl:o,onVisibilityChange:y})=>{var v,_,b,x,w,S,C,T,E;let k=(0,u.useId)(),{layouts:I}=(0,h.useCntrlContext)(),{radius:A,blur:P,opacity:U}=(0,m.useEmbedVideoItem)(e,t),[z,O]=(0,u.useState)(null),j=(0,u.useMemo)(()=>z?new l.default(z):void 0,[z]),R=(0,c.useItemAngle)(e,t),{play:B,controls:M,loop:L,muted:F,pictureInPicture:N,url:D}=e.commonParams,[$,Z]=(0,u.useState)(null),[V,G]=(0,u.useState)(null),[H,W]=(0,u.useState)(!1),Y=[e.area,e.layoutParams],K=null==o?void 0:o.getState(["angle","blur","opacity"]),q=null==o?void 0:o.getState(["radius"]),X=(0,f.getStyleFromItemStateAndParams)(null===(v=null==K?void 0:K.styles)||void 0===v?void 0:v.angle,R),J=(0,f.getStyleFromItemStateAndParams)(null===(_=null==K?void 0:K.styles)||void 0===_?void 0:_.blur,P),Q=(0,f.getStyleFromItemStateAndParams)(null===(b=null==K?void 0:K.styles)||void 0===b?void 0:b.opacity,U),ee=(0,f.getStyleFromItemStateAndParams)(null===(x=null==q?void 0:q.styles)||void 0===x?void 0:x.radius,A);(0,p.useRegisterResize)($,r);let et=(e=>{let t=new URL(e);return t.searchParams.append("controls",String(M)),t.searchParams.append("autoplay",String("auto"===B)),t.searchParams.append("muted",String(F)),t.searchParams.append("loop",String(L)),t.searchParams.append("pip",String(N)),t.searchParams.append("title","0"),t.searchParams.append("byline","0"),t.searchParams.append("portrait","0"),t.searchParams.append("autopause","false"),t.href})(D);(0,u.useEffect)(()=>{j&&V&&("on-click"===B&&W(!0),j.on("pause",e=>{0===e.seconds&&W(!0)}),j.on("ended",()=>{W(!0)}))},[j,V]);let ei=()=>{j&&V&&(j.play(),W(!1))},er=0!==Q;return(0,u.useEffect)(()=>{null==y||y(er),!er&&j&&j.pause()},[er,y,j]),(0,u.useEffect)(()=>{j&&o&&o.setActionReceiver(e=>{switch(e){case"play":j.play();break;case"pause":j.pause()}})},[o,j]),(0,s.jsxs)(g.LinkWrapper,{url:null===(w=e.link)||void 0===w?void 0:w.url,target:null===(S=e.link)||void 0===S?void 0:S.target,children:[(0,s.jsxs)("div",{className:`embed-video-wrapper-${e.id}`,ref:Z,style:Object.assign(Object.assign(Object.assign(Object.assign({},void 0!==Q?{opacity:Q}:{}),void 0!==X?{transform:`rotate(${X}deg) translateZ(0)`}:{}),void 0!==J?{filter:`blur(${100*J}vw)`}:{}),{transition:null!==(C=null==K?void 0:K.transition)&&void 0!==C?C:"none"}),onMouseEnter:()=>{j&&"on-hover"===B&&j.play()},onMouseLeave:()=>{j&&"on-hover"===B&&j.pause()},children:[e.commonParams.coverUrl&&(0,s.jsx)("img",{ref:G,onClick:()=>ei(),src:null!==(T=e.commonParams.coverUrl)&&void 0!==T?T:"",style:{display:H?"block":"none",cursor:"pointer",position:"absolute",objectFit:"cover",height:"100%",width:"100%",top:"0",left:"0"},alt:"Cover img"}),!e.commonParams.controls&&("on-click"===B||"auto"===B)&&(0,s.jsx)("div",{onClick:()=>n(void 0,void 0,void 0,function*(){j&&((yield j.getPaused())?(j.play(),W(!1)):j.pause())}),style:{position:"absolute",height:"100%",width:"100%",top:"0",left:"0"}}),(0,s.jsx)("iframe",{ref:O,className:"embed-video",src:et||"",allow:"autoplay; fullscreen; picture-in-picture;",allowFullScreen:!0,style:Object.assign(Object.assign({},void 0!==ee?{borderRadius:`${100*ee}vw`}:{}),{transition:null!==(E=null==q?void 0:q.transition)&&void 0!==E?E:"none"})})]}),(0,s.jsx)(d.default,{id:k,children:`
      .embed-video-wrapper-${e.id} {
        position: absolute;
        width: 100%;
        height: 100%;
      }
      .embed-video {
        width: 100%;
        height: 100%;
        z-index: 1;
        border: none;
        overflow: hidden;
      }
      ${(0,a.getLayoutStyles)(I,Y,([t,r])=>`
          .embed-video-wrapper-${e.id} {
            opacity: ${r.opacity};
            transform: rotate(${t.angle}deg) translateZ(0);
            filter: ${0!==r.blur?`blur(${100*r.blur}vw)`:"unset"};
          }
          .embed-video-wrapper-${e.id} .embed-video {
            border-radius: ${100*r.radius}vw;
          }
        `)}
    `})]})}},7155:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.YoutubeEmbedItem=void 0;let o=r(5893),s=r(7294),a=n(r(2335)),l=r(7004),u=r(474),d=r(2242),c=r(4990),h=r(7747),p=r(1753),f=r(7061),m=r(3267),g=r(2247);t.YoutubeEmbedItem=({item:e,sectionId:t,onResize:r,interactionCtrl:n,onVisibilityChange:y})=>{var v,_,b,x,w,S,C,T,E;let k=(0,s.useId)(),{layouts:I}=(0,p.useCntrlContext)(),{play:A,controls:P,url:U}=e.commonParams,{radius:z,blur:O,opacity:j}=(0,d.useEmbedVideoItem)(e,t),R=(0,c.useItemAngle)(e,t),B=(0,f.useYouTubeIframeApi)(),[M,L]=(0,s.useState)(null),[F,N]=(0,s.useState)(void 0),[D,$]=(0,s.useState)(!1),[Z,V]=(0,s.useState)(null),G=[e.area,e.layoutParams],H=null==n?void 0:n.getState(["angle","blur","opacity"]),W=null==n?void 0:n.getState(["radius"]),Y=(0,g.getStyleFromItemStateAndParams)(null===(v=null==H?void 0:H.styles)||void 0===v?void 0:v.angle,R),K=(0,g.getStyleFromItemStateAndParams)(null===(_=null==H?void 0:H.styles)||void 0===_?void 0:_.blur,O),q=(0,g.getStyleFromItemStateAndParams)(null===(b=null==H?void 0:H.styles)||void 0===b?void 0:b.opacity,j),X=(0,g.getStyleFromItemStateAndParams)(null===(x=null==W?void 0:W.styles)||void 0===x?void 0:x.radius,z),J=0!==q;(0,s.useEffect)(()=>{null==y||y(J)},[J,y]),(0,m.useRegisterResize)(M,r),(0,s.useEffect)(()=>{let e=new URL(U),t=(0,u.getYoutubeId)(e);if(!B||!t||!M)return;let r=document.createElement("div");M.appendChild(r);let n=new B.Player(r,{videoId:t,playerVars:{autoplay:"auto"===A?"1":"0",controls:P?"1":"0"},events:{onStateChange:e=>{"auto"===A&&(1===e.data&&$(!1),(2===e.data||-1===e.data)&&$(!0))},onReady:e=>{N(e.target),"on-click"!==A&&n.mute()}}});return()=>{var e;N(void 0),n.destroy(),null===(e=r.parentElement)||void 0===e||e.removeChild(r)}},[B,M]);let Q=()=>{F&&Z&&(F.playVideo(),$(!1))};return(0,s.useEffect)(()=>{"on-click"!==A||P||$(!0)},[]),(0,s.useEffect)(()=>{null==y||y(J),!J&&F&&F.pauseVideo()},[J,y,F]),(0,s.useEffect)(()=>{F&&n&&n.setActionReceiver(e=>{switch(e){case"play":F.playVideo();break;case"pause":F.pauseVideo()}})},[n,F]),(0,o.jsxs)(l.LinkWrapper,{url:null===(w=e.link)||void 0===w?void 0:w.url,target:null===(S=e.link)||void 0===S?void 0:S.target,children:[(0,o.jsxs)("div",{className:`embed-youtube-video-wrapper-${e.id}`,onMouseEnter:()=>{F&&"on-hover"===A&&F.playVideo()},onMouseLeave:()=>{F&&"on-hover"===A&&F.pauseVideo()},style:Object.assign(Object.assign(Object.assign(Object.assign({},void 0!==q?{opacity:q}:{}),void 0!==Y?{transform:`rotate(${Y}deg) translateZ(0)`}:{}),void 0!==K?{filter:`blur(${100*K}vw)`}:{}),{transition:null!==(C=null==H?void 0:H.transition)&&void 0!==C?C:"none"}),children:[e.commonParams.coverUrl&&(0,o.jsx)("img",{ref:V,onClick:()=>Q(),src:null!==(T=e.commonParams.coverUrl)&&void 0!==T?T:"",style:{display:D?"block":"none",cursor:"pointer",position:"absolute",objectFit:"cover",height:"100%",width:"100%",top:"0",left:"0",zIndex:1},alt:"Cover img"}),(0,o.jsx)("div",{className:`embed-${e.id}`,ref:L,style:Object.assign(Object.assign({},void 0!==X?{borderRadius:`${100*X}vw`}:{}),{transition:null!==(E=null==W?void 0:W.transition)&&void 0!==E?E:"none"})})]}),(0,o.jsx)(a.default,{id:k,children:`
        .embed-youtube-video-wrapper-${e.id},
        .embed-${e.id} {
          position: absolute;
          width: 100%;
          height: 100%;
        }
        .embed-${e.id} {
          overflow: hidden;
        }
        .embed-youtube-video-wrapper-${e.id} iframe {
          width: 100%;
          height: 100%;
          z-index: 1;
          border: none;
        }
        ${(0,h.getLayoutStyles)(I,G,([t,r])=>`
            .embed-youtube-video-wrapper-${e.id} {
              opacity: ${r.opacity};
              transform: rotate(${t.angle}deg) translateZ(0);
              filter: ${0!==r.blur?`blur(${100*r.blur}vw)`:"unset"};
            }
            .embed-youtube-video-wrapper-${e.id} .embed-${e.id} {
              border-radius: ${100*r.radius}vw;
            }
          `)}
      `})]})}},2242:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useEmbedVideoItem=void 0;let n=r(7747),o=r(9911),s=r(3877);t.useEmbedVideoItem=(e,t)=>{let r=(0,s.useLayoutContext)();return{radius:(0,o.useKeyframeValue)(e,n.KeyframeType.BorderRadius,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"radius"in r?r.radius:0},(e,t,r)=>void 0!==r?e.getRadius({radius:r},t).radius:void 0,t,[r]),blur:(0,o.useKeyframeValue)(e,n.KeyframeType.Blur,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"blur"in r?r.blur:0},(e,t,r)=>void 0!==r?e.getBlur({blur:r},t).blur:void 0,t,[r]),opacity:(0,o.useKeyframeValue)(e,n.KeyframeType.Opacity,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"opacity"in r?r.opacity:1},(e,t,r)=>void 0!==r?e.getOpacity({opacity:r},t).opacity:void 0,t,[r])}}},6638:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ImageItem=void 0;let o=r(5893),s=r(7294),a=n(r(2335)),l=r(3799),u=r(7747),d=r(7004),c=r(2399),h=r(4990),p=r(1753),f=r(3267),m=r(4574),g=r(5301),y=r(3877),v=r(2247),_=r(4754);t.ImageItem=({item:e,sectionId:t,onResize:r,interactionCtrl:n,onVisibilityChange:b})=>{var x,w,S,C,T,E,k,I,A,P,U,z,O;let j=(0,s.useId)(),{layouts:R}=(0,p.useCntrlContext)(),B=(0,y.useLayoutContext)(),{radius:M,strokeWidth:L,opacity:F,strokeColor:N,blur:D}=(0,c.useFileItem)(e,t),$=(0,h.useItemAngle)(e,t),[Z,V]=(0,s.useState)(null);(0,f.useRegisterResize)(Z,r);let{url:G,hasGLEffect:H}=e.commonParams,W=(0,s.useRef)(null),Y=(0,s.useRef)(!0),K=[e.area,e.layoutParams],{controlsValues:q,fragmentShader:X}=(0,_.useItemFXData)(e,t),J=B?e.area[B]:null,Q=null===(x=null==R?void 0:R.find(e=>e.id===B))||void 0===x?void 0:x.exemplary,ee=J&&Q?J.width*Q:0,et=J&&Q?J.height*Q:0,ei=null==n?void 0:n.getState(["angle","opacity","blur"]),er=null==n?void 0:n.getState(["strokeWidth","radius","strokeColor"]);(0,s.useEffect)(()=>{Y.current=!1},[]);let en=(0,m.useImageFx)(W.current,!!(H&&!Y.current),{imageUrl:G,fragmentShader:X,controlsValues:q},ee,et),eo=(0,g.useElementRect)(Z),es=Math.floor(null!==(w=null==eo?void 0:eo.width)&&void 0!==w?w:0),ea=Math.floor(null!==(S=null==eo?void 0:eo.height)&&void 0!==S?S:0),el=(0,s.useMemo)(()=>{var e;let t=(0,v.getStyleFromItemStateAndParams)(null===(e=null==er?void 0:er.styles)||void 0===e?void 0:e.strokeColor,N);return t?l.CntrlColor.parse(t):void 0},[N,null===(C=null==er?void 0:er.styles)||void 0===C?void 0:C.strokeColor]),eu=(0,v.getStyleFromItemStateAndParams)(null===(T=null==er?void 0:er.styles)||void 0===T?void 0:T.radius,M),ed=(0,v.getStyleFromItemStateAndParams)(null===(E=null==er?void 0:er.styles)||void 0===E?void 0:E.strokeWidth,L),ec=(0,v.getStyleFromItemStateAndParams)(null===(k=null==ei?void 0:ei.styles)||void 0===k?void 0:k.angle,$),eh=(0,v.getStyleFromItemStateAndParams)(null===(I=null==ei?void 0:ei.styles)||void 0===I?void 0:I.opacity,F),ep=(0,v.getStyleFromItemStateAndParams)(null===(A=null==ei?void 0:ei.styles)||void 0===A?void 0:A.blur,D),ef=Object.assign(Object.assign(Object.assign(Object.assign({},el?{borderColor:`${el.fmt("rgba")}`}:{}),void 0!==eu?{borderRadius:`${100*eu}vw`}:{}),void 0!==ed?{borderWidth:`${100*ed}vw`}:{}),{transition:null!==(P=null==er?void 0:er.transition)&&void 0!==P?P:"none"}),em=0!==eh;return(0,s.useEffect)(()=>{null==b||b(em)},[em,b]),(0,o.jsx)(d.LinkWrapper,{url:null===(U=e.link)||void 0===U?void 0:U.url,target:null===(z=e.link)||void 0===z?void 0:z.target,children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:`image-wrapper-${e.id}`,ref:V,style:Object.assign(Object.assign(Object.assign(Object.assign({},void 0!==eh?{opacity:eh}:{}),void 0!==ec?{transform:`rotate(${ec}deg) translateZ(0)`}:{}),void 0!==ep?{filter:`blur(${100*ep}vw)`}:{}),{transition:null!==(O=null==ei?void 0:ei.transition)&&void 0!==O?O:"none"}),children:H&&en?(0,o.jsx)("canvas",{style:ef,ref:W,className:`img-canvas image-${e.id}`,width:es,height:ea}):(0,o.jsx)("img",{alt:"",className:`image image-${e.id}`,style:ef,src:e.commonParams.url})}),(0,o.jsx)(a.default,{id:j,children:`
        .image-wrapper-${e.id} {
          position: absolute;
          width: 100%;
          height: 100%;
          box-sizing: border-box;
          display: flex;
        }
        .image {
          width: 100%;
          height: 100%;
          opacity: 1;
          object-fit: cover;
          pointer-events: none;
          border-style: solid;
          overflow: hidden;
          box-sizing: border-box;
        }
        .img-canvas {
          border: solid;
          width: 100%;
          height: 100%;
          pointer-events: none;
          border-width: 0;
          box-sizing: border-box;
        }
        ${(0,u.getLayoutStyles)(R,K,([t,r])=>`
            .image-wrapper-${e.id} {
              opacity: ${r.opacity};
              transform: rotate(${t.angle}deg) translateZ(0);
              filter: ${0!==r.blur?`blur(${100*r.blur}vw)`:"unset"};
            }
            .image-${e.id} {
              border-color: ${l.CntrlColor.parse(r.strokeColor).fmt("rgba")};
              border-radius: ${100*r.radius}vw;
              border-width: ${100*r.strokeWidth}vw;
            }
          `)}
      `})]})})}},8420:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoItem=void 0;let o=r(5893),s=r(7294),a=n(r(2335)),l=r(3799),u=r(7747),d=r(7004),c=r(2399),h=r(4990),p=r(1753),f=r(3267),m=r(3877),g=r(3512),y=r(2247),v=r(6089),_=r(5301),b=r(4754);t.VideoItem=({item:e,sectionId:t,onResize:r,interactionCtrl:n,onVisibilityChange:x})=>{var w,S,C,T,E,k,I,A,P,U,z,O,j,R;let B=(0,s.useId)(),{layouts:M}=(0,p.useCntrlContext)(),L=(0,m.useLayoutContext)(),{radius:F,strokeWidth:N,strokeColor:D,opacity:$,blur:Z}=(0,c.useFileItem)(e,t),V=(0,h.useItemAngle)(e,t),[G,H]=(0,s.useState)(null),W=(0,s.useRef)(null),Y=(0,s.useRef)(null),{url:K,hasGLEffect:q}=e.commonParams,X=(0,s.useRef)(!0),J=L?e.area[L]:null,Q=null===(w=null==M?void 0:M.find(e=>e.id===L))||void 0===w?void 0:w.exemplary,ee=J&&Q?J.width*Q:0,et=J&&Q?J.height*Q:0,{controlsValues:ei,fragmentShader:er}=(0,b.useItemFXData)(e,t),en=(0,_.useElementRect)(G),eo=Math.floor(null!==(S=null==en?void 0:en.width)&&void 0!==S?S:0),es=Math.floor(null!==(C=null==en?void 0:en.height)&&void 0!==C?C:0),ea=L?e.layoutParams[L].scrollPlayback:null,el=[e.area,e.layoutParams],eu=null!==ea,ed=null==n?void 0:n.getState(["angle","opacity","blur"]),ec=null==n?void 0:n.getState(["strokeWidth","radius","strokeColor"]),eh=(0,s.useMemo)(()=>{var e;let t=(0,y.getStyleFromItemStateAndParams)(null===(e=null==ec?void 0:ec.styles)||void 0===e?void 0:e.color,D);return t?l.CntrlColor.parse(t):void 0},[null===(T=null==ec?void 0:ec.styles)||void 0===T?void 0:T.color,D]),ep=(0,y.getStyleFromItemStateAndParams)(null===(E=null==ed?void 0:ed.styles)||void 0===E?void 0:E.angle,V),ef=(0,y.getStyleFromItemStateAndParams)(null===(k=null==ed?void 0:ed.styles)||void 0===k?void 0:k.opacity,$),em=(0,y.getStyleFromItemStateAndParams)(null===(I=null==ed?void 0:ed.styles)||void 0===I?void 0:I.blur,Z),eg=(0,y.getStyleFromItemStateAndParams)(null===(A=null==ed?void 0:ed.styles)||void 0===A?void 0:A.strokeWidth,N),ey=(0,y.getStyleFromItemStateAndParams)(null===(P=null==ed?void 0:ed.styles)||void 0===P?void 0:P.radius,F);(0,s.useEffect)(()=>{X.current=!1},[]);let ev=(0,v.useVideoFx)(Y.current,!!(q&&!X.current),{videoUrl:K,fragmentShader:er,controls:ei},ee,et);(0,f.useRegisterResize)(G,r);let e_=Object.assign(Object.assign(Object.assign(Object.assign({},void 0!==ey?{borderRadius:`${100*ey}vw`}:{}),void 0!==eg?{borderWidth:`${100*eg}vw`}:{}),eh?{borderColor:`${eh.toCss()}`}:{}),{transition:null!==(U=null==ec?void 0:ec.transition)&&void 0!==U?U:"none"}),eb=0!==ef;return(0,s.useEffect)(()=>{null==x||x(eb)},[eb,x]),(0,o.jsxs)(d.LinkWrapper,{url:null===(z=e.link)||void 0===z?void 0:z.url,target:null===(O=e.link)||void 0===O?void 0:O.target,children:[(0,o.jsx)("div",{className:`video-wrapper-${e.id}`,ref:H,style:Object.assign(Object.assign(Object.assign(Object.assign({},void 0!==ef?{opacity:ef}:{}),void 0!==ep?{transform:`rotate(${ep}deg) translateZ(0)`}:{}),void 0!==em?{filter:`blur(${100*em}vw)`}:{}),{transition:null!==(j=null==ed?void 0:ed.transition)&&void 0!==j?j:"none"}),children:eu?(0,o.jsx)(g.ScrollPlaybackVideo,{sectionId:t,src:e.commonParams.url,playbackParams:ea,style:e_,className:`video video-playback-wrapper video-${e.id}`}):(0,o.jsx)(o.Fragment,{children:q&&ev?(0,o.jsx)("canvas",{style:e_,ref:Y,className:`video-canvas video-${e.id}`,width:eo,height:es}):(0,o.jsx)("video",{poster:null!==(R=e.commonParams.coverUrl)&&void 0!==R?R:"",ref:W,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:`video video-${e.id}`,style:e_,children:(0,o.jsx)("source",{src:e.commonParams.url})})})}),(0,o.jsx)(a.default,{id:B,children:`
        .video-wrapper-${e.id} {
          position: absolute;
          overflow: hidden;
          width: 100%;
          height: 100%;
          box-sizing: border-box;
          opacity: ${ef};
        }
        .video {
          width: 100%;
          height: 100%;
          box-sizing: border-box;
          opacity: 1;
          object-fit: cover;
          overflow: hidden;
          border-style: solid;
        }
        .video-${e.id} {
          border-color: ${D};
        }
        .video-playback-wrapper {
          display: flex;
          justify-content: center;
        }
        .video-canvas {
          border: solid;
          width: 100%;
          height: 100%;
          pointer-events: none;
          border-width: 0;
          box-sizing: border-box;
        }
        ${(0,u.getLayoutStyles)(M,el,([t,r])=>`
            .video-wrapper-${e.id} {
              opacity: ${r.opacity};
              transform: rotate(${t.angle}deg) translateZ(0);
              filter: ${0!==r.blur?`blur(${100*r.blur}vw)`:"unset"};
            }
            .video-${e.id} {
              border-color: ${l.CntrlColor.parse(r.strokeColor).fmt("rgba")};
              border-radius: ${100*r.radius}vw;
              border-width: ${100*r.strokeWidth}vw;
            }
          `)}
    `})]})}},2399:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFileItem=void 0;let n=r(7747),o=r(9911),s=r(3877);t.useFileItem=function(e,t){let r=(0,s.useLayoutContext)(),a=(0,o.useKeyframeValue)(e,n.KeyframeType.BorderRadius,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"radius"in r?r.radius:0},(e,t,r)=>void 0!==r?e.getRadius({radius:r},t).radius:void 0,t,[r]),l=(0,o.useKeyframeValue)(e,n.KeyframeType.BorderWidth,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"strokeWidth"in r?r.strokeWidth:0},(e,t,r)=>void 0!==r?e.getBorderWidth({borderWidth:r},t).borderWidth:void 0,t,[r]);return{radius:a,strokeWidth:l,opacity:(0,o.useKeyframeValue)(e,n.KeyframeType.Opacity,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"opacity"in r?r.opacity:1},(e,t,r)=>void 0!==r?e.getOpacity({opacity:r},t).opacity:void 0,t,[r]),strokeColor:(0,o.useKeyframeValue)(e,n.KeyframeType.BorderColor,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"strokeColor"in r?r.strokeColor:"rgba(0, 0, 0, 1)"},(e,t,r)=>r?e.getBorderColor({color:r},t).color:void 0,t,[r]),blur:(0,o.useKeyframeValue)(e,n.KeyframeType.Blur,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"blur"in r?r.blur:0},(e,t,r)=>void 0!==r?e.getBlur({blur:r},t).blur:void 0,t,[r])}}},3806:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GroupItem=void 0;let o=r(5893),s=r(7294),a=r(2565),l=n(r(2335)),u=r(7747),d=r(7004),c=r(3267),h=r(1753),p=r(4990),f=r(3526),m=r(2247),g=r(5645);t.GroupItem=({item:e,sectionId:t,onResize:r,interactionCtrl:n,onVisibilityChange:y,isInCompound:v})=>{var _,b,x,w,S,C;let T=(0,s.useId)(),{items:E}=e,k=(0,p.useItemAngle)(e,t),{layouts:I}=(0,h.useCntrlContext)(),{opacity:A,blur:P}=(0,f.useGroupItem)(e,t),U=[e.area,e.layoutParams],[z,O]=(0,s.useState)(null);(0,c.useRegisterResize)(z,r);let j=null==n?void 0:n.getState(["opacity","angle","blur"]),R=(0,m.getStyleFromItemStateAndParams)(null===(_=null==j?void 0:j.styles)||void 0===_?void 0:_.angle,k),B=(0,m.getStyleFromItemStateAndParams)(null===(b=null==j?void 0:j.styles)||void 0===b?void 0:b.opacity,A),M=(0,m.getStyleFromItemStateAndParams)(null===(x=null==j?void 0:j.styles)||void 0===x?void 0:x.blur,P),L=0!==B&&void 0!==B;return(0,s.useEffect)(()=>{null==y||y(L)},[L,y]),(0,o.jsx)(d.LinkWrapper,{url:null===(w=e.link)||void 0===w?void 0:w.url,target:null===(S=e.link)||void 0===S?void 0:S.target,children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:`group-${e.id}`,ref:O,style:Object.assign(Object.assign(Object.assign(Object.assign({},void 0!==B?{opacity:B}:{}),void 0!==R?{transform:`rotate(${R}deg) translateZ(0)`}:{}),void 0!==M?{filter:`blur(${100*M}vw)`}:{}),{transition:null!==(C=null==j?void 0:j.transition)&&void 0!==C?C:"none"}),children:E&&E.map(e=>v?(0,o.jsx)(g.CompoundChild,{item:e,sectionId:t,isParentVisible:L},e.id):(0,o.jsx)(a.Item,{item:e,sectionId:t,isParentVisible:L,isInGroup:!0},e.id))}),(0,o.jsx)(l.default,{id:T,children:`
        .group-${e.id} {
          position: absolute;
          width: 100%;
          height: 100%;
          box-sizing: border-box;
        }
        ${(0,u.getLayoutStyles)(I,U,([t,r])=>`
            .group-${e.id} {
              opacity: ${r.opacity};
              transform: rotate(${t.angle}deg) translateZ(0);
            }
          `)}
      `})]})})}},3526:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useGroupItem=void 0;let n=r(9911),o=r(7747),s=r(3877);t.useGroupItem=function(e,t){let r=(0,s.useLayoutContext)();return{opacity:(0,n.useKeyframeValue)(e,o.KeyframeType.Opacity,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"opacity"in r?r.opacity:1},(e,t,r)=>void 0!==r?e.getOpacity({opacity:r},t).opacity:void 0,t,[r]),blur:(0,n.useKeyframeValue)(e,o.KeyframeType.Blur,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"blur"in r?r.blur:0},(e,t,r)=>void 0!==r?e.getBlur({blur:r},t).blur:void 0,t,[r])}}},2565:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Item=void 0;let o=r(5893),s=r(7294),a=n(r(2335)),l=r(7747),u=r(1753),d=r(5093),c=r(1626),h=r(1128),p=r(4398),f=r(1756),m=r(6281),g=r(3877),y=r(8316),v=r(1264),_=r(8775),b=r(2550),x=r(9355),w=r(7704),S=r(3165),C=r(3831),T=r(5796),E=r(2044),k=r(5879),I=r(2623),A=`
  -webkit-transform: translate3d(0, 0, 0);
  transform: translate3d(0, 0, 0);
`,P=()=>null;t.Item=({item:e,sectionId:t,articleHeight:r,isParentVisible:n=!0,isInGroup:U=!1})=>{var z,O,j,R,B,M,L,F,N,D,$;let Z=(0,s.useRef)(null),V=(0,s.useRef)(null),G=(0,s.useContext)(y.ArticleRectContext),H=(0,s.useContext)(_.KeyframesContext),W=(0,s.useId)(),Y=(0,s.useMemo)(()=>H.getItemKeyframes(e.id),[H,e.id]),{layouts:K}=(0,u.useCntrlContext)(),q=(0,g.useLayoutContext)(),X=(0,v.useExemplary)(),{handleVisibilityChange:J,allowPointerEvents:Q}=(0,E.useItemPointerEvents)(null!==(z=e.commonParams.pointerEvents)&&void 0!==z?z:"when_visible",n),[ee,et]=(0,s.useState)(void 0),[ei,er]=(0,s.useState)(void 0),en=(0,d.useItemScale)(e,t),eo=(0,b.useItemInteractionCtrl)(e.id),es=(0,C.useItemTriggers)(eo),[ea,el]=(0,s.useState)({x:0,y:0}),[eu,ed]=(0,s.useState)(!1),ec=null==eo?void 0:eo.getState(["top","left"]),eh=null==eo?void 0:eo.getState(["width","height","scale","top","left"]),{width:ep,height:ef,top:em,left:eg}=(0,k.useItemArea)(e,t,{top:null===(O=null==ec?void 0:ec.styles)||void 0===O?void 0:O.top,left:null===(j=null==ec?void 0:ec.styles)||void 0===j?void 0:j.left,width:null===(R=null==eh?void 0:eh.styles)||void 0===R?void 0:R.width,height:null===(B=null==eh?void 0:eh.styles)||void 0===B?void 0:B.height}),ey=(0,h.useSectionHeightData)(t),ev=(0,f.useStickyItemTop)(e,t,null===(M=null==ec?void 0:ec.styles)||void 0===M?void 0:M.top),e_=[e.area,e.hidden];e_.push(e.sticky),e_.push(ey),e.layoutParams&&e_.push(e.layoutParams);let eb=(0,T.useSizing)(e),ex=S.itemsMap[e.type]||P,ew=G?G.getSectionTop(t):0,eS=q?e.layoutParams[q]:void 0,eC=eS&&"isDraggable"in eS?eS.isDraggable:void 0;(0,I.useDraggable)({draggableRef:V.current,isEnabled:null!=eC&&eC},({startX:e,startY:t,currentX:r,currentY:n,lastX:o,lastY:s,drag:a})=>{V.current&&(a?(ed(!0),el({x:r-e+o,y:n-t+s})):ed(!1))});let eT=(0,x.isItemType)(e,l.ArticleItemType.RichText),eE=q?e.area[q].anchorSide:l.AnchorSide.Top,ek=(q?e.area[q].positionType:l.PositionType.ScreenBased)===l.PositionType.ScreenBased&&eE===l.AnchorSide.Bottom,eI=null!==(F=null===(L=null==eh?void 0:eh.styles)||void 0===L?void 0:L.scale)&&void 0!==F?F:en,eA=null!==(N=null==eo?void 0:eo.getHasTrigger(e.id,"click"))&&void 0!==N&&N;return(0,o.jsxs)("div",{className:`item-wrapper-${e.id}`,ref:Z,onTransitionEnd:e=>{var t;e.stopPropagation(),null===(t=null==eo?void 0:eo.handleTransitionEnd)||void 0===t||t.call(eo,e.propertyName)},style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},void 0!==em?{top:ek?"unset":(0,p.getItemTopStyle)(em,eE)}:{}),void 0!==eg?{left:`${100*eg}vw`}:{}),void 0!==em?{bottom:ek?`${-(100*em)}vw`:"unset"}:{}),void 0!==ee?{height:`${100*ee}vw`}:{}),{transition:null!==(D=null==ec?void 0:ec.transition)&&void 0!==D?D:"none"}),children:[(0,o.jsx)("div",{suppressHydrationWarning:!0,className:`item-${e.id}`,style:{opacity:0===Y.length||q?1:0,top:`${100*ev}vw`,height:eT&&void 0!==ei?`${100*ei}vw`:"unset"},children:(0,o.jsx)(w.RichTextWrapper,{isRichText:eT,children:(0,o.jsx)("div",Object.assign({className:`item-${e.id}-inner`,ref:V,style:Object.assign(Object.assign(Object.assign({top:`${ea.y}px`,left:`${ea.x}px`},void 0!==ep&&void 0!==ef?{width:`${"manual"===eb.x?eT?`${ep*X}px`:`${100*ep}vw`:"max-content"}`,height:`${"manual"===eb.y?`${100*ef}vw`:"unset"}`}:{}),void 0!==eI?{transform:`scale(${eI})`,WebkitTransform:`scale(${eI})`}:{}),{transition:null!==($=null==eh?void 0:eh.transition)&&void 0!==$?$:"none",cursor:eu?"grabbing":eC?"grab":eA?"pointer":"unset",pointerEvents:Q?"auto":"none",userSelect:eC?"none":"unset",WebkitUserSelect:eC?"none":"unset",MozUserSelect:eC?"none":"unset",msUserSelect:eC?"none":"unset"})},es,{children:(0,o.jsx)(ex,{item:e,sectionId:t,onResize:t=>{if(!q)return;let n=e.sticky[q];if(!n||void 0===ev||!r){et(void 0);return}let o=ew/window.innerWidth+ev,s=(void 0!==n.to?Math.min(r-o-t,n.to):r-o-t)-n.from+t;er(t),et(s)},articleHeight:r,interactionCtrl:eo,onVisibilityChange:J})}))})}),(0,o.jsx)(a.default,{id:W,children:`
        ${(0,l.getLayoutStyles)(K,e_,([t,r,n,o,s])=>{let a=(0,T.parseSizing)(s.sizing),u=t.positionType===l.PositionType.ScreenBased&&t.anchorSide===l.AnchorSide.Bottom,d=t.scaleAnchor;return`
            .item-${e.id} {
              position: ${n?"sticky":"absolute"};
              top: ${n?`${(0,m.getAnchoredItemTop)(t.top-n.from,o,t.anchorSide)}`:0};
              transition: opacity 0.2s linear 0.1s;
              pointer-events: none;
              display: ${r?"none":"block"};
              height: fit-content;
            }
            .item-${e.id}-inner {
              width: ${"manual"===a.x?`${100*t.width}vw`:"max-content"};
              height: ${"manual"===a.y?`${100*t.height}vw`:"unset"};
              transform-origin: ${c.ScaleAnchorMap[d]};
              transform: scale(${t.scale});
              position: relative;
            }
            .item-wrapper-${e.id} {
              position: ${t.positionType===l.PositionType.ScreenBased?"fixed":"absolute"};
              z-index: ${t.zIndex};
              ${!U&&A}
              pointer-events: none;
              bottom: ${u?`${-(100*t.top)}vw`:"unset"};
              top: ${u?"unset":(0,p.getItemTopStyle)(t.top,t.anchorSide)};
              left: ${100*t.left}vw;
            }
          `})}
      `})]})}},7004:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkWrapper=void 0;let n=r(5893);t.LinkWrapper=({url:e,children:t,target:r})=>{let o=e&&(["http://","https://","/","mailto:","tel:","file:","ftp:","javascript","#"].some(t=>e.startsWith(t))?e:`//${e}`);return e?(0,n.jsx)("a",Object.assign({href:o},"_blank"===r?{target:r,rel:"noreferrer"}:{},{children:t})):(0,n.jsx)(n.Fragment,{children:t})}},2188:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RectangleItem=void 0;let o=r(5893),s=r(7294),a=n(r(2335)),l=r(3799),u=r(7747),d=r(7004),c=r(8490),h=r(4990),p=r(1753),f=r(3267),m=r(2247);t.RectangleItem=({item:e,sectionId:t,onResize:r,interactionCtrl:n,onVisibilityChange:g})=>{var y,v,_,b;let x=(0,s.useId)(),{layouts:w}=(0,p.useCntrlContext)(),{fillColor:S,radius:C,strokeWidth:T,strokeColor:E,blur:k,backdropBlur:I}=(0,c.useRectangleItem)(e,t),A=(0,h.useItemAngle)(e,t),P=null==n?void 0:n.getState(["angle","fillColor","strokeWidth","radius","strokeColor","blur","backdropBlur"]),U=null!==(y=null==P?void 0:P.styles)&&void 0!==y?y:{},z=(0,s.useMemo)(()=>{let e=(0,m.getStyleFromItemStateAndParams)(null==U?void 0:U.fillColor,S);return e?l.CntrlColor.parse(e):void 0},[S,null==U?void 0:U.fillColor]),O=(0,s.useMemo)(()=>{let e=(0,m.getStyleFromItemStateAndParams)(null==U?void 0:U.strokeColor,E);return e?l.CntrlColor.parse(e):void 0},[E,null==U?void 0:U.strokeColor]),j=[e.area,e.layoutParams],[R,B]=(0,s.useState)(null);(0,f.useRegisterResize)(R,r);let M=(0,m.getStyleFromItemStateAndParams)(null==U?void 0:U.backdropBlur,I),L=(0,m.getStyleFromItemStateAndParams)(null==U?void 0:U.radius,C),F=(0,m.getStyleFromItemStateAndParams)(null==U?void 0:U.strokeWidth,T),N=(0,m.getStyleFromItemStateAndParams)(null==U?void 0:U.angle,A),D=(0,m.getStyleFromItemStateAndParams)(null==U?void 0:U.blur,k),$=M?`blur(${100*M}vw)`:void 0,Z=(null==z?void 0:z.getAlpha())!==0||0!==F&&(null==O?void 0:O.getAlpha())!==0;return(0,s.useEffect)(()=>{null==g||g(Z)},[Z,g]),(0,o.jsx)(d.LinkWrapper,{url:null===(v=e.link)||void 0===v?void 0:v.url,target:null===(_=e.link)||void 0===_?void 0:_.target,children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:`rectangle-${e.id}`,ref:B,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},z?{backgroundColor:`${z.fmt("rgba")}`}:{}),O?{borderColor:`${O.fmt("rgba")}`}:{}),void 0!==L?{borderRadius:`${100*L}vw`}:{}),void 0!==F?{borderWidth:`${100*F}vw`}:{}),void 0!==N?{transform:`rotate(${N}deg) translateZ(0)`}:{}),void 0!==D?{filter:`blur(${100*D}vw)`}:{}),void 0!==$?{backdropFilter:$,WebkitBackdropFilter:$}:{}),{transition:null!==(b=null==P?void 0:P.transition)&&void 0!==b?b:"none"})}),(0,o.jsx)(a.default,{id:x,children:`
        .rectangle-${e.id} {
          position: absolute;
          width: 100%;
          height: 100%;
          border-style: solid;
          box-sizing: border-box;
        }
        ${(0,u.getLayoutStyles)(w,j,([t,r])=>`
            .rectangle-${e.id} {
              background-color: ${l.CntrlColor.parse(r.fillColor).fmt("rgba")};
              border-color: ${l.CntrlColor.parse(r.strokeColor).fmt("rgba")};
              border-radius: ${100*r.radius}vw;
              border-width: ${100*r.strokeWidth}vw;
              transform: rotate(${t.angle}deg) translateZ(0);
              filter: ${0!==r.blur?`blur(${100*r.blur}vw)`:"unset"};
              backdrop-filter: ${0!==r.backdropBlur?`blur(${100*r.backdropBlur}vw)`:"unset"};
              -webkit-backdrop-filter: ${0!==r.backdropBlur?`blur(${100*r.backdropBlur}vw)`:"unset"};
            }
          `)}
      `})]})})}},8490:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRectangleItem=void 0;let n=r(7747),o=r(9911),s=r(3877),a="rgba(0, 0, 0, 1)";t.useRectangleItem=function(e,t){let r=(0,s.useLayoutContext)(),l=(0,o.useKeyframeValue)(e,n.KeyframeType.BorderRadius,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"radius"in r?r.radius:0},(e,t,r)=>void 0!==r?e.getRadius({radius:r},t).radius:void 0,t,[r]),u=(0,o.useKeyframeValue)(e,n.KeyframeType.BorderWidth,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"strokeWidth"in r?r.strokeWidth:0},(e,t,r)=>void 0!==r?e.getBorderWidth({borderWidth:r},t).borderWidth:void 0,t,[r]),d=(0,o.useKeyframeValue)(e,n.KeyframeType.Color,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"fillColor"in r?r.fillColor:a},(e,t,r)=>r?e.getColor({color:r},t).color:void 0,t,[r]);return{fillColor:d,strokeWidth:u,radius:l,strokeColor:(0,o.useKeyframeValue)(e,n.KeyframeType.BorderColor,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"strokeColor"in r?r.strokeColor:a},(e,t,r)=>r?e.getBorderColor({color:r},t).color:void 0,t,[r]),blur:(0,o.useKeyframeValue)(e,n.KeyframeType.Blur,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"blur"in r?r.blur:0},(e,t,r)=>void 0!==r?e.getBlur({blur:r},t).blur:void 0,t,[r]),backdropBlur:(0,o.useKeyframeValue)(e,n.KeyframeType.BackdropBlur,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"backdropBlur"in r?r.backdropBlur:0},(e,t,r)=>void 0!==r?e.getBackdropBlur({backdropBlur:r},t).backdropBlur:void 0,t,[r])}}},1146:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RichTextItem=void 0;let o=r(5893),s=r(7294),a=r(3799),l=r(7747),u=n(r(2335)),d=r(8778),c=r(1753),h=r(6390),p=r(3267),f=r(7980),m=r(1264),g=r(4990),y=r(2247),v=r(5702);t.RichTextItem=({item:e,sectionId:t,onResize:r,interactionCtrl:n,onVisibilityChange:_})=>{var b,x,w,S;let C=(0,s.useId)(),[T,E]=(0,s.useState)(null),{layouts:k}=(0,c.useCntrlContext)(),I=(0,g.useItemAngle)(e,t),{blur:A,wordSpacing:P,letterSpacing:U,color:z,fontSize:O,lineHeight:j}=(0,h.useRichTextItemValues)(e,t),R=[e.area,e.layoutParams],B=(0,m.useExemplary)(),{layoutId:M}=(0,v.useCurrentLayout)();(0,p.useRegisterResize)(T,r);let L=null==n?void 0:n.getState(["angle","blur","letterSpacing","wordSpacing","color"]),F=null!==(b=null==L?void 0:L.styles)&&void 0!==b?b:{},N=null!==(x=null==L?void 0:L.transition)&&void 0!==x?x:"none",D=(0,s.useMemo)(()=>{var e;let t=(0,y.getStyleFromItemStateAndParams)(null===(e=null==L?void 0:L.styles)||void 0===e?void 0:e.color,z);return t?a.CntrlColor.parse(t):void 0},[z,F.color]),$=(0,y.getStyleFromItemStateAndParams)(F.angle,I),Z=(0,y.getStyleFromItemStateAndParams)(F.blur,A),V=(0,y.getStyleFromItemStateAndParams)(F.letterSpacing,U),G=(0,y.getStyleFromItemStateAndParams)(F.wordSpacing,P),H=null==D?void 0:D.getAlpha(),W=(M&&null!==(S=null===(w=e.layoutParams[M])||void 0===w?void 0:w.rangeStyles)&&void 0!==S?S:[]).filter(e=>"COLOR"===e.style).some(e=>a.CntrlColor.parse(e.value).getAlpha()>0),Y=0!==H||W,[K,q]=(0,d.useRichTextItem)(e);return(0,s.useEffect)(()=>{null==_||_(Y)},[Y,_]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{ref:E,className:`rich-text-wrapper-${e.id}`,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},void 0!==Z?{filter:`blur(${100*Z}vw)`}:{}),D?{color:`${D.fmt("rgba")}`}:{}),void 0!==$?{transform:`rotate(${$}deg) translateZ(0)`}:{}),void 0!==V?{letterSpacing:`${V*B}px`}:{}),void 0!==G?{wordSpacing:`${G*B}px`}:{}),void 0!==O?{fontSize:`${Math.round(O*B)}px`}:{}),void 0!==j?{lineHeight:`${j*B}px`}:{}),{transition:N}),children:K}),(0,o.jsxs)(u.default,{id:C,children:[q,`${(0,l.getLayoutStyles)(k,R,([t,r])=>{let n=a.CntrlColor.parse(r.color);return`
            .rich-text-wrapper-${e.id} {
              font-size: ${100*r.fontSize}vw;
              line-height: ${100*r.lineHeight}vw;
              letter-spacing: ${100*r.letterSpacing}vw;
              word-spacing: ${100*r.wordSpacing}vw;
              font-family: ${(0,f.getFontFamilyValue)(r.typeFace)};
              font-weight: ${r.fontWeight};
              font-style: ${r.fontStyle?r.fontStyle:"normal"};
              vertical-align: ${r.verticalAlign};
              font-variant: ${r.fontVariant};
              color: ${n.fmt("rgba")};
              transform: rotate(${t.angle}deg) translateZ(0);
              filter: ${0!==r.blur?`blur(${100*r.blur}vw)`:"unset"};
              text-transform: ${r.textTransform};
            }
            @supports not (color: oklch(42% 0.3 90 / 1)) {
              .rich-text-wrapper-${e.id} {
                color: ${n.fmt("rgba")};
              }
            }
          `})}`]})]})}},8778:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRichTextItem=void 0;let n=r(4206),o=r(1753),s=new n.RichTextConverter;t.useRichTextItem=e=>{let{layouts:t}=(0,o.useCntrlContext)(),[r,n]=s.toHtml(e,t);return[r,n]}},7704:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RichTextWrapper=void 0;let n=r(5893);t.RichTextWrapper=({isRichText:e,children:t,transformOrigin:r="top left"})=>e?(0,n.jsx)("div",{style:{transformOrigin:r,transform:"scale(var(--layout-deviation))"},children:t}):(0,n.jsx)(n.Fragment,{children:t})},3165:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.itemsMap=void 0;let n=r(7747),o=r(2188),s=r(6638),a=r(8420),l=r(1146),u=r(7155),d=r(673),c=r(8174),h=r(3806),p=r(3600),f=r(5856),m=r(8181);t.itemsMap={[n.ArticleItemType.Rectangle]:o.RectangleItem,[n.ArticleItemType.Image]:s.ImageItem,[n.ArticleItemType.Video]:a.VideoItem,[n.ArticleItemType.RichText]:l.RichTextItem,[n.ArticleItemType.YoutubeEmbed]:u.YoutubeEmbedItem,[n.ArticleItemType.VimeoEmbed]:d.VimeoEmbedItem,[n.ArticleItemType.Custom]:c.CustomItem,[n.ArticleItemType.Group]:h.GroupItem,[n.ArticleItemType.Compound]:f.CompoundItem,[n.ArticleItemType.CodeEmbed]:p.CodeEmbedItem,[n.ArticleItemType.Component]:m.ComponentItem}},2623:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDraggable=void 0;let n=r(7294),o={drag:!1,startX:0,startY:0,currentX:0,currentY:0,pivotX:0,pivotY:0,lastX:0,lastY:0};t.useDraggable=function(e,t,r=!1){let s=(0,n.useRef)(o),a=(0,n.useRef)(),l=(0,n.useRef)(),u=(0,n.useRef)(),d=(0,n.useRef)();l.current=t;let c=(0,n.useCallback)(e=>{let t="function"==typeof e?e(s.current):e;a.current||(a.current=s.current),s.current=t,void 0===d.current&&(d.current=window.requestAnimationFrame(()=>{var e;d.current=void 0,null===(e=l.current)||void 0===e||e.call(l,s.current,a.current),a.current=s.current}))},[]),h=(0,n.useCallback)(e=>{e.stopPropagation();let t=e.target;t instanceof HTMLElement&&c(r=>{if(!r.drag){let n=t.getBoundingClientRect();return{drag:!0,startX:e.clientX,startY:e.clientY,currentX:e.clientX,currentY:e.clientY,pivotX:e.clientX-n.x,pivotY:e.clientY-n.y,lastX:r.lastX,lastY:r.lastY}}return Object.assign(Object.assign({},r),{currentX:r.currentX+e.movementX,currentY:r.currentY+e.movementY})})},[c,e.draggableRef,r]),p=(0,n.useCallback)(e=>{var t;e.stopPropagation(),c(e=>Object.assign(Object.assign({},e),{drag:!1,lastX:e.currentX-e.startX+e.lastX,lastY:e.currentY-e.startY+e.lastY})),null===(t=u.current)||void 0===t||t.call(u)},[c]),f=(0,n.useCallback)(()=>{c(e=>e)},[c]),m=(0,n.useCallback)(()=>(window.addEventListener("mousemove",h,{capture:!0}),window.addEventListener("mouseup",p,{capture:!0}),window.addEventListener("scroll",f,{capture:!0,passive:!0}),()=>{window.removeEventListener("mousemove",h,{capture:!0}),window.removeEventListener("mouseup",p,{capture:!0}),window.removeEventListener("scroll",f,{capture:!0})}),[h,p,f]),g=(0,n.useCallback)(t=>{var n;t.stopPropagation(),r&&t.target instanceof Node&&e.draggableRef instanceof Node&&t.target!==e.draggableRef&&e.draggableRef.contains(t.target)||0!==t.button||(null===(n=u.current)||void 0===n||n.call(u),u.current=m())},[m]),y=(0,n.useCallback)(e=>{e.stopPropagation(),e.preventDefault();let t=e.touches[0],r=e.target;r instanceof HTMLElement&&c(e=>{if(!e.drag){let n=r.getBoundingClientRect();return{drag:!0,startX:t.clientX,startY:t.clientY,currentX:t.clientX,currentY:t.clientY,pivotX:t.clientX-n.x,pivotY:t.clientY-n.y,lastX:e.lastX,lastY:e.lastY}}let n=t.clientX-e.currentX,o=t.clientY-e.currentY;return Object.assign(Object.assign({},e),{currentX:e.currentX+n,currentY:e.currentY+o})})},[c]),v=(0,n.useCallback)(e=>{var t;e.stopPropagation(),document.body.style.overflow="",document.documentElement.style.overflow="",c(e=>Object.assign(Object.assign({},e),{drag:!1,lastX:e.currentX-e.startX+e.lastX,lastY:e.currentY-e.startY+e.lastY})),null===(t=u.current)||void 0===t||t.call(u)},[c]),_=(0,n.useCallback)(()=>(window.addEventListener("touchmove",y,{capture:!0,passive:!1}),window.addEventListener("touchend",v,{capture:!0}),window.addEventListener("touchcancel",v,{capture:!0}),()=>{window.removeEventListener("touchmove",y,{capture:!0}),window.removeEventListener("touchend",v,{capture:!0}),window.removeEventListener("touchcancel",v,{capture:!0})}),[y,v]),b=(0,n.useCallback)(t=>{var n;if(t.stopPropagation(),r&&t.target instanceof Node&&e.draggableRef instanceof Node&&t.target!==e.draggableRef&&e.draggableRef.contains(t.target))return;document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden";let o=document.getSelection();o&&o.removeAllRanges(),null===(n=u.current)||void 0===n||n.call(u),u.current=_()},[_]);(0,n.useEffect)(()=>{if(e.draggableRef&&e.isEnabled)return e.draggableRef.addEventListener("mousedown",g),e.draggableRef.addEventListener("touchstart",b),()=>{var t,r,n;null===(t=e.draggableRef)||void 0===t||t.removeEventListener("mousedown",g),null===(r=e.draggableRef)||void 0===r||r.removeEventListener("touchstart",b),null===(n=u.current)||void 0===n||n.call(u),void 0!==d.current&&window.cancelAnimationFrame(d.current),document.body.style.overflow="",document.documentElement.style.overflow=""}},[e.draggableRef,e.isEnabled,g,b])}},4990:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useItemAngle=void 0;let n=r(7747),o=r(9911);t.useItemAngle=(e,t)=>(0,o.useKeyframeValue)(e,n.KeyframeType.Rotation,(e,t)=>t?e.area[t].angle:void 0,(e,t,r)=>void 0!==r?e.getRotation({angle:r},t).angle:void 0,t)},5879:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useItemArea=void 0;let n=r(7747),o=r(3877),s=r(9911);t.useItemArea=function(e,t,r){var a,l,u,d;let c=(0,o.useLayoutContext)(),h=(0,s.useKeyframeValue)(e,n.KeyframeType.Position,(e,t)=>{if(t)return e.area[t]},(e,t,r)=>r?e.getPositions(r,t):void 0,t,[c]),p=(0,s.useKeyframeValue)(e,n.KeyframeType.Dimensions,(e,t)=>t?e.area[t]:void 0,(e,t,r)=>r?e.getDimensions(r,t):void 0,t,[c]),f=null!==(a=r.width)&&void 0!==a?a:null==p?void 0:p.width;return{width:f,height:null!==(l=r.height)&&void 0!==l?l:null==p?void 0:p.height,top:null!==(u=r.top)&&void 0!==u?u:null==h?void 0:h.top,left:null!==(d=r.left)&&void 0!==d?d:null==h?void 0:h.left}}},2044:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useItemPointerEvents=void 0;let n=r(7294);t.useItemPointerEvents=function(e,t){let[r,o]=(0,n.useState)((()=>{switch(e){case"never":return!1;case"when_visible":return t;case"always":return!0}})());return{allowPointerEvents:r,handleVisibilityChange:(0,n.useCallback)(r=>{t&&"when_visible"===e&&o(r)},[t,e])}}},5093:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useItemScale=void 0;let n=r(7747),o=r(9911),s=r(3877);t.useItemScale=(e,t)=>{let r=(0,s.useLayoutContext)();return(0,o.useKeyframeValue)(e,n.KeyframeType.Scale,(e,t)=>t?e.area[t].scale:void 0,(e,t,r)=>void 0!==r?e.getScale({scale:r},t).scale:void 0,t,[r])}},3831:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useItemTriggers=void 0,t.useItemTriggers=function(e){return{onClick:()=>{null==e||e.sendTrigger("click")},onMouseEnter:()=>{null==e||e.sendTrigger("hover-in")},onMouseLeave:()=>{null==e||e.sendTrigger("hover-out")}}}},6390:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRichTextItemValues=void 0;let n=r(9911),o=r(7747),s=r(3877);t.useRichTextItemValues=(e,t)=>{let r=(0,s.useLayoutContext)(),a=(0,n.useKeyframeValue)(e,o.KeyframeType.Blur,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"blur"in r?r.blur:0},(e,t,r)=>void 0!==r?e.getBlur({blur:r},t).blur:void 0,t,[r]),l=(0,n.useKeyframeValue)(e,o.KeyframeType.LetterSpacing,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"letterSpacing"in r?r.letterSpacing:0},(e,t,r)=>void 0!==r?e.getLetterSpacing({letterSpacing:r},t).letterSpacing:void 0,t,[r]),u=(0,n.useKeyframeValue)(e,o.KeyframeType.WordSpacing,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"wordSpacing"in r?r.wordSpacing:0},(e,t,r)=>void 0!==r?e.getWordSpacing({wordSpacing:r},t).wordSpacing:void 0,t,[r]);return{blur:a,letterSpacing:l,wordSpacing:u,color:(0,n.useKeyframeValue)(e,o.KeyframeType.TextColor,(e,t)=>{if(!t)return;let r=e.layoutParams[t];return"color"in r?r.color:"rgba(0, 0, 0, 1)"},(e,t,r)=>r?e.getTextColor({color:r},t).color:void 0,t,[r]),fontSize:r?e.layoutParams[r].fontSize:void 0,lineHeight:r?e.layoutParams[r].lineHeight:void 0}}},5796:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSizing=t.useSizing=void 0;let n=r(9355),o=r(7747),s=r(3877);function a(e="manual"){let t=e.split(" ");return{y:t[0],x:t[1]?t[1]:t[0]}}t.useSizing=function(e){let t=(0,s.useLayoutContext)();return a(t&&(0,n.isItemType)(e,o.ArticleItemType.RichText)?e.layoutParams[t].sizing:void 0)},t.parseSizing=a},1756:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStickyItemTop=void 0;let n=r(7747),o=r(9911),s=r(3877);t.useStickyItemTop=function(e,t,r){let a=(0,s.useLayoutContext)(),l=(0,o.useKeyframeValue)(e,n.KeyframeType.Position,(e,t)=>{if(t)return e.area[t]},(e,t,r)=>r?e.getPositions(r,t):void 0,t,[a]),u=l?l.top:a?e.area[a].top:0,d=a?e.sticky[a]:void 0;return d?(null!=r?r:u)-d.from:0}},3877:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useLayoutContext=void 0;let n=r(7294),o=r(2458);t.useLayoutContext=function(){return(0,n.useContext)(o.LayoutContext)}},7166:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.cntrlSdkContext=t.customSections=t.customItems=t.useCntrlContext=t.CntrlProvider=t.YoutubeEmbedItem=t.VimeoEmbedItem=t.LayoutStyle=t.VideoItem=t.RichTextItem=t.RectangleItem=t.ImageItem=t.Item=t.Section=t.Article=t.Head=t.Page=t.RichTextConverter=void 0;let s=r(4639);o(r(7747),t);var a=r(4206);Object.defineProperty(t,"RichTextConverter",{enumerable:!0,get:function(){return a.RichTextConverter}});var l=r(8476);Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return l.Page}});var u=r(786);Object.defineProperty(t,"Head",{enumerable:!0,get:function(){return u.CNTRLHead}});var d=r(7994);Object.defineProperty(t,"Article",{enumerable:!0,get:function(){return d.Article}});var c=r(504);Object.defineProperty(t,"Section",{enumerable:!0,get:function(){return c.Section}});var h=r(2565);Object.defineProperty(t,"Item",{enumerable:!0,get:function(){return h.Item}});var p=r(6638);Object.defineProperty(t,"ImageItem",{enumerable:!0,get:function(){return p.ImageItem}});var f=r(2188);Object.defineProperty(t,"RectangleItem",{enumerable:!0,get:function(){return f.RectangleItem}});var m=r(1146);Object.defineProperty(t,"RichTextItem",{enumerable:!0,get:function(){return m.RichTextItem}});var g=r(8420);Object.defineProperty(t,"VideoItem",{enumerable:!0,get:function(){return g.VideoItem}});var y=r(9435);Object.defineProperty(t,"LayoutStyle",{enumerable:!0,get:function(){return y.LayoutStyle}});var v=r(673);Object.defineProperty(t,"VimeoEmbedItem",{enumerable:!0,get:function(){return v.VimeoEmbedItem}});var _=r(7155);Object.defineProperty(t,"YoutubeEmbedItem",{enumerable:!0,get:function(){return _.YoutubeEmbedItem}});var b=r(2334);Object.defineProperty(t,"CntrlProvider",{enumerable:!0,get:function(){return b.CntrlProvider}});var x=r(1753);Object.defineProperty(t,"useCntrlContext",{enumerable:!0,get:function(){return x.useCntrlContext}}),t.customItems=s.cntrlSdkContext.customItems,t.customSections=s.cntrlSdkContext.customSections,t.cntrlSdkContext=s.cntrlSdkContext},9510:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStyleKeysFromCSSProperty=t.CSSPropertyNameMap=void 0,t.CSSPropertyNameMap={width:"width",height:"height",top:"top",left:"left",scale:"transform",angle:"transform",opacity:"opacity",radius:"border-radius",strokeWidth:"border-width",strokeColor:"border-color",fillColor:"background-color",blur:"filter",backdropBlur:"backdrop-filter",letterSpacing:"letter-spacing",wordSpacing:"word-spacing",color:"color"};let r={transform:["angle","scale"],"border-radius":["radius"],"border-width":["strokeWidth"],"border-color":["strokeColor"],"background-color":["fillColor"],filter:["blur"],"backdrop-filter":["backdrop-blur"],"letter-spacing":["letterSpacing"],"word-spacing":["wordSpacing"]};t.getStyleKeysFromCSSProperty=function(e){var t;return null!==(t=r[e])&&void 0!==t?t:[e]}},884:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionsRegistry=void 0;let n=r(7747),o=r(9355);class s{constructor(e,t){var r;this.ctrls=new Map,this.items=this.unpackItems(e);let n=null!==(r=e.interactions[t])&&void 0!==r?r:[],o=n.reduce((e,t)=>{var r;let n=null===(r=t.states.find(e=>e.id!==t.startStateId))||void 0===r?void 0:r.id;if(!n)throw Error(`Failed to find active state for interaction w/ id="${t.id}"`);return e.push(n),e},[]),s=n.reduce((e,{id:t,startStateId:r})=>(e[t]=r,e),{});this.activeStateIdInteractionIdMap=n.reduce((e,t)=>{let r=t.states.find(e=>e.id!==t.startStateId);return r&&(e[r.id]=t.id),e},{});let a=this.getDefaultItemStages(),l=o.reduce((e,t)=>(e[t]=this.items.filter(e=>{var r;return 0!==Object.keys(null!==(r=e.state[t])&&void 0!==r?r:{}).length}).map(e=>e.id),e),{});this.interactions=n,this.itemsStages=a,this.stateItemsIdsMap=l,this.interactionStateMap=s}register(e,t){this.ctrls.set(e,t)}getStatePropsForItem(e){var t,r,n;let{items:o}=this,s=o.find(t=>t.id===e),a=this.itemsStages.filter(t=>t.itemId===e);a.sort((e,t)=>e.updated-t.updated);let l={};for(let e of a){if("active"===e.type){if(e.isStartState)continue;for(let[r,n]of Object.entries(null!==(t=s.state[e.stateId])&&void 0!==t?t:{}))l[r]={value:n.value}}if("transitioning"===e.type){let t="in"===e.direction?e.to:e.from;for(let[o,a]of Object.entries(null!==(r=s.state[t])&&void 0!==r?r:{})){let t=a[e.direction];t&&(l[o]={value:"in"===e.direction?a.value:null===(n=l[o])||void 0===n?void 0:n.value,transition:{timing:t.timing,duration:t.duration,delay:t.delay}})}}}return l}getItemAvailableTriggers(e){let t=new Set,r=Object.values(this.interactionStateMap);for(let n of this.interactions){let{triggers:o}=n;for(let n of o)n.itemId===e&&r.includes(n.from)&&t.add(n.type)}return t}notifyTrigger(e,t){var r,n;let o=Date.now();for(let s of this.interactions){let a=this.getCurrentStateByInteractionId(s.id),l=s.triggers.find(r=>r.itemId===e&&r.from===a&&r.type===t);if(!l)continue;let u=this.getActiveInteractionState(s.id),d=l.to===u;this.setCurrentStateForInteraction(s.id,l.to);let c=null!==(r=this.stateItemsIdsMap[u])&&void 0!==r?r:[],h=s.states.find(e=>e.id===l.to);for(let e of null!==(n=null==h?void 0:h.actions)&&void 0!==n?n:[]){let t=this.ctrls.get(e.itemId);t&&t.receiveAction(e.type)}this.itemsStages=this.itemsStages.map(e=>e.interactionId!==s.id?e:{itemId:e.itemId,interactionId:e.interactionId,type:"transitioning",from:"transitioning"===e.type?e.to:e.stateId,to:l.to,direction:d?"in":"out",updated:o});let p=new Set(c);for(let e of s.triggers)p.add(e.itemId);this.notifyItemCtrlsChange(Array.from(p)),this.notifyTransitionStartForItems(c,u)}}notifyTransitionStartForItems(e,t){var r,n;for(let o of e){let e=this.ctrls.get(o),s=Object.keys(null!==(r=this.items.find(e=>e.id===o).state[t])&&void 0!==r?r:{});null===(n=null==e?void 0:e.handleTransitionStart)||void 0===n||n.call(e,s)}}notifyTransitionEnd(e){var t;let r=Date.now();this.itemsStages=this.itemsStages.map(t=>t.itemId!==e||"transitioning"!==t.type?t:{itemId:e,interactionId:t.interactionId,type:"active",stateId:t.to,isStartState:"out"===t.direction,updated:r}),null===(t=this.ctrls.get(e))||void 0===t||t.receiveChange()}getCurrentStateByInteractionId(e){let t;for(let r of Object.keys(this.interactionStateMap))e===r&&(t=this.interactionStateMap[r]);if(!t)throw Error(`Failed to find current state for interaction w/ id="${e}"`);return t}setCurrentStateForInteraction(e,t){this.interactionStateMap=Object.assign(Object.assign({},this.interactionStateMap),{[e]:t})}getActiveInteractionState(e){var t;let{interactions:r}=this,n=r.find(t=>t.id===e),o=null===(t=n.states.find(e=>e.id!==n.startStateId))||void 0===t?void 0:t.id;if(!o)throw Error(`Failed to find active state for interaction w/ id="${e}"`);return o}notifyItemCtrlsChange(e){var t;for(let r of e)null===(t=this.ctrls.get(r))||void 0===t||t.receiveChange()}unpackItems(e){let t=[];for(let r of e.sections){let e=this.getNestedItems(r.items);t.push(...e)}return t}getNestedItems(e){var t;let r=[];for(let s of e){if((0,o.isItemType)(s,n.ArticleItemType.Group)||(0,o.isItemType)(s,n.ArticleItemType.Compound)){let e=null!==(t=null==s?void 0:s.items)&&void 0!==t?t:[],n=this.getNestedItems(e);r.push(...n)}r.push(s)}return r}getDefaultItemStages(){let e=Date.now(),{items:t}=this,r=[];for(let n of t){let t=n.state;if(t)for(let o of Object.keys(t)){let t=this.activeStateIdInteractionIdMap[o];t&&r.push({itemId:n.id,interactionId:t,type:"active",isStartState:!0,updated:e})}}return r}}t.InteractionsRegistry=s},7007:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ItemInteractionController=void 0;let n=r(2896),o=r(9510);class s{constructor(e,t,r){this.itemId=e,this.registry=t,this.onChange=r,this.transitionsInProgress=new Set,this.handleTransitionStart=e=>{for(let t of(this.transitionsInProgress.clear(),e))this.transitionsInProgress.add(t)},this.handleTransitionEnd=e=>{for(let t of(e.startsWith("border-")&&e.endsWith("-radius")&&(e="border-radius"),e.startsWith("border-")&&e.endsWith("-width")&&(e="border-width"),(0,o.getStyleKeysFromCSSProperty)(e)))if(this.transitionsInProgress.has(t)){this.transitionsInProgress.delete(t);break}0===this.transitionsInProgress.size&&this.registry.notifyTransitionEnd(this.itemId)},this.registry.register(e,this)}getState(e){let t=this.registry.getStatePropsForItem(this.itemId);return{styles:e.reduce((e,r)=>{let n=t[r];return(null==n?void 0:n.value)===void 0||(e[r]=n.value),e},{}),transition:(0,n.getTransition)(t,e)}}getHasTrigger(e,t){return this.registry.getItemAvailableTriggers(e).has(t)}sendTrigger(e){this.registry.notifyTrigger(this.itemId,e)}receiveAction(e){var t;null===(t=this.actionReceiver)||void 0===t||t.call(this,e)}setActionReceiver(e){this.actionReceiver=e}receiveChange(){this.onChange()}}t.ItemInteractionController=s},2896:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTransition=void 0;let n=r(9510);t.getTransition=function(e,t){if(0===Object.keys(e).length)return"none";let r=[];for(let[o,s]of Object.entries(e)){if(!t.includes(o)||!s.transition)continue;let{transition:{duration:e,delay:a,timing:l}}=s,u=n.CSSPropertyNameMap[o],d=Math.max(e,.01);r.push(`${u} ${d}ms ${l} ${a}ms`)}return r.length>0?r.join(", "):"none"}},2550:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useItemInteractionCtrl=void 0;let n=r(7294),o=r(7007),s=r(6581);t.useItemInteractionCtrl=function(e){let[t,r]=(0,n.useState)(0),a=(0,s.useInteractionsRegistry)();return(0,n.useMemo)(()=>{if(a)return new o.ItemInteractionController(e,a,()=>r(e=>e+1))},[e,a])}},8316:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleRectContext=void 0;let n=r(7294);t.ArticleRectContext=(0,n.createContext)(null)},7384:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CntrlContext=void 0;let n=r(7294),o=r(4639);t.CntrlContext=(0,n.createContext)(o.cntrlSdkContext)},2334:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CntrlProvider=void 0;let n=r(5893),o=r(7384),s=r(4639);t.CntrlProvider=({children:e})=>(0,n.jsx)(o.CntrlContext.Provider,{value:s.cntrlSdkContext,children:e})},5827:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,s){function a(e){try{u(n.next(e))}catch(e){s(e)}}function l(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,l)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.CntrlSdkContext=void 0;let o=r(7747);class s{constructor(e,t){this.customItems=e,this.customSections=t,this._layouts=[],this._fonts=void 0,this.sectionHeightMap=new Map,this.components=new Map}resolveSectionData(e){return n(this,void 0,void 0,function*(){let t=e.map(e=>{let t=e.name?this.customSections.getResolver(e.name):void 0;if(t)return{name:e.name,resolver:t}}).filter(a);return Object.fromEntries((yield Promise.all(t.map(({name:e,resolver:t})=>n(this,void 0,void 0,function*(){return[e,(yield t())]})))))})}init({project:e,article:t}){this.setLayouts(e.layouts),this.setComponents(o.components),this.setFonts(e.fonts),this.setSectionsHeight(t.sections)}setLayouts(e){this._layouts=e}setComponents(e){for(let t of e)this.components.set(t.id,t)}setFonts(e){this._fonts=e}setSectionsHeight(e){for(let t of e)this.sectionHeightMap.set(t.id,t.height)}getSectionHeightData(e){return this.sectionHeightMap.get(e)}get layouts(){return this._layouts}get fonts(){return this._fonts}getComponent(e){return this.components.get(e)}}function a(e){return void 0!==e}t.CntrlSdkContext=s},3047:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomItemRegistry=void 0;class r{constructor(){this.definitions=new Map}define(e,t){return this.definitions.set(e,t),this}get(e){return this.definitions.get(e)}}t.CustomItemRegistry=r},8794:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomSectionRegistry=void 0;class r{constructor(){this.definitions=new Map}define(e,t){return this.definitions.set(e,t),this}getComponent(e){var t;return null===(t=this.definitions.get(e))||void 0===t?void 0:t.component}getResolver(e){var t;return null===(t=this.definitions.get(e))||void 0===t?void 0:t.dataResolver}}t.CustomSectionRegistry=r},6581:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useInteractionsRegistry=t.InteractionsProvider=t.InteractionsContext=void 0;let n=r(5893),o=r(7294),s=r(884),a=r(5702);t.InteractionsContext=(0,o.createContext)(void 0),t.InteractionsProvider=({article:e,children:r})=>{let{layoutId:l}=(0,a.useCurrentLayout)(),u=(0,o.useMemo)(()=>{if(l)return new s.InteractionsRegistry(e,l)},[l]);return(0,n.jsx)(t.InteractionsContext.Provider,{value:u,children:r})},t.useInteractionsRegistry=function(){return(0,o.useContext)(t.InteractionsContext)}},1227:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Keyframes=void 0;class r{constructor(e=[]){this.keyframes=e}getItemKeyframes(e){return this.keyframes.filter(t=>t.itemId===e)}}t.Keyframes=r},8775:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyframesContext=void 0;let n=r(7294),o=r(1227);t.KeyframesContext=(0,n.createContext)(new o.Keyframes)},2458:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutContext=void 0;let n=r(7294);t.LayoutContext=(0,n.createContext)(void 0)},5365:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebglContextManagerContext=void 0;let n=r(4439),o=r(7294);t.WebglContextManagerContext=(0,o.createContext)(new n.WebGLContextManager)},4639:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cntrlSdkContext=void 0;let n=r(5827),o=r(3047),s=r(8794),a=new o.CustomItemRegistry,l=new s.CustomSectionRegistry;t.cntrlSdkContext=new n.CntrlSdkContext(a,l)},1753:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useCntrlContext=void 0;let n=r(7294),o=r(7384);t.useCntrlContext=function(){return(0,n.useContext)(o.CntrlContext)}},6661:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Animator=void 0;let n=r(7747),o=r(3799),s=r(2291),a=r(5485),l=(e,t)=>e.position-t.position,u=(0,s.createInsert)(s.binSearchInsertAt,l);class d{static pushKeyframeToMap(e,t){u(t[e.type],e)}constructor(e){this.keyframes=e,this.keyframesMap=c(),this.fillKeyframesMap()}getFXParams(e,t){let r=this.keyframesMap[n.KeyframeType.FXParams];if(!r.length)return e;if(1===r.length){let[t]=r;return Object.entries(e).reduce((e,[r,n])=>{var o;return e[r]=null!==(o=t.value[r])&&void 0!==o?o:n,e},{})}let{start:o,end:s}=this.getStartEnd(t,r);return Object.entries(e).reduce((e,[r,n])=>{var l,u;return e[r]=(0,a.rangeMap)(t,o.position,s.position,null!==(l=o.value[r])&&void 0!==l?l:n,null!==(u=s.value[r])&&void 0!==u?u:n,!0),e},{})}getDimensions(e,t){let r=this.keyframesMap[n.KeyframeType.Dimensions];if(!r||!r.length)return e;if(1===r.length){let[e]=r;return{width:e.value.width,height:e.value.height}}let{start:o,end:s}=this.getStartEnd(t,r);return{width:(0,a.rangeMap)(t,o.position,s.position,o.value.width,s.value.width,!0),height:(0,a.rangeMap)(t,o.position,s.position,o.value.height,s.value.height,!0)}}getPositions(e,t){let r=this.keyframesMap[n.KeyframeType.Position];if(!r||!r.length)return e;if(1===r.length){let[e]=r;return{left:e.value.left,top:e.value.top}}let{start:o,end:s}=this.getStartEnd(t,r);return{left:(0,a.rangeMap)(t,o.position,s.position,o.value.left,s.value.left,!0),top:(0,a.rangeMap)(t,o.position,s.position,o.value.top,s.value.top,!0)}}getColor(e,t){let r=this.keyframesMap[n.KeyframeType.Color];if(!r||!r.length)return e;if(1===r.length){let[e]=r;return{color:e.value.color}}let{start:o,end:s}=this.getStartEnd(t,r);return{color:this.getRangeColor(o,s,t)}}getBorderColor(e,t){let r=this.keyframesMap[n.KeyframeType.BorderColor];if(!r||!r.length)return e;if(1===r.length){let[e]=r;return{color:e.value.color}}let{start:o,end:s}=this.getStartEnd(t,r);return{color:this.getRangeColor(o,s,t)}}getRadius(e,t){let r=this.keyframesMap[n.KeyframeType.BorderRadius];if(!r||!r.length)return e;if(1===r.length){let[e]=r;return{radius:e.value.radius}}let{start:o,end:s}=this.getStartEnd(t,r);return{radius:(0,a.rangeMap)(t,o.position,s.position,o.value.radius,s.value.radius,!0)}}getBorderWidth(e,t){let r=this.keyframesMap[n.KeyframeType.BorderWidth];if(!r||!r.length)return e;if(1===r.length){let[e]=r;return{borderWidth:e.value.borderWidth}}let{start:o,end:s}=this.getStartEnd(t,r);return{borderWidth:(0,a.rangeMap)(t,o.position,s.position,o.value.borderWidth,s.value.borderWidth,!0)}}getRotation(e,t){let r=this.keyframesMap[n.KeyframeType.Rotation];if(!r||!r.length)return e;if(1===r.length){let[e]=r;return{angle:e.value.angle}}let{start:o,end:s}=this.getStartEnd(t,r);return{angle:(0,a.rangeMap)(t,o.position,s.position,o.value.angle,s.value.angle,!0)}}getOpacity(e,t){let r=this.keyframesMap[n.KeyframeType.Opacity];if(!r||!r.length)return e;if(1===r.length){let[e]=r;return{opacity:e.value.opacity}}let{start:o,end:s}=this.getStartEnd(t,r);return{opacity:(0,a.rangeMap)(t,o.position,s.position,o.value.opacity,s.value.opacity,!0)}}getScale(e,t){let r=this.keyframesMap[n.KeyframeType.Scale];if(!r||!r.length)return e;if(1===r.length){let[e]=r;return{scale:e.value.scale}}let{start:o,end:s}=this.getStartEnd(t,r);return{scale:(0,a.rangeMap)(t,o.position,s.position,o.value.scale,s.value.scale,!0)}}getBlur(e,t){let r=this.keyframesMap[n.KeyframeType.Blur];if(!r||!r.length)return e;if(1===r.length){let[e]=r;return{blur:e.value.blur}}let{start:o,end:s}=this.getStartEnd(t,r);return{blur:(0,a.rangeMap)(t,o.position,s.position,o.value.blur,s.value.blur,!0)}}getBackdropBlur(e,t){let r=this.keyframesMap[n.KeyframeType.BackdropBlur];if(!r||!r.length)return e;if(1===r.length){let[e]=r;return{backdropBlur:e.value.backdropBlur}}let{start:o,end:s}=this.getStartEnd(t,r);return{backdropBlur:(0,a.rangeMap)(t,o.position,s.position,o.value.backdropBlur,s.value.backdropBlur,!0)}}getTextColor(e,t){let r=this.keyframesMap[n.KeyframeType.TextColor];if(!r||!r.length)return e;if(1===r.length){let[e]=r;return{color:e.value.color}}let{start:o,end:s}=this.getStartEnd(t,r);return{color:this.getRangeColor(o,s,t)}}getLetterSpacing(e,t){let r=this.keyframesMap[n.KeyframeType.LetterSpacing];if(!r||!r.length)return e;if(1===r.length){let[e]=r;return{letterSpacing:e.value.letterSpacing}}let{start:o,end:s}=this.getStartEnd(t,r);return{letterSpacing:(0,a.rangeMap)(t,o.position,s.position,o.value.letterSpacing,s.value.letterSpacing,!0)}}getWordSpacing(e,t){let r=this.keyframesMap[n.KeyframeType.WordSpacing];if(!r||!r.length)return e;if(1===r.length){let[e]=r;return{wordSpacing:e.value.wordSpacing}}let{start:o,end:s}=this.getStartEnd(t,r);return{wordSpacing:(0,a.rangeMap)(t,o.position,s.position,o.value.wordSpacing,s.value.wordSpacing,!0)}}getStartEnd(e,t){let r=(0,s.binSearchInsertAt)(t,{position:e},l),n=r===t.length?r-1:r;return{start:t[0===n?n:n-1],end:t[n]}}fillKeyframesMap(){for(let e of(this.keyframesMap=c(),this.keyframes))d.pushKeyframeToMap(e,this.keyframesMap)}getRangeColor(e,t,r){let n=(0,a.rangeMap)(r,e.position,t.position,0,1,!0),s=o.CntrlColor.parse(e.value.color),l=o.CntrlColor.parse(t.value.color);return s.mix(l,n).fmt("oklch")}}function c(){return{[n.KeyframeType.Dimensions]:[],[n.KeyframeType.Position]:[],[n.KeyframeType.BorderWidth]:[],[n.KeyframeType.BorderRadius]:[],[n.KeyframeType.Color]:[],[n.KeyframeType.Rotation]:[],[n.KeyframeType.BorderColor]:[],[n.KeyframeType.Opacity]:[],[n.KeyframeType.Scale]:[],[n.KeyframeType.Blur]:[],[n.KeyframeType.BackdropBlur]:[],[n.KeyframeType.LetterSpacing]:[],[n.KeyframeType.WordSpacing]:[],[n.KeyframeType.TextColor]:[],[n.KeyframeType.FXParams]:[]}}t.Animator=d},8524:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleRectObserver=void 0;let o=r(7671),s=n(r(1033));class a extends o.EventEmitter{constructor(){super(),this.articleWidth=0,this.registry=new Map,this.scrollPos=window.scrollY,this.animationFrame=NaN,this.parent=void 0,this.sectionsScrollMap=new Map,this.handleScroll=e=>{this.setScroll(e/this.articleWidth)},this.resizeObserver=new s.default(this.handleResize.bind(this))}get scroll(){return this.scrollPos}getSectionScroll(e){let t=this.sectionsScrollMap.get(e);return void 0===t?0:-(t/this.articleWidth-this.scrollPos)}getSectionTop(e){let t=this.sectionsScrollMap.get(e);return null!=t?t:0}get width(){return this.articleWidth}setScroll(e){this.scrollPos=e}init(e){this.parent=e;let t=()=>{this.handleScroll(window.scrollY),isNaN(this.animationFrame)&&(this.animationFrame=window.requestAnimationFrame(()=>{this.animationFrame=NaN,this.emit("scroll",void 0)}))};return window.addEventListener("scroll",t),()=>{this.parent=void 0,window.removeEventListener("scroll",t),isNaN(this.animationFrame)||(window.cancelAnimationFrame(this.animationFrame),this.animationFrame=NaN)}}register(e,t){return this.registry.set(t,e),this.resizeObserver.observe(e),()=>{this.registry.delete(t),this.resizeObserver.unobserve(e)}}handleResize(){if(!this.parent)return;let e=this.parent.getBoundingClientRect();for(let t of(this.articleWidth=e.width,this.setScroll(window.scrollY/this.articleWidth),this.emit("resize",e),this.registry.keys())){let r=this.registry.get(t);if(!r)continue;let n=r.getBoundingClientRect();this.sectionsScrollMap.set(t,n.top-e.top)}}}t.ArticleRectObserver=a},419:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useArticleRectObserver=void 0;let n=r(7294),o=r(8524);t.useArticleRectObserver=e=>{let[t,r]=(0,n.useState)(null);return(0,n.useEffect)(()=>{r(new o.ArticleRectObserver)},[]),(0,n.useEffect)(()=>{if(e&&t)return t.init(e)},[e,t]),t}},316:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSectionRegistry=void 0;let n=r(7294),o=r(8316);t.useSectionRegistry=(e,t)=>{let r=(0,n.useContext)(o.ArticleRectContext);(0,n.useEffect)(()=>{if(t&&r)return r.register(t,e)},[t,r])}},7671:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0;class r{constructor(){this.listeners={}}on(e,t){var r;return Array.isArray(this.listeners[e])||(this.listeners[e]=[]),null===(r=this.listeners[e])||void 0===r||r.push(t),()=>{this.off(e,t)}}off(e,t){var r;let n=null===(r=this.listeners[e])||void 0===r?void 0:r.filter(e=>e!==t);this.listeners[e]=n&&n.length>0?n:void 0}emit(e,t){let r=this.listeners[e];if(Array.isArray(r))for(let e of r)try{e(t)}catch(e){console.error(e instanceof Error?e.stack:e)}}}t.EventEmitter=r},4206:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RichTextConverter=t.FontStyles=void 0;let n=r(5893),o=r(3799),s=r(7747),a=r(7004),l=r(7980);t.FontStyles={normal:{"font-style":"normal"},bold:{"font-weight":"bold"},italic:{"font-style":"italic"}};class u{toHtml(e,t){var r,l,h;let{text:p,blocks:f=[]}=e.commonParams,m=[],g=t.reduce((e,t)=>(e[t.id]=[],e),{}),y=t.reduce((t,r)=>{var n;let o=e.layoutParams[r.id].rangeStyles;return t[r.id]=null===(n=null==o?void 0:o.find(e=>"LINEHEIGHT"===e.style))||void 0===n?void 0:n.value,t},{});for(let s=0;s<f.length;s++){let v=f[s],_=p.slice(v.start,v.end+1),b=null!==(r=v.entities.sort((e,t)=>e.start-t.start))&&void 0!==r?r:[];if(1===_.length){let r=`rt_${e.id}_br_${s}`;m.push((0,n.jsx)("div",{className:r,children:(0,n.jsx)("br",{})},r)),t.forEach(t=>{let r=y[t.id];if(void 0===r)return;let n=u.fromRangeStylesToInline({name:"LINEHEIGHT",value:r},t.exemplary);g[t.id].push(`.rt_${e.id}_br_${s} {${n}}`)});continue}for(let r of Object.values(function(e,t){let r={};for(let n of e){let e=t(n);r[e]||(r[e]=[]),r[e].push(n)}return r}(t.map(({id:t})=>{let r=e.layoutParams[t].rangeStyles.filter(e=>e.start>=v.start&&e.end<=v.end).map(e=>Object.assign(Object.assign({},e),{start:e.start-v.start,end:e.end-v.start}));return{layout:t,styles:this.normalizeStyles(r,b)}}),e=>{var t;return this.serializeRanges(null!==(t=e.styles)&&void 0!==t?t:[])}))){let p=`rt_${e.id}-b${s}_${t.map(e=>r.some(t=>t.layout===e.id)?"1":"0").join("")}`,f=[];t.forEach(t=>{let n=e.layoutParams[t.id].textAlign;g[t.id].push(`
            .${p} {
              display: ${r.some(e=>e.layout===t.id)?"block":"none"};
              text-align: ${n};
              white-space: pre-wrap;
              overflow-wrap: break-word;
            }
          `)});let v=r[0],x=null!==(l=this.groupEntities(b,v.styles))&&void 0!==l?l:[],w=0;for(let e of x){let t=[];for(let r of(w<e.start&&(f.push(c(_,w,e.start)),w=e.start),e.stylesGroup))w<r.start&&t.push(c(_,w,r.start)),t.push((0,n.jsx)("span",{className:`s-${r.start}-${r.end}`,children:c(_,r.start,r.end)},r.start)),w=r.end;if(w<e.end&&(t.push(c(_,w,e.end)),w=e.end),e.link){f.push((0,n.jsx)(a.LinkWrapper,{url:e.link,target:e.target,children:t},e.start));continue}f.push(...t)}for(let e of(w<function(e){let t,r=0;for(t of e)r+=1;return r}(_)&&f.push(c(_,w)),r)){let{exemplary:r}=t.find(t=>t.id===e.layout);for(let t of null!==(h=this.groupEntities(b,e.styles))&&void 0!==h?h:[])if(t.stylesGroup)for(let n of t.stylesGroup){let t=n.styles.find(e=>"LINEHEIGHT"===e.name),s=n.styles.find(e=>"COLOR"===e.name);(null==t?void 0:t.value)&&(y[e.layout]=t.value),g[e.layout].push(`
                .${p} .s-${n.start}-${n.end} {
                  ${n.styles.map(e=>u.fromRangeStylesToInline(e,r)).join("\n")}
                }
              `),s&&g[e.layout].push(`
                @supports not (color: oklch(42% 0.3 90 / 1)) {
                  .${p} .s-${n.start}-${n.end} {
                    color: ${o.CntrlColor.parse(d(s.value,"COLOR")).fmt("rgba")};
                  }
                }
              `)}}m.push((0,n.jsx)("div",{className:p,children:f},p))}}return[m,t.map(e=>`
      ${(0,s.getLayoutMediaQuery)(e.id,t)} {
        ${g[e.id].join("\n")}
      }
    `).join("\n")]}serializeRanges(e){return e.map(e=>`${e.start},${e.end}`).join(" ")}normalizeStyles(e,t){let r=[],n=[...e,...t].reduce((e,t)=>(e.add(t.start),e.add(t.end),e),new Set);if(0===n.size)return;let o=Array.from(n).sort((e,t)=>e-t);for(let t=0;t<o.length-1;t+=1){let n=o[t],s=o[t+1],a=e.filter(e=>Math.max(e.start,n)<Math.min(e.end,s));0!==a.length&&r.push({start:n,end:s,styles:a.map(e=>({name:e.style,value:e.value}))})}return r}groupEntities(e,t){var r,n,o,s,a,l,u,d;let c=[];if(!e.length&&!t)return;if(!t||0===t.length){let t=Array.from(e.reduce((e,t)=>(t.hasOwnProperty("data")&&(e.add(t.start),e.add(t.end)),e),new Set([e[0].start,e[e.length-1].end]))).sort((e,t)=>e-t);for(let a=0;a<t.length-1;a+=1){let l=t[a],u=t[a+1],d=e.find(e=>e.start===l);c.push(Object.assign({stylesGroup:[],start:l,end:u},d&&{link:null!==(n=null===(r=d.data)||void 0===r?void 0:r.url)&&void 0!==n?n:"",target:null!==(s=null===(o=d.data)||void 0===o?void 0:o.target)&&void 0!==s?s:"_self"}))}return c}if(0===e.length)return c.push({stylesGroup:t,start:t[0].start,end:t[t.length-1].end}),c;let h=e[0].start<t[0].start?e[0].start:t[0].start,p=e[e.length-1].end>t[t.length-1].end?e[e.length-1].end:t[t.length-1].end,f=Array.from(e.reduce((e,t)=>(t.hasOwnProperty("data")&&(e.add(t.start),e.add(t.end)),e),new Set([h,p]))).sort((e,t)=>e-t);for(let r=0;r<f.length-1;r+=1){let n=f[r],o=f[r+1],s=e.find(e=>e.start===n);c.push(Object.assign({stylesGroup:t.filter(e=>e.start>=n&&e.end<=o),start:n,end:o},s&&{link:null!==(l=null===(a=s.data)||void 0===a?void 0:a.url)&&void 0!==l?l:"",target:null!==(d=null===(u=s.data)||void 0===u?void 0:u.target)&&void 0!==d?d:"_self"}))}return c}static fromRangeStylesToInline(e,r){let{value:n,name:o}=e,a={COLOR:{color:d(n,o)},TYPEFACE:{"font-family":`${(0,l.getFontFamilyValue)(n)}`},FONTSTYLE:n?Object.assign({},t.FontStyles[n]):{},FONTWEIGHT:{"font-weight":n},FONTSIZE:{"font-size":`${Number.parseFloat(n)*r}px`},LINEHEIGHT:{"line-height":`${Number.parseFloat(n)*r}px`},LETTERSPACING:{"letter-spacing":`${Number.parseFloat(n)*r}px`},WORDSPACING:{"word-spacing":`${Number.parseFloat(n)*r}px`},TEXTTRANSFORM:n?{"text-transform":n}:{"text-transform":s.TextTransform.None},VERTICALALIGN:n?{"vertical-align":n}:{"vertical-align":s.VerticalAlign.Unset},TEXTDECORATION:{"text-decoration":n},FONTVARIANT:{"font-variant":n}}[o];return a?Object.entries(a).filter(([,e])=>!!e).map(([e,t])=>`${e}: ${t};`).join("\n"):""}}function d(e,t){return"COLOR"!==t?e:e?o.CntrlColor.parse(e).toCss():e}function c(e,t,r=Number.NaN){let n=Number.NaN,o=0,s=-1;for(let a of e){if((s+=1)===t&&(n=o),s===r)break;o+=a.length}return isNaN(n)?"":e.slice(n,o)}t.RichTextConverter=u},1626:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScaleAnchorMap=void 0;let n=r(7747);t.ScaleAnchorMap={[n.AreaAnchor.TopLeft]:"top left",[n.AreaAnchor.TopCenter]:"top center",[n.AreaAnchor.TopRight]:"top right",[n.AreaAnchor.MiddleLeft]:"center left",[n.AreaAnchor.MiddleCenter]:"center",[n.AreaAnchor.MiddleRight]:"center right",[n.AreaAnchor.BottomLeft]:"bottom left",[n.AreaAnchor.BottomCenter]:"bottom center",[n.AreaAnchor.BottomRight]:"bottom right"}},8583:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,s){function a(e){try{u(n.next(e))}catch(e){s(e)}}function l(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,l)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.captureStackTrace=t.YouTubeIframeApiLoader=void 0;class n{static create(){return n.instance||(n.instance=new n),n.instance}constructor(){this.loadingPromise=this.loadApi()}getApi(){return r(this,void 0,void 0,function*(){if(yield this.loadingPromise,!window.YT)throw Error("YouTube IFrame API is not loaded");return window.YT})}loadApi(){return new Promise((e,t)=>{let r=document.createElement("script");r.src="https://www.youtube.com/iframe_api";let n=Error("YouTube IFrame API loading failed");o(n),r.addEventListener("abort",()=>{t(n)}),r.addEventListener("error",()=>{t(n)}),window.onYouTubeIframeAPIReady=()=>{window.onYouTubeIframeAPIReady=void 0,e()},document.head.appendChild(r)})}}function o(e){if("function"==typeof Error.captureStackTrace){Error.captureStackTrace(e);return}try{throw e}catch(e){}}t.YouTubeIframeApiLoader=n,t.captureStackTrace=o},7061:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useYouTubeIframeApi=void 0;let n=r(7294),o=r(8583);t.useYouTubeIframeApi=function(){let[e,t]=(0,n.useState)(void 0);return(0,n.useEffect)(()=>{o.YouTubeIframeApiLoader.create().getApi().then(e=>t(e))},[]),e}},2291:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createInsert=t.binSearchInsertAt=void 0,t.binSearchInsertAt=function(e,t,r){let n,o;switch(e.length){case 0:return 0;case 1:return 0>r(t,e[0])?0:1}let s=0,a=e.length;for(;s<a;){if(0===(o=r(t,e[n=s+Math.floor((a-s)/2)])))return n+1;o<0&&(a=n),o>0&&(s=n+1)}return s>=e.length?e.length:0>r(t,e[s])?s:s+1},t.createInsert=function(e,t){return(r,n)=>{let o=e(r,n,t);r.splice(o,0,n)}}},4574:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useImageFx=void 0;let n=r(7294),o=r(4439),s=r(5485),a=r(5365);t.useImageFx=function(e,t,{imageUrl:r,fragmentShader:l,controlsValues:u},d,c){let h=(0,n.useContext)(a.WebglContextManagerContext),[p,f]=(0,n.useState)(!0),m=(0,n.useRef)(null),g=(0,n.useRef)(!1),y=(0,n.useRef)(),v=(0,n.useMemo)(()=>{if(r&&t)return new o.ImageTextureManager(r)},[r,t]),_=(0,n.useMemo)(()=>{if(v)return new o.MediaEffect(v,"https://cdn.cntrl.site/client-app-files/texture2.png","https://cdn.cntrl.site/client-app-files/bayer16.png",l,Object.assign({time:0,cursor:[0,0]},u),d,c)},[v,l,d,c]);return(0,n.useEffect)(()=>{if(_&&u)for(let[e,t]of Object.entries(u))_.setParam(e,t)},[_,u]),(0,n.useEffect)(()=>{if(!e||!_)return;let t=t=>{let r=e.getBoundingClientRect(),n=(0,s.rangeMap)(t.clientX,r.left,r.left+r.width,0,1,!0),o=(0,s.rangeMap)(t.clientY,r.top,r.top+r.height,0,1,!0);_.setParam("cursor",[n,o])};return window.addEventListener("mousemove",t,{capture:!0,passive:!0}),()=>{window.removeEventListener("mousemove",t)}},[e,_]),(0,n.useEffect)(()=>{if(!t||!e||!_)return;let r=0,n=()=>{if(g.current)return;let t=h.getContext(e);if(!t)return;m.current=t,g.current=!0,_.prepare(t);let n=()=>{if(g.current&&m.current){r+=.1,h.updateContextSize(m.current,e.width,e.height),_.setViewport(Math.floor(e.width),Math.floor(e.height)),_.setParam("time",r);try{_.render(m.current)}catch(e){f(!1)}h.renderToCanvas(m.current,e),y.current=requestAnimationFrame(n)}};y.current=requestAnimationFrame(n)},o=()=>{if(!g.current)return;y.current&&(cancelAnimationFrame(y.current),y.current=void 0),m.current&&(h.releaseContext(e),m.current=null);let t=e.getContext("2d");t&&t.clearRect(0,0,e.width,e.height),g.current=!1},s=new IntersectionObserver(([e])=>{e.isIntersecting?n():o()},{threshold:0,rootMargin:"75px"});return s.observe(e),()=>{o(),s.disconnect()}},[e,_,t]),p}},6089:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useVideoFx=void 0;let n=r(7294),o=r(4439),s=r(5485),a=r(5365);t.useVideoFx=function(e,t,{videoUrl:r,fragmentShader:l,controls:u},d,c){let[h,p]=(0,n.useState)(!0),[f,m]=(0,n.useState)(!1),g=t&&f,y=(0,n.useContext)(a.WebglContextManagerContext),v=(0,n.useRef)(null),_=(0,n.useRef)(!1),b=(0,n.useRef)(),x=(0,n.useMemo)(()=>{if(r&&t)return new o.VideoTextureManager(r,()=>{p(!1)})},[r,t]),w=(0,n.useMemo)(()=>{if(x)return new o.MediaEffect(x,"https://cdn.cntrl.site/client-app-files/texture2.png","https://cdn.cntrl.site/client-app-files/bayer16.png",l,Object.assign({time:0,cursor:[0,0]},u),d,c)},[x,l,d,c]);return(0,n.useEffect)(()=>{x&&x.onReadyStatusChange(m)},[x]),(0,n.useEffect)(()=>{if(!e||!w)return;let t=t=>{let r=e.getBoundingClientRect(),n=(0,s.rangeMap)(t.clientX,r.left,r.left+r.width,0,1,!0),o=(0,s.rangeMap)(t.clientY,r.top,r.top+r.height,0,1,!0);w.setParam("cursor",[n,o])};return window.addEventListener("mousemove",t,{capture:!0,passive:!0}),()=>{window.removeEventListener("mousemove",t)}},[e,w]),(0,n.useEffect)(()=>{if(!g||!e||!w)return;let t=0,r=()=>{if(_.current)return;let r=y.getContext(e);if(!r)return;v.current=r,_.current=!0,w.prepare(r);let n=()=>{if(_.current&&v.current){t+=.1,y.updateContextSize(v.current,e.width,e.height),w.setViewport(Math.floor(e.width),Math.floor(e.height)),w.setParam("time",t);try{w.render(v.current)}catch(e){p(!1)}y.renderToCanvas(v.current,e),b.current=requestAnimationFrame(n)}};b.current=requestAnimationFrame(n)},n=()=>{if(!_.current)return;b.current&&(cancelAnimationFrame(b.current),b.current=void 0),v.current&&(y.releaseContext(e),v.current=null);let t=e.getContext("2d");t&&t.clearRect(0,0,e.width,e.height),_.current=!1},o=new IntersectionObserver(([e])=>{e.isIntersecting?r():n()},{threshold:0,rootMargin:"75px"});return o.observe(e),()=>{n(),o.disconnect()}},[e,w,g]),h}},6281:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAnchoredItemTop=void 0;let n=r(7747);t.getAnchoredItemTop=function(e,t,r){let o=`${100*e}vw`;switch(r){case n.AnchorSide.Center:return`calc(${o} + ${t} / 2)`;case n.AnchorSide.Bottom:return`calc(${o} + ${t})`;case n.AnchorSide.Top:default:return o}}},757:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCompoundTransform=t.getCompoundLeft=t.getCompoundTop=t.getCompoundWidth=t.getCompoundHeight=void 0;let n=r(7747),o={[n.AreaAnchor.TopLeft]:[0,0],[n.AreaAnchor.TopCenter]:[0,.5],[n.AreaAnchor.TopRight]:[0,1],[n.AreaAnchor.MiddleLeft]:[.5,0],[n.AreaAnchor.MiddleCenter]:[.5,.5],[n.AreaAnchor.MiddleRight]:[.5,1],[n.AreaAnchor.BottomLeft]:[1,0],[n.AreaAnchor.BottomCenter]:[1,.5],[n.AreaAnchor.BottomRight]:[1,1]};t.getCompoundHeight=function(e,t){if(void 0!==t&&e)return"relative"===e.heightMode?`${100*t}%`:`${100*t}vw`},t.getCompoundWidth=function(e,t,r,n){if(void 0!==t&&e)return"relative"===e.widthMode?`${100*t}%`:r&&n?`${t*n}px`:`${100*t}vw`},t.getCompoundTop=function(e,t){if(void 0===t||!e)return;if("relative"===e.heightMode)return`${100*t}%`;let[r]=o[e.positionAnchor];return`calc(${100*r}% + ${100*t}vw)`},t.getCompoundLeft=function(e,t){if(void 0===t||!e)return;if("relative"===e.widthMode)return`${100*t}%`;let[r,n]=o[e.positionAnchor];return`calc(${100*n}% + ${100*t}vw)`},t.getCompoundTransform=function(e){if(!e)return"unset";let[t,r]=o[e.positionAnchor];return`translate(${-100*r}%, ${-100*t}%)`}},7980:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFontFamilyValue=void 0,t.getFontFamilyValue=function(e){return e&&e.includes('"')?e:`"${e}"`}},4398:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getItemTopStyle=void 0;let n=r(7747);t.getItemTopStyle=function(e,t){let r=`${100*e}vw`;if(!t)return r;switch(t){case n.AnchorSide.Top:return r;case n.AnchorSide.Center:return`calc(50% + ${100*e}vw)`;case n.AnchorSide.Bottom:return`calc(100% + ${100*e}vw)`}}},2247:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStyleFromItemStateAndParams=void 0,t.getStyleFromItemStateAndParams=function(e,t){return void 0!==e?e:t}},474:function(e,t){"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.getYoutubeId=void 0,(n=r||(r={})).Tiny="youtu.be",n.Full="www.youtube.com",t.getYoutubeId=function({hostname:e,pathname:t,search:n}){if(e!==r.Full&&e!==r.Tiny)throw Error(`Cannot get valid YouTube ID from "${e}" - address is not whitelisted`);switch(e){case r.Tiny:return t.replace("/","");case r.Full:if(t.startsWith("/shorts/")){let e=t.split("/shorts/")[1];if(!e)throw Error("Cannot get valid YouTube Shorts ID from the pathname.");return e}{let e=new URLSearchParams(n).get("v");if(!e)throw Error("Cannot get valid YouTube ID from search params.");return e}}}},9355:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isItemType=void 0,t.isItemType=function(e,t){return e.type===t}},5485:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rangeMap=void 0,t.rangeMap=function(e,t,r,n,o,s=!1){return s&&e<t?n:s&&e>r?o:(e-t)/(r-t)*(o-n)+n}},5301:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useElementRect=void 0;let n=r(7294);t.useElementRect=function(e){let[t,r]=(0,n.useState)(()=>null==e?void 0:e.getBoundingClientRect());return(0,n.useEffect)(()=>{if(!e)return;let t=new ResizeObserver(t=>{let n=t.find(t=>t.target===e);if(!n)throw Error("Element is not found in observed entries");r(n.target.getBoundingClientRect())});return t.observe(e),()=>{t.unobserve(e),t.disconnect()}},[e]),t}},7747:function(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});let n=r(4301),o=r(1987),s=r(3194),a=r(2238),l=r(2041),u=r(5893),d=r(7294),c=r(4244),h=r(3967),p=function(e){let t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(let r in e)if("default"!==r){let n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}(l);var f,m,g,y,v,_,b,x,w,S,C,T,E=((f=E||{}).ControlUnits="control-units",f.ViewportHeightUnits="viewport-height-units",f);let k=s.z.object({timing:s.z.string(),duration:s.z.number(),delay:s.z.number()}),I=e=>s.z.object({value:e,in:k,out:k}).optional(),A=s.z.object({width:I(s.z.number()),height:I(s.z.number()),angle:I(s.z.number()),top:I(s.z.number()),left:I(s.z.number()),scale:I(s.z.number()),blur:I(s.z.number())}),P=s.z.object({opacity:I(s.z.number()),radius:I(s.z.number()),strokeWidth:I(s.z.number()),strokeColor:I(s.z.string())}).merge(A),U=s.z.object({strokeWidth:I(s.z.number()),radius:I(s.z.number()),fillColor:I(s.z.string()),strokeColor:I(s.z.string()),backdropBlur:I(s.z.number())}).merge(A),z=s.z.object({radius:I(s.z.number()),opacity:I(s.z.number().nonnegative())}).merge(A),O=s.z.object({color:I(s.z.string()),letterSpacing:I(s.z.number()),wordSpacing:I(s.z.number())}).merge(A),j=s.z.object({opacity:I(s.z.number().nonnegative()),blur:I(s.z.number().nonnegative())}).merge(A),R=s.z.object({opacity:I(s.z.number().nonnegative())}).merge(A),B=s.z.object({opacity:I(s.z.number().nonnegative())}).merge(A),M=s.z.object({opacity:I(s.z.number().nonnegative())}).merge(A);s.z.union([z,P,U,O,A,j,R,B,M]);var L=((m=L||{}).Left="left",m.Right="right",m.Center="center",m.Justify="justify",m),F=((g=F||{}).None="none",g.Uppercase="uppercase",g.Lowercase="lowercase",g),N=((y=N||{}).Super="super",y.Sub="sub",y.Unset="unset",y),D=((v=D||{}).Underline="underline",v.None="none",v),$=((_=$||{}).Top="top",_.Bottom="bottom",_.Center="center",_),Z=((b=Z||{}).SectionBased="section-based",b.ScreenBased="screen-based",b),V=((x=V||{}).TopLeft="top-left",x.TopCenter="top-center",x.TopRight="top-right",x.MiddleLeft="middle-left",x.MiddleCenter="middle-center",x.MiddleRight="middle-right",x.BottomLeft="bottom-left",x.BottomCenter="bottom-center",x.BottomRight="bottom-right",x),G=((w=G||{}).ControlUnits="control-units",w.Relative="relative",w);let H=s.z.object({top:s.z.number(),left:s.z.number(),width:s.z.number(),height:s.z.number(),zIndex:s.z.number(),angle:s.z.number(),anchorSide:s.z.nativeEnum($).optional(),scale:s.z.number().nonnegative(),positionType:s.z.nativeEnum(Z),scaleAnchor:s.z.nativeEnum(V)}),W=s.z.object({url:s.z.string().min(1),target:s.z.string().min(1)}),Y=s.z.object({positionAnchor:s.z.nativeEnum(V),widthMode:s.z.nativeEnum(G),heightMode:s.z.nativeEnum(G)}),K=s.z.object({id:s.z.string().min(1),area:s.z.record(H),hidden:s.z.record(s.z.boolean()),link:W.optional(),compoundSettings:s.z.record(Y).optional(),layoutParams:s.z.record(s.z.any()).optional()});var q=((S=q||{}).Image="image",S.RichText="richtext",S.Video="video",S.Rectangle="rectangle",S.VimeoEmbed="vimeo-embed",S.YoutubeEmbed="youtube-embed",S.Custom="custom",S.Group="group",S.CodeEmbed="code-embed",S.Compound="compound",S.Component="component",S);let X=s.z.enum(["never","when_visible","always"]).optional(),J=s.z.object({start:s.z.number().nonnegative(),end:s.z.number().nonnegative(),type:s.z.string(),data:s.z.any().optional()}),Q=s.z.object({start:s.z.number().nonnegative(),end:s.z.number().nonnegative(),style:s.z.string().min(1),value:s.z.string().optional()}),ee=s.z.lazy(()=>s.z.object({start:s.z.number().nonnegative(),end:s.z.number().nonnegative(),type:s.z.string().min(1),entities:s.z.array(J).optional(),children:s.z.array(ee).optional(),data:s.z.any().optional()})),et=K.extend({type:s.z.literal(q.RichText),commonParams:s.z.object({text:s.z.string(),blocks:s.z.array(ee).optional(),pointerEvents:X}),sticky:s.z.record(s.z.object({from:s.z.number(),to:s.z.number().optional()}).nullable()),layoutParams:s.z.record(s.z.object({rangeStyles:s.z.array(Q).optional(),textAlign:s.z.nativeEnum(L),sizing:s.z.string(),blur:s.z.number(),fontSize:s.z.number(),lineHeight:s.z.number(),letterSpacing:s.z.number(),wordSpacing:s.z.number(),textTransform:s.z.nativeEnum(F),verticalAlign:s.z.nativeEnum(N),color:s.z.string(),typeFace:s.z.string(),fontStyle:s.z.string(),fontWeight:s.z.number(),fontVariant:s.z.string(),isDraggable:s.z.boolean().optional()})),state:s.z.record(O)}),ei=s.z.enum(["never","when_visible","always"]).optional(),er=s.z.discriminatedUnion("type",[s.z.object({type:s.z.literal("float"),shaderParam:s.z.string(),value:s.z.number()}),s.z.object({type:s.z.literal("int"),shaderParam:s.z.string(),value:s.z.number()}),s.z.object({type:s.z.literal("vec2"),shaderParam:s.z.string(),value:s.z.tuple([s.z.number(),s.z.number()])})]),en=s.z.object({url:s.z.string().min(1),hasGLEffect:s.z.boolean().optional(),fragmentShader:s.z.string().nullable(),FXControls:s.z.array(er).optional()}),eo=K.extend({type:s.z.literal(q.Image),commonParams:s.z.object({pointerEvents:ei}).merge(en),sticky:s.z.record(s.z.object({from:s.z.number(),to:s.z.number().optional()}).nullable()),layoutParams:s.z.record(s.z.object({opacity:s.z.number().nonnegative(),radius:s.z.number(),strokeWidth:s.z.number(),strokeColor:s.z.string(),blur:s.z.number(),isDraggable:s.z.boolean().optional()})),state:s.z.record(P)}),es=K.extend({type:s.z.literal(q.Video),commonParams:s.z.object({coverUrl:s.z.string().nullable(),pointerEvents:ei}).merge(en),sticky:s.z.record(s.z.object({from:s.z.number(),to:s.z.number().optional()}).nullable()),layoutParams:s.z.record(s.z.object({autoplay:s.z.boolean(),scrollPlayback:s.z.object({from:s.z.number(),to:s.z.number()}).nullable(),opacity:s.z.number().nonnegative(),radius:s.z.number(),strokeWidth:s.z.number(),strokeColor:s.z.string(),blur:s.z.number(),isDraggable:s.z.boolean().optional()})),state:s.z.record(P)}),ea=K.extend({type:s.z.literal(q.Rectangle),commonParams:s.z.object({ratioLock:s.z.boolean(),pointerEvents:ei}),sticky:s.z.record(s.z.object({from:s.z.number(),to:s.z.number().optional()}).nullable()),layoutParams:s.z.record(s.z.object({radius:s.z.number(),strokeWidth:s.z.number(),fillColor:s.z.string().min(1),strokeColor:s.z.string().min(1),blur:s.z.number(),backdropBlur:s.z.number(),blurMode:s.z.enum(["default","backdrop"]),isDraggable:s.z.boolean().optional()})),state:s.z.record(U)}),el=K.extend({type:s.z.literal(q.Custom),commonParams:s.z.object({name:s.z.string(),pointerEvents:ei}),sticky:s.z.record(s.z.object({from:s.z.number(),to:s.z.number().optional()}).nullable()),layoutParams:s.z.record(s.z.object({isDraggable:s.z.boolean().optional()})),state:s.z.record(A)}),eu=K.extend({type:s.z.literal(q.VimeoEmbed),commonParams:s.z.object({play:s.z.union([s.z.literal("on-hover"),s.z.literal("on-click"),s.z.literal("auto")]),controls:s.z.boolean(),loop:s.z.boolean(),muted:s.z.boolean(),pictureInPicture:s.z.boolean(),url:s.z.string().min(1),coverUrl:s.z.string().nullable(),ratioLock:s.z.boolean(),pointerEvents:ei}),sticky:s.z.record(s.z.object({from:s.z.number(),to:s.z.number().optional()}).nullable()),layoutParams:s.z.record(s.z.object({radius:s.z.number(),blur:s.z.number(),opacity:s.z.number().nonnegative()})),state:s.z.record(z)}),ed=K.extend({type:s.z.literal(q.YoutubeEmbed),commonParams:s.z.object({play:s.z.enum(["on-hover","on-click","auto"]),controls:s.z.boolean(),loop:s.z.boolean(),url:s.z.string().min(1),coverUrl:s.z.string().nullable(),pointerEvents:ei}),sticky:s.z.record(s.z.object({from:s.z.number(),to:s.z.number().optional()}).nullable()),layoutParams:s.z.record(s.z.object({radius:s.z.number(),blur:s.z.number(),opacity:s.z.number().nonnegative()})),state:s.z.record(z)}),ec=K.extend({type:s.z.literal(q.CodeEmbed),commonParams:s.z.object({html:s.z.string(),scale:s.z.boolean(),iframe:s.z.boolean(),pointerEvents:ei}),sticky:s.z.record(s.z.object({from:s.z.number(),to:s.z.number().optional()}).nullable()),layoutParams:s.z.record(s.z.object({areaAnchor:s.z.nativeEnum(V),opacity:s.z.number().nonnegative(),blur:s.z.number(),isDraggable:s.z.boolean().optional()})),state:s.z.record(B)}),eh=K.extend({type:s.z.literal(q.Component),commonParams:s.z.object({componentId:s.z.string(),content:s.z.any().optional()}),sticky:s.z.record(s.z.object({from:s.z.number(),to:s.z.number().optional()}).nullable()),layoutParams:s.z.record(s.z.object({parameters:s.z.any().optional(),opacity:s.z.number().nonnegative(),blur:s.z.number()})),state:s.z.record(M)}),ep=s.z.lazy(()=>s.z.discriminatedUnion("type",[eo,es,ea,el,et,eu,ed,ec,eh,K.extend({type:s.z.literal(q.Group),commonParams:s.z.object({pointerEvents:ei}),items:s.z.array(ep),sticky:s.z.record(s.z.object({from:s.z.number(),to:s.z.number().optional()}).nullable()),layoutParams:s.z.record(s.z.object({opacity:s.z.number().nonnegative(),blur:s.z.number()})),state:s.z.record(j)}),K.extend({type:s.z.literal(q.Compound),commonParams:s.z.object({overflow:s.z.enum(["hidden","visible"]),pointerEvents:ei}),items:s.z.array(ep),sticky:s.z.record(s.z.object({from:s.z.number(),to:s.z.number().optional()}).nullable()),layoutParams:s.z.record(s.z.object({opacity:s.z.number().nonnegative()})),state:s.z.record(R)})])),ef=s.z.object({mode:s.z.nativeEnum(E),units:s.z.number().nonnegative(),vhUnits:s.z.number().nonnegative().optional()}),em=s.z.object({id:s.z.string().min(1),items:s.z.array(ep),name:s.z.string().optional(),height:s.z.record(ef),position:s.z.record(s.z.number()),hidden:s.z.record(s.z.boolean()),color:s.z.record(s.z.nullable(s.z.string())),media:s.z.record(s.z.object({url:s.z.string(),size:s.z.string(),position:s.z.string(),offsetX:s.z.number().nullable()})).optional()}),eg=s.z.object({itemId:s.z.string(),type:s.z.enum(["hover-in","hover-out","click"]),from:s.z.string(),to:s.z.string()}),ey=s.z.object({type:s.z.enum(["play","pause"]),itemId:s.z.string()}),ev=s.z.object({id:s.z.string(),actions:s.z.array(ey).optional()}),e_=s.z.object({id:s.z.string(),triggers:s.z.array(eg),states:s.z.array(ev),startStateId:s.z.string()}),eb=s.z.object({id:s.z.string().min(1),sections:s.z.array(em),interactions:s.z.record(s.z.array(e_))}),ex=s.z.object({id:s.z.string(),title:s.z.string(),startsWith:s.z.number().nonnegative(),exemplary:s.z.number().positive()});var ew=((C=ew||{}).OTF="otf",C.TTF="ttf",C.WOFF="woff",C.WOFF2="woff2",C.EOT="eot",C);let eS=s.z.object({id:s.z.string().min(1),html:s.z.object({head:s.z.string(),afterBodyOpen:s.z.string(),beforeBodyClose:s.z.string()}),meta:s.z.object({title:s.z.string().optional(),description:s.z.string().optional(),opengraphThumbnail:s.z.string().optional(),keywords:s.z.string().optional(),favicon:s.z.string().optional()}),layouts:s.z.array(ex),pages:s.z.array(s.z.object({title:s.z.string(),articleId:s.z.string().min(1),slug:s.z.string(),meta:s.z.object({title:s.z.string().optional(),description:s.z.string().optional(),opengraphThumbnail:s.z.string().optional(),keywords:s.z.string().optional(),enabled:s.z.boolean()}).optional(),id:s.z.string().min(1)})),fonts:s.z.object({google:s.z.string(),adobe:s.z.string(),custom:s.z.array(s.z.object({name:s.z.string().min(1),style:s.z.string().min(1),weight:s.z.number(),files:s.z.array(s.z.object({type:s.z.nativeEnum(ew),url:s.z.string().url()}))}))})});var eC=((T=eC||{}).Dimensions="dimensions",T.Position="position",T.Rotation="rotation",T.BorderRadius="border-radius",T.BorderWidth="border-width",T.Color="color",T.BorderColor="border-color",T.Opacity="opacity",T.Scale="scale",T.TextColor="text-color",T.LetterSpacing="letter-spacing",T.WordSpacing="word-spacing",T.Blur="blur",T.BackdropBlur="backdrop-blur",T.FXParams="fx-params",T);let eT=s.z.object({id:s.z.string().min(1),layoutId:s.z.string().min(1),itemId:s.z.string().min(1),position:s.z.number()}),eE=eT.extend({type:s.z.literal(eC.Dimensions),value:s.z.object({width:s.z.number().nonnegative(),height:s.z.number().nonnegative()})}),ek=eT.extend({type:s.z.literal(eC.Position),value:s.z.object({top:s.z.number(),left:s.z.number()})}),eI=eT.extend({type:s.z.literal(eC.Rotation),value:s.z.object({angle:s.z.number()})}),eA=eT.extend({type:s.z.literal(eC.BorderRadius),value:s.z.object({radius:s.z.number().nonnegative()})}),eP=eT.extend({type:s.z.literal(eC.BorderWidth),value:s.z.object({borderWidth:s.z.number().nonnegative()})}),eU=eT.extend({type:s.z.literal(eC.Color),value:s.z.object({color:s.z.string()})}),ez=eT.extend({type:s.z.literal(eC.BorderColor),value:s.z.object({color:s.z.string()})}),eO=eT.extend({type:s.z.literal(eC.Opacity),value:s.z.object({opacity:s.z.number().nonnegative()})}),ej=eT.extend({type:s.z.literal(eC.Scale),value:s.z.object({scale:s.z.number().nonnegative()})}),eR=eT.extend({type:s.z.literal(eC.Blur),value:s.z.object({blur:s.z.number()})}),eB=eT.extend({type:s.z.literal(eC.BackdropBlur),value:s.z.object({backdropBlur:s.z.number()})}),eM=eT.extend({type:s.z.literal(eC.TextColor),value:s.z.object({color:s.z.string()})}),eL=eT.extend({type:s.z.literal(eC.LetterSpacing),value:s.z.object({letterSpacing:s.z.number()})}),eF=eT.extend({type:s.z.literal(eC.WordSpacing),value:s.z.object({wordSpacing:s.z.number()})}),eN=eT.extend({type:s.z.literal(eC.FXParams),value:s.z.record(s.z.string(),s.z.number())}),eD=s.z.discriminatedUnion("type",[eE,ek,eI,eA,eP,eU,ez,eO,ej,eR,eB,eM,eL,eF,eN]),e$=s.z.array(eD);class eZ{constructor(e,t=n){if(this.fetchImpl=t,this.url=new o.URL(e),!this.url.username)throw Error("Project ID is missing in the URL.");if(!this.url.password)throw Error("API key is missing in the URL.")}static getPageMeta(e,t){return t.enabled?{title:t.title?t.title:e.title??"",description:t.description?t.description:e.description??"",keywords:t.keywords?t.keywords:e.keywords??"",opengraphThumbnail:t.opengraphThumbnail?t.opengraphThumbnail:e.opengraphThumbnail??"",favicon:e.favicon??""}:e}async getPageData(e){try{let t=await this.fetchProject(),r=this.findArticleIdByPageSlug(e,t.pages),{article:n,keyframes:o}=await this.fetchArticle(r),s=t.pages.find(t=>t.slug===e),a=eZ.getPageMeta(t.meta,null==s?void 0:s.meta);return{project:t,article:n,keyframes:o,meta:a}}catch(e){throw e}}async getProjectPagesPaths(){try{let{pages:e}=await this.fetchProject();return e.map(e=>e.slug)}catch(e){throw e}}async getLayouts(){try{let{layouts:e}=await this.fetchProject();return e}catch(e){throw e}}async fetchProject(){let{username:e,password:t,origin:r}=this.url,n=new o.URL(`/projects/${e}`,r),s=await this.fetchImpl(n.href,{headers:{Authorization:`Bearer ${t}`}});if(!s.ok)throw Error(`Failed to fetch project with id #${e}: ${s.statusText}`);let a=await s.json();return eS.parse(a)}async fetchArticle(e){let{username:t,password:r,origin:n}=this.url,s=new o.URL(`/projects/${t}/articles/${e}`,n),a=await this.fetchImpl(s.href,{headers:{Authorization:`Bearer ${r}`}});if(!a.ok)throw Error(`Failed to fetch article with id #${e}: ${a.statusText}`);let l=await a.json();return{article:eb.parse(l.article),keyframes:e$.parse(l.keyframes)}}findArticleIdByPageSlug(e,t){let{username:r}=this.url,n=t.find(t=>t.slug===e);if(!n)throw Error(`Page with a slug ${e} was not found in project with id #${r}`);return n.articleId}}let eV={ttf:"truetype",otf:"opentype"};class eG{constructor(e){this.fonts=e}generate(){return this.fonts.map(e=>{let t=e.files.find(e=>"eot"===e.type),r=e.files.filter(e=>"eot"!==e.type).map(e=>`url('${e.url}') format('${eV[e.type]||e.type}')`);return`
@font-face {
  font-family: "${e.name}";
  font-weight: ${e.weight};
  font-style: ${e.style};
  ${t?`src: url('${t.url}');
  `:""}src: ${r.join(", ")};
}`}).join("\n")}}class eH{constructor(e){this.data=new Uint8Array(e),this.idx=0,this.size=e}getData(){if(this.idx!==this.size)throw Error("Mismatch between size reserved and sized used");return this.data.slice(0,this.idx)}writeUint8(e){this.data.set([e],this.idx),this.idx+=1}writeUint16(e){let t=new Uint16Array(1);t[0]=e;let r=new Uint8Array(t.buffer);this.data.set([r[1],r[0]],this.idx),this.idx+=2}writeUint8Array(e){this.data.set(e,this.idx),this.idx+=e.length}}let eW=e=>{let t;let r=7;for(t=0;t<e.SPS.length;t+=1)r+=2+e.SPS[t].length;for(t=0;t<e.PPS.length;t+=1)r+=2+e.PPS[t].length;let n=new eH(r);for(n.writeUint8(e.configurationVersion),n.writeUint8(e.AVCProfileIndication),n.writeUint8(e.profile_compatibility),n.writeUint8(e.AVCLevelIndication),n.writeUint8(e.lengthSizeMinusOne+252),n.writeUint8(e.nb_SPS_nalus+224),t=0;t<e.SPS.length;t+=1)n.writeUint16(e.SPS[t].length),n.writeUint8Array(e.SPS[t].nalu);for(n.writeUint8(e.nb_PPS_nalus),t=0;t<e.PPS.length;t+=1)n.writeUint16(e.PPS[t].length),n.writeUint8Array(e.PPS[t].nalu);return n.getData()},eY=(e,t,{VideoDecoder:r,EncodedVideoChunk:n,debug:o})=>new Promise((s,a)=>{o&&console.info("Decoding video from",e);try{let l;let u=p.createFile(),d=new r({output:e=>{createImageBitmap(e,{resizeQuality:"low"}).then(r=>{t(r),e.close(),d.decodeQueueSize<=0&&setTimeout(()=>{"closed"!==d.state&&(d.close(),s())},500)})},error:e=>{console.error(e),a(e)}});u.onReady=e=>{if(e&&e.videoTracks&&e.videoTracks[0]){[{codec:l}]=e.videoTracks,o&&console.info("Video with codec:",l);let t=u.moov.traks[0].mdia.minf.stbl.stsd.entries[0].avcC,r=eW(t);d.configure({codec:l,description:r}),u.setExtractionOptions(e.videoTracks[0].id),u.start()}else a(Error("URL provided is not a valid mp4 video file."))},u.onSamples=(e,t,r)=>{for(let e=0;e<r.length;e+=1){let t=r[e],o=t.is_sync?"key":"delta",s=new n({type:o,timestamp:t.cts,duration:t.duration,data:t.data});d.decode(s)}},fetch(e).then(e=>{let t=e.body.getReader(),r=0;return t.read().then(function e({done:n,value:o}){if(n)return u.flush(),null;let s=o.buffer;return s.fileStart=r,r+=s.byteLength,u.appendBuffer(s),t.read().then(e)})})}catch(e){a(e)}}),eK=(e,t,r)=>"function"==typeof VideoDecoder&&"function"==typeof EncodedVideoChunk?(r&&console.info("WebCodecs is natively supported, using native version..."),eY(e,t,{VideoDecoder,EncodedVideoChunk,debug:r})):(r&&console.info("WebCodecs is not available in this browser."),Promise.resolve());class eq{constructor(e){this.currentTime=0,this.targetTime=0,this.canvas=null,this.context=null,this.frames=[],this.frameRate=0,this.transitioning=!1,this.debug=!1,this.frameThreshold=.1,this.transitionSpeed=10,this.useWebCodecs=!0,this.resize=()=>{this.debug&&console.info("ScrollVideo resizing..."),this.canvas?this.setCoverStyle(this.canvas):this.video&&this.setCoverStyle(this.video),this.paintCanvasFrame(Math.floor(this.currentTime*this.frameRate))},this.decodeVideo=()=>{this.video&&this.useWebCodecs&&this.video.src&&eK(this.video.src,e=>{this.frames.push(e)},this.debug).then(()=>{if(this.video&&this.container){if(0===this.frames.length){this.debug&&console.error("No frames were received from webCodecs");return}this.frameRate=this.frames.length/this.video.duration,this.debug&&console.info("Received",this.frames.length,"frames"),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.video.style.display="none",this.container.appendChild(this.canvas),this.paintCanvasFrame(Math.floor(this.currentTime*this.frameRate))}}).catch(()=>{this.debug&&console.error("Error encountered while decoding video"),this.frames=[],this.video.load()})},this.resizeObserver=new ResizeObserver(()=>{this.resize()});let{src:t,videoContainer:r}=e;if("object"!=typeof document){console.error("ScrollVideo must be initiated in a DOM context");return}if(!r){console.error("scrollVideoContainer must be a valid DOM object");return}if(!t){console.error("Must provide valid video src to ScrollVideo");return}this.container="string"==typeof r?document.getElementById(r):r,this.resizeObserver.observe(this.container),this.video=document.createElement("video"),this.video.src=t,this.video.preload="auto",this.video.tabIndex=0,this.video.playsInline=!0,this.video.muted=!0,this.video.pause(),this.video.load(),this.container.appendChild(this.video);let n=new a().getEngine();this.isSafari="WebKit"===n.name,this.debug&&this.isSafari&&console.info("Safari browser detected"),this.video.addEventListener("loadedmetadata",()=>this.setTargetTimePercent(0,!0),{once:!0}),this.video.addEventListener("progress",this.resize),this.decodeVideo()}setCoverStyle(e){if(e&&this.container){e.style.position="absolute",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)";let{width:t,height:r}=this.container.getBoundingClientRect();t/r>(e.videoWidth||e.width)/(e.videoHeight||e.height)?(e.style.width="100%",e.style.height="auto"):(e.style.height="100%",e.style.width="auto")}}paintCanvasFrame(e){if(this.canvas){let t=Math.min(e,this.frames.length-1),r=this.frames[t];if(r&&this.container){this.debug&&console.info("Painting frame",t),this.canvas.width=r.width,this.canvas.height=r.height;let{width:e,height:n}=this.container.getBoundingClientRect();this.resetCanvasDimensions(e,n,r.width,r.height),this.context.drawImage(r,0,0,r.width,r.height)}}}transitionToTargetTime(e){if(!this.video)return;if(this.debug&&console.info("Transitioning targetTime:",this.targetTime,"currentTime:",this.currentTime),isNaN(this.targetTime)||Math.abs(this.currentTime-this.targetTime)<this.frameThreshold){this.video.pause(),this.transitioning=!1;return}this.targetTime>this.video.duration&&(this.targetTime=this.video.duration),this.targetTime<0&&(this.targetTime=0);let t=this.targetTime-this.currentTime;if(this.canvas)this.currentTime+=t/(256/this.transitionSpeed),e&&(this.currentTime=this.targetTime),this.paintCanvasFrame(Math.floor(this.currentTime*this.frameRate));else if(e||this.isSafari||this.targetTime-this.currentTime<0)this.video.pause(),this.currentTime+=t/(64/this.transitionSpeed),e&&(this.currentTime=this.targetTime),this.video.currentTime=this.currentTime;else{let e=Math.max(Math.min(4*t,this.transitionSpeed,16),1);this.debug&&console.info("ScrollVideo playbackRate:",e),isNaN(e)||(this.video.playbackRate=e,this.video.play()),this.currentTime=this.video.currentTime}"function"==typeof requestAnimationFrame&&requestAnimationFrame(()=>this.transitionToTargetTime(e))}resetCanvasDimensions(e,t,r,n){this.canvas&&(e/t>r/n?(this.canvas.style.width="100%",this.canvas.style.height="auto"):(this.canvas.style.height="100%",this.canvas.style.width="auto"))}setTargetTimePercent(e,t=!0){this.video&&(this.targetTime=Math.max(Math.min(e,1),0)*(this.frames.length&&this.frameRate?this.frames.length/this.frameRate:this.video.duration),!t&&Math.abs(this.currentTime-this.targetTime)<this.frameThreshold||!t&&this.transitioning||(this.canvas||this.video.paused||this.video.play(),this.transitioning=!0,this.transitionToTargetTime(t)))}destroy(){var e;this.resizeObserver.unobserve(this.container),null==(e=this.video)||e.removeEventListener("progress",this.resize),this.debug&&console.info("Destroying ScrollVideo"),this.container&&(this.container.innerHTML="")}}let eX={wrapper:"ControlSlider-module__wrapper___sHEkd",sliderItem:"ControlSlider-module__sliderItem___QQSkR",sliderImage:"ControlSlider-module__sliderImage___9hRl-",arrow:"ControlSlider-module__arrow___05ghY",arrowVertical:"ControlSlider-module__arrowVertical___tBfVN",nextArrow:"ControlSlider-module__nextArrow___-30Yc",arrowInner:"ControlSlider-module__arrowInner___aEra3",arrowIcon:"ControlSlider-module__arrowIcon___S4ztF",arrowImg:"ControlSlider-module__arrowImg___2dwJW",mirror:"ControlSlider-module__mirror___brd6U",pagination:"ControlSlider-module__pagination___bicLF",paginationInner:"ControlSlider-module__paginationInner___bT-P-",paginationVertical:"ControlSlider-module__paginationVertical___zYqKw",paginationItem:"ControlSlider-module__paginationItem___nTRbk",dot:"ControlSlider-module__dot___p1Qun",activeDot:"ControlSlider-module__activeDot___LHFaj",paginationInsideBottom:"ControlSlider-module__paginationInsideBottom___R3FWn",paginationInsideTop:"ControlSlider-module__paginationInsideTop___V-qb-",paginationOutsideBottom:"ControlSlider-module__paginationOutsideBottom___14w8D",paginationOutsideTop:"ControlSlider-module__paginationOutsideTop___SCLqB",paginationInsideLeft:"ControlSlider-module__paginationInsideLeft___yOBRZ",paginationInsideRight:"ControlSlider-module__paginationInsideRight___Rtt3o",paginationOutsideLeft:"ControlSlider-module__paginationOutsideLeft___lahaw",paginationOutsideRight:"ControlSlider-module__paginationOutsideRight___EtuQa",imgWrapper:"ControlSlider-module__imgWrapper___UjEgB",captionBlock:"ControlSlider-module__captionBlock___dJ6-j",captionTextWrapper:"ControlSlider-module__captionTextWrapper___HFlpf",captionText:"ControlSlider-module__captionText___uGBVc",active:"ControlSlider-module__active___WZK4G",withPointerEvents:"ControlSlider-module__withPointerEvents___t-18M",topLeftAlignment:"ControlSlider-module__topLeftAlignment___zjnGM",topCenterAlignment:"ControlSlider-module__topCenterAlignment___gD1xW",topRightAlignment:"ControlSlider-module__topRightAlignment___NMapS",middleLeftAlignment:"ControlSlider-module__middleLeftAlignment___OnUrY",middleCenterAlignment:"ControlSlider-module__middleCenterAlignment___Tdkl0",middleRightAlignment:"ControlSlider-module__middleRightAlignment___wEbfX",bottomLeftAlignment:"ControlSlider-module__bottomLeftAlignment___cTP2-",bottomCenterAlignment:"ControlSlider-module__bottomCenterAlignment___c54fB",bottomRightAlignment:"ControlSlider-module__bottomRightAlignment___kEwrz",clickOverlay:"ControlSlider-module__clickOverlay___DZA28",contain:"ControlSlider-module__contain___pLyq7",cover:"ControlSlider-module__cover___KdDat"},eJ={link:"RichTextRenderer-module__link___BWeZ2"},eQ=({content:e})=>{let t=e=>e.map((e,r)=>"link"===e.type?u.jsx("a",{className:eJ.link,href:e.value,target:e.target,children:t(e.children)},r):u.jsx("span",{style:{...e.fontWeight&&{fontWeight:e.fontWeight},...e.fontStyle&&{fontStyle:e.fontStyle},...e.textDecoration&&{textDecoration:e.textDecoration},...e.textTransform&&{textTransform:e.textTransform},...e.fontVariant&&{fontVariant:e.fontVariant},...e.verticalAlign&&{verticalAlign:e.verticalAlign,lineHeight:"0px"}},children:e.text},r));return u.jsx(u.Fragment,{children:e.map((e,r)=>{let n=e.children;return u.jsx("div",{children:t(n)},r)})})};function e0(e,t=!1){return t?`calc(var(--cntrl-article-width) * ${e})`:`${100*e}vw`}let e1={svg:"SvgImage-module__svg___q3xE-",img:"SvgImage-module__img___VsTm-"},e2=({url:e,fill:t="#000000",hoverFill:r="#CCCCCC",className:n=""})=>{let[o,s]=d.useState(!0);return(d.useEffect(()=>{"undefined"!=typeof window&&window.CSS&&s(CSS.supports("mask-image",'url("")')||CSS.supports("-webkit-mask-image",'url("")'))},[]),e.endsWith(".svg")&&o)?u.jsx("span",{"data-supports-mask":o,className:h(e1.svg,n),style:{"--svg":`url(${e})`,"--fill":t,"--hover-fill":r}}):u.jsx("img",{src:e,alt:"",className:h(e1.img,n)})},e3={"top-left":eX.topLeftAlignment,"top-center":eX.topCenterAlignment,"top-right":eX.topRightAlignment,"middle-left":eX.middleLeftAlignment,"middle-center":eX.middleCenterAlignment,"middle-right":eX.middleRightAlignment,"bottom-left":eX.bottomLeftAlignment,"bottom-center":eX.bottomCenterAlignment,"bottom-right":eX.bottomRightAlignment};function e4({color:e,className:t}){return u.jsx("svg",{viewBox:"0 0 10 18",className:t,children:u.jsx("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fillRule:"evenodd",children:u.jsx("path",{d:"M-3.70710678,4.29289322 C-3.34662282,3.93240926 -2.77939176,3.90467972 -2.38710056,4.20970461 L-2.29289322,4.29289322 L5,11.585 L12.2928932,4.29289322 C12.6533772,3.93240926 13.2206082,3.90467972 13.6128994,4.20970461 L13.7071068,4.29289322 C14.0675907,4.65337718 14.0953203,5.22060824 13.7902954,5.61289944 L13.7071068,5.70710678 L5.70710678,13.7071068 C5.34662282,14.0675907 4.77939176,14.0953203 4.38710056,13.7902954 L4.29289322,13.7071068 L-3.70710678,5.70710678 C-4.09763107,5.31658249 -4.09763107,4.68341751 -3.70710678,4.29289322 Z",id:"Shape-Copy",fill:e,transform:"translate(5, 9) rotate(-90) translate(-5, -9)"})})})}let e6=[{element:function({settings:e,content:t,styles:r,isEditor:n}){let[o,s]=d.useState(null),{widthSettings:a,fontSettings:l,letterSpacing:p,textAlign:f,wordSpacing:m,fontSizeLineHeight:g,textAppearance:y,color:v}=r.caption,[_,b]=d.useState(void 0),[x,w]=d.useState(null),[S,C]=d.useState(0),[T,E]=d.useState(0),{direction:k,transition:I,controls:A,pagination:P,caption:U,triggers:z}=e,O=d.useRef(I.type),{x:j,y:R}=e.controls.offset,B=e=>{o&&o.go(e)};return d.useEffect(()=>{if(!x)return;let e=new ResizeObserver(e=>{if(!o)return;let[t]=e;b({width:Math.round(t.contentRect.width),height:Math.round(t.contentRect.height)})});return e.observe(x),()=>e.unobserve(x)},[x]),d.useEffect(()=>{o&&O.current!==I.type&&(E(e=>e+1),O.current=I.type)},[I.type]),u.jsx("div",{className:h(eX.wrapper,{[eX.editor]:n}),ref:w,children:u.jsxs("div",{className:eX.sliderInner,style:{width:_?_.width:"100%",height:_?_.height:"100%"},children:[e.caption.isActive&&u.jsx("div",{className:h(eX.captionBlock),children:u.jsx("div",{className:eX.captionTextWrapper,children:t.map((e,t)=>u.jsx("div",{className:h(eX.captionText,e3[U.alignment],{[eX.withPointerEvents]:t===S&&n,[eX.active]:t===S}),style:{fontFamily:l.fontFamily,fontWeight:l.fontWeight,fontStyle:l.fontStyle,width:"auto"===a.sizing?"max-content":e0(a.width,n),letterSpacing:e0(p,n),wordSpacing:e0(m,n),textAlign:f,fontSize:e0(g.fontSize,n),lineHeight:e0(g.lineHeight,n),textTransform:y.textTransform??"none",textDecoration:y.textDecoration??"none",fontVariant:y.fontVariant??"normal",color:v,transitionDuration:I.duration?`${Math.round(parseInt(I.duration)/2)}ms`:"500ms"},children:u.jsx("div",{"data-styles":"caption",className:eX.captionTextInner,style:{"--link-hover-color":U.hover,position:"relative",top:e0(U.offset.y,n),left:e0(U.offset.x,n)},children:u.jsx(eQ,{content:e.imageCaption})})},t))})}),u.jsx(c.Splide,{onMove:e=>{C(e.index)},ref:s,options:{arrows:!1,speed:I.duration?parseInt(I.duration):500,autoplay:!n&&null!==z.autoPlay,...null!==z.autoPlay&&{interval:1e3*parseInt(z.autoPlay)},direction:"horiz"===k||"fade in"===I.type?"ltr":"ttb",pagination:!1,drag:z.triggersList.drag,perPage:1,width:_?_.width:"100%",height:_?_.height:"100%",type:"fade in"===I.type?"fade":"loop",rewind:!0},children:t.map((e,t)=>u.jsx(c.SplideSlide,{children:u.jsx("div",{className:eX.sliderItem,children:u.jsx("div",{className:eX.imgWrapper,children:u.jsx("img",{className:h(eX.sliderImage,{[eX.contain]:"contain"===e.image.objectFit,[eX.cover]:"cover"===e.image.objectFit}),src:e.image.url,alt:e.image.name??""})})})},t))},T),A.isActive&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:h(eX.arrow,{[eX.arrowVertical]:"vert"===k}),style:{color:A.color,"--arrow-hover-color":A.hover},children:u.jsxs("button",{onClick:()=>{B("-1")},className:eX.arrowInner,style:{transform:`translate(${e0(j,n)}, ${e0(R*("horiz"===k?1:-1),n)}) scale(${e.controls.scale/100}) rotate(${"horiz"===k?"0deg":"90deg"})`},children:[A.arrowsImgUrl&&u.jsx(e2,{url:A.arrowsImgUrl,fill:A.color,hoverFill:A.hover,className:h(eX.arrowImg,eX.mirror)}),!A.arrowsImgUrl&&u.jsx(e4,{color:A.color,className:h(eX.arrowIcon,eX.arrowImg,eX.mirror)})]})}),u.jsx("div",{className:h(eX.arrow,eX.nextArrow,{[eX.arrowVertical]:"vert"===k}),style:{color:A.color,"--arrow-hover-color":A.hover},children:u.jsxs("button",{className:eX.arrowInner,onClick:()=>B("+1"),style:{transform:`translate(${e0(j*("horiz"===k?-1:1),n)}, ${e0(R,n)}) scale(${e.controls.scale/100}) rotate(${"horiz"===k?"0deg":"90deg"})`},children:[A.arrowsImgUrl&&u.jsx(e2,{url:A.arrowsImgUrl,fill:A.color,hoverFill:A.hover,className:eX.arrowImg}),!A.arrowsImgUrl&&u.jsx(e4,{color:A.color,className:h(eX.arrowIcon,eX.arrowImg)})]})})]}),z.triggersList.click&&u.jsx("div",{className:eX.clickOverlay,onClick:()=>{o&&o.go("+1")}}),P.isActive&&u.jsx("div",{className:h(eX.pagination,{[eX.paginationInsideBottom]:"inside-1"===P.position&&"horiz"===k,[eX.paginationInsideTop]:"inside-2"===P.position&&"horiz"===k,[eX.paginationOutsideBottom]:"outside-1"===P.position&&"horiz"===k,[eX.paginationOutsideTop]:"outside-2"===P.position&&"horiz"===k,[eX.paginationInsideLeft]:"inside-1"===P.position&&"vert"===k,[eX.paginationInsideRight]:"inside-2"===P.position&&"vert"===k,[eX.paginationOutsideLeft]:"outside-1"===P.position&&"vert"===k,[eX.paginationOutsideRight]:"outside-2"===P.position&&"vert"===k,[eX.paginationVertical]:"vert"===k}),children:u.jsx("div",{className:eX.paginationInner,style:{backgroundColor:P.colors[2],transform:`scale(${P.scale/100}) translate(${e0(P.offset.x,n)}, ${e0(P.offset.y,n)}) rotate(${"horiz"===k?"0deg":"90deg"})`},children:t.map((e,t)=>u.jsx("button",{onClick:()=>{o&&o.go(t)},className:h(eX.paginationItem),children:u.jsx("div",{className:h(eX.dot,{[eX.activeDot]:t===S}),style:{backgroundColor:t===S?P.colors[0]:P.colors[1],"--pagination-hover-color":P.hover}})},t))})})]})})},id:"control-slider",name:"Slider",preview:{type:"video",url:"https://cdn.cntrl.site/projects/01GJ2SMPPCQ7JSNGVXZ2DHWXWF/articles-assets/01JTFXX5M899RG2JA2GTJG1WNX.mp4"},defaultSize:{width:400,height:400},schema:{type:"object",properties:{settings:{layoutBased:!0,type:"object",properties:{triggers:{name:"triggers",icon:"target",tooltip:"Triggers",type:"object",properties:{triggersList:{type:"object",display:{type:"toggle-ratio-group"},properties:{click:{type:"boolean"},drag:{type:"boolean"}}},autoPlay:{type:["string","null"],label:"Auto",display:{type:"step-selector"},enum:[null,"1s","2s","3s","4s","5s"]}}},direction:{name:"direction",icon:"horizontal-resize",tooltip:"Direction",type:"string",display:{type:"ratio-group"},enum:["horiz","vert"]},transition:{name:"transit",icon:"transition",tooltip:"Transition",type:"object",properties:{type:{type:"string",display:{type:"ratio-group"},enum:["slide","fade in"]},duration:{type:"string",label:"hourglass-icon",display:{type:"step-selector"},enum:["100ms","250ms","500ms","1000ms"]}}},controls:{name:"controls",icon:"controls",tooltip:"Controls",type:"object",properties:{isActive:{type:"boolean",display:{type:"setting-toggle"}},arrowsImgUrl:{type:["string","null"],display:{type:"settings-image-input"}},offset:{type:"object",display:{type:"offset-controls"},properties:{x:{type:"number"},y:{type:"number"}}},scale:{type:"number",name:"scale",min:50,max:600,display:{type:"range-control"}},color:{name:"color",type:"string",display:{type:"settings-color-picker",format:"single"}},hover:{name:"hover",type:"string",display:{type:"settings-color-picker",format:"single"}}}},pagination:{name:"nav",icon:"pagination",tooltip:"Navigation",type:"object",properties:{isActive:{type:"boolean",display:{type:"setting-toggle"}},position:{name:"nav position",display:{type:"socket",direction:"horizontal"},type:"string",enum:["outside-1","outside-2","inside-1","inside-2"]},offset:{type:"object",display:{type:"offset-controls"},properties:{x:{type:"number"},y:{type:"number"}}},scale:{type:"number",name:"scale",min:10,max:400,display:{type:"range-control"}},colors:{display:{type:"settings-color-picker",format:"multiple"},name:"color",type:"array",items:{type:"string"}},hover:{name:"hover",type:"string",display:{type:"settings-color-picker",format:"single"}}}},caption:{name:"Caption",icon:"text-icon",tooltip:"Caption",type:"object",properties:{isActive:{type:"boolean",display:{type:"setting-toggle"}},alignment:{name:"Alignment",type:"string",display:{type:"align-grid"},enum:["top-left","top-center","top-right","middle-left","middle-center","middle-right","bottom-left","bottom-center","bottom-right"]},offset:{type:"object",display:{type:"offset-controls"},properties:{x:{type:"number"},y:{type:"number"}}},hover:{name:"hover",type:"string",display:{type:"settings-color-picker",format:"single"}}}}},default:{triggers:{triggersList:{click:!1,drag:!0},autoPlay:null},controls:{isActive:!0,arrowsImgUrl:null,offset:{x:0,y:0},scale:100,color:"#000000",hover:"#cccccc"},transition:{type:"slide",duration:"500ms"},pagination:{isActive:!0,scale:50,position:"outside-1",offset:{x:0,y:0},colors:["#cccccc","#cccccc","#000000"],hover:"#cccccc"},direction:"horiz",caption:{offset:{x:0,y:0},isActive:!0,alignment:"middle-center",hover:"#cccccc"}},displayRules:[{if:{name:"direction",value:"vert"},then:{name:"properties.pagination.properties.position.display.direction",value:"vertical"}}]},content:{layoutBased:!1,type:"array",items:{type:"object",properties:{image:{type:"object",display:{type:"media-input"},properties:{url:{type:"string"},name:{type:"string"},objectFit:{type:"string",enum:["cover","contain"]}},required:["url","name"]},imageCaption:{display:{type:"rich-text",placeholder:"Add Caption..."}},link:{type:"object",display:{type:"text-input",placeholder:"Add Caption..."},properties:{text:{type:"string"}}}},required:["image"]},default:[{image:{objectFit:"cover",url:"https://cdn.cntrl.site/projects/01GJ2SMPPCQ7JSNGVXZ2DHWXWF/articles-assets/01JRZ15T247392621FNTTRCW9D.jpeg",name:"Slider-1.jpeg"},imageCaption:[{type:"paragraph",children:[{text:""}]}]},{image:{objectFit:"cover",url:"https://cdn.cntrl.site/projects/01GJ2SMPPCQ7JSNGVXZ2DHWXWF/articles-assets/01JRZ17S8TS9T62P7NKTNNEB64.jpeg",name:"Slider-2.jpeg"},imageCaption:[{type:"paragraph",children:[{text:""}]}]},{image:{objectFit:"cover",url:"https://cdn.cntrl.site/projects/01GJ2SMPPCQ7JSNGVXZ2DHWXWF/articles-assets/01JRZ197S89RNT6RA7ZJSX3Z38.jpeg",name:"Slider-3.jpeg"},imageCaption:[{type:"paragraph",children:[{text:""}]}]}]},styles:{layoutBased:!0,type:"object",properties:{caption:{dataName:"caption",type:"object",properties:{fontSettings:{type:"object",display:{type:"font-settings"},properties:{fontFamily:{type:"string"},fontWeight:{type:"number"},fontStyle:{type:"string"}}},widthSettings:{display:{type:"text-width-control"},type:"object",properties:{width:{type:"number"},sizing:{type:"string",enum:["auto","manual"]}}},fontSizeLineHeight:{type:"object",display:{type:"font-size-line-height"},properties:{fontSize:{type:"number"},lineHeight:{type:"number"}}},letterSpacing:{display:{type:"letter-spacing-input"},type:"number"},wordSpacing:{display:{type:"word-spacing-input"},type:"number"},textAlign:{display:{type:"text-align-control"},type:"string",enum:["left","center","right","justify"]},textAppearance:{display:{type:"text-appearance"},properties:{textTransform:{type:"string",enum:["none","uppercase","lowercase","capitalize"]},textDecoration:{type:"string",enum:["none","underline"]},fontVariant:{type:"string",enum:["normal","small-caps"]}}},color:{display:{type:"style-panel-color-picker"},type:"string"}}}},default:{caption:{widthSettings:{width:.13,sizing:"auto"},fontSettings:{fontFamily:"Arial",fontWeight:400,fontStyle:"normal"},fontSizeLineHeight:{fontSize:.02,lineHeight:.02},letterSpacing:0,wordSpacing:0,textAlign:"left",textAppearance:{textTransform:"none",textDecoration:"none",fontVariant:"normal"},color:"#000000"}}}},required:["settings","content","styles"]}}];t.AnchorSide=$,t.AreaAnchor=V,t.ArticleItemType=q,t.CntrlClient=eZ,t.DimensionMode=G,t.FontFaceGenerator=eG,t.KeyframeType=eC,t.PositionType=Z,t.ScrollPlaybackVideoManager=eq,t.SectionHeightMode=E,t.TextAlign=L,t.TextDecoration=D,t.TextTransform=F,t.VerticalAlign=N,t.components=e6,t.getLayoutMediaQuery=function(e,t){let r=t.slice().sort((e,t)=>e.startsWith-t.startsWith),n=r.findIndex(t=>t.id===e);if(-1===n)throw Error(`No layout was found by the given id #${e}`);let o=r[n],s=r[n+1];return s?`@media (min-width: ${o.startsWith}px) and (max-width: ${s.startsWith-1}px)`:`@media (min-width: ${o.startsWith}px)`},t.getLayoutStyles=function(e,t,r){return e.sort((e,t)=>e.startsWith-t.startsWith).reduce((e,n)=>{let o=t.map(e=>e[n.id]);return`
        ${e}
        ${0!==n.startsWith?`@media (min-width: ${n.startsWith}px) {${r(o,n.exemplary)}}`:`${r(o,n.exemplary)}`}`},"")}},4244:function(e,t,r){"use strict";var n=Object.create,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,d=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of a(t))u.call(e,l)||l===r||o(e,l,{get:()=>t[l],enumerable:!(n=s(t,l))||n.enumerable});return e},c=(e,t,r)=>(r=null!=e?n(l(e)):{},d(!t&&e&&e.__esModule?r:o(r,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var r in t)o(e,r,{get:t[r],enumerable:!0})})(h,{Splide:()=>t4,SplideSlide:()=>t8,SplideTrack:()=>t3}),e.exports=d(o({},"__esModule",{value:!0}),h);var p="(prefers-reduced-motion: reduce)";function f(e){e.length=0}function m(e,t,r){return Array.prototype.slice.call(e,t,r)}function g(e){return e.bind.apply(e,[null].concat(m(arguments,1)))}var y=setTimeout,v=function(){};function _(e){return requestAnimationFrame(e)}function b(e,t){return typeof t===e}function x(e){return null!==e&&b("object",e)}var w=Array.isArray,S=g(b,"function"),C=g(b,"string"),T=g(b,"undefined");function E(e){try{return e instanceof(e.ownerDocument.defaultView||window).HTMLElement}catch(e){return!1}}function k(e){return w(e)?e:[e]}function I(e,t){k(e).forEach(t)}function A(e,t){return e.indexOf(t)>-1}function P(e,t){return e.push.apply(e,k(t)),e}function U(e,t,r){e&&I(t,function(t){t&&e.classList[r?"add":"remove"](t)})}function z(e,t){U(e,C(t)?t.split(" "):t,!0)}function O(e,t){I(t,e.appendChild.bind(e))}function j(e,t){I(e,function(e){var r=(t||e).parentNode;r&&r.insertBefore(e,t)})}function R(e,t){return E(e)&&(e.msMatchesSelector||e.matches).call(e,t)}function B(e,t){var r=e?m(e.children):[];return t?r.filter(function(e){return R(e,t)}):r}function M(e,t){return t?B(e,t)[0]:e.firstElementChild}var L=Object.keys;function F(e,t,r){return e&&(r?L(e).reverse():L(e)).forEach(function(r){"__proto__"!==r&&t(e[r],r)}),e}function N(e){return m(arguments,1).forEach(function(t){F(t,function(r,n){e[n]=t[n]})}),e}function D(e){return m(arguments,1).forEach(function(t){F(t,function(t,r){w(t)?e[r]=t.slice():x(t)?e[r]=D({},x(e[r])?e[r]:{},t):e[r]=t})}),e}function $(e,t){I(t||L(e),function(t){delete e[t]})}function Z(e,t){I(e,function(e){I(t,function(t){e&&e.removeAttribute(t)})})}function V(e,t,r){x(t)?F(t,function(t,r){V(e,r,t)}):I(e,function(e){null===r||""===r?Z(e,t):e.setAttribute(t,String(r))})}function G(e,t,r){var n=document.createElement(e);return t&&(C(t)?z(n,t):V(n,t)),r&&O(r,n),n}function H(e,t,r){if(T(r))return getComputedStyle(e)[t];null!==r&&(e.style[t]=""+r)}function W(e,t){H(e,"display",t)}function Y(e){e.setActive&&e.setActive()||e.focus({preventScroll:!0})}function K(e,t){return e.getAttribute(t)}function q(e,t){return e&&e.classList.contains(t)}function X(e){return e.getBoundingClientRect()}function J(e){I(e,function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})}function Q(e){return M(new DOMParser().parseFromString(e,"text/html").body)}function ee(e,t){e.preventDefault(),t&&(e.stopPropagation(),e.stopImmediatePropagation())}function et(e,t){return e&&e.querySelector(t)}function ei(e,t){return t?m(e.querySelectorAll(t)):[]}function er(e,t){U(e,t,!1)}function en(e){return e.timeStamp}function eo(e){return C(e)?e:e?e+"px":""}var es="splide",ea="data-"+es;function el(e,t){if(!e)throw Error("["+es+"] "+(t||""))}var eu=Math.min,ed=Math.max,ec=Math.floor,eh=Math.ceil,ep=Math.abs;function ef(e,t,r,n){var o=eu(t,r),s=ed(t,r);return n?o<e&&e<s:o<=e&&e<=s}function em(e,t,r){var n=eu(t,r),o=ed(t,r);return eu(ed(n,e),o)}function eg(e){return+(e>0)-+(e<0)}function ey(e,t){return I(t,function(t){e=e.replace("%s",""+t)}),e}function ev(e){return e<10?"0"+e:""+e}var e_={};function eb(){var e=[];function t(e,t,r){I(e,function(e){e&&I(t,function(t){t.split(" ").forEach(function(t){var n=t.split(".");r(e,n[0],n[1])})})})}return{bind:function(r,n,o,s){t(r,n,function(t,r,n){var a="addEventListener"in t,l=a?t.removeEventListener.bind(t,r,o,s):t.removeListener.bind(t,o);a?t.addEventListener(r,o,s):t.addListener(o),e.push([t,r,n,o,l])})},unbind:function(r,n,o){t(r,n,function(t,r,n){e=e.filter(function(e){return e[0]!==t||e[1]!==r||e[2]!==n||!!o&&e[3]!==o||(e[4](),!1)})})},dispatch:function(e,t,r){var n;return"function"==typeof CustomEvent?n=new CustomEvent(t,{bubbles:!0,detail:r}):(n=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!1,r),e.dispatchEvent(n),n},destroy:function(){e.forEach(function(e){e[4]()}),f(e)}}}var ex="mounted",ew="ready",eS="move",eC="moved",eT="click",eE="active",ek="inactive",eI="visible",eA="hidden",eP="refresh",eU="updated",ez="resize",eO="resized",ej="drag",eR="dragging",eB="dragged",eM="scroll",eL="scrolled",eF="destroy",eN="arrows:mounted",eD="arrows:updated",e$="pagination:mounted",eZ="pagination:updated",eV="navigation:mounted",eG="autoplay:play",eH="autoplay:playing",eW="autoplay:pause",eY="lazyload:loaded";function eK(e){var t=e?e.event.bus:document.createDocumentFragment(),r=eb();return e&&e.event.on(eF,r.destroy),N(r,{bus:t,on:function(e,n){r.bind(t,k(e).join(" "),function(e){n.apply(n,w(e.detail)?e.detail:[])})},off:g(r.unbind,t),emit:function(e){r.dispatch(t,e,m(arguments,1))}})}function eq(e,t,r,n){var o,s,a=Date.now,l=0,u=!0,d=0;function c(){if(!u){if(l=e?eu((a()-o)/e,1):1,r&&r(l),l>=1&&(t(),o=a(),n&&++d>=n))return h();s=_(c)}}function h(){u=!0}function p(){s&&cancelAnimationFrame(s),l=0,s=0,u=!0}return{start:function(t){t||p(),o=a()-(t?l*e:0),u=!1,s=_(c)},rewind:function(){o=a(),l=0,r&&r(l)},pause:h,cancel:p,set:function(t){e=t},isPaused:function(){return u}}}var eX="Arrow",eJ=eX+"Left",eQ=eX+"Right",e0=eX+"Up",e1=eX+"Down",e2={width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:[e0,eQ],ArrowRight:[e1,eJ]},e3="role",e4="tabindex",e6="aria-",e8=e6+"controls",e7=e6+"current",e9=e6+"selected",e5=e6+"label",te=e6+"labelledby",tt=e6+"hidden",ti=e6+"orientation",tr=e6+"roledescription",tn=e6+"live",to=e6+"busy",ts=e6+"atomic",ta=[e3,e4,"disabled",e8,e7,e5,te,tt,ti,tr],tl=es+"__",tu=tl+"track",td=tl+"list",tc=tl+"slide",th=tc+"--clone",tp=tc+"__container",tf=tl+"arrows",tm=tl+"arrow",tg=tm+"--prev",ty=tm+"--next",tv=tl+"pagination",t_=tv+"__page",tb=tl+"progress__bar",tx=tl+"toggle",tw=tl+"sr",tS="is-active",tC="is-prev",tT="is-next",tE="is-visible",tk="is-loading",tI="is-focus-in",tA="is-overflow",tP=[tS,tE,tC,tT,tk,tI,tA],tU="touchstart mousedown",tz="touchmove mousemove",tO="touchend touchcancel mouseup click",tj="slide",tR="loop",tB="fade",tM=ea+"-interval",tL={passive:!1,capture:!0},tF={Spacebar:" ",Right:eQ,Left:eJ,Up:e0,Down:e1};function tN(e){return tF[e=C(e)?e:e.key]||e}var tD="keydown",t$=ea+"-lazy",tZ=t$+"-srcset",tV="["+t$+"], ["+tZ+"]",tG=[" ","Enter"],tH=Object.freeze({__proto__:null,Media:function(e,t,r){var n=e.state,o=r.breakpoints||{},s=r.reducedMotion||{},a=eb(),l=[];function u(e){e&&a.destroy()}function d(e,t){var r=matchMedia(t);a.bind(r,"change",c),l.push([e,r])}function c(){var t=n.is(7),o=r.direction,s=l.reduce(function(e,t){return D(e,t[1].matches?t[0]:{})},{});$(r),h(s),r.destroy?e.destroy("completely"===r.destroy):t?(u(!0),e.mount()):o!==r.direction&&e.refresh()}function h(t,o,s){D(r,t),o&&D(Object.getPrototypeOf(r),t),(s||!n.is(1))&&e.emit(eU,r)}return{setup:function(){var e="min"===r.mediaQuery;L(o).sort(function(t,r){return e?+t-+r:+r-+t}).forEach(function(t){d(o[t],"("+(e?"min":"max")+"-width:"+t+"px)")}),d(s,p),c()},destroy:u,reduce:function(e){matchMedia(p).matches&&(e?D(r,s):$(r,L(s)))},set:h}},Direction:function(e,t,r){return{resolve:function(e,t,n){var o="rtl"!==(n=n||r.direction)||t?"ttb"===n?0:-1:1;return e2[e]&&e2[e][o]||e.replace(/width|left|right/i,function(e,t){var r=e2[e.toLowerCase()][o]||e;return t>0?r.charAt(0).toUpperCase()+r.slice(1):r})},orient:function(e){return e*("rtl"===r.direction?1:-1)}}},Elements:function(e,t,r){var n,o,s,a=eK(e),l=a.on,u=a.bind,d=e.root,c=r.i18n,h={},p=[],m=[],g=[];function y(){var e,t;o=M(n=b("."+tu),"."+td),el(n&&o,"A track/list element is missing."),P(p,B(o,"."+tc+":not(."+th+")")),F({arrows:tf,pagination:tv,prev:tg,next:ty,bar:tb,toggle:tx},function(e,t){h[t]=b("."+e)}),N(h,{root:d,track:n,list:o,slides:p}),e=d.id||""+es+ev(e_[es]=(e_[es]||0)+1),t=r.role,d.id=e,n.id=n.id||e+"-track",o.id=o.id||e+"-list",!K(d,e3)&&"SECTION"!==d.tagName&&t&&V(d,e3,t),V(d,tr,c.carousel),V(o,e3,"presentation"),_()}function v(e){var t=ta.concat("style");f(p),er(d,m),er(n,g),Z([n,o],t),Z(d,e?t:["style",tr])}function _(){er(d,m),er(n,g),m=x(es),g=x(tu),z(d,m),z(n,g),V(d,e5,r.label),V(d,te,r.labelledby)}function b(e){var t=et(d,e);return t&&function(e,t){if(S(e.closest))return e.closest(t);for(var r=e;r&&1===r.nodeType&&!R(r,t);)r=r.parentElement;return r}(t,"."+es)===d?t:void 0}function x(e){return[e+"--"+r.type,e+"--"+r.direction,r.drag&&e+"--draggable",r.isNavigation&&e+"--nav",e===es&&tS]}return N(h,{setup:y,mount:function(){l(eP,v),l(eP,y),l(eU,_),u(document,tU+" keydown",function(e){s="keydown"===e.type},{capture:!0}),u(d,"focusin",function(){U(d,tI,!!s)})},destroy:v})},Slides:function(e,t,r){var n=eK(e),o=n.on,s=n.emit,a=n.bind,l=t.Elements,u=l.slides,d=l.list,c=[];function h(){u.forEach(function(e,t){m(e,t,-1)})}function p(){v(function(e){e.destroy()}),f(c)}function m(t,r,n){var o=function(e,t,r,n){var o,s=eK(e),a=s.on,l=s.emit,u=s.bind,d=e.Components,c=e.root,h=e.options,p=h.isNavigation,f=h.updateOnMove,m=h.i18n,y=h.pagination,v=h.slideFocus,_=d.Direction.resolve,b=K(n,"style"),x=K(n,e5),w=r>-1,S=M(n,"."+tp);function C(){var o=e.splides.map(function(e){var r=e.splide.Components.Slides.getAt(t);return r?r.slide.id:""}).join(" ");V(n,e5,ey(m.slideX,(w?r:t)+1)),V(n,e8,o),V(n,e3,v?"button":""),v&&Z(n,tr)}function T(){o||E()}function E(){if(!o){var r,s=e.index;(r=k())!==q(n,tS)&&(U(n,tS,r),V(n,e7,p&&r||""),l(r?eE:ek,I)),function(){var t=function(){if(e.is(tB))return k();var t=X(d.Elements.track),r=X(n),o=_("left",!0),s=_("right",!0);return ec(t[o])<=eh(r[o])&&ec(r[s])<=eh(t[s])}(),r=!t&&(!k()||w);if(e.state.is([4,5])||V(n,tt,r||""),V(ei(n,h.focusableNodes||""),e4,r?-1:""),v&&V(n,e4,r?-1:0),t!==q(n,tE)&&(U(n,tE,t),l(t?eI:eA,I)),!t&&document.activeElement===n){var o=d.Slides.getAt(e.index);o&&Y(o.slide)}}(),U(n,tC,t===s-1),U(n,tT,t===s+1)}}function k(){var n=e.index;return n===t||h.cloneStatus&&n===r}var I={index:t,slideIndex:r,slide:n,container:S,isClone:w,mount:function(){w||(n.id=c.id+"-slide"+ev(t+1),V(n,e3,y?"tabpanel":"group"),V(n,tr,m.slide),V(n,e5,x||ey(m.slideLabel,[t+1,e.length]))),u(n,"click",g(l,eT,I)),u(n,"keydown",g(l,"sk",I)),a([eC,"sh",eL],E),a(eV,C),f&&a(eS,T)},destroy:function(){o=!0,s.destroy(),er(n,tP),Z(n,ta),V(n,"style",b),V(n,e5,x||"")},update:E,style:function(e,t,r){H(r&&S||n,e,t)},isWithin:function(r,n){var o=ep(r-t);return!w&&(h.rewind||e.is(tR))&&(o=eu(o,e.length-o)),o<=n}};return I}(e,r,n,t);o.mount(),c.push(o),c.sort(function(e,t){return e.index-t.index})}function y(e){return e?_(function(e){return!e.isClone}):c}function v(e,t){y(t).forEach(e)}function _(e){return c.filter(S(e)?e:function(t){return C(e)?R(t.slide,e):A(k(e),t.index)})}return{mount:function(){h(),o(eP,p),o(eP,h)},destroy:p,update:function(){v(function(e){e.update()})},register:m,get:y,getIn:function(e){var n=t.Controller,o=n.toIndex(e),s=n.hasFocus()?1:r.perPage;return _(function(e){return ef(e.index,o,o+s-1)})},getAt:function(e){return _(e)[0]},add:function(e,t){I(e,function(e){if(C(e)&&(e=Q(e)),E(e)){var n,o,l,c,h=u[t];h?j(e,h):O(d,e),z(e,r.classes.slide),n=e,o=g(s,ez),(c=(l=ei(n,"img")).length)?l.forEach(function(e){a(e,"load error",function(){--c||o()})}):o()}}),s(eP)},remove:function(e){J(_(e).map(function(e){return e.slide})),s(eP)},forEach:v,filter:_,style:function(e,t,r){v(function(n){n.style(e,t,r)})},getLength:function(e){return e?u.length:c.length},isEnough:function(){return c.length>r.perPage}}},Layout:function(e,t,r){var n,o,s,a=eK(e),l=a.on,u=a.bind,d=a.emit,c=t.Slides,h=t.Direction.resolve,p=t.Elements,f=p.root,m=p.track,y=p.list,v=c.getAt,_=c.style;function b(){n="ttb"===r.direction,H(f,"maxWidth",eo(r.width)),H(m,h("paddingLeft"),S(!1)),H(m,h("paddingRight"),S(!0)),w(!0)}function w(e){var t,a=X(f);(e||o.width!==a.width||o.height!==a.height)&&(H(m,"height",(t="",n&&(el(t=C(),"height or heightRatio is missing."),t="calc("+t+" - "+S(!1)+" - "+S(!0)+")"),t)),_(h("marginRight"),eo(r.gap)),_("width",r.autoWidth?null:eo(r.fixedWidth)||(n?"":T())),_("height",eo(r.fixedHeight)||(n?r.autoHeight?null:T():C()),!0),o=a,d(eO),s!==(s=z())&&(U(f,tA,s),d("overflow",s)))}function S(e){var t=r.padding,n=h(e?"right":"left");return t&&eo(t[n]||(x(t)?0:t))||"0px"}function C(){return eo(r.height||X(y).width*r.heightRatio)}function T(){var e=eo(r.gap);return"calc((100%"+(e&&" + "+e)+")/"+(r.perPage||1)+(e&&" - "+e)+")"}function E(){return X(y)[h("width")]}function k(e,t){var r=v(e||0);return r?X(r.slide)[h("width")]+(t?0:P()):0}function I(e,t){var r=v(e);return r?ep(X(r.slide)[h("right")]-X(y)[h("left")])+(t?0:P()):0}function A(t){return I(e.length-1)-I(0)+k(0,t)}function P(){var e=v(0);return e&&parseFloat(H(e.slide,h("marginRight")))||0}function z(){return e.is(tB)||A(!0)>E()}return{mount:function(){var e;b(),u(window,"resize load",(e=eq(0,g(d,ez),null,1),function(){e.isPaused()&&e.start()})),l([eU,eP],b),l(ez,w)},resize:w,listSize:E,slideSize:k,sliderSize:A,totalSize:I,getPadding:function(e){return parseFloat(H(m,h("padding"+(e?"Right":"Left"))))||0},isOverflow:z}},Clones:function(e,t,r){var n,o=eK(e),s=o.on,a=t.Elements,l=t.Slides,u=t.Direction.resolve,d=[];function c(){s(eP,h),s([eU,ez],m),(n=g())&&(function(t){var n=l.get().slice(),o=n.length;if(o){for(;n.length<t;)P(n,n);P(n.slice(-t),n.slice(0,t)).forEach(function(s,u){var c,h=u<t,p=(z(c=s.slide.cloneNode(!0),r.classes.clone),c.id=e.root.id+"-clone"+ev(u+1),c);h?j(p,n[0].slide):O(a.list,p),P(d,p),l.register(p,u-t+(h?0:o),s.index)})}}(n),t.Layout.resize(!0))}function h(){p(),c()}function p(){J(d),f(d),o.destroy()}function m(){var e=g();n!==e&&(n<e||!e)&&o.emit(eP)}function g(){var n=r.clones;if(e.is(tR)){if(T(n)){var o=r[u("fixedWidth")]&&t.Layout.slideSize(0);n=o&&eh(X(a.track)[u("width")]/o)||r[u("autoWidth")]&&e.length||2*r.perPage}}else n=0;return n}return{mount:c,destroy:p}},Move:function(e,t,r){var n,o=eK(e),s=o.on,a=o.emit,l=e.state.set,u=t.Layout,d=u.slideSize,c=u.getPadding,h=u.totalSize,p=u.listSize,f=u.sliderSize,m=t.Direction,g=m.resolve,y=m.orient,v=t.Elements,_=v.list,b=v.track;function x(){t.Controller.isBusy()||(t.Scroll.cancel(),w(e.index),t.Slides.update())}function w(e){S(I(e,!0))}function S(r,n){if(!e.is(tB)){var o=n?r:function(r){if(e.is(tR)){var n=k(r),o=n>t.Controller.getEnd();(n<0||o)&&(r=C(r,o))}return r}(r);H(_,"transform","translate"+g("X")+"("+o+"px)"),r!==o&&a("sh")}}function C(e,t){var r=e-P(t),n=f();return e-y(n*(eh(ep(r)/n)||1))*(t?1:-1)}function E(){S(A(),!0),n.cancel()}function k(e){for(var r=t.Slides.get(),n=0,o=1/0,s=0;s<r.length;s++){var a=r[s].index,l=ep(I(a,!0)-e);if(l<=o)o=l,n=a;else break}return n}function I(t,n){var o,s,a=y(h(t-1)-("center"===(o=r.focus)?(p()-d(t,!0))/2:+o*d(t)||0));return n?(s=a,r.trimSpace&&e.is(tj)&&(s=em(s,0,y(f(!0)-p()))),s):a}function A(){var e=g("left");return X(_)[e]-X(b)[e]+y(c(!1))}function P(e){return I(e?t.Controller.getEnd():0,!!r.trimSpace)}return{mount:function(){n=t.Transition,s([ex,eO,eU,eP],x)},move:function(e,t,r,o){var s,u;e!==t&&(s=e>r,u=y(C(A(),s)),s?u>=0:u<=_[g("scrollWidth")]-X(b)[g("width")])&&(E(),S(C(A(),e>r),!0)),l(4),a(eS,t,r,e),n.start(t,function(){l(3),a(eC,t,r,e),o&&o()})},jump:w,translate:S,shift:C,cancel:E,toIndex:k,toPosition:I,getPosition:A,getLimit:P,exceededLimit:function(e,t){t=T(t)?A():t;var r=!0!==e&&y(t)<y(P(!1)),n=!1!==e&&y(t)>y(P(!0));return r||n},reposition:x}},Controller:function(e,t,r){var n,o,s,a,l=eK(e),u=l.on,d=l.emit,c=t.Move,h=c.getPosition,p=c.getLimit,f=c.toPosition,m=t.Slides,y=m.isEnough,v=m.getLength,_=r.omitEnd,b=e.is(tR),x=e.is(tj),w=g(P,!1),S=g(P,!0),E=r.start||0,k=E;function I(){o=v(!0),s=r.perMove,a=r.perPage,n=O();var e=em(E,0,_?n:o-1);e!==E&&(E=e,c.reposition())}function A(){n!==O()&&d("ei")}function P(e,t){var r=s||(M()?1:a),o=U(E+r*(e?-1:1),E,!(s||M()));return -1===o&&x&&!(1>ep(h()-p(!e)))?e?0:n:t?o:z(o)}function U(t,l,u){if(y()||M()){var d=function(t){if(x&&"move"===r.trimSpace&&t!==E)for(var n=h();n===f(t,!0)&&ef(t,0,e.length-1,!r.rewind);)t<E?--t:++t;return t}(t);d!==t&&(l=t,t=d,u=!1),t<0||t>n?t=!s&&(ef(0,t,l,!0)||ef(n,l,t,!0))?j(R(t)):b?u?t<0?-(o%a||a):o:t:r.rewind?t<0?n:0:-1:u&&t!==l&&(t=j(R(l)+(t<l?-1:1)))}else t=-1;return t}function z(e){return b?(e+o)%o||0:e}function O(){for(var e=o-(M()||b&&s?1:a);_&&e-- >0;)if(f(o-1,!0)!==f(e,!0)){e++;break}return em(e,0,o-1)}function j(e){return em(M()?e:a*e,0,n)}function R(e){return M()?eu(e,n):ec((e>=n?o-1:e)/a)}function B(e){e!==E&&(k=E,E=e)}function M(){return!T(r.focus)||r.isNavigation}function L(){return e.state.is([4,5])&&!!r.waitForTransition}return{mount:function(){I(),u([eU,eP,"ei"],I),u(eO,A)},go:function(e,t,r){if(!L()){var o=function(e){var t=E;if(C(e)){var r=e.match(/([+\-<>])(\d+)?/)||[],o=r[1],s=r[2];"+"===o||"-"===o?t=U(E+ +(""+o+(+s||1)),E):">"===o?t=s?j(+s):w(!0):"<"===o&&(t=S(!0))}else t=b?e:em(e,0,n);return t}(e),s=z(o);s>-1&&(t||s!==E)&&(B(s),c.move(o,s,k,r))}},scroll:function(e,r,o,s){t.Scroll.scroll(e,r,o,function(){var e=z(c.toIndex(h()));B(_?eu(e,n):e),s&&s()})},getNext:w,getPrev:S,getAdjacent:P,getEnd:O,setIndex:B,getIndex:function(e){return e?k:E},toIndex:j,toPage:R,toDest:function(e){var t=c.toIndex(e);return x?em(t,0,n):t},hasFocus:M,isBusy:L}},Arrows:function(e,t,r){var n,o,s=eK(e),a=s.on,l=s.bind,u=s.emit,d=r.classes,c=r.i18n,h=t.Elements,p=t.Controller,f=h.arrows,m=h.track,y=f,v=h.prev,_=h.next,b={};function x(){var e;(e=r.arrows)&&!(v&&_)&&(y=f||G("div",d.arrows),v=T(!0),_=T(!1),n=!0,O(y,[v,_]),f||j(y,m)),v&&_&&(N(b,{prev:v,next:_}),W(y,e?"":"none"),z(y,o=tf+"--"+r.direction),e&&(a([ex,eC,eP,eL,"ei"],E),l(_,"click",g(C,">")),l(v,"click",g(C,"<")),E(),V([v,_],e8,m.id),u(eN,v,_))),a(eU,w)}function w(){S(),x()}function S(){s.destroy(),er(y,o),n?(J(f?[v,_]:y),v=_=null):Z([v,_],ta)}function C(e){p.go(e,!0)}function T(e){return Q('<button class="'+d.arrow+" "+(e?d.prev:d.next)+'" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" width="40" height="40" focusable="false"><path d="'+(r.arrowPath||"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z")+'" />')}function E(){if(v&&_){var t=e.index,r=p.getPrev(),n=p.getNext(),o=r>-1&&t<r?c.last:c.prev,s=n>-1&&t>n?c.first:c.next;v.disabled=r<0,_.disabled=n<0,V(v,e5,o),V(_,e5,s),u(eD,v,_,r,n)}}return{arrows:b,mount:x,destroy:S,update:E}},Autoplay:function(e,t,r){var n,o,s=eK(e),a=s.on,l=s.bind,u=s.emit,d=eq(r.interval,e.go.bind(e,">"),function(e){var t=h.bar;t&&H(t,"width",100*e+"%"),u(eH,e)}),c=d.isPaused,h=t.Elements,p=t.Elements,f=p.root,m=p.toggle,g=r.autoplay,y="pause"===g;function v(){c()&&t.Slides.isEnough()&&(d.start(!r.resetProgress),o=n=y=!1,x(),u(eG))}function _(e){void 0===e&&(e=!0),y=!!e,x(),c()||(d.pause(),u(eW))}function b(){y||(n||o?_(!1):v())}function x(){m&&(U(m,tS,!y),V(m,e5,r.i18n[y?"play":"pause"]))}function w(e){var n=t.Slides.getAt(e);d.set(n&&+K(n.slide,tM)||r.interval)}return{mount:function(){g&&(r.pauseOnHover&&l(f,"mouseenter mouseleave",function(e){n="mouseenter"===e.type,b()}),r.pauseOnFocus&&l(f,"focusin focusout",function(e){o="focusin"===e.type,b()}),m&&l(m,"click",function(){y?v():_(!0)}),a([eS,eM,eP],d.rewind),a(eS,w),m&&V(m,e8,h.track.id),y||v(),x())},destroy:d.cancel,play:v,pause:_,isPaused:c}},Cover:function(e,t,r){var n=eK(e).on;function o(e){t.Slides.forEach(function(t){var r=M(t.container||t.slide,"img");r&&r.src&&s(e,r,t)})}function s(e,t,r){r.style("background",e?'center/cover no-repeat url("'+t.src+'")':"",!0),W(t,e?"none":"")}return{mount:function(){r.cover&&(n(eY,g(s,!0)),n([ex,eU,eP],g(o,!0)))},destroy:g(o,!1)}},Scroll:function(e,t,r){var n,o,s=eK(e),a=s.on,l=s.emit,u=e.state.set,d=t.Move,c=d.getPosition,h=d.getLimit,p=d.exceededLimit,f=d.translate,m=e.is(tj),y=1;function v(e,r,s,a,h){var f=c();if(x(),s&&(!m||!p())){var v=t.Layout.sliderSize(),w=eg(e)*v*ec(ep(e)/v)||0;e=d.toPosition(t.Controller.toDest(e%v))+w}var S=1>ep(f-e);y=1,r=S?0:r||ed(ep(e-f)/1.5,800),o=a,n=eq(r,_,g(b,f,e,h),1),u(5),l(eM),n.start()}function _(){u(3),o&&o(),l(eL)}function b(e,t,n,s){var a,l=c(),u=(e+(t-e)*((a=r.easingFunc)?a(s):1-Math.pow(1-s,4))-l)*y;f(l+u),m&&!n&&p()&&(y*=.6,10>ep(u)&&v(h(p(!0)),600,!1,o,!0))}function x(){n&&n.cancel()}function w(){n&&!n.isPaused()&&(x(),_())}return{mount:function(){a(eS,x),a([eU,eP],w)},destroy:x,scroll:v,cancel:w}},Drag:function(e,t,r){var n,o,s,a,l,u,d,c,h=eK(e),p=h.on,f=h.emit,m=h.bind,g=h.unbind,y=e.state,_=t.Move,b=t.Scroll,w=t.Controller,S=t.Elements.track,C=t.Media.reduce,T=t.Direction,E=T.resolve,k=T.orient,I=_.getPosition,A=_.exceededLimit,P=!1;function U(){var e=r.drag;d=!e,a="free"===e}function z(e){if(u=!1,!d){var t,n,o=D(e);t=e.target,n=r.noDrag,R(t,"."+t_+", ."+tm)||n&&R(t,n)||!o&&e.button||(w.isBusy()?ee(e,!0):(c=o?S:window,l=y.is([4,5]),s=null,m(c,tz,O,tL),m(c,tO,j,tL),_.cancel(),b.cancel(),M(e)))}}function O(t){if(y.is(6)||(y.set(6),f(ej)),t.cancelable){if(l){_.translate(n+L(t)/(P&&e.is(tj)?5:1));var o,s,a,d,c=F(t)>200,h=P!==(P=A());(c||h)&&M(t),u=!0,f(eR),ee(t)}else ep(L(t))>ep(L(t,!0))&&(a=(s=x(o=r.dragMinThreshold))&&o.mouse||0,d=(s?o.touch:+o)||10,l=ep(L(t))>(D(t)?d:a),ee(t))}}function j(n){var o,s,u,d;y.is(6)&&(y.set(3),f(eB)),l&&(o=s=function(t){if(e.is(tR)||!P){var r=F(t);if(r&&r<200)return L(t)/r}return 0}(n),u=I()+eg(o)*eu(ep(o)*(r.flickPower||600),a?1/0:t.Layout.listSize()*(r.flickMaxPages||1)),d=r.rewind&&r.rewindByDrag,C(!1),a?w.scroll(u,0,r.snap):e.is(tB)?w.go(0>k(eg(s))?d?"<":"-":d?">":"+"):e.is(tj)&&P&&d?w.go(A(!0)?">":"<"):w.go(w.toDest(u),!0),C(!0),ee(n)),g(c,tz,O),g(c,tO,j),l=!1}function B(e){!d&&u&&ee(e,!0)}function M(e){s=o,o=e,n=I()}function L(e,t){return N(e,t)-N(o===e&&s||o,t)}function F(e){return en(e)-en(o===e&&s||o)}function N(e,t){return(D(e)?e.changedTouches[0]:e)["page"+E(t?"Y":"X")]}function D(e){return"undefined"!=typeof TouchEvent&&e instanceof TouchEvent}return{mount:function(){m(S,tz,v,tL),m(S,tO,v,tL),m(S,tU,z,tL),m(S,"click",B,{capture:!0}),m(S,"dragstart",ee),p([ex,eU],U)},disable:function(e){d=e},isDragging:function(){return l}}},Keyboard:function(e,t,r){var n,o,s=eK(e),a=s.on,l=s.bind,u=s.unbind,d=e.root,c=t.Direction.resolve;function h(){var e=r.keyboard;e&&l(n="global"===e?window:d,tD,m)}function p(){u(n,tD)}function f(){var e=o;o=!0,y(function(){o=e})}function m(t){if(!o){var r=tN(t);r===c(eJ)?e.go("<"):r===c(eQ)&&e.go(">")}}return{mount:function(){h(),a(eU,p),a(eU,h),a(eS,f)},destroy:p,disable:function(e){o=e}}},LazyLoad:function(e,t,r){var n=eK(e),o=n.on,s=n.off,a=n.bind,l=n.emit,u="sequential"===r.lazyLoad,d=[eC,eL],c=[];function h(){f(c),t.Slides.forEach(function(e){ei(e.slide,tV).forEach(function(t){var n=K(t,t$),o=K(t,tZ);if(n!==t.src||o!==t.srcset){var s=r.classes.spinner,a=t.parentElement,l=M(a,"."+s)||G("span",s,a);c.push([t,e,l]),t.src||W(t,"none")}})}),u?v():(s(d),o(d,p),p())}function p(){(c=c.filter(function(t){var n=r.perPage*((r.preloadPages||1)+1)-1;return!t[1].isWithin(e.index,n)||m(t)})).length||s(d)}function m(e){var t=e[0];z(e[1].slide,tk),a(t,"load error",g(y,e)),V(t,"src",K(t,t$)),V(t,"srcset",K(t,tZ)),Z(t,t$),Z(t,tZ)}function y(e,t){var r=e[0],n=e[1];er(n.slide,tk),"error"!==t.type&&(J(e[2]),W(r,""),l(eY,r,n),l(ez)),u&&v()}function v(){c.length&&m(c.shift())}return{mount:function(){r.lazyLoad&&(h(),o(eP,h))},destroy:g(f,c),check:p}},Pagination:function(e,t,r){var n,o,s=eK(e),a=s.on,l=s.emit,u=s.bind,d=t.Slides,c=t.Elements,h=t.Controller,p=h.hasFocus,y=h.getIndex,v=h.go,_=t.Direction.resolve,b=c.pagination,x=[];function w(){n&&(J(b?m(n.children):n),er(n,o),f(x),n=null),s.destroy()}function S(e){v(">"+e,!0)}function C(e,t){var r=x.length,n=tN(t),o=T(),s=-1;n===_(eQ,!1,o)?s=++e%r:n===_(eJ,!1,o)?s=(--e+r)%r:"Home"===n?s=0:"End"===n&&(s=r-1);var a=x[s];a&&(Y(a.button),v(">"+s),ee(t,!0))}function T(){return r.paginationDirection||r.direction}function E(e){return x[h.toPage(e)]}function k(){var e=E(y(!0)),t=E(y());if(e){var r=e.button;er(r,tS),Z(r,e9),V(r,e4,-1)}if(t){var o=t.button;z(o,tS),V(o,e9,!0),V(o,e4,"")}l(eZ,{list:n,items:x},e,t)}return{items:x,mount:function t(){w(),a([eU,eP,"ei"],t);var s=r.pagination;b&&W(b,s?"":"none"),s&&(a([eS,eM,eL],k),function(){var t=e.length,s=r.classes,a=r.i18n,l=r.perPage,f=p()?h.getEnd()+1:eh(t/l);z(n=b||G("ul",s.pagination,c.track.parentElement),o=tv+"--"+T()),V(n,e3,"tablist"),V(n,e5,a.select),V(n,ti,"ttb"===T()?"vertical":"");for(var m=0;m<f;m++){var y=G("li",null,n),v=G("button",{class:s.page,type:"button"},y),_=d.getIn(m).map(function(e){return e.slide.id}),w=!p()&&l>1?a.pageX:a.slideX;u(v,"click",g(S,m)),r.paginationKeyboard&&u(v,"keydown",g(C,m)),V(y,e3,"presentation"),V(v,e3,"tab"),V(v,e8,_.join(" ")),V(v,e5,ey(w,m+1)),V(v,e4,-1),x.push({li:y,button:v,page:m})}}(),k(),l(e$,{list:n,items:x},E(e.index)))},destroy:w,getAt:E,update:k}},Sync:function(e,t,r){var n=r.isNavigation,o=r.slideFocus,s=[];function a(){var t,r;e.splides.forEach(function(t){t.isParent||(u(e,t.splide),u(t.splide,e))}),n&&((r=(t=eK(e)).on)(eT,c),r("sk",h),r([ex,eU],d),s.push(t),t.emit(eV,e.splides))}function l(){s.forEach(function(e){e.destroy()}),f(s)}function u(e,t){var r=eK(e);r.on(eS,function(e,r,n){t.go(t.is(tR)?n:e)}),s.push(r)}function d(){V(t.Elements.list,ti,"ttb"===r.direction?"vertical":"")}function c(t){e.go(t.index)}function h(e,t){A(tG,tN(t))&&(c(e),ee(t))}return{setup:g(t.Media.set,{slideFocus:T(o)?n:o},!0),mount:a,destroy:l,remount:function(){l(),a()}}},Wheel:function(e,t,r){var n=eK(e).bind,o=0;function s(n){if(n.cancelable){var s=n.deltaY,a=s<0,l=en(n),u=r.wheelMinThreshold||0,d=r.wheelSleep||0;ep(s)>u&&l-o>d&&(e.go(a?"<":">"),o=l),(!r.releaseWheel||e.state.is(4)||-1!==t.Controller.getAdjacent(a))&&ee(n)}}return{mount:function(){r.wheel&&n(t.Elements.track,"wheel",s,tL)}}},Live:function(e,t,r){var n=eK(e).on,o=t.Elements.track,s=r.live&&!r.isNavigation,a=G("span",tw),l=eq(90,g(u,!1));function u(e){V(o,to,e),e?(O(o,a),l.start()):(J(a),l.cancel())}function d(e){s&&V(o,tn,e?"off":"polite")}return{mount:function(){s&&(d(!t.Autoplay.isPaused()),V(o,ts,!0),a.textContent="…",n(eG,g(d,!0)),n(eW,g(d,!1)),n([eC,eL],g(u,!0)))},disable:d,destroy:function(){Z(o,[tn,ts,to]),J(a)}}}}),tW={type:"slide",role:"region",speed:400,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,paginationKeyboard:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",live:!0,classes:{slide:tc,clone:th,arrows:tf,arrow:tm,prev:tg,next:ty,pagination:tv,page:t_,spinner:tl+"spinner"},i18n:{prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay",carousel:"carousel",slide:"slide",select:"Select a slide to show",slideLabel:"%s of %s"},reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};function tY(e,t,r){var n=t.Slides;function o(){n.forEach(function(e){e.style("transform","translateX(-"+100*e.index+"%)")})}return{mount:function(){eK(e).on([ex,eP],o)},start:function(e,t){n.style("transition","opacity "+r.speed+"ms "+r.easing),y(t)},cancel:v}}function tK(e,t,r){var n,o=t.Move,s=t.Controller,a=t.Scroll,l=t.Elements.list,u=g(H,l,"transition");function d(){u(""),a.cancel()}return{mount:function(){eK(e).bind(l,"transitionend",function(e){e.target===l&&n&&(d(),n())})},start:function(t,l){var d=o.toPosition(t,!0),c=o.getPosition(),h=function(t){var n=r.rewindSpeed;if(e.is(tj)&&n){var o=s.getIndex(!0),a=s.getEnd();if(0===o&&t>=a||o>=a&&0===t)return n}return r.speed}(t);ep(d-c)>=1&&h>=1?r.useScroll?a.scroll(d,h,!1,l):(u("transform "+h+"ms "+r.easing),o.translate(d,!0),n=l):(o.jump(t),l())},cancel:d}}var tq=function(){function e(t,r){this.event=eK(),this.Components={},this.state=(n=1,{set:function(e){n=e},is:function(e){return A(k(e),n)}}),this.splides=[],this._o={},this._E={};var n,o=C(t)?et(document,t):t;el(o,o+" is invalid."),this.root=o,r=D({label:K(o,e5)||"",labelledby:K(o,te)||""},tW,e.defaults,r||{});try{D(r,JSON.parse(K(o,ea)))}catch(e){el(!1,"Invalid JSON")}this._o=Object.create(D({},r))}var t,r=e.prototype;return r.mount=function(e,t){var r=this,n=this.state,o=this.Components;return el(n.is([1,7]),"Already mounted!"),n.set(1),this._C=o,this._T=t||this._T||(this.is(tB)?tY:tK),this._E=e||this._E,F(N({},tH,this._E,{Transition:this._T}),function(e,t){var n=e(r,o,r._o);o[t]=n,n.setup&&n.setup()}),F(o,function(e){e.mount&&e.mount()}),this.emit(ex),z(this.root,"is-initialized"),n.set(3),this.emit(ew),this},r.sync=function(e){return this.splides.push({splide:e}),e.splides.push({splide:this,isParent:!0}),this.state.is(3)&&(this._C.Sync.remount(),e.Components.Sync.remount()),this},r.go=function(e){return this._C.Controller.go(e),this},r.on=function(e,t){return this.event.on(e,t),this},r.off=function(e){return this.event.off(e),this},r.emit=function(e){var t;return(t=this.event).emit.apply(t,[e].concat(m(arguments,1))),this},r.add=function(e,t){return this._C.Slides.add(e,t),this},r.remove=function(e){return this._C.Slides.remove(e),this},r.is=function(e){return this._o.type===e},r.refresh=function(){return this.emit(eP),this},r.destroy=function(e){void 0===e&&(e=!0);var t=this.event,r=this.state;return r.is(1)?eK(this).on(ew,this.destroy.bind(this,e)):(F(this._C,function(t){t.destroy&&t.destroy(e)},!0),t.emit(eF),t.destroy(),e&&f(this.splides),r.set(7)),this},t=[{key:"options",get:function(){return this._o},set:function(e){this._C.Media.set(e,!0,!0)}},{key:"length",get:function(){return this._C.Slides.getLength(!0)}},{key:"index",get:function(){return this._C.Controller.getIndex()}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}();tq.defaults={},tq.STATES={CREATED:1,MOUNTED:2,IDLE:3,MOVING:4,SCROLLING:5,DRAGGING:6,DESTROYED:7};var tX=c(r(7294)),tJ=[[ex,"onMounted"],[ew,"onReady"],[eS,"onMove"],[eC,"onMoved"],[eT,"onClick"],[eE,"onActive"],[ek,"onInactive"],[eI,"onVisible"],[eA,"onHidden"],[eP,"onRefresh"],[eU,"onUpdated"],[ez,"onResize"],[eO,"onResized"],[ej,"onDrag"],[eR,"onDragging"],[eB,"onDragged"],[eM,"onScroll"],[eL,"onScrolled"],[eF,"onDestroy"],[eN,"onArrowsMounted"],[eD,"onArrowsUpdated"],[e$,"onPaginationMounted"],[eZ,"onPaginationUpdated"],[eV,"onNavigationMounted"],[eG,"onAutoplayPlay"],[eH,"onAutoplayPlaying"],[eW,"onAutoplayPause"],[eY,"onLazyLoadLoaded"]];function tQ(...e){return e.filter(Boolean).join(" ")}function t0(e){return null!==e&&"object"==typeof e}function t1(e,t){return!function(e,t){if(e){let r=Object.keys(e);for(let n=0;n<r.length;n++){let o=r[n];if("__proto__"!==o&&!1===t(e[o],o))break}}}(t,(t,r)=>{Array.isArray(t)?e[r]=t.slice():t0(t)?e[r]=t1(t0(e[r])?e[r]:{},t):e[r]=t}),e}var t2=c(r(7294)),t3=({children:e,className:t,...r})=>t2.default.createElement("div",{className:tQ("splide__track",t),...r},t2.default.createElement("ul",{className:"splide__list"},e)),t4=class extends tX.default.Component{constructor(){super(...arguments),this.splideRef=tX.default.createRef(),this.slides=[]}componentDidMount(){let{options:e,extensions:t,transition:r}=this.props,{current:n}=this.splideRef;n&&(this.splide=new tq(n,e),this.bind(this.splide),this.splide.mount(t,r),this.options=t1({},e||{}),this.slides=this.getSlides())}componentWillUnmount(){this.splide&&(this.splide.destroy(),this.splide=void 0),this.options=void 0,this.slides.length=0}componentDidUpdate(){var e;if(!this.splide)return;let{options:t}=this.props;t&&!function e(t,r){if(Array.isArray(t)&&Array.isArray(r))return t.length===r.length&&!t.some((t,n)=>!e(t,r[n]));if(t0(t)&&t0(r)){let n=Object.keys(t),o=Object.keys(r);return n.length===o.length&&!n.some(n=>!Object.prototype.hasOwnProperty.call(r,n)||!e(t[n],r[n]))}return t===r}(this.options,t)&&(this.splide.options=t,this.options=t1({},t));let r=this.getSlides();((e=this.slides).length!==r.length||e.some((e,t)=>e!==r[t]))&&(this.splide.refresh(),this.slides=r)}sync(e){var t;null==(t=this.splide)||t.sync(e)}go(e){var t;null==(t=this.splide)||t.go(e)}getSlides(){var e;if(this.splide){let t=null==(e=this.splide.Components.Elements)?void 0:e.list.children;return t&&Array.prototype.slice.call(t)||[]}return[]}bind(e){tJ.forEach(([t,r])=>{let n=this.props[r];"function"==typeof n&&e.on(t,(...t)=>{n(e,...t)})})}omit(e,t){return t.forEach(t=>{Object.prototype.hasOwnProperty.call(e,t)&&delete e[t]}),e}render(){let{className:e,tag:t="div",hasTrack:r=!0,children:n,...o}=this.props;return tX.default.createElement(t,{className:tQ("splide",e),ref:this.splideRef,...this.omit(o,["options",...tJ.map(e=>e[1])])},r?tX.default.createElement(t3,null,n):n)}},t6=c(r(7294)),t8=({children:e,className:t,...r})=>t6.default.createElement("li",{className:tQ("splide__slide",t),...r},e);/*!
 * Splide.js
 * Version  : 4.1.3
 * License  : MIT
 * Copyright: 2022 Naotoshi Fujita
 */},8333:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){h(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(){s=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function c(e,t,r,o){var s,a,l=Object.create((t&&t.prototype instanceof f?t:f).prototype);return n(l,"_invoke",{value:(s=new T(o||[]),a="suspendedStart",function(t,n){if("executing"===a)throw Error("Generator is already running");if("completed"===a){if("throw"===t)throw n;return k()}for(s.method=t,s.arg=n;;){var o=s.delegate;if(o){var l=function e(t,r){var n=r.method,o=t.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=void 0,e(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+n+"' method")),p;var s=h(o,t.iterator,r.arg);if("throw"===s.type)return r.method="throw",r.arg=s.arg,r.delegate=null,p;var a=s.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,p):a:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,p)}(o,s);if(l){if(l===p)continue;return l}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===a)throw a="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);a="executing";var u=h(e,r,s);if("normal"===u.type){if(a=s.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:s.done}}"throw"===u.type&&(a="completed",s.method="throw",s.arg=u.arg)}})}),l}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var p={};function f(){}function m(){}function g(){}var y={};d(y,a,function(){return this});var v=Object.getPrototypeOf,_=v&&v(v(E([])));_&&_!==t&&r.call(_,a)&&(y=_);var b=g.prototype=f.prototype=Object.create(y);function x(e){["next","throw","return"].forEach(function(t){d(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var o;n(this,"_invoke",{value:function(n,s){function a(){return new t(function(o,a){!function n(o,s,a,l){var u=h(e[o],e,s);if("throw"!==u.type){var d=u.arg,c=d.value;return c&&"object"==typeof c&&r.call(c,"__await")?t.resolve(c.__await).then(function(e){n("next",e,a,l)},function(e){n("throw",e,a,l)}):t.resolve(c).then(function(e){d.value=e,a(d)},function(e){return n("throw",e,a,l)})}l(u.arg)}(n,s,o,a)})}return o=o?o.then(a,a):a()}})}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=g,n(b,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:m,configurable:!0}),m.displayName=d(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,d(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},x(w.prototype),d(w.prototype,l,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,s){void 0===s&&(s=Promise);var a=new w(c(t,r,n,o),s);return e.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},x(b),d(b,u,"Generator"),d(b,a,function(){return this}),d(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(l&&u){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var s=o;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=e,a.arg=t,s?(this.method="next",this.next=s.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function a(e,t,r,n,o,s,a){try{var l=e[s](a),u=l.value}catch(e){r(e);return}l.done?t(u):Promise.resolve(u).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var s=e.apply(t,r);function l(e){a(s,n,o,l,u,"next",e)}function u(e){a(s,n,o,l,u,"throw",e)}l(void 0)})}}function u(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function c(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function g(e,t,r){return(g=m()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&f(o,r.prototype),o}).apply(null,arguments)}function y(e){var t="function"==typeof Map?new Map:void 0;return(y=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return g(e,arguments,p(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,e)})(e)}function v(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function b(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}r.r(t);var x,w,S,C,T,E,k,I=void 0!==r.g&&"[object global]"===({}).toString.call(r.g),A="undefined"!=typeof Bun,P="undefined"!=typeof Deno,U=I||A||P;function z(e,t){return 0===e.indexOf(t.toLowerCase())?e:"".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function O(e){return/^(https?:)?\/\/((((player|www)\.)?vimeo\.com)|((player\.)?[a-zA-Z0-9-]+\.(videoji\.(hk|cn)|vimeo\.work)))(?=$|\/)/.test(e)}function j(e){return/^https:\/\/player\.((vimeo\.com)|([a-zA-Z0-9-]+\.(videoji\.(hk|cn)|vimeo\.work)))\/video\/\d+/.test(e)}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=e.url,n=t||r;if(!n)throw Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(!isNaN(parseFloat(n))&&isFinite(n)&&Math.floor(n)==n)return"https://vimeo.com/".concat(n);if(O(n))return n.replace("http:","https:");if(t)throw TypeError("“".concat(t,"” is not a valid video id."));throw TypeError("“".concat(n,"” is not a vimeo.com url."))}var B=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"addEventListener",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"removeEventListener",s="string"==typeof t?[t]:t;return s.forEach(function(t){e[n](t,r)}),{cancel:function(){return s.forEach(function(t){return e[o](t,r)})}}};function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;if(!e||!t||"function"!=typeof t.querySelectorAll)return null;for(var r=t.querySelectorAll("iframe"),n=0;n<r.length;n++)if(r[n]&&r[n].contentWindow===e)return r[n];return null}var L=void 0!==Array.prototype.indexOf,F="undefined"!=typeof window&&void 0!==window.postMessage;if(!U&&(!L||!F))throw Error("Sorry, the Vimeo Player API is not available in this browser.");var N="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};!/*!
 * weakmap-polyfill v2.0.4 - ECMAScript6 WeakMap polyfill
 * https://github.com/polygonplanet/weakmap-polyfill
 * Copyright (c) 2015-2021 polygonplanet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */function(e){if(!e.WeakMap){var t=Object.prototype.hasOwnProperty,r=Object.defineProperty&&function(){try{return 1===Object.defineProperty({},"x",{value:1}).x}catch(e){}}(),n=function(e,t,n){r?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n}):e[t]=n};e.WeakMap=function(){function e(){if(void 0===this)throw TypeError("Constructor WeakMap requires 'new'");if(n(this,"_id","_WeakMap_"+s()+"."+s()),arguments.length>0)throw TypeError("WeakMap iterable is not supported")}function r(e,r){if(!o(e)||!t.call(e,"_id"))throw TypeError(r+" method called on incompatible receiver "+typeof e)}function s(){return Math.random().toString().substring(2)}return n(e.prototype,"delete",function(e){if(r(this,"delete"),!o(e))return!1;var t=e[this._id];return!!t&&t[0]===e&&(delete e[this._id],!0)}),n(e.prototype,"get",function(e){if(r(this,"get"),o(e)){var t=e[this._id];if(t&&t[0]===e)return t[1]}}),n(e.prototype,"has",function(e){if(r(this,"has"),!o(e))return!1;var t=e[this._id];return!!t&&t[0]===e}),n(e.prototype,"set",function(e,t){if(r(this,"set"),!o(e))throw TypeError("Invalid value used as weak map key");var s=e[this._id];return s&&s[0]===e?s[1]=t:n(e,this._id,[e,t]),this}),n(e,"_polyfill",!0),e}()}function o(e){return Object(e)===e}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:N);var D=(x=C={exports:{}},C.exports,w="Promise",S=function(){var e,t,r,n=Object.prototype.toString,o="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(e,t,r,n){return Object.defineProperty(e,t,{value:r,writable:!0,configurable:!1!==n})}}catch(t){e=function(e,t,r){return e[t]=r,e}}function s(e,n){r.add(e,n),t||(t=o(r.drain))}function a(e){var t,r=typeof e;return null!=e&&("object"==r||"function"==r)&&(t=e.then),"function"==typeof t&&t}function l(){for(var e=0;e<this.chain.length;e++)(function(e,t,r){var n,o;try{!1===t?r.reject(e.msg):(n=!0===t?e.msg:t.call(void 0,e.msg))===r.promise?r.reject(TypeError("Promise-chain cycle")):(o=a(n))?o.call(n,r.resolve,r.reject):r.resolve(n)}catch(e){r.reject(e)}})(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function u(e){var t,r=this;if(!r.triggered){r.triggered=!0,r.def&&(r=r.def);try{(t=a(e))?s(function(){var n=new h(r);try{t.call(e,function(){u.apply(n,arguments)},function(){d.apply(n,arguments)})}catch(e){d.call(n,e)}}):(r.msg=e,r.state=1,r.chain.length>0&&s(l,r))}catch(e){d.call(new h(r),e)}}}function d(e){var t=this;!t.triggered&&(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&s(l,t))}function c(e,t,r,n){for(var o=0;o<t.length;o++)!function(o){e.resolve(t[o]).then(function(e){r(o,e)},n)}(o)}function h(e){this.def=e,this.triggered=!1}function p(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function f(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var t=new p(this);this.then=function(e,r){var n={success:"function"!=typeof e||e,failure:"function"==typeof r&&r};return n.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");n.resolve=e,n.reject=t}),t.chain.push(n),0!==t.state&&s(l,t),n.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,function(e){u.call(t,e)},function(e){d.call(t,e)})}catch(e){d.call(t,e)}}r=function(){var e,r,n;function o(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(t,s){n=new o(t,s),r?r.next=n:e=n,r=n,n=void 0},drain:function(){var n=e;for(e=r=t=void 0;n;)n.fn.call(n.self),n=n.next}}}();var m=e({},"constructor",f,!1);return f.prototype=m,e(m,"__NPO__",0,!1),e(f,"resolve",function(e){return e&&"object"==typeof e&&1===e.__NPO__?e:new this(function(t,r){if("function"!=typeof t||"function"!=typeof r)throw TypeError("Not a function");t(e)})}),e(f,"reject",function(e){return new this(function(t,r){if("function"!=typeof t||"function"!=typeof r)throw TypeError("Not a function");r(e)})}),e(f,"all",function(e){var t=this;return"[object Array]"!=n.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t(function(r,n){if("function"!=typeof r||"function"!=typeof n)throw TypeError("Not a function");var o=e.length,s=Array(o),a=0;c(t,e,function(e,t){s[e]=t,++a===o&&r(s)},n)})}),e(f,"race",function(e){var t=this;return"[object Array]"!=n.call(e)?t.reject(TypeError("Not an array")):new t(function(r,n){if("function"!=typeof r||"function"!=typeof n)throw TypeError("Not a function");c(t,e,function(e,t){r(t)},n)})}),f},N[w]=N[w]||S(),x.exports&&(x.exports=N[w]),C.exports),$=new WeakMap;function Z(e,t,r){var n=$.get(e.element)||{};t in n||(n[t]=[]),n[t].push(r),$.set(e.element,n)}function V(e,t){return($.get(e.element)||{})[t]||[]}function G(e,t,r){var n=$.get(e.element)||{};if(!n[t])return!0;if(!r)return n[t]=[],$.set(e.element,n),!0;var o=n[t].indexOf(r);return -1!==o&&n[t].splice(o,1),$.set(e.element,n),n[t]&&0===n[t].length}function H(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return console.warn(e),{}}return e}function W(e,t,r){if(e.element.contentWindow&&e.element.contentWindow.postMessage){var n={method:t};void 0!==r&&(n.value=r);var o=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));o>=8&&o<10&&(n=JSON.stringify(n)),e.element.contentWindow.postMessage(n,e.origin)}}var Y=["airplay","audio_tracks","audiotrack","autopause","autoplay","background","byline","cc","chapter_id","chapters","chromecast","color","colors","controls","dnt","end_time","fullscreen","height","id","initial_quality","interactive_params","keyboard","loop","maxheight","max_quality","maxwidth","min_quality","muted","play_button_position","playsinline","portrait","preload","progress_bar","quality","quality_selector","responsive","skipping_forward","speed","start_time","texttrack","thumbnail_id","title","transcript","transparent","unmute_button","url","vimeo_logo","volume","watch_full_video","width"];function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Y.reduce(function(t,r){var n=e.getAttribute("data-vimeo-".concat(r));return(n||""===n)&&(t[r]=""===n?1:n),t},t)}function q(e,t){var r=e.html;if(!t)throw TypeError("An element must be provided");if(null!==t.getAttribute("data-vimeo-initialized"))return t.querySelector("iframe");var n=document.createElement("div");return n.innerHTML=r,t.appendChild(n.firstChild),t.setAttribute("data-vimeo-initialized","true"),t.querySelector("iframe")}function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return new Promise(function(n,o){if(!O(e))throw TypeError("“".concat(e,"” is not a vimeo.com url."));var s=function(e){for(var t=(e||"").match(/^(?:https?:)?(?:\/\/)?([^/?]+)/),r=(t&&t[1]||"").replace("player.",""),n=0,o=[".videoji.hk",".vimeo.work",".videoji.cn"];n<o.length;n++){var s=o[n];if(r.endsWith(s))return r}return"vimeo.com"}(e),a="https://".concat(s,"/api/oembed.json?url=").concat(encodeURIComponent(e));for(var l in t)t.hasOwnProperty(l)&&(a+="&".concat(l,"=").concat(encodeURIComponent(t[l])));var u="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;u.open("GET",a,!0),u.onload=function(){if(404===u.status){o(Error("“".concat(e,"” was not found.")));return}if(403===u.status){o(Error("“".concat(e,"” is not embeddable.")));return}try{var t=JSON.parse(u.responseText);if(403===t.domain_status_code){q(t,r),o(Error("“".concat(e,"” is not embeddable.")));return}n(t)}catch(e){o(e)}},u.onerror=function(){var e=u.status?" (".concat(u.status,")"):"";o(Error("There was an error fetching the embed code from Vimeo".concat(e,".")))},u.send()})}var J={role:"viewer",autoPlayMuted:!0,allowedDrift:.3,maxAllowedDrift:1,minCheckInterval:.1,maxRateAdjustment:.2,maxTimeToCatchUp:1},Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(g,e);var t,r,n,a,d=(t=m(),function(){var e,r=p(g);return e=t?Reflect.construct(r,arguments,p(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function g(e,t){var r,n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;return u(this,g),h(v(n=d.call(this)),"logger",void 0),h(v(n),"speedAdjustment",0),h(v(n),"adjustSpeed",(r=l(s().mark(function e(t,r){var o;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.speedAdjustment!==r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.getPlaybackRate();case 4:return e.t0=e.sent,e.t1=n.speedAdjustment,e.t2=e.t0-e.t1,e.t3=r,o=e.t2+e.t3,n.log("New playbackRate:  ".concat(o)),e.next=12,t.setPlaybackRate(o);case 12:n.speedAdjustment=r;case 13:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)})),n.logger=c,n.init(t,e,o(o({},J),a)),n}return c(g,[{key:"disconnect",value:function(){this.dispatchEvent(new Event("disconnect"))}},{key:"init",value:(r=l(s().mark(function e(t,r,n){var o,a,l,u=this;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.waitForTOReadyState(t,"open");case 2:if("viewer"!==n.role){e.next=10;break}return e.next=5,this.updatePlayer(t,r,n);case 5:o=B(t,"change",function(){return u.updatePlayer(t,r,n)}),a=this.maintainPlaybackPosition(t,r,n),this.addEventListener("disconnect",function(){a.cancel(),o.cancel()}),e.next=14;break;case 10:return e.next=12,this.updateTimingObject(t,r);case 12:l=B(r,["seeked","play","pause","ratechange"],function(){return u.updateTimingObject(t,r)},"on","off"),this.addEventListener("disconnect",function(){return l.cancel()});case 14:case"end":return e.stop()}},e,this)})),function(e,t,n){return r.apply(this,arguments)})},{key:"updateTimingObject",value:(n=l(s().mark(function e(t,r){var n,o,a,l;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.getCurrentTime(),r.getPaused(),r.getPlaybackRate()]);case 2:var s;o=(n=function(e){if(Array.isArray(e))return e}(s=e.sent)||/*! @vimeo/player v2.29.1 | (c) 2025 Vimeo | MIT License | https://github.com/vimeo/player.js */function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,a,l=[],u=!0,d=!1;try{for(s=(r=r.call(e)).next;!(u=(n=s.call(r)).done)&&(l.push(n.value),3!==l.length);u=!0);}catch(e){d=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(s,3)||function(e,t){if(e){if("string"==typeof e)return _(e,3);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,3)}}(s,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],a=n[1],l=n[2],t.update({position:o,velocity:a?0:l});case 8:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)})},{key:"updatePlayer",value:(a=l(s().mark(function e(t,r,n){var o,a,u;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(o=t.query()).position,u=o.velocity,"number"==typeof a&&r.setCurrentTime(a),"number"!=typeof u){e.next=25;break}if(0!==u){e.next=11;break}return e.next=6,r.getPaused();case 6:if(e.t0=e.sent,!1!==e.t0){e.next=9;break}r.pause();case 9:e.next=25;break;case 11:if(!(u>0)){e.next=25;break}return e.next=14,r.getPaused();case 14:if(e.t1=e.sent,!0!==e.t1){e.next=19;break}return e.next=18,r.play().catch(function(){var e=l(s().mark(function e(t){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!("NotAllowedError"===t.name&&n.autoPlayMuted)){e.next=5;break}return e.next=3,r.setMuted(!0);case 3:return e.next=5,r.play().catch(function(e){return console.error("Couldn't play the video from TimingSrcConnector. Error:",e)});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 18:this.updatePlayer(t,r,n);case 19:return e.next=21,r.getPlaybackRate();case 21:if(e.t2=e.sent,e.t3=u,!(e.t2!==e.t3)){e.next=25;break}r.setPlaybackRate(u);case 25:case"end":return e.stop()}},e,this)})),function(e,t,r){return a.apply(this,arguments)})},{key:"maintainPlaybackPosition",value:function(e,t,r){var n,o=this,a=r.allowedDrift,u=r.maxAllowedDrift,d=r.minCheckInterval,c=r.maxRateAdjustment,h=r.maxTimeToCatchUp,p=(n=l(s().mark(function r(){var n,l,d,p,f;return s().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=0===e.query().velocity,r.t0){r.next=6;break}return r.next=4,t.getPaused();case 4:r.t1=r.sent,r.t0=!0===r.t1;case 6:if(!r.t0){r.next=8;break}return r.abrupt("return");case 8:return r.t2=e.query().position,r.next=11,t.getCurrentTime();case 11:if(r.t3=r.sent,l=Math.abs(n=r.t2-r.t3),o.log("Drift: ".concat(n)),!(l>u)){r.next=22;break}return r.next=18,o.adjustSpeed(t,0);case 18:t.setCurrentTime(e.query().position),o.log("Resync by currentTime"),r.next=29;break;case 22:if(!(l>a)){r.next=29;break}return f=(d=l/h)<(p=c)?(p-d)/2:p,r.next=28,o.adjustSpeed(t,f*Math.sign(n));case 28:o.log("Resync by playbackRate");case 29:case"end":return r.stop()}},r)})),function(){return n.apply(this,arguments)}),f=setInterval(function(){return p()},1e3*Math.min(h,Math.max(d,u)));return{cancel:function(){return clearInterval(f)}}}},{key:"log",value:function(e){var t;null===(t=this.logger)||void 0===t||t.call(this,"TimingSrcConnector: ".concat(e))}},{key:"waitForTOReadyState",value:function(e,t){return new Promise(function(r){!function n(){e.readyState===t?r():e.addEventListener("readystatechange",n,{once:!0})}()})}}]),g}(y(EventTarget)),ee=new WeakMap,et=new WeakMap,ei={},er=function(){var e;function t(e){var r,n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(u(this,t),window.jQuery&&e instanceof jQuery&&(e.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),e=e[0]),"undefined"!=typeof document&&"string"==typeof e&&(e=document.getElementById(e)),!((r=e)&&1===r.nodeType&&"nodeName"in r&&r.ownerDocument&&r.ownerDocument.defaultView))throw TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==e.nodeName){var s=e.querySelector("iframe");s&&(e=s)}if("IFRAME"===e.nodeName&&!O(e.getAttribute("src")||""))throw Error("The player element passed isn’t a Vimeo embed.");if(ee.has(e))return ee.get(e);this._window=e.ownerDocument.defaultView,this.element=e,this.origin="*";var a=new D(function(t,r){if(n._onMessage=function(e){if(O(e.origin)&&n.element.contentWindow===e.source){"*"===n.origin&&(n.origin=e.origin);var o=H(e.data);if(o&&"error"===o.event&&o.data&&"ready"===o.data.method){var s=Error(o.data.message);s.name=o.data.name,r(s);return}var a=o&&"ready"===o.event,l=o&&"ping"===o.method;if(a||l){n.element.setAttribute("data-ready","true"),t();return}!function(e,t){t=H(t);var r,n=[];if(t.event)"error"===t.event&&V(e,t.data.method).forEach(function(r){var n=Error(t.data.message);n.name=t.data.name,r.reject(n),G(e,t.data.method,r)}),n=V(e,"event:".concat(t.event)),r=t.data;else if(t.method){var o=function(e,t){var r=V(e,t);if(r.length<1)return!1;var n=r.shift();return G(e,t,n),n}(e,t.method);o&&(n.push(o),r=t.value)}n.forEach(function(t){try{if("function"==typeof t){t.call(e,r);return}t.resolve(r)}catch(e){}})}(n,o)}},n._window.addEventListener("message",n._onMessage),"IFRAME"!==n.element.nodeName){var s=K(e,o);X(R(s),s,e).then(function(t){var r,o,s=q(t,e);return n.element=s,n._originalElement=e,r=e,o=$.get(r),$.set(s,o),$.delete(r),ee.set(n.element,n),t}).catch(r)}});if(et.set(this,a),ee.set(this.element,this),"IFRAME"===this.element.nodeName&&W(this,"ping"),ei.isEnabled){var l=function(){return ei.exit()};this.fullscreenchangeHandler=function(){ei.isFullscreen?Z(n,"event:exitFullscreen",l):G(n,"event:exitFullscreen",l),n.ready().then(function(){W(n,"fullscreenchange",ei.isFullscreen)})},ei.on("fullscreenchange",this.fullscreenchangeHandler)}return this}return c(t,[{key:"callMethod",value:function(e){for(var t=this,r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(null==e)throw TypeError("You must pass a method name.");return new D(function(r,o){return t.ready().then(function(){Z(t,e,{resolve:r,reject:o}),0===n.length?n={}:1===n.length&&(n=n[0]),W(t,e,n)}).catch(o)})}},{key:"get",value:function(e){var t=this;return new D(function(r,n){return e=z(e,"get"),t.ready().then(function(){Z(t,e,{resolve:r,reject:n}),W(t,e)}).catch(n)})}},{key:"set",value:function(e,t){var r=this;return new D(function(n,o){if(e=z(e,"set"),null==t)throw TypeError("There must be a value to set.");return r.ready().then(function(){Z(r,e,{resolve:n,reject:o}),W(r,e,t)}).catch(o)})}},{key:"on",value:function(e,t){if(!e)throw TypeError("You must pass an event name.");if(!t)throw TypeError("You must pass a callback function.");if("function"!=typeof t)throw TypeError("The callback must be a function.");0===V(this,"event:".concat(e)).length&&this.callMethod("addEventListener",e).catch(function(){}),Z(this,"event:".concat(e),t)}},{key:"off",value:function(e,t){if(!e)throw TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw TypeError("The callback must be a function.");G(this,"event:".concat(e),t)&&this.callMethod("removeEventListener",e).catch(function(e){})}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=et.get(this)||new D(function(e,t){t(Error("Unknown player. Probably unloaded."))});return D.resolve(e)}},{key:"addCuePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:e,data:t})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,t){if(!e)throw TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:t})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return ei.isEnabled?ei.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return ei.isEnabled?ei.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return ei.isEnabled?D.resolve(ei.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"remotePlaybackPrompt",value:function(){return this.callMethod("remotePlaybackPrompt")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var e=this;return new D(function(t){if(et.delete(e),ee.delete(e.element),e._originalElement&&(ee.delete(e._originalElement),e._originalElement.removeAttribute("data-vimeo-initialized")),e.element&&"IFRAME"===e.element.nodeName&&e.element.parentNode&&(e.element.parentNode.parentNode&&e._originalElement&&e._originalElement!==e.element.parentNode?e.element.parentNode.parentNode.removeChild(e.element.parentNode):e.element.parentNode.removeChild(e.element)),e.element&&"DIV"===e.element.nodeName&&e.element.parentNode){e.element.removeAttribute("data-vimeo-initialized");var r=e.element.querySelector("iframe");r&&r.parentNode&&(r.parentNode.parentNode&&e._originalElement&&e._originalElement!==r.parentNode?r.parentNode.parentNode.removeChild(r.parentNode):r.parentNode.removeChild(r))}e._window.removeEventListener("message",e._onMessage),ei.isEnabled&&ei.off("fullscreenchange",e.fullscreenchangeHandler),t()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(e){return this.set("cameraProps",e)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"getColors",value:function(){return D.all([this.get("colorOne"),this.get("colorTwo"),this.get("colorThree"),this.get("colorFour")])}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"setColors",value:function(e){if(!Array.isArray(e))return new D(function(e,t){return t(TypeError("Argument must be an array."))});var t=new D(function(e){return e(null)}),r=[e[0]?this.set("colorOne",e[0]):t,e[1]?this.set("colorTwo",e[1]):t,e[2]?this.set("colorThree",e[2]):t,e[3]?this.set("colorFour",e[3]):t];return D.all(r)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"setMuted",value:function(e){return this.set("muted",e)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(e){return this.set("quality",e)}},{key:"getRemotePlaybackAvailability",value:function(){return this.get("remotePlaybackAvailability")}},{key:"getRemotePlaybackState",value:function(){return this.get("remotePlaybackState")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}},{key:"setTimingSrc",value:(e=l(s().mark(function e(t,r){var n,o=this;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw TypeError("A Timing Object must be provided.");case 2:return e.next=4,this.ready();case 4:return n=new Q(this,t,r),W(this,"notifyTimingObjectConnect"),n.addEventListener("disconnect",function(){return W(o,"notifyTimingObjectDisconnect")}),e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)})),function(t,r){return e.apply(this,arguments)})}],[{key:"isVimeoUrl",value:function(e){return O(e)}}]),t}();!U&&(E={fullscreenchange:(T=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,n=t.length,o={};r<n;r++)if((e=t[r])&&e[1]in document){for(r=0;r<e.length;r++)o[t[0][r]]=e[r];return o}return!1}()).fullscreenchange,fullscreenerror:T.fullscreenerror},Object.defineProperties(k={request:function(e){return new Promise(function(t,r){var n=function e(){k.off("fullscreenchange",e),t()};k.on("fullscreenchange",n);var o=(e=e||document.documentElement)[T.requestFullscreen]();o instanceof Promise&&o.then(n).catch(r)})},exit:function(){return new Promise(function(e,t){if(!k.isFullscreen){e();return}var r=function t(){k.off("fullscreenchange",t),e()};k.on("fullscreenchange",r);var n=document[T.exitFullscreen]();n instanceof Promise&&n.then(r).catch(t)})},on:function(e,t){var r=E[e];r&&document.addEventListener(r,t)},off:function(e,t){var r=E[e];r&&document.removeEventListener(r,t)}},{isFullscreen:{get:function(){return!!document[T.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[T.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!document[T.fullscreenEnabled]}}}),ei=k,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=[].slice.call(e.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),r=function(e){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(e))};t.forEach(function(e){try{if(null!==e.getAttribute("data-vimeo-defer"))return;var t=K(e),n=R(t);X(n,t,e).then(function(t){return q(t,e)}).catch(r)}catch(e){r(e)}})}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;window.VimeoPlayerResizeEmbeds_||(window.VimeoPlayerResizeEmbeds_=!0,window.addEventListener("message",function(t){if(O(t.origin)&&t.data&&"spacechange"===t.data.event){var r=t.source?M(t.source,e):null;r&&(r.parentElement.style.paddingBottom="".concat(t.data.data[0].bottom,"px"))}}))}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;window.VimeoSeoMetadataAppended||(window.VimeoSeoMetadataAppended=!0,window.addEventListener("message",function(t){if(O(t.origin)){var r=H(t.data);if(r&&"ready"===r.event){var n=t.source?M(t.source,e):null;n&&j(n.src)&&new er(n).callMethod("appendVideoMetadata",window.location.href)}}}))}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoCheckedUrlTimeParam){window.VimeoCheckedUrlTimeParam=!0;var t=function(e){"console"in window&&console.error&&console.error("There was an error getting video Id: ".concat(e))};window.addEventListener("message",function(r){if(O(r.origin)){var n=H(r.data);if(n&&"ready"===n.event){var o=r.source?M(r.source,e):null;if(o&&j(o.src)){var s=new er(o);s.getVideoId().then(function(e){var t=new RegExp("[?&]vimeo_t_".concat(e,"=([^&#]*)")).exec(window.location.href);if(t&&t[1]){var r=decodeURI(t[1]);s.setCurrentTime(r)}}).catch(t)}}}})}}(),console.log("\n%cVimeo is looking for feedback!\n%cComplete our survey about the Player SDK: https://t.maze.co/393567477","color:#00adef;font-size:1.2em;","color:#aaa;font-size:0.8em;"),window.VimeoDRMEmbedsUpdated||(window.VimeoDRMEmbedsUpdated=!0,window.addEventListener("message",function(e){if(O(e.origin)){var t=H(e.data);if(t&&"drminitfailed"===t.event){var r=e.source?M(e.source):null;if(r){var n=r.getAttribute("allow")||"";if(!n.includes("encrypted-media")){r.setAttribute("allow","".concat(n,"; encrypted-media"));var o=new URL(r.getAttribute("src"));o.searchParams.set("forcereload","drm"),r.setAttribute("src",o.toString());return}}}}}))),t.default=er},9913:function(e,t){"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,(n=r=t.ElementType||(t.ElementType={})).Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype",t.isTag=function(e){return e.type===r.Tag||e.type===r.Script||e.type===r.Style},t.Root=r.Root,t.Text=r.Text,t.Directive=r.Directive,t.Comment=r.Comment,t.Script=r.Script,t.Style=r.Style,t.Tag=r.Tag,t.CDATA=r.CDATA,t.Doctype=r.Doctype},7915:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var s=r(9913),a=r(7790);o(r(7790),t);var l={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},u=function(){function e(e,t,r){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(r=t,t=l),"object"==typeof e&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:l,this.elementCB=null!=r?r:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var r=this.options.xmlMode?s.ElementType.Tag:void 0,n=new a.Element(e,t,void 0,r);this.addNode(n),this.tagStack.push(n)},e.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===s.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var r=new a.Text(e);this.addNode(r),this.lastNode=r}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===s.ElementType.Comment){this.lastNode.data+=e;return}var t=new a.Comment(e);this.addNode(t),this.lastNode=t},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new a.Text(""),t=new a.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var r=new a.ProcessingInstruction(e,t);this.addNode(r)},e.prototype.handleCallback=function(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],r=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),r&&(e.prev=r,r.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=u,t.default=u},7790:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.CDATA=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var a=r(9913),l=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),S(this,e)},e}();t.Node=l;var u=function(e){function t(t){var r=e.call(this)||this;return r.data=t,r}return o(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(l);t.DataNode=u;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=a.ElementType.Text,t}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(u);t.Text=d;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=a.ElementType.Comment,t}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(u);t.Comment=c;var h=function(e){function t(t,r){var n=e.call(this,r)||this;return n.name=t,n.type=a.ElementType.Directive,n}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(u);t.ProcessingInstruction=h;var p=function(e){function t(t){var r=e.call(this)||this;return r.children=t,r}return o(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(l);t.NodeWithChildren=p;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=a.ElementType.CDATA,t}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(p);t.CDATA=f;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=a.ElementType.Root,t}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(p);t.Document=m;var g=function(e){function t(t,r,n,o){void 0===n&&(n=[]),void 0===o&&(o="script"===t?a.ElementType.Script:"style"===t?a.ElementType.Style:a.ElementType.Tag);var s=e.call(this,n)||this;return s.name=t,s.attribs=r,s.type=o,s}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map(function(t){var r,n;return{name:t,value:e.attribs[t],namespace:null===(r=e["x-attribsNamespace"])||void 0===r?void 0:r[t],prefix:null===(n=e["x-attribsPrefix"])||void 0===n?void 0:n[t]}})},enumerable:!1,configurable:!0}),t}(p);function y(e){return(0,a.isTag)(e)}function v(e){return e.type===a.ElementType.CDATA}function _(e){return e.type===a.ElementType.Text}function b(e){return e.type===a.ElementType.Comment}function x(e){return e.type===a.ElementType.Directive}function w(e){return e.type===a.ElementType.Root}function S(e,t){if(void 0===t&&(t=!1),_(e))r=new d(e.data);else if(b(e))r=new c(e.data);else if(y(e)){var r,n=t?C(e.children):[],o=new g(e.name,s({},e.attribs),n);n.forEach(function(e){return e.parent=o}),null!=e.namespace&&(o.namespace=e.namespace),e["x-attribsNamespace"]&&(o["x-attribsNamespace"]=s({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(o["x-attribsPrefix"]=s({},e["x-attribsPrefix"])),r=o}else if(v(e)){var n=t?C(e.children):[],a=new f(n);n.forEach(function(e){return e.parent=a}),r=a}else if(w(e)){var n=t?C(e.children):[],l=new m(n);n.forEach(function(e){return e.parent=l}),e["x-mode"]&&(l["x-mode"]=e["x-mode"]),r=l}else if(x(e)){var u=new h(e.name,e.data);null!=e["x-name"]&&(u["x-name"]=e["x-name"],u["x-publicId"]=e["x-publicId"],u["x-systemId"]=e["x-systemId"]),r=u}else throw Error("Not implemented yet: ".concat(e.type));return r.startIndex=e.startIndex,r.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(r.sourceCodeLocation=e.sourceCodeLocation),r}function C(e){for(var t=e.map(function(e){return S(e,!0)}),r=1;r<t.length;r++)t[r].prev=t[r-1],t[r-1].next=t[r];return t}t.Element=g,t.isTag=y,t.isCDATA=v,t.isText=_,t.isComment=b,t.isDirective=x,t.isDocument=w,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=S},885:function(e,t){t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"]},8276:function(e){var t,r="html",n="head",o="body",s=/<([a-zA-Z]+[0-9]?)/,a=/<head[^]*>/i,l=/<body[^]*>/i,u=function(){throw Error("This browser does not support `document.implementation.createHTMLDocument`")},d=function(){throw Error("This browser does not support `DOMParser.prototype.parseFromString`")},c="object"==typeof window&&window.DOMParser;if("function"==typeof c){var h=new c;u=d=function(e,t){return t&&(e="<"+t+">"+e+"</"+t+">"),h.parseFromString(e,"text/html")}}if("object"==typeof document&&document.implementation){var p=document.implementation.createHTMLDocument();u=function(e,t){return t?p.documentElement.querySelector(t).innerHTML=e:p.documentElement.innerHTML=e,p}}var f="object"==typeof document?document.createElement("template"):{};f.content&&(t=function(e){return f.innerHTML=e,f.content.childNodes}),e.exports=function(e){var c,h,p,f,m=e.match(s);switch(m&&m[1]&&(c=m[1].toLowerCase()),c){case r:return h=d(e),!a.test(e)&&(p=h.querySelector(n))&&p.parentNode.removeChild(p),!l.test(e)&&(p=h.querySelector(o))&&p.parentNode.removeChild(p),h.querySelectorAll(r);case n:case o:if(f=(h=u(e)).querySelectorAll(c),l.test(e)&&a.test(e))return f[0].parentNode.childNodes;return f;default:if(t)return t(e);return(p=u(e,o).querySelector(o)).childNodes}}},4152:function(e,t,r){var n=r(8276),o=r(1507).formatDOM,s=/<(![a-zA-Z\s]+)>/;e.exports=function(e){if("string"!=typeof e)throw TypeError("First argument must be a string");if(""===e)return[];var t,r=e.match(s);return r&&r[1]&&(t=r[1]),o(n(e),null,t)}},1507:function(e,t,r){for(var n,o=r(7915),s=r(885).CASE_SENSITIVE_TAG_NAMES,a=o.Comment,l=o.Element,u=o.ProcessingInstruction,d=o.Text,c={},h=0,p=s.length;h<p;h++)c[(n=s[h]).toLowerCase()]=n;function f(e){for(var t,r={},n=0,o=e.length;n<o;n++)r[(t=e[n]).name]=t.value;return r}t.formatAttributes=f,t.formatDOM=function e(t,r,n){r=r||null;for(var o=[],s=0,h=t.length;s<h;s++){var p,m,g,y=t[s];switch(y.nodeType){case 1:(g=new l(m=c[p=(p=y.nodeName).toLowerCase()]||p,f(y.attributes))).children=e("template"===m?y.content.childNodes:y.childNodes,g);break;case 3:g=new d(y.nodeValue);break;case 8:g=new a(y.nodeValue);break;default:continue}var v=o[s-1]||null;v&&(v.next=g),g.parent=r,g.prev=v,g.next=null,o.push(g)}return n&&((g=new u(n.substring(0,n.indexOf(" ")).toLowerCase(),n)).next=o[0]||null,g.parent=r,o.unshift(g),o[1]&&(o[1].prev=o[0])),o}},488:function(e,t,r){var n=r(7915),o=r(4152),s=r(484),a=r(3670);o="function"==typeof o.default?o.default:o;var l={lowerCaseAttributeNames:!1};function u(e,t){if("string"!=typeof e)throw TypeError("First argument must be a string");return""===e?[]:a(o(e,(t=t||{}).htmlparser2||l),t)}u.domToReact=a,u.htmlToDOM=o,u.attributesToProps=s,u.Comment=n.Comment,u.Element=n.Element,u.ProcessingInstruction=n.ProcessingInstruction,u.Text=n.Text,e.exports=u,u.default=u},484:function(e,t,r){var n=r(5726),o=r(4606),s=["checked","value"],a=["input","select","textarea"],l={reset:!0,submit:!0};function u(e){return n.possibleStandardNames[e]}e.exports=function(e,t){var r,d,c,h,p,f={},m=(e=e||{}).type&&l[e.type];for(r in e){if(c=e[r],n.isCustomAttribute(r)){f[r]=c;continue}if(h=u(d=r.toLowerCase())){switch(p=n.getPropertyInfo(h),-1===s.indexOf(h)||-1===a.indexOf(t)||m||(h=u("default"+d)),f[h]=c,p&&p.type){case n.BOOLEAN:f[h]=!0;break;case n.OVERLOADED_BOOLEAN:""===c&&(f[h]=!0)}continue}o.PRESERVE_CUSTOM_ATTRIBUTES&&(f[r]=c)}return o.setStyleProp(e.style,f),f}},3670:function(e,t,r){var n=r(7294),o=r(484),s=r(4606),a=s.setStyleProp,l=s.canTextBeChildOfNode;e.exports=function e(t,r){for(var u,d,c,h,p,f=(r=r||{}).library||n,m=f.cloneElement,g=f.createElement,y=f.isValidElement,v=[],_="function"==typeof r.replace,b=r.trim,x=0,w=t.length;x<w;x++){if(u=t[x],_&&y(c=r.replace(u))){w>1&&(c=m(c,{key:c.key||x})),v.push(c);continue}if("text"===u.type){if((d=!u.data.trim().length)&&u.parent&&!l(u.parent)||b&&d)continue;v.push(u.data);continue}switch(h=u.attribs,s.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===u.type&&s.isCustomComponent(u.name,u.attribs)?a(h.style,h):h&&(h=o(h,u.name)),p=null,u.type){case"script":case"style":u.children[0]&&(h.dangerouslySetInnerHTML={__html:u.children[0].data});break;case"tag":"textarea"===u.name&&u.children[0]?h.defaultValue=u.children[0].data:u.children&&u.children.length&&(p=e(u.children,r));break;default:continue}w>1&&(h.key=x),v.push(g(u.name,h,p))}return 1===v.length?v[0]:v}},4606:function(e,t,r){var n=r(7294),o=r(9618).default,s={reactCompat:!0},a=n.version.split(".")[0]>=16,l=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);e.exports={PRESERVE_CUSTOM_ATTRIBUTES:a,invertObject:function(e,t){if(!e||"object"!=typeof e)throw TypeError("First argument must be an object");var r,n,o="function"==typeof t,s={},a={};for(r in e){if(n=e[r],o&&(s=t(r,n))&&2===s.length){a[s[0]]=s[1];continue}"string"==typeof n&&(a[n]=r)}return a},isCustomComponent:function(e,t){if(-1===e.indexOf("-"))return t&&"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}},setStyleProp:function(e,t){if(null!=e)try{t.style=o(e,s)}catch(e){t.style={}}},canTextBeChildOfNode:function(e){return!l.has(e.name)},elementsWithNoTextChildren:l}},8139:function(e){var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,n=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g;function d(e){return e?e.replace(u,""):""}e.exports=function(e,u){if("string"!=typeof e)throw TypeError("First argument must be a string");if(!e)return[];u=u||{};var c=1,h=1;function p(e){var t=e.match(r);t&&(c+=t.length);var n=e.lastIndexOf("\n");h=~n?e.length-n:h+e.length}function f(){var e={line:c,column:h};return function(t){return t.position=new m(e),v(n),t}}function m(e){this.start=e,this.end={line:c,column:h},this.source=u.source}m.prototype.content=e;var g=[];function y(t){var r=Error(u.source+":"+c+":"+h+": "+t);if(r.reason=t,r.filename=u.source,r.line=c,r.column=h,r.source=e,u.silent)g.push(r);else throw r}function v(t){var r=t.exec(e);if(r){var n=r[0];return p(n),e=e.slice(n.length),r}}function _(e){var t;for(e=e||[];t=b();)!1!==t&&e.push(t);return e}function b(){var t=f();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var r=2;""!=e.charAt(r)&&("*"!=e.charAt(r)||"/"!=e.charAt(r+1));)++r;if(r+=2,""===e.charAt(r-1))return y("End of comment missing");var n=e.slice(2,r-2);return h+=2,p(n),e=e.slice(r),h+=2,t({type:"comment",comment:n})}}return v(n),function(){var e,r=[];for(_(r);e=function(){var e=f(),r=v(o);if(r){if(b(),!v(s))return y("property missing ':'");var n=v(a),u=e({type:"declaration",property:d(r[0].replace(t,"")),value:n?d(n[0].replace(t,"")):""});return v(l),u}}();)!1!==e&&(r.push(e),_(r));return r}()}},4301:function(e,t,r){r(6477),e.exports=self.fetch.bind(self)},2307:function(e,t,r){e=r.nmd(e);var n,o,s,a="__lodash_hash_undefined__",l="[object Arguments]",u="[object Array]",d="[object Boolean]",c="[object Date]",h="[object Error]",p="[object Function]",f="[object Map]",m="[object Number]",g="[object Object]",y="[object Promise]",v="[object RegExp]",_="[object Set]",b="[object String]",x="[object WeakMap]",w="[object ArrayBuffer]",S="[object DataView]",C=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,E={};E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E[l]=E[u]=E[w]=E[d]=E[S]=E[c]=E[h]=E[p]=E[f]=E[m]=E[g]=E[v]=E[_]=E[b]=E[x]=!1;var k="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,I="object"==typeof self&&self&&self.Object===Object&&self,A=k||I||Function("return this")(),P=t&&!t.nodeType&&t,U=P&&e&&!e.nodeType&&e,z=U&&U.exports===P,O=z&&k.process,j=function(){try{return O&&O.binding&&O.binding("util")}catch(e){}}(),R=j&&j.isTypedArray;function B(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function M(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var L=Array.prototype,F=Function.prototype,N=Object.prototype,D=A["__core-js_shared__"],$=F.toString,Z=N.hasOwnProperty,V=(n=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",G=N.toString,H=RegExp("^"+$.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=z?A.Buffer:void 0,Y=A.Symbol,K=A.Uint8Array,q=N.propertyIsEnumerable,X=L.splice,J=Y?Y.toStringTag:void 0,Q=Object.getOwnPropertySymbols,ee=W?W.isBuffer:void 0,et=(o=Object.keys,s=Object,function(e){return o(s(e))}),ei=eE(A,"DataView"),er=eE(A,"Map"),en=eE(A,"Promise"),eo=eE(A,"Set"),es=eE(A,"WeakMap"),ea=eE(Object,"create"),el=eA(ei),eu=eA(er),ed=eA(en),ec=eA(eo),eh=eA(es),ep=Y?Y.prototype:void 0,ef=ep?ep.valueOf:void 0;function em(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function eg(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ey(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ev(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ey;++t<r;)this.add(e[t])}function e_(e){var t=this.__data__=new eg(e);this.size=t.size}function eb(e,t){for(var r=e.length;r--;)if(eP(e[r][0],t))return r;return -1}function ex(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":J&&J in Object(e)?function(e){var t=Z.call(e,J),r=e[J];try{e[J]=void 0;var n=!0}catch(e){}var o=G.call(e);return n&&(t?e[J]=r:delete e[J]),o}(e):G.call(e)}function ew(e){return eM(e)&&ex(e)==l}function eS(e,t,r,n,o,s){var a=1&r,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var d=s.get(e);if(d&&s.get(t))return d==t;var c=-1,h=!0,p=2&r?new ev:void 0;for(s.set(e,t),s.set(t,e);++c<l;){var f=e[c],m=t[c];if(n)var g=a?n(m,f,c,t,e,s):n(f,m,c,e,t,s);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}(t,function(e,t){if(!p.has(t)&&(f===e||o(f,e,r,n,s)))return p.push(t)})){h=!1;break}}else if(!(f===m||o(f,m,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}function eC(e){var t;return t=function(e){return null!=e&&eR(e.length)&&!ej(e)?function(e,t){var r,n=ez(e),o=!n&&eU(e),s=!n&&!o&&eO(e),a=!n&&!o&&!s&&eL(e),l=n||o||s||a,u=l?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],d=u.length;for(var c in e)Z.call(e,c)&&!(l&&("length"==c||s&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||(r=null==(r=d)?9007199254740991:r)&&("number"==typeof c||T.test(c))&&c>-1&&c%1==0&&c<r))&&u.push(c);return u}(e):function(e){if(t=e&&e.constructor,e!==("function"==typeof t&&t.prototype||N))return et(e);var t,r=[];for(var n in Object(e))Z.call(e,n)&&"constructor"!=n&&r.push(n);return r}(e)}(e),ez(e)?t:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(t,ek(e))}function eT(e,t){var r,n=e.__data__;return("string"==(r=typeof t)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?n["string"==typeof t?"string":"hash"]:n.map}function eE(e,t){var r=null==e?void 0:e[t];return!(!eB(r)||V&&V in r)&&(ej(r)?H:C).test(eA(r))?r:void 0}em.prototype.clear=function(){this.__data__=ea?ea(null):{},this.size=0},em.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},em.prototype.get=function(e){var t=this.__data__;if(ea){var r=t[e];return r===a?void 0:r}return Z.call(t,e)?t[e]:void 0},em.prototype.has=function(e){var t=this.__data__;return ea?void 0!==t[e]:Z.call(t,e)},em.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ea&&void 0===t?a:t,this},eg.prototype.clear=function(){this.__data__=[],this.size=0},eg.prototype.delete=function(e){var t=this.__data__,r=eb(t,e);return!(r<0)&&(r==t.length-1?t.pop():X.call(t,r,1),--this.size,!0)},eg.prototype.get=function(e){var t=this.__data__,r=eb(t,e);return r<0?void 0:t[r][1]},eg.prototype.has=function(e){return eb(this.__data__,e)>-1},eg.prototype.set=function(e,t){var r=this.__data__,n=eb(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},ey.prototype.clear=function(){this.size=0,this.__data__={hash:new em,map:new(er||eg),string:new em}},ey.prototype.delete=function(e){var t=eT(this,e).delete(e);return this.size-=t?1:0,t},ey.prototype.get=function(e){return eT(this,e).get(e)},ey.prototype.has=function(e){return eT(this,e).has(e)},ey.prototype.set=function(e,t){var r=eT(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},ev.prototype.add=ev.prototype.push=function(e){return this.__data__.set(e,a),this},ev.prototype.has=function(e){return this.__data__.has(e)},e_.prototype.clear=function(){this.__data__=new eg,this.size=0},e_.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},e_.prototype.get=function(e){return this.__data__.get(e)},e_.prototype.has=function(e){return this.__data__.has(e)},e_.prototype.set=function(e,t){var r=this.__data__;if(r instanceof eg){var n=r.__data__;if(!er||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ey(n)}return r.set(e,t),this.size=r.size,this};var ek=Q?function(e){return null==e?[]:function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,s=[];++r<n;){var a=e[r];t(a,r,e)&&(s[o++]=a)}return s}(Q(e=Object(e)),function(t){return q.call(e,t)})}:function(){return[]},eI=ex;function eA(e){if(null!=e){try{return $.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function eP(e,t){return e===t||e!=e&&t!=t}(ei&&eI(new ei(new ArrayBuffer(1)))!=S||er&&eI(new er)!=f||en&&eI(en.resolve())!=y||eo&&eI(new eo)!=_||es&&eI(new es)!=x)&&(eI=function(e){var t=ex(e),r=t==g?e.constructor:void 0,n=r?eA(r):"";if(n)switch(n){case el:return S;case eu:return f;case ed:return y;case ec:return _;case eh:return x}return t});var eU=ew(function(){return arguments}())?ew:function(e){return eM(e)&&Z.call(e,"callee")&&!q.call(e,"callee")},ez=Array.isArray,eO=ee||function(){return!1};function ej(e){if(!eB(e))return!1;var t=ex(e);return t==p||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function eR(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function eB(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function eM(e){return null!=e&&"object"==typeof e}var eL=R?function(e){return R(e)}:function(e){return eM(e)&&eR(e.length)&&!!E[ex(e)]};e.exports=function(e,t){return function e(t,r,n,o,s){return t===r||(null!=t&&null!=r&&(eM(t)||eM(r))?function(e,t,r,n,o,s){var a=ez(e),p=ez(t),y=a?u:eI(e),x=p?u:eI(t);y=y==l?g:y,x=x==l?g:x;var C=y==g,T=x==g,E=y==x;if(E&&eO(e)){if(!eO(t))return!1;a=!0,C=!1}if(E&&!C)return s||(s=new e_),a||eL(e)?eS(e,t,r,n,o,s):function(e,t,r,n,o,s,a){switch(r){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case w:if(e.byteLength!=t.byteLength||!s(new K(e),new K(t)))break;return!0;case d:case c:case m:return eP(+e,+t);case h:return e.name==t.name&&e.message==t.message;case v:case b:return e==t+"";case f:var l=B;case _:var u=1&n;if(l||(l=M),e.size!=t.size&&!u)break;var p=a.get(e);if(p)return p==t;n|=2,a.set(e,t);var g=eS(l(e),l(t),n,o,s,a);return a.delete(e),g;case"[object Symbol]":if(ef)return ef.call(e)==ef.call(t)}return!1}(e,t,y,r,n,o,s);if(!(1&r)){var k=C&&Z.call(e,"__wrapped__"),I=T&&Z.call(t,"__wrapped__");if(k||I){var A=k?e.value():e,P=I?t.value():t;return s||(s=new e_),o(A,P,r,n,s)}}return!!E&&(s||(s=new e_),function(e,t,r,n,o,s){var a=1&r,l=eC(e),u=l.length;if(u!=eC(t).length&&!a)return!1;for(var d=u;d--;){var c=l[d];if(!(a?c in t:Z.call(t,c)))return!1}var h=s.get(e);if(h&&s.get(t))return h==t;var p=!0;s.set(e,t),s.set(t,e);for(var f=a;++d<u;){var m=e[c=l[d]],g=t[c];if(n)var y=a?n(g,m,c,t,e,s):n(m,g,c,e,t,s);if(!(void 0===y?m===g||o(m,g,r,n,s):y)){p=!1;break}f||(f="constructor"==c)}if(p&&!f){var v=e.constructor,_=t.constructor;v!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof _&&_ instanceof _)&&(p=!1)}return s.delete(e),s.delete(t),p}(e,t,r,n,o,s))}(t,r,n,o,e,s):t!=t&&r!=r)}(e,t)}},2041:function(e,t){var r,n,o=(r=new Date,n=4,{setLogLevel:function(e){e==this.debug?n=1:e==this.info?n=2:e==this.warn?n=3:(this.error,n=4)},debug:function(e,t){void 0===console.debug&&(console.debug=console.log),1>=n&&console.debug("["+o.getDurationString(new Date-r,1e3)+"]","["+e+"]",t)},log:function(e,t){this.debug(e.msg)},info:function(e,t){2>=n&&console.info("["+o.getDurationString(new Date-r,1e3)+"]","["+e+"]",t)},warn:function(e,t){3>=n&&console.warn("["+o.getDurationString(new Date-r,1e3)+"]","["+e+"]",t)},error:function(e,t){4>=n&&console.error("["+o.getDurationString(new Date-r,1e3)+"]","["+e+"]",t)}});o.getDurationString=function(e,t){function r(e,t){for(var r=(""+e).split(".");r[0].length<t;)r[0]="0"+r[0];return r.join(".")}e<0?(n=!0,e=-e):n=!1;var n,o=e/(t||1),s=Math.floor(o/3600),a=Math.floor((o-=3600*s)/60),l=1e3*(o-=60*a);return l-=1e3*(o=Math.floor(o)),l=Math.floor(l),(n?"-":"")+s+":"+r(a,2)+":"+r(o,2)+"."+r(l,3)},o.printRanges=function(e){var t=e.length;if(!(t>0))return"(empty)";for(var r="",n=0;n<t;n++)n>0&&(r+=","),r+="["+o.getDurationString(e.start(n))+","+o.getDurationString(e.end(n))+"]";return r},t.Log=o;var s=function(e){if(e instanceof ArrayBuffer)this.buffer=e,this.dataview=new DataView(e);else throw"Needs an array buffer";this.position=0};s.prototype.getPosition=function(){return this.position},s.prototype.getEndPosition=function(){return this.buffer.byteLength},s.prototype.getLength=function(){return this.buffer.byteLength},s.prototype.seek=function(e){var t=Math.max(0,Math.min(this.buffer.byteLength,e));return this.position=isNaN(t)||!isFinite(t)?0:t,!0},s.prototype.isEos=function(){return this.getPosition()>=this.getEndPosition()},s.prototype.readAnyInt=function(e,t){var r=0;if(this.position+e<=this.buffer.byteLength){switch(e){case 1:r=t?this.dataview.getInt8(this.position):this.dataview.getUint8(this.position);break;case 2:r=t?this.dataview.getInt16(this.position):this.dataview.getUint16(this.position);break;case 3:if(t)throw"No method for reading signed 24 bits values";r=this.dataview.getUint8(this.position)<<16|this.dataview.getUint8(this.position+1)<<8|this.dataview.getUint8(this.position+2);break;case 4:r=t?this.dataview.getInt32(this.position):this.dataview.getUint32(this.position);break;case 8:if(t)throw"No method for reading signed 64 bits values";r=this.dataview.getUint32(this.position)<<32|this.dataview.getUint32(this.position+4);break;default:throw"readInt method not implemented for size: "+e}return this.position+=e,r}throw"Not enough bytes in buffer"},s.prototype.readUint8=function(){return this.readAnyInt(1,!1)},s.prototype.readUint16=function(){return this.readAnyInt(2,!1)},s.prototype.readUint24=function(){return this.readAnyInt(3,!1)},s.prototype.readUint32=function(){return this.readAnyInt(4,!1)},s.prototype.readUint64=function(){return this.readAnyInt(8,!1)},s.prototype.readString=function(e){if(this.position+e<=this.buffer.byteLength){for(var t="",r=0;r<e;r++)t+=String.fromCharCode(this.readUint8());return t}throw"Not enough bytes in buffer"},s.prototype.readCString=function(){for(var e=[];;){var t=this.readUint8();if(0!==t)e.push(t);else break}return String.fromCharCode.apply(null,e)},s.prototype.readInt8=function(){return this.readAnyInt(1,!0)},s.prototype.readInt16=function(){return this.readAnyInt(2,!0)},s.prototype.readInt32=function(){return this.readAnyInt(4,!0)},s.prototype.readInt64=function(){return this.readAnyInt(8,!1)},s.prototype.readUint8Array=function(e){for(var t=new Uint8Array(e),r=0;r<e;r++)t[r]=this.readUint8();return t},s.prototype.readInt16Array=function(e){for(var t=new Int16Array(e),r=0;r<e;r++)t[r]=this.readInt16();return t},s.prototype.readUint16Array=function(e){for(var t=new Int16Array(e),r=0;r<e;r++)t[r]=this.readUint16();return t},s.prototype.readUint32Array=function(e){for(var t=new Uint32Array(e),r=0;r<e;r++)t[r]=this.readUint32();return t},s.prototype.readInt32Array=function(e){for(var t=new Int32Array(e),r=0;r<e;r++)t[r]=this.readInt32();return t},t.MP4BoxStream=s;var a=function(e,t,r){this._byteOffset=t||0,e instanceof ArrayBuffer?this.buffer=e:"object"==typeof e?(this.dataView=e,t&&(this._byteOffset+=t)):this.buffer=new ArrayBuffer(e||0),this.position=0,this.endianness=null==r?a.LITTLE_ENDIAN:r};a.prototype={},a.prototype.getPosition=function(){return this.position},a.prototype._realloc=function(e){if(this._dynamicSize){var t=this._byteOffset+this.position+e,r=this._buffer.byteLength;if(t<=r){t>this._byteLength&&(this._byteLength=t);return}for(r<1&&(r=1);t>r;)r*=2;var n=new ArrayBuffer(r),o=new Uint8Array(this._buffer);new Uint8Array(n,0,o.length).set(o),this.buffer=n,this._byteLength=t}},a.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var e=new ArrayBuffer(this._byteLength),t=new Uint8Array(e),r=new Uint8Array(this._buffer,0,t.length);t.set(r),this.buffer=e}},a.BIG_ENDIAN=!1,a.LITTLE_ENDIAN=!0,a.prototype._byteLength=0,Object.defineProperty(a.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(a.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(e){this._buffer=e,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(a.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(e){this._byteOffset=e,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(a.prototype,"dataView",{get:function(){return this._dataView},set:function(e){this._byteOffset=e.byteOffset,this._buffer=e.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+e.byteLength}}),a.prototype.seek=function(e){var t=Math.max(0,Math.min(this.byteLength,e));this.position=isNaN(t)||!isFinite(t)?0:t},a.prototype.isEof=function(){return this.position>=this._byteLength},a.prototype.mapUint8Array=function(e){this._realloc(1*e);var t=new Uint8Array(this._buffer,this.byteOffset+this.position,e);return this.position+=1*e,t},a.prototype.readInt32Array=function(e,t){var r=new Int32Array(e=null==e?this.byteLength-this.position/4:e);return a.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),a.arrayToNative(r,null==t?this.endianness:t),this.position+=r.byteLength,r},a.prototype.readInt16Array=function(e,t){var r=new Int16Array(e=null==e?this.byteLength-this.position/2:e);return a.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),a.arrayToNative(r,null==t?this.endianness:t),this.position+=r.byteLength,r},a.prototype.readInt8Array=function(e){var t=new Int8Array(e=null==e?this.byteLength-this.position:e);return a.memcpy(t.buffer,0,this.buffer,this.byteOffset+this.position,e*t.BYTES_PER_ELEMENT),this.position+=t.byteLength,t},a.prototype.readUint32Array=function(e,t){var r=new Uint32Array(e=null==e?this.byteLength-this.position/4:e);return a.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),a.arrayToNative(r,null==t?this.endianness:t),this.position+=r.byteLength,r},a.prototype.readUint16Array=function(e,t){var r=new Uint16Array(e=null==e?this.byteLength-this.position/2:e);return a.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),a.arrayToNative(r,null==t?this.endianness:t),this.position+=r.byteLength,r},a.prototype.readUint8Array=function(e){var t=new Uint8Array(e=null==e?this.byteLength-this.position:e);return a.memcpy(t.buffer,0,this.buffer,this.byteOffset+this.position,e*t.BYTES_PER_ELEMENT),this.position+=t.byteLength,t},a.prototype.readFloat64Array=function(e,t){var r=new Float64Array(e=null==e?this.byteLength-this.position/8:e);return a.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),a.arrayToNative(r,null==t?this.endianness:t),this.position+=r.byteLength,r},a.prototype.readFloat32Array=function(e,t){var r=new Float32Array(e=null==e?this.byteLength-this.position/4:e);return a.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,e*r.BYTES_PER_ELEMENT),a.arrayToNative(r,null==t?this.endianness:t),this.position+=r.byteLength,r},a.prototype.readInt32=function(e){var t=this._dataView.getInt32(this.position,null==e?this.endianness:e);return this.position+=4,t},a.prototype.readInt16=function(e){var t=this._dataView.getInt16(this.position,null==e?this.endianness:e);return this.position+=2,t},a.prototype.readInt8=function(){var e=this._dataView.getInt8(this.position);return this.position+=1,e},a.prototype.readUint32=function(e){var t=this._dataView.getUint32(this.position,null==e?this.endianness:e);return this.position+=4,t},a.prototype.readUint16=function(e){var t=this._dataView.getUint16(this.position,null==e?this.endianness:e);return this.position+=2,t},a.prototype.readUint8=function(){var e=this._dataView.getUint8(this.position);return this.position+=1,e},a.prototype.readFloat32=function(e){var t=this._dataView.getFloat32(this.position,null==e?this.endianness:e);return this.position+=4,t},a.prototype.readFloat64=function(e){var t=this._dataView.getFloat64(this.position,null==e?this.endianness:e);return this.position+=8,t},a.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,a.memcpy=function(e,t,r,n,o){var s=new Uint8Array(e,t,o),a=new Uint8Array(r,n,o);s.set(a)},a.arrayToNative=function(e,t){return t==this.endianness?e:this.flipArrayEndianness(e)},a.nativeToEndian=function(e,t){return this.endianness==t?e:this.flipArrayEndianness(e)},a.flipArrayEndianness=function(e){for(var t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),r=0;r<e.byteLength;r+=e.BYTES_PER_ELEMENT)for(var n=r+e.BYTES_PER_ELEMENT-1,o=r;n>o;n--,o++){var s=t[o];t[o]=t[n],t[n]=s}return e},a.prototype.failurePosition=0,String.fromCharCodeUint8=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=e[r];return String.fromCharCode.apply(null,t)},a.prototype.readString=function(e,t){return null==t||"ASCII"==t?String.fromCharCodeUint8.apply(null,[this.mapUint8Array(null==e?this.byteLength-this.position:e)]):new TextDecoder(t).decode(this.mapUint8Array(e))},a.prototype.readCString=function(e){var t=this.byteLength-this.position,r=new Uint8Array(this._buffer,this._byteOffset+this.position),n=t;null!=e&&(n=Math.min(e,t));for(var o=0;o<n&&0!==r[o];o++);var s=String.fromCharCodeUint8.apply(null,[this.mapUint8Array(o)]);return null!=e?this.position+=n-o:o!=t&&(this.position+=1),s},a.prototype.readInt64=function(){return 4294967296*this.readInt32()+this.readUint32()},a.prototype.readUint64=function(){return 4294967296*this.readUint32()+this.readUint32()},a.prototype.readInt64=function(){return 4294967296*this.readUint32()+this.readUint32()},a.prototype.readUint24=function(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()},t.DataStream=a,a.prototype.save=function(e){var t=new Blob([this.buffer]);if(window.URL&&URL.createObjectURL){var r=window.URL.createObjectURL(t),n=document.createElement("a");document.body.appendChild(n),n.setAttribute("href",r),n.setAttribute("download",e),n.setAttribute("target","_self"),n.click(),window.URL.revokeObjectURL(r)}else throw"DataStream.save: Can't create object URL."},a.prototype._dynamicSize=!0,Object.defineProperty(a.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(e){e||this._trimAlloc(),this._dynamicSize=e}}),a.prototype.shift=function(e){var t=new ArrayBuffer(this._byteLength-e),r=new Uint8Array(t),n=new Uint8Array(this._buffer,e,r.length);r.set(n),this.buffer=t,this.position-=e},a.prototype.writeInt32Array=function(e,t){if(this._realloc(4*e.length),e instanceof Int32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt32Array(e.length,t);else for(var r=0;r<e.length;r++)this.writeInt32(e[r],t)},a.prototype.writeInt16Array=function(e,t){if(this._realloc(2*e.length),e instanceof Int16Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt16Array(e.length,t);else for(var r=0;r<e.length;r++)this.writeInt16(e[r],t)},a.prototype.writeInt8Array=function(e){if(this._realloc(1*e.length),e instanceof Int8Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt8Array(e.length);else for(var t=0;t<e.length;t++)this.writeInt8(e[t])},a.prototype.writeUint32Array=function(e,t){if(this._realloc(4*e.length),e instanceof Uint32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint32Array(e.length,t);else for(var r=0;r<e.length;r++)this.writeUint32(e[r],t)},a.prototype.writeUint16Array=function(e,t){if(this._realloc(2*e.length),e instanceof Uint16Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint16Array(e.length,t);else for(var r=0;r<e.length;r++)this.writeUint16(e[r],t)},a.prototype.writeUint8Array=function(e){if(this._realloc(1*e.length),e instanceof Uint8Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint8Array(e.length);else for(var t=0;t<e.length;t++)this.writeUint8(e[t])},a.prototype.writeFloat64Array=function(e,t){if(this._realloc(8*e.length),e instanceof Float64Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapFloat64Array(e.length,t);else for(var r=0;r<e.length;r++)this.writeFloat64(e[r],t)},a.prototype.writeFloat32Array=function(e,t){if(this._realloc(4*e.length),e instanceof Float32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapFloat32Array(e.length,t);else for(var r=0;r<e.length;r++)this.writeFloat32(e[r],t)},a.prototype.writeInt32=function(e,t){this._realloc(4),this._dataView.setInt32(this.position,e,null==t?this.endianness:t),this.position+=4},a.prototype.writeInt16=function(e,t){this._realloc(2),this._dataView.setInt16(this.position,e,null==t?this.endianness:t),this.position+=2},a.prototype.writeInt8=function(e){this._realloc(1),this._dataView.setInt8(this.position,e),this.position+=1},a.prototype.writeUint32=function(e,t){this._realloc(4),this._dataView.setUint32(this.position,e,null==t?this.endianness:t),this.position+=4},a.prototype.writeUint16=function(e,t){this._realloc(2),this._dataView.setUint16(this.position,e,null==t?this.endianness:t),this.position+=2},a.prototype.writeUint8=function(e){this._realloc(1),this._dataView.setUint8(this.position,e),this.position+=1},a.prototype.writeFloat32=function(e,t){this._realloc(4),this._dataView.setFloat32(this.position,e,null==t?this.endianness:t),this.position+=4},a.prototype.writeFloat64=function(e,t){this._realloc(8),this._dataView.setFloat64(this.position,e,null==t?this.endianness:t),this.position+=8},a.prototype.writeUCS2String=function(e,t,r){null==r&&(r=e.length);for(var n=0;n<e.length&&n<r;n++)this.writeUint16(e.charCodeAt(n),t);for(;n<r;n++)this.writeUint16(0)},a.prototype.writeString=function(e,t,r){var n=0;if(null==t||"ASCII"==t){if(null!=r){var o=Math.min(e.length,r);for(n=0;n<o;n++)this.writeUint8(e.charCodeAt(n));for(;n<r;n++)this.writeUint8(0)}else for(n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n))}else this.writeUint8Array(new TextEncoder(t).encode(e.substring(0,r)))},a.prototype.writeCString=function(e,t){var r=0;if(null!=t){var n=Math.min(e.length,t);for(r=0;r<n;r++)this.writeUint8(e.charCodeAt(r));for(;r<t;r++)this.writeUint8(0)}else{for(r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));this.writeUint8(0)}},a.prototype.writeStruct=function(e,t){for(var r=0;r<e.length;r+=2){var n=e[r+1];this.writeType(n,t[e[r]],t)}},a.prototype.writeType=function(e,t,r){if("function"==typeof e)return e(this,t);if("object"==typeof e&&!(e instanceof Array))return e.set(this,t,r);var n,o=null,s="ASCII",l=this.position;switch("string"==typeof e&&/:/.test(e)&&(e=(n=e.split(":"))[0],o=parseInt(n[1])),"string"==typeof e&&/,/.test(e)&&(e=(n=e.split(","))[0],s=parseInt(n[1])),e){case"uint8":this.writeUint8(t);break;case"int8":this.writeInt8(t);break;case"uint16":this.writeUint16(t,this.endianness);break;case"int16":this.writeInt16(t,this.endianness);break;case"uint32":this.writeUint32(t,this.endianness);break;case"int32":this.writeInt32(t,this.endianness);break;case"float32":this.writeFloat32(t,this.endianness);break;case"float64":this.writeFloat64(t,this.endianness);break;case"uint16be":this.writeUint16(t,a.BIG_ENDIAN);break;case"int16be":this.writeInt16(t,a.BIG_ENDIAN);break;case"uint32be":this.writeUint32(t,a.BIG_ENDIAN);break;case"int32be":this.writeInt32(t,a.BIG_ENDIAN);break;case"float32be":this.writeFloat32(t,a.BIG_ENDIAN);break;case"float64be":this.writeFloat64(t,a.BIG_ENDIAN);break;case"uint16le":this.writeUint16(t,a.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(t,a.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(t,a.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(t,a.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(t,a.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(t,a.LITTLE_ENDIAN);break;case"cstring":this.writeCString(t,o);break;case"string":this.writeString(t,s,o);break;case"u16string":this.writeUCS2String(t,this.endianness,o);break;case"u16stringle":this.writeUCS2String(t,a.LITTLE_ENDIAN,o);break;case"u16stringbe":this.writeUCS2String(t,a.BIG_ENDIAN,o);break;default:if(3==e.length){for(var u=e[1],d=0;d<t.length;d++)this.writeType(u,t[d]);break}this.writeStruct(e,t)}null!=o&&(this.position=l,this._realloc(o),this.position=l+o)},a.prototype.writeUint64=function(e){this.writeUint32(Math.floor(e/4294967296)),this.writeUint32(4294967295&e)},a.prototype.writeUint24=function(e){this.writeUint8((16711680&e)>>16),this.writeUint8((65280&e)>>8),this.writeUint8(255&e)},a.prototype.adjustUint32=function(e,t){var r=this.position;this.seek(e),this.writeUint32(t),this.seek(r)},a.prototype.mapInt32Array=function(e,t){this._realloc(4*e);var r=new Int32Array(this._buffer,this.byteOffset+this.position,e);return a.arrayToNative(r,null==t?this.endianness:t),this.position+=4*e,r},a.prototype.mapInt16Array=function(e,t){this._realloc(2*e);var r=new Int16Array(this._buffer,this.byteOffset+this.position,e);return a.arrayToNative(r,null==t?this.endianness:t),this.position+=2*e,r},a.prototype.mapInt8Array=function(e){this._realloc(1*e);var t=new Int8Array(this._buffer,this.byteOffset+this.position,e);return this.position+=1*e,t},a.prototype.mapUint32Array=function(e,t){this._realloc(4*e);var r=new Uint32Array(this._buffer,this.byteOffset+this.position,e);return a.arrayToNative(r,null==t?this.endianness:t),this.position+=4*e,r},a.prototype.mapUint16Array=function(e,t){this._realloc(2*e);var r=new Uint16Array(this._buffer,this.byteOffset+this.position,e);return a.arrayToNative(r,null==t?this.endianness:t),this.position+=2*e,r},a.prototype.mapFloat64Array=function(e,t){this._realloc(8*e);var r=new Float64Array(this._buffer,this.byteOffset+this.position,e);return a.arrayToNative(r,null==t?this.endianness:t),this.position+=8*e,r},a.prototype.mapFloat32Array=function(e,t){this._realloc(4*e);var r=new Float32Array(this._buffer,this.byteOffset+this.position,e);return a.arrayToNative(r,null==t?this.endianness:t),this.position+=4*e,r};var l=function(e){this.buffers=[],this.bufferIndex=-1,e&&(this.insertBuffer(e),this.bufferIndex=0)};l.prototype=new a(new ArrayBuffer,0,a.BIG_ENDIAN),l.prototype.initialized=function(){var e;return this.bufferIndex>-1||(this.buffers.length>0?0===(e=this.buffers[0]).fileStart?(this.buffer=e,this.bufferIndex=0,o.debug("MultiBufferStream","Stream ready for parsing"),!0):(o.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1):(o.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1))},ArrayBuffer.concat=function(e,t){o.debug("ArrayBuffer","Trying to create a new buffer of size: "+(e.byteLength+t.byteLength));var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r.buffer},l.prototype.reduceBuffer=function(e,t,r){var n;return(n=new Uint8Array(r)).set(new Uint8Array(e,t,r)),n.buffer.fileStart=e.fileStart+t,n.buffer.usedBytes=0,n.buffer},l.prototype.insertBuffer=function(e){for(var t=!0,r=0;r<this.buffers.length;r++){var n=this.buffers[r];if(e.fileStart<=n.fileStart){if(e.fileStart===n.fileStart){if(e.byteLength>n.byteLength){this.buffers.splice(r,1),r--;continue}o.warn("MultiBufferStream","Buffer (fileStart: "+e.fileStart+" - Length: "+e.byteLength+") already appended, ignoring")}else e.fileStart+e.byteLength<=n.fileStart||(e=this.reduceBuffer(e,0,n.fileStart-e.fileStart)),o.debug("MultiBufferStream","Appending new buffer (fileStart: "+e.fileStart+" - Length: "+e.byteLength+")"),this.buffers.splice(r,0,e),0===r&&(this.buffer=e);t=!1;break}if(e.fileStart<n.fileStart+n.byteLength){var s=n.fileStart+n.byteLength-e.fileStart,a=e.byteLength-s;if(a>0)e=this.reduceBuffer(e,s,a);else{t=!1;break}}}t&&(o.debug("MultiBufferStream","Appending new buffer (fileStart: "+e.fileStart+" - Length: "+e.byteLength+")"),this.buffers.push(e),0===r&&(this.buffer=e))},l.prototype.logBufferLevel=function(e){var t,r,n,s,a,l=[],u="";for(t=0,n=0,s=0;t<this.buffers.length;t++)r=this.buffers[t],0===t?(l.push(a={}),a.start=r.fileStart,a.end=r.fileStart+r.byteLength,u+="["+a.start+"-"):a.end===r.fileStart?a.end=r.fileStart+r.byteLength:((a={}).start=r.fileStart,u+=l[l.length-1].end-1+"], ["+a.start+"-",a.end=r.fileStart+r.byteLength,l.push(a)),n+=r.usedBytes,s+=r.byteLength;l.length>0&&(u+=a.end-1+"]"),(e?o.info:o.debug)("MultiBufferStream",0===this.buffers.length?"No more buffer in memory":""+this.buffers.length+" stored buffer(s) ("+n+"/"+s+" bytes), continuous ranges: "+u)},l.prototype.cleanBuffers=function(){var e,t;for(e=0;e<this.buffers.length;e++)(t=this.buffers[e]).usedBytes===t.byteLength&&(o.debug("MultiBufferStream","Removing buffer #"+e),this.buffers.splice(e,1),e--)},l.prototype.mergeNextBuffer=function(){if(!(this.bufferIndex+1<this.buffers.length)||(e=this.buffers[this.bufferIndex+1]).fileStart!==this.buffer.fileStart+this.buffer.byteLength)return!1;var e,t=this.buffer.byteLength,r=this.buffer.usedBytes,n=this.buffer.fileStart;return this.buffers[this.bufferIndex]=ArrayBuffer.concat(this.buffer,e),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=r,this.buffer.fileStart=n,o.debug("ISOFile","Concatenating buffer for box parsing (length: "+t+"->"+this.buffer.byteLength+")"),!0},l.prototype.findPosition=function(e,t,r){var n,s=null,a=-1;for(n=!0===e?0:this.bufferIndex;n<this.buffers.length&&(s=this.buffers[n]).fileStart<=t;)a=n,r&&(s.fileStart+s.byteLength<=t?s.usedBytes=s.byteLength:s.usedBytes=t-s.fileStart,this.logBufferLevel()),n++;return -1===a?-1:(s=this.buffers[a]).fileStart+s.byteLength>=t?(o.debug("MultiBufferStream","Found position in existing buffer #"+a),a):-1},l.prototype.findEndContiguousBuf=function(e){var t,r,n,o=void 0!==e?e:this.bufferIndex;if(r=this.buffers[o],this.buffers.length>o+1)for(t=o+1;t<this.buffers.length;t++)if((n=this.buffers[t]).fileStart===r.fileStart+r.byteLength)r=n;else break;return r.fileStart+r.byteLength},l.prototype.getEndFilePositionAfter=function(e){var t=this.findPosition(!0,e,!1);return -1!==t?this.findEndContiguousBuf(t):e},l.prototype.addUsedBytes=function(e){this.buffer.usedBytes+=e,this.logBufferLevel()},l.prototype.setAllUsedBytes=function(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()},l.prototype.seek=function(e,t,r){var n;return -1!==(n=this.findPosition(t,e,r))?(this.buffer=this.buffers[n],this.bufferIndex=n,this.position=e-this.buffer.fileStart,o.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(o.debug("MultiBufferStream","Position "+e+" not found in buffered data"),!1)},l.prototype.getPosition=function(){if(-1===this.bufferIndex||null===this.buffers[this.bufferIndex])throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.position},l.prototype.getLength=function(){return this.byteLength},l.prototype.getEndPosition=function(){if(-1===this.bufferIndex||null===this.buffers[this.bufferIndex])throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.byteLength},t.MultiBufferStream=l;var u=function(){var e=[];e[3]="ES_Descriptor",e[4]="DecoderConfigDescriptor",e[5]="DecoderSpecificInfo",e[6]="SLConfigDescriptor",this.getDescriptorName=function(t){return e[t]};var t=this,r={};return this.parseOneDescriptor=function(t){var n,s,a,l=0,u=0;for(n=t.readUint8(),l++,a=t.readUint8(),l++;128&a;)u=(u<<7)+(127&a),a=t.readUint8(),l++;return u=(u<<7)+(127&a),o.debug("MPEG4DescriptorParser","Found "+(e[n]||"Descriptor "+n)+", size "+u+" at position "+t.getPosition()),(s=e[n]?new r[e[n]](u):new r.Descriptor(u)).parse(t),s},r.Descriptor=function(e,t){this.tag=e,this.size=t,this.descs=[]},r.Descriptor.prototype.parse=function(e){this.data=e.readUint8Array(this.size)},r.Descriptor.prototype.findDescriptor=function(e){for(var t=0;t<this.descs.length;t++)if(this.descs[t].tag==e)return this.descs[t];return null},r.Descriptor.prototype.parseRemainingDescriptors=function(e){for(var r=e.position;e.position<r+this.size;){var n=t.parseOneDescriptor(e);this.descs.push(n)}},r.ES_Descriptor=function(e){r.Descriptor.call(this,3,e)},r.ES_Descriptor.prototype=new r.Descriptor,r.ES_Descriptor.prototype.parse=function(e){if(this.ES_ID=e.readUint16(),this.flags=e.readUint8(),this.size-=3,128&this.flags?(this.dependsOn_ES_ID=e.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,64&this.flags){var t=e.readUint8();this.URL=e.readString(t),this.size-=t+1}else this.URL="";32&this.flags?(this.OCR_ES_ID=e.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(e)},r.ES_Descriptor.prototype.getOTI=function(e){var t=this.findDescriptor(4);return t?t.oti:0},r.ES_Descriptor.prototype.getAudioConfig=function(e){var t=this.findDescriptor(4);if(!t)return null;var r=t.findDescriptor(5);if(!r||!r.data)return null;var n=(248&r.data[0])>>3;return 31===n&&r.data.length>=2&&(n=32+((7&r.data[0])<<3)+((224&r.data[1])>>5)),n},r.DecoderConfigDescriptor=function(e){r.Descriptor.call(this,4,e)},r.DecoderConfigDescriptor.prototype=new r.Descriptor,r.DecoderConfigDescriptor.prototype.parse=function(e){this.oti=e.readUint8(),this.streamType=e.readUint8(),this.upStream=(this.streamType>>1&1)!=0,this.streamType=this.streamType>>>2,this.bufferSize=e.readUint24(),this.maxBitrate=e.readUint32(),this.avgBitrate=e.readUint32(),this.size-=13,this.parseRemainingDescriptors(e)},r.DecoderSpecificInfo=function(e){r.Descriptor.call(this,5,e)},r.DecoderSpecificInfo.prototype=new r.Descriptor,r.SLConfigDescriptor=function(e){r.Descriptor.call(this,6,e)},r.SLConfigDescriptor.prototype=new r.Descriptor,this};t.MPEG4DescriptorParser=u;var d={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:[{type:"mdat",name:"MediaDataBox"},{type:"idat",name:"ItemDataBox"},{type:"free",name:"FreeSpaceBox"},{type:"skip",name:"FreeSpaceBox"},{type:"meco",name:"AdditionalMetadataContainerBox"},{type:"strk",name:"SubTrackBox"}],FULL_BOXES:[{type:"hmhd",name:"HintMediaHeaderBox"},{type:"nmhd",name:"NullMediaHeaderBox"},{type:"iods",name:"ObjectDescriptorBox"},{type:"xml ",name:"XMLBox"},{type:"bxml",name:"BinaryXMLBox"},{type:"ipro",name:"ItemProtectionBox"},{type:"mere",name:"MetaboxRelationBox"}],CONTAINER_BOXES:[[{type:"moov",name:"CompressedMovieBox"},["trak","pssh"]],[{type:"trak",name:"TrackBox"}],[{type:"edts",name:"EditBox"}],[{type:"mdia",name:"MediaBox"}],[{type:"minf",name:"MediaInformationBox"}],[{type:"dinf",name:"DataInformationBox"}],[{type:"stbl",name:"SampleTableBox"},["sgpd","sbgp"]],[{type:"mvex",name:"MovieExtendsBox"},["trex"]],[{type:"moof",name:"CompressedMovieFragmentBox"},["traf"]],[{type:"traf",name:"TrackFragmentBox"},["trun","sgpd","sbgp"]],[{type:"vttc",name:"VTTCueBox"}],[{type:"tref",name:"TrackReferenceBox"}],[{type:"iref",name:"ItemReferenceBox"}],[{type:"mfra",name:"MovieFragmentRandomAccessBox"},["tfra"]],[{type:"meco",name:"AdditionalMetadataContainerBox"}],[{type:"hnti",name:"trackhintinformation"}],[{type:"hinf",name:"hintstatisticsbox"}],[{type:"strk",name:"SubTrackBox"}],[{type:"strd",name:"SubTrackDefinitionBox"}],[{type:"sinf",name:"ProtectionSchemeInfoBox"}],[{type:"rinf",name:"RestrictedSchemeInfoBox"}],[{type:"schi",name:"SchemeInformationBox"}],[{type:"trgr",name:"TrackGroupBox"}],[{type:"udta",name:"UserDataBox"},["kind"]],[{type:"iprp",name:"ItemPropertiesBox"},["ipma"]],[{type:"ipco",name:"ItemPropertyContainerBox"}],[{type:"grpl",name:"GroupsListBox"}],[{type:"j2kH",name:"J2KHeaderInfoBox"}],[{type:"etyp",name:"ExtendedTypeBox"},["tyco"]]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){d.FullBox.prototype=new d.Box,d.ContainerBox.prototype=new d.Box,d.SampleEntry.prototype=new d.Box,d.TrackGroupTypeBox.prototype=new d.FullBox,d.BASIC_BOXES.forEach(function(e){d.createBoxCtor(e.type,e.name)}),d.FULL_BOXES.forEach(function(e){d.createFullBoxCtor(e.type,e.name)}),d.CONTAINER_BOXES.forEach(function(e){d.createContainerBoxCtor(e[0].type,e[0].name,null,e[1])})},Box:function(e,t,r,n){this.type=e,this.box_name=r,this.size=t,this.uuid=n},FullBox:function(e,t,r,n){d.Box.call(this,e,t,r,n),this.flags=0,this.version=0},ContainerBox:function(e,t,r,n){d.Box.call(this,e,t,r,n),this.boxes=[]},SampleEntry:function(e,t,r,n){d.ContainerBox.call(this,e,t),this.hdr_size=r,this.start=n},SampleGroupEntry:function(e){this.grouping_type=e},TrackGroupTypeBox:function(e,t){d.FullBox.call(this,e,t)},createBoxCtor:function(e,t,r){d.boxCodes.push(e),d[e+"Box"]=function(r){d.Box.call(this,e,r,t)},d[e+"Box"].prototype=new d.Box,r&&(d[e+"Box"].prototype.parse=r)},createFullBoxCtor:function(e,t,r){d[e+"Box"]=function(r){d.FullBox.call(this,e,r,t)},d[e+"Box"].prototype=new d.FullBox,d[e+"Box"].prototype.parse=function(e){this.parseFullHeader(e),r&&r.call(this,e)}},addSubBoxArrays:function(e){if(e){this.subBoxNames=e;for(var t=e.length,r=0;r<t;r++)this[e[r]+"s"]=[]}},createContainerBoxCtor:function(e,t,r,n){d[e+"Box"]=function(r){d.ContainerBox.call(this,e,r,t),d.addSubBoxArrays.call(this,n)},d[e+"Box"].prototype=new d.ContainerBox,r&&(d[e+"Box"].prototype.parse=r)},createMediaSampleEntryCtor:function(e,t,r){d.sampleEntryCodes[e]=[],d[e+"SampleEntry"]=function(e,t){d.SampleEntry.call(this,e,t),d.addSubBoxArrays.call(this,r)},d[e+"SampleEntry"].prototype=new d.SampleEntry,t&&(d[e+"SampleEntry"].prototype.parse=t)},createSampleEntryCtor:function(e,t,r,n){d.sampleEntryCodes[e].push(t),d[t+"SampleEntry"]=function(r){d[e+"SampleEntry"].call(this,t,r),d.addSubBoxArrays.call(this,n)},d[t+"SampleEntry"].prototype=new d[e+"SampleEntry"],r&&(d[t+"SampleEntry"].prototype.parse=r)},createEncryptedSampleEntryCtor:function(e,t,r){d.createSampleEntryCtor.call(this,e,t,r,["sinf"])},createSampleGroupCtor:function(e,t){d[e+"SampleGroupEntry"]=function(t){d.SampleGroupEntry.call(this,e,t)},d[e+"SampleGroupEntry"].prototype=new d.SampleGroupEntry,t&&(d[e+"SampleGroupEntry"].prototype.parse=t)},createTrackGroupCtor:function(e,t){d[e+"TrackGroupTypeBox"]=function(t){d.TrackGroupTypeBox.call(this,e,t)},d[e+"TrackGroupTypeBox"].prototype=new d.TrackGroupTypeBox,t&&(d[e+"TrackGroupTypeBox"].prototype.parse=t)},createUUIDBox:function(e,t,r,n,o){d.UUIDs.push(e),d.UUIDBoxes[e]=function(o){r?d.FullBox.call(this,"uuid",o,t,e):n?d.ContainerBox.call(this,"uuid",o,t,e):d.Box.call(this,"uuid",o,t,e)},d.UUIDBoxes[e].prototype=r?new d.FullBox:n?new d.ContainerBox:new d.Box,o&&(r?d.UUIDBoxes[e].prototype.parse=function(e){this.parseFullHeader(e),o&&o.call(this,e)}:d.UUIDBoxes[e].prototype.parse=o)}};function c(e){var t="<table class='inner-table'>";t+="<thead><tr><th>length</th><th>nalu_data</th></tr></thead><tbody>";for(var r=0;r<e.length;r++){var n=e[r];t+="<tr><td>"+n.length+"</td><td>"+n.nalu.reduce(function(e,t){return e+t.toString(16).padStart(2,"0")},"0x")+"</td></tr>"}return t+"</tbody></table>"}function h(e,t){this.x=e,this.y=t}function p(e,t){this.bad_pixel_row=e,this.bad_pixel_column=t}d.initialize(),d.TKHD_FLAG_ENABLED=1,d.TKHD_FLAG_IN_MOVIE=2,d.TKHD_FLAG_IN_PREVIEW=4,d.TFHD_FLAG_BASE_DATA_OFFSET=1,d.TFHD_FLAG_SAMPLE_DESC=2,d.TFHD_FLAG_SAMPLE_DUR=8,d.TFHD_FLAG_SAMPLE_SIZE=16,d.TFHD_FLAG_SAMPLE_FLAGS=32,d.TFHD_FLAG_DUR_EMPTY=65536,d.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072,d.TRUN_FLAGS_DATA_OFFSET=1,d.TRUN_FLAGS_FIRST_FLAG=4,d.TRUN_FLAGS_DURATION=256,d.TRUN_FLAGS_SIZE=512,d.TRUN_FLAGS_FLAGS=1024,d.TRUN_FLAGS_CTS_OFFSET=2048,d.Box.prototype.add=function(e){return this.addBox(new d[e+"Box"])},d.Box.prototype.addBox=function(e){return this.boxes.push(e),this[e.type+"s"]?this[e.type+"s"].push(e):this[e.type]=e,e},d.Box.prototype.set=function(e,t){return this[e]=t,this},d.Box.prototype.addEntry=function(e,t){var r=t||"entries";return this[r]||(this[r]=[]),this[r].push(e),this},t.BoxParser=d,d.parseUUID=function(e){return d.parseHex16(e)},d.parseHex16=function(e){for(var t="",r=0;r<16;r++){var n=e.readUint8().toString(16);t+=1===n.length?"0"+n:n}return t},d.parseOneBox=function(e,t,r){var n,s,a,l=e.getPosition(),u=0;if(e.getEndPosition()-l<8)return o.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:d.ERR_NOT_ENOUGH_DATA};if(r&&r<8)return o.debug("BoxParser","Not enough bytes left in the parent box to parse a new box"),{code:d.ERR_NOT_ENOUGH_DATA};var c=e.readUint32(),h=e.readString(4),p=h;if(o.debug("BoxParser","Found box of type '"+h+"' and size "+c+" at position "+l),u=8,"uuid"==h){if(e.getEndPosition()-e.getPosition()<16||r-u<16)return e.seek(l),o.debug("BoxParser","Not enough bytes left in the parent box to parse a UUID box"),{code:d.ERR_NOT_ENOUGH_DATA};a=d.parseUUID(e),u+=16,p=a}if(1==c){if(e.getEndPosition()-e.getPosition()<8||r&&r-u<8)return e.seek(l),o.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+h+'" box'),{code:d.ERR_NOT_ENOUGH_DATA};c=e.readUint64(),u+=8}else if(0===c){if(r)c=r;else if("mdat"!==h)return o.error("BoxParser","Unlimited box size not supported for type: '"+h+"'"),n=new d.Box(h,c),{code:d.OK,box:n,size:n.size}}return 0!==c&&c<u?(o.error("BoxParser","Box of type "+h+" has an invalid size "+c+" (too small to be a box)"),{code:d.ERR_NOT_ENOUGH_DATA,type:h,size:c,hdr_size:u,start:l}):0!==c&&r&&c>r?(o.error("BoxParser","Box of type '"+h+"' has a size "+c+" greater than its container size "+r),{code:d.ERR_NOT_ENOUGH_DATA,type:h,size:c,hdr_size:u,start:l}):0!==c&&l+c>e.getEndPosition()?(e.seek(l),o.info("BoxParser","Not enough data in stream to parse the entire '"+h+"' box"),{code:d.ERR_NOT_ENOUGH_DATA,type:h,size:c,hdr_size:u,start:l}):t?{code:d.OK,type:h,size:c,hdr_size:u,start:l}:(d[h+"Box"]?n=new d[h+"Box"](c):"uuid"!==h?(o.warn("BoxParser","Unknown box type: '"+h+"'"),(n=new d.Box(h,c)).has_unparsed_data=!0):d.UUIDBoxes[a]?n=new d.UUIDBoxes[a](c):(o.warn("BoxParser","Unknown uuid type: '"+a+"'"),(n=new d.Box(h,c)).uuid=a,n.has_unparsed_data=!0),n.hdr_size=u,n.start=l,n.write===d.Box.prototype.write&&"mdat"!==n.type&&(o.info("BoxParser","'"+p+"' box writing not yet implemented, keeping unparsed data in memory for later write"),n.parseDataAndRewind(e)),n.parse(e),(s=e.getPosition()-(n.start+n.size))<0?(o.warn("BoxParser","Parsing of box '"+p+"' did not read the entire indicated box data size (missing "+-s+" bytes), seeking forward"),e.seek(n.start+n.size)):s>0&&(o.error("BoxParser","Parsing of box '"+p+"' read "+s+" more bytes than the indicated box data size, seeking backwards"),0!==n.size&&e.seek(n.start+n.size)),{code:d.OK,box:n,size:n.size})},d.Box.prototype.parse=function(e){"mdat"!=this.type?this.data=e.readUint8Array(this.size-this.hdr_size):0===this.size?e.seek(e.getEndPosition()):e.seek(this.start+this.size)},d.Box.prototype.parseDataAndRewind=function(e){this.data=e.readUint8Array(this.size-this.hdr_size),e.position-=this.size-this.hdr_size},d.FullBox.prototype.parseDataAndRewind=function(e){this.parseFullHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,e.position-=this.size-this.hdr_size},d.FullBox.prototype.parseFullHeader=function(e){this.version=e.readUint8(),this.flags=e.readUint24(),this.hdr_size+=4},d.FullBox.prototype.parse=function(e){this.parseFullHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size)},d.ContainerBox.prototype.parse=function(e){for(;e.getPosition()<this.start+this.size;){if((t=d.parseOneBox(e,!1,this.size-(e.getPosition()-this.start))).code!==d.OK)return;if(r=t.box,this.boxes.push(r),this.subBoxNames&&-1!=this.subBoxNames.indexOf(r.type))this[this.subBoxNames[this.subBoxNames.indexOf(r.type)]+"s"].push(r);else{var t,r,n="uuid"!==r.type?r.type:r.uuid;this[n]?o.warn("Box of type "+n+" already stored in field of this type"):this[n]=r}}},d.Box.prototype.parseLanguage=function(e){this.language=e.readUint16();var t=[];t[0]=this.language>>10&31,t[1]=this.language>>5&31,t[2]=31&this.language,this.languageString=String.fromCharCode(t[0]+96,t[1]+96,t[2]+96)},d.SAMPLE_ENTRY_TYPE_VISUAL="Visual",d.SAMPLE_ENTRY_TYPE_AUDIO="Audio",d.SAMPLE_ENTRY_TYPE_HINT="Hint",d.SAMPLE_ENTRY_TYPE_METADATA="Metadata",d.SAMPLE_ENTRY_TYPE_SUBTITLE="Subtitle",d.SAMPLE_ENTRY_TYPE_SYSTEM="System",d.SAMPLE_ENTRY_TYPE_TEXT="Text",d.SampleEntry.prototype.parseHeader=function(e){e.readUint8Array(6),this.data_reference_index=e.readUint16(),this.hdr_size+=8},d.SampleEntry.prototype.parse=function(e){this.parseHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size)},d.SampleEntry.prototype.parseDataAndRewind=function(e){this.parseHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,e.position-=this.size-this.hdr_size},d.SampleEntry.prototype.parseFooter=function(e){d.ContainerBox.prototype.parse.call(this,e)},d.createMediaSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_HINT),d.createMediaSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_METADATA),d.createMediaSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_SUBTITLE),d.createMediaSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_SYSTEM),d.createMediaSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_TEXT),d.createMediaSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,function(e){var t;this.parseHeader(e),e.readUint16(),e.readUint16(),e.readUint32Array(3),this.width=e.readUint16(),this.height=e.readUint16(),this.horizresolution=e.readUint32(),this.vertresolution=e.readUint32(),e.readUint32(),this.frame_count=e.readUint16(),t=Math.min(31,e.readUint8()),this.compressorname=e.readString(t),t<31&&e.readString(31-t),this.depth=e.readUint16(),e.readUint16(),this.parseFooter(e)}),d.createMediaSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_AUDIO,function(e){this.parseHeader(e),e.readUint32Array(2),this.channel_count=e.readUint16(),this.samplesize=e.readUint16(),e.readUint16(),e.readUint16(),this.samplerate=e.readUint32()/65536,this.parseFooter(e)}),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"avc1"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"avc2"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"avc3"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"avc4"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"av01"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"dav1"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"hvc1"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"hev1"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"hvt1"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"lhe1"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"dvh1"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"dvhe"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"vvc1"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"vvi1"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"vvs1"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"vvcN"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"vp08"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"vp09"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"avs3"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"j2ki"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"mjp2"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"mjpg"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"uncv"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_AUDIO,"mp4a"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_AUDIO,"ac-3"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_AUDIO,"ac-4"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_AUDIO,"ec-3"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_AUDIO,"Opus"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_AUDIO,"mha1"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_AUDIO,"mha2"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_AUDIO,"mhm1"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_AUDIO,"mhm2"),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_AUDIO,"fLaC"),d.createEncryptedSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_VISUAL,"encv"),d.createEncryptedSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_AUDIO,"enca"),d.createEncryptedSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_SUBTITLE,"encu"),d.createEncryptedSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_SYSTEM,"encs"),d.createEncryptedSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_TEXT,"enct"),d.createEncryptedSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_METADATA,"encm"),d.createBoxCtor("a1lx","AV1LayeredImageIndexingProperty",function(e){var t=((1&e.readUint8()&1)+1)*16;this.layer_size=[];for(var r=0;r<3;r++)16==t?this.layer_size[r]=e.readUint16():this.layer_size[r]=e.readUint32()}),d.createBoxCtor("a1op","OperatingPointSelectorProperty",function(e){this.op_index=e.readUint8()}),d.createFullBoxCtor("auxC","AuxiliaryTypeProperty",function(e){this.aux_type=e.readCString();var t=this.size-this.hdr_size-(this.aux_type.length+1);this.aux_subtype=e.readUint8Array(t)}),d.createBoxCtor("av1C","AV1CodecConfigurationBox",function(e){var t=e.readUint8();if((t>>7&1)!=1){o.error("av1C marker problem");return}if(this.version=127&t,1!==this.version){o.error("av1C version "+this.version+" not supported");return}if(t=e.readUint8(),this.seq_profile=t>>5&7,this.seq_level_idx_0=31&t,t=e.readUint8(),this.seq_tier_0=t>>7&1,this.high_bitdepth=t>>6&1,this.twelve_bit=t>>5&1,this.monochrome=t>>4&1,this.chroma_subsampling_x=t>>3&1,this.chroma_subsampling_y=t>>2&1,this.chroma_sample_position=3&t,t=e.readUint8(),this.reserved_1=t>>5&7,0!==this.reserved_1){o.error("av1C reserved_1 parsing problem");return}if(this.initial_presentation_delay_present=t>>4&1,1===this.initial_presentation_delay_present)this.initial_presentation_delay_minus_one=15&t;else if(this.reserved_2=15&t,0!==this.reserved_2){o.error("av1C reserved_2 parsing problem");return}var r=this.size-this.hdr_size-4;this.configOBUs=e.readUint8Array(r)}),d.createBoxCtor("avcC","AVCConfigurationBox",function(e){var t,r;for(t=0,this.configurationVersion=e.readUint8(),this.AVCProfileIndication=e.readUint8(),this.profile_compatibility=e.readUint8(),this.AVCLevelIndication=e.readUint8(),this.lengthSizeMinusOne=3&e.readUint8(),this.nb_SPS_nalus=31&e.readUint8(),r=this.size-this.hdr_size-6,this.SPS=[],this.SPS.toString=function(){return c(this)};t<this.nb_SPS_nalus;t++)this.SPS[t]={},this.SPS[t].length=e.readUint16(),this.SPS[t].nalu=e.readUint8Array(this.SPS[t].length),r-=2+this.SPS[t].length;for(this.nb_PPS_nalus=e.readUint8(),r--,this.PPS=[],this.PPS.toString=function(){return c(this)},t=0;t<this.nb_PPS_nalus;t++)this.PPS[t]={},this.PPS[t].length=e.readUint16(),this.PPS[t].nalu=e.readUint8Array(this.PPS[t].length),r-=2+this.PPS[t].length;r>0&&(this.ext=e.readUint8Array(r))}),d.createBoxCtor("btrt","BitRateBox",function(e){this.bufferSizeDB=e.readUint32(),this.maxBitrate=e.readUint32(),this.avgBitrate=e.readUint32()}),d.createFullBoxCtor("ccst","CodingConstraintsBox",function(e){var t=e.readUint8();this.all_ref_pics_intra=(128&t)==128,this.intra_pred_used=(64&t)==64,this.max_ref_per_pic=(63&t)>>2,e.readUint24()}),d.createBoxCtor("cdef","ComponentDefinitionBox",function(e){var t;for(t=0,this.channel_count=e.readUint16(),this.channel_indexes=[],this.channel_types=[],this.channel_associations=[];t<this.channel_count;t++)this.channel_indexes.push(e.readUint16()),this.channel_types.push(e.readUint16()),this.channel_associations.push(e.readUint16())}),d.createBoxCtor("clap","CleanApertureBox",function(e){this.cleanApertureWidthN=e.readUint32(),this.cleanApertureWidthD=e.readUint32(),this.cleanApertureHeightN=e.readUint32(),this.cleanApertureHeightD=e.readUint32(),this.horizOffN=e.readUint32(),this.horizOffD=e.readUint32(),this.vertOffN=e.readUint32(),this.vertOffD=e.readUint32()}),d.createBoxCtor("clli","ContentLightLevelBox",function(e){this.max_content_light_level=e.readUint16(),this.max_pic_average_light_level=e.readUint16()}),d.createFullBoxCtor("cmex","CameraExtrinsicMatrixProperty",function(e){1&this.flags&&(this.pos_x=e.readInt32()),2&this.flags&&(this.pos_y=e.readInt32()),4&this.flags&&(this.pos_z=e.readInt32()),8&this.flags&&(0==this.version?16&this.flags?(this.quat_x=e.readInt32(),this.quat_y=e.readInt32(),this.quat_z=e.readInt32()):(this.quat_x=e.readInt16(),this.quat_y=e.readInt16(),this.quat_z=e.readInt16()):this.version),32&this.flags&&(this.id=e.readUint32())}),d.createFullBoxCtor("cmin","CameraIntrinsicMatrixProperty",function(e){this.focal_length_x=e.readInt32(),this.principal_point_x=e.readInt32(),this.principal_point_y=e.readInt32(),1&this.flags&&(this.focal_length_y=e.readInt32(),this.skew_factor=e.readInt32())}),d.createBoxCtor("cmpd","ComponentDefinitionBox",function(e){for(i=0,this.component_count=e.readUint32(),this.component_types=[],this.component_type_urls=[];i<this.component_count;i++){var t=e.readUint16();this.component_types.push(t),t>=32768&&this.component_type_urls.push(e.readCString())}}),d.createFullBoxCtor("co64","ChunkLargeOffsetBox",function(e){var t,r;if(t=e.readUint32(),this.chunk_offsets=[],0===this.version)for(r=0;r<t;r++)this.chunk_offsets.push(e.readUint64())}),d.createFullBoxCtor("CoLL","ContentLightLevelBox",function(e){this.maxCLL=e.readUint16(),this.maxFALL=e.readUint16()}),d.createBoxCtor("colr","ColourInformationBox",function(e){if(this.colour_type=e.readString(4),"nclx"===this.colour_type){this.colour_primaries=e.readUint16(),this.transfer_characteristics=e.readUint16(),this.matrix_coefficients=e.readUint16();var t=e.readUint8();this.full_range_flag=t>>7}else"rICC"===this.colour_type?this.ICC_profile=e.readUint8Array(this.size-4):"prof"===this.colour_type&&(this.ICC_profile=e.readUint8Array(this.size-4))}),d.createFullBoxCtor("cprt","CopyrightBox",function(e){this.parseLanguage(e),this.notice=e.readCString()}),d.createFullBoxCtor("cslg","CompositionToDecodeBox",function(e){0===this.version&&(this.compositionToDTSShift=e.readInt32(),this.leastDecodeToDisplayDelta=e.readInt32(),this.greatestDecodeToDisplayDelta=e.readInt32(),this.compositionStartTime=e.readInt32(),this.compositionEndTime=e.readInt32())}),d.createFullBoxCtor("ctts","CompositionOffsetBox",function(e){if(t=e.readUint32(),this.sample_counts=[],this.sample_offsets=[],0===this.version)for(r=0;r<t;r++){this.sample_counts.push(e.readUint32());var t,r,n=e.readInt32();n<0&&o.warn("BoxParser","ctts box uses negative values without using version 1"),this.sample_offsets.push(n)}else if(1==this.version)for(r=0;r<t;r++)this.sample_counts.push(e.readUint32()),this.sample_offsets.push(e.readInt32())}),d.createBoxCtor("dac3","AC3SpecificBox",function(e){var t=e.readUint8(),r=e.readUint8(),n=e.readUint8();this.fscod=t>>6,this.bsid=t>>1&31,this.bsmod=(1&t)<<2|r>>6&3,this.acmod=r>>3&7,this.lfeon=r>>2&1,this.bit_rate_code=3&r|n>>5&7}),d.createBoxCtor("dec3","EC3SpecificBox",function(e){var t=e.readUint16();this.data_rate=t>>3,this.num_ind_sub=7&t,this.ind_subs=[];for(var r=0;r<this.num_ind_sub+1;r++){var n={};this.ind_subs.push(n);var o=e.readUint8(),s=e.readUint8(),a=e.readUint8();n.fscod=o>>6,n.bsid=o>>1&31,n.bsmod=(1&o)<<4|s>>4&15,n.acmod=s>>1&7,n.lfeon=1&s,n.num_dep_sub=a>>1&15,n.num_dep_sub>0&&(n.chan_loc=(1&a)<<8|e.readUint8())}}),d.createFullBoxCtor("dfLa","FLACSpecificBox",function(e){for(var t=[],r=["STREAMINFO","PADDING","APPLICATION","SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE","RESERVED"];;){var n=e.readUint8(),o=Math.min(127&n,r.length-1);if(o?e.readUint8Array(e.readUint24()):(e.readUint8Array(13),this.samplerate=e.readUint32()>>12,e.readUint8Array(20)),t.push(r[o]),128&n)break}this.numMetadataBlocks=t.length+" ("+t.join(", ")+")"}),d.createBoxCtor("dimm","hintimmediateBytesSent",function(e){this.bytessent=e.readUint64()}),d.createBoxCtor("dmax","hintlongestpacket",function(e){this.time=e.readUint32()}),d.createBoxCtor("dmed","hintmediaBytesSent",function(e){this.bytessent=e.readUint64()}),d.createBoxCtor("dOps","OpusSpecificBox",function(e){if(this.Version=e.readUint8(),this.OutputChannelCount=e.readUint8(),this.PreSkip=e.readUint16(),this.InputSampleRate=e.readUint32(),this.OutputGain=e.readInt16(),this.ChannelMappingFamily=e.readUint8(),0!==this.ChannelMappingFamily){this.StreamCount=e.readUint8(),this.CoupledCount=e.readUint8(),this.ChannelMapping=[];for(var t=0;t<this.OutputChannelCount;t++)this.ChannelMapping[t]=e.readUint8()}}),d.createFullBoxCtor("dref","DataReferenceBox",function(e){this.entries=[];for(var t,r,n=e.readUint32(),o=0;o<n;o++){if((t=d.parseOneBox(e,!1,this.size-(e.getPosition()-this.start))).code!==d.OK)return;r=t.box,this.entries.push(r)}}),d.createBoxCtor("drep","hintrepeatedBytesSent",function(e){this.bytessent=e.readUint64()}),d.createFullBoxCtor("elng","ExtendedLanguageBox",function(e){this.extended_language=e.readString(this.size-this.hdr_size)}),d.createFullBoxCtor("elst","EditListBox",function(e){this.entries=[];for(var t=e.readUint32(),r=0;r<t;r++){var n={};this.entries.push(n),1===this.version?(n.segment_duration=e.readUint64(),n.media_time=e.readInt64()):(n.segment_duration=e.readUint32(),n.media_time=e.readInt32()),n.media_rate_integer=e.readInt16(),n.media_rate_fraction=e.readInt16()}}),d.createFullBoxCtor("emsg","EventMessageBox",function(e){1==this.version?(this.timescale=e.readUint32(),this.presentation_time=e.readUint64(),this.event_duration=e.readUint32(),this.id=e.readUint32(),this.scheme_id_uri=e.readCString(),this.value=e.readCString()):(this.scheme_id_uri=e.readCString(),this.value=e.readCString(),this.timescale=e.readUint32(),this.presentation_time_delta=e.readUint32(),this.event_duration=e.readUint32(),this.id=e.readUint32());var t=this.size-this.hdr_size-(16+(this.scheme_id_uri.length+1)+(this.value.length+1));1==this.version&&(t-=4),this.message_data=e.readUint8Array(t)}),d.createEntityToGroupCtor=function(e,t){d[e+"Box"]=function(t){d.FullBox.call(this,e,t)},d[e+"Box"].prototype=new d.FullBox,d[e+"Box"].prototype.parse=function(e){if(this.parseFullHeader(e),t)t.call(this,e);else for(i=0,this.group_id=e.readUint32(),this.num_entities_in_group=e.readUint32(),this.entity_ids=[];i<this.num_entities_in_group;i++){var r=e.readUint32();this.entity_ids.push(r)}}},d.createEntityToGroupCtor("aebr"),d.createEntityToGroupCtor("afbr"),d.createEntityToGroupCtor("albc"),d.createEntityToGroupCtor("altr"),d.createEntityToGroupCtor("brst"),d.createEntityToGroupCtor("dobr"),d.createEntityToGroupCtor("eqiv"),d.createEntityToGroupCtor("favc"),d.createEntityToGroupCtor("fobr"),d.createEntityToGroupCtor("iaug"),d.createEntityToGroupCtor("pano"),d.createEntityToGroupCtor("slid"),d.createEntityToGroupCtor("ster"),d.createEntityToGroupCtor("tsyn"),d.createEntityToGroupCtor("wbbr"),d.createEntityToGroupCtor("prgr"),d.createEntityToGroupCtor("pymd",function(e){this.group_id=e.readUint32(),this.num_entities_in_group=e.readUint32(),this.entity_ids=[];for(var t=0;t<this.num_entities_in_group;t++){var r=e.readUint32();this.entity_ids.push(r)}for(t=0,this.tile_size_x=e.readUint16(),this.tile_size_y=e.readUint16(),this.layer_binning=[],this.tiles_in_layer_column_minus1=[],this.tiles_in_layer_row_minus1=[];t<this.num_entities_in_group;t++)this.layer_binning[t]=e.readUint16(),this.tiles_in_layer_row_minus1[t]=e.readUint16(),this.tiles_in_layer_column_minus1[t]=e.readUint16()}),d.createFullBoxCtor("esds","ElementaryStreamDescriptorBox",function(e){var t=e.readUint8Array(this.size-this.hdr_size);if(void 0!==u){var r=new u;this.esd=r.parseOneDescriptor(new a(t.buffer,0,a.BIG_ENDIAN))}}),d.createBoxCtor("fiel","FieldHandlingBox",function(e){this.fieldCount=e.readUint8(),this.fieldOrdering=e.readUint8()}),d.createBoxCtor("frma","OriginalFormatBox",function(e){this.data_format=e.readString(4)}),d.createBoxCtor("ftyp","FileTypeBox",function(e){var t=this.size-this.hdr_size;this.major_brand=e.readString(4),this.minor_version=e.readUint32(),t-=8,this.compatible_brands=[];for(var r=0;t>=4;)this.compatible_brands[r]=e.readString(4),t-=4,r++}),d.createFullBoxCtor("hdlr","HandlerBox",function(e){0===this.version&&(e.readUint32(),this.handler=e.readString(4),e.readUint32Array(3),this.name=e.readString(this.size-this.hdr_size-20),"\0"===this.name[this.name.length-1]&&(this.name=this.name.slice(0,-1)))}),d.createBoxCtor("hvcC","HEVCConfigurationBox",function(e){this.configurationVersion=e.readUint8(),o=e.readUint8(),this.general_profile_space=o>>6,this.general_tier_flag=(32&o)>>5,this.general_profile_idc=31&o,this.general_profile_compatibility=e.readUint32(),this.general_constraint_indicator=e.readUint8Array(6),this.general_level_idc=e.readUint8(),this.min_spatial_segmentation_idc=4095&e.readUint16(),this.parallelismType=3&e.readUint8(),this.chroma_format_idc=3&e.readUint8(),this.bit_depth_luma_minus8=7&e.readUint8(),this.bit_depth_chroma_minus8=7&e.readUint8(),this.avgFrameRate=e.readUint16(),o=e.readUint8(),this.constantFrameRate=o>>6,this.numTemporalLayers=(13&o)>>3,this.temporalIdNested=(4&o)>>2,this.lengthSizeMinusOne=3&o,this.nalu_arrays=[],this.nalu_arrays.toString=function(){var e="<table class='inner-table'>";e+="<thead><tr><th>completeness</th><th>nalu_type</th><th>nalu_data</th></tr></thead><tbody>";for(var t=0;t<this.length;t++){var r=this[t];e+="<tr>"+("<td rowspan='"+r.length+"'>")+r.completeness+"</td>"+("<td rowspan='"+r.length+"'>")+r.nalu_type+"</td>";for(var n=0;n<r.length;n++){var o=r[n];0!==n&&(e+="<tr>"),e+="<td>"+o.data.reduce(function(e,t){return e+t.toString(16).padStart(2,"0")},"0x")+"</td></tr>"}}return e+"</tbody></table>"};var t,r,n,o,s=e.readUint8();for(t=0;t<s;t++){var a=[];this.nalu_arrays.push(a),o=e.readUint8(),a.completeness=(128&o)>>7,a.nalu_type=63&o;var l=e.readUint16();for(r=0;r<l;r++){var u={};a.push(u),n=e.readUint16(),u.data=e.readUint8Array(n)}}}),d.createFullBoxCtor("iinf","ItemInfoBox",function(e){var t;0===this.version?this.entry_count=e.readUint16():this.entry_count=e.readUint32(),this.item_infos=[];for(var r=0;r<this.entry_count;r++){if((t=d.parseOneBox(e,!1,this.size-(e.getPosition()-this.start))).code!==d.OK)return;"infe"!==t.box.type&&o.error("BoxParser","Expected 'infe' box, got "+t.box.type),this.item_infos[r]=t.box}}),d.createFullBoxCtor("iloc","ItemLocationBox",function(e){t=e.readUint8(),this.offset_size=t>>4&15,this.length_size=15&t,t=e.readUint8(),this.base_offset_size=t>>4&15,1===this.version||2===this.version?this.index_size=15&t:this.index_size=0,this.items=[];var t,r=0;if(this.version<2)r=e.readUint16();else if(2===this.version)r=e.readUint32();else throw"version of iloc box not supported";for(var n=0;n<r;n++){var o={};if(this.items.push(o),this.version<2)o.item_ID=e.readUint16();else if(2===this.version)o.item_ID=e.readUint32();else throw"version of iloc box not supported";switch(1===this.version||2===this.version?o.construction_method=15&e.readUint16():o.construction_method=0,o.data_reference_index=e.readUint16(),this.base_offset_size){case 0:o.base_offset=0;break;case 4:o.base_offset=e.readUint32();break;case 8:o.base_offset=e.readUint64();break;default:throw"Error reading base offset size"}var s=e.readUint16();o.extents=[];for(var a=0;a<s;a++){var l={};if(o.extents.push(l),1===this.version||2===this.version)switch(this.index_size){case 0:l.extent_index=0;break;case 4:l.extent_index=e.readUint32();break;case 8:l.extent_index=e.readUint64();break;default:throw"Error reading extent index"}switch(this.offset_size){case 0:l.extent_offset=0;break;case 4:l.extent_offset=e.readUint32();break;case 8:l.extent_offset=e.readUint64();break;default:throw"Error reading extent index"}switch(this.length_size){case 0:l.extent_length=0;break;case 4:l.extent_length=e.readUint32();break;case 8:l.extent_length=e.readUint64();break;default:throw"Error reading extent index"}}}}),d.createBoxCtor("imir","ImageMirror",function(e){var t=e.readUint8();this.reserved=t>>7,this.axis=1&t}),d.createFullBoxCtor("infe","ItemInfoEntry",function(e){if((0===this.version||1===this.version)&&(this.item_ID=e.readUint16(),this.item_protection_index=e.readUint16(),this.item_name=e.readCString(),this.content_type=e.readCString(),this.content_encoding=e.readCString()),1===this.version){this.extension_type=e.readString(4),o.warn("BoxParser","Cannot parse extension type"),e.seek(this.start+this.size);return}this.version>=2&&(2===this.version?this.item_ID=e.readUint16():3===this.version&&(this.item_ID=e.readUint32()),this.item_protection_index=e.readUint16(),this.item_type=e.readString(4),this.item_name=e.readCString(),"mime"===this.item_type?(this.content_type=e.readCString(),this.content_encoding=e.readCString()):"uri "===this.item_type&&(this.item_uri_type=e.readCString()))}),d.createFullBoxCtor("ipma","ItemPropertyAssociationBox",function(e){var t,r;for(t=0,entry_count=e.readUint32(),this.associations=[];t<entry_count;t++){var n={};this.associations.push(n),this.version<1?n.id=e.readUint16():n.id=e.readUint32();var o=e.readUint8();for(r=0,n.props=[];r<o;r++){var s=e.readUint8(),a={};n.props.push(a),a.essential=(128&s)>>7==1,1&this.flags?a.property_index=(127&s)<<8|e.readUint8():a.property_index=127&s}}}),d.createFullBoxCtor("iref","ItemReferenceBox",function(e){var t,r;for(this.references=[];e.getPosition()<this.start+this.size;){if((t=d.parseOneBox(e,!0,this.size-(e.getPosition()-this.start))).code!==d.OK)return;(r=0===this.version?new d.SingleItemTypeReferenceBox(t.type,t.size,t.hdr_size,t.start):new d.SingleItemTypeReferenceBoxLarge(t.type,t.size,t.hdr_size,t.start)).write===d.Box.prototype.write&&"mdat"!==r.type&&(o.warn("BoxParser",r.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),r.parseDataAndRewind(e)),r.parse(e),this.references.push(r)}}),d.createBoxCtor("irot","ImageRotation",function(e){this.angle=3&e.readUint8()}),d.createFullBoxCtor("ispe","ImageSpatialExtentsProperty",function(e){this.image_width=e.readUint32(),this.image_height=e.readUint32()}),d.createFullBoxCtor("kind","KindBox",function(e){this.schemeURI=e.readCString(),this.value=e.readCString()}),d.createFullBoxCtor("leva","LevelAssignmentBox",function(e){var t=e.readUint8();this.levels=[];for(var r=0;r<t;r++){var n={};this.levels[r]=n,n.track_ID=e.readUint32();var s=e.readUint8();switch(n.padding_flag=s>>7,n.assignment_type=127&s,n.assignment_type){case 0:n.grouping_type=e.readString(4);break;case 1:n.grouping_type=e.readString(4),n.grouping_type_parameter=e.readUint32();break;case 2:case 3:break;case 4:n.sub_track_id=e.readUint32();break;default:o.warn("BoxParser","Unknown leva assignement type")}}}),d.createBoxCtor("lhvC","LHEVCConfigurationBox",function(e){this.configurationVersion=e.readUint8(),this.min_spatial_segmentation_idc=4095&e.readUint16(),this.parallelismType=3&e.readUint8(),n=e.readUint8(),this.numTemporalLayers=(13&n)>>3,this.temporalIdNested=(4&n)>>2,this.lengthSizeMinusOne=3&n,this.nalu_arrays=[],this.nalu_arrays.toString=function(){var e="<table class='inner-table'>";e+="<thead><tr><th>completeness</th><th>nalu_type</th><th>nalu_data</th></tr></thead><tbody>";for(var t=0;t<this.length;t++){var r=this[t];e+="<tr>"+("<td rowspan='"+r.length+"'>")+r.completeness+"</td>"+("<td rowspan='"+r.length+"'>")+r.nalu_type+"</td>";for(var n=0;n<r.length;n++){var o=r[n];0!==n&&(e+="<tr>"),e+="<td>"+o.data.reduce(function(e,t){return e+t.toString(16).padStart(2,"0")},"0x")+"</td></tr>"}}return e+"</tbody></table>"};var t,r,n,o=e.readUint8();for(t=0;t<o;t++){var s=[];this.nalu_arrays.push(s),n=e.readUint8(),s.completeness=(128&n)>>7,s.nalu_type=63&n;var a=e.readUint16();for(r=0;r<a;r++){var l={};s.push(l);var u=e.readUint16();l.data=e.readUint8Array(u)}}}),d.createBoxCtor("lsel","LayerSelectorProperty",function(e){this.layer_id=e.readUint16()}),d.createBoxCtor("maxr","hintmaxrate",function(e){this.period=e.readUint32(),this.bytes=e.readUint32()}),h.prototype.toString=function(){return"("+this.x+","+this.y+")"},d.createBoxCtor("mdcv","MasteringDisplayColourVolumeBox",function(e){this.display_primaries=[],this.display_primaries[0]=new h(e.readUint16(),e.readUint16()),this.display_primaries[1]=new h(e.readUint16(),e.readUint16()),this.display_primaries[2]=new h(e.readUint16(),e.readUint16()),this.white_point=new h(e.readUint16(),e.readUint16()),this.max_display_mastering_luminance=e.readUint32(),this.min_display_mastering_luminance=e.readUint32()}),d.createFullBoxCtor("mdhd","MediaHeaderBox",function(e){1==this.version?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.timescale=e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.timescale=e.readUint32(),this.duration=e.readUint32()),this.parseLanguage(e),e.readUint16()}),d.createFullBoxCtor("mehd","MovieExtendsHeaderBox",function(e){1&this.flags&&(o.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),1==this.version?this.fragment_duration=e.readUint64():this.fragment_duration=e.readUint32()}),d.createFullBoxCtor("meta","MetaBox",function(e){this.boxes=[],d.ContainerBox.prototype.parse.call(this,e)}),d.createFullBoxCtor("mfhd","MovieFragmentHeaderBox",function(e){this.sequence_number=e.readUint32()}),d.createFullBoxCtor("mfro","MovieFragmentRandomAccessOffsetBox",function(e){this._size=e.readUint32()}),d.createFullBoxCtor("mskC","MaskConfigurationProperty",function(e){this.bits_per_pixel=e.readUint8()}),d.createFullBoxCtor("mvhd","MovieHeaderBox",function(e){1==this.version?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.timescale=e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.timescale=e.readUint32(),this.duration=e.readUint32()),this.rate=e.readUint32(),this.volume=e.readUint16()>>8,e.readUint16(),e.readUint32Array(2),this.matrix=e.readUint32Array(9),e.readUint32Array(6),this.next_track_id=e.readUint32()}),d.createBoxCtor("npck","hintPacketsSent",function(e){this.packetssent=e.readUint32()}),d.createBoxCtor("nump","hintPacketsSent",function(e){this.packetssent=e.readUint64()}),d.createFullBoxCtor("padb","PaddingBitsBox",function(e){var t=e.readUint32();this.padbits=[];for(var r=0;r<Math.floor((t+1)/2);r++)this.padbits=e.readUint8()}),d.createBoxCtor("pasp","PixelAspectRatioBox",function(e){this.hSpacing=e.readUint32(),this.vSpacing=e.readUint32()}),d.createBoxCtor("payl","CuePayloadBox",function(e){this.text=e.readString(this.size-this.hdr_size)}),d.createBoxCtor("payt","hintpayloadID",function(e){this.payloadID=e.readUint32();var t=e.readUint8();this.rtpmap_string=e.readString(t)}),d.createFullBoxCtor("pdin","ProgressiveDownloadInfoBox",function(e){var t=(this.size-this.hdr_size)/8;this.rate=[],this.initial_delay=[];for(var r=0;r<t;r++)this.rate[r]=e.readUint32(),this.initial_delay[r]=e.readUint32()}),d.createFullBoxCtor("pitm","PrimaryItemBox",function(e){0===this.version?this.item_id=e.readUint16():this.item_id=e.readUint32()}),d.createFullBoxCtor("pixi","PixelInformationProperty",function(e){var t;for(t=0,this.num_channels=e.readUint8(),this.bits_per_channels=[];t<this.num_channels;t++)this.bits_per_channels[t]=e.readUint8()}),d.createBoxCtor("pmax","hintlargestpacket",function(e){this.bytes=e.readUint32()}),d.createFullBoxCtor("prdi","ProgressiveDerivedImageItemInformationProperty",function(e){if(this.step_count=e.readUint16(),this.item_count=[],2&this.flags)for(var t=0;t<this.step_count;t++)this.item_count[t]=e.readUint16()}),d.createFullBoxCtor("prft","ProducerReferenceTimeBox",function(e){this.ref_track_id=e.readUint32(),this.ntp_timestamp=e.readUint64(),0===this.version?this.media_time=e.readUint32():this.media_time=e.readUint64()}),d.createFullBoxCtor("pssh","ProtectionSystemSpecificHeaderBox",function(e){if(this.system_id=d.parseHex16(e),this.version>0){var t=e.readUint32();this.kid=[];for(var r=0;r<t;r++)this.kid[r]=d.parseHex16(e)}var n=e.readUint32();n>0&&(this.data=e.readUint8Array(n))}),d.createFullBoxCtor("clef","TrackCleanApertureDimensionsBox",function(e){this.width=e.readUint32(),this.height=e.readUint32()}),d.createFullBoxCtor("enof","TrackEncodedPixelsDimensionsBox",function(e){this.width=e.readUint32(),this.height=e.readUint32()}),d.createFullBoxCtor("prof","TrackProductionApertureDimensionsBox",function(e){this.width=e.readUint32(),this.height=e.readUint32()}),d.createContainerBoxCtor("tapt","TrackApertureModeDimensionsBox",null,["clef","prof","enof"]),d.createBoxCtor("rtp ","rtpmoviehintinformation",function(e){this.descriptionformat=e.readString(4),this.sdptext=e.readString(this.size-this.hdr_size-4)}),d.createFullBoxCtor("saio","SampleAuxiliaryInformationOffsetsBox",function(e){1&this.flags&&(this.aux_info_type=e.readString(4),this.aux_info_type_parameter=e.readUint32());var t=e.readUint32();this.offset=[];for(var r=0;r<t;r++)0===this.version?this.offset[r]=e.readUint32():this.offset[r]=e.readUint64()}),d.createFullBoxCtor("saiz","SampleAuxiliaryInformationSizesBox",function(e){if(1&this.flags&&(this.aux_info_type=e.readString(4),this.aux_info_type_parameter=e.readUint32()),this.default_sample_info_size=e.readUint8(),this.sample_count=e.readUint32(),this.sample_info_size=[],0===this.default_sample_info_size)for(var t=0;t<this.sample_count;t++)this.sample_info_size[t]=e.readUint8()}),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_METADATA,"mett",function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)}),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_METADATA,"metx",function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.namespace=e.readCString(),this.schema_location=e.readCString(),this.parseFooter(e)}),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_SUBTITLE,"sbtt",function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)}),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_SUBTITLE,"stpp",function(e){this.parseHeader(e),this.namespace=e.readCString(),this.schema_location=e.readCString(),this.auxiliary_mime_types=e.readCString(),this.parseFooter(e)}),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_SUBTITLE,"stxt",function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)}),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_SUBTITLE,"tx3g",function(e){this.parseHeader(e),this.displayFlags=e.readUint32(),this.horizontal_justification=e.readInt8(),this.vertical_justification=e.readInt8(),this.bg_color_rgba=e.readUint8Array(4),this.box_record=e.readInt16Array(4),this.style_record=e.readUint8Array(12),this.parseFooter(e)}),d.createSampleEntryCtor(d.SAMPLE_ENTRY_TYPE_METADATA,"wvtt",function(e){this.parseHeader(e),this.parseFooter(e)}),d.createSampleGroupCtor("alst",function(e){var t,r=e.readUint16();for(t=0,this.first_output_sample=e.readUint16(),this.sample_offset=[];t<r;t++)this.sample_offset[t]=e.readUint32();var n=this.description_length-4-4*r;for(t=0,this.num_output_samples=[],this.num_total_samples=[];t<n/4;t++)this.num_output_samples[t]=e.readUint16(),this.num_total_samples[t]=e.readUint16()}),d.createSampleGroupCtor("avll",function(e){this.layerNumber=e.readUint8(),this.accurateStatisticsFlag=e.readUint8(),this.avgBitRate=e.readUint16(),this.avgFrameRate=e.readUint16()}),d.createSampleGroupCtor("avss",function(e){this.subSequenceIdentifier=e.readUint16(),this.layerNumber=e.readUint8();var t=e.readUint8();this.durationFlag=t>>7,this.avgRateFlag=t>>6&1,this.durationFlag&&(this.duration=e.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=e.readUint8(),this.avgBitRate=e.readUint16(),this.avgFrameRate=e.readUint16()),this.dependency=[];for(var r=e.readUint8(),n=0;n<r;n++){var o={};this.dependency.push(o),o.subSeqDirectionFlag=e.readUint8(),o.layerNumber=e.readUint8(),o.subSequenceIdentifier=e.readUint16()}}),d.createSampleGroupCtor("dtrt",function(e){o.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),d.createSampleGroupCtor("mvif",function(e){o.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),d.createSampleGroupCtor("prol",function(e){this.roll_distance=e.readInt16()}),d.createSampleGroupCtor("rap ",function(e){var t=e.readUint8();this.num_leading_samples_known=t>>7,this.num_leading_samples=127&t}),d.createSampleGroupCtor("rash",function(e){if(this.operation_point_count=e.readUint16(),this.description_length!==2+(1===this.operation_point_count?2:6*this.operation_point_count)+9)o.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=e.readUint8Array(this.description_length-2);else{if(1===this.operation_point_count)this.target_rate_share=e.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(var t=0;t<this.operation_point_count;t++)this.available_bitrate[t]=e.readUint32(),this.target_rate_share[t]=e.readUint16()}this.maximum_bitrate=e.readUint32(),this.minimum_bitrate=e.readUint32(),this.discard_priority=e.readUint8()}}),d.createSampleGroupCtor("roll",function(e){this.roll_distance=e.readInt16()}),d.SampleGroupEntry.prototype.parse=function(e){o.warn("BoxParser","Unknown Sample Group type: "+this.grouping_type),this.data=e.readUint8Array(this.description_length)},d.createSampleGroupCtor("scif",function(e){o.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),d.createSampleGroupCtor("scnm",function(e){o.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),d.createSampleGroupCtor("seig",function(e){this.reserved=e.readUint8();var t=e.readUint8();this.crypt_byte_block=t>>4,this.skip_byte_block=15&t,this.isProtected=e.readUint8(),this.Per_Sample_IV_Size=e.readUint8(),this.KID=d.parseHex16(e),this.constant_IV_size=0,this.constant_IV=0,1===this.isProtected&&0===this.Per_Sample_IV_Size&&(this.constant_IV_size=e.readUint8(),this.constant_IV=e.readUint8Array(this.constant_IV_size))}),d.createSampleGroupCtor("stsa",function(e){o.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),d.createSampleGroupCtor("sync",function(e){var t=e.readUint8();this.NAL_unit_type=63&t}),d.createSampleGroupCtor("tele",function(e){var t=e.readUint8();this.level_independently_decodable=t>>7}),d.createSampleGroupCtor("tsas",function(e){o.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),d.createSampleGroupCtor("tscl",function(e){o.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),d.createSampleGroupCtor("vipr",function(e){o.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),d.createFullBoxCtor("sbgp","SampleToGroupBox",function(e){this.grouping_type=e.readString(4),1===this.version?this.grouping_type_parameter=e.readUint32():this.grouping_type_parameter=0,this.entries=[];for(var t=e.readUint32(),r=0;r<t;r++){var n={};this.entries.push(n),n.sample_count=e.readInt32(),n.group_description_index=e.readInt32()}}),p.prototype.toString=function(){return"[row: "+this.bad_pixel_row+", column: "+this.bad_pixel_column+"]"},d.createFullBoxCtor("sbpm","SensorBadPixelsMapBox",function(e){for(t=0,this.component_count=e.readUint16(),this.component_index=[];t<this.component_count;t++)this.component_index.push(e.readUint16());var t,r=e.readUint8();for(t=0,this.correction_applied=128==(128&r),this.num_bad_rows=e.readUint32(),this.num_bad_cols=e.readUint32(),this.num_bad_pixels=e.readUint32(),this.bad_rows=[],this.bad_columns=[],this.bad_pixels=[];t<this.num_bad_rows;t++)this.bad_rows.push(e.readUint32());for(t=0;t<this.num_bad_cols;t++)this.bad_columns.push(e.readUint32());for(t=0;t<this.num_bad_pixels;t++){var n=e.readUint32(),o=e.readUint32();this.bad_pixels.push(new p(n,o))}}),d.createFullBoxCtor("schm","SchemeTypeBox",function(e){this.scheme_type=e.readString(4),this.scheme_version=e.readUint32(),1&this.flags&&(this.scheme_uri=e.readString(this.size-this.hdr_size-8))}),d.createBoxCtor("sdp ","rtptracksdphintinformation",function(e){this.sdptext=e.readString(this.size-this.hdr_size)}),d.createFullBoxCtor("sdtp","SampleDependencyTypeBox",function(e){var t,r=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(var n=0;n<r;n++)t=e.readUint8(),this.is_leading[n]=t>>6,this.sample_depends_on[n]=t>>4&3,this.sample_is_depended_on[n]=t>>2&3,this.sample_has_redundancy[n]=3&t}),d.createFullBoxCtor("senc","SampleEncryptionBox"),d.createFullBoxCtor("sgpd","SampleGroupDescriptionBox",function(e){this.grouping_type=e.readString(4),o.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),1===this.version?this.default_length=e.readUint32():this.default_length=0,this.version>=2&&(this.default_group_description_index=e.readUint32()),this.entries=[];for(var t,r=e.readUint32(),n=0;n<r;n++)t=d[this.grouping_type+"SampleGroupEntry"]?new d[this.grouping_type+"SampleGroupEntry"](this.grouping_type):new d.SampleGroupEntry(this.grouping_type),this.entries.push(t),1===this.version&&0===this.default_length?t.description_length=e.readUint32():t.description_length=this.default_length,t.write===d.SampleGroupEntry.prototype.write&&(o.info("BoxParser","SampleGroup for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),t.data=e.readUint8Array(t.description_length),e.position-=t.description_length),t.parse(e)}),d.createFullBoxCtor("sidx","CompressedSegmentIndexBox",function(e){this.reference_ID=e.readUint32(),this.timescale=e.readUint32(),0===this.version?(this.earliest_presentation_time=e.readUint32(),this.first_offset=e.readUint32()):(this.earliest_presentation_time=e.readUint64(),this.first_offset=e.readUint64()),e.readUint16(),this.references=[];for(var t=e.readUint16(),r=0;r<t;r++){var n={};this.references.push(n);var o=e.readUint32();n.reference_type=o>>31&1,n.referenced_size=2147483647&o,n.subsegment_duration=e.readUint32(),o=e.readUint32(),n.starts_with_SAP=o>>31&1,n.SAP_type=o>>28&7,n.SAP_delta_time=268435455&o}}),d.SingleItemTypeReferenceBox=function(e,t,r,n){d.Box.call(this,e,t),this.hdr_size=r,this.start=n},d.SingleItemTypeReferenceBox.prototype=new d.Box,d.SingleItemTypeReferenceBox.prototype.parse=function(e){this.from_item_ID=e.readUint16();var t=e.readUint16();this.references=[];for(var r=0;r<t;r++)this.references[r]={},this.references[r].to_item_ID=e.readUint16()},d.SingleItemTypeReferenceBoxLarge=function(e,t,r,n){d.Box.call(this,e,t),this.hdr_size=r,this.start=n},d.SingleItemTypeReferenceBoxLarge.prototype=new d.Box,d.SingleItemTypeReferenceBoxLarge.prototype.parse=function(e){this.from_item_ID=e.readUint32();var t=e.readUint16();this.references=[];for(var r=0;r<t;r++)this.references[r]={},this.references[r].to_item_ID=e.readUint32()},d.createFullBoxCtor("SmDm","SMPTE2086MasteringDisplayMetadataBox",function(e){this.primaryRChromaticity_x=e.readUint16(),this.primaryRChromaticity_y=e.readUint16(),this.primaryGChromaticity_x=e.readUint16(),this.primaryGChromaticity_y=e.readUint16(),this.primaryBChromaticity_x=e.readUint16(),this.primaryBChromaticity_y=e.readUint16(),this.whitePointChromaticity_x=e.readUint16(),this.whitePointChromaticity_y=e.readUint16(),this.luminanceMax=e.readUint32(),this.luminanceMin=e.readUint32()}),d.createFullBoxCtor("smhd","SoundMediaHeaderBox",function(e){this.balance=e.readUint16(),e.readUint16()}),d.createFullBoxCtor("ssix","CompressedSubsegmentIndexBox",function(e){this.subsegments=[];for(var t=e.readUint32(),r=0;r<t;r++){var n={};this.subsegments.push(n),n.ranges=[];for(var o=e.readUint32(),s=0;s<o;s++){var a={};n.ranges.push(a),a.level=e.readUint8(),a.range_size=e.readUint24()}}}),d.createFullBoxCtor("stco","ChunkOffsetBox",function(e){var t;if(t=e.readUint32(),this.chunk_offsets=[],0===this.version)for(var r=0;r<t;r++)this.chunk_offsets.push(e.readUint32())}),d.createFullBoxCtor("stdp","DegradationPriorityBox",function(e){var t=(this.size-this.hdr_size)/2;this.priority=[];for(var r=0;r<t;r++)this.priority[r]=e.readUint16()}),d.createFullBoxCtor("sthd","SubtitleMediaHeaderBox"),d.createFullBoxCtor("stri","SubTrackInformationBox",function(e){this.switch_group=e.readUint16(),this.alternate_group=e.readUint16(),this.sub_track_id=e.readUint32();var t=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(var r=0;r<t;r++)this.attribute_list[r]=e.readUint32()}),d.createFullBoxCtor("stsc","SampleToChunkBox",function(e){var t,r;if(t=e.readUint32(),this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],0===this.version)for(r=0;r<t;r++)this.first_chunk.push(e.readUint32()),this.samples_per_chunk.push(e.readUint32()),this.sample_description_index.push(e.readUint32())}),d.createFullBoxCtor("stsd","SampleDescriptionBox",function(e){var t,r,n,s;for(t=1,this.entries=[],n=e.readUint32();t<=n;t++){if((r=d.parseOneBox(e,!0,this.size-(e.getPosition()-this.start))).code!==d.OK)return;d[r.type+"SampleEntry"]?((s=new d[r.type+"SampleEntry"](r.size)).hdr_size=r.hdr_size,s.start=r.start):(o.warn("BoxParser","Unknown sample entry type: "+r.type),s=new d.SampleEntry(r.type,r.size,r.hdr_size,r.start)),s.write===d.SampleEntry.prototype.write&&(o.info("BoxParser","SampleEntry "+s.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),s.parseDataAndRewind(e)),s.parse(e),this.entries.push(s)}}),d.createFullBoxCtor("stsg","SubTrackSampleGroupBox",function(e){this.grouping_type=e.readUint32();var t=e.readUint16();this.group_description_index=[];for(var r=0;r<t;r++)this.group_description_index[r]=e.readUint32()}),d.createFullBoxCtor("stsh","ShadowSyncSampleBox",function(e){var t,r;if(t=e.readUint32(),this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],0===this.version)for(r=0;r<t;r++)this.shadowed_sample_numbers.push(e.readUint32()),this.sync_sample_numbers.push(e.readUint32())}),d.createFullBoxCtor("stss","SyncSampleBox",function(e){var t,r;if(r=e.readUint32(),0===this.version)for(t=0,this.sample_numbers=[];t<r;t++)this.sample_numbers.push(e.readUint32())}),d.createFullBoxCtor("stsz","SampleSizeBox",function(e){var t;if(this.sample_sizes=[],0===this.version)for(t=0,this.sample_size=e.readUint32(),this.sample_count=e.readUint32();t<this.sample_count;t++)0===this.sample_size?this.sample_sizes.push(e.readUint32()):this.sample_sizes[t]=this.sample_size}),d.createFullBoxCtor("stts","TimeToSampleBox",function(e){var t,r,n;if(t=e.readUint32(),this.sample_counts=[],this.sample_deltas=[],0===this.version)for(r=0;r<t;r++)this.sample_counts.push(e.readUint32()),(n=e.readInt32())<0&&(o.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),n=1),this.sample_deltas.push(n)}),d.createFullBoxCtor("stvi","StereoVideoBox",function(e){var t,r,n=e.readUint32();this.single_view_allowed=3&n,this.stereo_scheme=e.readUint32();var o=e.readUint32();for(this.stereo_indication_type=e.readString(o),this.boxes=[];e.getPosition()<this.start+this.size;){if((t=d.parseOneBox(e,!1,this.size-(e.getPosition()-this.start))).code!==d.OK)return;r=t.box,this.boxes.push(r),this[r.type]=r}}),d.createBoxCtor("styp","SegmentTypeBox",function(e){d.ftypBox.prototype.parse.call(this,e)}),d.createFullBoxCtor("stz2","CompactSampleSizeBox",function(e){if(this.sample_sizes=[],0===this.version){if(this.reserved=e.readUint24(),this.field_size=e.readUint8(),r=e.readUint32(),4===this.field_size)for(t=0;t<r;t+=2){var t,r,n=e.readUint8();this.sample_sizes[t]=n>>4&15,this.sample_sizes[t+1]=15&n}else if(8===this.field_size)for(t=0;t<r;t++)this.sample_sizes[t]=e.readUint8();else if(16===this.field_size)for(t=0;t<r;t++)this.sample_sizes[t]=e.readUint16();else o.error("BoxParser","Error in length field in stz2 box")}}),d.createFullBoxCtor("subs","SubSampleInformationBox",function(e){for(t=0,n=e.readUint32(),this.entries=[];t<n;t++){var t,r,n,o,s={};if(this.entries[t]=s,s.sample_delta=e.readUint32(),s.subsamples=[],(o=e.readUint16())>0)for(r=0;r<o;r++){var a={};s.subsamples.push(a),1==this.version?a.size=e.readUint32():a.size=e.readUint16(),a.priority=e.readUint8(),a.discardable=e.readUint8(),a.codec_specific_parameters=e.readUint32()}}}),d.createFullBoxCtor("tenc","TrackEncryptionBox",function(e){if(e.readUint8(),0===this.version)e.readUint8();else{var t=e.readUint8();this.default_crypt_byte_block=t>>4&15,this.default_skip_byte_block=15&t}this.default_isProtected=e.readUint8(),this.default_Per_Sample_IV_Size=e.readUint8(),this.default_KID=d.parseHex16(e),1===this.default_isProtected&&0===this.default_Per_Sample_IV_Size&&(this.default_constant_IV_size=e.readUint8(),this.default_constant_IV=e.readUint8Array(this.default_constant_IV_size))}),d.createFullBoxCtor("tfdt","TrackFragmentBaseMediaDecodeTimeBox",function(e){1==this.version?this.baseMediaDecodeTime=e.readUint64():this.baseMediaDecodeTime=e.readUint32()}),d.createFullBoxCtor("tfhd","TrackFragmentHeaderBox",function(e){var t=0;this.track_id=e.readUint32(),this.size-this.hdr_size>t&&this.flags&d.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=e.readUint64(),t+=8):this.base_data_offset=0,this.size-this.hdr_size>t&&this.flags&d.TFHD_FLAG_SAMPLE_DESC?(this.default_sample_description_index=e.readUint32(),t+=4):this.default_sample_description_index=0,this.size-this.hdr_size>t&&this.flags&d.TFHD_FLAG_SAMPLE_DUR?(this.default_sample_duration=e.readUint32(),t+=4):this.default_sample_duration=0,this.size-this.hdr_size>t&&this.flags&d.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=e.readUint32(),t+=4):this.default_sample_size=0,this.size-this.hdr_size>t&&this.flags&d.TFHD_FLAG_SAMPLE_FLAGS?(this.default_sample_flags=e.readUint32(),t+=4):this.default_sample_flags=0}),d.createFullBoxCtor("tfra","TrackFragmentRandomAccessBox",function(e){this.track_ID=e.readUint32(),e.readUint24();var t=e.readUint8();this.length_size_of_traf_num=t>>4&3,this.length_size_of_trun_num=t>>2&3,this.length_size_of_sample_num=3&t,this.entries=[];for(var r=e.readUint32(),n=0;n<r;n++)1===this.version?(this.time=e.readUint64(),this.moof_offset=e.readUint64()):(this.time=e.readUint32(),this.moof_offset=e.readUint32()),this.traf_number=e["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=e["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=e["readUint"+8*(this.length_size_of_sample_num+1)]()}),d.createFullBoxCtor("tkhd","TrackHeaderBox",function(e){1==this.version?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.track_id=e.readUint32(),e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.track_id=e.readUint32(),e.readUint32(),this.duration=e.readUint32()),e.readUint32Array(2),this.layer=e.readInt16(),this.alternate_group=e.readInt16(),this.volume=e.readInt16()>>8,e.readUint16(),this.matrix=e.readInt32Array(9),this.width=e.readUint32(),this.height=e.readUint32()}),d.createBoxCtor("tmax","hintmaxrelativetime",function(e){this.time=e.readUint32()}),d.createBoxCtor("tmin","hintminrelativetime",function(e){this.time=e.readUint32()}),d.createBoxCtor("totl","hintBytesSent",function(e){this.bytessent=e.readUint32()}),d.createBoxCtor("tpay","hintBytesSent",function(e){this.bytessent=e.readUint32()}),d.createBoxCtor("tpyl","hintBytesSent",function(e){this.bytessent=e.readUint64()}),d.TrackGroupTypeBox.prototype.parse=function(e){this.parseFullHeader(e),this.track_group_id=e.readUint32()},d.createTrackGroupCtor("msrc"),d.TrackReferenceTypeBox=function(e,t,r,n){d.Box.call(this,e,t),this.hdr_size=r,this.start=n},d.TrackReferenceTypeBox.prototype=new d.Box,d.TrackReferenceTypeBox.prototype.parse=function(e){this.track_ids=e.readUint32Array((this.size-this.hdr_size)/4)},d.trefBox.prototype.parse=function(e){for(var t,r;e.getPosition()<this.start+this.size;){if((t=d.parseOneBox(e,!0,this.size-(e.getPosition()-this.start))).code!==d.OK)return;(r=new d.TrackReferenceTypeBox(t.type,t.size,t.hdr_size,t.start)).write===d.Box.prototype.write&&"mdat"!==r.type&&(o.info("BoxParser","TrackReference "+r.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),r.parseDataAndRewind(e)),r.parse(e),this.boxes.push(r)}},d.createFullBoxCtor("trep","TrackExtensionPropertiesBox",function(e){for(this.track_ID=e.readUint32(),this.boxes=[];e.getPosition()<this.start+this.size;){if((ret=d.parseOneBox(e,!1,this.size-(e.getPosition()-this.start))).code!==d.OK)return;box=ret.box,this.boxes.push(box)}}),d.createFullBoxCtor("trex","TrackExtendsBox",function(e){this.track_id=e.readUint32(),this.default_sample_description_index=e.readUint32(),this.default_sample_duration=e.readUint32(),this.default_sample_size=e.readUint32(),this.default_sample_flags=e.readUint32()}),d.createBoxCtor("trpy","hintBytesSent",function(e){this.bytessent=e.readUint64()}),d.createFullBoxCtor("trun","TrackRunBox",function(e){var t=0;if(this.sample_count=e.readUint32(),t+=4,this.size-this.hdr_size>t&&this.flags&d.TRUN_FLAGS_DATA_OFFSET?(this.data_offset=e.readInt32(),t+=4):this.data_offset=0,this.size-this.hdr_size>t&&this.flags&d.TRUN_FLAGS_FIRST_FLAG?(this.first_sample_flags=e.readUint32(),t+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>t)for(var r=0;r<this.sample_count;r++)this.flags&d.TRUN_FLAGS_DURATION&&(this.sample_duration[r]=e.readUint32()),this.flags&d.TRUN_FLAGS_SIZE&&(this.sample_size[r]=e.readUint32()),this.flags&d.TRUN_FLAGS_FLAGS&&(this.sample_flags[r]=e.readUint32()),this.flags&d.TRUN_FLAGS_CTS_OFFSET&&(0===this.version?this.sample_composition_time_offset[r]=e.readUint32():this.sample_composition_time_offset[r]=e.readInt32())}),d.createFullBoxCtor("tsel","TrackSelectionBox",function(e){this.switch_group=e.readUint32();var t=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(var r=0;r<t;r++)this.attribute_list[r]=e.readUint32()}),d.createFullBoxCtor("txtC","TextConfigBox",function(e){this.config=e.readCString()}),d.createBoxCtor("tyco","TypeCombinationBox",function(e){var t=(this.size-this.hdr_size)/4;this.compatible_brands=[];for(var r=0;r<t;r++)this.compatible_brands[r]=e.readString(4)}),d.createFullBoxCtor("udes","UserDescriptionProperty",function(e){this.lang=e.readCString(),this.name=e.readCString(),this.description=e.readCString(),this.tags=e.readCString()}),d.createFullBoxCtor("uncC","UncompressedFrameConfigBox",function(e){var t;if(this.profile=e.readString(4),1==this.version);else if(0==this.version){for(t=0,this.component_count=e.readUint32(),this.component_index=[],this.component_bit_depth_minus_one=[],this.component_format=[],this.component_align_size=[];t<this.component_count;t++)this.component_index.push(e.readUint16()),this.component_bit_depth_minus_one.push(e.readUint8()),this.component_format.push(e.readUint8()),this.component_align_size.push(e.readUint8());this.sampling_type=e.readUint8(),this.interleave_type=e.readUint8(),this.block_size=e.readUint8();var r=e.readUint8();this.component_little_endian=r>>7&1,this.block_pad_lsb=r>>6&1,this.block_little_endian=r>>5&1,this.block_reversed=r>>4&1,this.pad_unknown=r>>3&1,this.pixel_size=e.readUint32(),this.row_align_size=e.readUint32(),this.tile_align_size=e.readUint32(),this.num_tile_cols_minus_one=e.readUint32(),this.num_tile_rows_minus_one=e.readUint32()}}),d.createFullBoxCtor("url ","DataEntryUrlBox",function(e){1!==this.flags&&(this.location=e.readCString())}),d.createFullBoxCtor("urn ","DataEntryUrnBox",function(e){this.name=e.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=e.readCString())}),d.createUUIDBox("a5d40b30e81411ddba2f0800200c9a66","LiveServerManifestBox",!0,!1,function(e){this.LiveServerManifest=e.readString(this.size-this.hdr_size).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}),d.createUUIDBox("d08a4f1810f34a82b6c832d8aba183d3","PiffProtectionSystemSpecificHeaderBox",!0,!1,function(e){this.system_id=d.parseHex16(e);var t=e.readUint32();t>0&&(this.data=e.readUint8Array(t))}),d.createUUIDBox("a2394f525a9b4f14a2446c427c648df4","PiffSampleEncryptionBox",!0,!1),d.createUUIDBox("8974dbce7be74c5184f97148f9882554","PiffTrackEncryptionBox",!0,!1,function(e){this.default_AlgorithmID=e.readUint24(),this.default_IV_size=e.readUint8(),this.default_KID=d.parseHex16(e)}),d.createUUIDBox("d4807ef2ca3946958e5426cb9e46a79f","TfrfBox",!0,!1,function(e){this.fragment_count=e.readUint8(),this.entries=[];for(var t=0;t<this.fragment_count;t++){var r={},n=0,o=0;1===this.version?(n=e.readUint64(),o=e.readUint64()):(n=e.readUint32(),o=e.readUint32()),r.absolute_time=n,r.absolute_duration=o,this.entries.push(r)}}),d.createUUIDBox("6d1d9b0542d544e680e2141daff757b2","TfxdBox",!0,!1,function(e){1===this.version?(this.absolute_time=e.readUint64(),this.duration=e.readUint64()):(this.absolute_time=e.readUint32(),this.duration=e.readUint32())}),d.createFullBoxCtor("vmhd","VideoMediaHeaderBox",function(e){this.graphicsmode=e.readUint16(),this.opcolor=e.readUint16Array(3)}),d.createFullBoxCtor("vpcC","VPCodecConfigurationRecord",function(e){var t;1===this.version?(this.profile=e.readUint8(),this.level=e.readUint8(),t=e.readUint8(),this.bitDepth=t>>4,this.chromaSubsampling=t>>1&7,this.videoFullRangeFlag=1&t,this.colourPrimaries=e.readUint8(),this.transferCharacteristics=e.readUint8(),this.matrixCoefficients=e.readUint8()):(this.profile=e.readUint8(),this.level=e.readUint8(),t=e.readUint8(),this.bitDepth=t>>4&15,this.colorSpace=15&t,t=e.readUint8(),this.chromaSubsampling=t>>4&15,this.transferFunction=t>>1&7,this.videoFullRangeFlag=1&t),this.codecIntializationDataSize=e.readUint16(),this.codecIntializationData=e.readUint8Array(this.codecIntializationDataSize)}),d.createBoxCtor("vttC","WebVTTConfigurationBox",function(e){this.text=e.readString(this.size-this.hdr_size)}),d.createFullBoxCtor("vvcC","VvcConfigurationBox",function(e){var t,r,n={held_bits:void 0,num_held_bits:0,stream_read_1_bytes:function(e){this.held_bits=e.readUint8(),this.num_held_bits=8},stream_read_2_bytes:function(e){this.held_bits=e.readUint16(),this.num_held_bits=16},extract_bits:function(e){var t=this.held_bits>>this.num_held_bits-e&(1<<e)-1;return this.num_held_bits-=e,t}};if(n.stream_read_1_bytes(e),n.extract_bits(5),this.lengthSizeMinusOne=n.extract_bits(2),this.ptl_present_flag=n.extract_bits(1),this.ptl_present_flag){if(n.stream_read_2_bytes(e),this.ols_idx=n.extract_bits(9),this.num_sublayers=n.extract_bits(3),this.constant_frame_rate=n.extract_bits(2),this.chroma_format_idc=n.extract_bits(2),n.stream_read_1_bytes(e),this.bit_depth_minus8=n.extract_bits(3),n.extract_bits(5),n.stream_read_2_bytes(e),n.extract_bits(2),this.num_bytes_constraint_info=n.extract_bits(6),this.general_profile_idc=n.extract_bits(7),this.general_tier_flag=n.extract_bits(1),this.general_level_idc=e.readUint8(),n.stream_read_1_bytes(e),this.ptl_frame_only_constraint_flag=n.extract_bits(1),this.ptl_multilayer_enabled_flag=n.extract_bits(1),this.general_constraint_info=new Uint8Array(this.num_bytes_constraint_info),this.num_bytes_constraint_info){for(t=0;t<this.num_bytes_constraint_info-1;t++){var o=n.extract_bits(6);n.stream_read_1_bytes(e);var s=n.extract_bits(2);this.general_constraint_info[t]=o<<2|s}this.general_constraint_info[this.num_bytes_constraint_info-1]=n.extract_bits(6)}else n.extract_bits(6);if(this.num_sublayers>1){for(n.stream_read_1_bytes(e),this.ptl_sublayer_present_mask=0,r=this.num_sublayers-2;r>=0;--r){var a=n.extract_bits(1);this.ptl_sublayer_present_mask|=a<<r}for(r=this.num_sublayers;r<=8&&this.num_sublayers>1;++r)n.extract_bits(1);for(this.sublayer_level_idc=[],r=this.num_sublayers-2;r>=0;--r)this.ptl_sublayer_present_mask&1<<r&&(this.sublayer_level_idc[r]=e.readUint8())}if(this.ptl_num_sub_profiles=e.readUint8(),this.general_sub_profile_idc=[],this.ptl_num_sub_profiles)for(t=0;t<this.ptl_num_sub_profiles;t++)this.general_sub_profile_idc.push(e.readUint32());this.max_picture_width=e.readUint16(),this.max_picture_height=e.readUint16(),this.avg_frame_rate=e.readUint16()}this.nalu_arrays=[];var l=e.readUint8();for(t=0;t<l;t++){var u=[];this.nalu_arrays.push(u),n.stream_read_1_bytes(e),u.completeness=n.extract_bits(1),n.extract_bits(2),u.nalu_type=n.extract_bits(5);var d=1;for(13!=u.nalu_type&&12!=u.nalu_type&&(d=e.readUint16()),r=0;r<d;r++){var c=e.readUint16();u.push({data:e.readUint8Array(c),length:c})}}}),d.createFullBoxCtor("vvnC","VvcNALUConfigBox",function(e){var t=strm.readUint8();this.lengthSizeMinusOne=3&t}),d.SampleEntry.prototype.isVideo=function(){return!1},d.SampleEntry.prototype.isAudio=function(){return!1},d.SampleEntry.prototype.isSubtitle=function(){return!1},d.SampleEntry.prototype.isMetadata=function(){return!1},d.SampleEntry.prototype.isHint=function(){return!1},d.SampleEntry.prototype.getCodec=function(){return this.type.replace(".","")},d.SampleEntry.prototype.getWidth=function(){return""},d.SampleEntry.prototype.getHeight=function(){return""},d.SampleEntry.prototype.getChannelCount=function(){return""},d.SampleEntry.prototype.getSampleRate=function(){return""},d.SampleEntry.prototype.getSampleSize=function(){return""},d.VisualSampleEntry.prototype.isVideo=function(){return!0},d.VisualSampleEntry.prototype.getWidth=function(){return this.width},d.VisualSampleEntry.prototype.getHeight=function(){return this.height},d.AudioSampleEntry.prototype.isAudio=function(){return!0},d.AudioSampleEntry.prototype.getChannelCount=function(){return this.channel_count},d.AudioSampleEntry.prototype.getSampleRate=function(){return this.samplerate},d.AudioSampleEntry.prototype.getSampleSize=function(){return this.samplesize},d.SubtitleSampleEntry.prototype.isSubtitle=function(){return!0},d.MetadataSampleEntry.prototype.isMetadata=function(){return!0},d.decimalToHex=function(e,t){var r=Number(e).toString(16);for(t=null==t?t=2:t;r.length<t;)r="0"+r;return r},d.avc1SampleEntry.prototype.getCodec=d.avc2SampleEntry.prototype.getCodec=d.avc3SampleEntry.prototype.getCodec=d.avc4SampleEntry.prototype.getCodec=function(){var e=d.SampleEntry.prototype.getCodec.call(this);return this.avcC?e+"."+d.decimalToHex(this.avcC.AVCProfileIndication)+d.decimalToHex(this.avcC.profile_compatibility)+d.decimalToHex(this.avcC.AVCLevelIndication):e},d.hev1SampleEntry.prototype.getCodec=d.hvc1SampleEntry.prototype.getCodec=function(){var e,t=d.SampleEntry.prototype.getCodec.call(this);if(this.hvcC){switch(t+=".",this.hvcC.general_profile_space){case 0:t+="";break;case 1:t+="A";break;case 2:t+="B";break;case 3:t+="C"}t+=this.hvcC.general_profile_idc+".";var r=this.hvcC.general_profile_compatibility,n=0;for(e=0;e<32&&(n|=1&r,31!=e);e++)n<<=1,r>>=1;t+=d.decimalToHex(n,0)+".",0===this.hvcC.general_tier_flag?t+="L":t+="H",t+=this.hvcC.general_level_idc;var o=!1,s="";for(e=5;e>=0;e--)(this.hvcC.general_constraint_indicator[e]||o)&&(s="."+d.decimalToHex(this.hvcC.general_constraint_indicator[e],0)+s,o=!0);t+=s}return t},d.vvc1SampleEntry.prototype.getCodec=d.vvi1SampleEntry.prototype.getCodec=function(){var e=d.SampleEntry.prototype.getCodec.call(this);if(this.vvcC){e+="."+this.vvcC.general_profile_idc,this.vvcC.general_tier_flag?e+=".H":e+=".L",e+=this.vvcC.general_level_idc;var t="";if(this.vvcC.general_constraint_info){var r,n,o,s=[];for(n=0,r=0|this.vvcC.ptl_frame_only_constraint<<7|this.vvcC.ptl_multilayer_enabled<<6;n<this.vvcC.general_constraint_info.length;++n)r|=this.vvcC.general_constraint_info[n]>>2&63,s.push(r),r&&(o=n),r=this.vvcC.general_constraint_info[n]>>2&3;if(void 0===o)t=".CA";else{t=".C";var a="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",l=0,u=0;for(n=0;n<=o;++n)for(l=l<<8|s[n],u+=8;u>=5;)t+=a[l>>u-5&31],u-=5,l&=(1<<u)-1;u&&(l<<=5-u,t+=a[31&l])}}e+=t}return e},d.mp4aSampleEntry.prototype.getCodec=function(){var e=d.SampleEntry.prototype.getCodec.call(this);if(!this.esds||!this.esds.esd)return e;var t=this.esds.esd.getOTI(),r=this.esds.esd.getAudioConfig();return e+"."+d.decimalToHex(t)+(r?"."+r:"")},d.stxtSampleEntry.prototype.getCodec=function(){var e=d.SampleEntry.prototype.getCodec.call(this);return this.mime_format?e+"."+this.mime_format:e},d.vp08SampleEntry.prototype.getCodec=d.vp09SampleEntry.prototype.getCodec=function(){var e=d.SampleEntry.prototype.getCodec.call(this),t=this.vpcC.level;0==t&&(t="00");var r=this.vpcC.bitDepth;return 8==r&&(r="08"),e+".0"+this.vpcC.profile+"."+t+"."+r},d.av01SampleEntry.prototype.getCodec=function(){var e,t=d.SampleEntry.prototype.getCodec.call(this),r=this.av1C.seq_level_idx_0;return r<10&&(r="0"+r),2===this.av1C.seq_profile&&1===this.av1C.high_bitdepth?e=1===this.av1C.twelve_bit?"12":"10":this.av1C.seq_profile<=2&&(e=1===this.av1C.high_bitdepth?"10":"08"),t+"."+this.av1C.seq_profile+"."+r+(this.av1C.seq_tier_0?"H":"M")+"."+e},d.Box.prototype.writeHeader=function(e,t){this.size+=8,this.size>4294967296&&(this.size+=8),"uuid"===this.type&&(this.size+=16),o.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+e.getPosition()+(t||"")),this.size>4294967296?e.writeUint32(1):(this.sizePosition=e.getPosition(),e.writeUint32(this.size)),e.writeString(this.type,null,4),"uuid"===this.type&&e.writeUint8Array(this.uuid),this.size>4294967296&&e.writeUint64(this.size)},d.FullBox.prototype.writeHeader=function(e){this.size+=4,d.Box.prototype.writeHeader.call(this,e," v="+this.version+" f="+this.flags),e.writeUint8(this.version),e.writeUint24(this.flags)},d.Box.prototype.write=function(e){"mdat"===this.type?this.data&&(this.size=this.data.length,this.writeHeader(e),e.writeUint8Array(this.data)):(this.size=this.data?this.data.length:0,this.writeHeader(e),this.data&&e.writeUint8Array(this.data))},d.ContainerBox.prototype.write=function(e){this.size=0,this.writeHeader(e);for(var t=0;t<this.boxes.length;t++)this.boxes[t]&&(this.boxes[t].write(e),this.size+=this.boxes[t].size);o.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},d.TrackReferenceTypeBox.prototype.write=function(e){this.size=4*this.track_ids.length,this.writeHeader(e),e.writeUint32Array(this.track_ids)},d.avcCBox.prototype.write=function(e){var t;for(t=0,this.size=7;t<this.SPS.length;t++)this.size+=2+this.SPS[t].length;for(t=0;t<this.PPS.length;t++)this.size+=2+this.PPS[t].length;for(this.ext&&(this.size+=this.ext.length),this.writeHeader(e),e.writeUint8(this.configurationVersion),e.writeUint8(this.AVCProfileIndication),e.writeUint8(this.profile_compatibility),e.writeUint8(this.AVCLevelIndication),e.writeUint8(this.lengthSizeMinusOne+252),e.writeUint8(this.SPS.length+224),t=0;t<this.SPS.length;t++)e.writeUint16(this.SPS[t].length),e.writeUint8Array(this.SPS[t].nalu);for(e.writeUint8(this.PPS.length),t=0;t<this.PPS.length;t++)e.writeUint16(this.PPS[t].length),e.writeUint8Array(this.PPS[t].nalu);this.ext&&e.writeUint8Array(this.ext)},d.co64Box.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(e),e.writeUint32(this.chunk_offsets.length),t=0;t<this.chunk_offsets.length;t++)e.writeUint64(this.chunk_offsets[t])},d.cslgBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=20,this.writeHeader(e),e.writeInt32(this.compositionToDTSShift),e.writeInt32(this.leastDecodeToDisplayDelta),e.writeInt32(this.greatestDecodeToDisplayDelta),e.writeInt32(this.compositionStartTime),e.writeInt32(this.compositionEndTime)},d.cttsBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(e),e.writeUint32(this.sample_counts.length),t=0;t<this.sample_counts.length;t++)e.writeUint32(this.sample_counts[t]),1===this.version?e.writeInt32(this.sample_offsets[t]):e.writeUint32(this.sample_offsets[t])},d.drefBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.entries.length);for(var t=0;t<this.entries.length;t++)this.entries[t].write(e),this.size+=this.entries[t].size;o.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},d.elngBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(e),e.writeString(this.extended_language)},d.elstBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4+12*this.entries.length,this.writeHeader(e),e.writeUint32(this.entries.length);for(var t=0;t<this.entries.length;t++){var r=this.entries[t];e.writeUint32(r.segment_duration),e.writeInt32(r.media_time),e.writeInt16(r.media_rate_integer),e.writeInt16(r.media_rate_fraction)}},d.emsgBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=16+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(e),e.writeCString(this.scheme_id_uri),e.writeCString(this.value),e.writeUint32(this.timescale),e.writeUint32(this.presentation_time_delta),e.writeUint32(this.event_duration),e.writeUint32(this.id),e.writeUint8Array(this.message_data)},d.ftypBox.prototype.write=function(e){this.size=8+4*this.compatible_brands.length,this.writeHeader(e),e.writeString(this.major_brand,null,4),e.writeUint32(this.minor_version);for(var t=0;t<this.compatible_brands.length;t++)e.writeString(this.compatible_brands[t],null,4)},d.hdlrBox.prototype.write=function(e){this.size=20+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(e),e.writeUint32(0),e.writeString(this.handler,null,4),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeCString(this.name)},d.hvcCBox.prototype.write=function(e){var t,r;for(t=0,this.size=23;t<this.nalu_arrays.length;t++)for(this.size+=3,r=0;r<this.nalu_arrays[t].length;r++)this.size+=2+this.nalu_arrays[t][r].data.length;for(this.writeHeader(e),e.writeUint8(this.configurationVersion),e.writeUint8((this.general_profile_space<<6)+(this.general_tier_flag<<5)+this.general_profile_idc),e.writeUint32(this.general_profile_compatibility),e.writeUint8Array(this.general_constraint_indicator),e.writeUint8(this.general_level_idc),e.writeUint16(this.min_spatial_segmentation_idc+251658240),e.writeUint8(this.parallelismType+252),e.writeUint8(this.chroma_format_idc+252),e.writeUint8(this.bit_depth_luma_minus8+248),e.writeUint8(this.bit_depth_chroma_minus8+248),e.writeUint16(this.avgFrameRate),e.writeUint8((this.constantFrameRate<<6)+(this.numTemporalLayers<<3)+(this.temporalIdNested<<2)+this.lengthSizeMinusOne),e.writeUint8(this.nalu_arrays.length),t=0;t<this.nalu_arrays.length;t++)for(e.writeUint8((this.nalu_arrays[t].completeness<<7)+this.nalu_arrays[t].nalu_type),e.writeUint16(this.nalu_arrays[t].length),r=0;r<this.nalu_arrays[t].length;r++)e.writeUint16(this.nalu_arrays[t][r].data.length),e.writeUint8Array(this.nalu_arrays[t][r].data)},d.kindBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value.length+1),this.writeHeader(e),e.writeCString(this.schemeURI),e.writeCString(this.value)},d.mdhdBox.prototype.write=function(e){this.size=20,this.flags=0,this.version=0,this.writeHeader(e),e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.timescale),e.writeUint32(this.duration),e.writeUint16(this.language),e.writeUint16(0)},d.mehdBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.fragment_duration)},d.mfhdBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.sequence_number)},d.mvhdBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=96,this.writeHeader(e),e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.timescale),e.writeUint32(this.duration),e.writeUint32(this.rate),e.writeUint16(this.volume<<8),e.writeUint16(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32Array(this.matrix),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(this.next_track_id)},d.SampleEntry.prototype.writeHeader=function(e){this.size=8,d.Box.prototype.writeHeader.call(this,e),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint16(this.data_reference_index)},d.SampleEntry.prototype.writeFooter=function(e){for(var t=0;t<this.boxes.length;t++)this.boxes[t].write(e),this.size+=this.boxes[t].size;o.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},d.SampleEntry.prototype.write=function(e){this.writeHeader(e),e.writeUint8Array(this.data),this.size+=this.data.length,o.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},d.VisualSampleEntry.prototype.write=function(e){this.writeHeader(e),this.size+=70,e.writeUint16(0),e.writeUint16(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint16(this.width),e.writeUint16(this.height),e.writeUint32(this.horizresolution),e.writeUint32(this.vertresolution),e.writeUint32(0),e.writeUint16(this.frame_count),e.writeUint8(Math.min(31,this.compressorname.length)),e.writeString(this.compressorname,null,31),e.writeUint16(this.depth),e.writeInt16(-1),this.writeFooter(e)},d.AudioSampleEntry.prototype.write=function(e){this.writeHeader(e),this.size+=20,e.writeUint32(0),e.writeUint32(0),e.writeUint16(this.channel_count),e.writeUint16(this.samplesize),e.writeUint16(0),e.writeUint16(0),e.writeUint32(this.samplerate<<16),this.writeFooter(e)},d.stppSampleEntry.prototype.write=function(e){this.writeHeader(e),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,e.writeCString(this.namespace),e.writeCString(this.schema_location),e.writeCString(this.auxiliary_mime_types),this.writeFooter(e)},d.SampleGroupEntry.prototype.write=function(e){e.writeUint8Array(this.data)},d.sbgpBox.prototype.write=function(e){this.version=1,this.flags=0,this.size=12+8*this.entries.length,this.writeHeader(e),e.writeString(this.grouping_type,null,4),e.writeUint32(this.grouping_type_parameter),e.writeUint32(this.entries.length);for(var t=0;t<this.entries.length;t++){var r=this.entries[t];e.writeInt32(r.sample_count),e.writeInt32(r.group_description_index)}},d.sgpdBox.prototype.write=function(e){var t,r;for(t=0,this.flags=0,this.size=12;t<this.entries.length;t++)r=this.entries[t],1===this.version&&(0===this.default_length&&(this.size+=4),this.size+=r.data.length);for(this.writeHeader(e),e.writeString(this.grouping_type,null,4),1===this.version&&e.writeUint32(this.default_length),this.version>=2&&e.writeUint32(this.default_sample_description_index),e.writeUint32(this.entries.length),t=0;t<this.entries.length;t++)r=this.entries[t],1===this.version&&0===this.default_length&&e.writeUint32(r.description_length),r.write(e)},d.sidxBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=20+12*this.references.length,this.writeHeader(e),e.writeUint32(this.reference_ID),e.writeUint32(this.timescale),e.writeUint32(this.earliest_presentation_time),e.writeUint32(this.first_offset),e.writeUint16(0),e.writeUint16(this.references.length);for(var t=0;t<this.references.length;t++){var r=this.references[t];e.writeUint32(r.reference_type<<31|r.referenced_size),e.writeUint32(r.subsegment_duration),e.writeUint32(r.starts_with_SAP<<31|r.SAP_type<<28|r.SAP_delta_time)}},d.smhdBox.prototype.write=function(e){this.version=0,this.flags=1,this.size=4,this.writeHeader(e),e.writeUint16(this.balance),e.writeUint16(0)},d.stcoBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(e),e.writeUint32(this.chunk_offsets.length),e.writeUint32Array(this.chunk_offsets)},d.stscBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(e),e.writeUint32(this.first_chunk.length),t=0;t<this.first_chunk.length;t++)e.writeUint32(this.first_chunk[t]),e.writeUint32(this.samples_per_chunk[t]),e.writeUint32(this.sample_description_index[t])},d.stsdBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=0,this.writeHeader(e),e.writeUint32(this.entries.length),this.size+=4,t=0;t<this.entries.length;t++)this.entries[t].write(e),this.size+=this.entries[t].size;o.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},d.stshBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(e),e.writeUint32(this.shadowed_sample_numbers.length),t=0;t<this.shadowed_sample_numbers.length;t++)e.writeUint32(this.shadowed_sample_numbers[t]),e.writeUint32(this.sync_sample_numbers[t])},d.stssBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(e),e.writeUint32(this.sample_numbers.length),e.writeUint32Array(this.sample_numbers)},d.stszBox.prototype.write=function(e){var t,r=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0)for(t=0;t+1<this.sample_sizes.length;){if(this.sample_sizes[t+1]!==this.sample_sizes[0]){r=!1;break}t++}else r=!1;this.size=8,r||(this.size+=4*this.sample_sizes.length),this.writeHeader(e),r?e.writeUint32(this.sample_sizes[0]):e.writeUint32(0),e.writeUint32(this.sample_sizes.length),r||e.writeUint32Array(this.sample_sizes)},d.sttsBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(e),e.writeUint32(this.sample_counts.length),t=0;t<this.sample_counts.length;t++)e.writeUint32(this.sample_counts[t]),e.writeUint32(this.sample_deltas[t])},d.tfdtBox.prototype.write=function(e){this.version=this.baseMediaDecodeTime>4294967295?1:0,this.flags=0,this.size=4,1===this.version&&(this.size+=4),this.writeHeader(e),1===this.version?e.writeUint64(this.baseMediaDecodeTime):e.writeUint32(this.baseMediaDecodeTime)},d.tfhdBox.prototype.write=function(e){this.version=0,this.size=4,this.flags&d.TFHD_FLAG_BASE_DATA_OFFSET&&(this.size+=8),this.flags&d.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this.flags&d.TFHD_FLAG_SAMPLE_DUR&&(this.size+=4),this.flags&d.TFHD_FLAG_SAMPLE_SIZE&&(this.size+=4),this.flags&d.TFHD_FLAG_SAMPLE_FLAGS&&(this.size+=4),this.writeHeader(e),e.writeUint32(this.track_id),this.flags&d.TFHD_FLAG_BASE_DATA_OFFSET&&e.writeUint64(this.base_data_offset),this.flags&d.TFHD_FLAG_SAMPLE_DESC&&e.writeUint32(this.default_sample_description_index),this.flags&d.TFHD_FLAG_SAMPLE_DUR&&e.writeUint32(this.default_sample_duration),this.flags&d.TFHD_FLAG_SAMPLE_SIZE&&e.writeUint32(this.default_sample_size),this.flags&d.TFHD_FLAG_SAMPLE_FLAGS&&e.writeUint32(this.default_sample_flags)},d.tkhdBox.prototype.write=function(e){this.version=0,this.size=80,this.writeHeader(e),e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.track_id),e.writeUint32(0),e.writeUint32(this.duration),e.writeUint32(0),e.writeUint32(0),e.writeInt16(this.layer),e.writeInt16(this.alternate_group),e.writeInt16(this.volume<<8),e.writeUint16(0),e.writeInt32Array(this.matrix),e.writeUint32(this.width),e.writeUint32(this.height)},d.trexBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=20,this.writeHeader(e),e.writeUint32(this.track_id),e.writeUint32(this.default_sample_description_index),e.writeUint32(this.default_sample_duration),e.writeUint32(this.default_sample_size),e.writeUint32(this.default_sample_flags)},d.trunBox.prototype.write=function(e){this.version=0,this.size=4,this.flags&d.TRUN_FLAGS_DATA_OFFSET&&(this.size+=4),this.flags&d.TRUN_FLAGS_FIRST_FLAG&&(this.size+=4),this.flags&d.TRUN_FLAGS_DURATION&&(this.size+=4*this.sample_duration.length),this.flags&d.TRUN_FLAGS_SIZE&&(this.size+=4*this.sample_size.length),this.flags&d.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags.length),this.flags&d.TRUN_FLAGS_CTS_OFFSET&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(e),e.writeUint32(this.sample_count),this.flags&d.TRUN_FLAGS_DATA_OFFSET&&(this.data_offset_position=e.getPosition(),e.writeInt32(this.data_offset)),this.flags&d.TRUN_FLAGS_FIRST_FLAG&&e.writeUint32(this.first_sample_flags);for(var t=0;t<this.sample_count;t++)this.flags&d.TRUN_FLAGS_DURATION&&e.writeUint32(this.sample_duration[t]),this.flags&d.TRUN_FLAGS_SIZE&&e.writeUint32(this.sample_size[t]),this.flags&d.TRUN_FLAGS_FLAGS&&e.writeUint32(this.sample_flags[t]),this.flags&d.TRUN_FLAGS_CTS_OFFSET&&(0===this.version?e.writeUint32(this.sample_composition_time_offset[t]):e.writeInt32(this.sample_composition_time_offset[t]))},d["url Box"].prototype.write=function(e){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(e),this.location&&e.writeCString(this.location)},d["urn Box"].prototype.write=function(e){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(e),e.writeCString(this.name),this.location&&e.writeCString(this.location)},d.vmhdBox.prototype.write=function(e){this.version=0,this.flags=1,this.size=8,this.writeHeader(e),e.writeUint16(this.graphicsmode),e.writeUint16Array(this.opcolor)},d.cttsBox.prototype.unpack=function(e){var t,r,n;for(t=0,n=0;t<this.sample_counts.length;t++)for(r=0;r<this.sample_counts[t];r++)e[n].pts=e[n].dts+this.sample_offsets[t],n++},d.sttsBox.prototype.unpack=function(e){var t,r,n;for(t=0,n=0;t<this.sample_counts.length;t++)for(r=0;r<this.sample_counts[t];r++)0===n?e[n].dts=0:e[n].dts=e[n-1].dts+this.sample_deltas[t],n++},d.stcoBox.prototype.unpack=function(e){var t;for(t=0;t<this.chunk_offsets.length;t++)e[t].offset=this.chunk_offsets[t]},d.stscBox.prototype.unpack=function(e){var t,r,n,o,s;for(t=0,o=0,s=0;t<this.first_chunk.length;t++)for(r=0;r<(t+1<this.first_chunk.length?this.first_chunk[t+1]:1/0);r++)for(s++,n=0;n<this.samples_per_chunk[t];n++){if(!e[o])return;e[o].description_index=this.sample_description_index[t],e[o].chunk_index=s,o++}},d.stszBox.prototype.unpack=function(e){var t;for(t=0;t<this.sample_sizes.length;t++)e[t].size=this.sample_sizes[t]},d.DIFF_BOXES_PROP_NAMES=["boxes","entries","references","subsamples","items","item_infos","extents","associations","subsegments","ranges","seekLists","seekPoints","esd","levels"],d.DIFF_PRIMITIVE_ARRAY_PROP_NAMES=["compatible_brands","matrix","opcolor","sample_counts","sample_deltas","first_chunk","samples_per_chunk","sample_sizes","chunk_offsets","sample_offsets","sample_description_index","sample_duration"],d.boxEqualFields=function(e,t){var r;if(e&&!t)return!1;for(r in e)if(!(d.DIFF_BOXES_PROP_NAMES.indexOf(r)>-1)){if(e[r]instanceof d.Box||t[r]instanceof d.Box)continue;if(void 0===e[r]||void 0===t[r]||"function"==typeof e[r]||"function"==typeof t[r]||e.subBoxNames&&e.subBoxNames.indexOf(r.slice(0,4))>-1||t.subBoxNames&&t.subBoxNames.indexOf(r.slice(0,4))>-1||"data"===r||"start"===r||"size"===r||"creation_time"===r||"modification_time"===r||d.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(r)>-1)continue;if(e[r]!==t[r])return!1}return!0},d.boxEqual=function(e,t){if(!d.boxEqualFields(e,t))return!1;for(var r=0;r<d.DIFF_BOXES_PROP_NAMES.length;r++){var n=d.DIFF_BOXES_PROP_NAMES[r];if(e[n]&&t[n]&&!d.boxEqual(e[n],t[n]))return!1}return!0};var f=function(){};f.prototype.parseSample=function(e){var t,r,n=new s(e.buffer);for(t=[];!n.isEos();)(r=d.parseOneBox(n,!1)).code===d.OK&&"vttc"===r.box.type&&t.push(r.box);return t},f.prototype.getText=function(e,t,r){function n(e,t,r){return r=r||"0",(e+="").length>=t?e:Array(t-e.length+1).join(r)+e}function o(e){var t=Math.floor(e/3600),r=Math.floor((e-3600*t)/60),o=Math.floor(e-3600*t-60*r);return""+n(t,2)+":"+n(r,2)+":"+n(o,2)+"."+n(Math.floor((e-3600*t-60*r-o)*1e3),3)}for(var s=this.parseSample(r),a="",l=0;l<s.length;l++){var u=s[l];a+=o(e)+" --> "+o(t)+"\r\n"+u.payl.text}return a};var m=function(){};m.prototype.parseSample=function(e){var t,r={};r.resources=[];var n=new s(e.data.buffer);if(e.subsamples&&0!==e.subsamples.length){if(r.documentString=n.readString(e.subsamples[0].size),e.subsamples.length>1)for(t=1;t<e.subsamples.length;t++)r.resources[t]=n.readUint8Array(e.subsamples[t].size)}else r.documentString=n.readString(e.data.length);return"undefined"!=typeof DOMParser&&(r.document=new DOMParser().parseFromString(r.documentString,"application/xml")),r};var g=function(){};g.prototype.parseSample=function(e){return new s(e.data.buffer).readString(e.data.length)},g.prototype.parseConfig=function(e){var t=new s(e.buffer);return t.readUint32(),t.readCString()},t.VTTin4Parser=f,t.XMLSubtitlein4Parser=m,t.Textin4Parser=g;var y=function(e){this.stream=e||new l,this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.onMoovStart=null,this.moovStartSent=!1,this.onReady=null,this.readySent=!1,this.onSegment=null,this.onSamples=null,this.onError=null,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.items=[],this.entity_groups=[],this.onSidx=null,this.sidxSent=!1};y.prototype.setSegmentOptions=function(e,t,r){var n=this.getTrackById(e);if(n){var o={};this.fragmentedTracks.push(o),o.id=e,o.user=t,o.trak=n,n.nextSample=0,o.segmentStream=null,o.nb_samples=1e3,o.rapAlignement=!0,r&&(r.nbSamples&&(o.nb_samples=r.nbSamples),r.rapAlignement&&(o.rapAlignement=r.rapAlignement))}},y.prototype.unsetSegmentOptions=function(e){for(var t=-1,r=0;r<this.fragmentedTracks.length;r++)this.fragmentedTracks[r].id==e&&(t=r);t>-1&&this.fragmentedTracks.splice(t,1)},y.prototype.setExtractionOptions=function(e,t,r){var n=this.getTrackById(e);if(n){var o={};this.extractedTracks.push(o),o.id=e,o.user=t,o.trak=n,n.nextSample=0,o.nb_samples=1e3,o.samples=[],r&&r.nbSamples&&(o.nb_samples=r.nbSamples)}},y.prototype.unsetExtractionOptions=function(e){for(var t=-1,r=0;r<this.extractedTracks.length;r++)this.extractedTracks[r].id==e&&(t=r);t>-1&&this.extractedTracks.splice(t,1)},y.prototype.parse=function(){var e,t,r;if(!this.restoreParsePosition||this.restoreParsePosition())for(;;){if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}if(this.saveParsePosition&&this.saveParsePosition(),(e=d.parseOneBox(this.stream,!1)).code===d.ERR_NOT_ENOUGH_DATA){if(!this.processIncompleteBox)return;if(this.processIncompleteBox(e))continue;return}switch(r="uuid"!==(t=e.box).type?t.type:t.uuid,this.boxes.push(t),r){case"mdat":this.mdats.push(t);break;case"moof":this.moofs.push(t);break;case"moov":this.moovStartFound=!0,0===this.mdats.length&&(this.isProgressive=!0);default:void 0!==this[r]&&o.warn("ISOFile","Duplicate Box of type: "+r+", overriding previous occurrence"),this[r]=t}this.updateUsedBytes&&this.updateUsedBytes(t,e)}},y.prototype.checkBuffer=function(e){if(null==e)throw"Buffer must be defined and non empty";if(void 0===e.fileStart)throw"Buffer must have a fileStart property";return 0===e.byteLength?(o.warn("ISOFile","Ignoring empty buffer (fileStart: "+e.fileStart+")"),this.stream.logBufferLevel(),!1):(o.info("ISOFile","Processing buffer (fileStart: "+e.fileStart+")"),e.usedBytes=0,this.stream.insertBuffer(e),this.stream.logBufferLevel(),!!this.stream.initialized()||(o.warn("ISOFile","Not ready to start parsing"),!1))},y.prototype.appendBuffer=function(e,t){var r;if(this.checkBuffer(e))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(t),this.nextSeekPosition?(r=this.nextSeekPosition,this.nextSeekPosition=void 0):r=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(r=this.stream.getEndFilePositionAfter(r))):r=this.nextParsePosition?this.nextParsePosition:0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems&&this.processItems(this.onItem)),this.stream.cleanBuffers&&(o.info("ISOFile","Done processing buffer (fileStart: "+e.fileStart+") - next buffer to fetch should have a fileStart position of "+r),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),o.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize())),r},y.prototype.getInfo=function(){var e,t,r,n,o,s,a={},l=new Date("1904-01-01T00:00:00Z").getTime();if(this.moov)for(a.hasMoov=!0,a.duration=this.moov.mvhd.duration,a.timescale=this.moov.mvhd.timescale,a.isFragmented=null!=this.moov.mvex,a.isFragmented&&this.moov.mvex.mehd&&(a.fragment_duration=this.moov.mvex.mehd.fragment_duration),a.isProgressive=this.isProgressive,a.hasIOD=null!=this.moov.iods,a.brands=[],a.brands.push(this.ftyp.major_brand),a.brands=a.brands.concat(this.ftyp.compatible_brands),a.created=new Date(l+1e3*this.moov.mvhd.creation_time),a.modified=new Date(l+1e3*this.moov.mvhd.modification_time),a.tracks=[],a.audioTracks=[],a.videoTracks=[],a.subtitleTracks=[],a.metadataTracks=[],a.hintTracks=[],a.otherTracks=[],e=0;e<this.moov.traks.length;e++){if(s=(r=this.moov.traks[e]).mdia.minf.stbl.stsd.entries[0],n={},a.tracks.push(n),n.id=r.tkhd.track_id,n.name=r.mdia.hdlr.name,n.references=[],r.tref)for(t=0;t<r.tref.boxes.length;t++)o={},n.references.push(o),o.type=r.tref.boxes[t].type,o.track_ids=r.tref.boxes[t].track_ids;r.edts&&(n.edits=r.edts.elst.entries),n.created=new Date(l+1e3*r.tkhd.creation_time),n.modified=new Date(l+1e3*r.tkhd.modification_time),n.movie_duration=r.tkhd.duration,n.movie_timescale=a.timescale,n.layer=r.tkhd.layer,n.alternate_group=r.tkhd.alternate_group,n.volume=r.tkhd.volume,n.matrix=r.tkhd.matrix,n.track_width=r.tkhd.width/65536,n.track_height=r.tkhd.height/65536,n.timescale=r.mdia.mdhd.timescale,n.cts_shift=r.mdia.minf.stbl.cslg,n.duration=r.mdia.mdhd.duration,n.samples_duration=r.samples_duration,n.codec=s.getCodec(),n.kind=r.udta&&r.udta.kinds.length?r.udta.kinds[0]:{schemeURI:"",value:""},n.language=r.mdia.elng?r.mdia.elng.extended_language:r.mdia.mdhd.languageString,n.nb_samples=r.samples.length,n.size=r.samples_size,n.bitrate=8*n.size*n.timescale/n.samples_duration,s.isAudio()?(n.type="audio",a.audioTracks.push(n),n.audio={},n.audio.sample_rate=s.getSampleRate(),n.audio.channel_count=s.getChannelCount(),n.audio.sample_size=s.getSampleSize()):s.isVideo()?(n.type="video",a.videoTracks.push(n),n.video={},n.video.width=s.getWidth(),n.video.height=s.getHeight()):s.isSubtitle()?(n.type="subtitles",a.subtitleTracks.push(n)):s.isHint()?(n.type="metadata",a.hintTracks.push(n)):s.isMetadata()?(n.type="metadata",a.metadataTracks.push(n)):(n.type="metadata",a.otherTracks.push(n))}else a.hasMoov=!1;if(a.mime="",a.hasMoov&&a.tracks){for(a.videoTracks&&a.videoTracks.length>0?a.mime+='video/mp4; codecs="':a.audioTracks&&a.audioTracks.length>0?a.mime+='audio/mp4; codecs="':a.mime+='application/mp4; codecs="',e=0;e<a.tracks.length;e++)0!==e&&(a.mime+=","),a.mime+=a.tracks[e].codec;a.mime+='"; profiles="',a.mime+=this.ftyp.compatible_brands.join(),a.mime+='"'}return a},y.prototype.setNextSeekPositionFromSample=function(e){e&&(this.nextSeekPosition?this.nextSeekPosition=Math.min(e.offset+e.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=e.offset+e.alreadyRead)},y.prototype.processSamples=function(e){if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&null!==this.onSegment)for(t=0;t<this.fragmentedTracks.length;t++){var t,r,n=this.fragmentedTracks[t];for(r=n.trak;r.nextSample<r.samples.length&&this.sampleProcessingStarted;){o.debug("ISOFile","Creating media fragment on track #"+n.id+" for sample "+r.nextSample);var s=this.createFragment(n.id,r.nextSample,n.segmentStream);if(s)n.segmentStream=s,r.nextSample++;else break;if((r.nextSample%n.nb_samples==0||e||r.nextSample>=r.samples.length)&&(o.info("ISOFile","Sending fragmented data on track #"+n.id+" for samples ["+Math.max(0,r.nextSample-n.nb_samples)+","+(r.nextSample-1)+"]"),o.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(n.id,n.user,n.segmentStream.buffer,r.nextSample,e||r.nextSample>=r.samples.length),n.segmentStream=null,n!==this.fragmentedTracks[t]))break}}if(null!==this.onSamples)for(t=0;t<this.extractedTracks.length;t++){var a=this.extractedTracks[t];for(r=a.trak;r.nextSample<r.samples.length&&this.sampleProcessingStarted;){o.debug("ISOFile","Exporting on track #"+a.id+" sample #"+r.nextSample);var l=this.getSample(r,r.nextSample);if(l)r.nextSample++,a.samples.push(l);else{this.setNextSeekPositionFromSample(r.samples[r.nextSample]);break}if((r.nextSample%a.nb_samples==0||r.nextSample>=r.samples.length)&&(o.debug("ISOFile","Sending samples on track #"+a.id+" for sample "+r.nextSample),this.onSamples&&this.onSamples(a.id,a.user,a.samples),a.samples=[],a!==this.extractedTracks[t]))break}}}},y.prototype.getBox=function(e){var t=this.getBoxes(e,!0);return t.length?t[0]:null},y.prototype.getBoxes=function(e,t){var r=[];return y._sweep.call(this,e,r,t),r},y._sweep=function(e,t,r){for(var n in this.type&&this.type==e&&t.push(this),this.boxes){if(t.length&&r)return;y._sweep.call(this.boxes[n],e,t,r)}},y.prototype.getTrackSamplesInfo=function(e){var t=this.getTrackById(e);return t?t.samples:void 0},y.prototype.getTrackSample=function(e,t){var r=this.getTrackById(e);return this.getSample(r,t)},y.prototype.releaseUsedSamples=function(e,t){var r=0,n=this.getTrackById(e);n.lastValidSample||(n.lastValidSample=0);for(var s=n.lastValidSample;s<t;s++)r+=this.releaseSample(n,s);o.info("ISOFile","Track #"+e+" released samples up to "+t+" (released size: "+r+", remaining: "+this.samplesDataSize+")"),n.lastValidSample=t},y.prototype.start=function(){this.sampleProcessingStarted=!0,this.processSamples(!1)},y.prototype.stop=function(){this.sampleProcessingStarted=!1},y.prototype.flush=function(){o.info("ISOFile","Flushing remaining samples"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)},y.prototype.seekTrack=function(e,t,r){var n,s,a,l=1/0,u=0,d=0;if(0===r.samples.length)return o.info("ISOFile","No sample in track, cannot seek! Using time "+o.getDurationString(0,1)+" and offset: 0"),{offset:0,time:0};for(n=0;n<r.samples.length;n++){if(s=r.samples[n],0===n)d=0,a=s.timescale;else if(s.cts>e*s.timescale){d=n-1;break}t&&s.is_sync&&(u=n)}for(t&&(d=u),e=r.samples[d].cts,r.nextSample=d;r.samples[d].alreadyRead===r.samples[d].size&&r.samples[d+1];)d++;return l=r.samples[d].offset+r.samples[d].alreadyRead,o.info("ISOFile","Seeking to "+(t?"RAP":"")+" sample #"+r.nextSample+" on track "+r.tkhd.track_id+", time "+o.getDurationString(e,a)+" and offset: "+l),{offset:l,time:e/a}},y.prototype.getTrackDuration=function(e){var t;return e.samples?((t=e.samples[e.samples.length-1]).cts+t.duration)/t.timescale:1/0},y.prototype.seek=function(e,t){var r,n,s,a=this.moov,l={offset:1/0,time:1/0};if(this.moov){for(s=0;s<a.traks.length;s++)r=a.traks[s],!(e>this.getTrackDuration(r))&&((n=this.seekTrack(e,t,r)).offset<l.offset&&(l.offset=n.offset),n.time<l.time&&(l.time=n.time));return o.info("ISOFile","Seeking at time "+o.getDurationString(l.time,1)+" needs a buffer with a fileStart position of "+l.offset),l.offset===1/0?l={offset:this.nextParsePosition,time:0}:l.offset=this.stream.getEndFilePositionAfter(l.offset),o.info("ISOFile","Adjusted seek position (after checking data already in buffer): "+l.offset),l}throw"Cannot seek: moov not received!"},y.prototype.equal=function(e){for(var t=0;t<this.boxes.length&&t<e.boxes.length;){var r=this.boxes[t],n=e.boxes[t];if(!d.boxEqual(r,n))return!1;t++}return!0},t.ISOFile=y,y.prototype.lastBoxStartPosition=0,y.prototype.parsingMdat=null,y.prototype.nextParsePosition=0,y.prototype.discardMdatData=!1,y.prototype.processIncompleteBox=function(e){var t;return"mdat"===e.type?(t=new d[e.type+"Box"](e.size),this.parsingMdat=t,this.boxes.push(t),this.mdats.push(t),t.start=e.start,t.hdr_size=e.hdr_size,this.stream.addUsedBytes(t.hdr_size),this.lastBoxStartPosition=t.start+t.size,this.stream.seek(t.start+t.size,!1,this.discardMdatData))?(this.parsingMdat=null,!0):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=t.start+t.size,!1):("moov"===e.type&&(this.moovStartFound=!0,0===this.mdats.length&&(this.isProgressive=!0)),this.stream.mergeNextBuffer&&this.stream.mergeNextBuffer())?(this.nextParsePosition=this.stream.getEndPosition(),!0):(e.type?this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+e.size:this.nextParsePosition=this.stream.getEndPosition(),!1)},y.prototype.hasIncompleteMdat=function(){return null!==this.parsingMdat},y.prototype.processIncompleteMdat=function(){var e;return(e=this.parsingMdat,this.stream.seek(e.start+e.size,!1,this.discardMdatData))?(o.debug("ISOFile","Found 'mdat' end in buffered data"),this.parsingMdat=null,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)},y.prototype.restoreParsePosition=function(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)},y.prototype.saveParsePosition=function(){this.lastBoxStartPosition=this.stream.getPosition()},y.prototype.updateUsedBytes=function(e,t){this.stream.addUsedBytes&&("mdat"===e.type?(this.stream.addUsedBytes(e.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(e.size-e.hdr_size)):this.stream.addUsedBytes(e.size))},y.prototype.add=d.Box.prototype.add,y.prototype.addBox=d.Box.prototype.addBox,y.prototype.init=function(e){var t=e||{};this.add("ftyp").set("major_brand",t.brands&&t.brands[0]||"iso4").set("minor_version",0).set("compatible_brands",t.brands||["iso4"]);var r=this.add("moov");return r.add("mvhd").set("timescale",t.timescale||600).set("rate",t.rate||65536).set("creation_time",0).set("modification_time",0).set("duration",t.duration||0).set("volume",t.width?0:256).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("next_track_id",1),r.add("mvex"),this},y.prototype.addTrack=function(e){this.moov||this.init(e);var t=e||{};t.width=t.width||320,t.height=t.height||320,t.id=t.id||this.moov.mvhd.next_track_id,t.type=t.type||"avc1";var r=this.moov.add("trak");this.moov.mvhd.next_track_id=t.id+1,r.add("tkhd").set("flags",d.TKHD_FLAG_ENABLED|d.TKHD_FLAG_IN_MOVIE|d.TKHD_FLAG_IN_PREVIEW).set("creation_time",0).set("modification_time",0).set("track_id",t.id).set("duration",t.duration||0).set("layer",t.layer||0).set("alternate_group",0).set("volume",1).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("width",t.width<<16).set("height",t.height<<16);var n=r.add("mdia");n.add("mdhd").set("creation_time",0).set("modification_time",0).set("timescale",t.timescale||1).set("duration",t.media_duration||0).set("language",t.language||"und"),n.add("hdlr").set("handler",t.hdlr||"vide").set("name",t.name||"Track created with MP4Box.js"),n.add("elng").set("extended_language",t.language||"fr-FR");var o=n.add("minf");if(void 0!==d[t.type+"SampleEntry"]){var a=new d[t.type+"SampleEntry"];a.data_reference_index=1;var l="";for(var u in d.sampleEntryCodes)for(var c=d.sampleEntryCodes[u],h=0;h<c.length;h++)if(c.indexOf(t.type)>-1){l=u;break}switch(l){case"Visual":if(o.add("vmhd").set("graphicsmode",0).set("opcolor",[0,0,0]),a.set("width",t.width).set("height",t.height).set("horizresolution",4718592).set("vertresolution",4718592).set("frame_count",1).set("compressorname",t.type+" Compressor").set("depth",24),t.avcDecoderConfigRecord){var p=new d.avcCBox;p.parse(new s(t.avcDecoderConfigRecord)),a.addBox(p)}else if(t.hevcDecoderConfigRecord){var f=new d.hvcCBox;f.parse(new s(t.hevcDecoderConfigRecord)),a.addBox(f)}break;case"Audio":o.add("smhd").set("balance",t.balance||0),a.set("channel_count",t.channel_count||2).set("samplesize",t.samplesize||16).set("samplerate",t.samplerate||65536);break;case"Hint":o.add("hmhd");break;case"Subtitle":o.add("sthd"),"stpp"===t.type&&a.set("namespace",t.namespace||"nonamespace").set("schema_location",t.schema_location||"").set("auxiliary_mime_types",t.auxiliary_mime_types||"");break;default:o.add("nmhd")}t.description&&a.addBox(t.description),t.description_boxes&&t.description_boxes.forEach(function(e){a.addBox(e)}),o.add("dinf").add("dref").addEntry(new d["url Box"]().set("flags",1));var m=o.add("stbl");return m.add("stsd").addEntry(a),m.add("stts").set("sample_counts",[]).set("sample_deltas",[]),m.add("stsc").set("first_chunk",[]).set("samples_per_chunk",[]).set("sample_description_index",[]),m.add("stco").set("chunk_offsets",[]),m.add("stsz").set("sample_sizes",[]),this.moov.mvex.add("trex").set("track_id",t.id).set("default_sample_description_index",t.default_sample_description_index||1).set("default_sample_duration",t.default_sample_duration||0).set("default_sample_size",t.default_sample_size||0).set("default_sample_flags",t.default_sample_flags||0),this.buildTrakSampleLists(r),t.id}},d.Box.prototype.computeSize=function(e){var t=e||new a;t.endianness=a.BIG_ENDIAN,this.write(t)},y.prototype.addSample=function(e,t,r){var n=r||{},o={},s=this.getTrackById(e);if(null!==s){o.number=s.samples.length,o.track_id=s.tkhd.track_id,o.timescale=s.mdia.mdhd.timescale,o.description_index=n.sample_description_index?n.sample_description_index-1:0,o.description=s.mdia.minf.stbl.stsd.entries[o.description_index],o.data=t,o.size=t.byteLength,o.alreadyRead=o.size,o.duration=n.duration||1,o.cts=n.cts||0,o.dts=n.dts||0,o.is_sync=n.is_sync||!1,o.is_leading=n.is_leading||0,o.depends_on=n.depends_on||0,o.is_depended_on=n.is_depended_on||0,o.has_redundancy=n.has_redundancy||0,o.degradation_priority=n.degradation_priority||0,o.offset=0,o.subsamples=n.subsamples,s.samples.push(o),s.samples_size+=o.size,s.samples_duration+=o.duration,void 0===s.first_dts&&(s.first_dts=n.dts),this.processSamples();var a=this.createSingleSampleMoof(o);return this.addBox(a),a.computeSize(),a.trafs[0].truns[0].data_offset=a.size+8,this.add("mdat").data=new Uint8Array(t),o}},y.prototype.createSingleSampleMoof=function(e){var t=0;t=e.is_sync?33554432:65536;var r=new d.moofBox;r.add("mfhd").set("sequence_number",this.nextMoofNumber),this.nextMoofNumber++;var n=r.add("traf"),o=this.getTrackById(e.track_id);return n.add("tfhd").set("track_id",e.track_id).set("flags",d.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),n.add("tfdt").set("baseMediaDecodeTime",e.dts-(o.first_dts||0)),n.add("trun").set("flags",d.TRUN_FLAGS_DATA_OFFSET|d.TRUN_FLAGS_DURATION|d.TRUN_FLAGS_SIZE|d.TRUN_FLAGS_FLAGS|d.TRUN_FLAGS_CTS_OFFSET).set("data_offset",0).set("first_sample_flags",0).set("sample_count",1).set("sample_duration",[e.duration]).set("sample_size",[e.size]).set("sample_flags",[t]).set("sample_composition_time_offset",[e.cts-e.dts]),r},y.prototype.lastMoofIndex=0,y.prototype.samplesDataSize=0,y.prototype.resetTables=function(){for(e=0,this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0;e<this.moov.traks.length;e++){(t=this.moov.traks[e]).tkhd.duration=0,t.mdia.mdhd.duration=0,(t.mdia.minf.stbl.stco||t.mdia.minf.stbl.co64).chunk_offsets=[],(r=t.mdia.minf.stbl.stsc).first_chunk=[],r.samples_per_chunk=[],r.sample_description_index=[],(t.mdia.minf.stbl.stsz||t.mdia.minf.stbl.stz2).sample_sizes=[],(n=t.mdia.minf.stbl.stts).sample_counts=[],n.sample_deltas=[],(o=t.mdia.minf.stbl.ctts)&&(o.sample_counts=[],o.sample_offsets=[]),s=t.mdia.minf.stbl.stss;var e,t,r,n,o,s,a=t.mdia.minf.stbl.boxes.indexOf(s);-1!=a&&(t.mdia.minf.stbl.boxes[a]=null)}},y.initSampleGroups=function(e,t,r,n,o){var s,a,l,u;function d(e,t,r){this.grouping_type=e,this.grouping_type_parameter=t,this.sbgp=r,this.last_sample_in_run=-1,this.entry_index=-1}for(t&&(t.sample_groups_info=[]),e.sample_groups_info||(e.sample_groups_info=[]),a=0;a<r.length;a++){for(u=r[a].grouping_type+"/"+r[a].grouping_type_parameter,l=new d(r[a].grouping_type,r[a].grouping_type_parameter,r[a]),t&&(t.sample_groups_info[u]=l),e.sample_groups_info[u]||(e.sample_groups_info[u]=l),s=0;s<n.length;s++)n[s].grouping_type===r[a].grouping_type&&(l.description=n[s],l.description.used=!0);if(o)for(s=0;s<o.length;s++)o[s].grouping_type===r[a].grouping_type&&(l.fragment_description=o[s],l.fragment_description.used=!0,l.is_fragment=!0)}if(t){if(o)for(a=0;a<o.length;a++)o[a].used||!(o[a].version>=2)||(u=o[a].grouping_type+"/0",(l=new d(o[a].grouping_type,0)).is_fragment=!0,t.sample_groups_info[u]||(t.sample_groups_info[u]=l))}else for(a=0;a<n.length;a++)n[a].used||!(n[a].version>=2)||(u=n[a].grouping_type+"/0",l=new d(n[a].grouping_type,0),e.sample_groups_info[u]||(e.sample_groups_info[u]=l))},y.setSampleGroupProperties=function(e,t,r,n){var o,s,a;for(o in t.sample_groups=[],n)t.sample_groups[o]={},t.sample_groups[o].grouping_type=n[o].grouping_type,t.sample_groups[o].grouping_type_parameter=n[o].grouping_type_parameter,r>=n[o].last_sample_in_run&&(n[o].last_sample_in_run<0&&(n[o].last_sample_in_run=0),n[o].entry_index++,n[o].entry_index<=n[o].sbgp.entries.length-1&&(n[o].last_sample_in_run+=n[o].sbgp.entries[n[o].entry_index].sample_count)),n[o].entry_index<=n[o].sbgp.entries.length-1?t.sample_groups[o].group_description_index=n[o].sbgp.entries[n[o].entry_index].group_description_index:t.sample_groups[o].group_description_index=-1,0!==t.sample_groups[o].group_description_index&&(a=n[o].fragment_description?n[o].fragment_description:n[o].description,t.sample_groups[o].group_description_index>0?(s=t.sample_groups[o].group_description_index>65535?(t.sample_groups[o].group_description_index>>16)-1:t.sample_groups[o].group_description_index-1,a&&s>=0&&(t.sample_groups[o].description=a.entries[s])):a&&a.version>=2&&a.default_group_description_index>0&&(t.sample_groups[o].description=a.entries[a.default_group_description_index-1]))},y.process_sdtp=function(e,t,r){t&&(e?(t.is_leading=e.is_leading[r],t.depends_on=e.sample_depends_on[r],t.is_depended_on=e.sample_is_depended_on[r],t.has_redundancy=e.sample_has_redundancy[r]):(t.is_leading=0,t.depends_on=0,t.is_depended_on=0,t.has_redundancy=0))},y.prototype.buildSampleLists=function(){var e,t;for(e=0;e<this.moov.traks.length;e++)t=this.moov.traks[e],this.buildTrakSampleLists(t)},y.prototype.buildTrakSampleLists=function(e){if(e.samples=[],e.samples_duration=0,e.samples_size=0,r=e.mdia.minf.stbl.stco||e.mdia.minf.stbl.co64,n=e.mdia.minf.stbl.stsc,o=e.mdia.minf.stbl.stsz||e.mdia.minf.stbl.stz2,s=e.mdia.minf.stbl.stts,a=e.mdia.minf.stbl.ctts,l=e.mdia.minf.stbl.stss,u=e.mdia.minf.stbl.stsd,d=e.mdia.minf.stbl.subs,p=e.mdia.minf.stbl.stdp,c=e.mdia.minf.stbl.sbgps,h=e.mdia.minf.stbl.sgpds,b=-1,x=-1,w=-1,S=-1,C=0,T=0,E=0,y.initSampleGroups(e,null,c,h),void 0!==o){for(t=0;t<o.sample_sizes.length;t++){var t,r,n,o,s,a,l,u,d,c,h,p,f,m,g,v,_,b,x,w,S,C,T,E,k={};k.number=t,k.track_id=e.tkhd.track_id,k.timescale=e.mdia.mdhd.timescale,k.alreadyRead=0,e.samples[t]=k,k.size=o.sample_sizes[t],e.samples_size+=k.size,0===t?(m=1,f=0,k.chunk_index=m,k.chunk_run_index=f,_=n.samples_per_chunk[f],v=0,g=f+1<n.first_chunk.length?n.first_chunk[f+1]-1:1/0):t<_?(k.chunk_index=m,k.chunk_run_index=f):(m++,k.chunk_index=m,v=0,m<=g||(g=++f+1<n.first_chunk.length?n.first_chunk[f+1]-1:1/0),k.chunk_run_index=f,_+=n.samples_per_chunk[f]),k.description_index=n.sample_description_index[k.chunk_run_index]-1,k.description=u.entries[k.description_index],k.offset=r.chunk_offsets[k.chunk_index-1]+v,v+=k.size,t>b&&(x++,b<0&&(b=0),b+=s.sample_counts[x]),t>0?(e.samples[t-1].duration=s.sample_deltas[x],e.samples_duration+=e.samples[t-1].duration,k.dts=e.samples[t-1].dts+e.samples[t-1].duration):k.dts=0,a?(t>=w&&(S++,w<0&&(w=0),w+=a.sample_counts[S]),k.cts=e.samples[t].dts+a.sample_offsets[S]):k.cts=k.dts,l?(t==l.sample_numbers[C]-1?(k.is_sync=!0,C++):(k.is_sync=!1,k.degradation_priority=0),d&&d.entries[T].sample_delta+E==t+1&&(k.subsamples=d.entries[T].subsamples,E+=d.entries[T].sample_delta,T++)):k.is_sync=!0,y.process_sdtp(e.mdia.minf.stbl.sdtp,k,k.number),p?k.degradation_priority=p.priority[t]:k.degradation_priority=0,d&&d.entries[T].sample_delta+E==t&&(k.subsamples=d.entries[T].subsamples,E+=d.entries[T].sample_delta),(c.length>0||h.length>0)&&y.setSampleGroupProperties(e,k,t,e.sample_groups_info)}t>0&&(e.samples[t-1].duration=Math.max(e.mdia.mdhd.duration-e.samples[t-1].dts,0),e.samples_duration+=e.samples[t-1].duration)}},y.prototype.updateSampleLists=function(){if(void 0!==this.moov){for(;this.lastMoofIndex<this.moofs.length;)if(u=this.moofs[this.lastMoofIndex],this.lastMoofIndex++,"moof"==u.type)for(e=0;e<u.trafs.length;e++){for(c=u.trafs[e],h=this.getTrackById(c.tfhd.track_id),p=this.getTrexById(c.tfhd.track_id),n=c.tfhd.flags&d.TFHD_FLAG_SAMPLE_DESC?c.tfhd.default_sample_description_index:p?p.default_sample_description_index:1,o=c.tfhd.flags&d.TFHD_FLAG_SAMPLE_DUR?c.tfhd.default_sample_duration:p?p.default_sample_duration:0,s=c.tfhd.flags&d.TFHD_FLAG_SAMPLE_SIZE?c.tfhd.default_sample_size:p?p.default_sample_size:0,a=c.tfhd.flags&d.TFHD_FLAG_SAMPLE_FLAGS?c.tfhd.default_sample_flags:p?p.default_sample_flags:0,c.sample_number=0,c.sbgps.length>0&&y.initSampleGroups(h,c,c.sbgps,h.mdia.minf.stbl.sgpds,c.sgpds),t=0;t<c.truns.length;t++){var e,t,r,n,o,s,a,l,u,c,h,p,f,m,g=c.truns[t];for(r=0;r<g.sample_count;r++){(f={}).moof_number=this.lastMoofIndex,f.number_in_traf=c.sample_number,c.sample_number++,f.number=h.samples.length,c.first_sample_index=h.samples.length,h.samples.push(f),f.track_id=h.tkhd.track_id,f.timescale=h.mdia.mdhd.timescale,f.description_index=n-1,f.description=h.mdia.minf.stbl.stsd.entries[f.description_index],f.size=s,g.flags&d.TRUN_FLAGS_SIZE&&(f.size=g.sample_size[r]),h.samples_size+=f.size,f.duration=o,g.flags&d.TRUN_FLAGS_DURATION&&(f.duration=g.sample_duration[r]),h.samples_duration+=f.duration,h.first_traf_merged||r>0?f.dts=h.samples[h.samples.length-2].dts+h.samples[h.samples.length-2].duration:(c.tfdt?f.dts=c.tfdt.baseMediaDecodeTime:f.dts=0,h.first_traf_merged=!0),f.cts=f.dts,g.flags&d.TRUN_FLAGS_CTS_OFFSET&&(f.cts=f.dts+g.sample_composition_time_offset[r]),m=a,g.flags&d.TRUN_FLAGS_FLAGS?m=g.sample_flags[r]:0===r&&g.flags&d.TRUN_FLAGS_FIRST_FLAG&&(m=g.first_sample_flags),f.is_sync=!(m>>16&1),f.is_leading=m>>26&3,f.depends_on=m>>24&3,f.is_depended_on=m>>22&3,f.has_redundancy=m>>20&3,f.degradation_priority=65535&m;var v=!!(c.tfhd.flags&d.TFHD_FLAG_BASE_DATA_OFFSET),_=!!(c.tfhd.flags&d.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),b=!!(g.flags&d.TRUN_FLAGS_DATA_OFFSET),x=0;x=v?c.tfhd.base_data_offset:_?u.start:0===t?u.start:l,0===t&&0===r?b?f.offset=x+g.data_offset:f.offset=x:f.offset=l,l=f.offset+f.size,(c.sbgps.length>0||c.sgpds.length>0||h.mdia.minf.stbl.sbgps.length>0||h.mdia.minf.stbl.sgpds.length>0)&&y.setSampleGroupProperties(h,f,f.number_in_traf,c.sample_groups_info)}}if(c.subs){h.has_fragment_subsamples=!0;var w=c.first_sample_index;for(t=0;t<c.subs.entries.length;t++)w+=c.subs.entries[t].sample_delta,(f=h.samples[w-1]).subsamples=c.subs.entries[t].subsamples}}}},y.prototype.getSample=function(e,t){var r,n=e.samples[t];if(!this.moov)return null;if(n.data){if(n.alreadyRead==n.size)return n}else n.data=new Uint8Array(n.size),n.alreadyRead=0,this.samplesDataSize+=n.size,o.debug("ISOFile","Allocating sample #"+t+" on track #"+e.tkhd.track_id+" of size "+n.size+" (total: "+this.samplesDataSize+")");for(;;){var s=this.stream.findPosition(!0,n.offset+n.alreadyRead,!1);if(!(s>-1))return null;var l=(r=this.stream.buffers[s]).byteLength-(n.offset+n.alreadyRead-r.fileStart);if(n.size-n.alreadyRead<=l)return o.debug("ISOFile","Getting sample #"+t+" data (alreadyRead: "+n.alreadyRead+" offset: "+(n.offset+n.alreadyRead-r.fileStart)+" read size: "+(n.size-n.alreadyRead)+" full size: "+n.size+")"),a.memcpy(n.data.buffer,n.alreadyRead,r,n.offset+n.alreadyRead-r.fileStart,n.size-n.alreadyRead),r.usedBytes+=n.size-n.alreadyRead,this.stream.logBufferLevel(),n.alreadyRead=n.size,n;if(0===l)return null;o.debug("ISOFile","Getting sample #"+t+" partial data (alreadyRead: "+n.alreadyRead+" offset: "+(n.offset+n.alreadyRead-r.fileStart)+" read size: "+l+" full size: "+n.size+")"),a.memcpy(n.data.buffer,n.alreadyRead,r,n.offset+n.alreadyRead-r.fileStart,l),n.alreadyRead+=l,r.usedBytes+=l,this.stream.logBufferLevel()}},y.prototype.releaseSample=function(e,t){var r=e.samples[t];return r.data?(this.samplesDataSize-=r.size,r.data=null,r.alreadyRead=0,r.size):0},y.prototype.getAllocatedSampleDataSize=function(){return this.samplesDataSize},y.prototype.getCodecs=function(){var e,t="";for(e=0;e<this.moov.traks.length;e++){var r=this.moov.traks[e];e>0&&(t+=","),t+=r.mdia.minf.stbl.stsd.entries[0].getCodec()}return t},y.prototype.getTrexById=function(e){var t;if(!this.moov||!this.moov.mvex)return null;for(t=0;t<this.moov.mvex.trexs.length;t++){var r=this.moov.mvex.trexs[t];if(r.track_id==e)return r}return null},y.prototype.getTrackById=function(e){if(void 0===this.moov)return null;for(var t=0;t<this.moov.traks.length;t++){var r=this.moov.traks[t];if(r.tkhd.track_id==e)return r}return null},y.prototype.itemsDataSize=0,y.prototype.flattenItemInfo=function(){var e,t,r,n=this.items,s=this.entity_groups,a=this.meta;if(null!=a&&void 0!==a.hdlr&&void 0!==a.iinf){for(e=0;e<a.iinf.item_infos.length;e++)(r={}).id=a.iinf.item_infos[e].item_ID,n[r.id]=r,r.ref_to=[],r.name=a.iinf.item_infos[e].item_name,a.iinf.item_infos[e].protection_index>0&&(r.protection=a.ipro.protections[a.iinf.item_infos[e].protection_index-1]),a.iinf.item_infos[e].item_type?r.type=a.iinf.item_infos[e].item_type:r.type="mime",r.content_type=a.iinf.item_infos[e].content_type,r.content_encoding=a.iinf.item_infos[e].content_encoding,r.item_uri_type=a.iinf.item_infos[e].item_uri_type;if(a.grpl)for(e=0;e<a.grpl.boxes.length;e++)(entity_group={}).id=a.grpl.boxes[e].group_id,entity_group.entity_ids=a.grpl.boxes[e].entity_ids,entity_group.type=a.grpl.boxes[e].type,s[entity_group.id]=entity_group;if(a.iloc)for(e=0;e<a.iloc.items.length;e++){var l=a.iloc.items[e];switch(r=n[l.item_ID],0!==l.data_reference_index&&(o.warn("Item storage with reference to other files: not supported"),r.source=a.dinf.boxes[l.data_reference_index-1]),l.construction_method){case 0:case 1:break;case 2:o.warn("Item storage with construction_method : not supported")}for(t=0,r.extents=[],r.size=0;t<l.extents.length;t++)r.extents[t]={},r.extents[t].offset=l.extents[t].extent_offset+l.base_offset,1==l.construction_method&&(r.extents[t].offset+=a.idat.start+a.idat.hdr_size),r.extents[t].length=l.extents[t].extent_length,r.extents[t].alreadyRead=0,r.size+=r.extents[t].length}if(a.pitm&&(n[a.pitm.item_id].primary=!0),a.iref)for(e=0;e<a.iref.references.length;e++){var u=a.iref.references[e];for(t=0;t<u.references.length;t++)n[u.from_item_ID].ref_to.push({type:u.type,id:u.references[t]})}if(a.iprp)for(var d=0;d<a.iprp.ipmas.length;d++){var c=a.iprp.ipmas[d];for(e=0;e<c.associations.length;e++){var h=c.associations[e];if((r=n[h.id])||(r=s[h.id]),r)for(void 0===r.properties&&(r.properties={},r.properties.boxes=[]),t=0;t<h.props.length;t++){var p=h.props[t];if(p.property_index>0&&p.property_index-1<a.iprp.ipco.boxes.length){var f=a.iprp.ipco.boxes[p.property_index-1];r.properties[f.type]=f,r.properties.boxes.push(f)}}}}}},y.prototype.getItem=function(e){if(!this.meta)return null;if(!(r=this.items[e]).data&&r.size)r.data=new Uint8Array(r.size),r.alreadyRead=0,this.itemsDataSize+=r.size,o.debug("ISOFile","Allocating item #"+e+" of size "+r.size+" (total: "+this.itemsDataSize+")");else if(r.alreadyRead===r.size)return r;for(var t,r,n=0;n<r.extents.length;n++){var s=r.extents[n];if(s.alreadyRead!==s.length){var l=this.stream.findPosition(!0,s.offset+s.alreadyRead,!1);if(!(l>-1))return null;var u=(t=this.stream.buffers[l]).byteLength-(s.offset+s.alreadyRead-t.fileStart);if(!(s.length-s.alreadyRead<=u))return o.debug("ISOFile","Getting item #"+e+" extent #"+n+" partial data (alreadyRead: "+s.alreadyRead+" offset: "+(s.offset+s.alreadyRead-t.fileStart)+" read size: "+u+" full extent size: "+s.length+" full item size: "+r.size+")"),a.memcpy(r.data.buffer,r.alreadyRead,t,s.offset+s.alreadyRead-t.fileStart,u),s.alreadyRead+=u,r.alreadyRead+=u,t.usedBytes+=u,this.stream.logBufferLevel(),null;o.debug("ISOFile","Getting item #"+e+" extent #"+n+" data (alreadyRead: "+s.alreadyRead+" offset: "+(s.offset+s.alreadyRead-t.fileStart)+" read size: "+(s.length-s.alreadyRead)+" full extent size: "+s.length+" full item size: "+r.size+")"),a.memcpy(r.data.buffer,r.alreadyRead,t,s.offset+s.alreadyRead-t.fileStart,s.length-s.alreadyRead),t.usedBytes+=s.length-s.alreadyRead,this.stream.logBufferLevel(),r.alreadyRead+=s.length-s.alreadyRead,s.alreadyRead=s.length}}return r.alreadyRead===r.size?r:null},y.prototype.releaseItem=function(e){var t=this.items[e];if(!t.data)return 0;this.itemsDataSize-=t.size,t.data=null,t.alreadyRead=0;for(var r=0;r<t.extents.length;r++)t.extents[r].alreadyRead=0;return t.size},y.prototype.processItems=function(e){for(var t in this.items){var r=this.items[t];this.getItem(r.id),e&&!r.sent&&(e(r),r.sent=!0,r.data=null)}},y.prototype.hasItem=function(e){for(var t in this.items){var r=this.items[t];if(r.name===e)return r.id}return -1},y.prototype.getMetaHandler=function(){return this.meta?this.meta.hdlr.handler:null},y.prototype.getPrimaryItem=function(){return this.meta&&this.meta.pitm?this.getItem(this.meta.pitm.item_id):null},y.prototype.itemToFragmentedTrackFile=function(e){var t=e||{},r=null;if(null==(r=t.itemId?this.getItem(t.itemId):this.getPrimaryItem()))return null;var n=new y;n.discardMdatData=!1;var o={type:r.type,description_boxes:r.properties.boxes};r.properties.ispe&&(o.width=r.properties.ispe.image_width,o.height=r.properties.ispe.image_height);var s=n.addTrack(o);return s?(n.addSample(s,r.data),n):null},y.prototype.write=function(e){for(var t=0;t<this.boxes.length;t++)this.boxes[t].write(e)},y.prototype.createFragment=function(e,t,r){var n=this.getTrackById(e),s=this.getSample(n,t);if(null==s)return this.setNextSeekPositionFromSample(n.samples[t]),null;var l=r||new a;l.endianness=a.BIG_ENDIAN;var u=this.createSingleSampleMoof(s);u.write(l),u.trafs[0].truns[0].data_offset=u.size+8,o.debug("MP4Box","Adjusting data_offset with new value "+u.trafs[0].truns[0].data_offset),l.adjustUint32(u.trafs[0].truns[0].data_offset_position,u.trafs[0].truns[0].data_offset);var c=new d.mdatBox;return c.data=s.data,c.write(l),l},y.writeInitializationSegment=function(e,t,r,n){o.debug("ISOFile","Generating initialization segment");var s,l=new a;l.endianness=a.BIG_ENDIAN,e.write(l);var u=t.add("mvex");for(r&&u.add("mehd").set("fragment_duration",r),s=0;s<t.traks.length;s++)u.add("trex").set("track_id",t.traks[s].tkhd.track_id).set("default_sample_description_index",1).set("default_sample_duration",n).set("default_sample_size",0).set("default_sample_flags",65536);return t.write(l),l.buffer},y.prototype.save=function(e){var t=new a;t.endianness=a.BIG_ENDIAN,this.write(t),t.save(e)},y.prototype.getBuffer=function(){var e=new a;return e.endianness=a.BIG_ENDIAN,this.write(e),e.buffer},y.prototype.initializeSegmentation=function(){for(null===this.onSegment&&o.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.nextMoofNumber=0,this.resetTables()),t=[],e=0;e<this.fragmentedTracks.length;e++){var e,t,r,n,s=new d.moovBox;s.mvhd=this.moov.mvhd,s.boxes.push(s.mvhd),r=this.getTrackById(this.fragmentedTracks[e].id),s.boxes.push(r),s.traks.push(r),(n={}).id=r.tkhd.track_id,n.user=this.fragmentedTracks[e].user,n.buffer=y.writeInitializationSegment(this.ftyp,s,this.moov.mvex&&this.moov.mvex.mehd?this.moov.mvex.mehd.fragment_duration:void 0,this.moov.traks[e].samples.length>0?this.moov.traks[e].samples[0].duration:0),t.push(n)}return t},d.Box.prototype.printHeader=function(e){this.size+=8,this.size>4294967296&&(this.size+=8),"uuid"===this.type&&(this.size+=16),e.log(e.indent+"size:"+this.size),e.log(e.indent+"type:"+this.type)},d.FullBox.prototype.printHeader=function(e){this.size+=4,d.Box.prototype.printHeader.call(this,e),e.log(e.indent+"version:"+this.version),e.log(e.indent+"flags:"+this.flags)},d.Box.prototype.print=function(e){this.printHeader(e)},d.ContainerBox.prototype.print=function(e){this.printHeader(e);for(var t=0;t<this.boxes.length;t++)if(this.boxes[t]){var r=e.indent;e.indent+=" ",this.boxes[t].print(e),e.indent=r}},y.prototype.print=function(e){e.indent="";for(var t=0;t<this.boxes.length;t++)this.boxes[t]&&this.boxes[t].print(e)},d.mvhdBox.prototype.print=function(e){d.FullBox.prototype.printHeader.call(this,e),e.log(e.indent+"creation_time: "+this.creation_time),e.log(e.indent+"modification_time: "+this.modification_time),e.log(e.indent+"timescale: "+this.timescale),e.log(e.indent+"duration: "+this.duration),e.log(e.indent+"rate: "+this.rate),e.log(e.indent+"volume: "+(this.volume>>8)),e.log(e.indent+"matrix: "+this.matrix.join(", ")),e.log(e.indent+"next_track_id: "+this.next_track_id)},d.tkhdBox.prototype.print=function(e){d.FullBox.prototype.printHeader.call(this,e),e.log(e.indent+"creation_time: "+this.creation_time),e.log(e.indent+"modification_time: "+this.modification_time),e.log(e.indent+"track_id: "+this.track_id),e.log(e.indent+"duration: "+this.duration),e.log(e.indent+"volume: "+(this.volume>>8)),e.log(e.indent+"matrix: "+this.matrix.join(", ")),e.log(e.indent+"layer: "+this.layer),e.log(e.indent+"alternate_group: "+this.alternate_group),e.log(e.indent+"width: "+this.width),e.log(e.indent+"height: "+this.height)};var v={};v.createFile=function(e,t){var r=new y(t);return r.discardMdatData=!(void 0===e||e),r},t.createFile=v.createFile},6477:function(e,t){"use strict";t.Headers=self.Headers,t.Request=self.Request,t.Response=self.Response,t.fetch=self.fetch},3454:function(e,t,r){"use strict";var n,o;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(7663)},6840:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(6814)}])},6524:function(e,t,r){"use strict";r.d(t,{J:function(){return o}});var n=r(7294);let o=e=>{let t=e.blurStrength||15,r=e.topHeight||25,o=e.bottomHeight||25;return n.createElement("div",null,[n.createElement("div",{key:"blur-top",style:{position:"fixed",top:0,left:0,right:0,height:r+"%",backdropFilter:"blur("+t+"px)",WebkitBackdropFilter:"blur("+t+"px)",mask:"linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,0.9) 20%, rgba(0,0,0,0.7) 40%, rgba(0,0,0,0.4) 60%, rgba(0,0,0,0.2) 80%, rgba(0,0,0,0) 100%)",WebkitMask:"linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,0.9) 20%, rgba(0,0,0,0.7) 40%, rgba(0,0,0,0.4) 60%, rgba(0,0,0,0.2) 80%, rgba(0,0,0,0) 100%)",pointerEvents:"none",zIndex:9999}}),n.createElement("div",{key:"blur-bottom",style:{position:"fixed",bottom:0,left:0,right:0,height:o+"%",backdropFilter:"blur("+t+"px)",WebkitBackdropFilter:"blur("+t+"px)",mask:"linear-gradient(to top, rgba(0,0,0,1) 0%, rgba(0,0,0,0.9) 20%, rgba(0,0,0,0.7) 40%, rgba(0,0,0,0.4) 60%, rgba(0,0,0,0.2) 80%, rgba(0,0,0,0) 100%)",WebkitMask:"linear-gradient(to top, rgba(0,0,0,1) 0%, rgba(0,0,0,0.9) 20%, rgba(0,0,0,0.7) 40%, rgba(0,0,0,0.4) 60%, rgba(0,0,0,0.2) 80%, rgba(0,0,0,0) 100%)",pointerEvents:"none",zIndex:9999}}),n.createElement("figure",{key:"control-structure",className:"media",style:{display:"none"}},n.createElement("img",{alt:"Progressive Blur Effect"}))])}},4744:function(e,t,r){"use strict";var n=r(3454);r(1479);var o=r(7294),s=o&&"object"==typeof o&&"default"in o?o:{default:o},a=void 0!==n&&n.env&&!0,l=function(e){return"[object String]"===Object.prototype.toString.call(e)},u=function(){function e(e){var t=void 0===e?{}:e,r=t.name,n=void 0===r?"stylesheet":r,o=t.optimizeForSpeed,s=void 0===o?a:o;d(l(n),"`name` must be a string"),this._name=n,this._deletedRulePlaceholder="#"+n+"-deleted-rule____{}",d("boolean"==typeof s,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=s,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var u=document.querySelector('meta[property="csp-nonce"]');this._nonce=u?u.getAttribute("content"):null}var t=e.prototype;return t.setOptimizeForSpeed=function(e){d("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),d(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;if(d(!this._injected,"sheet already injected"),this._injected=!0,this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(a||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,r){return"number"==typeof r?e._serverSheet.cssRules[r]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),r},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){if(d(l(e),"`insertRule` accepts only strings"),this._optimizeForSpeed){var r=this.getSheet();"number"!=typeof t&&(t=r.cssRules.length);try{r.insertRule(e,t)}catch(t){return a||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var n=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,n))}return this._rulesCount++},t.replaceRule=function(e,t){if(this._optimizeForSpeed){var r=this.getSheet();if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(n){a||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),r.insertRule(this._deletedRulePlaceholder,e)}}else{var n=this._tags[e];d(n,"old rule at index `"+e+"` not found"),n.textContent=t}return e},t.deleteRule=function(e){if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];d(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},t.flush=function(){this._injected=!1,this._rulesCount=0,this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]},t.cssRules=function(){var e=this;return this._tags.reduce(function(t,r){return r?t=t.concat(Array.prototype.map.call(e.getSheetForTag(r).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},t.makeStyleTag=function(e,t,r){t&&d(l(t),"makeStyleTag accepts only strings as second parameter");var n=document.createElement("style");this._nonce&&n.setAttribute("nonce",this._nonce),n.type="text/css",n.setAttribute("data-"+e,""),t&&n.appendChild(document.createTextNode(t));var o=document.head||document.getElementsByTagName("head")[0];return r?o.insertBefore(n,r):o.appendChild(n),n},function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function d(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0},h={};function p(e,t){if(!t)return"jsx-"+e;var r=String(t),n=e+r;return h[n]||(h[n]="jsx-"+c(e+"-"+r)),h[n]}function f(e,t){var r=e+t;return h[r]||(h[r]=t.replace(/__jsx-style-dynamic-selector/g,e)),h[r]}var m=function(){function e(e){var t=void 0===e?{}:e,r=t.styleSheet,n=void 0===r?null:r,o=t.optimizeForSpeed,s=void 0!==o&&o;this._sheet=n||new u({name:"styled-jsx",optimizeForSpeed:s}),this._sheet.inject(),n&&"boolean"==typeof s&&(this._sheet.setOptimizeForSpeed(s),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var r=this.getIdAndRules(e),n=r.styleId,o=r.rules;if(n in this._instancesCounts){this._instancesCounts[n]+=1;return}var s=o.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[n]=s,this._instancesCounts[n]=1},t.remove=function(e){var t=this,r=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(r in this._instancesCounts,"styleId: `"+r+"` not found"),this._instancesCounts[r]-=1,this._instancesCounts[r]<1){var n=this._fromServer&&this._fromServer[r];n?(n.parentNode.removeChild(n),delete this._fromServer[r]):(this._indices[r].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[r]),delete this._instancesCounts[r]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],r=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return r[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,r;return t=this.cssRules(),void 0===(r=e)&&(r={}),t.map(function(e){var t=e[0],n=e[1];return s.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:r.nonce?r.nonce:void 0,dangerouslySetInnerHTML:{__html:n}})})},t.getIdAndRules=function(e){var t=e.children,r=e.dynamic,n=e.id;if(r){var o=p(n,r);return{styleId:o,rules:Array.isArray(t)?t.map(function(e){return f(o,e)}):[f(o,t)]}}return{styleId:p(n),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),g=o.createContext(null);g.displayName="StyleSheetContext";var y=s.default.useInsertionEffect||s.default.useLayoutEffect,v=new m;function _(e){var t=v||o.useContext(g);return t&&y(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)]),null}_.dynamic=function(e){return e.map(function(e){return p(e[0],e[1])}).join(" ")},t.style=_},2335:function(e,t,r){"use strict";e.exports=r(4744).style},6814:function(e,t,r){"use strict";r.r(t);var n=r(5893);r(2881);var o=r(7166);r(7249);var s=r(6524);o.customItems.define("webgl-progressive-blur",s.J),t.default=function(e){let{Component:t,pageProps:r}=e;return(0,n.jsx)(o.CntrlProvider,{children:(0,n.jsx)(t,{...r})})}},1479:function(){},7249:function(){},2881:function(){},1987:function(e,t,r){!function(){var t={452:function(e){"use strict";e.exports=r(7334)}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var s=n[e]={exports:{}},a=!0;try{t[e](s,s.exports,o),a=!1}finally{a&&delete n[e]}return s.exports}o.ab="//";var s={};!function(){var e,t=(e=o(452))&&"object"==typeof e&&"default"in e?e.default:e,r=/https?|ftp|gopher|file/;function n(e){"string"==typeof e&&(e=v(e));var n,o,s,a,l,u,d,c,h,p=(o=(n=e).auth,s=n.hostname,a=n.protocol||"",l=n.pathname||"",u=n.hash||"",d=n.query||"",c=!1,o=o?encodeURIComponent(o).replace(/%3A/i,":")+"@":"",n.host?c=o+n.host:s&&(c=o+(~s.indexOf(":")?"["+s+"]":s),n.port&&(c+=":"+n.port)),d&&"object"==typeof d&&(d=t.encode(d)),h=n.search||d&&"?"+d||"",a&&":"!==a.substr(-1)&&(a+=":"),n.slashes||(!a||r.test(a))&&!1!==c?(c="//"+(c||""),l&&"/"!==l[0]&&(l="/"+l)):c||(c=""),u&&"#"!==u[0]&&(u="#"+u),h&&"?"!==h[0]&&(h="?"+h),{protocol:a,host:c,pathname:l=l.replace(/[?#]/g,encodeURIComponent),search:h=h.replace("#","%23"),hash:u});return""+p.protocol+p.host+p.pathname+p.search+p.hash}var a="http://",l=a+"w.w",u=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,d=/https?|ftp|gopher|file/;function c(e,t){var r="string"==typeof e?v(e):e;e="object"==typeof e?n(e):e;var o=v(t),s="";r.protocol&&!r.slashes&&(s=r.protocol,e=e.replace(r.protocol,""),s+="/"===t[0]||"/"===e[0]?"/":""),s&&o.protocol&&(s="",o.slashes||(s=o.protocol,t=t.replace(o.protocol,"")));var c=e.match(u);c&&!o.protocol&&(e=e.substr((s=c[1]+(c[2]||"")).length),/^\/\/[^/]/.test(t)&&(s=s.slice(0,-1)));var h=new URL(e,l+"/"),p=new URL(t,h).toString().replace(l,""),f=o.protocol||r.protocol;return f+=r.slashes||o.slashes?"//":"",!s&&f?p=p.replace(a,f):s&&(p=p.replace(a,"")),d.test(p)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==p.slice(-1)||(p=p.slice(0,-1)),s&&(p=s+("/"===p[0]?p.substr(1):p)),p}function h(){}h.prototype.parse=v,h.prototype.format=n,h.prototype.resolve=c,h.prototype.resolveObject=c;var p=/^https?|ftp|gopher|file/,f=/^(.*?)([#?].*)/,m=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,g=/^([a-z0-9.+-]*:)?\/\/\/*/i,y=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function v(e,r,o){if(void 0===r&&(r=!1),void 0===o&&(o=!1),e&&"object"==typeof e&&e instanceof h)return e;var s=(e=e.trim()).match(f);e=s?s[1].replace(/\\/g,"/")+s[2]:e.replace(/\\/g,"/"),y.test(e)&&"/"!==e.slice(-1)&&(e+="/");var a=!/(^javascript)/.test(e)&&e.match(m),u=g.test(e),d="";a&&(p.test(a[1])||(d=a[1].toLowerCase(),e=""+a[2]+a[3]),a[2]||(u=!1,p.test(a[1])?(d=a[1],e=""+a[3]):e="//"+a[3]),3!==a[2].length&&1!==a[2].length||(d=a[1],e="/"+a[3]));var c,v=(s?s[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),_=v&&v[1],b=new h,x="",w="";try{c=new URL(e)}catch(t){x=t,d||o||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(w="/",e=e.substr(1));try{c=new URL(e,l)}catch(e){return b.protocol=d,b.href=d,b}}b.slashes=u&&!w,b.host="w.w"===c.host?"":c.host,b.hostname="w.w"===c.hostname?"":c.hostname.replace(/(\[|\])/g,""),b.protocol=x?d||null:c.protocol,b.search=c.search.replace(/\\/g,"%5C"),b.hash=c.hash.replace(/\\/g,"%5C");var S=e.split("#");!b.search&&~S[0].indexOf("?")&&(b.search="?"),b.hash||""!==S[1]||(b.hash="#"),b.query=r?t.decode(c.search.substr(1)):b.search.substr(1),b.pathname=w+(a?c.pathname.replace(/['^|`]/g,function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()}).replace(/((?:%[0-9A-F]{2})+)/g,function(e,t){try{return decodeURIComponent(t).split("").map(function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()}).join("")}catch(e){return t}}):c.pathname),"about:"===b.protocol&&"blank"===b.pathname&&(b.protocol="",b.pathname=""),x&&"/"!==e[0]&&(b.pathname=b.pathname.substr(1)),d&&!p.test(d)&&"/"!==e.slice(-1)&&"/"===b.pathname&&(b.pathname=""),b.path=b.pathname+b.search,b.auth=[c.username,c.password].map(decodeURIComponent).filter(Boolean).join(":"),b.port=c.port,_&&!b.host.endsWith(_)&&(b.host+=_,b.port=_.slice(1)),b.href=w?""+b.pathname+b.search+b.hash:n(b);var C=/^(file)/.test(b.href)?["host","hostname"]:[];return Object.keys(b).forEach(function(e){~C.indexOf(e)||(b[e]=b[e]||null)}),b}s.parse=v,s.format=n,s.resolve=c,s.resolveObject=function(e,t){return v(c(e,t))},s.Url=h}(),e.exports=s}()},7663:function(e){!function(){var t={229:function(e){var t,r,n,o=e.exports={};function s(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function l(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u=[],d=!1,c=-1;function h(){d&&n&&(d=!1,n.length?u=n.concat(u):c=-1,u.length&&p())}function p(){if(!d){var e=l(h);d=!0;for(var t=u.length;t;){for(n=u,u=[];++c<t;)n&&n[c].run();c=-1,t=u.length}n=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new f(e,t)),1!==u.length||d||l(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var s=r[e]={exports:{}},a=!0;try{t[e](s,s.exports,n),a=!1}finally{a&&delete r[e]}return s.exports}n.ab="//";var o=n(229);e.exports=o}()},7334:function(e){!function(){"use strict";var t={815:function(e){e.exports=function(e,r,n,o){r=r||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(r);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var d=0;d<u;++d){var c,h,p,f,m=e[d].replace(a,"%20"),g=m.indexOf(n);(g>=0?(c=m.substr(0,g),h=m.substr(g+1)):(c=m,h=""),p=decodeURIComponent(c),f=decodeURIComponent(h),Object.prototype.hasOwnProperty.call(s,p))?t(s[p])?s[p].push(f):s[p]=[s[p],f]:s[p]=f}return s};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},577:function(e){var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,s,a,l){return(s=s||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e)?n(o(e),function(o){var l=encodeURIComponent(t(o))+a;return r(e[o])?n(e[o],function(e){return l+encodeURIComponent(t(e))}).join(s):l+encodeURIComponent(t(e[o]))}).join(s):l?encodeURIComponent(t(l))+a+encodeURIComponent(t(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var o=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var s=r[e]={exports:{}},a=!0;try{t[e](s,s.exports,n),a=!1}finally{a&&delete r[e]}return s.exports}n.ab="//";var o={};o.decode=o.parse=n(815),o.encode=o.stringify=n(577),e.exports=o}()},9008:function(e,t,r){e.exports=r(7828)},5726:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t,r,n,o,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}Object.defineProperty(t,"__esModule",{value:!0});var s={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(function(e){s[e]=new o(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var s=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(s.push(r.value),2!==s.length);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return s}}(e,2)||function(e,t){if(e){if("string"==typeof e)return n(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=t[0],a=t[1];s[r]=new o(r,1,!1,a,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){s[e]=new o(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){s[e]=new o(e,2,!1,e,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(e){s[e]=new o(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){s[e]=new o(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){s[e]=new o(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){s[e]=new o(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){s[e]=new o(e,5,!1,e.toLowerCase(),null,!1,!1)});var a=/[\-\:]([a-z])/g,l=function(e){return e[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(e){var t=e.replace(a,l);s[t]=new o(t,1,!1,e,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(e){var t=e.replace(a,l);s[t]=new o(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(a,l);s[t]=new o(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){s[e]=new o(e,1,!1,e.toLowerCase(),null,!1,!1)}),s.xlinkHref=new o("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){s[e]=new o(e,1,!1,e.toLowerCase(),null,!0,!0)});var u=r(8229),d=u.CAMELCASE,c=u.SAME,h=u.possibleStandardNames,p=RegExp.prototype.test.bind(RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),f=Object.keys(h).reduce(function(e,t){var r=h[t];return r===c?e[t]=t:r===d?e[t.toLowerCase()]=t:e[t]=r,e},{});t.BOOLEAN=3,t.BOOLEANISH_STRING=2,t.NUMERIC=5,t.OVERLOADED_BOOLEAN=4,t.POSITIVE_NUMERIC=6,t.RESERVED=0,t.STRING=1,t.getPropertyInfo=function(e){return s.hasOwnProperty(e)?s[e]:null},t.isCustomAttribute=p,t.possibleStandardNames=f},8229:function(e,t){t.SAME=0,t.CAMELCASE=1,t.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1}},1033:function(e,t,r){"use strict";r.r(t);var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var r=-1;return e.some(function(e,n){return e[0]===t&&(r=n,!0)}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r++){var o=n[r];e.call(t,o[1],o[0])}},t}()}(),o="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,s=void 0!==r.g&&r.g.Math===Math?r.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(s):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},l=["top","right","bottom","left","width","height","size","weight"],u="undefined"!=typeof MutationObserver,d=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,n=!1,o=0;function s(){r&&(r=!1,e()),n&&u()}function l(){a(s)}function u(){var e=Date.now();if(r){if(e-o<2)return;n=!0}else r=!0,n=!1,setTimeout(l,20);o=e}return u}(this.refresh.bind(this),0)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){o&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){o&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t;l.some(function(e){return!!~r.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var o=n[r];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},h=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||s},p=y(0,0,0,0);function f(e){return parseFloat(e)||0}function m(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(t,r){return t+f(e["border-"+r+"-width"])},0)}var g="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof h(e).SVGGraphicsElement}:function(e){return e instanceof h(e).SVGElement&&"function"==typeof e.getBBox};function y(e,t,r,n){return{x:e,y:t,width:r,height:n}}var v=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=function(e){if(!o)return p;if(g(e)){var t;return y(0,0,(t=e.getBBox()).width,t.height)}return function(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return p;var n=h(e).getComputedStyle(e),o=function(e){for(var t={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var o=n[r],s=e["padding-"+o];t[o]=f(s)}return t}(n),s=o.left+o.right,a=o.top+o.bottom,l=f(n.width),u=f(n.height);if("border-box"===n.boxSizing&&(Math.round(l+s)!==t&&(l-=m(n,"left","right")+s),Math.round(u+a)!==r&&(u-=m(n,"top","bottom")+a)),e!==h(e).document.documentElement){var d=Math.round(l+s)-t,c=Math.round(u+a)-r;1!==Math.abs(d)&&(l-=d),1!==Math.abs(c)&&(u-=c)}return y(o.left,o.top,l,u)}(e)}(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),_=function(e,t){var r,n,o,s,a,l=(r=t.x,n=t.y,o=t.width,s=t.height,c(a=Object.create(("undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object).prototype),{x:r,y:n,width:o,height:s,top:n,right:r+o,bottom:s+n,left:r}),a);c(this,{target:e,contentRect:l})},b=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new v(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new _(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),x="undefined"!=typeof WeakMap?new WeakMap:new n,w=function e(t){if(!(this instanceof e))throw TypeError("Cannot call a class as a function.");if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");var r=new b(t,d.getInstance(),this);x.set(this,r)};["observe","unobserve","disconnect"].forEach(function(e){w.prototype[e]=function(){var t;return(t=x.get(this))[e].apply(t,arguments)}});var S=void 0!==s.ResizeObserver?s.ResizeObserver:w;t.default=S},9618:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var o=n(r(7848)),s=r(6678);t.default=function(e,t){var r={};return e&&"string"==typeof e&&(0,o.default)(e,function(e,n){e&&n&&(r[(0,s.camelCase)(e,t)]=n)}),r}},6678:function(e,t){"use strict";t.__esModule=!0,t.camelCase=void 0;var r=/^--[a-zA-Z0-9-]+$/,n=/-([a-z])/g,o=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,l=function(e,t){return t.toUpperCase()},u=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){var d;return(void 0===t&&(t={}),!(d=e)||o.test(d)||r.test(d))?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(a,u):e.replace(s,u)).replace(n,l))}},7848:function(e,t,r){var n=r(8139);function o(e,t){var r,o,s,a=null;if(!e||"string"!=typeof e)return a;for(var l=n(e),u="function"==typeof t,d=0,c=l.length;d<c;d++)o=(r=l[d]).property,s=r.value,u?t(o,s,r):s&&(a||(a={}),a[o]=s);return a}e.exports=o,e.exports.default=o},2238:function(e,t,r){var n;!function(o,s){"use strict";var a="function",l="undefined",u="object",d="string",c="major",h="model",p="name",f="type",m="vendor",g="version",y="architecture",v="console",_="mobile",b="tablet",x="smarttv",w="wearable",S="embedded",C="Amazon",T="Apple",E="ASUS",k="BlackBerry",I="Browser",A="Chrome",P="Firefox",U="Google",z="Huawei",O="Microsoft",j="Motorola",R="Opera",B="Samsung",M="Sharp",L="Sony",F="Xiaomi",N="Zebra",D="Facebook",$="Chromium OS",Z="Mac OS",V=" Browser",G=function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},H=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},W=function(e,t){return typeof e===d&&-1!==Y(t).indexOf(Y(e))},Y=function(e){return e.toLowerCase()},K=function(e,t){if(typeof e===d)return e=e.replace(/^\s\s*/,""),typeof t===l?e:e.substring(0,500)},q=function(e,t){for(var r,n,o,l,d,c,h=0;h<t.length&&!d;){var p=t[h],f=t[h+1];for(r=n=0;r<p.length&&!d&&p[r];)if(d=p[r++].exec(e))for(o=0;o<f.length;o++)c=d[++n],typeof(l=f[o])===u&&l.length>0?2===l.length?typeof l[1]==a?this[l[0]]=l[1].call(this,c):this[l[0]]=l[1]:3===l.length?typeof l[1]!==a||l[1].exec&&l[1].test?this[l[0]]=c?c.replace(l[1],l[2]):void 0:this[l[0]]=c?l[1].call(this,c,l[2]):void 0:4===l.length&&(this[l[0]]=c?l[3].call(this,c.replace(l[1],l[2])):void 0):this[l]=c||s;h+=2}},X=function(e,t){for(var r in t)if(typeof t[r]===u&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(W(t[r][n],e))return"?"===r?s:r}else if(W(t[r],e))return"?"===r?s:r;return t.hasOwnProperty("*")?t["*"]:e},J={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,g],[/opios[\/ ]+([\w\.]+)/i],[g,[p,R+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[g,[p,R+" GX"]],[/\bopr\/([\w\.]+)/i],[g,[p,R]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[g,[p,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[g,[p,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,g],[/quark(?:pc)?\/([-\w\.]+)/i],[g,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[g,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[p,"UC"+I]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[g,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[g,[p,"Smart Lenovo "+I]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+I],g],[/\bfocus\/([\w\.]+)/i],[g,[p,P+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[p,R+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[p,R+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[p,"MIUI"+V]],[/fxios\/([\w\.-]+)/i],[g,[p,P]],[/\bqihoobrowser\/?([\w\.]*)/i],[g,[p,"360"]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],g],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+V],g],[/samsungbrowser\/([\w\.]+)/i],[g,[p,B+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[g,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[p,g],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[g,p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,D],g],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[p,A+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,A+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[p,"Android "+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[g,X,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],g],[/(wolvic|librewolf)\/([\w\.]+)/i],[p,g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[p,P+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[p,[g,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,Y]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[y,/ower/,"",Y]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[y,Y]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[m,B],[f,b]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[h,[m,B],[f,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[m,T],[f,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[m,T],[f,b]],[/(macintosh);/i],[h,[m,T]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[m,M],[f,_]],[/(?:honor)([-\w ]+)[;\)]/i],[h,[m,"Honor"],[f,_]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[m,z],[f,b]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[m,z],[f,_]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[h,/_/g," "],[m,F],[f,_]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[m,F],[f,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[m,"OPPO"],[f,_]],[/\b(opd2\d{3}a?) bui/i],[h,[m,"OPPO"],[f,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[m,"Vivo"],[f,_]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[h,[m,"Realme"],[f,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[m,j],[f,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[m,j],[f,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[m,"LG"],[f,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[m,"LG"],[f,_]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[m,"Lenovo"],[f,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[m,"Nokia"],[f,_]],[/(pixel c)\b/i],[h,[m,U],[f,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[m,U],[f,_]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[m,L],[f,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[m,L],[f,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[m,"OnePlus"],[f,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[m,C],[f,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[m,C],[f,_]],[/(playbook);[-\w\),; ]+(rim)/i],[h,m,[f,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[m,k],[f,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[m,E],[f,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[m,E],[f,_]],[/(nexus 9)/i],[h,[m,"HTC"],[f,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[h,/_/g," "],[f,_]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[h,[m,"TCL"],[f,b]],[/(itel) ((\w+))/i],[[m,Y],h,[f,X,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[m,"Acer"],[f,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[m,"Meizu"],[f,_]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[h,[m,"Ulefone"],[f,_]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[h,[m,"Energizer"],[f,_]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[h,[m,"Cat"],[f,_]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[h,[m,"Smartfren"],[f,_]],[/droid.+; (a(?:015|06[35]|142p?))/i],[h,[m,"Nothing"],[f,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,h,[f,_]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,h,[f,b]],[/(surface duo)/i],[h,[m,O],[f,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[m,"Fairphone"],[f,_]],[/(u304aa)/i],[h,[m,"AT&T"],[f,_]],[/\bsie-(\w*)/i],[h,[m,"Siemens"],[f,_]],[/\b(rct\w+) b/i],[h,[m,"RCA"],[f,b]],[/\b(venue[\d ]{2,7}) b/i],[h,[m,"Dell"],[f,b]],[/\b(q(?:mv|ta)\w+) b/i],[h,[m,"Verizon"],[f,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[m,"Barnes & Noble"],[f,b]],[/\b(tm\d{3}\w+) b/i],[h,[m,"NuVision"],[f,b]],[/\b(k88) b/i],[h,[m,"ZTE"],[f,b]],[/\b(nx\d{3}j) b/i],[h,[m,"ZTE"],[f,_]],[/\b(gen\d{3}) b.+49h/i],[h,[m,"Swiss"],[f,_]],[/\b(zur\d{3}) b/i],[h,[m,"Swiss"],[f,b]],[/\b((zeki)?tb.*\b) b/i],[h,[m,"Zeki"],[f,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],h,[f,b]],[/\b(ns-?\w{0,9}) b/i],[h,[m,"Insignia"],[f,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[m,"NextBook"],[f,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],h,[f,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],h,[f,_]],[/\b(ph-1) /i],[h,[m,"Essential"],[f,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[m,"Envizen"],[f,b]],[/\b(trio[-\w\. ]+) b/i],[h,[m,"MachSpeed"],[f,b]],[/\btu_(1491) b/i],[h,[m,"Rotor"],[f,b]],[/(shield[\w ]+) b/i],[h,[m,"Nvidia"],[f,b]],[/(sprint) (\w+)/i],[m,h,[f,_]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[m,O],[f,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[m,N],[f,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[m,N],[f,_]],[/smart-tv.+(samsung)/i],[m,[f,x]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[m,B],[f,x]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,"LG"],[f,x]],[/(apple) ?tv/i],[m,[h,T+" TV"],[f,x]],[/crkey/i],[[h,A+"cast"],[m,U],[f,x]],[/droid.+aft(\w+)( bui|\))/i],[h,[m,C],[f,x]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[m,M],[f,x]],[/(bravia[\w ]+)( bui|\))/i],[h,[m,L],[f,x]],[/(mitv-\w{5}) bui/i],[h,[m,F],[f,x]],[/Hbbtv.*(technisat) (.*);/i],[m,h,[f,x]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,K],[h,K],[f,x]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,x]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,h,[f,v]],[/droid.+; (shield) bui/i],[h,[m,"Nvidia"],[f,v]],[/(playstation [345portablevi]+)/i],[h,[m,L],[f,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[m,O],[f,v]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[h,[m,B],[f,w]],[/((pebble))app/i],[m,h,[f,w]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[m,T],[f,w]],[/droid.+; (glass) \d/i],[h,[m,U],[f,w]],[/droid.+; (wt63?0{2,3})\)/i],[h,[m,N],[f,w]],[/droid.+; (glass) \d/i],[h,[m,U],[f,w]],[/(pico) (4|neo3(?: link|pro)?)/i],[m,h,[f,w]],[/; (quest( \d| pro)?)/i],[h,[m,D],[f,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[f,S]],[/(aeobc)\b/i],[h,[m,C],[f,S]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[h,[f,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[f,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,_]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[p,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[p,g],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,g],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[g,X,J]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,X,J],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,Z],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,g],[/\(bb(10);/i],[g,[p,k]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[p,P+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[p,A+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,$],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,g],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,g]]},ee=function(e,t){if(typeof e===u&&(t=e,e=s),!(this instanceof ee))return new ee(e,t).getResult();var r=typeof o!==l&&o.navigator?o.navigator:s,n=e||(r&&r.userAgent?r.userAgent:""),v=r&&r.userAgentData?r.userAgentData:s,x=t?G(Q,t):Q,w=r&&r.userAgent==n;return this.getBrowser=function(){var e,t={};return t[p]=s,t[g]=s,q.call(t,n,x.browser),t[c]=typeof(e=t[g])===d?e.replace(/[^\d\.]/g,"").split(".")[0]:s,w&&r&&r.brave&&typeof r.brave.isBrave==a&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[y]=s,q.call(e,n,x.cpu),e},this.getDevice=function(){var e={};return e[m]=s,e[h]=s,e[f]=s,q.call(e,n,x.device),w&&!e[f]&&v&&v.mobile&&(e[f]=_),w&&"Macintosh"==e[h]&&r&&typeof r.standalone!==l&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[h]="iPad",e[f]=b),e},this.getEngine=function(){var e={};return e[p]=s,e[g]=s,q.call(e,n,x.engine),e},this.getOS=function(){var e={};return e[p]=s,e[g]=s,q.call(e,n,x.os),w&&!e[p]&&v&&v.platform&&"Unknown"!=v.platform&&(e[p]=v.platform.replace(/chrome os/i,$).replace(/macos/i,Z)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===d&&e.length>500?K(e,500):e,this},this.setUA(n),this};ee.VERSION="1.0.40",ee.BROWSER=H([p,g,c]),ee.CPU=H([y]),ee.DEVICE=H([h,m,f,v,_,x,b,w,S]),ee.ENGINE=ee.OS=H([p,g]),typeof t!==l?(e.exports&&(t=e.exports=ee),t.UAParser=ee):r.amdO?s!==(n=(function(){return ee}).call(t,r,t,e))&&(e.exports=n):typeof o!==l&&(o.UAParser=ee);var et=typeof o!==l&&(o.jQuery||o.Zepto);if(et&&!et.ua){var ei=new ee;et.ua=ei.getResult(),et.ua.get=function(){return ei.getUA()},et.ua.set=function(e){ei.setUA(e);var t=ei.getResult();for(var r in t)et.ua[r]=t[r]}}}("object"==typeof window?window:this)},3967:function(e,t){var r;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=s(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=s(t,r));return t}(r)))}return e}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0!==(r=(function(){return o}).apply(t,[]))&&(e.exports=r)}()},3194:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.z=void 0;let l=s(r(6544));t.z=l,a(r(6544),t),t.default=l},3086:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZodError=t.quotelessJson=t.ZodIssueCode=void 0;let n=r(1749);t.ZodIssueCode=n.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),t.quotelessJson=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class o extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let o of e.issues)if("invalid_union"===o.code)o.unionErrors.map(n);else if("invalid_return_type"===o.code)n(o.returnTypeError);else if("invalid_arguments"===o.code)n(o.argumentsError);else if(0===o.path.length)r._errors.push(t(o));else{let e=r,n=0;for(;n<o.path.length;){let r=o.path[n];n===o.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(o))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof o))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,n.util.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)if(n.path.length>0){let r=n.path[0];t[r]=t[r]||[],t[r].push(e(n))}else r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}t.ZodError=o,o.create=e=>new o(e)},2411:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultErrorMap=void 0,t.setErrorMap=function(e){s=e},t.getErrorMap=function(){return s};let o=n(r(3290));t.defaultErrorMap=o.default;let s=o.default},6544:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(2411),t),o(r(8581),t),o(r(4764),t),o(r(1749),t),o(r(2995),t),o(r(3086),t)},5596:function(e,t){"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.errorUtil=void 0,(n=r||(t.errorUtil=r={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},n.toString=e=>"string"==typeof e?e:e?.message},8581:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isAsync=t.isValid=t.isDirty=t.isAborted=t.OK=t.DIRTY=t.INVALID=t.ParseStatus=t.EMPTY_PATH=t.makeIssue=void 0,t.addIssueToContext=function(e,r){let n=(0,o.getErrorMap)(),a=(0,t.makeIssue)({issueData:r,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===s.default?void 0:s.default].filter(e=>!!e)});e.common.issues.push(a)};let o=r(2411),s=n(r(3290));t.makeIssue=e=>{let{data:t,path:r,errorMaps:n,issueData:o}=e,s=[...r,...o.path||[]],a={...o,path:s};if(void 0!==o.message)return{...o,path:s,message:o.message};let l="";for(let e of n.filter(e=>!!e).slice().reverse())l=e(a,{data:t,defaultError:l}).message;return{...o,path:s,message:l}},t.EMPTY_PATH=[];class a{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let o of r){if("aborted"===o.status)return t.INVALID;"dirty"===o.status&&e.dirty(),n.push(o.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return a.mergeObjectSync(e,r)}static mergeObjectSync(e,r){let n={};for(let o of r){let{key:r,value:s}=o;if("aborted"===r.status||"aborted"===s.status)return t.INVALID;"dirty"===r.status&&e.dirty(),"dirty"===s.status&&e.dirty(),"__proto__"!==r.value&&(void 0!==s.value||o.alwaysSet)&&(n[r.value]=s.value)}return{status:e.value,value:n}}}t.ParseStatus=a,t.INVALID=Object.freeze({status:"aborted"}),t.DIRTY=e=>({status:"dirty",value:e}),t.OK=e=>({status:"valid",value:e}),t.isAborted=e=>"aborted"===e.status,t.isDirty=e=>"dirty"===e.status,t.isValid=e=>"valid"===e.status,t.isAsync=e=>"undefined"!=typeof Promise&&e instanceof Promise},4764:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1749:function(e,t){"use strict";var r,n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.getParsedType=t.ZodParsedType=t.objectUtil=t.util=void 0,(o=r||(t.util=r={})).assertEqual=e=>{},o.assertIs=function(e){},o.assertNever=function(e){throw Error()},o.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},o.getValidEnumValues=e=>{let t=o.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),r={};for(let n of t)r[n]=e[n];return o.objectValues(r)},o.objectValues=e=>o.objectKeys(e).map(function(t){return e[t]}),o.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},o.find=(e,t)=>{for(let r of e)if(t(r))return r},o.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,o.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},o.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(n||(t.objectUtil=n={})).mergeShapes=(e,t)=>({...e,...t}),t.ZodParsedType=r.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),t.getParsedType=e=>{switch(typeof e){case"undefined":return t.ZodParsedType.undefined;case"string":return t.ZodParsedType.string;case"number":return Number.isNaN(e)?t.ZodParsedType.nan:t.ZodParsedType.number;case"boolean":return t.ZodParsedType.boolean;case"function":return t.ZodParsedType.function;case"bigint":return t.ZodParsedType.bigint;case"symbol":return t.ZodParsedType.symbol;case"object":if(Array.isArray(e))return t.ZodParsedType.array;if(null===e)return t.ZodParsedType.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return t.ZodParsedType.promise;if("undefined"!=typeof Map&&e instanceof Map)return t.ZodParsedType.map;if("undefined"!=typeof Set&&e instanceof Set)return t.ZodParsedType.set;if("undefined"!=typeof Date&&e instanceof Date)return t.ZodParsedType.date;return t.ZodParsedType.object;default:return t.ZodParsedType.unknown}}},3290:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(3086),o=r(1749);t.default=(e,t)=>{let r;switch(e.code){case n.ZodIssueCode.invalid_type:r=e.received===o.ZodParsedType.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case n.ZodIssueCode.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,o.util.jsonStringifyReplacer)}`;break;case n.ZodIssueCode.unrecognized_keys:r=`Unrecognized key(s) in object: ${o.util.joinValues(e.keys,", ")}`;break;case n.ZodIssueCode.invalid_union:r="Invalid input";break;case n.ZodIssueCode.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${o.util.joinValues(e.options)}`;break;case n.ZodIssueCode.invalid_enum_value:r=`Invalid enum value. Expected ${o.util.joinValues(e.options)}, received '${e.received}'`;break;case n.ZodIssueCode.invalid_arguments:r="Invalid function arguments";break;case n.ZodIssueCode.invalid_return_type:r="Invalid function return type";break;case n.ZodIssueCode.invalid_date:r="Invalid date";break;case n.ZodIssueCode.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:o.util.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case n.ZodIssueCode.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case n.ZodIssueCode.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case n.ZodIssueCode.custom:r="Invalid input";break;case n.ZodIssueCode.invalid_intersection_types:r="Intersection results could not be merged";break;case n.ZodIssueCode.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case n.ZodIssueCode.not_finite:r="Number must be finite";break;default:r=t.defaultError,o.util.assertNever(e)}return{message:r}}},2995:function(e,t,r){"use strict";var n,o;let s;Object.defineProperty(t,"__esModule",{value:!0}),t.discriminatedUnion=t.date=t.boolean=t.bigint=t.array=t.any=t.coerce=t.ZodFirstPartyTypeKind=t.late=t.ZodSchema=t.Schema=t.ZodReadonly=t.ZodPipeline=t.ZodBranded=t.BRAND=t.ZodNaN=t.ZodCatch=t.ZodDefault=t.ZodNullable=t.ZodOptional=t.ZodTransformer=t.ZodEffects=t.ZodPromise=t.ZodNativeEnum=t.ZodEnum=t.ZodLiteral=t.ZodLazy=t.ZodFunction=t.ZodSet=t.ZodMap=t.ZodRecord=t.ZodTuple=t.ZodIntersection=t.ZodDiscriminatedUnion=t.ZodUnion=t.ZodObject=t.ZodArray=t.ZodVoid=t.ZodNever=t.ZodUnknown=t.ZodAny=t.ZodNull=t.ZodUndefined=t.ZodSymbol=t.ZodDate=t.ZodBoolean=t.ZodBigInt=t.ZodNumber=t.ZodString=t.ZodType=void 0,t.NEVER=t.void=t.unknown=t.union=t.undefined=t.tuple=t.transformer=t.symbol=t.string=t.strictObject=t.set=t.record=t.promise=t.preprocess=t.pipeline=t.ostring=t.optional=t.onumber=t.oboolean=t.object=t.number=t.nullable=t.null=t.never=t.nativeEnum=t.nan=t.map=t.literal=t.lazy=t.intersection=t.instanceof=t.function=t.enum=t.effect=void 0,t.datetimeRegex=O,t.custom=e_;let a=r(3086),l=r(2411),u=r(5596),d=r(8581),c=r(1749);class h{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let p=(e,t)=>{if((0,d.isValid)(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new a.ZodError(e.common.issues);return this._error=t,this._error}}};function f(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:o}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:o}:{errorMap:(t,o)=>{let{message:s}=e;return"invalid_enum_value"===t.code?{message:s??o.defaultError}:void 0===o.data?{message:s??n??o.defaultError}:"invalid_type"!==t.code?{message:o.defaultError}:{message:s??r??o.defaultError}},description:o}}class m{get description(){return this._def.description}_getType(e){return(0,c.getParsedType)(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:(0,c.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new d.ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:(0,c.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if((0,d.isAsync)(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,c.getParsedType)(e)},n=this._parseSync({data:e,path:r.path,parent:r});return p(r,n)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,c.getParsedType)(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return(0,d.isValid)(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>(0,d.isValid)(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,c.getParsedType)(e)},n=this._parse({data:e,path:r.path,parent:r});return p(r,await ((0,d.isAsync)(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let o=e(t),s=()=>n.addIssue({code:a.ZodIssueCode.custom,...r(t)});return"undefined"!=typeof Promise&&o instanceof Promise?o.then(e=>!!e||(s(),!1)):!!o||(s(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new eu({schema:this,typeName:n.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return ed.create(this,this._def)}nullable(){return ec.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return H.create(this)}promise(){return el.create(this,this._def)}or(e){return Y.create([this,e],this._def)}and(e){return X.create(this,e,this._def)}transform(e){return new eu({...f(this._def),schema:this,typeName:n.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new eh({...f(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:n.ZodDefault})}brand(){return new em({typeName:n.ZodBranded,type:this,...f(this._def)})}catch(e){return new ep({...f(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:n.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return eg.create(this,e)}readonly(){return ey.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}t.ZodType=m,t.Schema=m,t.ZodSchema=m;let g=/^c[^\s-]{8,}$/i,y=/^[0-9a-z]+$/,v=/^[0-9A-HJKMNP-TV-Z]{26}$/i,_=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,b=/^[a-z0-9_-]{21}$/i,x=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,w=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,S=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,C=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,T=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,E=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,k=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,I=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,A=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,P="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",U=RegExp(`^${P}$`);function z(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function O(e){let t=`${P}T${z(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class j extends m{_parse(e){var t,r,n,o;let l;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==c.ZodParsedType.string){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.invalid_type,expected:c.ZodParsedType.string,received:t.parsedType}),d.INVALID}let u=new d.ParseStatus;for(let h of this._def.checks)if("min"===h.kind)e.data.length<h.value&&(l=this._getOrReturnCtx(e,l),(0,d.addIssueToContext)(l,{code:a.ZodIssueCode.too_small,minimum:h.value,type:"string",inclusive:!0,exact:!1,message:h.message}),u.dirty());else if("max"===h.kind)e.data.length>h.value&&(l=this._getOrReturnCtx(e,l),(0,d.addIssueToContext)(l,{code:a.ZodIssueCode.too_big,maximum:h.value,type:"string",inclusive:!0,exact:!1,message:h.message}),u.dirty());else if("length"===h.kind){let t=e.data.length>h.value,r=e.data.length<h.value;(t||r)&&(l=this._getOrReturnCtx(e,l),t?(0,d.addIssueToContext)(l,{code:a.ZodIssueCode.too_big,maximum:h.value,type:"string",inclusive:!0,exact:!0,message:h.message}):r&&(0,d.addIssueToContext)(l,{code:a.ZodIssueCode.too_small,minimum:h.value,type:"string",inclusive:!0,exact:!0,message:h.message}),u.dirty())}else if("email"===h.kind)S.test(e.data)||(l=this._getOrReturnCtx(e,l),(0,d.addIssueToContext)(l,{validation:"email",code:a.ZodIssueCode.invalid_string,message:h.message}),u.dirty());else if("emoji"===h.kind)s||(s=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),s.test(e.data)||(l=this._getOrReturnCtx(e,l),(0,d.addIssueToContext)(l,{validation:"emoji",code:a.ZodIssueCode.invalid_string,message:h.message}),u.dirty());else if("uuid"===h.kind)_.test(e.data)||(l=this._getOrReturnCtx(e,l),(0,d.addIssueToContext)(l,{validation:"uuid",code:a.ZodIssueCode.invalid_string,message:h.message}),u.dirty());else if("nanoid"===h.kind)b.test(e.data)||(l=this._getOrReturnCtx(e,l),(0,d.addIssueToContext)(l,{validation:"nanoid",code:a.ZodIssueCode.invalid_string,message:h.message}),u.dirty());else if("cuid"===h.kind)g.test(e.data)||(l=this._getOrReturnCtx(e,l),(0,d.addIssueToContext)(l,{validation:"cuid",code:a.ZodIssueCode.invalid_string,message:h.message}),u.dirty());else if("cuid2"===h.kind)y.test(e.data)||(l=this._getOrReturnCtx(e,l),(0,d.addIssueToContext)(l,{validation:"cuid2",code:a.ZodIssueCode.invalid_string,message:h.message}),u.dirty());else if("ulid"===h.kind)v.test(e.data)||(l=this._getOrReturnCtx(e,l),(0,d.addIssueToContext)(l,{validation:"ulid",code:a.ZodIssueCode.invalid_string,message:h.message}),u.dirty());else if("url"===h.kind)try{new URL(e.data)}catch{l=this._getOrReturnCtx(e,l),(0,d.addIssueToContext)(l,{validation:"url",code:a.ZodIssueCode.invalid_string,message:h.message}),u.dirty()}else"regex"===h.kind?(h.regex.lastIndex=0,h.regex.test(e.data)||(l=this._getOrReturnCtx(e,l),(0,d.addIssueToContext)(l,{validation:"regex",code:a.ZodIssueCode.invalid_string,message:h.message}),u.dirty())):"trim"===h.kind?e.data=e.data.trim():"includes"===h.kind?e.data.includes(h.value,h.position)||(l=this._getOrReturnCtx(e,l),(0,d.addIssueToContext)(l,{code:a.ZodIssueCode.invalid_string,validation:{includes:h.value,position:h.position},message:h.message}),u.dirty()):"toLowerCase"===h.kind?e.data=e.data.toLowerCase():"toUpperCase"===h.kind?e.data=e.data.toUpperCase():"startsWith"===h.kind?e.data.startsWith(h.value)||(l=this._getOrReturnCtx(e,l),(0,d.addIssueToContext)(l,{code:a.ZodIssueCode.invalid_string,validation:{startsWith:h.value},message:h.message}),u.dirty()):"endsWith"===h.kind?e.data.endsWith(h.value)||(l=this._getOrReturnCtx(e,l),(0,d.addIssueToContext)(l,{code:a.ZodIssueCode.invalid_string,validation:{endsWith:h.value},message:h.message}),u.dirty()):"datetime"===h.kind?O(h).test(e.data)||(l=this._getOrReturnCtx(e,l),(0,d.addIssueToContext)(l,{code:a.ZodIssueCode.invalid_string,validation:"datetime",message:h.message}),u.dirty()):"date"===h.kind?U.test(e.data)||(l=this._getOrReturnCtx(e,l),(0,d.addIssueToContext)(l,{code:a.ZodIssueCode.invalid_string,validation:"date",message:h.message}),u.dirty()):"time"===h.kind?RegExp(`^${z(h)}$`).test(e.data)||(l=this._getOrReturnCtx(e,l),(0,d.addIssueToContext)(l,{code:a.ZodIssueCode.invalid_string,validation:"time",message:h.message}),u.dirty()):"duration"===h.kind?w.test(e.data)||(l=this._getOrReturnCtx(e,l),(0,d.addIssueToContext)(l,{validation:"duration",code:a.ZodIssueCode.invalid_string,message:h.message}),u.dirty()):"ip"===h.kind?(t=e.data,("v4"===(r=h.version)||!r)&&C.test(t)||("v6"===r||!r)&&E.test(t)||(l=this._getOrReturnCtx(e,l),(0,d.addIssueToContext)(l,{validation:"ip",code:a.ZodIssueCode.invalid_string,message:h.message}),u.dirty())):"jwt"===h.kind?!function(e,t){if(!x.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(n));if("object"!=typeof o||null===o||"typ"in o&&o?.typ!=="JWT"||!o.alg||t&&o.alg!==t)return!1;return!0}catch{return!1}}(e.data,h.alg)&&(l=this._getOrReturnCtx(e,l),(0,d.addIssueToContext)(l,{validation:"jwt",code:a.ZodIssueCode.invalid_string,message:h.message}),u.dirty()):"cidr"===h.kind?(n=e.data,("v4"===(o=h.version)||!o)&&T.test(n)||("v6"===o||!o)&&k.test(n)||(l=this._getOrReturnCtx(e,l),(0,d.addIssueToContext)(l,{validation:"cidr",code:a.ZodIssueCode.invalid_string,message:h.message}),u.dirty())):"base64"===h.kind?I.test(e.data)||(l=this._getOrReturnCtx(e,l),(0,d.addIssueToContext)(l,{validation:"base64",code:a.ZodIssueCode.invalid_string,message:h.message}),u.dirty()):"base64url"===h.kind?A.test(e.data)||(l=this._getOrReturnCtx(e,l),(0,d.addIssueToContext)(l,{validation:"base64url",code:a.ZodIssueCode.invalid_string,message:h.message}),u.dirty()):c.util.assertNever(h);return{status:u.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:a.ZodIssueCode.invalid_string,...u.errorUtil.errToObj(r)})}_addCheck(e){return new j({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...u.errorUtil.errToObj(e)})}url(e){return this._addCheck({kind:"url",...u.errorUtil.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...u.errorUtil.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...u.errorUtil.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...u.errorUtil.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...u.errorUtil.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...u.errorUtil.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...u.errorUtil.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...u.errorUtil.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...u.errorUtil.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...u.errorUtil.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...u.errorUtil.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...u.errorUtil.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...u.errorUtil.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...u.errorUtil.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...u.errorUtil.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...u.errorUtil.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...u.errorUtil.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...u.errorUtil.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...u.errorUtil.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...u.errorUtil.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...u.errorUtil.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...u.errorUtil.errToObj(t)})}nonempty(e){return this.min(1,u.errorUtil.errToObj(e))}trim(){return new j({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new j({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new j({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}t.ZodString=j,j.create=e=>new j({checks:[],typeName:n.ZodString,coerce:e?.coerce??!1,...f(e)});class R extends m{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==c.ZodParsedType.number){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.invalid_type,expected:c.ZodParsedType.number,received:t.parsedType}),d.INVALID}let r=new d.ParseStatus;for(let n of this._def.checks)"int"===n.kind?c.util.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,o=r>n?r:n;return Number.parseInt(e.toFixed(o).replace(".",""))%Number.parseInt(t.toFixed(o).replace(".",""))/10**o}(e.data,n.value)&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.not_finite,message:n.message}),r.dirty()):c.util.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,u.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,u.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,u.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,u.errorUtil.toString(t))}setLimit(e,t,r,n){return new R({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:u.errorUtil.toString(n)}]})}_addCheck(e){return new R({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:u.errorUtil.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:u.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:u.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:u.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:u.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:u.errorUtil.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:u.errorUtil.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:u.errorUtil.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:u.errorUtil.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&c.util.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}t.ZodNumber=R,R.create=e=>new R({checks:[],typeName:n.ZodNumber,coerce:e?.coerce||!1,...f(e)});class B extends m{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==c.ZodParsedType.bigint)return this._getInvalidInput(e);let r=new d.ParseStatus;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):c.util.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.invalid_type,expected:c.ZodParsedType.bigint,received:t.parsedType}),d.INVALID}gte(e,t){return this.setLimit("min",e,!0,u.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,u.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,u.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,u.errorUtil.toString(t))}setLimit(e,t,r,n){return new B({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:u.errorUtil.toString(n)}]})}_addCheck(e){return new B({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:u.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:u.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:u.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:u.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:u.errorUtil.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}t.ZodBigInt=B,B.create=e=>new B({checks:[],typeName:n.ZodBigInt,coerce:e?.coerce??!1,...f(e)});class M extends m{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==c.ZodParsedType.boolean){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.invalid_type,expected:c.ZodParsedType.boolean,received:t.parsedType}),d.INVALID}return(0,d.OK)(e.data)}}t.ZodBoolean=M,M.create=e=>new M({typeName:n.ZodBoolean,coerce:e?.coerce||!1,...f(e)});class L extends m{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==c.ZodParsedType.date){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.invalid_type,expected:c.ZodParsedType.date,received:t.parsedType}),d.INVALID}if(Number.isNaN(e.data.getTime())){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.invalid_date}),d.INVALID}let r=new d.ParseStatus;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):c.util.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new L({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:u.errorUtil.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:u.errorUtil.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}t.ZodDate=L,L.create=e=>new L({checks:[],coerce:e?.coerce||!1,typeName:n.ZodDate,...f(e)});class F extends m{_parse(e){if(this._getType(e)!==c.ZodParsedType.symbol){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.invalid_type,expected:c.ZodParsedType.symbol,received:t.parsedType}),d.INVALID}return(0,d.OK)(e.data)}}t.ZodSymbol=F,F.create=e=>new F({typeName:n.ZodSymbol,...f(e)});class N extends m{_parse(e){if(this._getType(e)!==c.ZodParsedType.undefined){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.invalid_type,expected:c.ZodParsedType.undefined,received:t.parsedType}),d.INVALID}return(0,d.OK)(e.data)}}t.ZodUndefined=N,N.create=e=>new N({typeName:n.ZodUndefined,...f(e)});class D extends m{_parse(e){if(this._getType(e)!==c.ZodParsedType.null){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.invalid_type,expected:c.ZodParsedType.null,received:t.parsedType}),d.INVALID}return(0,d.OK)(e.data)}}t.ZodNull=D,D.create=e=>new D({typeName:n.ZodNull,...f(e)});class $ extends m{constructor(){super(...arguments),this._any=!0}_parse(e){return(0,d.OK)(e.data)}}t.ZodAny=$,$.create=e=>new $({typeName:n.ZodAny,...f(e)});class Z extends m{constructor(){super(...arguments),this._unknown=!0}_parse(e){return(0,d.OK)(e.data)}}t.ZodUnknown=Z,Z.create=e=>new Z({typeName:n.ZodUnknown,...f(e)});class V extends m{_parse(e){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.invalid_type,expected:c.ZodParsedType.never,received:t.parsedType}),d.INVALID}}t.ZodNever=V,V.create=e=>new V({typeName:n.ZodNever,...f(e)});class G extends m{_parse(e){if(this._getType(e)!==c.ZodParsedType.undefined){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.invalid_type,expected:c.ZodParsedType.void,received:t.parsedType}),d.INVALID}return(0,d.OK)(e.data)}}t.ZodVoid=G,G.create=e=>new G({typeName:n.ZodVoid,...f(e)});class H extends m{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==c.ZodParsedType.array)return(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.invalid_type,expected:c.ZodParsedType.array,received:t.parsedType}),d.INVALID;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,o=t.data.length<n.exactLength.value;(e||o)&&((0,d.addIssueToContext)(t,{code:e?a.ZodIssueCode.too_big:a.ZodIssueCode.too_small,minimum:o?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&((0,d.addIssueToContext)(t,{code:a.ZodIssueCode.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&((0,d.addIssueToContext)(t,{code:a.ZodIssueCode.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new h(t,e,t.path,r)))).then(e=>d.ParseStatus.mergeArray(r,e));let o=[...t.data].map((e,r)=>n.type._parseSync(new h(t,e,t.path,r)));return d.ParseStatus.mergeArray(r,o)}get element(){return this._def.type}min(e,t){return new H({...this._def,minLength:{value:e,message:u.errorUtil.toString(t)}})}max(e,t){return new H({...this._def,maxLength:{value:e,message:u.errorUtil.toString(t)}})}length(e,t){return new H({...this._def,exactLength:{value:e,message:u.errorUtil.toString(t)}})}nonempty(e){return this.min(1,e)}}t.ZodArray=H,H.create=(e,t)=>new H({type:e,minLength:null,maxLength:null,exactLength:null,typeName:n.ZodArray,...f(t)});class W extends m{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=c.util.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==c.ZodParsedType.object){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.invalid_type,expected:c.ZodParsedType.object,received:t.parsedType}),d.INVALID}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof V&&"strip"===this._def.unknownKeys))for(let e in r.data)o.includes(e)||s.push(e);let l=[];for(let e of o){let t=n[e],o=r.data[e];l.push({key:{status:"valid",value:e},value:t._parse(new h(r,o,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof V){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of s)l.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)s.length>0&&((0,d.addIssueToContext)(r,{code:a.ZodIssueCode.unrecognized_keys,keys:s}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of s){let n=r.data[t];l.push({key:{status:"valid",value:t},value:e._parse(new h(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of l){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>d.ParseStatus.mergeObjectSync(t,e)):d.ParseStatus.mergeObjectSync(t,l)}get shape(){return this._def.shape()}strict(e){return u.errorUtil.errToObj,new W({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let n=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:u.errorUtil.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new W({...this._def,unknownKeys:"strip"})}passthrough(){return new W({...this._def,unknownKeys:"passthrough"})}extend(e){return new W({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new W({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:n.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new W({...this._def,catchall:e})}pick(e){let t={};for(let r of c.util.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new W({...this._def,shape:()=>t})}omit(e){let t={};for(let r of c.util.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new W({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof W){let r={};for(let n in t.shape){let o=t.shape[n];r[n]=ed.create(e(o))}return new W({...t._def,shape:()=>r})}return t instanceof H?new H({...t._def,type:e(t.element)}):t instanceof ed?ed.create(e(t.unwrap())):t instanceof ec?ec.create(e(t.unwrap())):t instanceof J?J.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};for(let r of c.util.objectKeys(this.shape)){let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}return new W({...this._def,shape:()=>t})}required(e){let t={};for(let r of c.util.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof ed;)e=e._def.innerType;t[r]=e}return new W({...this._def,shape:()=>t})}keyof(){return eo(c.util.objectKeys(this.shape))}}t.ZodObject=W,W.create=(e,t)=>new W({shape:()=>e,unknownKeys:"strip",catchall:V.create(),typeName:n.ZodObject,...f(t)}),W.strictCreate=(e,t)=>new W({shape:()=>e,unknownKeys:"strict",catchall:V.create(),typeName:n.ZodObject,...f(t)}),W.lazycreate=(e,t)=>new W({shape:e,unknownKeys:"strip",catchall:V.create(),typeName:n.ZodObject,...f(t)});class Y extends m{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new a.ZodError(e.ctx.common.issues));return(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.invalid_union,unionErrors:r}),d.INVALID});{let e;let n=[];for(let o of r){let r={...t,common:{...t.common,issues:[]},parent:null},s=o._parseSync({data:t.data,path:t.path,parent:r});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let o=n.map(e=>new a.ZodError(e));return(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.invalid_union,unionErrors:o}),d.INVALID}}get options(){return this._def.options}}t.ZodUnion=Y,Y.create=(e,t)=>new Y({options:e,typeName:n.ZodUnion,...f(t)});let K=e=>{if(e instanceof er)return K(e.schema);if(e instanceof eu)return K(e.innerType());if(e instanceof en)return[e.value];if(e instanceof es)return e.options;if(e instanceof ea)return c.util.objectValues(e.enum);if(e instanceof eh)return K(e._def.innerType);if(e instanceof N)return[void 0];else if(e instanceof D)return[null];else if(e instanceof ed)return[void 0,...K(e.unwrap())];else if(e instanceof ec)return[null,...K(e.unwrap())];else if(e instanceof em)return K(e.unwrap());else if(e instanceof ey)return K(e.unwrap());else if(e instanceof ep)return K(e._def.innerType);else return[]};class q extends m{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==c.ZodParsedType.object)return(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.invalid_type,expected:c.ZodParsedType.object,received:t.parsedType}),d.INVALID;let r=this.discriminator,n=t.data[r],o=this.optionsMap.get(n);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):((0,d.addIssueToContext)(t,{code:a.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),d.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let o=new Map;for(let r of t){let t=K(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let n of t){if(o.has(n))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);o.set(n,r)}}return new q({typeName:n.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:o,...f(r)})}}t.ZodDiscriminatedUnion=q;class X extends m{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if((0,d.isAborted)(e)||(0,d.isAborted)(n))return d.INVALID;let o=function e(t,r){let n=(0,c.getParsedType)(t),o=(0,c.getParsedType)(r);if(t===r)return{valid:!0,data:t};if(n===c.ZodParsedType.object&&o===c.ZodParsedType.object){let n=c.util.objectKeys(r),o=c.util.objectKeys(t).filter(e=>-1!==n.indexOf(e)),s={...t,...r};for(let n of o){let o=e(t[n],r[n]);if(!o.valid)return{valid:!1};s[n]=o.data}return{valid:!0,data:s}}if(n===c.ZodParsedType.array&&o===c.ZodParsedType.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let o=0;o<t.length;o++){let s=e(t[o],r[o]);if(!s.valid)return{valid:!1};n.push(s.data)}return{valid:!0,data:n}}return n===c.ZodParsedType.date&&o===c.ZodParsedType.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}(e.value,n.value);return o.valid?(((0,d.isDirty)(e)||(0,d.isDirty)(n))&&t.dirty(),{status:t.value,value:o.data}):((0,d.addIssueToContext)(r,{code:a.ZodIssueCode.invalid_intersection_types}),d.INVALID)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}t.ZodIntersection=X,X.create=(e,t,r)=>new X({left:e,right:t,typeName:n.ZodIntersection,...f(r)});class J extends m{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==c.ZodParsedType.array)return(0,d.addIssueToContext)(r,{code:a.ZodIssueCode.invalid_type,expected:c.ZodParsedType.array,received:r.parsedType}),d.INVALID;if(r.data.length<this._def.items.length)return(0,d.addIssueToContext)(r,{code:a.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),d.INVALID;!this._def.rest&&r.data.length>this._def.items.length&&((0,d.addIssueToContext)(r,{code:a.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new h(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>d.ParseStatus.mergeArray(t,e)):d.ParseStatus.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new J({...this._def,rest:e})}}t.ZodTuple=J,J.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new J({items:e,typeName:n.ZodTuple,rest:null,...f(t)})};class Q extends m{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==c.ZodParsedType.object)return(0,d.addIssueToContext)(r,{code:a.ZodIssueCode.invalid_type,expected:c.ZodParsedType.object,received:r.parsedType}),d.INVALID;let n=[],o=this._def.keyType,s=this._def.valueType;for(let e in r.data)n.push({key:o._parse(new h(r,e,r.path,e)),value:s._parse(new h(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?d.ParseStatus.mergeObjectAsync(t,n):d.ParseStatus.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new Q(t instanceof m?{keyType:e,valueType:t,typeName:n.ZodRecord,...f(r)}:{keyType:j.create(),valueType:e,typeName:n.ZodRecord,...f(t)})}}t.ZodRecord=Q;class ee extends m{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==c.ZodParsedType.map)return(0,d.addIssueToContext)(r,{code:a.ZodIssueCode.invalid_type,expected:c.ZodParsedType.map,received:r.parsedType}),d.INVALID;let n=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([e,t],s)=>({key:n._parse(new h(r,e,r.path,[s,"key"])),value:o._parse(new h(r,t,r.path,[s,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of s){let n=await r.key,o=await r.value;if("aborted"===n.status||"aborted"===o.status)return d.INVALID;("dirty"===n.status||"dirty"===o.status)&&t.dirty(),e.set(n.value,o.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of s){let n=r.key,o=r.value;if("aborted"===n.status||"aborted"===o.status)return d.INVALID;("dirty"===n.status||"dirty"===o.status)&&t.dirty(),e.set(n.value,o.value)}return{status:t.value,value:e}}}}t.ZodMap=ee,ee.create=(e,t,r)=>new ee({valueType:t,keyType:e,typeName:n.ZodMap,...f(r)});class et extends m{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==c.ZodParsedType.set)return(0,d.addIssueToContext)(r,{code:a.ZodIssueCode.invalid_type,expected:c.ZodParsedType.set,received:r.parsedType}),d.INVALID;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&((0,d.addIssueToContext)(r,{code:a.ZodIssueCode.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&((0,d.addIssueToContext)(r,{code:a.ZodIssueCode.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let o=this._def.valueType;function s(e){let r=new Set;for(let n of e){if("aborted"===n.status)return d.INVALID;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let l=[...r.data.values()].map((e,t)=>o._parse(new h(r,e,r.path,t)));return r.common.async?Promise.all(l).then(e=>s(e)):s(l)}min(e,t){return new et({...this._def,minSize:{value:e,message:u.errorUtil.toString(t)}})}max(e,t){return new et({...this._def,maxSize:{value:e,message:u.errorUtil.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}t.ZodSet=et,et.create=(e,t)=>new et({valueType:e,minSize:null,maxSize:null,typeName:n.ZodSet,...f(t)});class ei extends m{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==c.ZodParsedType.function)return(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.invalid_type,expected:c.ZodParsedType.function,received:t.parsedType}),d.INVALID;function r(e,r){return(0,d.makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,l.getErrorMap)(),l.defaultErrorMap].filter(e=>!!e),issueData:{code:a.ZodIssueCode.invalid_arguments,argumentsError:r}})}function n(e,r){return(0,d.makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,l.getErrorMap)(),l.defaultErrorMap].filter(e=>!!e),issueData:{code:a.ZodIssueCode.invalid_return_type,returnTypeError:r}})}let o={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof el){let e=this;return(0,d.OK)(async function(...t){let l=new a.ZodError([]),u=await e._def.args.parseAsync(t,o).catch(e=>{throw l.addIssue(r(t,e)),l}),d=await Reflect.apply(s,this,u);return await e._def.returns._def.type.parseAsync(d,o).catch(e=>{throw l.addIssue(n(d,e)),l})})}{let e=this;return(0,d.OK)(function(...t){let l=e._def.args.safeParse(t,o);if(!l.success)throw new a.ZodError([r(t,l.error)]);let u=Reflect.apply(s,this,l.data),d=e._def.returns.safeParse(u,o);if(!d.success)throw new a.ZodError([n(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ei({...this._def,args:J.create(e).rest(Z.create())})}returns(e){return new ei({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new ei({args:e||J.create([]).rest(Z.create()),returns:t||Z.create(),typeName:n.ZodFunction,...f(r)})}}t.ZodFunction=ei;class er extends m{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}t.ZodLazy=er,er.create=(e,t)=>new er({getter:e,typeName:n.ZodLazy,...f(t)});class en extends m{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{received:t.data,code:a.ZodIssueCode.invalid_literal,expected:this._def.value}),d.INVALID}return{status:"valid",value:e.data}}get value(){return this._def.value}}function eo(e,t){return new es({values:e,typeName:n.ZodEnum,...f(t)})}t.ZodLiteral=en,en.create=(e,t)=>new en({value:e,typeName:n.ZodLiteral,...f(t)});class es extends m{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return(0,d.addIssueToContext)(t,{expected:c.util.joinValues(r),received:t.parsedType,code:a.ZodIssueCode.invalid_type}),d.INVALID}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return(0,d.addIssueToContext)(t,{received:t.data,code:a.ZodIssueCode.invalid_enum_value,options:r}),d.INVALID}return(0,d.OK)(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return es.create(e,{...this._def,...t})}exclude(e,t=this._def){return es.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}t.ZodEnum=es,es.create=eo;class ea extends m{_parse(e){let t=c.util.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==c.ZodParsedType.string&&r.parsedType!==c.ZodParsedType.number){let e=c.util.objectValues(t);return(0,d.addIssueToContext)(r,{expected:c.util.joinValues(e),received:r.parsedType,code:a.ZodIssueCode.invalid_type}),d.INVALID}if(this._cache||(this._cache=new Set(c.util.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=c.util.objectValues(t);return(0,d.addIssueToContext)(r,{received:r.data,code:a.ZodIssueCode.invalid_enum_value,options:e}),d.INVALID}return(0,d.OK)(e.data)}get enum(){return this._def.values}}t.ZodNativeEnum=ea,ea.create=(e,t)=>new ea({values:e,typeName:n.ZodNativeEnum,...f(t)});class el extends m{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==c.ZodParsedType.promise&&!1===t.common.async)return(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.invalid_type,expected:c.ZodParsedType.promise,received:t.parsedType}),d.INVALID;let r=t.parsedType===c.ZodParsedType.promise?t.data:Promise.resolve(t.data);return(0,d.OK)(r.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}t.ZodPromise=el,el.create=(e,t)=>new el({type:e,typeName:n.ZodPromise,...f(t)});class eu extends m{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===n.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,o={addIssue:e=>{(0,d.addIssueToContext)(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),"preprocess"===n.type){let e=n.transform(r.data,o);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return d.INVALID;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?d.INVALID:"dirty"===n.status||"dirty"===t.value?(0,d.DIRTY)(n.value):n});{if("aborted"===t.value)return d.INVALID;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?d.INVALID:"dirty"===n.status||"dirty"===t.value?(0,d.DIRTY)(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,o);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?d.INVALID:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?d.INVALID:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>(0,d.isValid)(e)?Promise.resolve(n.transform(e.value,o)).then(e=>({status:t.value,value:e})):d.INVALID);{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!(0,d.isValid)(e))return d.INVALID;let s=n.transform(e.value,o);if(s instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}}c.util.assertNever(n)}}t.ZodEffects=eu,t.ZodTransformer=eu,eu.create=(e,t,r)=>new eu({schema:e,typeName:n.ZodEffects,effect:t,...f(r)}),eu.createWithPreprocess=(e,t,r)=>new eu({schema:t,effect:{type:"preprocess",transform:e},typeName:n.ZodEffects,...f(r)});class ed extends m{_parse(e){return this._getType(e)===c.ZodParsedType.undefined?(0,d.OK)(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t.ZodOptional=ed,ed.create=(e,t)=>new ed({innerType:e,typeName:n.ZodOptional,...f(t)});class ec extends m{_parse(e){return this._getType(e)===c.ZodParsedType.null?(0,d.OK)(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t.ZodNullable=ec,ec.create=(e,t)=>new ec({innerType:e,typeName:n.ZodNullable,...f(t)});class eh extends m{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===c.ZodParsedType.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}t.ZodDefault=eh,eh.create=(e,t)=>new eh({innerType:e,typeName:n.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...f(t)});class ep extends m{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return(0,d.isAsync)(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new a.ZodError(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new a.ZodError(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}t.ZodCatch=ep,ep.create=(e,t)=>new ep({innerType:e,typeName:n.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...f(t)});class ef extends m{_parse(e){if(this._getType(e)!==c.ZodParsedType.nan){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:a.ZodIssueCode.invalid_type,expected:c.ZodParsedType.nan,received:t.parsedType}),d.INVALID}return{status:"valid",value:e.data}}}t.ZodNaN=ef,ef.create=e=>new ef({typeName:n.ZodNaN,...f(e)}),t.BRAND=Symbol("zod_brand");class em extends m{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}t.ZodBranded=em;class eg extends m{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?d.INVALID:"dirty"===e.status?(t.dirty(),(0,d.DIRTY)(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?d.INVALID:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new eg({in:e,out:t,typeName:n.ZodPipeline})}}t.ZodPipeline=eg;class ey extends m{_parse(e){let t=this._def.innerType._parse(e),r=e=>((0,d.isValid)(e)&&(e.value=Object.freeze(e.value)),e);return(0,d.isAsync)(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function ev(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function e_(e,t={},r){return e?$.create().superRefine((n,o)=>{let s=e(n);if(s instanceof Promise)return s.then(e=>{if(!e){let e=ev(t,n),s=e.fatal??r??!0;o.addIssue({code:"custom",...e,fatal:s})}});if(!s){let e=ev(t,n),s=e.fatal??r??!0;o.addIssue({code:"custom",...e,fatal:s})}}):$.create()}t.ZodReadonly=ey,ey.create=(e,t)=>new ey({innerType:e,typeName:n.ZodReadonly,...f(t)}),t.late={object:W.lazycreate},(o=n||(t.ZodFirstPartyTypeKind=n={})).ZodString="ZodString",o.ZodNumber="ZodNumber",o.ZodNaN="ZodNaN",o.ZodBigInt="ZodBigInt",o.ZodBoolean="ZodBoolean",o.ZodDate="ZodDate",o.ZodSymbol="ZodSymbol",o.ZodUndefined="ZodUndefined",o.ZodNull="ZodNull",o.ZodAny="ZodAny",o.ZodUnknown="ZodUnknown",o.ZodNever="ZodNever",o.ZodVoid="ZodVoid",o.ZodArray="ZodArray",o.ZodObject="ZodObject",o.ZodUnion="ZodUnion",o.ZodDiscriminatedUnion="ZodDiscriminatedUnion",o.ZodIntersection="ZodIntersection",o.ZodTuple="ZodTuple",o.ZodRecord="ZodRecord",o.ZodMap="ZodMap",o.ZodSet="ZodSet",o.ZodFunction="ZodFunction",o.ZodLazy="ZodLazy",o.ZodLiteral="ZodLiteral",o.ZodEnum="ZodEnum",o.ZodEffects="ZodEffects",o.ZodNativeEnum="ZodNativeEnum",o.ZodOptional="ZodOptional",o.ZodNullable="ZodNullable",o.ZodDefault="ZodDefault",o.ZodCatch="ZodCatch",o.ZodPromise="ZodPromise",o.ZodBranded="ZodBranded",o.ZodPipeline="ZodPipeline",o.ZodReadonly="ZodReadonly",t.instanceof=(e,t={message:`Input not instance of ${e.name}`})=>e_(t=>t instanceof e,t);let eb=j.create;t.string=eb;let ex=R.create;t.number=ex;let ew=ef.create;t.nan=ew;let eS=B.create;t.bigint=eS;let eC=M.create;t.boolean=eC;let eT=L.create;t.date=eT;let eE=F.create;t.symbol=eE;let ek=N.create;t.undefined=ek;let eI=D.create;t.null=eI;let eA=$.create;t.any=eA;let eP=Z.create;t.unknown=eP;let eU=V.create;t.never=eU;let ez=G.create;t.void=ez;let eO=H.create;t.array=eO;let ej=W.create;t.object=ej;let eR=W.strictCreate;t.strictObject=eR;let eB=Y.create;t.union=eB;let eM=q.create;t.discriminatedUnion=eM;let eL=X.create;t.intersection=eL;let eF=J.create;t.tuple=eF;let eN=Q.create;t.record=eN;let eD=ee.create;t.map=eD;let e$=et.create;t.set=e$;let eZ=ei.create;t.function=eZ;let eV=er.create;t.lazy=eV;let eG=en.create;t.literal=eG;let eH=es.create;t.enum=eH;let eW=ea.create;t.nativeEnum=eW;let eY=el.create;t.promise=eY;let eK=eu.create;t.effect=eK,t.transformer=eK;let eq=ed.create;t.optional=eq;let eX=ec.create;t.nullable=eX;let eJ=eu.createWithPreprocess;t.preprocess=eJ;let eQ=eg.create;t.pipeline=eQ,t.ostring=()=>eb().optional(),t.onumber=()=>ex().optional(),t.oboolean=()=>eC().optional(),t.coerce={string:e=>j.create({...e,coerce:!0}),number:e=>R.create({...e,coerce:!0}),boolean:e=>M.create({...e,coerce:!0}),bigint:e=>B.create({...e,coerce:!0}),date:e=>L.create({...e,coerce:!0})},t.NEVER=d.INVALID}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],function(){return t(6840),t(9090)}),_N_E=e.O()}]);