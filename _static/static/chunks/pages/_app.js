/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["pages/_app"],{

/***/ "./node_modules/@cntrl-site/color/lib/CntrlColor/CntrlColor.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@cntrl-site/color/lib/CntrlColor/CntrlColor.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.OklchColor = exports.RgbaColor = exports.CntrlColor = void 0;\n/// <reference lib=\"dom\" />\nconst ColorGrammar_1 = __webpack_require__(/*! ./expr/color/ColorGrammar */ \"./node_modules/@cntrl-site/color/lib/CntrlColor/expr/color/ColorGrammar.js\");\nconst colorConverters_1 = __webpack_require__(/*! ./colorConverters */ \"./node_modules/@cntrl-site/color/lib/CntrlColor/colorConverters.js\");\nclass CntrlColor {\n    static rgba(r, g, b, a = 1) {\n        return new RgbaColor(r, g, b, a);\n    }\n    static oklch(l, c, h, a = 1) {\n        return new OklchColor(l, c, h, a);\n    }\n    static from(data) {\n        switch (data.type) {\n            case 'rgba': return new RgbaColor(data.r, data.g, data.b, data.a);\n            case 'oklch': return new OklchColor(data.l, data.c, data.h, data.a);\n        }\n    }\n    static parse(source) {\n        const result = (0, ColorGrammar_1.ColorParser)()(source, 0);\n        const token = result.unwrap();\n        switch (token.type) {\n            case 'rgba': return new RgbaColor(token.value.r, token.value.g, token.value.b, token.value.a);\n            case 'oklch': return new OklchColor(token.value.l, token.value.c, token.value.h, token.value.a);\n            default: throw new Error('current color format isn\\'t supported');\n        }\n    }\n    fmt(format, alpha) {\n        throw new Error('not implemented');\n    }\n    toCss() {\n        throw new Error('not implemented');\n    }\n    getRgba() {\n        throw new Error('not implemented');\n    }\n    getOklch() {\n        throw new Error('not implemented');\n    }\n    getHex() {\n        const { r, g, b } = this.getRgba();\n        return '#' + [r, g, b].map(c => c.toString(16).padStart(2, '0')).join('');\n    }\n    getAlpha() {\n        throw new Error('not implemented');\n    }\n    mix(targetColor, amount) {\n        throw new Error('not implemented');\n    }\n}\nexports.CntrlColor = CntrlColor;\nclass RgbaColor extends CntrlColor {\n    constructor(red, green, blue, alpha) {\n        super();\n        this.red = red;\n        this.green = green;\n        this.blue = blue;\n        this.alpha = alpha;\n    }\n    fmt(format = 'rgba', alpha) {\n        switch (format) {\n            case 'hex': return this.getHex();\n            case 'oklch': {\n                const { l, c, h, a } = this.getOklch();\n                return `oklch(${l * 100}% ${c} ${h} / ${alpha !== null && alpha !== void 0 ? alpha : a})`;\n            }\n            default: return `rgba(${this.red}, ${this.green}, ${this.blue}, ${alpha !== null && alpha !== void 0 ? alpha : this.alpha})`;\n        }\n    }\n    getRgba() {\n        return {\n            type: 'rgba',\n            r: this.red,\n            g: this.green,\n            b: this.blue,\n            a: this.alpha\n        };\n    }\n    getOklch() {\n        const { l, c, h, a } = (0, colorConverters_1.rgbToOklch)(this.red, this.green, this.blue, this.alpha);\n        return {\n            type: 'oklch',\n            l: l,\n            c: c,\n            h: h,\n            a: a\n        };\n    }\n    toCss() {\n        return this.fmt('rgba');\n    }\n    getAlpha() {\n        return this.alpha;\n    }\n    mix(targetColor, amount) {\n        const { r: targetR, g: targetG, b: targetB, a: targetA } = targetColor.getRgba();\n        const r = getRangeValue(amount, this.red, targetR);\n        const g = getRangeValue(amount, this.green, targetG);\n        const b = getRangeValue(amount, this.blue, targetB);\n        const a = getRangeValue(amount, this.alpha, targetA);\n        return CntrlColor.from({ type: 'rgba', r: Math.round(r), g: Math.round(g), b: Math.round(b), a: Math.round(a) });\n    }\n}\nexports.RgbaColor = RgbaColor;\nclass OklchColor extends CntrlColor {\n    constructor(lightness, chroma, hue, alpha) {\n        super();\n        this.lightness = lightness;\n        this.chroma = chroma;\n        this.hue = hue;\n        this.alpha = alpha;\n    }\n    fmt(format = 'oklch', alpha) {\n        switch (format) {\n            case 'hex': return this.getHex();\n            case 'rgba': {\n                const { r, g, b, a } = this.getRgba();\n                return `rgba(${r}, ${g}, ${b}, ${alpha !== null && alpha !== void 0 ? alpha : a})`;\n            }\n            default: return `oklch(${this.lightness * 100}% ${this.chroma} ${this.hue} / ${alpha !== null && alpha !== void 0 ? alpha : this.alpha})`;\n        }\n    }\n    toCss() {\n        if (typeof window === 'undefined') {\n            return this.fmt('oklch');\n        }\n        return this.fmt(window.CSS.supports('color: oklch(42% 0.3 90 / 1)')\n            ? 'oklch'\n            : 'rgba');\n    }\n    getOklch() {\n        return {\n            type: 'oklch',\n            l: this.lightness,\n            c: this.chroma,\n            h: this.hue,\n            a: this.alpha\n        };\n    }\n    getRgba() {\n        const { r, g, b } = (0, colorConverters_1.oklchToRgb)(this.lightness, this.chroma, this.hue);\n        return {\n            type: 'rgba',\n            r: Math.round(r),\n            g: Math.round(g),\n            b: Math.round(b),\n            a: this.alpha\n        };\n    }\n    getAlpha() {\n        return this.alpha;\n    }\n    mix(targetColor, amount) {\n        const { l: targetL, c: targetC, h: targetH, a: targetA } = targetColor.getOklch();\n        const l = getRangeValue(amount, this.lightness, targetL);\n        const c = getRangeValue(amount, this.chroma, targetC);\n        const h = getRangeValue(amount, this.hue, targetH);\n        const a = getRangeValue(amount, this.alpha, targetA);\n        return CntrlColor.from({ type: 'oklch', l, c, h, a: parseFloat(a.toFixed(2)) });\n    }\n}\nexports.OklchColor = OklchColor;\n// consider that amount from 0 to 1\nfunction getRangeValue(amount, value, targetValue) {\n    return targetValue * amount - value * amount + value;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvY29sb3IvbGliL0NudHJsQ29sb3IvQ250cmxDb2xvci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0IsR0FBRyxpQkFBaUIsR0FBRyxrQkFBa0I7QUFDM0Q7QUFDQSx1QkFBdUIsbUJBQU8sQ0FBQyw2R0FBMkI7QUFDMUQsMEJBQTBCLG1CQUFPLENBQUMsNkZBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsVUFBVTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGFBQWE7QUFDckMsZ0NBQWdDLFFBQVEsSUFBSSxHQUFHLEVBQUUsR0FBRyxJQUFJLCtDQUErQztBQUN2RztBQUNBLG9DQUFvQyxTQUFTLElBQUksV0FBVyxJQUFJLFVBQVUsSUFBSSx3REFBd0Q7QUFDdEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGFBQWE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlEQUFpRDtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxzRkFBc0Y7QUFDdkg7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsYUFBYTtBQUNyQywrQkFBK0IsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksK0NBQStDO0FBQ2hHO0FBQ0EscUNBQXFDLHFCQUFxQixJQUFJLGFBQWEsRUFBRSxVQUFVLElBQUksd0RBQXdEO0FBQ25KO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsVUFBVTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsaURBQWlEO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHFEQUFxRDtBQUN0RjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9jb2xvci9saWIvQ250cmxDb2xvci9DbnRybENvbG9yLmpzPzU1NTQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk9rbGNoQ29sb3IgPSBleHBvcnRzLlJnYmFDb2xvciA9IGV4cG9ydHMuQ250cmxDb2xvciA9IHZvaWQgMDtcbi8vLyA8cmVmZXJlbmNlIGxpYj1cImRvbVwiIC8+XG5jb25zdCBDb2xvckdyYW1tYXJfMSA9IHJlcXVpcmUoXCIuL2V4cHIvY29sb3IvQ29sb3JHcmFtbWFyXCIpO1xuY29uc3QgY29sb3JDb252ZXJ0ZXJzXzEgPSByZXF1aXJlKFwiLi9jb2xvckNvbnZlcnRlcnNcIik7XG5jbGFzcyBDbnRybENvbG9yIHtcbiAgICBzdGF0aWMgcmdiYShyLCBnLCBiLCBhID0gMSkge1xuICAgICAgICByZXR1cm4gbmV3IFJnYmFDb2xvcihyLCBnLCBiLCBhKTtcbiAgICB9XG4gICAgc3RhdGljIG9rbGNoKGwsIGMsIGgsIGEgPSAxKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2tsY2hDb2xvcihsLCBjLCBoLCBhKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb20oZGF0YSkge1xuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAncmdiYSc6IHJldHVybiBuZXcgUmdiYUNvbG9yKGRhdGEuciwgZGF0YS5nLCBkYXRhLmIsIGRhdGEuYSk7XG4gICAgICAgICAgICBjYXNlICdva2xjaCc6IHJldHVybiBuZXcgT2tsY2hDb2xvcihkYXRhLmwsIGRhdGEuYywgZGF0YS5oLCBkYXRhLmEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBwYXJzZShzb3VyY2UpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gKDAsIENvbG9yR3JhbW1hcl8xLkNvbG9yUGFyc2VyKSgpKHNvdXJjZSwgMCk7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVzdWx0LnVud3JhcCgpO1xuICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3JnYmEnOiByZXR1cm4gbmV3IFJnYmFDb2xvcih0b2tlbi52YWx1ZS5yLCB0b2tlbi52YWx1ZS5nLCB0b2tlbi52YWx1ZS5iLCB0b2tlbi52YWx1ZS5hKTtcbiAgICAgICAgICAgIGNhc2UgJ29rbGNoJzogcmV0dXJuIG5ldyBPa2xjaENvbG9yKHRva2VuLnZhbHVlLmwsIHRva2VuLnZhbHVlLmMsIHRva2VuLnZhbHVlLmgsIHRva2VuLnZhbHVlLmEpO1xuICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdjdXJyZW50IGNvbG9yIGZvcm1hdCBpc25cXCd0IHN1cHBvcnRlZCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZtdChmb3JtYXQsIGFscGhhKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG4gICAgfVxuICAgIHRvQ3NzKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgICBnZXRSZ2JhKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgICBnZXRPa2xjaCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9XG4gICAgZ2V0SGV4KCkge1xuICAgICAgICBjb25zdCB7IHIsIGcsIGIgfSA9IHRoaXMuZ2V0UmdiYSgpO1xuICAgICAgICByZXR1cm4gJyMnICsgW3IsIGcsIGJdLm1hcChjID0+IGMudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJykpLmpvaW4oJycpO1xuICAgIH1cbiAgICBnZXRBbHBoYSgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9XG4gICAgbWl4KHRhcmdldENvbG9yLCBhbW91bnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9XG59XG5leHBvcnRzLkNudHJsQ29sb3IgPSBDbnRybENvbG9yO1xuY2xhc3MgUmdiYUNvbG9yIGV4dGVuZHMgQ250cmxDb2xvciB7XG4gICAgY29uc3RydWN0b3IocmVkLCBncmVlbiwgYmx1ZSwgYWxwaGEpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5yZWQgPSByZWQ7XG4gICAgICAgIHRoaXMuZ3JlZW4gPSBncmVlbjtcbiAgICAgICAgdGhpcy5ibHVlID0gYmx1ZTtcbiAgICAgICAgdGhpcy5hbHBoYSA9IGFscGhhO1xuICAgIH1cbiAgICBmbXQoZm9ybWF0ID0gJ3JnYmEnLCBhbHBoYSkge1xuICAgICAgICBzd2l0Y2ggKGZvcm1hdCkge1xuICAgICAgICAgICAgY2FzZSAnaGV4JzogcmV0dXJuIHRoaXMuZ2V0SGV4KCk7XG4gICAgICAgICAgICBjYXNlICdva2xjaCc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGwsIGMsIGgsIGEgfSA9IHRoaXMuZ2V0T2tsY2goKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYG9rbGNoKCR7bCAqIDEwMH0lICR7Y30gJHtofSAvICR7YWxwaGEgIT09IG51bGwgJiYgYWxwaGEgIT09IHZvaWQgMCA/IGFscGhhIDogYX0pYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiBgcmdiYSgke3RoaXMucmVkfSwgJHt0aGlzLmdyZWVufSwgJHt0aGlzLmJsdWV9LCAke2FscGhhICE9PSBudWxsICYmIGFscGhhICE9PSB2b2lkIDAgPyBhbHBoYSA6IHRoaXMuYWxwaGF9KWA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0UmdiYSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdyZ2JhJyxcbiAgICAgICAgICAgIHI6IHRoaXMucmVkLFxuICAgICAgICAgICAgZzogdGhpcy5ncmVlbixcbiAgICAgICAgICAgIGI6IHRoaXMuYmx1ZSxcbiAgICAgICAgICAgIGE6IHRoaXMuYWxwaGFcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0T2tsY2goKSB7XG4gICAgICAgIGNvbnN0IHsgbCwgYywgaCwgYSB9ID0gKDAsIGNvbG9yQ29udmVydGVyc18xLnJnYlRvT2tsY2gpKHRoaXMucmVkLCB0aGlzLmdyZWVuLCB0aGlzLmJsdWUsIHRoaXMuYWxwaGEpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ29rbGNoJyxcbiAgICAgICAgICAgIGw6IGwsXG4gICAgICAgICAgICBjOiBjLFxuICAgICAgICAgICAgaDogaCxcbiAgICAgICAgICAgIGE6IGFcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdG9Dc3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZtdCgncmdiYScpO1xuICAgIH1cbiAgICBnZXRBbHBoYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWxwaGE7XG4gICAgfVxuICAgIG1peCh0YXJnZXRDb2xvciwgYW1vdW50KSB7XG4gICAgICAgIGNvbnN0IHsgcjogdGFyZ2V0UiwgZzogdGFyZ2V0RywgYjogdGFyZ2V0QiwgYTogdGFyZ2V0QSB9ID0gdGFyZ2V0Q29sb3IuZ2V0UmdiYSgpO1xuICAgICAgICBjb25zdCByID0gZ2V0UmFuZ2VWYWx1ZShhbW91bnQsIHRoaXMucmVkLCB0YXJnZXRSKTtcbiAgICAgICAgY29uc3QgZyA9IGdldFJhbmdlVmFsdWUoYW1vdW50LCB0aGlzLmdyZWVuLCB0YXJnZXRHKTtcbiAgICAgICAgY29uc3QgYiA9IGdldFJhbmdlVmFsdWUoYW1vdW50LCB0aGlzLmJsdWUsIHRhcmdldEIpO1xuICAgICAgICBjb25zdCBhID0gZ2V0UmFuZ2VWYWx1ZShhbW91bnQsIHRoaXMuYWxwaGEsIHRhcmdldEEpO1xuICAgICAgICByZXR1cm4gQ250cmxDb2xvci5mcm9tKHsgdHlwZTogJ3JnYmEnLCByOiBNYXRoLnJvdW5kKHIpLCBnOiBNYXRoLnJvdW5kKGcpLCBiOiBNYXRoLnJvdW5kKGIpLCBhOiBNYXRoLnJvdW5kKGEpIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuUmdiYUNvbG9yID0gUmdiYUNvbG9yO1xuY2xhc3MgT2tsY2hDb2xvciBleHRlbmRzIENudHJsQ29sb3Ige1xuICAgIGNvbnN0cnVjdG9yKGxpZ2h0bmVzcywgY2hyb21hLCBodWUsIGFscGhhKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubGlnaHRuZXNzID0gbGlnaHRuZXNzO1xuICAgICAgICB0aGlzLmNocm9tYSA9IGNocm9tYTtcbiAgICAgICAgdGhpcy5odWUgPSBodWU7XG4gICAgICAgIHRoaXMuYWxwaGEgPSBhbHBoYTtcbiAgICB9XG4gICAgZm10KGZvcm1hdCA9ICdva2xjaCcsIGFscGhhKSB7XG4gICAgICAgIHN3aXRjaCAoZm9ybWF0KSB7XG4gICAgICAgICAgICBjYXNlICdoZXgnOiByZXR1cm4gdGhpcy5nZXRIZXgoKTtcbiAgICAgICAgICAgIGNhc2UgJ3JnYmEnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyByLCBnLCBiLCBhIH0gPSB0aGlzLmdldFJnYmEoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYHJnYmEoJHtyfSwgJHtnfSwgJHtifSwgJHthbHBoYSAhPT0gbnVsbCAmJiBhbHBoYSAhPT0gdm9pZCAwID8gYWxwaGEgOiBhfSlgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIGBva2xjaCgke3RoaXMubGlnaHRuZXNzICogMTAwfSUgJHt0aGlzLmNocm9tYX0gJHt0aGlzLmh1ZX0gLyAke2FscGhhICE9PSBudWxsICYmIGFscGhhICE9PSB2b2lkIDAgPyBhbHBoYSA6IHRoaXMuYWxwaGF9KWA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9Dc3MoKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm10KCdva2xjaCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZtdCh3aW5kb3cuQ1NTLnN1cHBvcnRzKCdjb2xvcjogb2tsY2goNDIlIDAuMyA5MCAvIDEpJylcbiAgICAgICAgICAgID8gJ29rbGNoJ1xuICAgICAgICAgICAgOiAncmdiYScpO1xuICAgIH1cbiAgICBnZXRPa2xjaCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdva2xjaCcsXG4gICAgICAgICAgICBsOiB0aGlzLmxpZ2h0bmVzcyxcbiAgICAgICAgICAgIGM6IHRoaXMuY2hyb21hLFxuICAgICAgICAgICAgaDogdGhpcy5odWUsXG4gICAgICAgICAgICBhOiB0aGlzLmFscGhhXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldFJnYmEoKSB7XG4gICAgICAgIGNvbnN0IHsgciwgZywgYiB9ID0gKDAsIGNvbG9yQ29udmVydGVyc18xLm9rbGNoVG9SZ2IpKHRoaXMubGlnaHRuZXNzLCB0aGlzLmNocm9tYSwgdGhpcy5odWUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ3JnYmEnLFxuICAgICAgICAgICAgcjogTWF0aC5yb3VuZChyKSxcbiAgICAgICAgICAgIGc6IE1hdGgucm91bmQoZyksXG4gICAgICAgICAgICBiOiBNYXRoLnJvdW5kKGIpLFxuICAgICAgICAgICAgYTogdGhpcy5hbHBoYVxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRBbHBoYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWxwaGE7XG4gICAgfVxuICAgIG1peCh0YXJnZXRDb2xvciwgYW1vdW50KSB7XG4gICAgICAgIGNvbnN0IHsgbDogdGFyZ2V0TCwgYzogdGFyZ2V0QywgaDogdGFyZ2V0SCwgYTogdGFyZ2V0QSB9ID0gdGFyZ2V0Q29sb3IuZ2V0T2tsY2goKTtcbiAgICAgICAgY29uc3QgbCA9IGdldFJhbmdlVmFsdWUoYW1vdW50LCB0aGlzLmxpZ2h0bmVzcywgdGFyZ2V0TCk7XG4gICAgICAgIGNvbnN0IGMgPSBnZXRSYW5nZVZhbHVlKGFtb3VudCwgdGhpcy5jaHJvbWEsIHRhcmdldEMpO1xuICAgICAgICBjb25zdCBoID0gZ2V0UmFuZ2VWYWx1ZShhbW91bnQsIHRoaXMuaHVlLCB0YXJnZXRIKTtcbiAgICAgICAgY29uc3QgYSA9IGdldFJhbmdlVmFsdWUoYW1vdW50LCB0aGlzLmFscGhhLCB0YXJnZXRBKTtcbiAgICAgICAgcmV0dXJuIENudHJsQ29sb3IuZnJvbSh7IHR5cGU6ICdva2xjaCcsIGwsIGMsIGgsIGE6IHBhcnNlRmxvYXQoYS50b0ZpeGVkKDIpKSB9KTtcbiAgICB9XG59XG5leHBvcnRzLk9rbGNoQ29sb3IgPSBPa2xjaENvbG9yO1xuLy8gY29uc2lkZXIgdGhhdCBhbW91bnQgZnJvbSAwIHRvIDFcbmZ1bmN0aW9uIGdldFJhbmdlVmFsdWUoYW1vdW50LCB2YWx1ZSwgdGFyZ2V0VmFsdWUpIHtcbiAgICByZXR1cm4gdGFyZ2V0VmFsdWUgKiBhbW91bnQgLSB2YWx1ZSAqIGFtb3VudCArIHZhbHVlO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/color/lib/CntrlColor/CntrlColor.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/color/lib/CntrlColor/colorConverters.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@cntrl-site/color/lib/CntrlColor/colorConverters.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.oklchToRgb = exports.clamp = exports.rgbToOklch = exports.Converters = void 0;\nexports.Converters = 0.0001;\nfunction rgbToOklch(r, g, b, a = 1) {\n    let lab = linear_srgb_to_oklab(srgbTransferFunctionInv(r / 255), srgbTransferFunctionInv(g / 255), srgbTransferFunctionInv(b / 255));\n    let L = lab[0];\n    const H = (0.5 + 0.5 * Math.atan2(-lab[2], -lab[1]) / Math.PI) * 360;\n    let C = Math.sqrt(lab[1] * lab[1] + lab[2] * lab[2]);\n    return { l: L, h: H < 0 ? H + 360 : H, c: clamp(C), a };\n}\nexports.rgbToOklch = rgbToOklch;\nfunction srgbTransferFunctionInv(a) {\n    return .04045 < a ? Math.pow((a + .055) / 1.055, 2.4) : a / 12.92;\n}\nfunction srgbTransferFunction(a) {\n    return .0031308 >= a ? 12.92 * a : 1.055 * Math.pow(a, .4166666666666667) - .055;\n}\nfunction clamp(x) {\n    return x < exports.Converters ? exports.Converters : (x > 1 - exports.Converters ? 1 - exports.Converters : x);\n}\nexports.clamp = clamp;\nfunction oklchToRgb(l, c, h, alpha = 1) {\n    const L = l;\n    const C = c;\n    const H = (h / 360) * 2 * Math.PI;\n    const a = C * Math.cos(H);\n    const b1 = C * Math.sin(H);\n    const srgb = oklabToLinearSrgb(L, a, b1);\n    const r = 255 * srgbTransferFunction(srgb[0]);\n    const g = 255 * srgbTransferFunction(srgb[1]);\n    const b = 255 * srgbTransferFunction(srgb[2]);\n    return { r: r, g: g, b: b, a: alpha };\n}\nexports.oklchToRgb = oklchToRgb;\nfunction linear_srgb_to_oklab(r, g, b) {\n    const l = 0.4122214708 * r + 0.5363325363 * g + 0.0514459929 * b;\n    const m = 0.2119034982 * r + 0.6806995451 * g + 0.1073969566 * b;\n    const s = 0.0883024619 * r + 0.2817188376 * g + 0.6299787005 * b;\n    const l_ = Math.cbrt(l);\n    const m_ = Math.cbrt(m);\n    const s_ = Math.cbrt(s);\n    return [\n        0.2104542553 * l_ + 0.7936177850 * m_ - 0.0040720468 * s_,\n        1.9779984951 * l_ - 2.4285922050 * m_ + 0.4505937099 * s_,\n        0.0259040371 * l_ + 0.7827717662 * m_ - 0.8086757660 * s_\n    ];\n}\nfunction oklabToLinearSrgb(L, a, b) {\n    const l_ = L + 0.3963377774 * a + 0.2158037573 * b;\n    const m_ = L - 0.1055613458 * a - 0.0638541728 * b;\n    const s_ = L - 0.0894841775 * a - 1.2914855480 * b;\n    const l = l_ * l_ * l_;\n    const m = m_ * m_ * m_;\n    const s = s_ * s_ * s_;\n    return [\n        (+4.0767416621 * l - 3.3077115913 * m + 0.2309699292 * s),\n        (-1.2684380046 * l + 2.6097574011 * m - 0.3413193965 * s),\n        (-0.0041960863 * l - 0.7034186147 * m + 1.7076147010 * s)\n    ];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvY29sb3IvbGliL0NudHJsQ29sb3IvY29sb3JDb252ZXJ0ZXJzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQixHQUFHLGFBQWEsR0FBRyxrQkFBa0IsR0FBRyxrQkFBa0I7QUFDNUUsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL2NvbG9yL2xpYi9DbnRybENvbG9yL2NvbG9yQ29udmVydGVycy5qcz9jNjBkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5va2xjaFRvUmdiID0gZXhwb3J0cy5jbGFtcCA9IGV4cG9ydHMucmdiVG9Pa2xjaCA9IGV4cG9ydHMuQ29udmVydGVycyA9IHZvaWQgMDtcbmV4cG9ydHMuQ29udmVydGVycyA9IDAuMDAwMTtcbmZ1bmN0aW9uIHJnYlRvT2tsY2gociwgZywgYiwgYSA9IDEpIHtcbiAgICBsZXQgbGFiID0gbGluZWFyX3NyZ2JfdG9fb2tsYWIoc3JnYlRyYW5zZmVyRnVuY3Rpb25JbnYociAvIDI1NSksIHNyZ2JUcmFuc2ZlckZ1bmN0aW9uSW52KGcgLyAyNTUpLCBzcmdiVHJhbnNmZXJGdW5jdGlvbkludihiIC8gMjU1KSk7XG4gICAgbGV0IEwgPSBsYWJbMF07XG4gICAgY29uc3QgSCA9ICgwLjUgKyAwLjUgKiBNYXRoLmF0YW4yKC1sYWJbMl0sIC1sYWJbMV0pIC8gTWF0aC5QSSkgKiAzNjA7XG4gICAgbGV0IEMgPSBNYXRoLnNxcnQobGFiWzFdICogbGFiWzFdICsgbGFiWzJdICogbGFiWzJdKTtcbiAgICByZXR1cm4geyBsOiBMLCBoOiBIIDwgMCA/IEggKyAzNjAgOiBILCBjOiBjbGFtcChDKSwgYSB9O1xufVxuZXhwb3J0cy5yZ2JUb09rbGNoID0gcmdiVG9Pa2xjaDtcbmZ1bmN0aW9uIHNyZ2JUcmFuc2ZlckZ1bmN0aW9uSW52KGEpIHtcbiAgICByZXR1cm4gLjA0MDQ1IDwgYSA/IE1hdGgucG93KChhICsgLjA1NSkgLyAxLjA1NSwgMi40KSA6IGEgLyAxMi45Mjtcbn1cbmZ1bmN0aW9uIHNyZ2JUcmFuc2ZlckZ1bmN0aW9uKGEpIHtcbiAgICByZXR1cm4gLjAwMzEzMDggPj0gYSA/IDEyLjkyICogYSA6IDEuMDU1ICogTWF0aC5wb3coYSwgLjQxNjY2NjY2NjY2NjY2NjcpIC0gLjA1NTtcbn1cbmZ1bmN0aW9uIGNsYW1wKHgpIHtcbiAgICByZXR1cm4geCA8IGV4cG9ydHMuQ29udmVydGVycyA/IGV4cG9ydHMuQ29udmVydGVycyA6ICh4ID4gMSAtIGV4cG9ydHMuQ29udmVydGVycyA/IDEgLSBleHBvcnRzLkNvbnZlcnRlcnMgOiB4KTtcbn1cbmV4cG9ydHMuY2xhbXAgPSBjbGFtcDtcbmZ1bmN0aW9uIG9rbGNoVG9SZ2IobCwgYywgaCwgYWxwaGEgPSAxKSB7XG4gICAgY29uc3QgTCA9IGw7XG4gICAgY29uc3QgQyA9IGM7XG4gICAgY29uc3QgSCA9IChoIC8gMzYwKSAqIDIgKiBNYXRoLlBJO1xuICAgIGNvbnN0IGEgPSBDICogTWF0aC5jb3MoSCk7XG4gICAgY29uc3QgYjEgPSBDICogTWF0aC5zaW4oSCk7XG4gICAgY29uc3Qgc3JnYiA9IG9rbGFiVG9MaW5lYXJTcmdiKEwsIGEsIGIxKTtcbiAgICBjb25zdCByID0gMjU1ICogc3JnYlRyYW5zZmVyRnVuY3Rpb24oc3JnYlswXSk7XG4gICAgY29uc3QgZyA9IDI1NSAqIHNyZ2JUcmFuc2ZlckZ1bmN0aW9uKHNyZ2JbMV0pO1xuICAgIGNvbnN0IGIgPSAyNTUgKiBzcmdiVHJhbnNmZXJGdW5jdGlvbihzcmdiWzJdKTtcbiAgICByZXR1cm4geyByOiByLCBnOiBnLCBiOiBiLCBhOiBhbHBoYSB9O1xufVxuZXhwb3J0cy5va2xjaFRvUmdiID0gb2tsY2hUb1JnYjtcbmZ1bmN0aW9uIGxpbmVhcl9zcmdiX3RvX29rbGFiKHIsIGcsIGIpIHtcbiAgICBjb25zdCBsID0gMC40MTIyMjE0NzA4ICogciArIDAuNTM2MzMyNTM2MyAqIGcgKyAwLjA1MTQ0NTk5MjkgKiBiO1xuICAgIGNvbnN0IG0gPSAwLjIxMTkwMzQ5ODIgKiByICsgMC42ODA2OTk1NDUxICogZyArIDAuMTA3Mzk2OTU2NiAqIGI7XG4gICAgY29uc3QgcyA9IDAuMDg4MzAyNDYxOSAqIHIgKyAwLjI4MTcxODgzNzYgKiBnICsgMC42Mjk5Nzg3MDA1ICogYjtcbiAgICBjb25zdCBsXyA9IE1hdGguY2JydChsKTtcbiAgICBjb25zdCBtXyA9IE1hdGguY2JydChtKTtcbiAgICBjb25zdCBzXyA9IE1hdGguY2JydChzKTtcbiAgICByZXR1cm4gW1xuICAgICAgICAwLjIxMDQ1NDI1NTMgKiBsXyArIDAuNzkzNjE3Nzg1MCAqIG1fIC0gMC4wMDQwNzIwNDY4ICogc18sXG4gICAgICAgIDEuOTc3OTk4NDk1MSAqIGxfIC0gMi40Mjg1OTIyMDUwICogbV8gKyAwLjQ1MDU5MzcwOTkgKiBzXyxcbiAgICAgICAgMC4wMjU5MDQwMzcxICogbF8gKyAwLjc4Mjc3MTc2NjIgKiBtXyAtIDAuODA4Njc1NzY2MCAqIHNfXG4gICAgXTtcbn1cbmZ1bmN0aW9uIG9rbGFiVG9MaW5lYXJTcmdiKEwsIGEsIGIpIHtcbiAgICBjb25zdCBsXyA9IEwgKyAwLjM5NjMzNzc3NzQgKiBhICsgMC4yMTU4MDM3NTczICogYjtcbiAgICBjb25zdCBtXyA9IEwgLSAwLjEwNTU2MTM0NTggKiBhIC0gMC4wNjM4NTQxNzI4ICogYjtcbiAgICBjb25zdCBzXyA9IEwgLSAwLjA4OTQ4NDE3NzUgKiBhIC0gMS4yOTE0ODU1NDgwICogYjtcbiAgICBjb25zdCBsID0gbF8gKiBsXyAqIGxfO1xuICAgIGNvbnN0IG0gPSBtXyAqIG1fICogbV87XG4gICAgY29uc3QgcyA9IHNfICogc18gKiBzXztcbiAgICByZXR1cm4gW1xuICAgICAgICAoKzQuMDc2NzQxNjYyMSAqIGwgLSAzLjMwNzcxMTU5MTMgKiBtICsgMC4yMzA5Njk5MjkyICogcyksXG4gICAgICAgICgtMS4yNjg0MzgwMDQ2ICogbCArIDIuNjA5NzU3NDAxMSAqIG0gLSAwLjM0MTMxOTM5NjUgKiBzKSxcbiAgICAgICAgKC0wLjAwNDE5NjA4NjMgKiBsIC0gMC43MDM0MTg2MTQ3ICogbSArIDEuNzA3NjE0NzAxMCAqIHMpXG4gICAgXTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/color/lib/CntrlColor/colorConverters.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/color/lib/CntrlColor/expr/Combs.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@cntrl-site/color/lib/CntrlColor/expr/Combs.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.List = exports.Seq = exports.Alt = exports.Opt = exports.Ignore = exports.Regex = exports.Text = void 0;\nconst ParseError_1 = __webpack_require__(/*! ./ParseError */ \"./node_modules/@cntrl-site/color/lib/CntrlColor/expr/ParseError.js\");\nconst Result_1 = __webpack_require__(/*! ./Result */ \"./node_modules/@cntrl-site/color/lib/CntrlColor/expr/Result.js\");\nconst Token_1 = __webpack_require__(/*! ./Token */ \"./node_modules/@cntrl-site/color/lib/CntrlColor/expr/Token.js\");\nfunction Text(text, ci = false) {\n    function isMatch(sample) {\n        return ci ? (text.toLowerCase() === sample.toLowerCase()) : (text === sample);\n    }\n    return (src, index) => {\n        const sample = src.slice(index, index + text.length);\n        if (!isMatch(sample)) {\n            return Result_1.Result.Err(new ParseError_1.ParseError(`Expects \"${text}\" instead got \"${sample}\"`, index));\n        }\n        return Result_1.Result.Ok(Token_1.Token.Plain({\n            index,\n            size: sample.length,\n            type: 'text',\n            value: sample\n        }));\n    };\n}\nexports.Text = Text;\nfunction Regex(re) {\n    const pattern = new RegExp(re, /g/i.test(re.flags) ? re.flags : `${re.flags}g`);\n    const parseRegex = (src, index) => {\n        pattern.lastIndex = index;\n        const match = pattern.exec(src);\n        if (!match || match.index !== index) {\n            return Result_1.Result.Err(new ParseError_1.ParseError(`Cannot match \"${pattern}\"`, index));\n        }\n        return Result_1.Result.Ok(Token_1.Token.Plain({\n            index,\n            size: match[0].length,\n            type: 'regex',\n            value: match\n        }));\n    };\n    return parseRegex;\n}\nexports.Regex = Regex;\nfunction Ignore(parse) {\n    return (src, index) => parse(src, index).map(t => t.ignore());\n}\nexports.Ignore = Ignore;\nfunction Opt(parse) {\n    return (src, index) => {\n        const res = parse(src, index);\n        return res.mapOrElse(() => Result_1.Result.Ok(Token_1.Token.Ignore({ index, size: 0 })), () => res);\n    };\n}\nexports.Opt = Opt;\nfunction Alt(...parsers) {\n    // @ts-ignore\n    const parseAlt = (src, index) => {\n        const errors = [];\n        for (const parse of parsers) {\n            const res = parse(src, index);\n            if (res.isOk()) {\n                return res;\n            }\n            errors.push(res.unwrapErr());\n        }\n        return Result_1.Result.Err(ParseError_1.ParseError.merge(errors, index));\n    };\n    return parseAlt;\n}\nexports.Alt = Alt;\nfunction Seq(parsers, checkEnd) {\n    // @ts-ignore\n    const parseSeq = (src, index) => {\n        const items = [];\n        let lastIndex = index;\n        for (const parse of parsers) {\n            if (lastIndex >= src.length) {\n                return Result_1.Result.Err(new ParseError_1.ParseError('Unexpected end of input', lastIndex));\n            }\n            const res = parse(src, lastIndex);\n            if (res.isErr()) {\n                if (checkEnd && checkEnd(src, lastIndex).isOk()) {\n                    break;\n                }\n                else {\n                    return res;\n                }\n            }\n            const token = res.unwrap();\n            lastIndex = token.end();\n            if (!token.isIgnore()) {\n                items.push(token);\n            }\n        }\n        if (items.length === 0) {\n            return Result_1.Result.Err(new ParseError_1.ParseError('Cannot match sequence', lastIndex));\n        }\n        return Result_1.Result.Ok(Token_1.Token.Plain({\n            index,\n            size: lastIndex - index,\n            type: 'sequence',\n            value: items\n        }));\n    };\n    return parseSeq;\n}\nexports.Seq = Seq;\nfunction List(parseItem, parseDelim, checkEnd) {\n    return (src, index) => {\n        const items = [];\n        let lastIndex = index;\n        while (lastIndex < src.length) {\n            const itemRes = parseItem(src, lastIndex);\n            if (itemRes.isErr()) {\n                return Result_1.Result.Err(itemRes.unwrapErr());\n            }\n            const itemToken = itemRes.unwrap();\n            if (!itemToken.isIgnore) {\n                items.push(itemToken);\n            }\n            lastIndex = itemToken.end();\n            if (checkEnd && checkEnd(src, lastIndex).isOk()) {\n                break;\n            }\n            if (parseDelim) {\n                const delimRes = parseDelim(src, lastIndex);\n                if (delimRes.isErr()) {\n                    break;\n                }\n                lastIndex = delimRes.unwrap().end();\n            }\n        }\n        if (items.length === 0) {\n            return Result_1.Result.Err(new ParseError_1.ParseError('Cannot match list', lastIndex));\n        }\n        return Result_1.Result.Ok(Token_1.Token.Plain({\n            index,\n            size: lastIndex - index,\n            type: 'list',\n            value: items\n        }));\n    };\n}\nexports.List = List;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvY29sb3IvbGliL0NudHJsQ29sb3IvZXhwci9Db21icy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxZQUFZLEdBQUcsV0FBVyxHQUFHLFdBQVcsR0FBRyxXQUFXLEdBQUcsY0FBYyxHQUFHLGFBQWEsR0FBRyxZQUFZO0FBQ3RHLHFCQUFxQixtQkFBTyxDQUFDLHdGQUFjO0FBQzNDLGlCQUFpQixtQkFBTyxDQUFDLGdGQUFVO0FBQ25DLGdCQUFnQixtQkFBTyxDQUFDLDhFQUFTO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLEtBQUssaUJBQWlCLE9BQU87QUFDNUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQSx1RUFBdUUsU0FBUztBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9GQUFvRixRQUFRO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLDZFQUE2RSxnQkFBZ0I7QUFDN0Y7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxZQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9jb2xvci9saWIvQ250cmxDb2xvci9leHByL0NvbWJzLmpzP2M4OTciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkxpc3QgPSBleHBvcnRzLlNlcSA9IGV4cG9ydHMuQWx0ID0gZXhwb3J0cy5PcHQgPSBleHBvcnRzLklnbm9yZSA9IGV4cG9ydHMuUmVnZXggPSBleHBvcnRzLlRleHQgPSB2b2lkIDA7XG5jb25zdCBQYXJzZUVycm9yXzEgPSByZXF1aXJlKFwiLi9QYXJzZUVycm9yXCIpO1xuY29uc3QgUmVzdWx0XzEgPSByZXF1aXJlKFwiLi9SZXN1bHRcIik7XG5jb25zdCBUb2tlbl8xID0gcmVxdWlyZShcIi4vVG9rZW5cIik7XG5mdW5jdGlvbiBUZXh0KHRleHQsIGNpID0gZmFsc2UpIHtcbiAgICBmdW5jdGlvbiBpc01hdGNoKHNhbXBsZSkge1xuICAgICAgICByZXR1cm4gY2kgPyAodGV4dC50b0xvd2VyQ2FzZSgpID09PSBzYW1wbGUudG9Mb3dlckNhc2UoKSkgOiAodGV4dCA9PT0gc2FtcGxlKTtcbiAgICB9XG4gICAgcmV0dXJuIChzcmMsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHNhbXBsZSA9IHNyYy5zbGljZShpbmRleCwgaW5kZXggKyB0ZXh0Lmxlbmd0aCk7XG4gICAgICAgIGlmICghaXNNYXRjaChzYW1wbGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVzdWx0XzEuUmVzdWx0LkVycihuZXcgUGFyc2VFcnJvcl8xLlBhcnNlRXJyb3IoYEV4cGVjdHMgXCIke3RleHR9XCIgaW5zdGVhZCBnb3QgXCIke3NhbXBsZX1cImAsIGluZGV4KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFJlc3VsdF8xLlJlc3VsdC5PayhUb2tlbl8xLlRva2VuLlBsYWluKHtcbiAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgc2l6ZTogc2FtcGxlLmxlbmd0aCxcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgIHZhbHVlOiBzYW1wbGVcbiAgICAgICAgfSkpO1xuICAgIH07XG59XG5leHBvcnRzLlRleHQgPSBUZXh0O1xuZnVuY3Rpb24gUmVnZXgocmUpIHtcbiAgICBjb25zdCBwYXR0ZXJuID0gbmV3IFJlZ0V4cChyZSwgL2cvaS50ZXN0KHJlLmZsYWdzKSA/IHJlLmZsYWdzIDogYCR7cmUuZmxhZ3N9Z2ApO1xuICAgIGNvbnN0IHBhcnNlUmVnZXggPSAoc3JjLCBpbmRleCkgPT4ge1xuICAgICAgICBwYXR0ZXJuLmxhc3RJbmRleCA9IGluZGV4O1xuICAgICAgICBjb25zdCBtYXRjaCA9IHBhdHRlcm4uZXhlYyhzcmMpO1xuICAgICAgICBpZiAoIW1hdGNoIHx8IG1hdGNoLmluZGV4ICE9PSBpbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlc3VsdF8xLlJlc3VsdC5FcnIobmV3IFBhcnNlRXJyb3JfMS5QYXJzZUVycm9yKGBDYW5ub3QgbWF0Y2ggXCIke3BhdHRlcm59XCJgLCBpbmRleCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBSZXN1bHRfMS5SZXN1bHQuT2soVG9rZW5fMS5Ub2tlbi5QbGFpbih7XG4gICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgIHNpemU6IG1hdGNoWzBdLmxlbmd0aCxcbiAgICAgICAgICAgIHR5cGU6ICdyZWdleCcsXG4gICAgICAgICAgICB2YWx1ZTogbWF0Y2hcbiAgICAgICAgfSkpO1xuICAgIH07XG4gICAgcmV0dXJuIHBhcnNlUmVnZXg7XG59XG5leHBvcnRzLlJlZ2V4ID0gUmVnZXg7XG5mdW5jdGlvbiBJZ25vcmUocGFyc2UpIHtcbiAgICByZXR1cm4gKHNyYywgaW5kZXgpID0+IHBhcnNlKHNyYywgaW5kZXgpLm1hcCh0ID0+IHQuaWdub3JlKCkpO1xufVxuZXhwb3J0cy5JZ25vcmUgPSBJZ25vcmU7XG5mdW5jdGlvbiBPcHQocGFyc2UpIHtcbiAgICByZXR1cm4gKHNyYywgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0gcGFyc2Uoc3JjLCBpbmRleCk7XG4gICAgICAgIHJldHVybiByZXMubWFwT3JFbHNlKCgpID0+IFJlc3VsdF8xLlJlc3VsdC5PayhUb2tlbl8xLlRva2VuLklnbm9yZSh7IGluZGV4LCBzaXplOiAwIH0pKSwgKCkgPT4gcmVzKTtcbiAgICB9O1xufVxuZXhwb3J0cy5PcHQgPSBPcHQ7XG5mdW5jdGlvbiBBbHQoLi4ucGFyc2Vycykge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjb25zdCBwYXJzZUFsdCA9IChzcmMsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGVycm9ycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnNlIG9mIHBhcnNlcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHBhcnNlKHNyYywgaW5kZXgpO1xuICAgICAgICAgICAgaWYgKHJlcy5pc09rKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXJyb3JzLnB1c2gocmVzLnVud3JhcEVycigpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmVzdWx0XzEuUmVzdWx0LkVycihQYXJzZUVycm9yXzEuUGFyc2VFcnJvci5tZXJnZShlcnJvcnMsIGluZGV4KSk7XG4gICAgfTtcbiAgICByZXR1cm4gcGFyc2VBbHQ7XG59XG5leHBvcnRzLkFsdCA9IEFsdDtcbmZ1bmN0aW9uIFNlcShwYXJzZXJzLCBjaGVja0VuZCkge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjb25zdCBwYXJzZVNlcSA9IChzcmMsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgICAgIGxldCBsYXN0SW5kZXggPSBpbmRleDtcbiAgICAgICAgZm9yIChjb25zdCBwYXJzZSBvZiBwYXJzZXJzKSB7XG4gICAgICAgICAgICBpZiAobGFzdEluZGV4ID49IHNyYy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVzdWx0XzEuUmVzdWx0LkVycihuZXcgUGFyc2VFcnJvcl8xLlBhcnNlRXJyb3IoJ1VuZXhwZWN0ZWQgZW5kIG9mIGlucHV0JywgbGFzdEluZGV4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXMgPSBwYXJzZShzcmMsIGxhc3RJbmRleCk7XG4gICAgICAgICAgICBpZiAocmVzLmlzRXJyKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tFbmQgJiYgY2hlY2tFbmQoc3JjLCBsYXN0SW5kZXgpLmlzT2soKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSByZXMudW53cmFwKCk7XG4gICAgICAgICAgICBsYXN0SW5kZXggPSB0b2tlbi5lbmQoKTtcbiAgICAgICAgICAgIGlmICghdG9rZW4uaXNJZ25vcmUoKSkge1xuICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBSZXN1bHRfMS5SZXN1bHQuRXJyKG5ldyBQYXJzZUVycm9yXzEuUGFyc2VFcnJvcignQ2Fubm90IG1hdGNoIHNlcXVlbmNlJywgbGFzdEluZGV4KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFJlc3VsdF8xLlJlc3VsdC5PayhUb2tlbl8xLlRva2VuLlBsYWluKHtcbiAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgc2l6ZTogbGFzdEluZGV4IC0gaW5kZXgsXG4gICAgICAgICAgICB0eXBlOiAnc2VxdWVuY2UnLFxuICAgICAgICAgICAgdmFsdWU6IGl0ZW1zXG4gICAgICAgIH0pKTtcbiAgICB9O1xuICAgIHJldHVybiBwYXJzZVNlcTtcbn1cbmV4cG9ydHMuU2VxID0gU2VxO1xuZnVuY3Rpb24gTGlzdChwYXJzZUl0ZW0sIHBhcnNlRGVsaW0sIGNoZWNrRW5kKSB7XG4gICAgcmV0dXJuIChzcmMsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgICAgIGxldCBsYXN0SW5kZXggPSBpbmRleDtcbiAgICAgICAgd2hpbGUgKGxhc3RJbmRleCA8IHNyYy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1SZXMgPSBwYXJzZUl0ZW0oc3JjLCBsYXN0SW5kZXgpO1xuICAgICAgICAgICAgaWYgKGl0ZW1SZXMuaXNFcnIoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBSZXN1bHRfMS5SZXN1bHQuRXJyKGl0ZW1SZXMudW53cmFwRXJyKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaXRlbVRva2VuID0gaXRlbVJlcy51bndyYXAoKTtcbiAgICAgICAgICAgIGlmICghaXRlbVRva2VuLmlzSWdub3JlKSB7XG4gICAgICAgICAgICAgICAgaXRlbXMucHVzaChpdGVtVG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdEluZGV4ID0gaXRlbVRva2VuLmVuZCgpO1xuICAgICAgICAgICAgaWYgKGNoZWNrRW5kICYmIGNoZWNrRW5kKHNyYywgbGFzdEluZGV4KS5pc09rKCkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJzZURlbGltKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsaW1SZXMgPSBwYXJzZURlbGltKHNyYywgbGFzdEluZGV4KTtcbiAgICAgICAgICAgICAgICBpZiAoZGVsaW1SZXMuaXNFcnIoKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFzdEluZGV4ID0gZGVsaW1SZXMudW53cmFwKCkuZW5kKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlc3VsdF8xLlJlc3VsdC5FcnIobmV3IFBhcnNlRXJyb3JfMS5QYXJzZUVycm9yKCdDYW5ub3QgbWF0Y2ggbGlzdCcsIGxhc3RJbmRleCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBSZXN1bHRfMS5SZXN1bHQuT2soVG9rZW5fMS5Ub2tlbi5QbGFpbih7XG4gICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgIHNpemU6IGxhc3RJbmRleCAtIGluZGV4LFxuICAgICAgICAgICAgdHlwZTogJ2xpc3QnLFxuICAgICAgICAgICAgdmFsdWU6IGl0ZW1zXG4gICAgICAgIH0pKTtcbiAgICB9O1xufVxuZXhwb3J0cy5MaXN0ID0gTGlzdDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/color/lib/CntrlColor/expr/Combs.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/color/lib/CntrlColor/expr/ParseError.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@cntrl-site/color/lib/CntrlColor/expr/ParseError.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ParseError = void 0;\nclass ParseError extends Error {\n    static merge(errors, index) {\n        return new ParseError([\n            'Multiple errors occured:',\n            ...errors.map(err => err instanceof Error ? err.toString() : err)\n        ].join('\\n'), index);\n    }\n    constructor(message, index) {\n        super(`${message} at ${index}`);\n        this.index = index;\n        this.name = 'ParseError';\n    }\n    toString() {\n        return `${this.name}: ${this.message} at ${this.index}`;\n    }\n}\nexports.ParseError = ParseError;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvY29sb3IvbGliL0NudHJsQ29sb3IvZXhwci9QYXJzZUVycm9yLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVMsS0FBSyxNQUFNO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFVBQVUsSUFBSSxjQUFjLEtBQUssV0FBVztBQUM5RDtBQUNBO0FBQ0Esa0JBQWtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9jb2xvci9saWIvQ250cmxDb2xvci9leHByL1BhcnNlRXJyb3IuanM/Y2UzOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUGFyc2VFcnJvciA9IHZvaWQgMDtcbmNsYXNzIFBhcnNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgc3RhdGljIG1lcmdlKGVycm9ycywgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQYXJzZUVycm9yKFtcbiAgICAgICAgICAgICdNdWx0aXBsZSBlcnJvcnMgb2NjdXJlZDonLFxuICAgICAgICAgICAgLi4uZXJyb3JzLm1hcChlcnIgPT4gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIudG9TdHJpbmcoKSA6IGVycilcbiAgICAgICAgXS5qb2luKCdcXG4nKSwgaW5kZXgpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBpbmRleCkge1xuICAgICAgICBzdXBlcihgJHttZXNzYWdlfSBhdCAke2luZGV4fWApO1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMubmFtZSA9ICdQYXJzZUVycm9yJztcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLm5hbWV9OiAke3RoaXMubWVzc2FnZX0gYXQgJHt0aGlzLmluZGV4fWA7XG4gICAgfVxufVxuZXhwb3J0cy5QYXJzZUVycm9yID0gUGFyc2VFcnJvcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/color/lib/CntrlColor/expr/ParseError.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/color/lib/CntrlColor/expr/Result.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@cntrl-site/color/lib/CntrlColor/expr/Result.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Err = exports.Ok = exports.Result = void 0;\nclass Result {\n    static Ok(value) { return new Ok(value); }\n    static Err(error) { return new Err(error); }\n    isOk() { return false; }\n    isErr() { return false; }\n}\nexports.Result = Result;\nclass Ok extends Result {\n    constructor(value) {\n        super();\n        this.value = value;\n        Object.freeze(this);\n    }\n    isOk() { return true; }\n    unwrap() { return this.value; }\n    unwrapErr() { throw this.value; }\n    map(mapFn) { return new Ok(mapFn(this.value)); }\n    mapOrElse(elseFn, mapFn) { return mapFn(this.value); }\n}\nexports.Ok = Ok;\nclass Err extends Result {\n    constructor(error) {\n        super();\n        this.error = error;\n        Object.freeze(this);\n    }\n    isErr() { return true; }\n    unwrap() { throw this.error; }\n    unwrapErr() { return this.error; }\n    // @ts-ignore\n    map(mapFn) { return this; }\n    mapOrElse(elseFn, mapFn) { return elseFn(); }\n}\nexports.Err = Err;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvY29sb3IvbGliL0NudHJsQ29sb3IvZXhwci9SZXN1bHQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsV0FBVyxHQUFHLFVBQVUsR0FBRyxjQUFjO0FBQ3pDO0FBQ0EsdUJBQXVCO0FBQ3ZCLHdCQUF3QjtBQUN4QixhQUFhO0FBQ2IsY0FBYztBQUNkO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixlQUFlO0FBQ2Ysa0JBQWtCO0FBQ2xCLGlCQUFpQjtBQUNqQiwrQkFBK0I7QUFDL0I7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLGVBQWU7QUFDZixrQkFBa0I7QUFDbEI7QUFDQSxpQkFBaUI7QUFDakIsK0JBQStCO0FBQy9CO0FBQ0EsV0FBVyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvY29sb3IvbGliL0NudHJsQ29sb3IvZXhwci9SZXN1bHQuanM/YTc3MCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRXJyID0gZXhwb3J0cy5PayA9IGV4cG9ydHMuUmVzdWx0ID0gdm9pZCAwO1xuY2xhc3MgUmVzdWx0IHtcbiAgICBzdGF0aWMgT2sodmFsdWUpIHsgcmV0dXJuIG5ldyBPayh2YWx1ZSk7IH1cbiAgICBzdGF0aWMgRXJyKGVycm9yKSB7IHJldHVybiBuZXcgRXJyKGVycm9yKTsgfVxuICAgIGlzT2soKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGlzRXJyKCkgeyByZXR1cm4gZmFsc2U7IH1cbn1cbmV4cG9ydHMuUmVzdWx0ID0gUmVzdWx0O1xuY2xhc3MgT2sgZXh0ZW5kcyBSZXN1bHQge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzKTtcbiAgICB9XG4gICAgaXNPaygpIHsgcmV0dXJuIHRydWU7IH1cbiAgICB1bndyYXAoKSB7IHJldHVybiB0aGlzLnZhbHVlOyB9XG4gICAgdW53cmFwRXJyKCkgeyB0aHJvdyB0aGlzLnZhbHVlOyB9XG4gICAgbWFwKG1hcEZuKSB7IHJldHVybiBuZXcgT2sobWFwRm4odGhpcy52YWx1ZSkpOyB9XG4gICAgbWFwT3JFbHNlKGVsc2VGbiwgbWFwRm4pIHsgcmV0dXJuIG1hcEZuKHRoaXMudmFsdWUpOyB9XG59XG5leHBvcnRzLk9rID0gT2s7XG5jbGFzcyBFcnIgZXh0ZW5kcyBSZXN1bHQge1xuICAgIGNvbnN0cnVjdG9yKGVycm9yKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzKTtcbiAgICB9XG4gICAgaXNFcnIoKSB7IHJldHVybiB0cnVlOyB9XG4gICAgdW53cmFwKCkgeyB0aHJvdyB0aGlzLmVycm9yOyB9XG4gICAgdW53cmFwRXJyKCkgeyByZXR1cm4gdGhpcy5lcnJvcjsgfVxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBtYXAobWFwRm4pIHsgcmV0dXJuIHRoaXM7IH1cbiAgICBtYXBPckVsc2UoZWxzZUZuLCBtYXBGbikgeyByZXR1cm4gZWxzZUZuKCk7IH1cbn1cbmV4cG9ydHMuRXJyID0gRXJyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/color/lib/CntrlColor/expr/Result.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/color/lib/CntrlColor/expr/Token.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@cntrl-site/color/lib/CntrlColor/expr/Token.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Token = exports.TOKEN_IGNORE = void 0;\nexports.TOKEN_IGNORE = Symbol.for('@cntrl-site/cms-client:TokenIgnore');\nclass Token {\n    static Plain(params) {\n        return new Token(params);\n    }\n    static Ignore({ index, size }) {\n        return new Token({ index, size, type: exports.TOKEN_IGNORE, value: undefined });\n    }\n    constructor({ index, size, type, value }) {\n        this.index = index;\n        this.size = size;\n        this.type = type;\n        this.value = value;\n    }\n    produce({ type, value }) {\n        return new Token({ index: this.index, size: this.size, type, value });\n    }\n    ignore() {\n        return Token.Ignore({ index: this.index, size: this.size });\n    }\n    end() { return this.index + this.size; }\n    isIgnore() { return this.type === exports.TOKEN_IGNORE; }\n}\nexports.Token = Token;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvY29sb3IvbGliL0NudHJsQ29sb3IvZXhwci9Ub2tlbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxhQUFhLEdBQUcsb0JBQW9CO0FBQ3BDLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixhQUFhO0FBQ2pDLDJCQUEyQiwyREFBMkQ7QUFDdEY7QUFDQSxrQkFBa0IsMEJBQTBCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGFBQWE7QUFDM0IsMkJBQTJCLGlEQUFpRDtBQUM1RTtBQUNBO0FBQ0EsOEJBQThCLG9DQUFvQztBQUNsRTtBQUNBLFlBQVk7QUFDWixpQkFBaUI7QUFDakI7QUFDQSxhQUFhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9jb2xvci9saWIvQ250cmxDb2xvci9leHByL1Rva2VuLmpzP2IxYTYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlRva2VuID0gZXhwb3J0cy5UT0tFTl9JR05PUkUgPSB2b2lkIDA7XG5leHBvcnRzLlRPS0VOX0lHTk9SRSA9IFN5bWJvbC5mb3IoJ0BjbnRybC1zaXRlL2Ntcy1jbGllbnQ6VG9rZW5JZ25vcmUnKTtcbmNsYXNzIFRva2VuIHtcbiAgICBzdGF0aWMgUGxhaW4ocGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBuZXcgVG9rZW4ocGFyYW1zKTtcbiAgICB9XG4gICAgc3RhdGljIElnbm9yZSh7IGluZGV4LCBzaXplIH0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUb2tlbih7IGluZGV4LCBzaXplLCB0eXBlOiBleHBvcnRzLlRPS0VOX0lHTk9SRSwgdmFsdWU6IHVuZGVmaW5lZCB9KTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoeyBpbmRleCwgc2l6ZSwgdHlwZSwgdmFsdWUgfSkge1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgcHJvZHVjZSh7IHR5cGUsIHZhbHVlIH0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUb2tlbih7IGluZGV4OiB0aGlzLmluZGV4LCBzaXplOiB0aGlzLnNpemUsIHR5cGUsIHZhbHVlIH0pO1xuICAgIH1cbiAgICBpZ25vcmUoKSB7XG4gICAgICAgIHJldHVybiBUb2tlbi5JZ25vcmUoeyBpbmRleDogdGhpcy5pbmRleCwgc2l6ZTogdGhpcy5zaXplIH0pO1xuICAgIH1cbiAgICBlbmQoKSB7IHJldHVybiB0aGlzLmluZGV4ICsgdGhpcy5zaXplOyB9XG4gICAgaXNJZ25vcmUoKSB7IHJldHVybiB0aGlzLnR5cGUgPT09IGV4cG9ydHMuVE9LRU5fSUdOT1JFOyB9XG59XG5leHBvcnRzLlRva2VuID0gVG9rZW47XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/color/lib/CntrlColor/expr/Token.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/color/lib/CntrlColor/expr/color/ColorCommons.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@cntrl-site/color/lib/CntrlColor/expr/color/ColorCommons.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Angle = exports.Percentage = exports.CssNumber = void 0;\nconst Combs_1 = __webpack_require__(/*! ../Combs */ \"./node_modules/@cntrl-site/color/lib/CntrlColor/expr/Combs.js\");\nfunction CssNumber() {\n    const parse = (0, Combs_1.Regex)(/[+-]?(?:\\d*\\.\\d|\\d)\\d*(?:[eE][+-]?\\d+)?/);\n    const parseCssNumber = (src, index) => parse(src, index).map(t => t.produce({\n        type: 'number',\n        value: parseFloat(t.value[0])\n    }));\n    return parseCssNumber;\n}\nexports.CssNumber = CssNumber;\nfunction Percentage() {\n    const parse = (0, Combs_1.Seq)([CssNumber(), (0, Combs_1.Text)('%')]);\n    const parsePercentage = (src, index) => parse(src, index).map(t => t.produce({\n        type: 'percentage',\n        value: t.value[0].value\n    }));\n    return parsePercentage;\n}\nexports.Percentage = Percentage;\nfunction Angle() {\n    const parse = (0, Combs_1.Seq)([CssNumber(), (0, Combs_1.Opt)((0, Combs_1.Alt)((0, Combs_1.Text)('rad', true), (0, Combs_1.Text)('deg', true)))]);\n    const parseAngle = (src, index) => parse(src, index).map(t => {\n        var _a, _b;\n        return t.produce({\n            type: 'angle',\n            value: {\n                angle: t.value[0].value,\n                unit: (_b = (_a = t.value[1]) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : 'deg'\n            }\n        });\n    });\n    return parseAngle;\n}\nexports.Angle = Angle;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvY29sb3IvbGliL0NudHJsQ29sb3IvZXhwci9jb2xvci9Db2xvckNvbW1vbnMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsYUFBYSxHQUFHLGtCQUFrQixHQUFHLGlCQUFpQjtBQUN0RCxnQkFBZ0IsbUJBQU8sQ0FBQywrRUFBVTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0EsYUFBYSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvY29sb3IvbGliL0NudHJsQ29sb3IvZXhwci9jb2xvci9Db2xvckNvbW1vbnMuanM/ZjVkYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQW5nbGUgPSBleHBvcnRzLlBlcmNlbnRhZ2UgPSBleHBvcnRzLkNzc051bWJlciA9IHZvaWQgMDtcbmNvbnN0IENvbWJzXzEgPSByZXF1aXJlKFwiLi4vQ29tYnNcIik7XG5mdW5jdGlvbiBDc3NOdW1iZXIoKSB7XG4gICAgY29uc3QgcGFyc2UgPSAoMCwgQ29tYnNfMS5SZWdleCkoL1srLV0/KD86XFxkKlxcLlxcZHxcXGQpXFxkKig/OltlRV1bKy1dP1xcZCspPy8pO1xuICAgIGNvbnN0IHBhcnNlQ3NzTnVtYmVyID0gKHNyYywgaW5kZXgpID0+IHBhcnNlKHNyYywgaW5kZXgpLm1hcCh0ID0+IHQucHJvZHVjZSh7XG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICB2YWx1ZTogcGFyc2VGbG9hdCh0LnZhbHVlWzBdKVxuICAgIH0pKTtcbiAgICByZXR1cm4gcGFyc2VDc3NOdW1iZXI7XG59XG5leHBvcnRzLkNzc051bWJlciA9IENzc051bWJlcjtcbmZ1bmN0aW9uIFBlcmNlbnRhZ2UoKSB7XG4gICAgY29uc3QgcGFyc2UgPSAoMCwgQ29tYnNfMS5TZXEpKFtDc3NOdW1iZXIoKSwgKDAsIENvbWJzXzEuVGV4dCkoJyUnKV0pO1xuICAgIGNvbnN0IHBhcnNlUGVyY2VudGFnZSA9IChzcmMsIGluZGV4KSA9PiBwYXJzZShzcmMsIGluZGV4KS5tYXAodCA9PiB0LnByb2R1Y2Uoe1xuICAgICAgICB0eXBlOiAncGVyY2VudGFnZScsXG4gICAgICAgIHZhbHVlOiB0LnZhbHVlWzBdLnZhbHVlXG4gICAgfSkpO1xuICAgIHJldHVybiBwYXJzZVBlcmNlbnRhZ2U7XG59XG5leHBvcnRzLlBlcmNlbnRhZ2UgPSBQZXJjZW50YWdlO1xuZnVuY3Rpb24gQW5nbGUoKSB7XG4gICAgY29uc3QgcGFyc2UgPSAoMCwgQ29tYnNfMS5TZXEpKFtDc3NOdW1iZXIoKSwgKDAsIENvbWJzXzEuT3B0KSgoMCwgQ29tYnNfMS5BbHQpKCgwLCBDb21ic18xLlRleHQpKCdyYWQnLCB0cnVlKSwgKDAsIENvbWJzXzEuVGV4dCkoJ2RlZycsIHRydWUpKSldKTtcbiAgICBjb25zdCBwYXJzZUFuZ2xlID0gKHNyYywgaW5kZXgpID0+IHBhcnNlKHNyYywgaW5kZXgpLm1hcCh0ID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIHQucHJvZHVjZSh7XG4gICAgICAgICAgICB0eXBlOiAnYW5nbGUnLFxuICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICBhbmdsZTogdC52YWx1ZVswXS52YWx1ZSxcbiAgICAgICAgICAgICAgICB1bml0OiAoX2IgPSAoX2EgPSB0LnZhbHVlWzFdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudmFsdWUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICdkZWcnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBwYXJzZUFuZ2xlO1xufVxuZXhwb3J0cy5BbmdsZSA9IEFuZ2xlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/color/lib/CntrlColor/expr/color/ColorCommons.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/color/lib/CntrlColor/expr/color/ColorGrammar.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@cntrl-site/color/lib/CntrlColor/expr/color/ColorGrammar.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ColorParser = void 0;\nconst Combs_1 = __webpack_require__(/*! ../Combs */ \"./node_modules/@cntrl-site/color/lib/CntrlColor/expr/Combs.js\");\nconst ColorCommons_1 = __webpack_require__(/*! ./ColorCommons */ \"./node_modules/@cntrl-site/color/lib/CntrlColor/expr/color/ColorCommons.js\");\nfunction RgbComma() {\n    const parseNum = (0, ColorCommons_1.CssNumber)();\n    const parseComma = (0, Combs_1.Regex)(/\\s*,\\s*/);\n    const parseRgb = (0, Combs_1.Seq)([\n        (0, Combs_1.Text)('rgb', true),\n        (0, Combs_1.Regex)(/\\(\\s*/),\n        parseNum,\n        parseComma,\n        parseNum,\n        parseComma,\n        parseNum,\n        (0, Combs_1.Regex)(/\\s*\\)/)\n    ]);\n    const parseRgba = (0, Combs_1.Seq)([\n        (0, Combs_1.Text)('rgba', true),\n        (0, Combs_1.Regex)(/\\(\\s*/),\n        parseNum,\n        parseComma,\n        parseNum,\n        parseComma,\n        parseNum,\n        parseComma,\n        parseNum,\n        (0, Combs_1.Regex)(/\\s*\\)/)\n    ]);\n    const parse = (0, Combs_1.Alt)(parseRgb, parseRgba);\n    const parseRgbaComma = (src, index) => parse(src, index).map(t => {\n        var _a, _b;\n        return t.produce({\n            type: 'rgba',\n            value: {\n                r: t.value[2].value,\n                g: t.value[4].value,\n                b: t.value[6].value,\n                a: (_b = (_a = t.value[8]) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : 1\n            }\n        });\n    });\n    return parseRgbaComma;\n}\nfunction Hex() {\n    const parse = (0, Combs_1.Regex)(/#(?:([0-9a-f]{8})|([0-9a-f]{6})|([0-9a-f]{3}))(?=\\b|$)/i);\n    const parseHex = (src, index) => parse(src, index).map(t => {\n        const [, wAlpha, long, short] = t.value;\n        let red = 0, green = 0, blue = 0, alpha = 1;\n        if (wAlpha) {\n            red = parseInt(wAlpha.slice(0, 2), 16);\n            green = parseInt(wAlpha.slice(2, 4), 16);\n            blue = parseInt(wAlpha.slice(4, 6), 16);\n            alpha = parseInt(wAlpha.slice(6, 8), 16) / 0xff;\n        }\n        if (long) {\n            red = parseInt(long.slice(0, 2), 16);\n            green = parseInt(long.slice(2, 4), 16);\n            blue = parseInt(long.slice(4, 6), 16);\n        }\n        if (short) {\n            red = parseInt(short.charAt(0), 16);\n            red = (red << 4) ^ red;\n            green = parseInt(short.charAt(1), 16);\n            green = (green << 4) ^ green;\n            blue = parseInt(short.charAt(2), 16);\n            blue = (blue << 4) ^ blue;\n        }\n        return t.produce({\n            type: 'rgba',\n            value: {\n                r: red,\n                g: green,\n                b: blue,\n                a: alpha\n            }\n        });\n    });\n    return parseHex;\n}\nfunction RgbSpace() {\n    const parseNum = (0, ColorCommons_1.CssNumber)();\n    const parseWhitespace = (0, Combs_1.Regex)(/\\s+/);\n    const parseRgb = (0, Combs_1.Seq)([\n        (0, Combs_1.Text)('rgb', true),\n        (0, Combs_1.Regex)(/\\(\\s*/),\n        parseNum,\n        parseWhitespace,\n        parseNum,\n        parseWhitespace,\n        parseNum,\n        (0, Combs_1.Regex)(/\\s*\\)/)\n    ]);\n    const parseRgba = (0, Combs_1.Seq)([\n        (0, Combs_1.Text)('rgba', true),\n        (0, Combs_1.Regex)(/\\(\\s*/),\n        parseNum,\n        parseWhitespace,\n        parseNum,\n        parseWhitespace,\n        parseNum,\n        (0, Combs_1.Regex)(/\\s*\\/\\s*/),\n        parseNum,\n        (0, Combs_1.Regex)(/\\s*\\)/)\n    ]);\n    const parse = (0, Combs_1.Alt)(parseRgb, parseRgba);\n    const parseRgbaSpace = (src, index) => parse(src, index).map(t => {\n        var _a, _b;\n        return t.produce({\n            type: 'rgba',\n            value: {\n                r: t.value[2].value,\n                g: t.value[4].value,\n                b: t.value[6].value,\n                a: (_b = (_a = t.value[8]) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : 1\n            }\n        });\n    });\n    return parseRgbaSpace;\n}\nfunction Oklch() {\n    const parseNum = (0, ColorCommons_1.CssNumber)();\n    const parsePerc = (0, ColorCommons_1.Percentage)();\n    const parseWhitespace = (0, Combs_1.Regex)(/\\s+/);\n    const parse = (0, Combs_1.Seq)([\n        (0, Combs_1.Regex)(/oklch\\(\\s*/i),\n        (0, Combs_1.Alt)(parsePerc, parseNum),\n        parseWhitespace,\n        parseNum,\n        parseWhitespace,\n        (0, ColorCommons_1.Angle)(),\n        (0, Combs_1.Opt)((0, Combs_1.Seq)([\n            (0, Combs_1.Regex)(/\\s*\\/\\s*/),\n            parseNum\n        ])),\n        (0, Combs_1.Regex)(/\\s*\\)/)\n    ]);\n    const parseOklch = (src, index) => parse(src, index).map(t => {\n        const lightness = (t.value[1].type === 'number'\n            ? t.value[1].value\n            : t.value[1].value / 100);\n        const chroma = t.value[3].value;\n        const hue = (t.value[5].value.unit === 'deg'\n            ? t.value[5].value.angle\n            : (t.value[5].value.angle / (2 * Math.PI)) * 360);\n        const alpha = (t.value.length === 8\n            ? t.value[6].value[1].value\n            : 1);\n        return t.produce({\n            type: 'oklch',\n            value: {\n                l: lightness,\n                c: chroma,\n                h: hue,\n                a: alpha\n            }\n        });\n    });\n    return parseOklch;\n}\nfunction ColorParser() {\n    const parseColor = (0, Combs_1.Alt)(RgbComma(), RgbSpace(), Hex(), Oklch());\n    return parseColor;\n}\nexports.ColorParser = ColorParser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvY29sb3IvbGliL0NudHJsQ29sb3IvZXhwci9jb2xvci9Db2xvckdyYW1tYXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsbUJBQW1CO0FBQ25CLGdCQUFnQixtQkFBTyxDQUFDLCtFQUFVO0FBQ2xDLHVCQUF1QixtQkFBTyxDQUFDLGtHQUFnQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxFQUFFLFlBQVksRUFBRSxZQUFZLEVBQUU7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL2NvbG9yL2xpYi9DbnRybENvbG9yL2V4cHIvY29sb3IvQ29sb3JHcmFtbWFyLmpzPzYyNjQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNvbG9yUGFyc2VyID0gdm9pZCAwO1xuY29uc3QgQ29tYnNfMSA9IHJlcXVpcmUoXCIuLi9Db21ic1wiKTtcbmNvbnN0IENvbG9yQ29tbW9uc18xID0gcmVxdWlyZShcIi4vQ29sb3JDb21tb25zXCIpO1xuZnVuY3Rpb24gUmdiQ29tbWEoKSB7XG4gICAgY29uc3QgcGFyc2VOdW0gPSAoMCwgQ29sb3JDb21tb25zXzEuQ3NzTnVtYmVyKSgpO1xuICAgIGNvbnN0IHBhcnNlQ29tbWEgPSAoMCwgQ29tYnNfMS5SZWdleCkoL1xccyosXFxzKi8pO1xuICAgIGNvbnN0IHBhcnNlUmdiID0gKDAsIENvbWJzXzEuU2VxKShbXG4gICAgICAgICgwLCBDb21ic18xLlRleHQpKCdyZ2InLCB0cnVlKSxcbiAgICAgICAgKDAsIENvbWJzXzEuUmVnZXgpKC9cXChcXHMqLyksXG4gICAgICAgIHBhcnNlTnVtLFxuICAgICAgICBwYXJzZUNvbW1hLFxuICAgICAgICBwYXJzZU51bSxcbiAgICAgICAgcGFyc2VDb21tYSxcbiAgICAgICAgcGFyc2VOdW0sXG4gICAgICAgICgwLCBDb21ic18xLlJlZ2V4KSgvXFxzKlxcKS8pXG4gICAgXSk7XG4gICAgY29uc3QgcGFyc2VSZ2JhID0gKDAsIENvbWJzXzEuU2VxKShbXG4gICAgICAgICgwLCBDb21ic18xLlRleHQpKCdyZ2JhJywgdHJ1ZSksXG4gICAgICAgICgwLCBDb21ic18xLlJlZ2V4KSgvXFwoXFxzKi8pLFxuICAgICAgICBwYXJzZU51bSxcbiAgICAgICAgcGFyc2VDb21tYSxcbiAgICAgICAgcGFyc2VOdW0sXG4gICAgICAgIHBhcnNlQ29tbWEsXG4gICAgICAgIHBhcnNlTnVtLFxuICAgICAgICBwYXJzZUNvbW1hLFxuICAgICAgICBwYXJzZU51bSxcbiAgICAgICAgKDAsIENvbWJzXzEuUmVnZXgpKC9cXHMqXFwpLylcbiAgICBdKTtcbiAgICBjb25zdCBwYXJzZSA9ICgwLCBDb21ic18xLkFsdCkocGFyc2VSZ2IsIHBhcnNlUmdiYSk7XG4gICAgY29uc3QgcGFyc2VSZ2JhQ29tbWEgPSAoc3JjLCBpbmRleCkgPT4gcGFyc2Uoc3JjLCBpbmRleCkubWFwKHQgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gdC5wcm9kdWNlKHtcbiAgICAgICAgICAgIHR5cGU6ICdyZ2JhJyxcbiAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgcjogdC52YWx1ZVsyXS52YWx1ZSxcbiAgICAgICAgICAgICAgICBnOiB0LnZhbHVlWzRdLnZhbHVlLFxuICAgICAgICAgICAgICAgIGI6IHQudmFsdWVbNl0udmFsdWUsXG4gICAgICAgICAgICAgICAgYTogKF9iID0gKF9hID0gdC52YWx1ZVs4XSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnZhbHVlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBwYXJzZVJnYmFDb21tYTtcbn1cbmZ1bmN0aW9uIEhleCgpIHtcbiAgICBjb25zdCBwYXJzZSA9ICgwLCBDb21ic18xLlJlZ2V4KSgvIyg/OihbMC05YS1mXXs4fSl8KFswLTlhLWZdezZ9KXwoWzAtOWEtZl17M30pKSg/PVxcYnwkKS9pKTtcbiAgICBjb25zdCBwYXJzZUhleCA9IChzcmMsIGluZGV4KSA9PiBwYXJzZShzcmMsIGluZGV4KS5tYXAodCA9PiB7XG4gICAgICAgIGNvbnN0IFssIHdBbHBoYSwgbG9uZywgc2hvcnRdID0gdC52YWx1ZTtcbiAgICAgICAgbGV0IHJlZCA9IDAsIGdyZWVuID0gMCwgYmx1ZSA9IDAsIGFscGhhID0gMTtcbiAgICAgICAgaWYgKHdBbHBoYSkge1xuICAgICAgICAgICAgcmVkID0gcGFyc2VJbnQod0FscGhhLnNsaWNlKDAsIDIpLCAxNik7XG4gICAgICAgICAgICBncmVlbiA9IHBhcnNlSW50KHdBbHBoYS5zbGljZSgyLCA0KSwgMTYpO1xuICAgICAgICAgICAgYmx1ZSA9IHBhcnNlSW50KHdBbHBoYS5zbGljZSg0LCA2KSwgMTYpO1xuICAgICAgICAgICAgYWxwaGEgPSBwYXJzZUludCh3QWxwaGEuc2xpY2UoNiwgOCksIDE2KSAvIDB4ZmY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvbmcpIHtcbiAgICAgICAgICAgIHJlZCA9IHBhcnNlSW50KGxvbmcuc2xpY2UoMCwgMiksIDE2KTtcbiAgICAgICAgICAgIGdyZWVuID0gcGFyc2VJbnQobG9uZy5zbGljZSgyLCA0KSwgMTYpO1xuICAgICAgICAgICAgYmx1ZSA9IHBhcnNlSW50KGxvbmcuc2xpY2UoNCwgNiksIDE2KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvcnQpIHtcbiAgICAgICAgICAgIHJlZCA9IHBhcnNlSW50KHNob3J0LmNoYXJBdCgwKSwgMTYpO1xuICAgICAgICAgICAgcmVkID0gKHJlZCA8PCA0KSBeIHJlZDtcbiAgICAgICAgICAgIGdyZWVuID0gcGFyc2VJbnQoc2hvcnQuY2hhckF0KDEpLCAxNik7XG4gICAgICAgICAgICBncmVlbiA9IChncmVlbiA8PCA0KSBeIGdyZWVuO1xuICAgICAgICAgICAgYmx1ZSA9IHBhcnNlSW50KHNob3J0LmNoYXJBdCgyKSwgMTYpO1xuICAgICAgICAgICAgYmx1ZSA9IChibHVlIDw8IDQpIF4gYmx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdC5wcm9kdWNlKHtcbiAgICAgICAgICAgIHR5cGU6ICdyZ2JhJyxcbiAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgcjogcmVkLFxuICAgICAgICAgICAgICAgIGc6IGdyZWVuLFxuICAgICAgICAgICAgICAgIGI6IGJsdWUsXG4gICAgICAgICAgICAgICAgYTogYWxwaGFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHBhcnNlSGV4O1xufVxuZnVuY3Rpb24gUmdiU3BhY2UoKSB7XG4gICAgY29uc3QgcGFyc2VOdW0gPSAoMCwgQ29sb3JDb21tb25zXzEuQ3NzTnVtYmVyKSgpO1xuICAgIGNvbnN0IHBhcnNlV2hpdGVzcGFjZSA9ICgwLCBDb21ic18xLlJlZ2V4KSgvXFxzKy8pO1xuICAgIGNvbnN0IHBhcnNlUmdiID0gKDAsIENvbWJzXzEuU2VxKShbXG4gICAgICAgICgwLCBDb21ic18xLlRleHQpKCdyZ2InLCB0cnVlKSxcbiAgICAgICAgKDAsIENvbWJzXzEuUmVnZXgpKC9cXChcXHMqLyksXG4gICAgICAgIHBhcnNlTnVtLFxuICAgICAgICBwYXJzZVdoaXRlc3BhY2UsXG4gICAgICAgIHBhcnNlTnVtLFxuICAgICAgICBwYXJzZVdoaXRlc3BhY2UsXG4gICAgICAgIHBhcnNlTnVtLFxuICAgICAgICAoMCwgQ29tYnNfMS5SZWdleCkoL1xccypcXCkvKVxuICAgIF0pO1xuICAgIGNvbnN0IHBhcnNlUmdiYSA9ICgwLCBDb21ic18xLlNlcSkoW1xuICAgICAgICAoMCwgQ29tYnNfMS5UZXh0KSgncmdiYScsIHRydWUpLFxuICAgICAgICAoMCwgQ29tYnNfMS5SZWdleCkoL1xcKFxccyovKSxcbiAgICAgICAgcGFyc2VOdW0sXG4gICAgICAgIHBhcnNlV2hpdGVzcGFjZSxcbiAgICAgICAgcGFyc2VOdW0sXG4gICAgICAgIHBhcnNlV2hpdGVzcGFjZSxcbiAgICAgICAgcGFyc2VOdW0sXG4gICAgICAgICgwLCBDb21ic18xLlJlZ2V4KSgvXFxzKlxcL1xccyovKSxcbiAgICAgICAgcGFyc2VOdW0sXG4gICAgICAgICgwLCBDb21ic18xLlJlZ2V4KSgvXFxzKlxcKS8pXG4gICAgXSk7XG4gICAgY29uc3QgcGFyc2UgPSAoMCwgQ29tYnNfMS5BbHQpKHBhcnNlUmdiLCBwYXJzZVJnYmEpO1xuICAgIGNvbnN0IHBhcnNlUmdiYVNwYWNlID0gKHNyYywgaW5kZXgpID0+IHBhcnNlKHNyYywgaW5kZXgpLm1hcCh0ID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIHQucHJvZHVjZSh7XG4gICAgICAgICAgICB0eXBlOiAncmdiYScsXG4gICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgIHI6IHQudmFsdWVbMl0udmFsdWUsXG4gICAgICAgICAgICAgICAgZzogdC52YWx1ZVs0XS52YWx1ZSxcbiAgICAgICAgICAgICAgICBiOiB0LnZhbHVlWzZdLnZhbHVlLFxuICAgICAgICAgICAgICAgIGE6IChfYiA9IChfYSA9IHQudmFsdWVbOF0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS52YWx1ZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcGFyc2VSZ2JhU3BhY2U7XG59XG5mdW5jdGlvbiBPa2xjaCgpIHtcbiAgICBjb25zdCBwYXJzZU51bSA9ICgwLCBDb2xvckNvbW1vbnNfMS5Dc3NOdW1iZXIpKCk7XG4gICAgY29uc3QgcGFyc2VQZXJjID0gKDAsIENvbG9yQ29tbW9uc18xLlBlcmNlbnRhZ2UpKCk7XG4gICAgY29uc3QgcGFyc2VXaGl0ZXNwYWNlID0gKDAsIENvbWJzXzEuUmVnZXgpKC9cXHMrLyk7XG4gICAgY29uc3QgcGFyc2UgPSAoMCwgQ29tYnNfMS5TZXEpKFtcbiAgICAgICAgKDAsIENvbWJzXzEuUmVnZXgpKC9va2xjaFxcKFxccyovaSksXG4gICAgICAgICgwLCBDb21ic18xLkFsdCkocGFyc2VQZXJjLCBwYXJzZU51bSksXG4gICAgICAgIHBhcnNlV2hpdGVzcGFjZSxcbiAgICAgICAgcGFyc2VOdW0sXG4gICAgICAgIHBhcnNlV2hpdGVzcGFjZSxcbiAgICAgICAgKDAsIENvbG9yQ29tbW9uc18xLkFuZ2xlKSgpLFxuICAgICAgICAoMCwgQ29tYnNfMS5PcHQpKCgwLCBDb21ic18xLlNlcSkoW1xuICAgICAgICAgICAgKDAsIENvbWJzXzEuUmVnZXgpKC9cXHMqXFwvXFxzKi8pLFxuICAgICAgICAgICAgcGFyc2VOdW1cbiAgICAgICAgXSkpLFxuICAgICAgICAoMCwgQ29tYnNfMS5SZWdleCkoL1xccypcXCkvKVxuICAgIF0pO1xuICAgIGNvbnN0IHBhcnNlT2tsY2ggPSAoc3JjLCBpbmRleCkgPT4gcGFyc2Uoc3JjLCBpbmRleCkubWFwKHQgPT4ge1xuICAgICAgICBjb25zdCBsaWdodG5lc3MgPSAodC52YWx1ZVsxXS50eXBlID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgPyB0LnZhbHVlWzFdLnZhbHVlXG4gICAgICAgICAgICA6IHQudmFsdWVbMV0udmFsdWUgLyAxMDApO1xuICAgICAgICBjb25zdCBjaHJvbWEgPSB0LnZhbHVlWzNdLnZhbHVlO1xuICAgICAgICBjb25zdCBodWUgPSAodC52YWx1ZVs1XS52YWx1ZS51bml0ID09PSAnZGVnJ1xuICAgICAgICAgICAgPyB0LnZhbHVlWzVdLnZhbHVlLmFuZ2xlXG4gICAgICAgICAgICA6ICh0LnZhbHVlWzVdLnZhbHVlLmFuZ2xlIC8gKDIgKiBNYXRoLlBJKSkgKiAzNjApO1xuICAgICAgICBjb25zdCBhbHBoYSA9ICh0LnZhbHVlLmxlbmd0aCA9PT0gOFxuICAgICAgICAgICAgPyB0LnZhbHVlWzZdLnZhbHVlWzFdLnZhbHVlXG4gICAgICAgICAgICA6IDEpO1xuICAgICAgICByZXR1cm4gdC5wcm9kdWNlKHtcbiAgICAgICAgICAgIHR5cGU6ICdva2xjaCcsXG4gICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgIGw6IGxpZ2h0bmVzcyxcbiAgICAgICAgICAgICAgICBjOiBjaHJvbWEsXG4gICAgICAgICAgICAgICAgaDogaHVlLFxuICAgICAgICAgICAgICAgIGE6IGFscGhhXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBwYXJzZU9rbGNoO1xufVxuZnVuY3Rpb24gQ29sb3JQYXJzZXIoKSB7XG4gICAgY29uc3QgcGFyc2VDb2xvciA9ICgwLCBDb21ic18xLkFsdCkoUmdiQ29tbWEoKSwgUmdiU3BhY2UoKSwgSGV4KCksIE9rbGNoKCkpO1xuICAgIHJldHVybiBwYXJzZUNvbG9yO1xufVxuZXhwb3J0cy5Db2xvclBhcnNlciA9IENvbG9yUGFyc2VyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/color/lib/CntrlColor/expr/color/ColorGrammar.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/color/lib/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/@cntrl-site/color/lib/index.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CntrlColor = void 0;\nvar CntrlColor_1 = __webpack_require__(/*! ./CntrlColor/CntrlColor */ \"./node_modules/@cntrl-site/color/lib/CntrlColor/CntrlColor.js\");\nObject.defineProperty(exports, \"CntrlColor\", ({ enumerable: true, get: function () { return CntrlColor_1.CntrlColor; } }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvY29sb3IvbGliL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQjtBQUNsQixtQkFBbUIsbUJBQU8sQ0FBQyw4RkFBeUI7QUFDcEQsOENBQTZDLEVBQUUscUNBQXFDLG1DQUFtQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9jb2xvci9saWIvaW5kZXguanM/M2FkNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ250cmxDb2xvciA9IHZvaWQgMDtcbnZhciBDbnRybENvbG9yXzEgPSByZXF1aXJlKFwiLi9DbnRybENvbG9yL0NudHJsQ29sb3JcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDbnRybENvbG9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBDbnRybENvbG9yXzEuQ250cmxDb2xvcjsgfSB9KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/color/lib/index.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/effects/lib/ImageTextureManager.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@cntrl-site/effects/lib/ImageTextureManager.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ImageTextureManager = void 0;\nclass ImageTextureManager {\n    constructor(url) {\n        this.image = new Image();\n        this.image.crossOrigin = 'anonymous';\n        this.image.src = url.startsWith('blob') ? url : `${url}?dt=${Date.now()}`;\n    }\n    updatesOnRender() {\n        return false;\n    }\n    getElement() {\n        return this.image;\n    }\n    ready() {\n        return this.image.complete;\n    }\n    getWidth() {\n        return this.image.width;\n    }\n    getHeight() {\n        return this.image.height;\n    }\n}\nexports.ImageTextureManager = ImageTextureManager;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvZWZmZWN0cy9saWIvSW1hZ2VUZXh0dXJlTWFuYWdlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsSUFBSSxNQUFNLFdBQVc7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvZWZmZWN0cy9saWIvSW1hZ2VUZXh0dXJlTWFuYWdlci5qcz80ODFjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5JbWFnZVRleHR1cmVNYW5hZ2VyID0gdm9pZCAwO1xuY2xhc3MgSW1hZ2VUZXh0dXJlTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IodXJsKSB7XG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgdGhpcy5pbWFnZS5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICAgICAgICB0aGlzLmltYWdlLnNyYyA9IHVybC5zdGFydHNXaXRoKCdibG9iJykgPyB1cmwgOiBgJHt1cmx9P2R0PSR7RGF0ZS5ub3coKX1gO1xuICAgIH1cbiAgICB1cGRhdGVzT25SZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZ2V0RWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2U7XG4gICAgfVxuICAgIHJlYWR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbWFnZS5jb21wbGV0ZTtcbiAgICB9XG4gICAgZ2V0V2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlLndpZHRoO1xuICAgIH1cbiAgICBnZXRIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlLmhlaWdodDtcbiAgICB9XG59XG5leHBvcnRzLkltYWdlVGV4dHVyZU1hbmFnZXIgPSBJbWFnZVRleHR1cmVNYW5hZ2VyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/effects/lib/ImageTextureManager.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/effects/lib/MediaEffect.js":
/*!*************************************************************!*\
  !*** ./node_modules/@cntrl-site/effects/lib/MediaEffect.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.MediaEffect = void 0;\nconst vertexShader2d = `\r\nattribute vec2 a_position;\r\nattribute vec2 a_texCoord;\r\n\r\nuniform vec2 u_resolution;\r\n\r\nvarying vec2 v_texCoord;\r\n\r\nvoid main() {\r\n  // convert the rectangle from pixels to 0.0 to 1.0\r\n  vec2 zeroToOne = a_position / u_resolution;\r\n\r\n  // convert from 0->1 to 0->2\r\n  vec2 zeroToTwo = zeroToOne * 2.0;\r\n\r\n  // convert from 0->2 to -1->+1 (clipspace)\r\n  vec2 clipSpace = zeroToTwo - 1.0;\r\n\r\n  gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\r\n\r\n  // pass the texCoord to the fragment shader\r\n  // The GPU will interpolate this value between points.\r\n  v_texCoord = a_texCoord;\r\n}`;\nconst defaultShader = `\r\nprecision mediump float;\r\n\r\n// our texture\r\nuniform sampler2D u_image;\r\nuniform sampler2D u_pattern;\r\nuniform float u_time;\r\nuniform vec2 u_imgDimensions;\r\nuniform vec2 u_patternDimensions;\r\n\r\n// the texCoords passed in from the vertex shader.\r\nvarying vec2 v_texCoord;\r\n\r\nvoid main() {\r\n  float tunedTime = u_time * 1.0;\r\n  gl_FragColor = texture2D(u_image, v_texCoord);\r\n}`;\nclass MediaEffect {\n    constructor(textureManager, patternUrl, pattern2Url, fragmentShaderSrc, params, imageWidth, imageHeight) {\n        this.textureManager = textureManager;\n        this.imageWidth = imageWidth;\n        this.imageHeight = imageHeight;\n        this.vpWidth = 100;\n        this.vpHeight = 100;\n        this.cache = new WeakMap();\n        this.statusListeners = [];\n        this.pattern1 = new Image();\n        this.pattern1.crossOrigin = 'anonymous';\n        this.pattern1.src = patternUrl;\n        this.pattern2 = new Image();\n        this.pattern2.crossOrigin = 'anonymous';\n        this.pattern2.src = pattern2Url;\n        this.fxParams = Object.assign({}, params);\n        this.fragmentShaderSrc = fragmentShaderSrc || defaultShader;\n    }\n    setViewport(width, height) {\n        this.vpWidth = width;\n        this.vpHeight = height;\n    }\n    setParam(name, value) {\n        this.fxParams[name] = value;\n    }\n    subscribeStatus(listener) {\n        this.statusListeners.push(listener);\n    }\n    ready() {\n        return this.textureManager.ready();\n    }\n    prepare(gl) {\n        this.ensureCache(gl);\n    }\n    render(gl) {\n        if (!this.ready())\n            return;\n        const _a = this.fxParams, { time, cursor } = _a, restParams = __rest(_a, [\"time\", \"cursor\"]);\n        this.ensureCache(gl);\n        const program = this.cacheGet(gl, 'program');\n        const posBuffer = this.cacheGet(gl, 'positionBuffer');\n        const texBuffer = this.cacheGet(gl, 'texCoordBuffer');\n        const texture = this.cacheGet(gl, 'texture');\n        const pattern1Texture = this.cacheGet(gl, 'pattern1Texture');\n        const pattern2Texture = this.cacheGet(gl, 'pattern2Texture');\n        if (this.textureManager.updatesOnRender()) {\n            gl.activeTexture(gl.TEXTURE0);\n            gl.bindTexture(gl.TEXTURE_2D, texture);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.textureManager.getElement());\n        }\n        gl.viewport(0, 0, this.vpWidth, this.vpHeight);\n        gl.clearColor(0, 0, 0, 0);\n        gl.clear(gl.COLOR_BUFFER_BIT);\n        this.setupPosition(gl);\n        gl.useProgram(program);\n        // shader prop: a_position\n        const posLocation = gl.getAttribLocation(program, 'a_position');\n        gl.enableVertexAttribArray(posLocation);\n        gl.bindBuffer(gl.ARRAY_BUFFER, posBuffer);\n        gl.vertexAttribPointer(posLocation, 2, gl.FLOAT, false, 0, 0);\n        // shader prop: a_texCoord\n        const texLocation = gl.getAttribLocation(program, 'a_texCoord');\n        gl.enableVertexAttribArray(texLocation);\n        gl.bindBuffer(gl.ARRAY_BUFFER, texBuffer);\n        gl.vertexAttribPointer(texLocation, 2, gl.FLOAT, false, 0, 0);\n        // shader prop: u_resolution\n        const resLocation = gl.getUniformLocation(program, 'u_resolution');\n        gl.uniform2f(resLocation, this.vpWidth, this.vpHeight);\n        // shader prop: u_cursor\n        const cursorLocation = gl.getUniformLocation(program, 'u_cursor');\n        gl.uniform2f(cursorLocation, ...cursor);\n        // shader prop: u_time\n        const timeLocation = gl.getUniformLocation(program, 'u_time');\n        gl.uniform1f(timeLocation, time);\n        for (const [key, paramValue] of Object.entries(restParams)) {\n            const location = gl.getUniformLocation(program, key);\n            // @ts-expect-error number | [number, number] TODO type properly when [n,n] is used\n            gl.uniform1f(location, paramValue);\n        }\n        // img + dimensions\n        const imageLocation = gl.getUniformLocation(program, 'u_image');\n        const dimensionsLocation = gl.getUniformLocation(program, 'u_imgDimensions');\n        gl.uniform2f(dimensionsLocation, this.imageWidth, this.imageHeight);\n        // pattern + dimensions\n        const patternLocation = gl.getUniformLocation(program, 'u_pattern');\n        const patternDimensionsLocation = gl.getUniformLocation(program, 'u_patternDimensions');\n        const pattern2Location = gl.getUniformLocation(program, 'u_pattern2');\n        const pattern2DimensionsLocation = gl.getUniformLocation(program, 'u_pattern2Dimensions');\n        gl.uniform2f(patternDimensionsLocation, this.pattern1.width, this.pattern1.height);\n        gl.uniform2f(pattern2DimensionsLocation, this.pattern2.width, this.pattern2.height);\n        gl.uniform1i(imageLocation, 0);\n        gl.uniform1i(patternLocation, 1);\n        gl.uniform1i(pattern2Location, 2);\n        gl.activeTexture(gl.TEXTURE0);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, pattern1Texture);\n        gl.activeTexture(gl.TEXTURE2);\n        gl.bindTexture(gl.TEXTURE_2D, pattern2Texture);\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n    }\n    setupPosition(gl) {\n        const posBuffer = this.cacheGet(gl, 'positionBuffer');\n        gl.bindBuffer(gl.ARRAY_BUFFER, posBuffer);\n        const imgAspectRatio = this.textureManager.getWidth() / this.textureManager.getHeight();\n        const itemAspectRatio = this.vpWidth / this.vpHeight;\n        const rw = itemAspectRatio < imgAspectRatio ? this.vpHeight * imgAspectRatio : this.vpWidth;\n        const rh = itemAspectRatio < imgAspectRatio ? this.vpHeight : this.vpWidth / imgAspectRatio;\n        const x1 = (this.vpWidth - rw) / 2;\n        const y1 = (this.vpHeight - rh) / 2;\n        const x2 = x1 + rw;\n        const y2 = y1 + rh;\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n            x1,\n            y1,\n            x2,\n            y1,\n            x1,\n            y2,\n            x1,\n            y2,\n            x2,\n            y1,\n            x2,\n            y2,\n        ]), gl.STATIC_DRAW);\n    }\n    ensureCache(gl) {\n        if (!this.cacheGet(gl, 'program')) {\n            this.compileProgram(gl);\n        }\n        if (!this.cacheGet(gl, 'positionBuffer')) {\n            this.createPositionBuffer(gl);\n        }\n        if (!this.cacheGet(gl, 'texCoordBuffer')) {\n            this.createTexCoordBuffer(gl);\n        }\n        if (!this.cacheGet(gl, 'texture')) {\n            this.loadTexture(gl, this.textureManager.getElement(), 'texture');\n        }\n        if (!this.cacheGet(gl, 'pattern1Texture')) {\n            this.loadTexture(gl, this.pattern1, 'pattern1Texture', gl.NEAREST);\n        }\n        if (!this.cacheGet(gl, 'pattern2Texture')) {\n            this.loadTexture(gl, this.pattern2, 'pattern2Texture', gl.NEAREST);\n        }\n    }\n    cacheGet(gl, param) {\n        var _a;\n        return (_a = this.cache.get(gl)) === null || _a === void 0 ? void 0 : _a[param];\n    }\n    cacheSet(gl, param, value) {\n        const record = this.cache.get(gl);\n        if (!record) {\n            this.cache.set(gl, {});\n        }\n        this.cache.get(gl)[param] = value;\n    }\n    compileProgram(gl) {\n        const program = gl.createProgram();\n        if (!program) {\n            throw new Error(`Cannot create program`);\n        }\n        const vertex = this.compileShader(gl, vertexShader2d, gl.VERTEX_SHADER);\n        const fragment = this.compileShader(gl, this.fragmentShaderSrc, gl.FRAGMENT_SHADER);\n        gl.attachShader(program, vertex);\n        gl.attachShader(program, fragment);\n        gl.linkProgram(program);\n        this.cacheSet(gl, 'program', program);\n    }\n    compileShader(gl, shaderSrc, shaderType) {\n        const shader = gl.createShader(shaderType);\n        if (!shader) {\n            throw new Error('cannot create shader');\n        }\n        gl.shaderSource(shader, shaderSrc);\n        gl.compileShader(shader);\n        const compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n        if (!compiled) {\n            const lastError = gl.getShaderInfoLog(shader);\n            if (lastError) {\n                this.statusListeners.forEach((listener) => listener('error', lastError));\n            }\n            const error = new Error(`Error during compilation of shader ${shader}: ${lastError}`);\n            gl.deleteShader(shader);\n            console.error(error);\n        }\n        else {\n            this.statusListeners.forEach((listener) => listener('ready'));\n        }\n        return shader;\n    }\n    createPositionBuffer(gl) {\n        const buffer = gl.createBuffer();\n        if (!buffer) {\n            throw new Error('Cannot create position buffer');\n        }\n        this.cacheSet(gl, 'positionBuffer', buffer);\n    }\n    loadTexture(gl, media, cacheKey, filter = gl.LINEAR) {\n        if (!this.ready())\n            return;\n        const texture = gl.createTexture();\n        if (!texture)\n            return;\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, filter);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, filter);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, media);\n        this.cacheSet(gl, cacheKey, texture);\n    }\n    createTexCoordBuffer(gl) {\n        const buffer = gl.createBuffer();\n        if (!buffer)\n            return;\n        gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            1.0,\n            1.0,\n            0.0,\n            1.0,\n            1.0,\n        ]), gl.STATIC_DRAW);\n        this.cacheSet(gl, 'texCoordBuffer', buffer);\n    }\n}\nexports.MediaEffect = MediaEffect;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvZWZmZWN0cy9saWIvTWVkaWFFZmZlY3QuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELGNBQWM7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGVBQWU7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBFQUEwRSxPQUFPLElBQUksVUFBVTtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9lZmZlY3RzL2xpYi9NZWRpYUVmZmVjdC5qcz9iMDRkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5NZWRpYUVmZmVjdCA9IHZvaWQgMDtcbmNvbnN0IHZlcnRleFNoYWRlcjJkID0gYFxyXG5hdHRyaWJ1dGUgdmVjMiBhX3Bvc2l0aW9uO1xyXG5hdHRyaWJ1dGUgdmVjMiBhX3RleENvb3JkO1xyXG5cclxudW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcclxuXHJcbnZhcnlpbmcgdmVjMiB2X3RleENvb3JkO1xyXG5cclxudm9pZCBtYWluKCkge1xyXG4gIC8vIGNvbnZlcnQgdGhlIHJlY3RhbmdsZSBmcm9tIHBpeGVscyB0byAwLjAgdG8gMS4wXHJcbiAgdmVjMiB6ZXJvVG9PbmUgPSBhX3Bvc2l0aW9uIC8gdV9yZXNvbHV0aW9uO1xyXG5cclxuICAvLyBjb252ZXJ0IGZyb20gMC0+MSB0byAwLT4yXHJcbiAgdmVjMiB6ZXJvVG9Ud28gPSB6ZXJvVG9PbmUgKiAyLjA7XHJcblxyXG4gIC8vIGNvbnZlcnQgZnJvbSAwLT4yIHRvIC0xLT4rMSAoY2xpcHNwYWNlKVxyXG4gIHZlYzIgY2xpcFNwYWNlID0gemVyb1RvVHdvIC0gMS4wO1xyXG5cclxuICBnbF9Qb3NpdGlvbiA9IHZlYzQoY2xpcFNwYWNlICogdmVjMigxLCAtMSksIDAsIDEpO1xyXG5cclxuICAvLyBwYXNzIHRoZSB0ZXhDb29yZCB0byB0aGUgZnJhZ21lbnQgc2hhZGVyXHJcbiAgLy8gVGhlIEdQVSB3aWxsIGludGVycG9sYXRlIHRoaXMgdmFsdWUgYmV0d2VlbiBwb2ludHMuXHJcbiAgdl90ZXhDb29yZCA9IGFfdGV4Q29vcmQ7XHJcbn1gO1xuY29uc3QgZGVmYXVsdFNoYWRlciA9IGBcclxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XHJcblxyXG4vLyBvdXIgdGV4dHVyZVxyXG51bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO1xyXG51bmlmb3JtIHNhbXBsZXIyRCB1X3BhdHRlcm47XHJcbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xyXG51bmlmb3JtIHZlYzIgdV9pbWdEaW1lbnNpb25zO1xyXG51bmlmb3JtIHZlYzIgdV9wYXR0ZXJuRGltZW5zaW9ucztcclxuXHJcbi8vIHRoZSB0ZXhDb29yZHMgcGFzc2VkIGluIGZyb20gdGhlIHZlcnRleCBzaGFkZXIuXHJcbnZhcnlpbmcgdmVjMiB2X3RleENvb3JkO1xyXG5cclxudm9pZCBtYWluKCkge1xyXG4gIGZsb2F0IHR1bmVkVGltZSA9IHVfdGltZSAqIDEuMDtcclxuICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodV9pbWFnZSwgdl90ZXhDb29yZCk7XHJcbn1gO1xuY2xhc3MgTWVkaWFFZmZlY3Qge1xuICAgIGNvbnN0cnVjdG9yKHRleHR1cmVNYW5hZ2VyLCBwYXR0ZXJuVXJsLCBwYXR0ZXJuMlVybCwgZnJhZ21lbnRTaGFkZXJTcmMsIHBhcmFtcywgaW1hZ2VXaWR0aCwgaW1hZ2VIZWlnaHQpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlTWFuYWdlciA9IHRleHR1cmVNYW5hZ2VyO1xuICAgICAgICB0aGlzLmltYWdlV2lkdGggPSBpbWFnZVdpZHRoO1xuICAgICAgICB0aGlzLmltYWdlSGVpZ2h0ID0gaW1hZ2VIZWlnaHQ7XG4gICAgICAgIHRoaXMudnBXaWR0aCA9IDEwMDtcbiAgICAgICAgdGhpcy52cEhlaWdodCA9IDEwMDtcbiAgICAgICAgdGhpcy5jYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIHRoaXMuc3RhdHVzTGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMucGF0dGVybjEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgdGhpcy5wYXR0ZXJuMS5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICAgICAgICB0aGlzLnBhdHRlcm4xLnNyYyA9IHBhdHRlcm5Vcmw7XG4gICAgICAgIHRoaXMucGF0dGVybjIgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgdGhpcy5wYXR0ZXJuMi5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICAgICAgICB0aGlzLnBhdHRlcm4yLnNyYyA9IHBhdHRlcm4yVXJsO1xuICAgICAgICB0aGlzLmZ4UGFyYW1zID0gT2JqZWN0LmFzc2lnbih7fSwgcGFyYW1zKTtcbiAgICAgICAgdGhpcy5mcmFnbWVudFNoYWRlclNyYyA9IGZyYWdtZW50U2hhZGVyU3JjIHx8IGRlZmF1bHRTaGFkZXI7XG4gICAgfVxuICAgIHNldFZpZXdwb3J0KHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy52cFdpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMudnBIZWlnaHQgPSBoZWlnaHQ7XG4gICAgfVxuICAgIHNldFBhcmFtKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZnhQYXJhbXNbbmFtZV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgc3Vic2NyaWJlU3RhdHVzKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuc3RhdHVzTGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cbiAgICByZWFkeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dHVyZU1hbmFnZXIucmVhZHkoKTtcbiAgICB9XG4gICAgcHJlcGFyZShnbCkge1xuICAgICAgICB0aGlzLmVuc3VyZUNhY2hlKGdsKTtcbiAgICB9XG4gICAgcmVuZGVyKGdsKSB7XG4gICAgICAgIGlmICghdGhpcy5yZWFkeSgpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBfYSA9IHRoaXMuZnhQYXJhbXMsIHsgdGltZSwgY3Vyc29yIH0gPSBfYSwgcmVzdFBhcmFtcyA9IF9fcmVzdChfYSwgW1widGltZVwiLCBcImN1cnNvclwiXSk7XG4gICAgICAgIHRoaXMuZW5zdXJlQ2FjaGUoZ2wpO1xuICAgICAgICBjb25zdCBwcm9ncmFtID0gdGhpcy5jYWNoZUdldChnbCwgJ3Byb2dyYW0nKTtcbiAgICAgICAgY29uc3QgcG9zQnVmZmVyID0gdGhpcy5jYWNoZUdldChnbCwgJ3Bvc2l0aW9uQnVmZmVyJyk7XG4gICAgICAgIGNvbnN0IHRleEJ1ZmZlciA9IHRoaXMuY2FjaGVHZXQoZ2wsICd0ZXhDb29yZEJ1ZmZlcicpO1xuICAgICAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy5jYWNoZUdldChnbCwgJ3RleHR1cmUnKTtcbiAgICAgICAgY29uc3QgcGF0dGVybjFUZXh0dXJlID0gdGhpcy5jYWNoZUdldChnbCwgJ3BhdHRlcm4xVGV4dHVyZScpO1xuICAgICAgICBjb25zdCBwYXR0ZXJuMlRleHR1cmUgPSB0aGlzLmNhY2hlR2V0KGdsLCAncGF0dGVybjJUZXh0dXJlJyk7XG4gICAgICAgIGlmICh0aGlzLnRleHR1cmVNYW5hZ2VyLnVwZGF0ZXNPblJlbmRlcigpKSB7XG4gICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB0aGlzLnRleHR1cmVNYW5hZ2VyLmdldEVsZW1lbnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgdGhpcy52cFdpZHRoLCB0aGlzLnZwSGVpZ2h0KTtcbiAgICAgICAgZ2wuY2xlYXJDb2xvcigwLCAwLCAwLCAwKTtcbiAgICAgICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCk7XG4gICAgICAgIHRoaXMuc2V0dXBQb3NpdGlvbihnbCk7XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIC8vIHNoYWRlciBwcm9wOiBhX3Bvc2l0aW9uXG4gICAgICAgIGNvbnN0IHBvc0xvY2F0aW9uID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgJ2FfcG9zaXRpb24nKTtcbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocG9zTG9jYXRpb24pO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcG9zQnVmZmVyKTtcbiAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihwb3NMb2NhdGlvbiwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcbiAgICAgICAgLy8gc2hhZGVyIHByb3A6IGFfdGV4Q29vcmRcbiAgICAgICAgY29uc3QgdGV4TG9jYXRpb24gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCAnYV90ZXhDb29yZCcpO1xuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0ZXhMb2NhdGlvbik7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0ZXhCdWZmZXIpO1xuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRleExvY2F0aW9uLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgICAgICAvLyBzaGFkZXIgcHJvcDogdV9yZXNvbHV0aW9uXG4gICAgICAgIGNvbnN0IHJlc0xvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X3Jlc29sdXRpb24nKTtcbiAgICAgICAgZ2wudW5pZm9ybTJmKHJlc0xvY2F0aW9uLCB0aGlzLnZwV2lkdGgsIHRoaXMudnBIZWlnaHQpO1xuICAgICAgICAvLyBzaGFkZXIgcHJvcDogdV9jdXJzb3JcbiAgICAgICAgY29uc3QgY3Vyc29yTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfY3Vyc29yJyk7XG4gICAgICAgIGdsLnVuaWZvcm0yZihjdXJzb3JMb2NhdGlvbiwgLi4uY3Vyc29yKTtcbiAgICAgICAgLy8gc2hhZGVyIHByb3A6IHVfdGltZVxuICAgICAgICBjb25zdCB0aW1lTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfdGltZScpO1xuICAgICAgICBnbC51bmlmb3JtMWYodGltZUxvY2F0aW9uLCB0aW1lKTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCBwYXJhbVZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhyZXN0UGFyYW1zKSkge1xuICAgICAgICAgICAgY29uc3QgbG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwga2V5KTtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgbnVtYmVyIHwgW251bWJlciwgbnVtYmVyXSBUT0RPIHR5cGUgcHJvcGVybHkgd2hlbiBbbixuXSBpcyB1c2VkXG4gICAgICAgICAgICBnbC51bmlmb3JtMWYobG9jYXRpb24sIHBhcmFtVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGltZyArIGRpbWVuc2lvbnNcbiAgICAgICAgY29uc3QgaW1hZ2VMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9pbWFnZScpO1xuICAgICAgICBjb25zdCBkaW1lbnNpb25zTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfaW1nRGltZW5zaW9ucycpO1xuICAgICAgICBnbC51bmlmb3JtMmYoZGltZW5zaW9uc0xvY2F0aW9uLCB0aGlzLmltYWdlV2lkdGgsIHRoaXMuaW1hZ2VIZWlnaHQpO1xuICAgICAgICAvLyBwYXR0ZXJuICsgZGltZW5zaW9uc1xuICAgICAgICBjb25zdCBwYXR0ZXJuTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfcGF0dGVybicpO1xuICAgICAgICBjb25zdCBwYXR0ZXJuRGltZW5zaW9uc0xvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X3BhdHRlcm5EaW1lbnNpb25zJyk7XG4gICAgICAgIGNvbnN0IHBhdHRlcm4yTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfcGF0dGVybjInKTtcbiAgICAgICAgY29uc3QgcGF0dGVybjJEaW1lbnNpb25zTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfcGF0dGVybjJEaW1lbnNpb25zJyk7XG4gICAgICAgIGdsLnVuaWZvcm0yZihwYXR0ZXJuRGltZW5zaW9uc0xvY2F0aW9uLCB0aGlzLnBhdHRlcm4xLndpZHRoLCB0aGlzLnBhdHRlcm4xLmhlaWdodCk7XG4gICAgICAgIGdsLnVuaWZvcm0yZihwYXR0ZXJuMkRpbWVuc2lvbnNMb2NhdGlvbiwgdGhpcy5wYXR0ZXJuMi53aWR0aCwgdGhpcy5wYXR0ZXJuMi5oZWlnaHQpO1xuICAgICAgICBnbC51bmlmb3JtMWkoaW1hZ2VMb2NhdGlvbiwgMCk7XG4gICAgICAgIGdsLnVuaWZvcm0xaShwYXR0ZXJuTG9jYXRpb24sIDEpO1xuICAgICAgICBnbC51bmlmb3JtMWkocGF0dGVybjJMb2NhdGlvbiwgMik7XG4gICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTApO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMSk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHBhdHRlcm4xVGV4dHVyZSk7XG4gICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTIpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBwYXR0ZXJuMlRleHR1cmUpO1xuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFUywgMCwgNik7XG4gICAgfVxuICAgIHNldHVwUG9zaXRpb24oZ2wpIHtcbiAgICAgICAgY29uc3QgcG9zQnVmZmVyID0gdGhpcy5jYWNoZUdldChnbCwgJ3Bvc2l0aW9uQnVmZmVyJyk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBwb3NCdWZmZXIpO1xuICAgICAgICBjb25zdCBpbWdBc3BlY3RSYXRpbyA9IHRoaXMudGV4dHVyZU1hbmFnZXIuZ2V0V2lkdGgoKSAvIHRoaXMudGV4dHVyZU1hbmFnZXIuZ2V0SGVpZ2h0KCk7XG4gICAgICAgIGNvbnN0IGl0ZW1Bc3BlY3RSYXRpbyA9IHRoaXMudnBXaWR0aCAvIHRoaXMudnBIZWlnaHQ7XG4gICAgICAgIGNvbnN0IHJ3ID0gaXRlbUFzcGVjdFJhdGlvIDwgaW1nQXNwZWN0UmF0aW8gPyB0aGlzLnZwSGVpZ2h0ICogaW1nQXNwZWN0UmF0aW8gOiB0aGlzLnZwV2lkdGg7XG4gICAgICAgIGNvbnN0IHJoID0gaXRlbUFzcGVjdFJhdGlvIDwgaW1nQXNwZWN0UmF0aW8gPyB0aGlzLnZwSGVpZ2h0IDogdGhpcy52cFdpZHRoIC8gaW1nQXNwZWN0UmF0aW87XG4gICAgICAgIGNvbnN0IHgxID0gKHRoaXMudnBXaWR0aCAtIHJ3KSAvIDI7XG4gICAgICAgIGNvbnN0IHkxID0gKHRoaXMudnBIZWlnaHQgLSByaCkgLyAyO1xuICAgICAgICBjb25zdCB4MiA9IHgxICsgcnc7XG4gICAgICAgIGNvbnN0IHkyID0geTEgKyByaDtcbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgeDEsXG4gICAgICAgICAgICB5MSxcbiAgICAgICAgICAgIHgyLFxuICAgICAgICAgICAgeTEsXG4gICAgICAgICAgICB4MSxcbiAgICAgICAgICAgIHkyLFxuICAgICAgICAgICAgeDEsXG4gICAgICAgICAgICB5MixcbiAgICAgICAgICAgIHgyLFxuICAgICAgICAgICAgeTEsXG4gICAgICAgICAgICB4MixcbiAgICAgICAgICAgIHkyLFxuICAgICAgICBdKSwgZ2wuU1RBVElDX0RSQVcpO1xuICAgIH1cbiAgICBlbnN1cmVDYWNoZShnbCkge1xuICAgICAgICBpZiAoIXRoaXMuY2FjaGVHZXQoZ2wsICdwcm9ncmFtJykpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcGlsZVByb2dyYW0oZ2wpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5jYWNoZUdldChnbCwgJ3Bvc2l0aW9uQnVmZmVyJykpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUG9zaXRpb25CdWZmZXIoZ2wpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5jYWNoZUdldChnbCwgJ3RleENvb3JkQnVmZmVyJykpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVGV4Q29vcmRCdWZmZXIoZ2wpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5jYWNoZUdldChnbCwgJ3RleHR1cmUnKSkge1xuICAgICAgICAgICAgdGhpcy5sb2FkVGV4dHVyZShnbCwgdGhpcy50ZXh0dXJlTWFuYWdlci5nZXRFbGVtZW50KCksICd0ZXh0dXJlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNhY2hlR2V0KGdsLCAncGF0dGVybjFUZXh0dXJlJykpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZFRleHR1cmUoZ2wsIHRoaXMucGF0dGVybjEsICdwYXR0ZXJuMVRleHR1cmUnLCBnbC5ORUFSRVNUKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuY2FjaGVHZXQoZ2wsICdwYXR0ZXJuMlRleHR1cmUnKSkge1xuICAgICAgICAgICAgdGhpcy5sb2FkVGV4dHVyZShnbCwgdGhpcy5wYXR0ZXJuMiwgJ3BhdHRlcm4yVGV4dHVyZScsIGdsLk5FQVJFU1QpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhY2hlR2V0KGdsLCBwYXJhbSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzLmNhY2hlLmdldChnbCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVtwYXJhbV07XG4gICAgfVxuICAgIGNhY2hlU2V0KGdsLCBwYXJhbSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgcmVjb3JkID0gdGhpcy5jYWNoZS5nZXQoZ2wpO1xuICAgICAgICBpZiAoIXJlY29yZCkge1xuICAgICAgICAgICAgdGhpcy5jYWNoZS5zZXQoZ2wsIHt9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhY2hlLmdldChnbClbcGFyYW1dID0gdmFsdWU7XG4gICAgfVxuICAgIGNvbXBpbGVQcm9ncmFtKGdsKSB7XG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG4gICAgICAgIGlmICghcHJvZ3JhbSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY3JlYXRlIHByb2dyYW1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2ZXJ0ZXggPSB0aGlzLmNvbXBpbGVTaGFkZXIoZ2wsIHZlcnRleFNoYWRlcjJkLCBnbC5WRVJURVhfU0hBREVSKTtcbiAgICAgICAgY29uc3QgZnJhZ21lbnQgPSB0aGlzLmNvbXBpbGVTaGFkZXIoZ2wsIHRoaXMuZnJhZ21lbnRTaGFkZXJTcmMsIGdsLkZSQUdNRU5UX1NIQURFUik7XG4gICAgICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXgpO1xuICAgICAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ21lbnQpO1xuICAgICAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgdGhpcy5jYWNoZVNldChnbCwgJ3Byb2dyYW0nLCBwcm9ncmFtKTtcbiAgICB9XG4gICAgY29tcGlsZVNoYWRlcihnbCwgc2hhZGVyU3JjLCBzaGFkZXJUeXBlKSB7XG4gICAgICAgIGNvbnN0IHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihzaGFkZXJUeXBlKTtcbiAgICAgICAgaWYgKCFzaGFkZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY2Fubm90IGNyZWF0ZSBzaGFkZXInKTtcbiAgICAgICAgfVxuICAgICAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzaGFkZXJTcmMpO1xuICAgICAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG4gICAgICAgIGNvbnN0IGNvbXBpbGVkID0gZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpO1xuICAgICAgICBpZiAoIWNvbXBpbGVkKSB7XG4gICAgICAgICAgICBjb25zdCBsYXN0RXJyb3IgPSBnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcik7XG4gICAgICAgICAgICBpZiAobGFzdEVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXNMaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IGxpc3RlbmVyKCdlcnJvcicsIGxhc3RFcnJvcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYEVycm9yIGR1cmluZyBjb21waWxhdGlvbiBvZiBzaGFkZXIgJHtzaGFkZXJ9OiAke2xhc3RFcnJvcn1gKTtcbiAgICAgICAgICAgIGdsLmRlbGV0ZVNoYWRlcihzaGFkZXIpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXR1c0xpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIoJ3JlYWR5JykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaGFkZXI7XG4gICAgfVxuICAgIGNyZWF0ZVBvc2l0aW9uQnVmZmVyKGdsKSB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICBpZiAoIWJ1ZmZlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY3JlYXRlIHBvc2l0aW9uIGJ1ZmZlcicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FjaGVTZXQoZ2wsICdwb3NpdGlvbkJ1ZmZlcicsIGJ1ZmZlcik7XG4gICAgfVxuICAgIGxvYWRUZXh0dXJlKGdsLCBtZWRpYSwgY2FjaGVLZXksIGZpbHRlciA9IGdsLkxJTkVBUikge1xuICAgICAgICBpZiAoIXRoaXMucmVhZHkoKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcbiAgICAgICAgaWYgKCF0ZXh0dXJlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZmlsdGVyKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGZpbHRlcik7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLlJFUEVBVCk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLlJFUEVBVCk7XG4gICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbWVkaWEpO1xuICAgICAgICB0aGlzLmNhY2hlU2V0KGdsLCBjYWNoZUtleSwgdGV4dHVyZSk7XG4gICAgfVxuICAgIGNyZWF0ZVRleENvb3JkQnVmZmVyKGdsKSB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICBpZiAoIWJ1ZmZlcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJ1ZmZlcik7XG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIDAuMCxcbiAgICAgICAgICAgIDAuMCxcbiAgICAgICAgICAgIDEuMCxcbiAgICAgICAgICAgIDAuMCxcbiAgICAgICAgICAgIDAuMCxcbiAgICAgICAgICAgIDEuMCxcbiAgICAgICAgICAgIDAuMCxcbiAgICAgICAgICAgIDEuMCxcbiAgICAgICAgICAgIDEuMCxcbiAgICAgICAgICAgIDAuMCxcbiAgICAgICAgICAgIDEuMCxcbiAgICAgICAgICAgIDEuMCxcbiAgICAgICAgXSksIGdsLlNUQVRJQ19EUkFXKTtcbiAgICAgICAgdGhpcy5jYWNoZVNldChnbCwgJ3RleENvb3JkQnVmZmVyJywgYnVmZmVyKTtcbiAgICB9XG59XG5leHBvcnRzLk1lZGlhRWZmZWN0ID0gTWVkaWFFZmZlY3Q7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/effects/lib/MediaEffect.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/effects/lib/VideoTextureManager.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@cntrl-site/effects/lib/VideoTextureManager.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.VideoTextureManager = void 0;\nclass VideoTextureManager {\n    constructor(videoUrl, onPlayError) {\n        this.listeners = [];\n        this.isReady = false;\n        const video = document.createElement('video');\n        video.autoplay = true;\n        video.muted = true;\n        video.loop = true;\n        video.playsInline = true;\n        video.controls = true;\n        video.crossOrigin = 'anonymous';\n        video.addEventListener('loadedmetadata', () => {\n            video\n                .play()\n                .then(() => {\n                this.isReady = true;\n                this.listeners.forEach((listener) => listener(true));\n            })\n                .catch(onPlayError);\n        });\n        video.src = videoUrl;\n        this.video = video;\n    }\n    updatesOnRender() {\n        return true;\n    }\n    onReadyStatusChange(listener) {\n        this.listeners.push(listener);\n    }\n    getElement() {\n        return this.video;\n    }\n    ready() {\n        return this.isReady;\n    }\n    getWidth() {\n        return this.video.videoWidth;\n    }\n    getHeight() {\n        return this.video.videoHeight;\n    }\n}\nexports.VideoTextureManager = VideoTextureManager;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvZWZmZWN0cy9saWIvVmlkZW9UZXh0dXJlTWFuYWdlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvZWZmZWN0cy9saWIvVmlkZW9UZXh0dXJlTWFuYWdlci5qcz84M2MzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5WaWRlb1RleHR1cmVNYW5hZ2VyID0gdm9pZCAwO1xuY2xhc3MgVmlkZW9UZXh0dXJlTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IodmlkZW9VcmwsIG9uUGxheUVycm9yKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMuaXNSZWFkeSA9IGZhbHNlO1xuICAgICAgICBjb25zdCB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgIHZpZGVvLmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICAgICAgdmlkZW8ubXV0ZWQgPSB0cnVlO1xuICAgICAgICB2aWRlby5sb29wID0gdHJ1ZTtcbiAgICAgICAgdmlkZW8ucGxheXNJbmxpbmUgPSB0cnVlO1xuICAgICAgICB2aWRlby5jb250cm9scyA9IHRydWU7XG4gICAgICAgIHZpZGVvLmNyb3NzT3JpZ2luID0gJ2Fub255bW91cyc7XG4gICAgICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgKCkgPT4ge1xuICAgICAgICAgICAgdmlkZW9cbiAgICAgICAgICAgICAgICAucGxheSgpXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNSZWFkeSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IGxpc3RlbmVyKHRydWUpKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKG9uUGxheUVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZpZGVvLnNyYyA9IHZpZGVvVXJsO1xuICAgICAgICB0aGlzLnZpZGVvID0gdmlkZW87XG4gICAgfVxuICAgIHVwZGF0ZXNPblJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIG9uUmVhZHlTdGF0dXNDaGFuZ2UobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuICAgIGdldEVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvO1xuICAgIH1cbiAgICByZWFkeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNSZWFkeTtcbiAgICB9XG4gICAgZ2V0V2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvLnZpZGVvV2lkdGg7XG4gICAgfVxuICAgIGdldEhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW8udmlkZW9IZWlnaHQ7XG4gICAgfVxufVxuZXhwb3J0cy5WaWRlb1RleHR1cmVNYW5hZ2VyID0gVmlkZW9UZXh0dXJlTWFuYWdlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/effects/lib/VideoTextureManager.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/effects/lib/WebGLContextManager.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@cntrl-site/effects/lib/WebGLContextManager.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WebGLContextManager = void 0;\nclass WebGLContextManager {\n    constructor() {\n        this.contexts = [];\n        this.maxContexts = 14;\n        this.contextMap = new WeakMap();\n    }\n    getContext(canvas) {\n        const existingContext = this.contextMap.get(canvas);\n        if (existingContext) {\n            this.markContextAsUsed(existingContext);\n            return existingContext;\n        }\n        const freeEntry = this.contexts.find(entry => !entry.isInUse);\n        if (freeEntry) {\n            this.assignContextToCanvas(freeEntry, canvas);\n            return freeEntry.gl;\n        }\n        if (this.contexts.length < this.maxContexts) {\n            const newEntry = this.createNewContext();\n            if (newEntry) {\n                this.assignContextToCanvas(newEntry, canvas);\n                return newEntry.gl;\n            }\n        }\n        const oldestEntry = this.findOldestUnusedContext();\n        if (oldestEntry) {\n            this.cleanupContext(oldestEntry.gl);\n            this.assignContextToCanvas(oldestEntry, canvas);\n            return oldestEntry.gl;\n        }\n        return null;\n    }\n    releaseContext(canvas) {\n        const context = this.contextMap.get(canvas);\n        if (!context)\n            return;\n        const entry = this.contexts.find(e => e.gl === context);\n        if (entry) {\n            entry.isInUse = false;\n            entry.lastUsed = Date.now();\n            context.clearColor(0, 0, 0, 0);\n            context.clear(context.COLOR_BUFFER_BIT);\n        }\n        this.contextMap.delete(canvas);\n    }\n    createNewContext() {\n        const canvas = document.createElement('canvas');\n        canvas.width = 1;\n        canvas.height = 1;\n        canvas.style.display = 'none';\n        const gl = canvas.getContext('webgl2', {\n            alpha: true,\n            premultipliedAlpha: false,\n            preserveDrawingBuffer: false,\n            antialias: false\n        });\n        if (!gl)\n            return null;\n        gl.enable(gl.BLEND);\n        gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n        const entry = {\n            gl,\n            canvas,\n            isInUse: false,\n            lastUsed: Date.now()\n        };\n        this.contexts.push(entry);\n        return entry;\n    }\n    assignContextToCanvas(entry, targetCanvas) {\n        entry.isInUse = true;\n        entry.lastUsed = Date.now();\n        this.contextMap.set(targetCanvas, entry.gl);\n        entry.canvas.width = targetCanvas.width;\n        entry.canvas.height = targetCanvas.height;\n    }\n    markContextAsUsed(context) {\n        const entry = this.contexts.find(e => e.gl === context);\n        if (entry) {\n            entry.lastUsed = Date.now();\n        }\n    }\n    findOldestUnusedContext() {\n        const unusedContexts = this.contexts.filter(entry => !entry.isInUse);\n        if (unusedContexts.length === 0)\n            return null;\n        return unusedContexts.reduce((oldest, current) => current.lastUsed < oldest.lastUsed ? current : oldest);\n    }\n    cleanupContext(gl) {\n        gl.useProgram(null);\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n        gl.bindTexture(gl.TEXTURE_2D, null);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        gl.bindRenderbuffer(gl.RENDERBUFFER, null);\n        gl.clearColor(0, 0, 0, 0);\n        gl.clear(gl.COLOR_BUFFER_BIT);\n    }\n    renderToCanvas(sourceGl, targetCanvas) {\n        const targetContext = targetCanvas.getContext('2d');\n        if (!targetContext)\n            return;\n        const sourceEntry = this.contexts.find(e => e.gl === sourceGl);\n        if (!sourceEntry)\n            return;\n        targetContext.clearRect(0, 0, targetCanvas.width, targetCanvas.height);\n        targetContext.drawImage(sourceEntry.canvas, 0, 0);\n    }\n    updateContextSize(gl, width, height) {\n        const entry = this.contexts.find(e => e.gl === gl);\n        if (entry) {\n            entry.canvas.width = width;\n            entry.canvas.height = height;\n        }\n    }\n    getStats() {\n        return {\n            total: this.contexts.length,\n            inUse: this.contexts.filter(e => e.isInUse).length,\n            free: this.contexts.filter(e => !e.isInUse).length\n        };\n    }\n}\nexports.WebGLContextManager = WebGLContextManager;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvZWZmZWN0cy9saWIvV2ViR0xDb250ZXh0TWFuYWdlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL2VmZmVjdHMvbGliL1dlYkdMQ29udGV4dE1hbmFnZXIuanM/MjMxMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuV2ViR0xDb250ZXh0TWFuYWdlciA9IHZvaWQgMDtcbmNsYXNzIFdlYkdMQ29udGV4dE1hbmFnZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNvbnRleHRzID0gW107XG4gICAgICAgIHRoaXMubWF4Q29udGV4dHMgPSAxNDtcbiAgICAgICAgdGhpcy5jb250ZXh0TWFwID0gbmV3IFdlYWtNYXAoKTtcbiAgICB9XG4gICAgZ2V0Q29udGV4dChjYW52YXMpIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdDb250ZXh0ID0gdGhpcy5jb250ZXh0TWFwLmdldChjYW52YXMpO1xuICAgICAgICBpZiAoZXhpc3RpbmdDb250ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLm1hcmtDb250ZXh0QXNVc2VkKGV4aXN0aW5nQ29udGV4dCk7XG4gICAgICAgICAgICByZXR1cm4gZXhpc3RpbmdDb250ZXh0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZyZWVFbnRyeSA9IHRoaXMuY29udGV4dHMuZmluZChlbnRyeSA9PiAhZW50cnkuaXNJblVzZSk7XG4gICAgICAgIGlmIChmcmVlRW50cnkpIHtcbiAgICAgICAgICAgIHRoaXMuYXNzaWduQ29udGV4dFRvQ2FudmFzKGZyZWVFbnRyeSwgY2FudmFzKTtcbiAgICAgICAgICAgIHJldHVybiBmcmVlRW50cnkuZ2w7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29udGV4dHMubGVuZ3RoIDwgdGhpcy5tYXhDb250ZXh0cykge1xuICAgICAgICAgICAgY29uc3QgbmV3RW50cnkgPSB0aGlzLmNyZWF0ZU5ld0NvbnRleHQoKTtcbiAgICAgICAgICAgIGlmIChuZXdFbnRyeSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzaWduQ29udGV4dFRvQ2FudmFzKG5ld0VudHJ5LCBjYW52YXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXdFbnRyeS5nbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbGRlc3RFbnRyeSA9IHRoaXMuZmluZE9sZGVzdFVudXNlZENvbnRleHQoKTtcbiAgICAgICAgaWYgKG9sZGVzdEVudHJ5KSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFudXBDb250ZXh0KG9sZGVzdEVudHJ5LmdsKTtcbiAgICAgICAgICAgIHRoaXMuYXNzaWduQ29udGV4dFRvQ2FudmFzKG9sZGVzdEVudHJ5LCBjYW52YXMpO1xuICAgICAgICAgICAgcmV0dXJuIG9sZGVzdEVudHJ5LmdsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZWxlYXNlQ29udGV4dChjYW52YXMpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dE1hcC5nZXQoY2FudmFzKTtcbiAgICAgICAgaWYgKCFjb250ZXh0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBlbnRyeSA9IHRoaXMuY29udGV4dHMuZmluZChlID0+IGUuZ2wgPT09IGNvbnRleHQpO1xuICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgIGVudHJ5LmlzSW5Vc2UgPSBmYWxzZTtcbiAgICAgICAgICAgIGVudHJ5Lmxhc3RVc2VkID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnRleHQuY2xlYXJDb2xvcigwLCAwLCAwLCAwKTtcbiAgICAgICAgICAgIGNvbnRleHQuY2xlYXIoY29udGV4dC5DT0xPUl9CVUZGRVJfQklUKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRleHRNYXAuZGVsZXRlKGNhbnZhcyk7XG4gICAgfVxuICAgIGNyZWF0ZU5ld0NvbnRleHQoKSB7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBjYW52YXMud2lkdGggPSAxO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gMTtcbiAgICAgICAgY2FudmFzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGNvbnN0IGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsMicsIHtcbiAgICAgICAgICAgIGFscGhhOiB0cnVlLFxuICAgICAgICAgICAgcHJlbXVsdGlwbGllZEFscGhhOiBmYWxzZSxcbiAgICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogZmFsc2UsXG4gICAgICAgICAgICBhbnRpYWxpYXM6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWdsKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGdsLmVuYWJsZShnbC5CTEVORCk7XG4gICAgICAgIGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpO1xuICAgICAgICBjb25zdCBlbnRyeSA9IHtcbiAgICAgICAgICAgIGdsLFxuICAgICAgICAgICAgY2FudmFzLFxuICAgICAgICAgICAgaXNJblVzZTogZmFsc2UsXG4gICAgICAgICAgICBsYXN0VXNlZDogRGF0ZS5ub3coKVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNvbnRleHRzLnB1c2goZW50cnkpO1xuICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgfVxuICAgIGFzc2lnbkNvbnRleHRUb0NhbnZhcyhlbnRyeSwgdGFyZ2V0Q2FudmFzKSB7XG4gICAgICAgIGVudHJ5LmlzSW5Vc2UgPSB0cnVlO1xuICAgICAgICBlbnRyeS5sYXN0VXNlZCA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMuY29udGV4dE1hcC5zZXQodGFyZ2V0Q2FudmFzLCBlbnRyeS5nbCk7XG4gICAgICAgIGVudHJ5LmNhbnZhcy53aWR0aCA9IHRhcmdldENhbnZhcy53aWR0aDtcbiAgICAgICAgZW50cnkuY2FudmFzLmhlaWdodCA9IHRhcmdldENhbnZhcy5oZWlnaHQ7XG4gICAgfVxuICAgIG1hcmtDb250ZXh0QXNVc2VkKGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgZW50cnkgPSB0aGlzLmNvbnRleHRzLmZpbmQoZSA9PiBlLmdsID09PSBjb250ZXh0KTtcbiAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgICBlbnRyeS5sYXN0VXNlZCA9IERhdGUubm93KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmluZE9sZGVzdFVudXNlZENvbnRleHQoKSB7XG4gICAgICAgIGNvbnN0IHVudXNlZENvbnRleHRzID0gdGhpcy5jb250ZXh0cy5maWx0ZXIoZW50cnkgPT4gIWVudHJ5LmlzSW5Vc2UpO1xuICAgICAgICBpZiAodW51c2VkQ29udGV4dHMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiB1bnVzZWRDb250ZXh0cy5yZWR1Y2UoKG9sZGVzdCwgY3VycmVudCkgPT4gY3VycmVudC5sYXN0VXNlZCA8IG9sZGVzdC5sYXN0VXNlZCA/IGN1cnJlbnQgOiBvbGRlc3QpO1xuICAgIH1cbiAgICBjbGVhbnVwQ29udGV4dChnbCkge1xuICAgICAgICBnbC51c2VQcm9ncmFtKG51bGwpO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIG51bGwpO1xuICAgICAgICBnbC5jbGVhckNvbG9yKDAsIDAsIDAsIDApO1xuICAgICAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUKTtcbiAgICB9XG4gICAgcmVuZGVyVG9DYW52YXMoc291cmNlR2wsIHRhcmdldENhbnZhcykge1xuICAgICAgICBjb25zdCB0YXJnZXRDb250ZXh0ID0gdGFyZ2V0Q2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGlmICghdGFyZ2V0Q29udGV4dClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgc291cmNlRW50cnkgPSB0aGlzLmNvbnRleHRzLmZpbmQoZSA9PiBlLmdsID09PSBzb3VyY2VHbCk7XG4gICAgICAgIGlmICghc291cmNlRW50cnkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRhcmdldENvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRhcmdldENhbnZhcy53aWR0aCwgdGFyZ2V0Q2FudmFzLmhlaWdodCk7XG4gICAgICAgIHRhcmdldENvbnRleHQuZHJhd0ltYWdlKHNvdXJjZUVudHJ5LmNhbnZhcywgMCwgMCk7XG4gICAgfVxuICAgIHVwZGF0ZUNvbnRleHRTaXplKGdsLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5jb250ZXh0cy5maW5kKGUgPT4gZS5nbCA9PT0gZ2wpO1xuICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgIGVudHJ5LmNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgZW50cnkuY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRTdGF0cygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvdGFsOiB0aGlzLmNvbnRleHRzLmxlbmd0aCxcbiAgICAgICAgICAgIGluVXNlOiB0aGlzLmNvbnRleHRzLmZpbHRlcihlID0+IGUuaXNJblVzZSkubGVuZ3RoLFxuICAgICAgICAgICAgZnJlZTogdGhpcy5jb250ZXh0cy5maWx0ZXIoZSA9PiAhZS5pc0luVXNlKS5sZW5ndGhcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLldlYkdMQ29udGV4dE1hbmFnZXIgPSBXZWJHTENvbnRleHRNYW5hZ2VyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/effects/lib/WebGLContextManager.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/effects/lib/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/@cntrl-site/effects/lib/index.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WebGLContextManager = exports.VideoTextureManager = exports.ImageTextureManager = exports.MediaEffect = void 0;\nvar MediaEffect_1 = __webpack_require__(/*! ./MediaEffect */ \"./node_modules/@cntrl-site/effects/lib/MediaEffect.js\");\nObject.defineProperty(exports, \"MediaEffect\", ({ enumerable: true, get: function () { return MediaEffect_1.MediaEffect; } }));\nvar ImageTextureManager_1 = __webpack_require__(/*! ./ImageTextureManager */ \"./node_modules/@cntrl-site/effects/lib/ImageTextureManager.js\");\nObject.defineProperty(exports, \"ImageTextureManager\", ({ enumerable: true, get: function () { return ImageTextureManager_1.ImageTextureManager; } }));\nvar VideoTextureManager_1 = __webpack_require__(/*! ./VideoTextureManager */ \"./node_modules/@cntrl-site/effects/lib/VideoTextureManager.js\");\nObject.defineProperty(exports, \"VideoTextureManager\", ({ enumerable: true, get: function () { return VideoTextureManager_1.VideoTextureManager; } }));\nvar WebGLContextManager_1 = __webpack_require__(/*! ./WebGLContextManager */ \"./node_modules/@cntrl-site/effects/lib/WebGLContextManager.js\");\nObject.defineProperty(exports, \"WebGLContextManager\", ({ enumerable: true, get: function () { return WebGLContextManager_1.WebGLContextManager; } }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvZWZmZWN0cy9saWIvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMkJBQTJCLEdBQUcsMkJBQTJCLEdBQUcsMkJBQTJCLEdBQUcsbUJBQW1CO0FBQzdHLG9CQUFvQixtQkFBTyxDQUFDLDRFQUFlO0FBQzNDLCtDQUE4QyxFQUFFLHFDQUFxQyxxQ0FBcUMsRUFBQztBQUMzSCw0QkFBNEIsbUJBQU8sQ0FBQyw0RkFBdUI7QUFDM0QsdURBQXNELEVBQUUscUNBQXFDLHFEQUFxRCxFQUFDO0FBQ25KLDRCQUE0QixtQkFBTyxDQUFDLDRGQUF1QjtBQUMzRCx1REFBc0QsRUFBRSxxQ0FBcUMscURBQXFELEVBQUM7QUFDbkosNEJBQTRCLG1CQUFPLENBQUMsNEZBQXVCO0FBQzNELHVEQUFzRCxFQUFFLHFDQUFxQyxxREFBcUQsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvZWZmZWN0cy9saWIvaW5kZXguanM/ZmRlNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuV2ViR0xDb250ZXh0TWFuYWdlciA9IGV4cG9ydHMuVmlkZW9UZXh0dXJlTWFuYWdlciA9IGV4cG9ydHMuSW1hZ2VUZXh0dXJlTWFuYWdlciA9IGV4cG9ydHMuTWVkaWFFZmZlY3QgPSB2b2lkIDA7XG52YXIgTWVkaWFFZmZlY3RfMSA9IHJlcXVpcmUoXCIuL01lZGlhRWZmZWN0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTWVkaWFFZmZlY3RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIE1lZGlhRWZmZWN0XzEuTWVkaWFFZmZlY3Q7IH0gfSk7XG52YXIgSW1hZ2VUZXh0dXJlTWFuYWdlcl8xID0gcmVxdWlyZShcIi4vSW1hZ2VUZXh0dXJlTWFuYWdlclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkltYWdlVGV4dHVyZU1hbmFnZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIEltYWdlVGV4dHVyZU1hbmFnZXJfMS5JbWFnZVRleHR1cmVNYW5hZ2VyOyB9IH0pO1xudmFyIFZpZGVvVGV4dHVyZU1hbmFnZXJfMSA9IHJlcXVpcmUoXCIuL1ZpZGVvVGV4dHVyZU1hbmFnZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJWaWRlb1RleHR1cmVNYW5hZ2VyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBWaWRlb1RleHR1cmVNYW5hZ2VyXzEuVmlkZW9UZXh0dXJlTWFuYWdlcjsgfSB9KTtcbnZhciBXZWJHTENvbnRleHRNYW5hZ2VyXzEgPSByZXF1aXJlKFwiLi9XZWJHTENvbnRleHRNYW5hZ2VyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiV2ViR0xDb250ZXh0TWFuYWdlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gV2ViR0xDb250ZXh0TWFuYWdlcl8xLldlYkdMQ29udGV4dE1hbmFnZXI7IH0gfSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/effects/lib/index.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/common/useCurrentLayout.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/common/useCurrentLayout.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useCurrentLayout = void 0;\nconst useCntrlContext_1 = __webpack_require__(/*! ../provider/useCntrlContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/useCntrlContext.js\");\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst ArticleRectContext_1 = __webpack_require__(/*! ../provider/ArticleRectContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/ArticleRectContext.js\");\nfunction useCurrentLayout() {\n    const { layouts } = (0, useCntrlContext_1.useCntrlContext)();\n    const articleRectObserver = (0, react_1.useContext)(ArticleRectContext_1.ArticleRectContext);\n    const layoutRanges = (0, react_1.useMemo)(() => {\n        const sorted = layouts.slice().sort((la, lb) => la.startsWith - lb.startsWith);\n        return sorted.reduce((acc, layout, i, layouts) => {\n            const next = layouts[i + 1];\n            return [\n                ...acc,\n                {\n                    layoutId: layout.id,\n                    exemplary: layout.exemplary,\n                    start: layout.startsWith,\n                    end: next ? next.startsWith : Number.MAX_SAFE_INTEGER\n                }\n            ];\n        }, []);\n    }, [layouts]);\n    const getCurrentLayout = (0, react_1.useCallback)((articleWidth) => {\n        const range = layoutRanges.find(l => articleWidth >= l.start && articleWidth < l.end);\n        return range;\n    }, [layoutRanges]);\n    const [layoutId, setLayoutId] = (0, react_1.useState)(undefined);\n    const [deviation, setDeviation] = (0, react_1.useState)(1);\n    (0, react_1.useEffect)(() => {\n        if (!articleRectObserver)\n            return;\n        return articleRectObserver.on('resize', () => {\n            const articleWidth = articleRectObserver.width;\n            const { layoutId, exemplary } = getCurrentLayout(articleWidth);\n            setLayoutId(layoutId);\n            setDeviation(articleWidth / exemplary);\n        });\n    }, [articleRectObserver, getCurrentLayout]);\n    return { layoutId, layoutDeviation: deviation };\n}\nexports.useCurrentLayout = useCurrentLayout;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tbW9uL3VzZUN1cnJlbnRMYXlvdXQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsd0JBQXdCO0FBQ3hCLDBCQUEwQixtQkFBTyxDQUFDLDBHQUE2QjtBQUMvRCxnQkFBZ0IsbUJBQU8sQ0FBQyw0Q0FBTztBQUMvQiw2QkFBNkIsbUJBQU8sQ0FBQyxnSEFBZ0M7QUFDckU7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQztBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCxhQUFhO0FBQ2I7QUFDQSx3QkFBd0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay1uZXh0anMvbGliL2NvbW1vbi91c2VDdXJyZW50TGF5b3V0LmpzPzFhMmIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnVzZUN1cnJlbnRMYXlvdXQgPSB2b2lkIDA7XG5jb25zdCB1c2VDbnRybENvbnRleHRfMSA9IHJlcXVpcmUoXCIuLi9wcm92aWRlci91c2VDbnRybENvbnRleHRcIik7XG5jb25zdCByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xuY29uc3QgQXJ0aWNsZVJlY3RDb250ZXh0XzEgPSByZXF1aXJlKFwiLi4vcHJvdmlkZXIvQXJ0aWNsZVJlY3RDb250ZXh0XCIpO1xuZnVuY3Rpb24gdXNlQ3VycmVudExheW91dCgpIHtcbiAgICBjb25zdCB7IGxheW91dHMgfSA9ICgwLCB1c2VDbnRybENvbnRleHRfMS51c2VDbnRybENvbnRleHQpKCk7XG4gICAgY29uc3QgYXJ0aWNsZVJlY3RPYnNlcnZlciA9ICgwLCByZWFjdF8xLnVzZUNvbnRleHQpKEFydGljbGVSZWN0Q29udGV4dF8xLkFydGljbGVSZWN0Q29udGV4dCk7XG4gICAgY29uc3QgbGF5b3V0UmFuZ2VzID0gKDAsIHJlYWN0XzEudXNlTWVtbykoKCkgPT4ge1xuICAgICAgICBjb25zdCBzb3J0ZWQgPSBsYXlvdXRzLnNsaWNlKCkuc29ydCgobGEsIGxiKSA9PiBsYS5zdGFydHNXaXRoIC0gbGIuc3RhcnRzV2l0aCk7XG4gICAgICAgIHJldHVybiBzb3J0ZWQucmVkdWNlKChhY2MsIGxheW91dCwgaSwgbGF5b3V0cykgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IGxheW91dHNbaSArIDFdO1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAuLi5hY2MsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsYXlvdXRJZDogbGF5b3V0LmlkLFxuICAgICAgICAgICAgICAgICAgICBleGVtcGxhcnk6IGxheW91dC5leGVtcGxhcnksXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBsYXlvdXQuc3RhcnRzV2l0aCxcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBuZXh0ID8gbmV4dC5zdGFydHNXaXRoIDogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdO1xuICAgICAgICB9LCBbXSk7XG4gICAgfSwgW2xheW91dHNdKTtcbiAgICBjb25zdCBnZXRDdXJyZW50TGF5b3V0ID0gKDAsIHJlYWN0XzEudXNlQ2FsbGJhY2spKChhcnRpY2xlV2lkdGgpID0+IHtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBsYXlvdXRSYW5nZXMuZmluZChsID0+IGFydGljbGVXaWR0aCA+PSBsLnN0YXJ0ICYmIGFydGljbGVXaWR0aCA8IGwuZW5kKTtcbiAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgIH0sIFtsYXlvdXRSYW5nZXNdKTtcbiAgICBjb25zdCBbbGF5b3V0SWQsIHNldExheW91dElkXSA9ICgwLCByZWFjdF8xLnVzZVN0YXRlKSh1bmRlZmluZWQpO1xuICAgIGNvbnN0IFtkZXZpYXRpb24sIHNldERldmlhdGlvbl0gPSAoMCwgcmVhY3RfMS51c2VTdGF0ZSkoMSk7XG4gICAgKDAsIHJlYWN0XzEudXNlRWZmZWN0KSgoKSA9PiB7XG4gICAgICAgIGlmICghYXJ0aWNsZVJlY3RPYnNlcnZlcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcmV0dXJuIGFydGljbGVSZWN0T2JzZXJ2ZXIub24oJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFydGljbGVXaWR0aCA9IGFydGljbGVSZWN0T2JzZXJ2ZXIud2lkdGg7XG4gICAgICAgICAgICBjb25zdCB7IGxheW91dElkLCBleGVtcGxhcnkgfSA9IGdldEN1cnJlbnRMYXlvdXQoYXJ0aWNsZVdpZHRoKTtcbiAgICAgICAgICAgIHNldExheW91dElkKGxheW91dElkKTtcbiAgICAgICAgICAgIHNldERldmlhdGlvbihhcnRpY2xlV2lkdGggLyBleGVtcGxhcnkpO1xuICAgICAgICB9KTtcbiAgICB9LCBbYXJ0aWNsZVJlY3RPYnNlcnZlciwgZ2V0Q3VycmVudExheW91dF0pO1xuICAgIHJldHVybiB7IGxheW91dElkLCBsYXlvdXREZXZpYXRpb246IGRldmlhdGlvbiB9O1xufVxuZXhwb3J0cy51c2VDdXJyZW50TGF5b3V0ID0gdXNlQ3VycmVudExheW91dDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/common/useCurrentLayout.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/common/useExemplary.js":
/*!************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/common/useExemplary.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useExemplary = void 0;\nconst useCntrlContext_1 = __webpack_require__(/*! ../provider/useCntrlContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/useCntrlContext.js\");\nconst useLayoutContext_1 = __webpack_require__(/*! ../components/useLayoutContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/useLayoutContext.js\");\nconst useExemplary = () => {\n    var _a, _b;\n    const { layouts } = (0, useCntrlContext_1.useCntrlContext)();\n    const layout = (0, useLayoutContext_1.useLayoutContext)();\n    const exemplary = (_b = (_a = layouts.find(l => l.id === layout)) === null || _a === void 0 ? void 0 : _a.exemplary) !== null && _b !== void 0 ? _b : 1;\n    return exemplary;\n};\nexports.useExemplary = useExemplary;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tbW9uL3VzZUV4ZW1wbGFyeS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQkFBb0I7QUFDcEIsMEJBQTBCLG1CQUFPLENBQUMsMEdBQTZCO0FBQy9ELDJCQUEyQixtQkFBTyxDQUFDLGdIQUFnQztBQUNuRTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9jb21tb24vdXNlRXhlbXBsYXJ5LmpzPzBmZmQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnVzZUV4ZW1wbGFyeSA9IHZvaWQgMDtcbmNvbnN0IHVzZUNudHJsQ29udGV4dF8xID0gcmVxdWlyZShcIi4uL3Byb3ZpZGVyL3VzZUNudHJsQ29udGV4dFwiKTtcbmNvbnN0IHVzZUxheW91dENvbnRleHRfMSA9IHJlcXVpcmUoXCIuLi9jb21wb25lbnRzL3VzZUxheW91dENvbnRleHRcIik7XG5jb25zdCB1c2VFeGVtcGxhcnkgPSAoKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCB7IGxheW91dHMgfSA9ICgwLCB1c2VDbnRybENvbnRleHRfMS51c2VDbnRybENvbnRleHQpKCk7XG4gICAgY29uc3QgbGF5b3V0ID0gKDAsIHVzZUxheW91dENvbnRleHRfMS51c2VMYXlvdXRDb250ZXh0KSgpO1xuICAgIGNvbnN0IGV4ZW1wbGFyeSA9IChfYiA9IChfYSA9IGxheW91dHMuZmluZChsID0+IGwuaWQgPT09IGxheW91dCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5leGVtcGxhcnkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDE7XG4gICAgcmV0dXJuIGV4ZW1wbGFyeTtcbn07XG5leHBvcnRzLnVzZUV4ZW1wbGFyeSA9IHVzZUV4ZW1wbGFyeTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/common/useExemplary.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/common/useItemFXData.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/common/useItemFXData.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useItemFXData = void 0;\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst useKeyframeValue_1 = __webpack_require__(/*! ./useKeyframeValue */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useKeyframeValue.js\");\nconst baseVariables = `precision mediump float;\r\nuniform sampler2D u_image;\r\nuniform sampler2D u_pattern;\r\nuniform vec2 u_imgDimensions;\r\nuniform vec2 u_patternDimensions;\r\nuniform float u_time;\r\nuniform vec2 u_cursor;\r\nvarying vec2 v_texCoord;`;\nfunction useItemFXData(item, sectionId) {\n    const { fragmentShader: shaderBody, FXControls } = item.commonParams;\n    const controls = FXControls !== null && FXControls !== void 0 ? FXControls : [];\n    const controlsVariables = controls.map((c) => `uniform ${c.type} ${c.shaderParam};`)\n        .join('\\n');\n    const fragmentShader = `${baseVariables}\\n${controlsVariables}\\n${shaderBody}`;\n    const controlsValues = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.FXParams, () => {\n        const defaultValue = controls.reduce((acc, control) => {\n            if (Array.isArray(control.value)) {\n                acc[control.shaderParam] = control.value[0];\n            }\n            else {\n                acc[control.shaderParam] = control.value;\n            }\n            return acc;\n        }, {});\n        return defaultValue;\n    }, (animator, scroll, value) => animator.getFXParams(value, scroll), sectionId);\n    return {\n        fragmentShader,\n        controlsValues\n    };\n}\nexports.useItemFXData = useItemFXData;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tbW9uL3VzZUl0ZW1GWERhdGEuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QscUJBQXFCO0FBQ3JCLGNBQWMsbUJBQU8sQ0FBQyxxRUFBaUI7QUFDdkMsMkJBQTJCLG1CQUFPLENBQUMsZ0dBQW9CO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0EsWUFBWSx5Q0FBeUM7QUFDckQ7QUFDQSw2REFBNkQsUUFBUSxFQUFFLGVBQWU7QUFDdEY7QUFDQSw4QkFBOEIsY0FBYyxJQUFJLGtCQUFrQixJQUFJLFdBQVc7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxJQUFJO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tbW9uL3VzZUl0ZW1GWERhdGEuanM/ZGNkNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudXNlSXRlbUZYRGF0YSA9IHZvaWQgMDtcbmNvbnN0IHNka18xID0gcmVxdWlyZShcIkBjbnRybC1zaXRlL3Nka1wiKTtcbmNvbnN0IHVzZUtleWZyYW1lVmFsdWVfMSA9IHJlcXVpcmUoXCIuL3VzZUtleWZyYW1lVmFsdWVcIik7XG5jb25zdCBiYXNlVmFyaWFibGVzID0gYHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xyXG51bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO1xyXG51bmlmb3JtIHNhbXBsZXIyRCB1X3BhdHRlcm47XHJcbnVuaWZvcm0gdmVjMiB1X2ltZ0RpbWVuc2lvbnM7XHJcbnVuaWZvcm0gdmVjMiB1X3BhdHRlcm5EaW1lbnNpb25zO1xyXG51bmlmb3JtIGZsb2F0IHVfdGltZTtcclxudW5pZm9ybSB2ZWMyIHVfY3Vyc29yO1xyXG52YXJ5aW5nIHZlYzIgdl90ZXhDb29yZDtgO1xuZnVuY3Rpb24gdXNlSXRlbUZYRGF0YShpdGVtLCBzZWN0aW9uSWQpIHtcbiAgICBjb25zdCB7IGZyYWdtZW50U2hhZGVyOiBzaGFkZXJCb2R5LCBGWENvbnRyb2xzIH0gPSBpdGVtLmNvbW1vblBhcmFtcztcbiAgICBjb25zdCBjb250cm9scyA9IEZYQ29udHJvbHMgIT09IG51bGwgJiYgRlhDb250cm9scyAhPT0gdm9pZCAwID8gRlhDb250cm9scyA6IFtdO1xuICAgIGNvbnN0IGNvbnRyb2xzVmFyaWFibGVzID0gY29udHJvbHMubWFwKChjKSA9PiBgdW5pZm9ybSAke2MudHlwZX0gJHtjLnNoYWRlclBhcmFtfTtgKVxuICAgICAgICAuam9pbignXFxuJyk7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBgJHtiYXNlVmFyaWFibGVzfVxcbiR7Y29udHJvbHNWYXJpYWJsZXN9XFxuJHtzaGFkZXJCb2R5fWA7XG4gICAgY29uc3QgY29udHJvbHNWYWx1ZXMgPSAoMCwgdXNlS2V5ZnJhbWVWYWx1ZV8xLnVzZUtleWZyYW1lVmFsdWUpKGl0ZW0sIHNka18xLktleWZyYW1lVHlwZS5GWFBhcmFtcywgKCkgPT4ge1xuICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBjb250cm9scy5yZWR1Y2UoKGFjYywgY29udHJvbCkgPT4ge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29udHJvbC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBhY2NbY29udHJvbC5zaGFkZXJQYXJhbV0gPSBjb250cm9sLnZhbHVlWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWNjW2NvbnRyb2wuc2hhZGVyUGFyYW1dID0gY29udHJvbC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICB9LCAoYW5pbWF0b3IsIHNjcm9sbCwgdmFsdWUpID0+IGFuaW1hdG9yLmdldEZYUGFyYW1zKHZhbHVlLCBzY3JvbGwpLCBzZWN0aW9uSWQpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGZyYWdtZW50U2hhZGVyLFxuICAgICAgICBjb250cm9sc1ZhbHVlc1xuICAgIH07XG59XG5leHBvcnRzLnVzZUl0ZW1GWERhdGEgPSB1c2VJdGVtRlhEYXRhO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/common/useItemFXData.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/common/useKeyframeValue.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/common/useKeyframeValue.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useKeyframeValue = void 0;\nconst lodash_isequal_1 = __importDefault(__webpack_require__(/*! lodash.isequal */ \"./node_modules/lodash.isequal/index.js\"));\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst ArticleRectContext_1 = __webpack_require__(/*! ../provider/ArticleRectContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/ArticleRectContext.js\");\nconst KeyframesContext_1 = __webpack_require__(/*! ../provider/KeyframesContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/KeyframesContext.js\");\nconst Animator_1 = __webpack_require__(/*! ../utils/Animator/Animator */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/Animator/Animator.js\");\nconst useLayoutContext_1 = __webpack_require__(/*! ../components/useLayoutContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/useLayoutContext.js\");\nconst emptyDeps = [];\nfunction useKeyframeValue(item, type, itemParamsGetter, animatorGetter, sectionId, deps = emptyDeps) {\n    const animatorGetterRef = (0, react_1.useRef)(animatorGetter);\n    const itemParamsGetterRef = (0, react_1.useRef)(itemParamsGetter);\n    animatorGetterRef.current = animatorGetter;\n    itemParamsGetterRef.current = itemParamsGetter;\n    const articleRectObserver = (0, react_1.useContext)(ArticleRectContext_1.ArticleRectContext);\n    const layoutId = (0, useLayoutContext_1.useLayoutContext)();\n    const keyframesRepo = (0, react_1.useContext)(KeyframesContext_1.KeyframesContext);\n    const keyframes = (0, react_1.useMemo)(() => keyframesRepo.getItemKeyframes(item.id).filter(kf => kf.type === type), [item.id, keyframesRepo, type]);\n    const paramValue = (0, react_1.useMemo)(() => {\n        return itemParamsGetterRef.current(item, layoutId);\n    }, [item, layoutId, ...deps]);\n    const [adjustedValue, setAdjustedValue] = (0, react_1.useState)(paramValue);\n    const adjustedValueRef = (0, react_1.useRef)(adjustedValue);\n    adjustedValueRef.current = adjustedValue;\n    const animator = (0, react_1.useMemo)(() => {\n        if (!layoutId || !keyframes.length)\n            return;\n        const animationData = keyframes\n            .filter(k => k.layoutId === layoutId)\n            .map(({ position, type, value }) => ({\n            position,\n            type,\n            value\n        }));\n        return new Animator_1.Animator(animationData);\n    }, [keyframes, layoutId]);\n    const handleKeyframeValue = (0, react_1.useCallback)((scroll) => {\n        if (!animator)\n            return;\n        const newValue = animatorGetterRef.current(animator, scroll, paramValue);\n        if (!(0, lodash_isequal_1.default)(newValue, adjustedValueRef.current)) {\n            setAdjustedValue(newValue);\n        }\n    }, [animator, paramValue]);\n    (0, react_1.useEffect)(() => {\n        setAdjustedValue(paramValue);\n    }, [paramValue]);\n    (0, react_1.useEffect)(() => {\n        if (!articleRectObserver || !animator)\n            return;\n        const scroll = articleRectObserver.getSectionScroll(sectionId);\n        handleKeyframeValue(scroll);\n    }, [articleRectObserver, handleKeyframeValue, animator]);\n    (0, react_1.useEffect)(() => {\n        if (!articleRectObserver || !animator)\n            return;\n        return articleRectObserver.on('resize', () => {\n            const scroll = articleRectObserver.getSectionScroll(sectionId);\n            handleKeyframeValue(scroll);\n        });\n    }, [handleKeyframeValue, articleRectObserver, animator]);\n    (0, react_1.useEffect)(() => {\n        if (!articleRectObserver || !animator)\n            return;\n        return articleRectObserver.on('scroll', () => {\n            const scroll = articleRectObserver.getSectionScroll(sectionId);\n            handleKeyframeValue(scroll);\n        });\n    }, [handleKeyframeValue, articleRectObserver, animator]);\n    return keyframes.length ? adjustedValue : paramValue;\n}\nexports.useKeyframeValue = useKeyframeValue;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tbW9uL3VzZUtleWZyYW1lVmFsdWUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx3QkFBd0I7QUFDeEIseUNBQXlDLG1CQUFPLENBQUMsOERBQWdCO0FBQ2pFLGdCQUFnQixtQkFBTyxDQUFDLDRDQUFPO0FBQy9CLDZCQUE2QixtQkFBTyxDQUFDLGdIQUFnQztBQUNyRSwyQkFBMkIsbUJBQU8sQ0FBQyw0R0FBOEI7QUFDakUsbUJBQW1CLG1CQUFPLENBQUMsd0dBQTRCO0FBQ3ZELDJCQUEyQixtQkFBTyxDQUFDLGdIQUFnQztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix1QkFBdUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBLHdCQUF3QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tbW9uL3VzZUtleWZyYW1lVmFsdWUuanM/ZDEzMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudXNlS2V5ZnJhbWVWYWx1ZSA9IHZvaWQgMDtcbmNvbnN0IGxvZGFzaF9pc2VxdWFsXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImxvZGFzaC5pc2VxdWFsXCIpKTtcbmNvbnN0IHJlYWN0XzEgPSByZXF1aXJlKFwicmVhY3RcIik7XG5jb25zdCBBcnRpY2xlUmVjdENvbnRleHRfMSA9IHJlcXVpcmUoXCIuLi9wcm92aWRlci9BcnRpY2xlUmVjdENvbnRleHRcIik7XG5jb25zdCBLZXlmcmFtZXNDb250ZXh0XzEgPSByZXF1aXJlKFwiLi4vcHJvdmlkZXIvS2V5ZnJhbWVzQ29udGV4dFwiKTtcbmNvbnN0IEFuaW1hdG9yXzEgPSByZXF1aXJlKFwiLi4vdXRpbHMvQW5pbWF0b3IvQW5pbWF0b3JcIik7XG5jb25zdCB1c2VMYXlvdXRDb250ZXh0XzEgPSByZXF1aXJlKFwiLi4vY29tcG9uZW50cy91c2VMYXlvdXRDb250ZXh0XCIpO1xuY29uc3QgZW1wdHlEZXBzID0gW107XG5mdW5jdGlvbiB1c2VLZXlmcmFtZVZhbHVlKGl0ZW0sIHR5cGUsIGl0ZW1QYXJhbXNHZXR0ZXIsIGFuaW1hdG9yR2V0dGVyLCBzZWN0aW9uSWQsIGRlcHMgPSBlbXB0eURlcHMpIHtcbiAgICBjb25zdCBhbmltYXRvckdldHRlclJlZiA9ICgwLCByZWFjdF8xLnVzZVJlZikoYW5pbWF0b3JHZXR0ZXIpO1xuICAgIGNvbnN0IGl0ZW1QYXJhbXNHZXR0ZXJSZWYgPSAoMCwgcmVhY3RfMS51c2VSZWYpKGl0ZW1QYXJhbXNHZXR0ZXIpO1xuICAgIGFuaW1hdG9yR2V0dGVyUmVmLmN1cnJlbnQgPSBhbmltYXRvckdldHRlcjtcbiAgICBpdGVtUGFyYW1zR2V0dGVyUmVmLmN1cnJlbnQgPSBpdGVtUGFyYW1zR2V0dGVyO1xuICAgIGNvbnN0IGFydGljbGVSZWN0T2JzZXJ2ZXIgPSAoMCwgcmVhY3RfMS51c2VDb250ZXh0KShBcnRpY2xlUmVjdENvbnRleHRfMS5BcnRpY2xlUmVjdENvbnRleHQpO1xuICAgIGNvbnN0IGxheW91dElkID0gKDAsIHVzZUxheW91dENvbnRleHRfMS51c2VMYXlvdXRDb250ZXh0KSgpO1xuICAgIGNvbnN0IGtleWZyYW1lc1JlcG8gPSAoMCwgcmVhY3RfMS51c2VDb250ZXh0KShLZXlmcmFtZXNDb250ZXh0XzEuS2V5ZnJhbWVzQ29udGV4dCk7XG4gICAgY29uc3Qga2V5ZnJhbWVzID0gKDAsIHJlYWN0XzEudXNlTWVtbykoKCkgPT4ga2V5ZnJhbWVzUmVwby5nZXRJdGVtS2V5ZnJhbWVzKGl0ZW0uaWQpLmZpbHRlcihrZiA9PiBrZi50eXBlID09PSB0eXBlKSwgW2l0ZW0uaWQsIGtleWZyYW1lc1JlcG8sIHR5cGVdKTtcbiAgICBjb25zdCBwYXJhbVZhbHVlID0gKDAsIHJlYWN0XzEudXNlTWVtbykoKCkgPT4ge1xuICAgICAgICByZXR1cm4gaXRlbVBhcmFtc0dldHRlclJlZi5jdXJyZW50KGl0ZW0sIGxheW91dElkKTtcbiAgICB9LCBbaXRlbSwgbGF5b3V0SWQsIC4uLmRlcHNdKTtcbiAgICBjb25zdCBbYWRqdXN0ZWRWYWx1ZSwgc2V0QWRqdXN0ZWRWYWx1ZV0gPSAoMCwgcmVhY3RfMS51c2VTdGF0ZSkocGFyYW1WYWx1ZSk7XG4gICAgY29uc3QgYWRqdXN0ZWRWYWx1ZVJlZiA9ICgwLCByZWFjdF8xLnVzZVJlZikoYWRqdXN0ZWRWYWx1ZSk7XG4gICAgYWRqdXN0ZWRWYWx1ZVJlZi5jdXJyZW50ID0gYWRqdXN0ZWRWYWx1ZTtcbiAgICBjb25zdCBhbmltYXRvciA9ICgwLCByZWFjdF8xLnVzZU1lbW8pKCgpID0+IHtcbiAgICAgICAgaWYgKCFsYXlvdXRJZCB8fCAha2V5ZnJhbWVzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uRGF0YSA9IGtleWZyYW1lc1xuICAgICAgICAgICAgLmZpbHRlcihrID0+IGsubGF5b3V0SWQgPT09IGxheW91dElkKVxuICAgICAgICAgICAgLm1hcCgoeyBwb3NpdGlvbiwgdHlwZSwgdmFsdWUgfSkgPT4gKHtcbiAgICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRvcl8xLkFuaW1hdG9yKGFuaW1hdGlvbkRhdGEpO1xuICAgIH0sIFtrZXlmcmFtZXMsIGxheW91dElkXSk7XG4gICAgY29uc3QgaGFuZGxlS2V5ZnJhbWVWYWx1ZSA9ICgwLCByZWFjdF8xLnVzZUNhbGxiYWNrKSgoc2Nyb2xsKSA9PiB7XG4gICAgICAgIGlmICghYW5pbWF0b3IpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gYW5pbWF0b3JHZXR0ZXJSZWYuY3VycmVudChhbmltYXRvciwgc2Nyb2xsLCBwYXJhbVZhbHVlKTtcbiAgICAgICAgaWYgKCEoMCwgbG9kYXNoX2lzZXF1YWxfMS5kZWZhdWx0KShuZXdWYWx1ZSwgYWRqdXN0ZWRWYWx1ZVJlZi5jdXJyZW50KSkge1xuICAgICAgICAgICAgc2V0QWRqdXN0ZWRWYWx1ZShuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9LCBbYW5pbWF0b3IsIHBhcmFtVmFsdWVdKTtcbiAgICAoMCwgcmVhY3RfMS51c2VFZmZlY3QpKCgpID0+IHtcbiAgICAgICAgc2V0QWRqdXN0ZWRWYWx1ZShwYXJhbVZhbHVlKTtcbiAgICB9LCBbcGFyYW1WYWx1ZV0pO1xuICAgICgwLCByZWFjdF8xLnVzZUVmZmVjdCkoKCkgPT4ge1xuICAgICAgICBpZiAoIWFydGljbGVSZWN0T2JzZXJ2ZXIgfHwgIWFuaW1hdG9yKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBzY3JvbGwgPSBhcnRpY2xlUmVjdE9ic2VydmVyLmdldFNlY3Rpb25TY3JvbGwoc2VjdGlvbklkKTtcbiAgICAgICAgaGFuZGxlS2V5ZnJhbWVWYWx1ZShzY3JvbGwpO1xuICAgIH0sIFthcnRpY2xlUmVjdE9ic2VydmVyLCBoYW5kbGVLZXlmcmFtZVZhbHVlLCBhbmltYXRvcl0pO1xuICAgICgwLCByZWFjdF8xLnVzZUVmZmVjdCkoKCkgPT4ge1xuICAgICAgICBpZiAoIWFydGljbGVSZWN0T2JzZXJ2ZXIgfHwgIWFuaW1hdG9yKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICByZXR1cm4gYXJ0aWNsZVJlY3RPYnNlcnZlci5vbigncmVzaXplJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2Nyb2xsID0gYXJ0aWNsZVJlY3RPYnNlcnZlci5nZXRTZWN0aW9uU2Nyb2xsKHNlY3Rpb25JZCk7XG4gICAgICAgICAgICBoYW5kbGVLZXlmcmFtZVZhbHVlKHNjcm9sbCk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtoYW5kbGVLZXlmcmFtZVZhbHVlLCBhcnRpY2xlUmVjdE9ic2VydmVyLCBhbmltYXRvcl0pO1xuICAgICgwLCByZWFjdF8xLnVzZUVmZmVjdCkoKCkgPT4ge1xuICAgICAgICBpZiAoIWFydGljbGVSZWN0T2JzZXJ2ZXIgfHwgIWFuaW1hdG9yKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICByZXR1cm4gYXJ0aWNsZVJlY3RPYnNlcnZlci5vbignc2Nyb2xsJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2Nyb2xsID0gYXJ0aWNsZVJlY3RPYnNlcnZlci5nZXRTZWN0aW9uU2Nyb2xsKHNlY3Rpb25JZCk7XG4gICAgICAgICAgICBoYW5kbGVLZXlmcmFtZVZhbHVlKHNjcm9sbCk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtoYW5kbGVLZXlmcmFtZVZhbHVlLCBhcnRpY2xlUmVjdE9ic2VydmVyLCBhbmltYXRvcl0pO1xuICAgIHJldHVybiBrZXlmcmFtZXMubGVuZ3RoID8gYWRqdXN0ZWRWYWx1ZSA6IHBhcmFtVmFsdWU7XG59XG5leHBvcnRzLnVzZUtleWZyYW1lVmFsdWUgPSB1c2VLZXlmcmFtZVZhbHVlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/common/useKeyframeValue.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/common/useRegisterResize.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/common/useRegisterResize.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useRegisterResize = void 0;\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst resize_observer_polyfill_1 = __importDefault(__webpack_require__(/*! resize-observer-polyfill */ \"./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js\"));\nfunction useRegisterResize(ref, onResize) {\n    (0, react_1.useEffect)(() => {\n        if (!ref || !onResize)\n            return;\n        const observer = new resize_observer_polyfill_1.default((entries) => {\n            const [entry] = entries;\n            onResize(entry.target.clientHeight / window.innerWidth);\n        });\n        observer.observe(ref);\n        return () => {\n            observer.unobserve(ref);\n        };\n    }, [ref, onResize]);\n}\nexports.useRegisterResize = useRegisterResize;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tbW9uL3VzZVJlZ2lzdGVyUmVzaXplLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QseUJBQXlCO0FBQ3pCLGdCQUFnQixtQkFBTyxDQUFDLDRDQUFPO0FBQy9CLG1EQUFtRCxtQkFBTyxDQUFDLG1HQUEwQjtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHlCQUF5QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tbW9uL3VzZVJlZ2lzdGVyUmVzaXplLmpzP2Q2MGQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnVzZVJlZ2lzdGVyUmVzaXplID0gdm9pZCAwO1xuY29uc3QgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbmNvbnN0IHJlc2l6ZV9vYnNlcnZlcl9wb2x5ZmlsbF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJyZXNpemUtb2JzZXJ2ZXItcG9seWZpbGxcIikpO1xuZnVuY3Rpb24gdXNlUmVnaXN0ZXJSZXNpemUocmVmLCBvblJlc2l6ZSkge1xuICAgICgwLCByZWFjdF8xLnVzZUVmZmVjdCkoKCkgPT4ge1xuICAgICAgICBpZiAoIXJlZiB8fCAhb25SZXNpemUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IHJlc2l6ZV9vYnNlcnZlcl9wb2x5ZmlsbF8xLmRlZmF1bHQoKGVudHJpZXMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IFtlbnRyeV0gPSBlbnRyaWVzO1xuICAgICAgICAgICAgb25SZXNpemUoZW50cnkudGFyZ2V0LmNsaWVudEhlaWdodCAvIHdpbmRvdy5pbm5lcldpZHRoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUocmVmKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShyZWYpO1xuICAgICAgICB9O1xuICAgIH0sIFtyZWYsIG9uUmVzaXplXSk7XG59XG5leHBvcnRzLnVzZVJlZ2lzdGVyUmVzaXplID0gdXNlUmVnaXN0ZXJSZXNpemU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/common/useRegisterResize.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/Article.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/Article.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Article = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst style_1 = __importDefault(__webpack_require__(/*! styled-jsx/style */ \"./node_modules/next/node_modules/styled-jsx/style.js\"));\nconst Section_1 = __webpack_require__(/*! ./Section/Section */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/Section/Section.js\");\nconst Item_1 = __webpack_require__(/*! ./items/Item */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/Item.js\");\nconst useArticleRectObserver_1 = __webpack_require__(/*! ../utils/ArticleRectManager/useArticleRectObserver */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/ArticleRectManager/useArticleRectObserver.js\");\nconst ArticleRectContext_1 = __webpack_require__(/*! ../provider/ArticleRectContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/ArticleRectContext.js\");\nconst ArticleWrapper_1 = __webpack_require__(/*! ./ArticleWrapper */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/ArticleWrapper.js\");\nconst InteractionsContext_1 = __webpack_require__(/*! ../provider/InteractionsContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/InteractionsContext.js\");\nconst WebGLContextManagerContext_1 = __webpack_require__(/*! ../provider/WebGLContextManagerContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/WebGLContextManagerContext.js\");\nconst effects_1 = __webpack_require__(/*! @cntrl-site/effects */ \"./node_modules/@cntrl-site/effects/lib/index.js\");\nconst Article = ({ article, sectionData }) => {\n    const articleRef = (0, react_1.useRef)(null);\n    const articleRectObserver = (0, useArticleRectObserver_1.useArticleRectObserver)(articleRef.current);\n    const id = (0, react_1.useId)();\n    const [articleHeight, setArticleHeight] = (0, react_1.useState)(1);\n    (0, react_1.useEffect)(() => {\n        if (!articleRectObserver)\n            return;\n        return articleRectObserver.on('resize', (rect) => {\n            setArticleHeight(rect.height / rect.width);\n        });\n    }, [articleRectObserver]);\n    const webglContextManager = (0, react_1.useMemo)(() => new effects_1.WebGLContextManager(), []);\n    return ((0, jsx_runtime_1.jsx)(ArticleRectContext_1.ArticleRectContext.Provider, { value: articleRectObserver, children: (0, jsx_runtime_1.jsxs)(InteractionsContext_1.InteractionsProvider, { article: article, children: [(0, jsx_runtime_1.jsx)(ArticleWrapper_1.ArticleWrapper, { children: (0, jsx_runtime_1.jsx)(\"div\", { className: \"article\", ref: articleRef, children: (0, jsx_runtime_1.jsx)(WebGLContextManagerContext_1.WebglContextManagerContext.Provider, { value: webglContextManager, children: article.sections.map((section, i) => {\n                                const data = section.name ? sectionData[section.name] : {};\n                                return ((0, jsx_runtime_1.jsx)(Section_1.Section, { section: section, data: data, children: article.sections[i].items.map(item => ((0, jsx_runtime_1.jsx)(Item_1.Item, { item: item, sectionId: section.id, articleHeight: articleHeight }, item.id))) }, section.id));\n                            }) }) }) }), (0, jsx_runtime_1.jsx)(style_1.default, { id: id, children: `\r\n       .article {\r\n         position: relative;\r\n         overflow: clip;\r\n       }\r\n      ` })] }) }));\n};\nexports.Article = Article;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9BcnRpY2xlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZUFBZTtBQUNmLHNCQUFzQixtQkFBTyxDQUFDLDhEQUFtQjtBQUNqRCxnQkFBZ0IsbUJBQU8sQ0FBQyw0Q0FBTztBQUMvQixnQ0FBZ0MsbUJBQU8sQ0FBQyw4RUFBa0I7QUFDMUQsa0JBQWtCLG1CQUFPLENBQUMsa0dBQW1CO0FBQzdDLGVBQWUsbUJBQU8sQ0FBQyx3RkFBYztBQUNyQyxpQ0FBaUMsbUJBQU8sQ0FBQyx3SkFBb0Q7QUFDN0YsNkJBQTZCLG1CQUFPLENBQUMsZ0hBQWdDO0FBQ3JFLHlCQUF5QixtQkFBTyxDQUFDLGdHQUFrQjtBQUNuRCw4QkFBOEIsbUJBQU8sQ0FBQyxrSEFBaUM7QUFDdkUscUNBQXFDLG1CQUFPLENBQUMsZ0lBQXdDO0FBQ3JGLGtCQUFrQixtQkFBTyxDQUFDLDRFQUFxQjtBQUMvQyxtQkFBbUIsc0JBQXNCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQSx1RkFBdUYsNEdBQTRHLHVGQUF1RiwwQ0FBMEMsNElBQTRJO0FBQ2hkO0FBQ0Esb0ZBQW9GLHFIQUFxSCxpRUFBaUUsY0FBYztBQUN4Uiw2QkFBNkIsR0FBRyxHQUFHLEdBQUcsNkNBQTZDO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxJQUFJLEdBQUc7QUFDaEI7QUFDQSxlQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9jb21wb25lbnRzL0FydGljbGUuanM/YTkzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQXJ0aWNsZSA9IHZvaWQgMDtcbmNvbnN0IGpzeF9ydW50aW1lXzEgPSByZXF1aXJlKFwicmVhY3QvanN4LXJ1bnRpbWVcIik7XG5jb25zdCByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xuY29uc3Qgc3R5bGVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwic3R5bGVkLWpzeC9zdHlsZVwiKSk7XG5jb25zdCBTZWN0aW9uXzEgPSByZXF1aXJlKFwiLi9TZWN0aW9uL1NlY3Rpb25cIik7XG5jb25zdCBJdGVtXzEgPSByZXF1aXJlKFwiLi9pdGVtcy9JdGVtXCIpO1xuY29uc3QgdXNlQXJ0aWNsZVJlY3RPYnNlcnZlcl8xID0gcmVxdWlyZShcIi4uL3V0aWxzL0FydGljbGVSZWN0TWFuYWdlci91c2VBcnRpY2xlUmVjdE9ic2VydmVyXCIpO1xuY29uc3QgQXJ0aWNsZVJlY3RDb250ZXh0XzEgPSByZXF1aXJlKFwiLi4vcHJvdmlkZXIvQXJ0aWNsZVJlY3RDb250ZXh0XCIpO1xuY29uc3QgQXJ0aWNsZVdyYXBwZXJfMSA9IHJlcXVpcmUoXCIuL0FydGljbGVXcmFwcGVyXCIpO1xuY29uc3QgSW50ZXJhY3Rpb25zQ29udGV4dF8xID0gcmVxdWlyZShcIi4uL3Byb3ZpZGVyL0ludGVyYWN0aW9uc0NvbnRleHRcIik7XG5jb25zdCBXZWJHTENvbnRleHRNYW5hZ2VyQ29udGV4dF8xID0gcmVxdWlyZShcIi4uL3Byb3ZpZGVyL1dlYkdMQ29udGV4dE1hbmFnZXJDb250ZXh0XCIpO1xuY29uc3QgZWZmZWN0c18xID0gcmVxdWlyZShcIkBjbnRybC1zaXRlL2VmZmVjdHNcIik7XG5jb25zdCBBcnRpY2xlID0gKHsgYXJ0aWNsZSwgc2VjdGlvbkRhdGEgfSkgPT4ge1xuICAgIGNvbnN0IGFydGljbGVSZWYgPSAoMCwgcmVhY3RfMS51c2VSZWYpKG51bGwpO1xuICAgIGNvbnN0IGFydGljbGVSZWN0T2JzZXJ2ZXIgPSAoMCwgdXNlQXJ0aWNsZVJlY3RPYnNlcnZlcl8xLnVzZUFydGljbGVSZWN0T2JzZXJ2ZXIpKGFydGljbGVSZWYuY3VycmVudCk7XG4gICAgY29uc3QgaWQgPSAoMCwgcmVhY3RfMS51c2VJZCkoKTtcbiAgICBjb25zdCBbYXJ0aWNsZUhlaWdodCwgc2V0QXJ0aWNsZUhlaWdodF0gPSAoMCwgcmVhY3RfMS51c2VTdGF0ZSkoMSk7XG4gICAgKDAsIHJlYWN0XzEudXNlRWZmZWN0KSgoKSA9PiB7XG4gICAgICAgIGlmICghYXJ0aWNsZVJlY3RPYnNlcnZlcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcmV0dXJuIGFydGljbGVSZWN0T2JzZXJ2ZXIub24oJ3Jlc2l6ZScsIChyZWN0KSA9PiB7XG4gICAgICAgICAgICBzZXRBcnRpY2xlSGVpZ2h0KHJlY3QuaGVpZ2h0IC8gcmVjdC53aWR0aCk7XG4gICAgICAgIH0pO1xuICAgIH0sIFthcnRpY2xlUmVjdE9ic2VydmVyXSk7XG4gICAgY29uc3Qgd2ViZ2xDb250ZXh0TWFuYWdlciA9ICgwLCByZWFjdF8xLnVzZU1lbW8pKCgpID0+IG5ldyBlZmZlY3RzXzEuV2ViR0xDb250ZXh0TWFuYWdlcigpLCBbXSk7XG4gICAgcmV0dXJuICgoMCwganN4X3J1bnRpbWVfMS5qc3gpKEFydGljbGVSZWN0Q29udGV4dF8xLkFydGljbGVSZWN0Q29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogYXJ0aWNsZVJlY3RPYnNlcnZlciwgY2hpbGRyZW46ICgwLCBqc3hfcnVudGltZV8xLmpzeHMpKEludGVyYWN0aW9uc0NvbnRleHRfMS5JbnRlcmFjdGlvbnNQcm92aWRlciwgeyBhcnRpY2xlOiBhcnRpY2xlLCBjaGlsZHJlbjogWygwLCBqc3hfcnVudGltZV8xLmpzeCkoQXJ0aWNsZVdyYXBwZXJfMS5BcnRpY2xlV3JhcHBlciwgeyBjaGlsZHJlbjogKDAsIGpzeF9ydW50aW1lXzEuanN4KShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJhcnRpY2xlXCIsIHJlZjogYXJ0aWNsZVJlZiwgY2hpbGRyZW46ICgwLCBqc3hfcnVudGltZV8xLmpzeCkoV2ViR0xDb250ZXh0TWFuYWdlckNvbnRleHRfMS5XZWJnbENvbnRleHRNYW5hZ2VyQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogd2ViZ2xDb250ZXh0TWFuYWdlciwgY2hpbGRyZW46IGFydGljbGUuc2VjdGlvbnMubWFwKChzZWN0aW9uLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBzZWN0aW9uLm5hbWUgPyBzZWN0aW9uRGF0YVtzZWN0aW9uLm5hbWVdIDoge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoKDAsIGpzeF9ydW50aW1lXzEuanN4KShTZWN0aW9uXzEuU2VjdGlvbiwgeyBzZWN0aW9uOiBzZWN0aW9uLCBkYXRhOiBkYXRhLCBjaGlsZHJlbjogYXJ0aWNsZS5zZWN0aW9uc1tpXS5pdGVtcy5tYXAoaXRlbSA9PiAoKDAsIGpzeF9ydW50aW1lXzEuanN4KShJdGVtXzEuSXRlbSwgeyBpdGVtOiBpdGVtLCBzZWN0aW9uSWQ6IHNlY3Rpb24uaWQsIGFydGljbGVIZWlnaHQ6IGFydGljbGVIZWlnaHQgfSwgaXRlbS5pZCkpKSB9LCBzZWN0aW9uLmlkKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgfSkgfSkgfSksICgwLCBqc3hfcnVudGltZV8xLmpzeCkoc3R5bGVfMS5kZWZhdWx0LCB7IGlkOiBpZCwgY2hpbGRyZW46IGBcclxuICAgICAgIC5hcnRpY2xlIHtcclxuICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICBvdmVyZmxvdzogY2xpcDtcclxuICAgICAgIH1cclxuICAgICAgYCB9KV0gfSkgfSkpO1xufTtcbmV4cG9ydHMuQXJ0aWNsZSA9IEFydGljbGU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/Article.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/ArticleWrapper.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/ArticleWrapper.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ArticleWrapper = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst useCurrentLayout_1 = __webpack_require__(/*! ../common/useCurrentLayout */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useCurrentLayout.js\");\nconst LayoutContext_1 = __webpack_require__(/*! ../provider/LayoutContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/LayoutContext.js\");\nconst ArticleWrapper = ({ children }) => {\n    const { layoutId, layoutDeviation } = (0, useCurrentLayout_1.useCurrentLayout)();\n    const layoutDeviationStyle = { '--layout-deviation': layoutDeviation };\n    return ((0, jsx_runtime_1.jsx)(LayoutContext_1.LayoutContext.Provider, { value: layoutId, children: (0, jsx_runtime_1.jsx)(\"div\", { className: \"article-wrapper\", style: Object.assign({}, layoutDeviationStyle), children: children }) }));\n};\nexports.ArticleWrapper = ArticleWrapper;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9BcnRpY2xlV3JhcHBlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxzQkFBc0I7QUFDdEIsc0JBQXNCLG1CQUFPLENBQUMsOERBQW1CO0FBQ2pELDJCQUEyQixtQkFBTyxDQUFDLHdHQUE0QjtBQUMvRCx3QkFBd0IsbUJBQU8sQ0FBQyxzR0FBMkI7QUFDM0QsMEJBQTBCLFVBQVU7QUFDcEMsWUFBWSw0QkFBNEI7QUFDeEMsbUNBQW1DO0FBQ25DLDZFQUE2RSwyREFBMkQscURBQXFELDZDQUE2QyxHQUFHO0FBQzdPO0FBQ0Esc0JBQXNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9jb21wb25lbnRzL0FydGljbGVXcmFwcGVyLmpzPzE0NWQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFydGljbGVXcmFwcGVyID0gdm9pZCAwO1xuY29uc3QganN4X3J1bnRpbWVfMSA9IHJlcXVpcmUoXCJyZWFjdC9qc3gtcnVudGltZVwiKTtcbmNvbnN0IHVzZUN1cnJlbnRMYXlvdXRfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vdXNlQ3VycmVudExheW91dFwiKTtcbmNvbnN0IExheW91dENvbnRleHRfMSA9IHJlcXVpcmUoXCIuLi9wcm92aWRlci9MYXlvdXRDb250ZXh0XCIpO1xuY29uc3QgQXJ0aWNsZVdyYXBwZXIgPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gICAgY29uc3QgeyBsYXlvdXRJZCwgbGF5b3V0RGV2aWF0aW9uIH0gPSAoMCwgdXNlQ3VycmVudExheW91dF8xLnVzZUN1cnJlbnRMYXlvdXQpKCk7XG4gICAgY29uc3QgbGF5b3V0RGV2aWF0aW9uU3R5bGUgPSB7ICctLWxheW91dC1kZXZpYXRpb24nOiBsYXlvdXREZXZpYXRpb24gfTtcbiAgICByZXR1cm4gKCgwLCBqc3hfcnVudGltZV8xLmpzeCkoTGF5b3V0Q29udGV4dF8xLkxheW91dENvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGxheW91dElkLCBjaGlsZHJlbjogKDAsIGpzeF9ydW50aW1lXzEuanN4KShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJhcnRpY2xlLXdyYXBwZXJcIiwgc3R5bGU6IE9iamVjdC5hc3NpZ24oe30sIGxheW91dERldmlhdGlvblN0eWxlKSwgY2hpbGRyZW46IGNoaWxkcmVuIH0pIH0pKTtcbn07XG5leHBvcnRzLkFydGljbGVXcmFwcGVyID0gQXJ0aWNsZVdyYXBwZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/ArticleWrapper.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/Head.js":
/*!********************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/Head.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CNTRLHead = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst html_react_parser_1 = __importDefault(__webpack_require__(/*! html-react-parser */ \"./node_modules/html-react-parser/index.js\"));\nconst head_1 = __importDefault(__webpack_require__(/*! next/head */ \"./node_modules/next/head.js\"));\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst CNTRLHead = ({ meta, project }) => {\n    const googleFonts = (0, html_react_parser_1.default)(project.fonts.google);\n    const adobeFonts = (0, html_react_parser_1.default)(project.fonts.adobe);\n    const parsedFonts = Object.assign(Object.assign({}, (typeof googleFonts === 'object' ? googleFonts : {})), (typeof adobeFonts === 'object' ? adobeFonts : {}));\n    const customFonts = project.fonts.custom;\n    const htmlHead = (0, html_react_parser_1.default)(project.html.head);\n    const ffGenerator = new sdk_1.FontFaceGenerator(customFonts);\n    const links = Object.values(parsedFonts).map((value) => {\n        var _a, _b;\n        if (!value)\n            return;\n        const rel = (value === null || value === void 0 ? void 0 : value.rel) || ((_a = value.props) === null || _a === void 0 ? void 0 : _a.rel);\n        const href = (value === null || value === void 0 ? void 0 : value.href) || ((_b = value.props) === null || _b === void 0 ? void 0 : _b.href);\n        if (!rel || !href)\n            return;\n        return ((0, jsx_runtime_1.jsx)(\"link\", { rel: rel, href: href }, `link-${rel}-${href}`));\n    });\n    return ((0, jsx_runtime_1.jsxs)(head_1.default, { children: [(0, jsx_runtime_1.jsx)(\"title\", { children: meta.title }), (0, jsx_runtime_1.jsx)(\"meta\", { name: \"description\", content: meta.description }), (0, jsx_runtime_1.jsx)(\"meta\", { name: \"keywords\", content: meta.keywords }), (0, jsx_runtime_1.jsx)(\"meta\", { name: \"og:title\", content: meta.title }), (0, jsx_runtime_1.jsx)(\"meta\", { name: \"og:image\", content: meta.opengraphThumbnail }), (0, jsx_runtime_1.jsx)(\"meta\", { name: \"og:description\", content: meta.description }), (0, jsx_runtime_1.jsx)(\"meta\", { name: \"twitter:title\", content: meta.title }), (0, jsx_runtime_1.jsx)(\"meta\", { name: \"twitter:image\", content: meta.opengraphThumbnail }), (0, jsx_runtime_1.jsx)(\"meta\", { name: \"twitter:description\", content: meta.description }), (0, jsx_runtime_1.jsx)(\"meta\", { property: \"twitter:card\", content: \"summary_large_image\" }), (0, jsx_runtime_1.jsx)(\"meta\", { name: \"generator\", content: \"https://cntrl.site\" }), (0, jsx_runtime_1.jsx)(\"link\", { rel: \"icon\", href: meta.favicon }), customFonts.length > 0 && ((0, jsx_runtime_1.jsx)(\"style\", { dangerouslySetInnerHTML: {\n                    __html: ffGenerator.generate()\n                } })), links, htmlHead] }));\n};\nexports.CNTRLHead = CNTRLHead;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9IZWFkLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCO0FBQ2pCLHNCQUFzQixtQkFBTyxDQUFDLDhEQUFtQjtBQUNqRCw0Q0FBNEMsbUJBQU8sQ0FBQyxvRUFBbUI7QUFDdkUsK0JBQStCLG1CQUFPLENBQUMsOENBQVc7QUFDbEQsY0FBYyxtQkFBTyxDQUFDLHFFQUFpQjtBQUN2QyxxQkFBcUIsZUFBZTtBQUNwQztBQUNBO0FBQ0Esc0RBQXNELHFEQUFxRCxxREFBcUQ7QUFDaEs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxzQkFBc0IsVUFBVSxJQUFJLEdBQUcsS0FBSztBQUM3RixLQUFLO0FBQ0wsc0RBQXNELDZDQUE2QyxzQkFBc0Isb0NBQW9DLGdEQUFnRCxvQ0FBb0MsMENBQTBDLG9DQUFvQyx1Q0FBdUMsb0NBQW9DLG9EQUFvRCxvQ0FBb0MsbURBQW1ELG9DQUFvQyw0Q0FBNEMsb0NBQW9DLHlEQUF5RCxvQ0FBb0Msd0RBQXdELG9DQUFvQywwREFBMEQsb0NBQW9DLGtEQUFrRCxvQ0FBb0MsaUNBQWlDLGdFQUFnRTtBQUN2bEM7QUFDQSxtQkFBbUIsc0JBQXNCO0FBQ3pDO0FBQ0EsaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9jb21wb25lbnRzL0hlYWQuanM/OGZiOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ05UUkxIZWFkID0gdm9pZCAwO1xuY29uc3QganN4X3J1bnRpbWVfMSA9IHJlcXVpcmUoXCJyZWFjdC9qc3gtcnVudGltZVwiKTtcbmNvbnN0IGh0bWxfcmVhY3RfcGFyc2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImh0bWwtcmVhY3QtcGFyc2VyXCIpKTtcbmNvbnN0IGhlYWRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwibmV4dC9oZWFkXCIpKTtcbmNvbnN0IHNka18xID0gcmVxdWlyZShcIkBjbnRybC1zaXRlL3Nka1wiKTtcbmNvbnN0IENOVFJMSGVhZCA9ICh7IG1ldGEsIHByb2plY3QgfSkgPT4ge1xuICAgIGNvbnN0IGdvb2dsZUZvbnRzID0gKDAsIGh0bWxfcmVhY3RfcGFyc2VyXzEuZGVmYXVsdCkocHJvamVjdC5mb250cy5nb29nbGUpO1xuICAgIGNvbnN0IGFkb2JlRm9udHMgPSAoMCwgaHRtbF9yZWFjdF9wYXJzZXJfMS5kZWZhdWx0KShwcm9qZWN0LmZvbnRzLmFkb2JlKTtcbiAgICBjb25zdCBwYXJzZWRGb250cyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgKHR5cGVvZiBnb29nbGVGb250cyA9PT0gJ29iamVjdCcgPyBnb29nbGVGb250cyA6IHt9KSksICh0eXBlb2YgYWRvYmVGb250cyA9PT0gJ29iamVjdCcgPyBhZG9iZUZvbnRzIDoge30pKTtcbiAgICBjb25zdCBjdXN0b21Gb250cyA9IHByb2plY3QuZm9udHMuY3VzdG9tO1xuICAgIGNvbnN0IGh0bWxIZWFkID0gKDAsIGh0bWxfcmVhY3RfcGFyc2VyXzEuZGVmYXVsdCkocHJvamVjdC5odG1sLmhlYWQpO1xuICAgIGNvbnN0IGZmR2VuZXJhdG9yID0gbmV3IHNka18xLkZvbnRGYWNlR2VuZXJhdG9yKGN1c3RvbUZvbnRzKTtcbiAgICBjb25zdCBsaW5rcyA9IE9iamVjdC52YWx1ZXMocGFyc2VkRm9udHMpLm1hcCgodmFsdWUpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKCF2YWx1ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgcmVsID0gKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YWx1ZS5yZWwpIHx8ICgoX2EgPSB2YWx1ZS5wcm9wcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlbCk7XG4gICAgICAgIGNvbnN0IGhyZWYgPSAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZhbHVlLmhyZWYpIHx8ICgoX2IgPSB2YWx1ZS5wcm9wcykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmhyZWYpO1xuICAgICAgICBpZiAoIXJlbCB8fCAhaHJlZilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcmV0dXJuICgoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwibGlua1wiLCB7IHJlbDogcmVsLCBocmVmOiBocmVmIH0sIGBsaW5rLSR7cmVsfS0ke2hyZWZ9YCkpO1xuICAgIH0pO1xuICAgIHJldHVybiAoKDAsIGpzeF9ydW50aW1lXzEuanN4cykoaGVhZF8xLmRlZmF1bHQsIHsgY2hpbGRyZW46IFsoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwidGl0bGVcIiwgeyBjaGlsZHJlbjogbWV0YS50aXRsZSB9KSwgKDAsIGpzeF9ydW50aW1lXzEuanN4KShcIm1ldGFcIiwgeyBuYW1lOiBcImRlc2NyaXB0aW9uXCIsIGNvbnRlbnQ6IG1ldGEuZGVzY3JpcHRpb24gfSksICgwLCBqc3hfcnVudGltZV8xLmpzeCkoXCJtZXRhXCIsIHsgbmFtZTogXCJrZXl3b3Jkc1wiLCBjb250ZW50OiBtZXRhLmtleXdvcmRzIH0pLCAoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwibWV0YVwiLCB7IG5hbWU6IFwib2c6dGl0bGVcIiwgY29udGVudDogbWV0YS50aXRsZSB9KSwgKDAsIGpzeF9ydW50aW1lXzEuanN4KShcIm1ldGFcIiwgeyBuYW1lOiBcIm9nOmltYWdlXCIsIGNvbnRlbnQ6IG1ldGEub3BlbmdyYXBoVGh1bWJuYWlsIH0pLCAoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwibWV0YVwiLCB7IG5hbWU6IFwib2c6ZGVzY3JpcHRpb25cIiwgY29udGVudDogbWV0YS5kZXNjcmlwdGlvbiB9KSwgKDAsIGpzeF9ydW50aW1lXzEuanN4KShcIm1ldGFcIiwgeyBuYW1lOiBcInR3aXR0ZXI6dGl0bGVcIiwgY29udGVudDogbWV0YS50aXRsZSB9KSwgKDAsIGpzeF9ydW50aW1lXzEuanN4KShcIm1ldGFcIiwgeyBuYW1lOiBcInR3aXR0ZXI6aW1hZ2VcIiwgY29udGVudDogbWV0YS5vcGVuZ3JhcGhUaHVtYm5haWwgfSksICgwLCBqc3hfcnVudGltZV8xLmpzeCkoXCJtZXRhXCIsIHsgbmFtZTogXCJ0d2l0dGVyOmRlc2NyaXB0aW9uXCIsIGNvbnRlbnQ6IG1ldGEuZGVzY3JpcHRpb24gfSksICgwLCBqc3hfcnVudGltZV8xLmpzeCkoXCJtZXRhXCIsIHsgcHJvcGVydHk6IFwidHdpdHRlcjpjYXJkXCIsIGNvbnRlbnQ6IFwic3VtbWFyeV9sYXJnZV9pbWFnZVwiIH0pLCAoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwibWV0YVwiLCB7IG5hbWU6IFwiZ2VuZXJhdG9yXCIsIGNvbnRlbnQ6IFwiaHR0cHM6Ly9jbnRybC5zaXRlXCIgfSksICgwLCBqc3hfcnVudGltZV8xLmpzeCkoXCJsaW5rXCIsIHsgcmVsOiBcImljb25cIiwgaHJlZjogbWV0YS5mYXZpY29uIH0pLCBjdXN0b21Gb250cy5sZW5ndGggPiAwICYmICgoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwic3R5bGVcIiwgeyBkYW5nZXJvdXNseVNldElubmVySFRNTDoge1xuICAgICAgICAgICAgICAgICAgICBfX2h0bWw6IGZmR2VuZXJhdG9yLmdlbmVyYXRlKClcbiAgICAgICAgICAgICAgICB9IH0pKSwgbGlua3MsIGh0bWxIZWFkXSB9KSk7XG59O1xuZXhwb3J0cy5DTlRSTEhlYWQgPSBDTlRSTEhlYWQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/Head.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/LayoutStyle.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/LayoutStyle.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LayoutStyle = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst style_1 = __importDefault(__webpack_require__(/*! styled-jsx/style */ \"./node_modules/next/node_modules/styled-jsx/style.js\"));\nconst LayoutStyle = ({ id, layouts, layoutId, children }) => {\n    const layout = layouts.find(l => l.id === layoutId);\n    return ((0, jsx_runtime_1.jsx)(style_1.default, { id: id, children: `\r\n      ${(0, sdk_1.getLayoutMediaQuery)(layoutId, layouts)} {\r\n        ${children === null || children === void 0 ? void 0 : children(layout)}\r\n      }\r\n    ` }));\n};\nexports.LayoutStyle = LayoutStyle;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9MYXlvdXRTdHlsZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQjtBQUNuQixzQkFBc0IsbUJBQU8sQ0FBQyw4REFBbUI7QUFDakQsY0FBYyxtQkFBTyxDQUFDLHFFQUFpQjtBQUN2QyxnQ0FBZ0MsbUJBQU8sQ0FBQyw4RUFBa0I7QUFDMUQsdUJBQXVCLGlDQUFpQztBQUN4RDtBQUNBLHNEQUFzRDtBQUN0RCxRQUFRO0FBQ1IsVUFBVTtBQUNWO0FBQ0EsT0FBTztBQUNQO0FBQ0EsbUJBQW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9jb21wb25lbnRzL0xheW91dFN0eWxlLmpzPzgzZjMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkxheW91dFN0eWxlID0gdm9pZCAwO1xuY29uc3QganN4X3J1bnRpbWVfMSA9IHJlcXVpcmUoXCJyZWFjdC9qc3gtcnVudGltZVwiKTtcbmNvbnN0IHNka18xID0gcmVxdWlyZShcIkBjbnRybC1zaXRlL3Nka1wiKTtcbmNvbnN0IHN0eWxlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcInN0eWxlZC1qc3gvc3R5bGVcIikpO1xuY29uc3QgTGF5b3V0U3R5bGUgPSAoeyBpZCwgbGF5b3V0cywgbGF5b3V0SWQsIGNoaWxkcmVuIH0pID0+IHtcbiAgICBjb25zdCBsYXlvdXQgPSBsYXlvdXRzLmZpbmQobCA9PiBsLmlkID09PSBsYXlvdXRJZCk7XG4gICAgcmV0dXJuICgoMCwganN4X3J1bnRpbWVfMS5qc3gpKHN0eWxlXzEuZGVmYXVsdCwgeyBpZDogaWQsIGNoaWxkcmVuOiBgXHJcbiAgICAgICR7KDAsIHNka18xLmdldExheW91dE1lZGlhUXVlcnkpKGxheW91dElkLCBsYXlvdXRzKX0ge1xyXG4gICAgICAgICR7Y2hpbGRyZW4gPT09IG51bGwgfHwgY2hpbGRyZW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNoaWxkcmVuKGxheW91dCl9XHJcbiAgICAgIH1cclxuICAgIGAgfSkpO1xufTtcbmV4cG9ydHMuTGF5b3V0U3R5bGUgPSBMYXlvdXRTdHlsZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/LayoutStyle.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/Page.js":
/*!********************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/Page.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Page = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst html_react_parser_1 = __importDefault(__webpack_require__(/*! html-react-parser */ \"./node_modules/html-react-parser/index.js\"));\nconst Article_1 = __webpack_require__(/*! ./Article */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/Article.js\");\nconst KeyframesContext_1 = __webpack_require__(/*! ../provider/KeyframesContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/KeyframesContext.js\");\nconst Head_1 = __webpack_require__(/*! ./Head */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/Head.js\");\nconst Keyframes_1 = __webpack_require__(/*! ../provider/Keyframes */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/Keyframes.js\");\nconst Page = ({ article, project, meta, keyframes, sectionData }) => {\n    const afterBodyOpen = (0, html_react_parser_1.default)(project.html.afterBodyOpen);\n    const beforeBodyClose = (0, html_react_parser_1.default)(project.html.beforeBodyClose);\n    const keyframesRepo = (0, react_1.useMemo)(() => new Keyframes_1.Keyframes(keyframes), [keyframes]);\n    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(Head_1.CNTRLHead, { project: project, meta: meta }), afterBodyOpen, (0, jsx_runtime_1.jsx)(KeyframesContext_1.KeyframesContext.Provider, { value: keyframesRepo, children: (0, jsx_runtime_1.jsx)(Article_1.Article, { article: article, sectionData: sectionData }) }), beforeBodyClose] }));\n};\nexports.Page = Page;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9QYWdlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsWUFBWTtBQUNaLHNCQUFzQixtQkFBTyxDQUFDLDhEQUFtQjtBQUNqRCxnQkFBZ0IsbUJBQU8sQ0FBQyw0Q0FBTztBQUMvQiw0Q0FBNEMsbUJBQU8sQ0FBQyxvRUFBbUI7QUFDdkUsa0JBQWtCLG1CQUFPLENBQUMsa0ZBQVc7QUFDckMsMkJBQTJCLG1CQUFPLENBQUMsNEdBQThCO0FBQ2pFLGVBQWUsbUJBQU8sQ0FBQyw0RUFBUTtBQUMvQixvQkFBb0IsbUJBQU8sQ0FBQyw4RkFBdUI7QUFDbkQsZ0JBQWdCLGdEQUFnRDtBQUNoRTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsc0RBQXNELDhCQUE4Qix5RkFBeUYsNEVBQTRFLDRDQUE0QyxHQUFHLHFCQUFxQjtBQUMzWDtBQUNBLFlBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay1uZXh0anMvbGliL2NvbXBvbmVudHMvUGFnZS5qcz8xZjdkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5QYWdlID0gdm9pZCAwO1xuY29uc3QganN4X3J1bnRpbWVfMSA9IHJlcXVpcmUoXCJyZWFjdC9qc3gtcnVudGltZVwiKTtcbmNvbnN0IHJlYWN0XzEgPSByZXF1aXJlKFwicmVhY3RcIik7XG5jb25zdCBodG1sX3JlYWN0X3BhcnNlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJodG1sLXJlYWN0LXBhcnNlclwiKSk7XG5jb25zdCBBcnRpY2xlXzEgPSByZXF1aXJlKFwiLi9BcnRpY2xlXCIpO1xuY29uc3QgS2V5ZnJhbWVzQ29udGV4dF8xID0gcmVxdWlyZShcIi4uL3Byb3ZpZGVyL0tleWZyYW1lc0NvbnRleHRcIik7XG5jb25zdCBIZWFkXzEgPSByZXF1aXJlKFwiLi9IZWFkXCIpO1xuY29uc3QgS2V5ZnJhbWVzXzEgPSByZXF1aXJlKFwiLi4vcHJvdmlkZXIvS2V5ZnJhbWVzXCIpO1xuY29uc3QgUGFnZSA9ICh7IGFydGljbGUsIHByb2plY3QsIG1ldGEsIGtleWZyYW1lcywgc2VjdGlvbkRhdGEgfSkgPT4ge1xuICAgIGNvbnN0IGFmdGVyQm9keU9wZW4gPSAoMCwgaHRtbF9yZWFjdF9wYXJzZXJfMS5kZWZhdWx0KShwcm9qZWN0Lmh0bWwuYWZ0ZXJCb2R5T3Blbik7XG4gICAgY29uc3QgYmVmb3JlQm9keUNsb3NlID0gKDAsIGh0bWxfcmVhY3RfcGFyc2VyXzEuZGVmYXVsdCkocHJvamVjdC5odG1sLmJlZm9yZUJvZHlDbG9zZSk7XG4gICAgY29uc3Qga2V5ZnJhbWVzUmVwbyA9ICgwLCByZWFjdF8xLnVzZU1lbW8pKCgpID0+IG5ldyBLZXlmcmFtZXNfMS5LZXlmcmFtZXMoa2V5ZnJhbWVzKSwgW2tleWZyYW1lc10pO1xuICAgIHJldHVybiAoKDAsIGpzeF9ydW50aW1lXzEuanN4cykoanN4X3J1bnRpbWVfMS5GcmFnbWVudCwgeyBjaGlsZHJlbjogWygwLCBqc3hfcnVudGltZV8xLmpzeCkoSGVhZF8xLkNOVFJMSGVhZCwgeyBwcm9qZWN0OiBwcm9qZWN0LCBtZXRhOiBtZXRhIH0pLCBhZnRlckJvZHlPcGVuLCAoMCwganN4X3J1bnRpbWVfMS5qc3gpKEtleWZyYW1lc0NvbnRleHRfMS5LZXlmcmFtZXNDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBrZXlmcmFtZXNSZXBvLCBjaGlsZHJlbjogKDAsIGpzeF9ydW50aW1lXzEuanN4KShBcnRpY2xlXzEuQXJ0aWNsZSwgeyBhcnRpY2xlOiBhcnRpY2xlLCBzZWN0aW9uRGF0YTogc2VjdGlvbkRhdGEgfSkgfSksIGJlZm9yZUJvZHlDbG9zZV0gfSkpO1xufTtcbmV4cG9ydHMuUGFnZSA9IFBhZ2U7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/Page.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/ScrollPlaybackVideo.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/ScrollPlaybackVideo.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ScrollPlaybackVideo = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst rangeMap_1 = __webpack_require__(/*! ../utils/rangeMap */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/rangeMap.js\");\nconst ArticleRectContext_1 = __webpack_require__(/*! ../provider/ArticleRectContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/ArticleRectContext.js\");\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst ScrollPlaybackVideo = ({ sectionId, src, playbackParams, style, className }) => {\n    const [containerElement, setContainerElement] = (0, react_1.useState)(null);\n    const [time, setTime] = (0, react_1.useState)(0);\n    const articleRectObserver = (0, react_1.useContext)(ArticleRectContext_1.ArticleRectContext);\n    (0, react_1.useEffect)(() => {\n        if (!playbackParams || !articleRectObserver)\n            return;\n        return articleRectObserver.on('scroll', () => {\n            const scrollPos = articleRectObserver.getSectionScroll(sectionId);\n            const time = (0, rangeMap_1.rangeMap)(scrollPos, playbackParams.from, playbackParams.to, 0, 1, true);\n            setTime(toFixed(time));\n        });\n    }, [playbackParams === null || playbackParams === void 0 ? void 0 : playbackParams.from, playbackParams === null || playbackParams === void 0 ? void 0 : playbackParams.to, time]);\n    const scrollVideoManager = (0, react_1.useMemo)(() => {\n        if (!containerElement)\n            return null;\n        const manager = new sdk_1.ScrollPlaybackVideoManager({\n            src,\n            videoContainer: containerElement\n        });\n        return manager;\n    }, [containerElement, src]);\n    (0, react_1.useEffect)(() => {\n        return () => {\n            scrollVideoManager === null || scrollVideoManager === void 0 ? void 0 : scrollVideoManager.destroy();\n        };\n    }, [scrollVideoManager]);\n    (0, react_1.useEffect)(() => {\n        if (scrollVideoManager && time >= 0 && time <= 1) {\n            scrollVideoManager.setTargetTimePercent(time);\n        }\n    }, [time, scrollVideoManager]);\n    return (0, jsx_runtime_1.jsx)(\"div\", { className: className, style: style, ref: setContainerElement });\n};\nexports.ScrollPlaybackVideo = ScrollPlaybackVideo;\nfunction toFixed(num) {\n    return Number(num.toFixed(3));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9TY3JvbGxQbGF5YmFja1ZpZGVvLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDJCQUEyQjtBQUMzQixzQkFBc0IsbUJBQU8sQ0FBQyw4REFBbUI7QUFDakQsZ0JBQWdCLG1CQUFPLENBQUMsNENBQU87QUFDL0IsbUJBQW1CLG1CQUFPLENBQUMsc0ZBQW1CO0FBQzlDLDZCQUE2QixtQkFBTyxDQUFDLGdIQUFnQztBQUNyRSxjQUFjLG1CQUFPLENBQUMscUVBQWlCO0FBQ3ZDLCtCQUErQixrREFBa0Q7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCwyQ0FBMkMsOERBQThEO0FBQ3pHO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9TY3JvbGxQbGF5YmFja1ZpZGVvLmpzPzg5MTEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNjcm9sbFBsYXliYWNrVmlkZW8gPSB2b2lkIDA7XG5jb25zdCBqc3hfcnVudGltZV8xID0gcmVxdWlyZShcInJlYWN0L2pzeC1ydW50aW1lXCIpO1xuY29uc3QgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbmNvbnN0IHJhbmdlTWFwXzEgPSByZXF1aXJlKFwiLi4vdXRpbHMvcmFuZ2VNYXBcIik7XG5jb25zdCBBcnRpY2xlUmVjdENvbnRleHRfMSA9IHJlcXVpcmUoXCIuLi9wcm92aWRlci9BcnRpY2xlUmVjdENvbnRleHRcIik7XG5jb25zdCBzZGtfMSA9IHJlcXVpcmUoXCJAY250cmwtc2l0ZS9zZGtcIik7XG5jb25zdCBTY3JvbGxQbGF5YmFja1ZpZGVvID0gKHsgc2VjdGlvbklkLCBzcmMsIHBsYXliYWNrUGFyYW1zLCBzdHlsZSwgY2xhc3NOYW1lIH0pID0+IHtcbiAgICBjb25zdCBbY29udGFpbmVyRWxlbWVudCwgc2V0Q29udGFpbmVyRWxlbWVudF0gPSAoMCwgcmVhY3RfMS51c2VTdGF0ZSkobnVsbCk7XG4gICAgY29uc3QgW3RpbWUsIHNldFRpbWVdID0gKDAsIHJlYWN0XzEudXNlU3RhdGUpKDApO1xuICAgIGNvbnN0IGFydGljbGVSZWN0T2JzZXJ2ZXIgPSAoMCwgcmVhY3RfMS51c2VDb250ZXh0KShBcnRpY2xlUmVjdENvbnRleHRfMS5BcnRpY2xlUmVjdENvbnRleHQpO1xuICAgICgwLCByZWFjdF8xLnVzZUVmZmVjdCkoKCkgPT4ge1xuICAgICAgICBpZiAoIXBsYXliYWNrUGFyYW1zIHx8ICFhcnRpY2xlUmVjdE9ic2VydmVyKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICByZXR1cm4gYXJ0aWNsZVJlY3RPYnNlcnZlci5vbignc2Nyb2xsJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2Nyb2xsUG9zID0gYXJ0aWNsZVJlY3RPYnNlcnZlci5nZXRTZWN0aW9uU2Nyb2xsKHNlY3Rpb25JZCk7XG4gICAgICAgICAgICBjb25zdCB0aW1lID0gKDAsIHJhbmdlTWFwXzEucmFuZ2VNYXApKHNjcm9sbFBvcywgcGxheWJhY2tQYXJhbXMuZnJvbSwgcGxheWJhY2tQYXJhbXMudG8sIDAsIDEsIHRydWUpO1xuICAgICAgICAgICAgc2V0VGltZSh0b0ZpeGVkKHRpbWUpKTtcbiAgICAgICAgfSk7XG4gICAgfSwgW3BsYXliYWNrUGFyYW1zID09PSBudWxsIHx8IHBsYXliYWNrUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwbGF5YmFja1BhcmFtcy5mcm9tLCBwbGF5YmFja1BhcmFtcyA9PT0gbnVsbCB8fCBwbGF5YmFja1BhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGxheWJhY2tQYXJhbXMudG8sIHRpbWVdKTtcbiAgICBjb25zdCBzY3JvbGxWaWRlb01hbmFnZXIgPSAoMCwgcmVhY3RfMS51c2VNZW1vKSgoKSA9PiB7XG4gICAgICAgIGlmICghY29udGFpbmVyRWxlbWVudClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCBtYW5hZ2VyID0gbmV3IHNka18xLlNjcm9sbFBsYXliYWNrVmlkZW9NYW5hZ2VyKHtcbiAgICAgICAgICAgIHNyYyxcbiAgICAgICAgICAgIHZpZGVvQ29udGFpbmVyOiBjb250YWluZXJFbGVtZW50XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWFuYWdlcjtcbiAgICB9LCBbY29udGFpbmVyRWxlbWVudCwgc3JjXSk7XG4gICAgKDAsIHJlYWN0XzEudXNlRWZmZWN0KSgoKSA9PiB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBzY3JvbGxWaWRlb01hbmFnZXIgPT09IG51bGwgfHwgc2Nyb2xsVmlkZW9NYW5hZ2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzY3JvbGxWaWRlb01hbmFnZXIuZGVzdHJveSgpO1xuICAgICAgICB9O1xuICAgIH0sIFtzY3JvbGxWaWRlb01hbmFnZXJdKTtcbiAgICAoMCwgcmVhY3RfMS51c2VFZmZlY3QpKCgpID0+IHtcbiAgICAgICAgaWYgKHNjcm9sbFZpZGVvTWFuYWdlciAmJiB0aW1lID49IDAgJiYgdGltZSA8PSAxKSB7XG4gICAgICAgICAgICBzY3JvbGxWaWRlb01hbmFnZXIuc2V0VGFyZ2V0VGltZVBlcmNlbnQodGltZSk7XG4gICAgICAgIH1cbiAgICB9LCBbdGltZSwgc2Nyb2xsVmlkZW9NYW5hZ2VyXSk7XG4gICAgcmV0dXJuICgwLCBqc3hfcnVudGltZV8xLmpzeCkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSwgc3R5bGU6IHN0eWxlLCByZWY6IHNldENvbnRhaW5lckVsZW1lbnQgfSk7XG59O1xuZXhwb3J0cy5TY3JvbGxQbGF5YmFja1ZpZGVvID0gU2Nyb2xsUGxheWJhY2tWaWRlbztcbmZ1bmN0aW9uIHRvRml4ZWQobnVtKSB7XG4gICAgcmV0dXJuIE51bWJlcihudW0udG9GaXhlZCgzKSk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/ScrollPlaybackVideo.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/Section/Section.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/Section/Section.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getSectionHeight = exports.Section = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst style_1 = __importDefault(__webpack_require__(/*! styled-jsx/style */ \"./node_modules/next/node_modules/styled-jsx/style.js\"));\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst useCntrlContext_1 = __webpack_require__(/*! ../../provider/useCntrlContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/useCntrlContext.js\");\nconst useSectionRegistry_1 = __webpack_require__(/*! ../../utils/ArticleRectManager/useSectionRegistry */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/ArticleRectManager/useSectionRegistry.js\");\nconst color_1 = __webpack_require__(/*! @cntrl-site/color */ \"./node_modules/@cntrl-site/color/lib/index.js\");\nconst useLayoutContext_1 = __webpack_require__(/*! ../useLayoutContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/useLayoutContext.js\");\nconst DEFAULT_COLOR = 'rgba(0, 0, 0, 0)';\nfunction isVideoUrl(url) {\n    const videoExtensions = ['.mp4', '.webm', '.ogg'];\n    return videoExtensions.some(ext => url.toLowerCase().endsWith(ext));\n}\nconst Section = ({ section, data, children }) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q;\n    const id = (0, react_1.useId)();\n    const sectionRef = (0, react_1.useRef)(null);\n    const { layouts, customSections } = (0, useCntrlContext_1.useCntrlContext)();\n    const layout = (0, useLayoutContext_1.useLayoutContext)();\n    const layoutValues = [section.height, section.color, (_a = section.media) !== null && _a !== void 0 ? _a : {}];\n    const SectionComponent = section.name ? customSections.getComponent(section.name) : undefined;\n    const isVideo = layout && ((_c = (_b = section.media) === null || _b === void 0 ? void 0 : _b[layout]) === null || _c === void 0 ? void 0 : _c.url) ? isVideoUrl(String((_e = (_d = section.media) === null || _d === void 0 ? void 0 : _d[layout]) === null || _e === void 0 ? void 0 : _e.url)) : false;\n    const videoRef = (0, react_1.useRef)(null);\n    (0, useSectionRegistry_1.useSectionRegistry)(section.id, sectionRef.current);\n    const getSectionVisibilityStyles = () => {\n        return layouts\n            .sort((a, b) => a.startsWith - b.startsWith)\n            .reduce((acc, layout) => {\n            const isHidden = section.hidden[layout.id];\n            return `\r\n          ${acc}\r\n          ${(0, sdk_1.getLayoutMediaQuery)(layout.id, layouts)} {\r\n            .section-${section.id} {\r\n              display: ${isHidden ? 'none' : 'block'};\r\n            }\r\n          }`;\n        }, '');\n    };\n    (0, react_1.useEffect)(() => {\n        if (!isVideo || !sectionRef.current || !videoRef.current)\n            return;\n        const video = videoRef.current;\n        const section = sectionRef.current;\n        const observer = new IntersectionObserver(([entry]) => {\n            if (entry.isIntersecting) {\n                video.style.display = 'block';\n                video.play().catch(() => { });\n            }\n            else {\n                video.style.display = 'none';\n                video.pause();\n            }\n        }, {\n            root: null,\n            rootMargin: '50px',\n            threshold: 0\n        });\n        observer.observe(section);\n        return () => observer.disconnect();\n    }, [isVideo]);\n    if (SectionComponent)\n        return (0, jsx_runtime_1.jsx)(\"div\", { ref: sectionRef, children: (0, jsx_runtime_1.jsx)(SectionComponent, { data: data, children: children }) });\n    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsxs)(\"div\", { className: `section-${section.id}`, id: section.name, ref: sectionRef, children: [layout && ((_g = (_f = section.media) === null || _f === void 0 ? void 0 : _f[layout]) === null || _g === void 0 ? void 0 : _g.url) && ((_j = (_h = section.media) === null || _h === void 0 ? void 0 : _h[layout]) === null || _j === void 0 ? void 0 : _j.size) !== 'none' && sectionRef.current && ((0, jsx_runtime_1.jsx)(\"div\", { className: `section-background-overlay-${section.id}`, children: (0, jsx_runtime_1.jsx)(\"div\", { className: `section-background-wrapper-${section.id}`, children: isVideo ? ((0, jsx_runtime_1.jsx)(\"video\", { ref: videoRef, autoPlay: true, loop: true, muted: true, playsInline: true, preload: \"auto\", className: `video-background-${section.id}`, children: (0, jsx_runtime_1.jsx)(\"source\", { src: (_m = (_l = (_k = section.media) === null || _k === void 0 ? void 0 : _k[layout]) === null || _l === void 0 ? void 0 : _l.url) !== null && _m !== void 0 ? _m : '' }) })) : ((0, jsx_runtime_1.jsx)(\"img\", { src: (_q = (_p = (_o = section.media) === null || _o === void 0 ? void 0 : _o[layout]) === null || _p === void 0 ? void 0 : _p.url) !== null && _q !== void 0 ? _q : '', className: `image-background-${section.id}` })) }, `section-background-wrapper-${section.id}`) })), children] }), (0, jsx_runtime_1.jsx)(style_1.default, { id: id, children: `\r\n      ${(0, sdk_1.getLayoutStyles)(layouts, layoutValues, ([height, color, media]) => {\n                    var _a;\n                    return (`\r\n         .section-${section.id} {\r\n            height: ${getSectionHeight(height)};\r\n            position: relative;\r\n            background-color: ${color_1.CntrlColor.parse(color !== null && color !== void 0 ? color : DEFAULT_COLOR).fmt('rgba')};\r\n         }\r\n         .section-background-overlay-${section.id} {\r\n            height: ${getSectionHeight(height)};\r\n            width: 100%;\r\n            position: relative;\r\n            overflow: clip;\r\n         }\r\n         .section-background-wrapper-${section.id} {\r\n            transform: ${(media === null || media === void 0 ? void 0 : media.position) === 'fixed' ? 'translateY(-100vh)' : 'unset'};\r\n            position: relative;\r\n            height: ${(media === null || media === void 0 ? void 0 : media.position) === 'fixed' ? `calc(${getSectionHeight(height)} + 200vh)` : getSectionHeight(height)};\r\n            width: 100%;\r\n         }\r\n         .video-background-${section.id} {\r\n            object-fit: ${(_a = media === null || media === void 0 ? void 0 : media.size) !== null && _a !== void 0 ? _a : 'cover'};\r\n            width: ${(media === null || media === void 0 ? void 0 : media.offsetX) === null || (media === null || media === void 0 ? void 0 : media.size) === 'cover' ? '100%' : 'auto'};\r\n            height: ${(media === null || media === void 0 ? void 0 : media.position) === 'fixed' ? '100vh' : '100%'};\r\n            position: ${(media === null || media === void 0 ? void 0 : media.position) === 'fixed' ? 'sticky' : 'relative'};\r\n            top: ${(media === null || media === void 0 ? void 0 : media.position) === 'fixed' ? '100vh' : 'unset'};\r\n            ${media && media.offsetX !== null && media.size !== 'cover' ? `margin-left: ${media.offsetX * 100}vw;` : ''}\r\n         }\r\n         .image-background-${section.id} {\r\n            object-fit: ${media === null || media === void 0 ? void 0 : media.size};\r\n            width: ${(media === null || media === void 0 ? void 0 : media.offsetX) === null ? '100%' : 'auto'};\r\n            height: ${(media === null || media === void 0 ? void 0 : media.position) === 'fixed' ? '100vh' : '100%'};\r\n            position: ${(media === null || media === void 0 ? void 0 : media.position) === 'fixed' ? 'sticky' : 'relative'};\r\n            top: ${(media === null || media === void 0 ? void 0 : media.position) === 'fixed' ? '100vh' : 'unset'};\r\n            ${media && media.offsetX !== null && media.size !== 'cover' ? `margin-left: ${media.offsetX * 100}vw;` : ''}\r\n         }\r\n        `);\n                })}\r\n      ${getSectionVisibilityStyles()}\r\n    ` })] }));\n};\nexports.Section = Section;\nfunction getSectionHeight(heightData) {\n    const { units, vhUnits, mode } = heightData;\n    if (mode === sdk_1.SectionHeightMode.ViewportHeightUnits)\n        return `${vhUnits}vh`;\n    if (mode === sdk_1.SectionHeightMode.ControlUnits)\n        return `${units * 100}vw`;\n    return '0';\n}\nexports.getSectionHeight = getSectionHeight;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9TZWN0aW9uL1NlY3Rpb24uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx3QkFBd0IsR0FBRyxlQUFlO0FBQzFDLHNCQUFzQixtQkFBTyxDQUFDLDhEQUFtQjtBQUNqRCxnQkFBZ0IsbUJBQU8sQ0FBQyw0Q0FBTztBQUMvQixnQ0FBZ0MsbUJBQU8sQ0FBQyw4RUFBa0I7QUFDMUQsY0FBYyxtQkFBTyxDQUFDLHFFQUFpQjtBQUN2QywwQkFBMEIsbUJBQU8sQ0FBQyw2R0FBZ0M7QUFDbEUsNkJBQTZCLG1CQUFPLENBQUMsbUpBQW1EO0FBQ3hGLGdCQUFnQixtQkFBTyxDQUFDLHdFQUFtQjtBQUMzQywyQkFBMkIsbUJBQU8sQ0FBQyxxR0FBcUI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix5QkFBeUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0EsWUFBWSwwQkFBMEI7QUFDdEM7QUFDQSxpSEFBaUg7QUFDakg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1osWUFBWTtBQUNaLHVCQUF1QjtBQUN2Qix5QkFBeUI7QUFDekI7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsK0NBQStDLHNFQUFzRSxnQ0FBZ0MsR0FBRztBQUN4Siw4REFBOEQsNENBQTRDLHNCQUFzQixXQUFXLHdYQUF3WCx5Q0FBeUMsV0FBVyw2Q0FBNkMseUNBQXlDLFdBQVcsMERBQTBELDJIQUEySCxXQUFXLGdEQUFnRCx5S0FBeUssR0FBRyxzQ0FBc0Msd01BQXdNLFdBQVcsR0FBRyxJQUFJLGdDQUFnQyxXQUFXLElBQUksZUFBZSw2Q0FBNkM7QUFDLzVDLFFBQVE7QUFDUjtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCLHNCQUFzQjtBQUN0QjtBQUNBLGdDQUFnQztBQUNoQztBQUNBLHVDQUF1QztBQUN2QyxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMseUJBQXlCO0FBQ3pCO0FBQ0Esc0JBQXNCLHFGQUFxRiwwQkFBMEI7QUFDckk7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QiwwQkFBMEI7QUFDMUIscUJBQXFCO0FBQ3JCLHNCQUFzQjtBQUN0Qix3QkFBd0I7QUFDeEIsbUJBQW1CO0FBQ25CLGNBQWMsNEVBQTRFLG9CQUFvQixHQUFHO0FBQ2pIO0FBQ0EsNkJBQTZCO0FBQzdCLDBCQUEwQjtBQUMxQixxQkFBcUI7QUFDckIsc0JBQXNCO0FBQ3RCLHdCQUF3QjtBQUN4QixtQkFBbUI7QUFDbkIsY0FBYyw0RUFBNEUsb0JBQW9CLEdBQUc7QUFDakg7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixRQUFRO0FBQ1IsT0FBTyxJQUFJO0FBQ1g7QUFDQSxlQUFlO0FBQ2Y7QUFDQSxZQUFZLHVCQUF1QjtBQUNuQztBQUNBLGtCQUFrQixRQUFRO0FBQzFCO0FBQ0Esa0JBQWtCLFlBQVk7QUFDOUI7QUFDQTtBQUNBLHdCQUF3QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9TZWN0aW9uL1NlY3Rpb24uanM/NGE4NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0U2VjdGlvbkhlaWdodCA9IGV4cG9ydHMuU2VjdGlvbiA9IHZvaWQgMDtcbmNvbnN0IGpzeF9ydW50aW1lXzEgPSByZXF1aXJlKFwicmVhY3QvanN4LXJ1bnRpbWVcIik7XG5jb25zdCByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xuY29uc3Qgc3R5bGVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwic3R5bGVkLWpzeC9zdHlsZVwiKSk7XG5jb25zdCBzZGtfMSA9IHJlcXVpcmUoXCJAY250cmwtc2l0ZS9zZGtcIik7XG5jb25zdCB1c2VDbnRybENvbnRleHRfMSA9IHJlcXVpcmUoXCIuLi8uLi9wcm92aWRlci91c2VDbnRybENvbnRleHRcIik7XG5jb25zdCB1c2VTZWN0aW9uUmVnaXN0cnlfMSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9BcnRpY2xlUmVjdE1hbmFnZXIvdXNlU2VjdGlvblJlZ2lzdHJ5XCIpO1xuY29uc3QgY29sb3JfMSA9IHJlcXVpcmUoXCJAY250cmwtc2l0ZS9jb2xvclwiKTtcbmNvbnN0IHVzZUxheW91dENvbnRleHRfMSA9IHJlcXVpcmUoXCIuLi91c2VMYXlvdXRDb250ZXh0XCIpO1xuY29uc3QgREVGQVVMVF9DT0xPUiA9ICdyZ2JhKDAsIDAsIDAsIDApJztcbmZ1bmN0aW9uIGlzVmlkZW9VcmwodXJsKSB7XG4gICAgY29uc3QgdmlkZW9FeHRlbnNpb25zID0gWycubXA0JywgJy53ZWJtJywgJy5vZ2cnXTtcbiAgICByZXR1cm4gdmlkZW9FeHRlbnNpb25zLnNvbWUoZXh0ID0+IHVybC50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKGV4dCkpO1xufVxuY29uc3QgU2VjdGlvbiA9ICh7IHNlY3Rpb24sIGRhdGEsIGNoaWxkcmVuIH0pID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaiwgX2ssIF9sLCBfbSwgX28sIF9wLCBfcTtcbiAgICBjb25zdCBpZCA9ICgwLCByZWFjdF8xLnVzZUlkKSgpO1xuICAgIGNvbnN0IHNlY3Rpb25SZWYgPSAoMCwgcmVhY3RfMS51c2VSZWYpKG51bGwpO1xuICAgIGNvbnN0IHsgbGF5b3V0cywgY3VzdG9tU2VjdGlvbnMgfSA9ICgwLCB1c2VDbnRybENvbnRleHRfMS51c2VDbnRybENvbnRleHQpKCk7XG4gICAgY29uc3QgbGF5b3V0ID0gKDAsIHVzZUxheW91dENvbnRleHRfMS51c2VMYXlvdXRDb250ZXh0KSgpO1xuICAgIGNvbnN0IGxheW91dFZhbHVlcyA9IFtzZWN0aW9uLmhlaWdodCwgc2VjdGlvbi5jb2xvciwgKF9hID0gc2VjdGlvbi5tZWRpYSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge31dO1xuICAgIGNvbnN0IFNlY3Rpb25Db21wb25lbnQgPSBzZWN0aW9uLm5hbWUgPyBjdXN0b21TZWN0aW9ucy5nZXRDb21wb25lbnQoc2VjdGlvbi5uYW1lKSA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBpc1ZpZGVvID0gbGF5b3V0ICYmICgoX2MgPSAoX2IgPSBzZWN0aW9uLm1lZGlhKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2JbbGF5b3V0XSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnVybCkgPyBpc1ZpZGVvVXJsKFN0cmluZygoX2UgPSAoX2QgPSBzZWN0aW9uLm1lZGlhKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RbbGF5b3V0XSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLnVybCkpIDogZmFsc2U7XG4gICAgY29uc3QgdmlkZW9SZWYgPSAoMCwgcmVhY3RfMS51c2VSZWYpKG51bGwpO1xuICAgICgwLCB1c2VTZWN0aW9uUmVnaXN0cnlfMS51c2VTZWN0aW9uUmVnaXN0cnkpKHNlY3Rpb24uaWQsIHNlY3Rpb25SZWYuY3VycmVudCk7XG4gICAgY29uc3QgZ2V0U2VjdGlvblZpc2liaWxpdHlTdHlsZXMgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBsYXlvdXRzXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5zdGFydHNXaXRoIC0gYi5zdGFydHNXaXRoKVxuICAgICAgICAgICAgLnJlZHVjZSgoYWNjLCBsYXlvdXQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzSGlkZGVuID0gc2VjdGlvbi5oaWRkZW5bbGF5b3V0LmlkXTtcbiAgICAgICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgICAke2FjY31cclxuICAgICAgICAgICR7KDAsIHNka18xLmdldExheW91dE1lZGlhUXVlcnkpKGxheW91dC5pZCwgbGF5b3V0cyl9IHtcclxuICAgICAgICAgICAgLnNlY3Rpb24tJHtzZWN0aW9uLmlkfSB7XHJcbiAgICAgICAgICAgICAgZGlzcGxheTogJHtpc0hpZGRlbiA/ICdub25lJyA6ICdibG9jayd9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9YDtcbiAgICAgICAgfSwgJycpO1xuICAgIH07XG4gICAgKDAsIHJlYWN0XzEudXNlRWZmZWN0KSgoKSA9PiB7XG4gICAgICAgIGlmICghaXNWaWRlbyB8fCAhc2VjdGlvblJlZi5jdXJyZW50IHx8ICF2aWRlb1JlZi5jdXJyZW50KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB2aWRlbyA9IHZpZGVvUmVmLmN1cnJlbnQ7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBzZWN0aW9uUmVmLmN1cnJlbnQ7XG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChbZW50cnldKSA9PiB7XG4gICAgICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICAgICAgICB2aWRlby5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICB2aWRlby5wbGF5KCkuY2F0Y2goKCkgPT4geyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZpZGVvLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgdmlkZW8ucGF1c2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgcm9vdDogbnVsbCxcbiAgICAgICAgICAgIHJvb3RNYXJnaW46ICc1MHB4JyxcbiAgICAgICAgICAgIHRocmVzaG9sZDogMFxuICAgICAgICB9KTtcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShzZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuICgpID0+IG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9LCBbaXNWaWRlb10pO1xuICAgIGlmIChTZWN0aW9uQ29tcG9uZW50KVxuICAgICAgICByZXR1cm4gKDAsIGpzeF9ydW50aW1lXzEuanN4KShcImRpdlwiLCB7IHJlZjogc2VjdGlvblJlZiwgY2hpbGRyZW46ICgwLCBqc3hfcnVudGltZV8xLmpzeCkoU2VjdGlvbkNvbXBvbmVudCwgeyBkYXRhOiBkYXRhLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkgfSk7XG4gICAgcmV0dXJuICgoMCwganN4X3J1bnRpbWVfMS5qc3hzKShqc3hfcnVudGltZV8xLkZyYWdtZW50LCB7IGNoaWxkcmVuOiBbKDAsIGpzeF9ydW50aW1lXzEuanN4cykoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGBzZWN0aW9uLSR7c2VjdGlvbi5pZH1gLCBpZDogc2VjdGlvbi5uYW1lLCByZWY6IHNlY3Rpb25SZWYsIGNoaWxkcmVuOiBbbGF5b3V0ICYmICgoX2cgPSAoX2YgPSBzZWN0aW9uLm1lZGlhKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ZbbGF5b3V0XSkgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLnVybCkgJiYgKChfaiA9IChfaCA9IHNlY3Rpb24ubWVkaWEpID09PSBudWxsIHx8IF9oID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaFtsYXlvdXRdKSA9PT0gbnVsbCB8fCBfaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ouc2l6ZSkgIT09ICdub25lJyAmJiBzZWN0aW9uUmVmLmN1cnJlbnQgJiYgKCgwLCBqc3hfcnVudGltZV8xLmpzeCkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGBzZWN0aW9uLWJhY2tncm91bmQtb3ZlcmxheS0ke3NlY3Rpb24uaWR9YCwgY2hpbGRyZW46ICgwLCBqc3hfcnVudGltZV8xLmpzeCkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGBzZWN0aW9uLWJhY2tncm91bmQtd3JhcHBlci0ke3NlY3Rpb24uaWR9YCwgY2hpbGRyZW46IGlzVmlkZW8gPyAoKDAsIGpzeF9ydW50aW1lXzEuanN4KShcInZpZGVvXCIsIHsgcmVmOiB2aWRlb1JlZiwgYXV0b1BsYXk6IHRydWUsIGxvb3A6IHRydWUsIG11dGVkOiB0cnVlLCBwbGF5c0lubGluZTogdHJ1ZSwgcHJlbG9hZDogXCJhdXRvXCIsIGNsYXNzTmFtZTogYHZpZGVvLWJhY2tncm91bmQtJHtzZWN0aW9uLmlkfWAsIGNoaWxkcmVuOiAoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwic291cmNlXCIsIHsgc3JjOiAoX20gPSAoX2wgPSAoX2sgPSBzZWN0aW9uLm1lZGlhKSA9PT0gbnVsbCB8fCBfayA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2tbbGF5b3V0XSkgPT09IG51bGwgfHwgX2wgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9sLnVybCkgIT09IG51bGwgJiYgX20gIT09IHZvaWQgMCA/IF9tIDogJycgfSkgfSkpIDogKCgwLCBqc3hfcnVudGltZV8xLmpzeCkoXCJpbWdcIiwgeyBzcmM6IChfcSA9IChfcCA9IChfbyA9IHNlY3Rpb24ubWVkaWEpID09PSBudWxsIHx8IF9vID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb1tsYXlvdXRdKSA9PT0gbnVsbCB8fCBfcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3AudXJsKSAhPT0gbnVsbCAmJiBfcSAhPT0gdm9pZCAwID8gX3EgOiAnJywgY2xhc3NOYW1lOiBgaW1hZ2UtYmFja2dyb3VuZC0ke3NlY3Rpb24uaWR9YCB9KSkgfSwgYHNlY3Rpb24tYmFja2dyb3VuZC13cmFwcGVyLSR7c2VjdGlvbi5pZH1gKSB9KSksIGNoaWxkcmVuXSB9KSwgKDAsIGpzeF9ydW50aW1lXzEuanN4KShzdHlsZV8xLmRlZmF1bHQsIHsgaWQ6IGlkLCBjaGlsZHJlbjogYFxyXG4gICAgICAkeygwLCBzZGtfMS5nZXRMYXlvdXRTdHlsZXMpKGxheW91dHMsIGxheW91dFZhbHVlcywgKFtoZWlnaHQsIGNvbG9yLCBtZWRpYV0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGBcclxuICAgICAgICAgLnNlY3Rpb24tJHtzZWN0aW9uLmlkfSB7XHJcbiAgICAgICAgICAgIGhlaWdodDogJHtnZXRTZWN0aW9uSGVpZ2h0KGhlaWdodCl9O1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7Y29sb3JfMS5DbnRybENvbG9yLnBhcnNlKGNvbG9yICE9PSBudWxsICYmIGNvbG9yICE9PSB2b2lkIDAgPyBjb2xvciA6IERFRkFVTFRfQ09MT1IpLmZtdCgncmdiYScpfTtcclxuICAgICAgICAgfVxyXG4gICAgICAgICAuc2VjdGlvbi1iYWNrZ3JvdW5kLW92ZXJsYXktJHtzZWN0aW9uLmlkfSB7XHJcbiAgICAgICAgICAgIGhlaWdodDogJHtnZXRTZWN0aW9uSGVpZ2h0KGhlaWdodCl9O1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgICBvdmVyZmxvdzogY2xpcDtcclxuICAgICAgICAgfVxyXG4gICAgICAgICAuc2VjdGlvbi1iYWNrZ3JvdW5kLXdyYXBwZXItJHtzZWN0aW9uLmlkfSB7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogJHsobWVkaWEgPT09IG51bGwgfHwgbWVkaWEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1lZGlhLnBvc2l0aW9uKSA9PT0gJ2ZpeGVkJyA/ICd0cmFuc2xhdGVZKC0xMDB2aCknIDogJ3Vuc2V0J307XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgICAgaGVpZ2h0OiAkeyhtZWRpYSA9PT0gbnVsbCB8fCBtZWRpYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWVkaWEucG9zaXRpb24pID09PSAnZml4ZWQnID8gYGNhbGMoJHtnZXRTZWN0aW9uSGVpZ2h0KGhlaWdodCl9ICsgMjAwdmgpYCA6IGdldFNlY3Rpb25IZWlnaHQoaGVpZ2h0KX07XHJcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIC52aWRlby1iYWNrZ3JvdW5kLSR7c2VjdGlvbi5pZH0ge1xyXG4gICAgICAgICAgICBvYmplY3QtZml0OiAkeyhfYSA9IG1lZGlhID09PSBudWxsIHx8IG1lZGlhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZWRpYS5zaXplKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnY292ZXInfTtcclxuICAgICAgICAgICAgd2lkdGg6ICR7KG1lZGlhID09PSBudWxsIHx8IG1lZGlhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZWRpYS5vZmZzZXRYKSA9PT0gbnVsbCB8fCAobWVkaWEgPT09IG51bGwgfHwgbWVkaWEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1lZGlhLnNpemUpID09PSAnY292ZXInID8gJzEwMCUnIDogJ2F1dG8nfTtcclxuICAgICAgICAgICAgaGVpZ2h0OiAkeyhtZWRpYSA9PT0gbnVsbCB8fCBtZWRpYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWVkaWEucG9zaXRpb24pID09PSAnZml4ZWQnID8gJzEwMHZoJyA6ICcxMDAlJ307XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiAkeyhtZWRpYSA9PT0gbnVsbCB8fCBtZWRpYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWVkaWEucG9zaXRpb24pID09PSAnZml4ZWQnID8gJ3N0aWNreScgOiAncmVsYXRpdmUnfTtcclxuICAgICAgICAgICAgdG9wOiAkeyhtZWRpYSA9PT0gbnVsbCB8fCBtZWRpYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWVkaWEucG9zaXRpb24pID09PSAnZml4ZWQnID8gJzEwMHZoJyA6ICd1bnNldCd9O1xyXG4gICAgICAgICAgICAke21lZGlhICYmIG1lZGlhLm9mZnNldFggIT09IG51bGwgJiYgbWVkaWEuc2l6ZSAhPT0gJ2NvdmVyJyA/IGBtYXJnaW4tbGVmdDogJHttZWRpYS5vZmZzZXRYICogMTAwfXZ3O2AgOiAnJ31cclxuICAgICAgICAgfVxyXG4gICAgICAgICAuaW1hZ2UtYmFja2dyb3VuZC0ke3NlY3Rpb24uaWR9IHtcclxuICAgICAgICAgICAgb2JqZWN0LWZpdDogJHttZWRpYSA9PT0gbnVsbCB8fCBtZWRpYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWVkaWEuc2l6ZX07XHJcbiAgICAgICAgICAgIHdpZHRoOiAkeyhtZWRpYSA9PT0gbnVsbCB8fCBtZWRpYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWVkaWEub2Zmc2V0WCkgPT09IG51bGwgPyAnMTAwJScgOiAnYXV0byd9O1xyXG4gICAgICAgICAgICBoZWlnaHQ6ICR7KG1lZGlhID09PSBudWxsIHx8IG1lZGlhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZWRpYS5wb3NpdGlvbikgPT09ICdmaXhlZCcgPyAnMTAwdmgnIDogJzEwMCUnfTtcclxuICAgICAgICAgICAgcG9zaXRpb246ICR7KG1lZGlhID09PSBudWxsIHx8IG1lZGlhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZWRpYS5wb3NpdGlvbikgPT09ICdmaXhlZCcgPyAnc3RpY2t5JyA6ICdyZWxhdGl2ZSd9O1xyXG4gICAgICAgICAgICB0b3A6ICR7KG1lZGlhID09PSBudWxsIHx8IG1lZGlhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZWRpYS5wb3NpdGlvbikgPT09ICdmaXhlZCcgPyAnMTAwdmgnIDogJ3Vuc2V0J307XHJcbiAgICAgICAgICAgICR7bWVkaWEgJiYgbWVkaWEub2Zmc2V0WCAhPT0gbnVsbCAmJiBtZWRpYS5zaXplICE9PSAnY292ZXInID8gYG1hcmdpbi1sZWZ0OiAke21lZGlhLm9mZnNldFggKiAxMDB9dnc7YCA6ICcnfVxyXG4gICAgICAgICB9XHJcbiAgICAgICAgYCk7XG4gICAgICAgICAgICAgICAgfSl9XHJcbiAgICAgICR7Z2V0U2VjdGlvblZpc2liaWxpdHlTdHlsZXMoKX1cclxuICAgIGAgfSldIH0pKTtcbn07XG5leHBvcnRzLlNlY3Rpb24gPSBTZWN0aW9uO1xuZnVuY3Rpb24gZ2V0U2VjdGlvbkhlaWdodChoZWlnaHREYXRhKSB7XG4gICAgY29uc3QgeyB1bml0cywgdmhVbml0cywgbW9kZSB9ID0gaGVpZ2h0RGF0YTtcbiAgICBpZiAobW9kZSA9PT0gc2RrXzEuU2VjdGlvbkhlaWdodE1vZGUuVmlld3BvcnRIZWlnaHRVbml0cylcbiAgICAgICAgcmV0dXJuIGAke3ZoVW5pdHN9dmhgO1xuICAgIGlmIChtb2RlID09PSBzZGtfMS5TZWN0aW9uSGVpZ2h0TW9kZS5Db250cm9sVW5pdHMpXG4gICAgICAgIHJldHVybiBgJHt1bml0cyAqIDEwMH12d2A7XG4gICAgcmV0dXJuICcwJztcbn1cbmV4cG9ydHMuZ2V0U2VjdGlvbkhlaWdodCA9IGdldFNlY3Rpb25IZWlnaHQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/Section/Section.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/Section/useSectionHeightMap.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/Section/useSectionHeightMap.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getSectionHeightMap = exports.useSectionHeightData = void 0;\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst CntrlContext_1 = __webpack_require__(/*! ../../provider/CntrlContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/CntrlContext.js\");\nconst Section_1 = __webpack_require__(/*! ./Section */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/Section/Section.js\");\nconst useSectionHeightData = (sectionId) => {\n    const sectionHeightContext = (0, react_1.useContext)(CntrlContext_1.CntrlContext);\n    const layouts = sectionHeightContext.layouts;\n    const sectionHeightData = sectionHeightContext.getSectionHeightData(sectionId);\n    return sectionHeightData ? getSectionHeightMap(sectionHeightData) : getDefaultHeightData(layouts);\n};\nexports.useSectionHeightData = useSectionHeightData;\nfunction getSectionHeightMap(sectionHeight) {\n    return Object.fromEntries(Object.entries(sectionHeight).map(([sectionId, heightData]) => [sectionId, (0, Section_1.getSectionHeight)(heightData)]));\n}\nexports.getSectionHeightMap = getSectionHeightMap;\nfunction getDefaultHeightData(layouts) {\n    return layouts.reduce((acc, layout) => (Object.assign(Object.assign({}, acc), { [layout.id]: '0' })), {});\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9TZWN0aW9uL3VzZVNlY3Rpb25IZWlnaHRNYXAuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMkJBQTJCLEdBQUcsNEJBQTRCO0FBQzFELGdCQUFnQixtQkFBTyxDQUFDLDRDQUFPO0FBQy9CLHVCQUF1QixtQkFBTyxDQUFDLHVHQUE2QjtBQUM1RCxrQkFBa0IsbUJBQU8sQ0FBQywwRkFBVztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0EsMEVBQTBFLFVBQVUsa0JBQWtCLE1BQU07QUFDNUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay1uZXh0anMvbGliL2NvbXBvbmVudHMvU2VjdGlvbi91c2VTZWN0aW9uSGVpZ2h0TWFwLmpzPzAzYTIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldFNlY3Rpb25IZWlnaHRNYXAgPSBleHBvcnRzLnVzZVNlY3Rpb25IZWlnaHREYXRhID0gdm9pZCAwO1xuY29uc3QgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbmNvbnN0IENudHJsQ29udGV4dF8xID0gcmVxdWlyZShcIi4uLy4uL3Byb3ZpZGVyL0NudHJsQ29udGV4dFwiKTtcbmNvbnN0IFNlY3Rpb25fMSA9IHJlcXVpcmUoXCIuL1NlY3Rpb25cIik7XG5jb25zdCB1c2VTZWN0aW9uSGVpZ2h0RGF0YSA9IChzZWN0aW9uSWQpID0+IHtcbiAgICBjb25zdCBzZWN0aW9uSGVpZ2h0Q29udGV4dCA9ICgwLCByZWFjdF8xLnVzZUNvbnRleHQpKENudHJsQ29udGV4dF8xLkNudHJsQ29udGV4dCk7XG4gICAgY29uc3QgbGF5b3V0cyA9IHNlY3Rpb25IZWlnaHRDb250ZXh0LmxheW91dHM7XG4gICAgY29uc3Qgc2VjdGlvbkhlaWdodERhdGEgPSBzZWN0aW9uSGVpZ2h0Q29udGV4dC5nZXRTZWN0aW9uSGVpZ2h0RGF0YShzZWN0aW9uSWQpO1xuICAgIHJldHVybiBzZWN0aW9uSGVpZ2h0RGF0YSA/IGdldFNlY3Rpb25IZWlnaHRNYXAoc2VjdGlvbkhlaWdodERhdGEpIDogZ2V0RGVmYXVsdEhlaWdodERhdGEobGF5b3V0cyk7XG59O1xuZXhwb3J0cy51c2VTZWN0aW9uSGVpZ2h0RGF0YSA9IHVzZVNlY3Rpb25IZWlnaHREYXRhO1xuZnVuY3Rpb24gZ2V0U2VjdGlvbkhlaWdodE1hcChzZWN0aW9uSGVpZ2h0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhzZWN0aW9uSGVpZ2h0KS5tYXAoKFtzZWN0aW9uSWQsIGhlaWdodERhdGFdKSA9PiBbc2VjdGlvbklkLCAoMCwgU2VjdGlvbl8xLmdldFNlY3Rpb25IZWlnaHQpKGhlaWdodERhdGEpXSkpO1xufVxuZXhwb3J0cy5nZXRTZWN0aW9uSGVpZ2h0TWFwID0gZ2V0U2VjdGlvbkhlaWdodE1hcDtcbmZ1bmN0aW9uIGdldERlZmF1bHRIZWlnaHREYXRhKGxheW91dHMpIHtcbiAgICByZXR1cm4gbGF5b3V0cy5yZWR1Y2UoKGFjYywgbGF5b3V0KSA9PiAoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBhY2MpLCB7IFtsYXlvdXQuaWRdOiAnMCcgfSkpLCB7fSk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/Section/useSectionHeightMap.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CodeEmbedItem/CodeEmbedItem.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CodeEmbedItem/CodeEmbedItem.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CodeEmbedItem = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst useCntrlContext_1 = __webpack_require__(/*! ../../../provider/useCntrlContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/useCntrlContext.js\");\nconst style_1 = __importDefault(__webpack_require__(/*! styled-jsx/style */ \"./node_modules/next/node_modules/styled-jsx/style.js\"));\nconst useRegisterResize_1 = __webpack_require__(/*! ../../../common/useRegisterResize */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useRegisterResize.js\");\nconst useItemAngle_1 = __webpack_require__(/*! ../useItemAngle */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemAngle.js\");\nconst LinkWrapper_1 = __webpack_require__(/*! ../LinkWrapper */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/LinkWrapper.js\");\nconst useCodeEmbedItem_1 = __webpack_require__(/*! ./useCodeEmbedItem */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CodeEmbedItem/useCodeEmbedItem.js\");\nconst stylesMap = {\n    [sdk_1.AreaAnchor.TopLeft]: {},\n    [sdk_1.AreaAnchor.TopCenter]: { justifyContent: 'center' },\n    [sdk_1.AreaAnchor.TopRight]: { justifyContent: 'flex-end' },\n    [sdk_1.AreaAnchor.MiddleLeft]: { alignItems: 'center' },\n    [sdk_1.AreaAnchor.MiddleCenter]: { justifyContent: 'center', alignItems: 'center' },\n    [sdk_1.AreaAnchor.MiddleRight]: { justifyContent: 'flex-end', alignItems: 'center' },\n    [sdk_1.AreaAnchor.BottomLeft]: { alignItems: 'flex-end' },\n    [sdk_1.AreaAnchor.BottomCenter]: { justifyContent: 'center', alignItems: 'flex-end' },\n    [sdk_1.AreaAnchor.BottomRight]: { justifyContent: 'flex-end', alignItems: 'flex-end' }\n};\nconst CodeEmbedItem = ({ item, sectionId, onResize, interactionCtrl, onVisibilityChange }) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n    const id = (0, react_1.useId)();\n    const { layouts, fonts } = (0, useCntrlContext_1.useCntrlContext)();\n    const fontGoogleTags = fonts === null || fonts === void 0 ? void 0 : fonts.google;\n    const fontAdobeTags = fonts === null || fonts === void 0 ? void 0 : fonts.adobe;\n    const fontCustomTags = new sdk_1.FontFaceGenerator((_a = fonts === null || fonts === void 0 ? void 0 : fonts.custom) !== null && _a !== void 0 ? _a : []).generate();\n    const { anchor, blur: itemBlur, opacity: itemOpacity } = (0, useCodeEmbedItem_1.useCodeEmbedItem)(item, sectionId);\n    const itemAngle = (0, useItemAngle_1.useItemAngle)(item, sectionId);\n    const { html } = item.commonParams;\n    const [ref, setRef] = (0, react_1.useState)(null);\n    (0, useRegisterResize_1.useRegisterResize)(ref, onResize);\n    const pos = stylesMap[anchor];\n    const layoutValues = [item.area, item.layoutParams];\n    const stateParams = interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.getState(['angle', 'blur', 'opacity']);\n    const blur = ((_c = (_b = stateParams === null || stateParams === void 0 ? void 0 : stateParams.styles) === null || _b === void 0 ? void 0 : _b.blur) !== null && _c !== void 0 ? _c : itemBlur);\n    const opacity = (_e = (_d = stateParams === null || stateParams === void 0 ? void 0 : stateParams.styles) === null || _d === void 0 ? void 0 : _d.opacity) !== null && _e !== void 0 ? _e : itemOpacity;\n    const angle = (_g = (_f = stateParams === null || stateParams === void 0 ? void 0 : stateParams.styles) === null || _f === void 0 ? void 0 : _f.angle) !== null && _g !== void 0 ? _g : itemAngle;\n    (0, react_1.useEffect)(() => {\n        if (!ref)\n            return;\n        const scripts = ref.querySelectorAll('script');\n        for (const script of scripts) {\n            const newScript = document.createElement('script');\n            for (const attr of script.getAttributeNames()) {\n                newScript.setAttribute(attr, script.getAttribute(attr));\n            }\n            newScript.textContent = script.textContent;\n            script.parentNode.removeChild(script);\n            ref.appendChild(newScript);\n        }\n    }, [item.commonParams.html]);\n    (0, react_1.useEffect)(() => {\n        if (!ref)\n            return;\n        const iframe = ref.querySelector(`[data-embed=\"${item.id}\"]`);\n        if (!iframe)\n            return;\n        const htmlWithStyles = `\r\n      ${fontGoogleTags}\r\n      ${fontAdobeTags}\r\n      <style>\r\n      ${fontCustomTags}\r\n        html, body {\r\n          height: 100%;\r\n          margin: 0 !important;\r\n          padding: 0 !important;\r\n        }\r\n      </style>\r\n      ${item.commonParams.html}\r\n    `;\n        iframe.srcdoc = htmlWithStyles;\n    }, [item.commonParams.html, item.commonParams.iframe, ref]);\n    const isInteractive = opacity !== 0;\n    (0, react_1.useEffect)(() => {\n        onVisibilityChange === null || onVisibilityChange === void 0 ? void 0 : onVisibilityChange(isInteractive);\n    }, [isInteractive, onVisibilityChange]);\n    return ((0, jsx_runtime_1.jsxs)(LinkWrapper_1.LinkWrapper, { url: (_h = item.link) === null || _h === void 0 ? void 0 : _h.url, target: (_j = item.link) === null || _j === void 0 ? void 0 : _j.target, children: [(0, jsx_runtime_1.jsx)(\"div\", { className: `embed-wrapper-${item.id}`, style: Object.assign(Object.assign(Object.assign(Object.assign({}, (angle !== undefined ? { transform: `rotate(${angle}deg) translateZ(0)` } : {})), (blur !== undefined ? { filter: `blur(${blur * 100}vw)` } : {})), (opacity !== undefined ? { opacity } : {})), { transition: (_k = stateParams === null || stateParams === void 0 ? void 0 : stateParams.transition) !== null && _k !== void 0 ? _k : 'none' }), ref: setRef, children: item.commonParams.iframe ? ((0, jsx_runtime_1.jsx)(\"iframe\", { \"data-embed\": item.id, className: `embed-${item.id}`, style: Object.assign(Object.assign({}, pos), { border: 'unset' }) })) : ((0, jsx_runtime_1.jsx)(\"div\", { className: `embed-${item.id}`, style: Object.assign({}, pos), dangerouslySetInnerHTML: { __html: html } })) }), (0, jsx_runtime_1.jsx)(style_1.default, { id: id, children: `\r\n      .embed-wrapper-${item.id} {\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n      .embed-${item.id} {\r\n        transform: ${item.commonParams.scale ? 'scale(var(--layout-deviation))' : 'none'};\r\n        transform-origin: top left;\r\n        z-index: 1;\r\n        border: none;\r\n      }\r\n      ${(0, sdk_1.getLayoutStyles)(layouts, layoutValues, ([area, layoutParams], exemplary) => {\n                    return (`\r\n          .embed-wrapper-${item.id} {\r\n            opacity: ${layoutParams.opacity};\r\n            transform: rotate(${area.angle}deg) translateZ(0);\r\n            filter: ${layoutParams.blur !== 0 ? `blur(${layoutParams.blur * 100}vw)` : 'unset'};\r\n          }\r\n          .embed-${item.id} {\r\n            width: ${item.commonParams.scale ? `${area.width * exemplary}px` : '100%'};\r\n            height: ${item.commonParams.scale ? `${area.height * exemplary}px` : '100%'};\r\n          }\r\n        `);\n                })}\r\n    ` })] }));\n};\nexports.CodeEmbedItem = CodeEmbedItem;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9Db2RlRW1iZWRJdGVtL0NvZGVFbWJlZEl0ZW0uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUI7QUFDckIsc0JBQXNCLG1CQUFPLENBQUMsOERBQW1CO0FBQ2pELGNBQWMsbUJBQU8sQ0FBQyxxRUFBaUI7QUFDdkMsZ0JBQWdCLG1CQUFPLENBQUMsNENBQU87QUFDL0IsMEJBQTBCLG1CQUFPLENBQUMsZ0hBQW1DO0FBQ3JFLGdDQUFnQyxtQkFBTyxDQUFDLDhFQUFrQjtBQUMxRCw0QkFBNEIsbUJBQU8sQ0FBQyxnSEFBbUM7QUFDdkUsdUJBQXVCLG1CQUFPLENBQUMsbUdBQWlCO0FBQ2hELHNCQUFzQixtQkFBTyxDQUFDLGlHQUFnQjtBQUM5QywyQkFBMkIsbUJBQU8sQ0FBQyx3SEFBb0I7QUFDdkQ7QUFDQSxrQ0FBa0M7QUFDbEMsb0NBQW9DLDBCQUEwQjtBQUM5RCxtQ0FBbUMsNEJBQTRCO0FBQy9ELHFDQUFxQyxzQkFBc0I7QUFDM0QsdUNBQXVDLGdEQUFnRDtBQUN2RixzQ0FBc0Msa0RBQWtEO0FBQ3hGLHFDQUFxQyx3QkFBd0I7QUFDN0QsdUNBQXVDLGtEQUFrRDtBQUN6RixzQ0FBc0M7QUFDdEM7QUFDQSx5QkFBeUIsZ0VBQWdFO0FBQ3pGO0FBQ0E7QUFDQSxZQUFZLGlCQUFpQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQSxZQUFZLCtDQUErQztBQUMzRDtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EseURBQXlELFFBQVE7QUFDakU7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsaUVBQWlFLHVMQUF1TCw0QkFBNEIsUUFBUSxvRUFBb0UsMkJBQTJCLHFCQUFxQixNQUFNLHNCQUFzQixJQUFJLDRCQUE0QixnQkFBZ0IsV0FBVyxPQUFPLElBQUksK0JBQStCLFVBQVUsSUFBSSxNQUFNLDZJQUE2SSx5RkFBeUYsMkNBQTJDLFFBQVEsd0NBQXdDLFVBQVUsaUJBQWlCLEdBQUcsc0NBQXNDLG9CQUFvQixRQUFRLDBCQUEwQixtQ0FBbUMsZ0JBQWdCLElBQUksNkNBQTZDO0FBQ3BrQyx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2YscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsMkJBQTJCO0FBQzNCLHVCQUF1QjtBQUN2QixnQ0FBZ0MsV0FBVztBQUMzQyxzQkFBc0Isa0NBQWtDLHdCQUF3QjtBQUNoRjtBQUNBLG1CQUFtQjtBQUNuQixxQkFBcUIsNkJBQTZCLHVCQUF1QjtBQUN6RSxzQkFBc0IsNkJBQTZCLHdCQUF3QjtBQUMzRTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLE9BQU8sSUFBSTtBQUNYO0FBQ0EscUJBQXFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9jb21wb25lbnRzL2l0ZW1zL0NvZGVFbWJlZEl0ZW0vQ29kZUVtYmVkSXRlbS5qcz84ODFhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db2RlRW1iZWRJdGVtID0gdm9pZCAwO1xuY29uc3QganN4X3J1bnRpbWVfMSA9IHJlcXVpcmUoXCJyZWFjdC9qc3gtcnVudGltZVwiKTtcbmNvbnN0IHNka18xID0gcmVxdWlyZShcIkBjbnRybC1zaXRlL3Nka1wiKTtcbmNvbnN0IHJlYWN0XzEgPSByZXF1aXJlKFwicmVhY3RcIik7XG5jb25zdCB1c2VDbnRybENvbnRleHRfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9wcm92aWRlci91c2VDbnRybENvbnRleHRcIik7XG5jb25zdCBzdHlsZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJzdHlsZWQtanN4L3N0eWxlXCIpKTtcbmNvbnN0IHVzZVJlZ2lzdGVyUmVzaXplXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tbW9uL3VzZVJlZ2lzdGVyUmVzaXplXCIpO1xuY29uc3QgdXNlSXRlbUFuZ2xlXzEgPSByZXF1aXJlKFwiLi4vdXNlSXRlbUFuZ2xlXCIpO1xuY29uc3QgTGlua1dyYXBwZXJfMSA9IHJlcXVpcmUoXCIuLi9MaW5rV3JhcHBlclwiKTtcbmNvbnN0IHVzZUNvZGVFbWJlZEl0ZW1fMSA9IHJlcXVpcmUoXCIuL3VzZUNvZGVFbWJlZEl0ZW1cIik7XG5jb25zdCBzdHlsZXNNYXAgPSB7XG4gICAgW3Nka18xLkFyZWFBbmNob3IuVG9wTGVmdF06IHt9LFxuICAgIFtzZGtfMS5BcmVhQW5jaG9yLlRvcENlbnRlcl06IHsganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInIH0sXG4gICAgW3Nka18xLkFyZWFBbmNob3IuVG9wUmlnaHRdOiB7IGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnIH0sXG4gICAgW3Nka18xLkFyZWFBbmNob3IuTWlkZGxlTGVmdF06IHsgYWxpZ25JdGVtczogJ2NlbnRlcicgfSxcbiAgICBbc2RrXzEuQXJlYUFuY2hvci5NaWRkbGVDZW50ZXJdOiB7IGp1c3RpZnlDb250ZW50OiAnY2VudGVyJywgYWxpZ25JdGVtczogJ2NlbnRlcicgfSxcbiAgICBbc2RrXzEuQXJlYUFuY2hvci5NaWRkbGVSaWdodF06IHsganVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCcsIGFsaWduSXRlbXM6ICdjZW50ZXInIH0sXG4gICAgW3Nka18xLkFyZWFBbmNob3IuQm90dG9tTGVmdF06IHsgYWxpZ25JdGVtczogJ2ZsZXgtZW5kJyB9LFxuICAgIFtzZGtfMS5BcmVhQW5jaG9yLkJvdHRvbUNlbnRlcl06IHsganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLCBhbGlnbkl0ZW1zOiAnZmxleC1lbmQnIH0sXG4gICAgW3Nka18xLkFyZWFBbmNob3IuQm90dG9tUmlnaHRdOiB7IGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnLCBhbGlnbkl0ZW1zOiAnZmxleC1lbmQnIH1cbn07XG5jb25zdCBDb2RlRW1iZWRJdGVtID0gKHsgaXRlbSwgc2VjdGlvbklkLCBvblJlc2l6ZSwgaW50ZXJhY3Rpb25DdHJsLCBvblZpc2liaWxpdHlDaGFuZ2UgfSkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaztcbiAgICBjb25zdCBpZCA9ICgwLCByZWFjdF8xLnVzZUlkKSgpO1xuICAgIGNvbnN0IHsgbGF5b3V0cywgZm9udHMgfSA9ICgwLCB1c2VDbnRybENvbnRleHRfMS51c2VDbnRybENvbnRleHQpKCk7XG4gICAgY29uc3QgZm9udEdvb2dsZVRhZ3MgPSBmb250cyA9PT0gbnVsbCB8fCBmb250cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZm9udHMuZ29vZ2xlO1xuICAgIGNvbnN0IGZvbnRBZG9iZVRhZ3MgPSBmb250cyA9PT0gbnVsbCB8fCBmb250cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZm9udHMuYWRvYmU7XG4gICAgY29uc3QgZm9udEN1c3RvbVRhZ3MgPSBuZXcgc2RrXzEuRm9udEZhY2VHZW5lcmF0b3IoKF9hID0gZm9udHMgPT09IG51bGwgfHwgZm9udHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZvbnRzLmN1c3RvbSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10pLmdlbmVyYXRlKCk7XG4gICAgY29uc3QgeyBhbmNob3IsIGJsdXI6IGl0ZW1CbHVyLCBvcGFjaXR5OiBpdGVtT3BhY2l0eSB9ID0gKDAsIHVzZUNvZGVFbWJlZEl0ZW1fMS51c2VDb2RlRW1iZWRJdGVtKShpdGVtLCBzZWN0aW9uSWQpO1xuICAgIGNvbnN0IGl0ZW1BbmdsZSA9ICgwLCB1c2VJdGVtQW5nbGVfMS51c2VJdGVtQW5nbGUpKGl0ZW0sIHNlY3Rpb25JZCk7XG4gICAgY29uc3QgeyBodG1sIH0gPSBpdGVtLmNvbW1vblBhcmFtcztcbiAgICBjb25zdCBbcmVmLCBzZXRSZWZdID0gKDAsIHJlYWN0XzEudXNlU3RhdGUpKG51bGwpO1xuICAgICgwLCB1c2VSZWdpc3RlclJlc2l6ZV8xLnVzZVJlZ2lzdGVyUmVzaXplKShyZWYsIG9uUmVzaXplKTtcbiAgICBjb25zdCBwb3MgPSBzdHlsZXNNYXBbYW5jaG9yXTtcbiAgICBjb25zdCBsYXlvdXRWYWx1ZXMgPSBbaXRlbS5hcmVhLCBpdGVtLmxheW91dFBhcmFtc107XG4gICAgY29uc3Qgc3RhdGVQYXJhbXMgPSBpbnRlcmFjdGlvbkN0cmwgPT09IG51bGwgfHwgaW50ZXJhY3Rpb25DdHJsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlcmFjdGlvbkN0cmwuZ2V0U3RhdGUoWydhbmdsZScsICdibHVyJywgJ29wYWNpdHknXSk7XG4gICAgY29uc3QgYmx1ciA9ICgoX2MgPSAoX2IgPSBzdGF0ZVBhcmFtcyA9PT0gbnVsbCB8fCBzdGF0ZVBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhdGVQYXJhbXMuc3R5bGVzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYmx1cikgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogaXRlbUJsdXIpO1xuICAgIGNvbnN0IG9wYWNpdHkgPSAoX2UgPSAoX2QgPSBzdGF0ZVBhcmFtcyA9PT0gbnVsbCB8fCBzdGF0ZVBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhdGVQYXJhbXMuc3R5bGVzKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Qub3BhY2l0eSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogaXRlbU9wYWNpdHk7XG4gICAgY29uc3QgYW5nbGUgPSAoX2cgPSAoX2YgPSBzdGF0ZVBhcmFtcyA9PT0gbnVsbCB8fCBzdGF0ZVBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhdGVQYXJhbXMuc3R5bGVzKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YuYW5nbGUpICE9PSBudWxsICYmIF9nICE9PSB2b2lkIDAgPyBfZyA6IGl0ZW1BbmdsZTtcbiAgICAoMCwgcmVhY3RfMS51c2VFZmZlY3QpKCgpID0+IHtcbiAgICAgICAgaWYgKCFyZWYpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHNjcmlwdHMgPSByZWYucXVlcnlTZWxlY3RvckFsbCgnc2NyaXB0Jyk7XG4gICAgICAgIGZvciAoY29uc3Qgc2NyaXB0IG9mIHNjcmlwdHMpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1NjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyIG9mIHNjcmlwdC5nZXRBdHRyaWJ1dGVOYW1lcygpKSB7XG4gICAgICAgICAgICAgICAgbmV3U2NyaXB0LnNldEF0dHJpYnV0ZShhdHRyLCBzY3JpcHQuZ2V0QXR0cmlidXRlKGF0dHIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld1NjcmlwdC50ZXh0Q29udGVudCA9IHNjcmlwdC50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIHNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgICByZWYuYXBwZW5kQ2hpbGQobmV3U2NyaXB0KTtcbiAgICAgICAgfVxuICAgIH0sIFtpdGVtLmNvbW1vblBhcmFtcy5odG1sXSk7XG4gICAgKDAsIHJlYWN0XzEudXNlRWZmZWN0KSgoKSA9PiB7XG4gICAgICAgIGlmICghcmVmKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBpZnJhbWUgPSByZWYucXVlcnlTZWxlY3RvcihgW2RhdGEtZW1iZWQ9XCIke2l0ZW0uaWR9XCJdYCk7XG4gICAgICAgIGlmICghaWZyYW1lKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBodG1sV2l0aFN0eWxlcyA9IGBcclxuICAgICAgJHtmb250R29vZ2xlVGFnc31cclxuICAgICAgJHtmb250QWRvYmVUYWdzfVxyXG4gICAgICA8c3R5bGU+XHJcbiAgICAgICR7Zm9udEN1c3RvbVRhZ3N9XHJcbiAgICAgICAgaHRtbCwgYm9keSB7XHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgICBtYXJnaW46IDAgIWltcG9ydGFudDtcclxuICAgICAgICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcclxuICAgICAgICB9XHJcbiAgICAgIDwvc3R5bGU+XHJcbiAgICAgICR7aXRlbS5jb21tb25QYXJhbXMuaHRtbH1cclxuICAgIGA7XG4gICAgICAgIGlmcmFtZS5zcmNkb2MgPSBodG1sV2l0aFN0eWxlcztcbiAgICB9LCBbaXRlbS5jb21tb25QYXJhbXMuaHRtbCwgaXRlbS5jb21tb25QYXJhbXMuaWZyYW1lLCByZWZdKTtcbiAgICBjb25zdCBpc0ludGVyYWN0aXZlID0gb3BhY2l0eSAhPT0gMDtcbiAgICAoMCwgcmVhY3RfMS51c2VFZmZlY3QpKCgpID0+IHtcbiAgICAgICAgb25WaXNpYmlsaXR5Q2hhbmdlID09PSBudWxsIHx8IG9uVmlzaWJpbGl0eUNoYW5nZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25WaXNpYmlsaXR5Q2hhbmdlKGlzSW50ZXJhY3RpdmUpO1xuICAgIH0sIFtpc0ludGVyYWN0aXZlLCBvblZpc2liaWxpdHlDaGFuZ2VdKTtcbiAgICByZXR1cm4gKCgwLCBqc3hfcnVudGltZV8xLmpzeHMpKExpbmtXcmFwcGVyXzEuTGlua1dyYXBwZXIsIHsgdXJsOiAoX2ggPSBpdGVtLmxpbmspID09PSBudWxsIHx8IF9oID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaC51cmwsIHRhcmdldDogKF9qID0gaXRlbS5saW5rKSA9PT0gbnVsbCB8fCBfaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2oudGFyZ2V0LCBjaGlsZHJlbjogWygwLCBqc3hfcnVudGltZV8xLmpzeCkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGBlbWJlZC13cmFwcGVyLSR7aXRlbS5pZH1gLCBzdHlsZTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgKGFuZ2xlICE9PSB1bmRlZmluZWQgPyB7IHRyYW5zZm9ybTogYHJvdGF0ZSgke2FuZ2xlfWRlZykgdHJhbnNsYXRlWigwKWAgfSA6IHt9KSksIChibHVyICE9PSB1bmRlZmluZWQgPyB7IGZpbHRlcjogYGJsdXIoJHtibHVyICogMTAwfXZ3KWAgfSA6IHt9KSksIChvcGFjaXR5ICE9PSB1bmRlZmluZWQgPyB7IG9wYWNpdHkgfSA6IHt9KSksIHsgdHJhbnNpdGlvbjogKF9rID0gc3RhdGVQYXJhbXMgPT09IG51bGwgfHwgc3RhdGVQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YXRlUGFyYW1zLnRyYW5zaXRpb24pICE9PSBudWxsICYmIF9rICE9PSB2b2lkIDAgPyBfayA6ICdub25lJyB9KSwgcmVmOiBzZXRSZWYsIGNoaWxkcmVuOiBpdGVtLmNvbW1vblBhcmFtcy5pZnJhbWUgPyAoKDAsIGpzeF9ydW50aW1lXzEuanN4KShcImlmcmFtZVwiLCB7IFwiZGF0YS1lbWJlZFwiOiBpdGVtLmlkLCBjbGFzc05hbWU6IGBlbWJlZC0ke2l0ZW0uaWR9YCwgc3R5bGU6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcG9zKSwgeyBib3JkZXI6ICd1bnNldCcgfSkgfSkpIDogKCgwLCBqc3hfcnVudGltZV8xLmpzeCkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGBlbWJlZC0ke2l0ZW0uaWR9YCwgc3R5bGU6IE9iamVjdC5hc3NpZ24oe30sIHBvcyksIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogaHRtbCB9IH0pKSB9KSwgKDAsIGpzeF9ydW50aW1lXzEuanN4KShzdHlsZV8xLmRlZmF1bHQsIHsgaWQ6IGlkLCBjaGlsZHJlbjogYFxyXG4gICAgICAuZW1iZWQtd3JhcHBlci0ke2l0ZW0uaWR9IHtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICB9XHJcbiAgICAgIC5lbWJlZC0ke2l0ZW0uaWR9IHtcclxuICAgICAgICB0cmFuc2Zvcm06ICR7aXRlbS5jb21tb25QYXJhbXMuc2NhbGUgPyAnc2NhbGUodmFyKC0tbGF5b3V0LWRldmlhdGlvbikpJyA6ICdub25lJ307XHJcbiAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogdG9wIGxlZnQ7XHJcbiAgICAgICAgei1pbmRleDogMTtcclxuICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgIH1cclxuICAgICAgJHsoMCwgc2RrXzEuZ2V0TGF5b3V0U3R5bGVzKShsYXlvdXRzLCBsYXlvdXRWYWx1ZXMsIChbYXJlYSwgbGF5b3V0UGFyYW1zXSwgZXhlbXBsYXJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoYFxyXG4gICAgICAgICAgLmVtYmVkLXdyYXBwZXItJHtpdGVtLmlkfSB7XHJcbiAgICAgICAgICAgIG9wYWNpdHk6ICR7bGF5b3V0UGFyYW1zLm9wYWNpdHl9O1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgke2FyZWEuYW5nbGV9ZGVnKSB0cmFuc2xhdGVaKDApO1xyXG4gICAgICAgICAgICBmaWx0ZXI6ICR7bGF5b3V0UGFyYW1zLmJsdXIgIT09IDAgPyBgYmx1cigke2xheW91dFBhcmFtcy5ibHVyICogMTAwfXZ3KWAgOiAndW5zZXQnfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5lbWJlZC0ke2l0ZW0uaWR9IHtcclxuICAgICAgICAgICAgd2lkdGg6ICR7aXRlbS5jb21tb25QYXJhbXMuc2NhbGUgPyBgJHthcmVhLndpZHRoICogZXhlbXBsYXJ5fXB4YCA6ICcxMDAlJ307XHJcbiAgICAgICAgICAgIGhlaWdodDogJHtpdGVtLmNvbW1vblBhcmFtcy5zY2FsZSA/IGAke2FyZWEuaGVpZ2h0ICogZXhlbXBsYXJ5fXB4YCA6ICcxMDAlJ307XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgYCk7XG4gICAgICAgICAgICAgICAgfSl9XHJcbiAgICBgIH0pXSB9KSk7XG59O1xuZXhwb3J0cy5Db2RlRW1iZWRJdGVtID0gQ29kZUVtYmVkSXRlbTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CodeEmbedItem/CodeEmbedItem.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CodeEmbedItem/useCodeEmbedItem.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CodeEmbedItem/useCodeEmbedItem.js ***!
  \****************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useCodeEmbedItem = void 0;\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst useLayoutContext_1 = __webpack_require__(/*! ../../useLayoutContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/useLayoutContext.js\");\nconst useKeyframeValue_1 = __webpack_require__(/*! ../../../common/useKeyframeValue */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useKeyframeValue.js\");\nfunction useCodeEmbedItem(item, sectionId) {\n    const layoutId = (0, useLayoutContext_1.useLayoutContext)();\n    const blur = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.Blur, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'blur' in layoutParams ? layoutParams.blur : 0;\n    }, (animator, scroll, value) => value !== undefined ? animator.getBlur({ blur: value }, scroll).blur : undefined, sectionId, [layoutId]);\n    const opacity = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.Opacity, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'opacity' in layoutParams ? layoutParams.opacity : 1;\n    }, (animator, scroll, value) => value !== undefined ? animator.getOpacity({ opacity: value }, scroll).opacity : undefined, sectionId, [layoutId]);\n    const anchor = layoutId && 'areaAnchor' in item.layoutParams[layoutId] ? item.layoutParams[layoutId].areaAnchor : sdk_1.AreaAnchor.TopLeft;\n    return { anchor, blur, opacity };\n}\nexports.useCodeEmbedItem = useCodeEmbedItem;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9Db2RlRW1iZWRJdGVtL3VzZUNvZGVFbWJlZEl0ZW0uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsd0JBQXdCO0FBQ3hCLGNBQWMsbUJBQU8sQ0FBQyxxRUFBaUI7QUFDdkMsMkJBQTJCLG1CQUFPLENBQUMsd0dBQXdCO0FBQzNELDJCQUEyQixtQkFBTyxDQUFDLDhHQUFrQztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssd0VBQXdFLGFBQWE7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssMkVBQTJFLGdCQUFnQjtBQUNoRztBQUNBLGFBQWE7QUFDYjtBQUNBLHdCQUF3QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9Db2RlRW1iZWRJdGVtL3VzZUNvZGVFbWJlZEl0ZW0uanM/ZGQ2OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudXNlQ29kZUVtYmVkSXRlbSA9IHZvaWQgMDtcbmNvbnN0IHNka18xID0gcmVxdWlyZShcIkBjbnRybC1zaXRlL3Nka1wiKTtcbmNvbnN0IHVzZUxheW91dENvbnRleHRfMSA9IHJlcXVpcmUoXCIuLi8uLi91c2VMYXlvdXRDb250ZXh0XCIpO1xuY29uc3QgdXNlS2V5ZnJhbWVWYWx1ZV8xID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbW1vbi91c2VLZXlmcmFtZVZhbHVlXCIpO1xuZnVuY3Rpb24gdXNlQ29kZUVtYmVkSXRlbShpdGVtLCBzZWN0aW9uSWQpIHtcbiAgICBjb25zdCBsYXlvdXRJZCA9ICgwLCB1c2VMYXlvdXRDb250ZXh0XzEudXNlTGF5b3V0Q29udGV4dCkoKTtcbiAgICBjb25zdCBibHVyID0gKDAsIHVzZUtleWZyYW1lVmFsdWVfMS51c2VLZXlmcmFtZVZhbHVlKShpdGVtLCBzZGtfMS5LZXlmcmFtZVR5cGUuQmx1ciwgKGl0ZW0sIGxheW91dElkKSA9PiB7XG4gICAgICAgIGlmICghbGF5b3V0SWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGxheW91dFBhcmFtcyA9IGl0ZW0ubGF5b3V0UGFyYW1zW2xheW91dElkXTtcbiAgICAgICAgcmV0dXJuICdibHVyJyBpbiBsYXlvdXRQYXJhbXMgPyBsYXlvdXRQYXJhbXMuYmx1ciA6IDA7XG4gICAgfSwgKGFuaW1hdG9yLCBzY3JvbGwsIHZhbHVlKSA9PiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gYW5pbWF0b3IuZ2V0Qmx1cih7IGJsdXI6IHZhbHVlIH0sIHNjcm9sbCkuYmx1ciA6IHVuZGVmaW5lZCwgc2VjdGlvbklkLCBbbGF5b3V0SWRdKTtcbiAgICBjb25zdCBvcGFjaXR5ID0gKDAsIHVzZUtleWZyYW1lVmFsdWVfMS51c2VLZXlmcmFtZVZhbHVlKShpdGVtLCBzZGtfMS5LZXlmcmFtZVR5cGUuT3BhY2l0eSwgKGl0ZW0sIGxheW91dElkKSA9PiB7XG4gICAgICAgIGlmICghbGF5b3V0SWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGxheW91dFBhcmFtcyA9IGl0ZW0ubGF5b3V0UGFyYW1zW2xheW91dElkXTtcbiAgICAgICAgcmV0dXJuICdvcGFjaXR5JyBpbiBsYXlvdXRQYXJhbXMgPyBsYXlvdXRQYXJhbXMub3BhY2l0eSA6IDE7XG4gICAgfSwgKGFuaW1hdG9yLCBzY3JvbGwsIHZhbHVlKSA9PiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gYW5pbWF0b3IuZ2V0T3BhY2l0eSh7IG9wYWNpdHk6IHZhbHVlIH0sIHNjcm9sbCkub3BhY2l0eSA6IHVuZGVmaW5lZCwgc2VjdGlvbklkLCBbbGF5b3V0SWRdKTtcbiAgICBjb25zdCBhbmNob3IgPSBsYXlvdXRJZCAmJiAnYXJlYUFuY2hvcicgaW4gaXRlbS5sYXlvdXRQYXJhbXNbbGF5b3V0SWRdID8gaXRlbS5sYXlvdXRQYXJhbXNbbGF5b3V0SWRdLmFyZWFBbmNob3IgOiBzZGtfMS5BcmVhQW5jaG9yLlRvcExlZnQ7XG4gICAgcmV0dXJuIHsgYW5jaG9yLCBibHVyLCBvcGFjaXR5IH07XG59XG5leHBvcnRzLnVzZUNvZGVFbWJlZEl0ZW0gPSB1c2VDb2RlRW1iZWRJdGVtO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CodeEmbedItem/useCodeEmbedItem.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/ComponentItem/ComponentItem.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/ComponentItem/ComponentItem.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ComponentItem = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst style_1 = __importDefault(__webpack_require__(/*! styled-jsx/style */ \"./node_modules/next/node_modules/styled-jsx/style.js\"));\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst useCntrlContext_1 = __webpack_require__(/*! ../../../provider/useCntrlContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/useCntrlContext.js\");\nconst useComponentItem_1 = __webpack_require__(/*! ./useComponentItem */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/ComponentItem/useComponentItem.js\");\nconst useItemAngle_1 = __webpack_require__(/*! ../useItemAngle */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemAngle.js\");\nconst useRegisterResize_1 = __webpack_require__(/*! ../../../common/useRegisterResize */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useRegisterResize.js\");\nconst getStyleFromItemStateAndParams_1 = __webpack_require__(/*! ../../../utils/getStyleFromItemStateAndParams */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getStyleFromItemStateAndParams.js\");\nconst useLayoutContext_1 = __webpack_require__(/*! ../../useLayoutContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/useLayoutContext.js\");\nconst ComponentItem = ({ item, sectionId, onResize, interactionCtrl }) => {\n    var _a, _b, _c, _d;\n    const sdk = (0, useCntrlContext_1.useCntrlContext)();\n    const { layouts } = sdk;\n    const itemAngle = (0, useItemAngle_1.useItemAngle)(item, sectionId);\n    const layout = (0, useLayoutContext_1.useLayoutContext)();\n    const layoutValues = [item.area, item.layoutParams];\n    const component = sdk.getComponent(item.commonParams.componentId);\n    const [ref, setRef] = (0, react_1.useState)(null);\n    const { opacity: itemOpacity, blur: itemBlur } = (0, useComponentItem_1.useComponentItem)(item, sectionId);\n    (0, useRegisterResize_1.useRegisterResize)(ref, onResize);\n    const stateParams = interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.getState(['opacity', 'angle', 'blur']);\n    const angle = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_a = stateParams === null || stateParams === void 0 ? void 0 : stateParams.styles) === null || _a === void 0 ? void 0 : _a.angle, itemAngle);\n    const opacity = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_b = stateParams === null || stateParams === void 0 ? void 0 : stateParams.styles) === null || _b === void 0 ? void 0 : _b.opacity, itemOpacity);\n    const blur = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_c = stateParams === null || stateParams === void 0 ? void 0 : stateParams.styles) === null || _c === void 0 ? void 0 : _c.blur, itemBlur);\n    const Element = component ? component.element : undefined;\n    const parameters = layout ? item.layoutParams[layout].parameters : undefined;\n    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(\"div\", { className: `custom-component-${item.id}`, ref: setRef, style: Object.assign(Object.assign(Object.assign(Object.assign({}, (opacity !== undefined ? { opacity } : {})), (angle !== undefined ? { transform: `rotate(${angle}deg) translateZ(0)` } : {})), (blur !== undefined ? { filter: `blur(${blur * 100}vw)` } : {})), { transition: (_d = stateParams === null || stateParams === void 0 ? void 0 : stateParams.transition) !== null && _d !== void 0 ? _d : 'none' }), children: parameters && Element && ((0, jsx_runtime_1.jsx)(Element, Object.assign({ content: item.commonParams.content }, parameters))) }), (0, jsx_runtime_1.jsx)(style_1.default, { id: item.id, children: `\r\n      .custom-component-${item.id} {\r\n        width: 100%;\r\n        height: 100%;\r\n        pointer-events: auto;\r\n      }\r\n      ${(0, sdk_1.getLayoutStyles)(layouts, layoutValues, ([area, layoutParams]) => {\n                    return (`\r\n          .custom-component-${item.id} {\r\n            transform: rotate(${area.angle}deg) translateZ(0);\r\n            opacity: ${layoutParams.opacity};\r\n            filter: blur(${layoutParams.blur}vw);\r\n          }\r\n        `);\n                })}` })] }));\n};\nexports.ComponentItem = ComponentItem;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9Db21wb25lbnRJdGVtL0NvbXBvbmVudEl0ZW0uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUI7QUFDckIsc0JBQXNCLG1CQUFPLENBQUMsOERBQW1CO0FBQ2pELGdDQUFnQyxtQkFBTyxDQUFDLDhFQUFrQjtBQUMxRCxjQUFjLG1CQUFPLENBQUMscUVBQWlCO0FBQ3ZDLGdCQUFnQixtQkFBTyxDQUFDLDRDQUFPO0FBQy9CLDBCQUEwQixtQkFBTyxDQUFDLGdIQUFtQztBQUNyRSwyQkFBMkIsbUJBQU8sQ0FBQyx3SEFBb0I7QUFDdkQsdUJBQXVCLG1CQUFPLENBQUMsbUdBQWlCO0FBQ2hELDRCQUE0QixtQkFBTyxDQUFDLGdIQUFtQztBQUN2RSx5Q0FBeUMsbUJBQU8sQ0FBQyx3SUFBK0M7QUFDaEcsMkJBQTJCLG1CQUFPLENBQUMsd0dBQXdCO0FBQzNELHlCQUF5Qiw0Q0FBNEM7QUFDckU7QUFDQTtBQUNBLFlBQVksVUFBVTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1Q0FBdUM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsMkNBQTJDLCtCQUErQixRQUFRLGlGQUFpRiw2QkFBNkIsVUFBVSxJQUFJLDZCQUE2QixxQkFBcUIsTUFBTSxzQkFBc0IsSUFBSSw0QkFBNEIsZ0JBQWdCLFdBQVcsT0FBTyxJQUFJLE1BQU0sNklBQTZJLHVGQUF1RixvQ0FBb0MsaUJBQWlCLDZDQUE2QztBQUM1dUIsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsOEJBQThCO0FBQzlCLGdDQUFnQyxXQUFXO0FBQzNDLHVCQUF1QjtBQUN2QiwyQkFBMkIsa0JBQWtCO0FBQzdDO0FBQ0E7QUFDQSxpQkFBaUIsRUFBRSxHQUFHLElBQUk7QUFDMUI7QUFDQSxxQkFBcUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay1uZXh0anMvbGliL2NvbXBvbmVudHMvaXRlbXMvQ29tcG9uZW50SXRlbS9Db21wb25lbnRJdGVtLmpzP2M0YTkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNvbXBvbmVudEl0ZW0gPSB2b2lkIDA7XG5jb25zdCBqc3hfcnVudGltZV8xID0gcmVxdWlyZShcInJlYWN0L2pzeC1ydW50aW1lXCIpO1xuY29uc3Qgc3R5bGVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwic3R5bGVkLWpzeC9zdHlsZVwiKSk7XG5jb25zdCBzZGtfMSA9IHJlcXVpcmUoXCJAY250cmwtc2l0ZS9zZGtcIik7XG5jb25zdCByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xuY29uc3QgdXNlQ250cmxDb250ZXh0XzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vcHJvdmlkZXIvdXNlQ250cmxDb250ZXh0XCIpO1xuY29uc3QgdXNlQ29tcG9uZW50SXRlbV8xID0gcmVxdWlyZShcIi4vdXNlQ29tcG9uZW50SXRlbVwiKTtcbmNvbnN0IHVzZUl0ZW1BbmdsZV8xID0gcmVxdWlyZShcIi4uL3VzZUl0ZW1BbmdsZVwiKTtcbmNvbnN0IHVzZVJlZ2lzdGVyUmVzaXplXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tbW9uL3VzZVJlZ2lzdGVyUmVzaXplXCIpO1xuY29uc3QgZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zXCIpO1xuY29uc3QgdXNlTGF5b3V0Q29udGV4dF8xID0gcmVxdWlyZShcIi4uLy4uL3VzZUxheW91dENvbnRleHRcIik7XG5jb25zdCBDb21wb25lbnRJdGVtID0gKHsgaXRlbSwgc2VjdGlvbklkLCBvblJlc2l6ZSwgaW50ZXJhY3Rpb25DdHJsIH0pID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgY29uc3Qgc2RrID0gKDAsIHVzZUNudHJsQ29udGV4dF8xLnVzZUNudHJsQ29udGV4dCkoKTtcbiAgICBjb25zdCB7IGxheW91dHMgfSA9IHNkaztcbiAgICBjb25zdCBpdGVtQW5nbGUgPSAoMCwgdXNlSXRlbUFuZ2xlXzEudXNlSXRlbUFuZ2xlKShpdGVtLCBzZWN0aW9uSWQpO1xuICAgIGNvbnN0IGxheW91dCA9ICgwLCB1c2VMYXlvdXRDb250ZXh0XzEudXNlTGF5b3V0Q29udGV4dCkoKTtcbiAgICBjb25zdCBsYXlvdXRWYWx1ZXMgPSBbaXRlbS5hcmVhLCBpdGVtLmxheW91dFBhcmFtc107XG4gICAgY29uc3QgY29tcG9uZW50ID0gc2RrLmdldENvbXBvbmVudChpdGVtLmNvbW1vblBhcmFtcy5jb21wb25lbnRJZCk7XG4gICAgY29uc3QgW3JlZiwgc2V0UmVmXSA9ICgwLCByZWFjdF8xLnVzZVN0YXRlKShudWxsKTtcbiAgICBjb25zdCB7IG9wYWNpdHk6IGl0ZW1PcGFjaXR5LCBibHVyOiBpdGVtQmx1ciB9ID0gKDAsIHVzZUNvbXBvbmVudEl0ZW1fMS51c2VDb21wb25lbnRJdGVtKShpdGVtLCBzZWN0aW9uSWQpO1xuICAgICgwLCB1c2VSZWdpc3RlclJlc2l6ZV8xLnVzZVJlZ2lzdGVyUmVzaXplKShyZWYsIG9uUmVzaXplKTtcbiAgICBjb25zdCBzdGF0ZVBhcmFtcyA9IGludGVyYWN0aW9uQ3RybCA9PT0gbnVsbCB8fCBpbnRlcmFjdGlvbkN0cmwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyYWN0aW9uQ3RybC5nZXRTdGF0ZShbJ29wYWNpdHknLCAnYW5nbGUnLCAnYmx1ciddKTtcbiAgICBjb25zdCBhbmdsZSA9ICgwLCBnZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXNfMS5nZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXMpKChfYSA9IHN0YXRlUGFyYW1zID09PSBudWxsIHx8IHN0YXRlUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdGF0ZVBhcmFtcy5zdHlsZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hbmdsZSwgaXRlbUFuZ2xlKTtcbiAgICBjb25zdCBvcGFjaXR5ID0gKDAsIGdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtc18xLmdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtcykoKF9iID0gc3RhdGVQYXJhbXMgPT09IG51bGwgfHwgc3RhdGVQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YXRlUGFyYW1zLnN0eWxlcykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLm9wYWNpdHksIGl0ZW1PcGFjaXR5KTtcbiAgICBjb25zdCBibHVyID0gKDAsIGdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtc18xLmdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtcykoKF9jID0gc3RhdGVQYXJhbXMgPT09IG51bGwgfHwgc3RhdGVQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YXRlUGFyYW1zLnN0eWxlcykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmJsdXIsIGl0ZW1CbHVyKTtcbiAgICBjb25zdCBFbGVtZW50ID0gY29tcG9uZW50ID8gY29tcG9uZW50LmVsZW1lbnQgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcGFyYW1ldGVycyA9IGxheW91dCA/IGl0ZW0ubGF5b3V0UGFyYW1zW2xheW91dF0ucGFyYW1ldGVycyA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gKCgwLCBqc3hfcnVudGltZV8xLmpzeHMpKGpzeF9ydW50aW1lXzEuRnJhZ21lbnQsIHsgY2hpbGRyZW46IFsoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBgY3VzdG9tLWNvbXBvbmVudC0ke2l0ZW0uaWR9YCwgcmVmOiBzZXRSZWYsIHN0eWxlOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCAob3BhY2l0eSAhPT0gdW5kZWZpbmVkID8geyBvcGFjaXR5IH0gOiB7fSkpLCAoYW5nbGUgIT09IHVuZGVmaW5lZCA/IHsgdHJhbnNmb3JtOiBgcm90YXRlKCR7YW5nbGV9ZGVnKSB0cmFuc2xhdGVaKDApYCB9IDoge30pKSwgKGJsdXIgIT09IHVuZGVmaW5lZCA/IHsgZmlsdGVyOiBgYmx1cigke2JsdXIgKiAxMDB9dncpYCB9IDoge30pKSwgeyB0cmFuc2l0aW9uOiAoX2QgPSBzdGF0ZVBhcmFtcyA9PT0gbnVsbCB8fCBzdGF0ZVBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhdGVQYXJhbXMudHJhbnNpdGlvbikgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogJ25vbmUnIH0pLCBjaGlsZHJlbjogcGFyYW1ldGVycyAmJiBFbGVtZW50ICYmICgoMCwganN4X3J1bnRpbWVfMS5qc3gpKEVsZW1lbnQsIE9iamVjdC5hc3NpZ24oeyBjb250ZW50OiBpdGVtLmNvbW1vblBhcmFtcy5jb250ZW50IH0sIHBhcmFtZXRlcnMpKSkgfSksICgwLCBqc3hfcnVudGltZV8xLmpzeCkoc3R5bGVfMS5kZWZhdWx0LCB7IGlkOiBpdGVtLmlkLCBjaGlsZHJlbjogYFxyXG4gICAgICAuY3VzdG9tLWNvbXBvbmVudC0ke2l0ZW0uaWR9IHtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG87XHJcbiAgICAgIH1cclxuICAgICAgJHsoMCwgc2RrXzEuZ2V0TGF5b3V0U3R5bGVzKShsYXlvdXRzLCBsYXlvdXRWYWx1ZXMsIChbYXJlYSwgbGF5b3V0UGFyYW1zXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGBcclxuICAgICAgICAgIC5jdXN0b20tY29tcG9uZW50LSR7aXRlbS5pZH0ge1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgke2FyZWEuYW5nbGV9ZGVnKSB0cmFuc2xhdGVaKDApO1xyXG4gICAgICAgICAgICBvcGFjaXR5OiAke2xheW91dFBhcmFtcy5vcGFjaXR5fTtcclxuICAgICAgICAgICAgZmlsdGVyOiBibHVyKCR7bGF5b3V0UGFyYW1zLmJsdXJ9dncpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIGApO1xuICAgICAgICAgICAgICAgIH0pfWAgfSldIH0pKTtcbn07XG5leHBvcnRzLkNvbXBvbmVudEl0ZW0gPSBDb21wb25lbnRJdGVtO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/ComponentItem/ComponentItem.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/ComponentItem/useComponentItem.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/ComponentItem/useComponentItem.js ***!
  \****************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useComponentItem = void 0;\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst useKeyframeValue_1 = __webpack_require__(/*! ../../../common/useKeyframeValue */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useKeyframeValue.js\");\nconst useLayoutContext_1 = __webpack_require__(/*! ../../useLayoutContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/useLayoutContext.js\");\nfunction useComponentItem(item, sectionId) {\n    const layoutId = (0, useLayoutContext_1.useLayoutContext)();\n    const opacity = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.Opacity, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'opacity' in layoutParams ? layoutParams.opacity : 1;\n    }, (animator, scroll, value) => value !== undefined ? animator.getOpacity({ opacity: value }, scroll).opacity : undefined, sectionId, [layoutId]);\n    const blur = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.Blur, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'blur' in layoutParams ? layoutParams.blur : 0;\n    }, (animator, scroll, value) => value !== undefined ? animator.getBlur({ blur: value }, scroll).blur : undefined, sectionId, [layoutId]);\n    return {\n        opacity,\n        blur\n    };\n}\nexports.useComponentItem = useComponentItem;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9Db21wb25lbnRJdGVtL3VzZUNvbXBvbmVudEl0ZW0uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsd0JBQXdCO0FBQ3hCLGNBQWMsbUJBQU8sQ0FBQyxxRUFBaUI7QUFDdkMsMkJBQTJCLG1CQUFPLENBQUMsOEdBQWtDO0FBQ3JFLDJCQUEyQixtQkFBTyxDQUFDLHdHQUF3QjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssMkVBQTJFLGdCQUFnQjtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyx3RUFBd0UsYUFBYTtBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9jb21wb25lbnRzL2l0ZW1zL0NvbXBvbmVudEl0ZW0vdXNlQ29tcG9uZW50SXRlbS5qcz85Yjc2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy51c2VDb21wb25lbnRJdGVtID0gdm9pZCAwO1xuY29uc3Qgc2RrXzEgPSByZXF1aXJlKFwiQGNudHJsLXNpdGUvc2RrXCIpO1xuY29uc3QgdXNlS2V5ZnJhbWVWYWx1ZV8xID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbW1vbi91c2VLZXlmcmFtZVZhbHVlXCIpO1xuY29uc3QgdXNlTGF5b3V0Q29udGV4dF8xID0gcmVxdWlyZShcIi4uLy4uL3VzZUxheW91dENvbnRleHRcIik7XG5mdW5jdGlvbiB1c2VDb21wb25lbnRJdGVtKGl0ZW0sIHNlY3Rpb25JZCkge1xuICAgIGNvbnN0IGxheW91dElkID0gKDAsIHVzZUxheW91dENvbnRleHRfMS51c2VMYXlvdXRDb250ZXh0KSgpO1xuICAgIGNvbnN0IG9wYWNpdHkgPSAoMCwgdXNlS2V5ZnJhbWVWYWx1ZV8xLnVzZUtleWZyYW1lVmFsdWUpKGl0ZW0sIHNka18xLktleWZyYW1lVHlwZS5PcGFjaXR5LCAoaXRlbSwgbGF5b3V0SWQpID0+IHtcbiAgICAgICAgaWYgKCFsYXlvdXRJZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgbGF5b3V0UGFyYW1zID0gaXRlbS5sYXlvdXRQYXJhbXNbbGF5b3V0SWRdO1xuICAgICAgICByZXR1cm4gJ29wYWNpdHknIGluIGxheW91dFBhcmFtcyA/IGxheW91dFBhcmFtcy5vcGFjaXR5IDogMTtcbiAgICB9LCAoYW5pbWF0b3IsIHNjcm9sbCwgdmFsdWUpID0+IHZhbHVlICE9PSB1bmRlZmluZWQgPyBhbmltYXRvci5nZXRPcGFjaXR5KHsgb3BhY2l0eTogdmFsdWUgfSwgc2Nyb2xsKS5vcGFjaXR5IDogdW5kZWZpbmVkLCBzZWN0aW9uSWQsIFtsYXlvdXRJZF0pO1xuICAgIGNvbnN0IGJsdXIgPSAoMCwgdXNlS2V5ZnJhbWVWYWx1ZV8xLnVzZUtleWZyYW1lVmFsdWUpKGl0ZW0sIHNka18xLktleWZyYW1lVHlwZS5CbHVyLCAoaXRlbSwgbGF5b3V0SWQpID0+IHtcbiAgICAgICAgaWYgKCFsYXlvdXRJZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgbGF5b3V0UGFyYW1zID0gaXRlbS5sYXlvdXRQYXJhbXNbbGF5b3V0SWRdO1xuICAgICAgICByZXR1cm4gJ2JsdXInIGluIGxheW91dFBhcmFtcyA/IGxheW91dFBhcmFtcy5ibHVyIDogMDtcbiAgICB9LCAoYW5pbWF0b3IsIHNjcm9sbCwgdmFsdWUpID0+IHZhbHVlICE9PSB1bmRlZmluZWQgPyBhbmltYXRvci5nZXRCbHVyKHsgYmx1cjogdmFsdWUgfSwgc2Nyb2xsKS5ibHVyIDogdW5kZWZpbmVkLCBzZWN0aW9uSWQsIFtsYXlvdXRJZF0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIG9wYWNpdHksXG4gICAgICAgIGJsdXJcbiAgICB9O1xufVxuZXhwb3J0cy51c2VDb21wb25lbnRJdGVtID0gdXNlQ29tcG9uZW50SXRlbTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/ComponentItem/useComponentItem.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CompoundItem/CompoundChild.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CompoundItem/CompoundChild.js ***!
  \************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CompoundChild = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst useCntrlContext_1 = __webpack_require__(/*! ../../../provider/useCntrlContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/useCntrlContext.js\");\nconst useLayoutContext_1 = __webpack_require__(/*! ../../useLayoutContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/useLayoutContext.js\");\nconst useExemplary_1 = __webpack_require__(/*! ../../../common/useExemplary */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useExemplary.js\");\nconst useItemScale_1 = __webpack_require__(/*! ../useItemScale */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemScale.js\");\nconst useItemInteractionCtrl_1 = __webpack_require__(/*! ../../../interactions/useItemInteractionCtrl */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/interactions/useItemInteractionCtrl.js\");\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst style_1 = __importDefault(__webpack_require__(/*! styled-jsx/style */ \"./node_modules/next/node_modules/styled-jsx/style.js\"));\nconst ScaleAnchorMap_1 = __webpack_require__(/*! ../../../utils/ScaleAnchorMap */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/ScaleAnchorMap.js\");\nconst isItemType_1 = __webpack_require__(/*! ../../../utils/isItemType */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/isItemType.js\");\nconst RichTextWrapper_1 = __webpack_require__(/*! ../RichTextWrapper */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/RichTextWrapper.js\");\nconst itemsMap_1 = __webpack_require__(/*! ../itemsMap */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/itemsMap.js\");\nconst getCompoundBoundaryStyles_1 = __webpack_require__(/*! ../../../utils/getCompoundBoundaryStyles */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getCompoundBoundaryStyles.js\");\nconst useItemTriggers_1 = __webpack_require__(/*! ../useItemTriggers */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemTriggers.js\");\nconst useSizing_1 = __webpack_require__(/*! ../useSizing */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useSizing.js\");\nconst useItemPointerEvents_1 = __webpack_require__(/*! ../useItemPointerEvents */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemPointerEvents.js\");\nconst useItemArea_1 = __webpack_require__(/*! ../useItemArea */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemArea.js\");\nconst noop = () => null;\nconst CompoundChild = ({ item, sectionId, isParentVisible = true }) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n    const id = (0, react_1.useId)();\n    const { layouts } = (0, useCntrlContext_1.useCntrlContext)();\n    const layout = (0, useLayoutContext_1.useLayoutContext)();\n    const exemplary = (0, useExemplary_1.useExemplary)();\n    const { handleVisibilityChange, allowPointerEvents } = (0, useItemPointerEvents_1.useItemPointerEvents)((_b = (_a = item.commonParams) === null || _a === void 0 ? void 0 : _a.pointerEvents) !== null && _b !== void 0 ? _b : 'when_visible', isParentVisible);\n    const itemScale = (0, useItemScale_1.useItemScale)(item, sectionId);\n    const interactionCtrl = (0, useItemInteractionCtrl_1.useItemInteractionCtrl)(item.id);\n    const triggers = (0, useItemTriggers_1.useItemTriggers)(interactionCtrl);\n    const wrapperStateProps = interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.getState(['top', 'left', 'width', 'height']);\n    const innerStateProps = interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.getState(['scale']);\n    const compoundSettings = layout && item.compoundSettings ? item.compoundSettings[layout] : undefined;\n    const { width, height, top, left } = (0, useItemArea_1.useItemArea)(item, sectionId, {\n        top: (_c = wrapperStateProps === null || wrapperStateProps === void 0 ? void 0 : wrapperStateProps.styles) === null || _c === void 0 ? void 0 : _c.top,\n        left: (_d = wrapperStateProps === null || wrapperStateProps === void 0 ? void 0 : wrapperStateProps.styles) === null || _d === void 0 ? void 0 : _d.left,\n        width: (_e = wrapperStateProps === null || wrapperStateProps === void 0 ? void 0 : wrapperStateProps.styles) === null || _e === void 0 ? void 0 : _e.width,\n        height: (_f = wrapperStateProps === null || wrapperStateProps === void 0 ? void 0 : wrapperStateProps.styles) === null || _f === void 0 ? void 0 : _f.height\n    });\n    const isInitialRef = (0, react_1.useRef)(true);\n    const sizingAxis = (0, useSizing_1.useSizing)(item);\n    const ItemComponent = itemsMap_1.itemsMap[item.type] || noop;\n    (0, react_1.useEffect)(() => {\n        isInitialRef.current = false;\n    }, []);\n    const transformOrigin = compoundSettings ? ScaleAnchorMap_1.ScaleAnchorMap[compoundSettings.positionAnchor] : 'top left';\n    const isRichText = (0, isItemType_1.isItemType)(item, sdk_1.ArticleItemType.RichText);\n    const scale = (_h = (_g = innerStateProps === null || innerStateProps === void 0 ? void 0 : innerStateProps.styles) === null || _g === void 0 ? void 0 : _g.scale) !== null && _h !== void 0 ? _h : itemScale;\n    const hasClickTriggers = (_j = interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.getHasTrigger(item.id, 'click')) !== null && _j !== void 0 ? _j : false;\n    if (!item.compoundSettings)\n        return null;\n    const layoutValues = [item.area, item.hidden, item.compoundSettings];\n    if (item.layoutParams) {\n        layoutValues.push(item.layoutParams);\n    }\n    return ((0, jsx_runtime_1.jsxs)(\"div\", Object.assign({ className: `item-${item.id}`, onTransitionEnd: (e) => {\n            var _a;\n            e.stopPropagation();\n            (_a = interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.handleTransitionEnd) === null || _a === void 0 ? void 0 : _a.call(interactionCtrl, e.propertyName);\n        }, style: Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, (top !== undefined && compoundSettings ? { top: (0, getCompoundBoundaryStyles_1.getCompoundTop)(compoundSettings, top) } : {})), (left !== undefined && compoundSettings ? { left: (0, getCompoundBoundaryStyles_1.getCompoundLeft)(compoundSettings, left) } : {})), (width !== undefined && compoundSettings\n            ? { width: `${sizingAxis.x === 'manual'\n                    ? (0, getCompoundBoundaryStyles_1.getCompoundWidth)(compoundSettings, width, isRichText, exemplary)\n                    : 'max-content'}` }\n            : {})), (height !== undefined && compoundSettings\n            ? { height: `${sizingAxis.y === 'manual'\n                    ? (0, getCompoundBoundaryStyles_1.getCompoundHeight)(compoundSettings, height)\n                    : 'unset'}` }\n            : {})), (compoundSettings ? { transform: `${(0, getCompoundBoundaryStyles_1.getCompoundTransform)(compoundSettings)}` } : {})), { transition: (_k = wrapperStateProps === null || wrapperStateProps === void 0 ? void 0 : wrapperStateProps.transition) !== null && _k !== void 0 ? _k : 'none', cursor: hasClickTriggers ? 'pointer' : 'unset', pointerEvents: allowPointerEvents ? 'auto' : 'none' }) }, triggers, { children: [(0, jsx_runtime_1.jsx)(\"div\", { className: `item-${item.id}-inner`, style: Object.assign({ transition: (_l = innerStateProps === null || innerStateProps === void 0 ? void 0 : innerStateProps.transition) !== null && _l !== void 0 ? _l : 'none' }, (scale !== undefined ? { transform: `scale(${scale})` } : {})), children: (0, jsx_runtime_1.jsx)(RichTextWrapper_1.RichTextWrapper, { isRichText: isRichText, transformOrigin: transformOrigin, children: (0, jsx_runtime_1.jsx)(ItemComponent, { item: item, sectionId: sectionId, interactionCtrl: interactionCtrl, onVisibilityChange: handleVisibilityChange, isInCompound: true }) }) }), (0, jsx_runtime_1.jsx)(style_1.default, { id: id, children: `\r\n        ${(0, sdk_1.getLayoutStyles)(layouts, layoutValues, ([area, hidden, compoundSettings, layoutParams]) => {\n                    const sizingAxis = (0, useSizing_1.parseSizing)(layoutParams.sizing);\n                    const scaleAnchor = area.scaleAnchor;\n                    return (`\r\n            .item-${item.id}-inner {\r\n              width: 100%;\r\n              height: 100%;\r\n              transform-origin: ${ScaleAnchorMap_1.ScaleAnchorMap[scaleAnchor]};\r\n              transform: scale(${area.scale});\r\n            }\r\n            .item-${item.id} {\r\n              position: absolute;\r\n              top: ${(0, getCompoundBoundaryStyles_1.getCompoundTop)(compoundSettings, area.top)};\r\n              left: ${(0, getCompoundBoundaryStyles_1.getCompoundLeft)(compoundSettings, area.left)};\r\n              transition: opacity 0.2s linear 0.1s;\r\n              display: ${hidden ? 'none' : 'block'};\r\n              width: ${sizingAxis.x === 'manual'\n                        ? `${(0, getCompoundBoundaryStyles_1.getCompoundWidth)(compoundSettings, area.width, isRichText)}`\n                        : 'max-content'};\r\n              height: ${sizingAxis.y === 'manual' ? `${(0, getCompoundBoundaryStyles_1.getCompoundHeight)(compoundSettings, area.height)}` : 'unset'};\r\n              transform: ${(0, getCompoundBoundaryStyles_1.getCompoundTransform)(compoundSettings)};\r\n              z-index: ${area.zIndex};\r\n            }\r\n          `);\n                })}\r\n      ` })] })));\n};\nexports.CompoundChild = CompoundChild;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9Db21wb3VuZEl0ZW0vQ29tcG91bmRDaGlsZC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHFCQUFxQjtBQUNyQixzQkFBc0IsbUJBQU8sQ0FBQyw4REFBbUI7QUFDakQsZ0JBQWdCLG1CQUFPLENBQUMsNENBQU87QUFDL0IsMEJBQTBCLG1CQUFPLENBQUMsZ0hBQW1DO0FBQ3JFLDJCQUEyQixtQkFBTyxDQUFDLHdHQUF3QjtBQUMzRCx1QkFBdUIsbUJBQU8sQ0FBQyxzR0FBOEI7QUFDN0QsdUJBQXVCLG1CQUFPLENBQUMsbUdBQWlCO0FBQ2hELGlDQUFpQyxtQkFBTyxDQUFDLHNJQUE4QztBQUN2RixjQUFjLG1CQUFPLENBQUMscUVBQWlCO0FBQ3ZDLGdDQUFnQyxtQkFBTyxDQUFDLDhFQUFrQjtBQUMxRCx5QkFBeUIsbUJBQU8sQ0FBQyx3R0FBK0I7QUFDaEUscUJBQXFCLG1CQUFPLENBQUMsZ0dBQTJCO0FBQ3hELDBCQUEwQixtQkFBTyxDQUFDLHlHQUFvQjtBQUN0RCxtQkFBbUIsbUJBQU8sQ0FBQywyRkFBYTtBQUN4QyxvQ0FBb0MsbUJBQU8sQ0FBQyw4SEFBMEM7QUFDdEYsMEJBQTBCLG1CQUFPLENBQUMseUdBQW9CO0FBQ3RELG9CQUFvQixtQkFBTyxDQUFDLDZGQUFjO0FBQzFDLCtCQUErQixtQkFBTyxDQUFDLG1IQUF5QjtBQUNoRSxzQkFBc0IsbUJBQU8sQ0FBQyxpR0FBZ0I7QUFDOUM7QUFDQSx5QkFBeUIseUNBQXlDO0FBQ2xFO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBLFlBQVksNkNBQTZDO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMkJBQTJCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsbUJBQW1CLFFBQVE7QUFDdEY7QUFDQTtBQUNBO0FBQ0EsU0FBUywrRkFBK0YsNkNBQTZDLDhFQUE4RSxJQUFJLGdEQUFnRCxpRkFBaUYsSUFBSTtBQUM1VyxnQkFBZ0IsVUFBVTtBQUMxQjtBQUNBLG9DQUFvQztBQUNwQyxnQkFBZ0I7QUFDaEIsZ0JBQWdCLFdBQVc7QUFDM0I7QUFDQSw4QkFBOEI7QUFDOUIsZ0JBQWdCLDBCQUEwQixjQUFjLHdFQUF3RSxJQUFJLElBQUksTUFBTSxvUUFBb1EsR0FBRyxjQUFjLDJDQUEyQyxtQkFBbUIsUUFBUSxnQ0FBZ0MseUpBQXlKLDJCQUEyQixvQkFBb0IsTUFBTSxLQUFLLElBQUksMEVBQTBFLDRHQUE0RyxvSUFBb0ksR0FBRyxHQUFHLDZDQUE2QztBQUM3a0MsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEMsaUNBQWlDLFdBQVc7QUFDNUM7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQSxxQkFBcUI7QUFDckIsc0JBQXNCO0FBQ3RCO0FBQ0EseUJBQXlCO0FBQ3pCLHVCQUF1QjtBQUN2Qiw2QkFBNkIsNEZBQTRGO0FBQ3pIO0FBQ0Esd0JBQXdCLCtCQUErQixrRkFBa0Y7QUFDekksMkJBQTJCO0FBQzNCLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLFNBQVMsSUFBSTtBQUNiO0FBQ0EscUJBQXFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9jb21wb25lbnRzL2l0ZW1zL0NvbXBvdW5kSXRlbS9Db21wb3VuZENoaWxkLmpzPzQ5NWYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNvbXBvdW5kQ2hpbGQgPSB2b2lkIDA7XG5jb25zdCBqc3hfcnVudGltZV8xID0gcmVxdWlyZShcInJlYWN0L2pzeC1ydW50aW1lXCIpO1xuY29uc3QgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbmNvbnN0IHVzZUNudHJsQ29udGV4dF8xID0gcmVxdWlyZShcIi4uLy4uLy4uL3Byb3ZpZGVyL3VzZUNudHJsQ29udGV4dFwiKTtcbmNvbnN0IHVzZUxheW91dENvbnRleHRfMSA9IHJlcXVpcmUoXCIuLi8uLi91c2VMYXlvdXRDb250ZXh0XCIpO1xuY29uc3QgdXNlRXhlbXBsYXJ5XzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tbW9uL3VzZUV4ZW1wbGFyeVwiKTtcbmNvbnN0IHVzZUl0ZW1TY2FsZV8xID0gcmVxdWlyZShcIi4uL3VzZUl0ZW1TY2FsZVwiKTtcbmNvbnN0IHVzZUl0ZW1JbnRlcmFjdGlvbkN0cmxfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9pbnRlcmFjdGlvbnMvdXNlSXRlbUludGVyYWN0aW9uQ3RybFwiKTtcbmNvbnN0IHNka18xID0gcmVxdWlyZShcIkBjbnRybC1zaXRlL3Nka1wiKTtcbmNvbnN0IHN0eWxlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcInN0eWxlZC1qc3gvc3R5bGVcIikpO1xuY29uc3QgU2NhbGVBbmNob3JNYXBfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy9TY2FsZUFuY2hvck1hcFwiKTtcbmNvbnN0IGlzSXRlbVR5cGVfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy9pc0l0ZW1UeXBlXCIpO1xuY29uc3QgUmljaFRleHRXcmFwcGVyXzEgPSByZXF1aXJlKFwiLi4vUmljaFRleHRXcmFwcGVyXCIpO1xuY29uc3QgaXRlbXNNYXBfMSA9IHJlcXVpcmUoXCIuLi9pdGVtc01hcFwiKTtcbmNvbnN0IGdldENvbXBvdW5kQm91bmRhcnlTdHlsZXNfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy9nZXRDb21wb3VuZEJvdW5kYXJ5U3R5bGVzXCIpO1xuY29uc3QgdXNlSXRlbVRyaWdnZXJzXzEgPSByZXF1aXJlKFwiLi4vdXNlSXRlbVRyaWdnZXJzXCIpO1xuY29uc3QgdXNlU2l6aW5nXzEgPSByZXF1aXJlKFwiLi4vdXNlU2l6aW5nXCIpO1xuY29uc3QgdXNlSXRlbVBvaW50ZXJFdmVudHNfMSA9IHJlcXVpcmUoXCIuLi91c2VJdGVtUG9pbnRlckV2ZW50c1wiKTtcbmNvbnN0IHVzZUl0ZW1BcmVhXzEgPSByZXF1aXJlKFwiLi4vdXNlSXRlbUFyZWFcIik7XG5jb25zdCBub29wID0gKCkgPT4gbnVsbDtcbmNvbnN0IENvbXBvdW5kQ2hpbGQgPSAoeyBpdGVtLCBzZWN0aW9uSWQsIGlzUGFyZW50VmlzaWJsZSA9IHRydWUgfSkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2w7XG4gICAgY29uc3QgaWQgPSAoMCwgcmVhY3RfMS51c2VJZCkoKTtcbiAgICBjb25zdCB7IGxheW91dHMgfSA9ICgwLCB1c2VDbnRybENvbnRleHRfMS51c2VDbnRybENvbnRleHQpKCk7XG4gICAgY29uc3QgbGF5b3V0ID0gKDAsIHVzZUxheW91dENvbnRleHRfMS51c2VMYXlvdXRDb250ZXh0KSgpO1xuICAgIGNvbnN0IGV4ZW1wbGFyeSA9ICgwLCB1c2VFeGVtcGxhcnlfMS51c2VFeGVtcGxhcnkpKCk7XG4gICAgY29uc3QgeyBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlLCBhbGxvd1BvaW50ZXJFdmVudHMgfSA9ICgwLCB1c2VJdGVtUG9pbnRlckV2ZW50c18xLnVzZUl0ZW1Qb2ludGVyRXZlbnRzKSgoX2IgPSAoX2EgPSBpdGVtLmNvbW1vblBhcmFtcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBvaW50ZXJFdmVudHMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICd3aGVuX3Zpc2libGUnLCBpc1BhcmVudFZpc2libGUpO1xuICAgIGNvbnN0IGl0ZW1TY2FsZSA9ICgwLCB1c2VJdGVtU2NhbGVfMS51c2VJdGVtU2NhbGUpKGl0ZW0sIHNlY3Rpb25JZCk7XG4gICAgY29uc3QgaW50ZXJhY3Rpb25DdHJsID0gKDAsIHVzZUl0ZW1JbnRlcmFjdGlvbkN0cmxfMS51c2VJdGVtSW50ZXJhY3Rpb25DdHJsKShpdGVtLmlkKTtcbiAgICBjb25zdCB0cmlnZ2VycyA9ICgwLCB1c2VJdGVtVHJpZ2dlcnNfMS51c2VJdGVtVHJpZ2dlcnMpKGludGVyYWN0aW9uQ3RybCk7XG4gICAgY29uc3Qgd3JhcHBlclN0YXRlUHJvcHMgPSBpbnRlcmFjdGlvbkN0cmwgPT09IG51bGwgfHwgaW50ZXJhY3Rpb25DdHJsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlcmFjdGlvbkN0cmwuZ2V0U3RhdGUoWyd0b3AnLCAnbGVmdCcsICd3aWR0aCcsICdoZWlnaHQnXSk7XG4gICAgY29uc3QgaW5uZXJTdGF0ZVByb3BzID0gaW50ZXJhY3Rpb25DdHJsID09PSBudWxsIHx8IGludGVyYWN0aW9uQ3RybCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW50ZXJhY3Rpb25DdHJsLmdldFN0YXRlKFsnc2NhbGUnXSk7XG4gICAgY29uc3QgY29tcG91bmRTZXR0aW5ncyA9IGxheW91dCAmJiBpdGVtLmNvbXBvdW5kU2V0dGluZ3MgPyBpdGVtLmNvbXBvdW5kU2V0dGluZ3NbbGF5b3V0XSA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIHRvcCwgbGVmdCB9ID0gKDAsIHVzZUl0ZW1BcmVhXzEudXNlSXRlbUFyZWEpKGl0ZW0sIHNlY3Rpb25JZCwge1xuICAgICAgICB0b3A6IChfYyA9IHdyYXBwZXJTdGF0ZVByb3BzID09PSBudWxsIHx8IHdyYXBwZXJTdGF0ZVByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3cmFwcGVyU3RhdGVQcm9wcy5zdHlsZXMpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy50b3AsXG4gICAgICAgIGxlZnQ6IChfZCA9IHdyYXBwZXJTdGF0ZVByb3BzID09PSBudWxsIHx8IHdyYXBwZXJTdGF0ZVByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3cmFwcGVyU3RhdGVQcm9wcy5zdHlsZXMpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5sZWZ0LFxuICAgICAgICB3aWR0aDogKF9lID0gd3JhcHBlclN0YXRlUHJvcHMgPT09IG51bGwgfHwgd3JhcHBlclN0YXRlUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdyYXBwZXJTdGF0ZVByb3BzLnN0eWxlcykgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IChfZiA9IHdyYXBwZXJTdGF0ZVByb3BzID09PSBudWxsIHx8IHdyYXBwZXJTdGF0ZVByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3cmFwcGVyU3RhdGVQcm9wcy5zdHlsZXMpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5oZWlnaHRcbiAgICB9KTtcbiAgICBjb25zdCBpc0luaXRpYWxSZWYgPSAoMCwgcmVhY3RfMS51c2VSZWYpKHRydWUpO1xuICAgIGNvbnN0IHNpemluZ0F4aXMgPSAoMCwgdXNlU2l6aW5nXzEudXNlU2l6aW5nKShpdGVtKTtcbiAgICBjb25zdCBJdGVtQ29tcG9uZW50ID0gaXRlbXNNYXBfMS5pdGVtc01hcFtpdGVtLnR5cGVdIHx8IG5vb3A7XG4gICAgKDAsIHJlYWN0XzEudXNlRWZmZWN0KSgoKSA9PiB7XG4gICAgICAgIGlzSW5pdGlhbFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IHRyYW5zZm9ybU9yaWdpbiA9IGNvbXBvdW5kU2V0dGluZ3MgPyBTY2FsZUFuY2hvck1hcF8xLlNjYWxlQW5jaG9yTWFwW2NvbXBvdW5kU2V0dGluZ3MucG9zaXRpb25BbmNob3JdIDogJ3RvcCBsZWZ0JztcbiAgICBjb25zdCBpc1JpY2hUZXh0ID0gKDAsIGlzSXRlbVR5cGVfMS5pc0l0ZW1UeXBlKShpdGVtLCBzZGtfMS5BcnRpY2xlSXRlbVR5cGUuUmljaFRleHQpO1xuICAgIGNvbnN0IHNjYWxlID0gKF9oID0gKF9nID0gaW5uZXJTdGF0ZVByb3BzID09PSBudWxsIHx8IGlubmVyU3RhdGVQcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5uZXJTdGF0ZVByb3BzLnN0eWxlcykgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLnNjYWxlKSAhPT0gbnVsbCAmJiBfaCAhPT0gdm9pZCAwID8gX2ggOiBpdGVtU2NhbGU7XG4gICAgY29uc3QgaGFzQ2xpY2tUcmlnZ2VycyA9IChfaiA9IGludGVyYWN0aW9uQ3RybCA9PT0gbnVsbCB8fCBpbnRlcmFjdGlvbkN0cmwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyYWN0aW9uQ3RybC5nZXRIYXNUcmlnZ2VyKGl0ZW0uaWQsICdjbGljaycpKSAhPT0gbnVsbCAmJiBfaiAhPT0gdm9pZCAwID8gX2ogOiBmYWxzZTtcbiAgICBpZiAoIWl0ZW0uY29tcG91bmRTZXR0aW5ncylcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgbGF5b3V0VmFsdWVzID0gW2l0ZW0uYXJlYSwgaXRlbS5oaWRkZW4sIGl0ZW0uY29tcG91bmRTZXR0aW5nc107XG4gICAgaWYgKGl0ZW0ubGF5b3V0UGFyYW1zKSB7XG4gICAgICAgIGxheW91dFZhbHVlcy5wdXNoKGl0ZW0ubGF5b3V0UGFyYW1zKTtcbiAgICB9XG4gICAgcmV0dXJuICgoMCwganN4X3J1bnRpbWVfMS5qc3hzKShcImRpdlwiLCBPYmplY3QuYXNzaWduKHsgY2xhc3NOYW1lOiBgaXRlbS0ke2l0ZW0uaWR9YCwgb25UcmFuc2l0aW9uRW5kOiAoZSkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIChfYSA9IGludGVyYWN0aW9uQ3RybCA9PT0gbnVsbCB8fCBpbnRlcmFjdGlvbkN0cmwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyYWN0aW9uQ3RybC5oYW5kbGVUcmFuc2l0aW9uRW5kKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChpbnRlcmFjdGlvbkN0cmwsIGUucHJvcGVydHlOYW1lKTtcbiAgICAgICAgfSwgc3R5bGU6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCAodG9wICE9PSB1bmRlZmluZWQgJiYgY29tcG91bmRTZXR0aW5ncyA/IHsgdG9wOiAoMCwgZ2V0Q29tcG91bmRCb3VuZGFyeVN0eWxlc18xLmdldENvbXBvdW5kVG9wKShjb21wb3VuZFNldHRpbmdzLCB0b3ApIH0gOiB7fSkpLCAobGVmdCAhPT0gdW5kZWZpbmVkICYmIGNvbXBvdW5kU2V0dGluZ3MgPyB7IGxlZnQ6ICgwLCBnZXRDb21wb3VuZEJvdW5kYXJ5U3R5bGVzXzEuZ2V0Q29tcG91bmRMZWZ0KShjb21wb3VuZFNldHRpbmdzLCBsZWZ0KSB9IDoge30pKSwgKHdpZHRoICE9PSB1bmRlZmluZWQgJiYgY29tcG91bmRTZXR0aW5nc1xuICAgICAgICAgICAgPyB7IHdpZHRoOiBgJHtzaXppbmdBeGlzLnggPT09ICdtYW51YWwnXG4gICAgICAgICAgICAgICAgICAgID8gKDAsIGdldENvbXBvdW5kQm91bmRhcnlTdHlsZXNfMS5nZXRDb21wb3VuZFdpZHRoKShjb21wb3VuZFNldHRpbmdzLCB3aWR0aCwgaXNSaWNoVGV4dCwgZXhlbXBsYXJ5KVxuICAgICAgICAgICAgICAgICAgICA6ICdtYXgtY29udGVudCd9YCB9XG4gICAgICAgICAgICA6IHt9KSksIChoZWlnaHQgIT09IHVuZGVmaW5lZCAmJiBjb21wb3VuZFNldHRpbmdzXG4gICAgICAgICAgICA/IHsgaGVpZ2h0OiBgJHtzaXppbmdBeGlzLnkgPT09ICdtYW51YWwnXG4gICAgICAgICAgICAgICAgICAgID8gKDAsIGdldENvbXBvdW5kQm91bmRhcnlTdHlsZXNfMS5nZXRDb21wb3VuZEhlaWdodCkoY29tcG91bmRTZXR0aW5ncywgaGVpZ2h0KVxuICAgICAgICAgICAgICAgICAgICA6ICd1bnNldCd9YCB9XG4gICAgICAgICAgICA6IHt9KSksIChjb21wb3VuZFNldHRpbmdzID8geyB0cmFuc2Zvcm06IGAkeygwLCBnZXRDb21wb3VuZEJvdW5kYXJ5U3R5bGVzXzEuZ2V0Q29tcG91bmRUcmFuc2Zvcm0pKGNvbXBvdW5kU2V0dGluZ3MpfWAgfSA6IHt9KSksIHsgdHJhbnNpdGlvbjogKF9rID0gd3JhcHBlclN0YXRlUHJvcHMgPT09IG51bGwgfHwgd3JhcHBlclN0YXRlUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdyYXBwZXJTdGF0ZVByb3BzLnRyYW5zaXRpb24pICE9PSBudWxsICYmIF9rICE9PSB2b2lkIDAgPyBfayA6ICdub25lJywgY3Vyc29yOiBoYXNDbGlja1RyaWdnZXJzID8gJ3BvaW50ZXInIDogJ3Vuc2V0JywgcG9pbnRlckV2ZW50czogYWxsb3dQb2ludGVyRXZlbnRzID8gJ2F1dG8nIDogJ25vbmUnIH0pIH0sIHRyaWdnZXJzLCB7IGNoaWxkcmVuOiBbKDAsIGpzeF9ydW50aW1lXzEuanN4KShcImRpdlwiLCB7IGNsYXNzTmFtZTogYGl0ZW0tJHtpdGVtLmlkfS1pbm5lcmAsIHN0eWxlOiBPYmplY3QuYXNzaWduKHsgdHJhbnNpdGlvbjogKF9sID0gaW5uZXJTdGF0ZVByb3BzID09PSBudWxsIHx8IGlubmVyU3RhdGVQcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5uZXJTdGF0ZVByb3BzLnRyYW5zaXRpb24pICE9PSBudWxsICYmIF9sICE9PSB2b2lkIDAgPyBfbCA6ICdub25lJyB9LCAoc2NhbGUgIT09IHVuZGVmaW5lZCA/IHsgdHJhbnNmb3JtOiBgc2NhbGUoJHtzY2FsZX0pYCB9IDoge30pKSwgY2hpbGRyZW46ICgwLCBqc3hfcnVudGltZV8xLmpzeCkoUmljaFRleHRXcmFwcGVyXzEuUmljaFRleHRXcmFwcGVyLCB7IGlzUmljaFRleHQ6IGlzUmljaFRleHQsIHRyYW5zZm9ybU9yaWdpbjogdHJhbnNmb3JtT3JpZ2luLCBjaGlsZHJlbjogKDAsIGpzeF9ydW50aW1lXzEuanN4KShJdGVtQ29tcG9uZW50LCB7IGl0ZW06IGl0ZW0sIHNlY3Rpb25JZDogc2VjdGlvbklkLCBpbnRlcmFjdGlvbkN0cmw6IGludGVyYWN0aW9uQ3RybCwgb25WaXNpYmlsaXR5Q2hhbmdlOiBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlLCBpc0luQ29tcG91bmQ6IHRydWUgfSkgfSkgfSksICgwLCBqc3hfcnVudGltZV8xLmpzeCkoc3R5bGVfMS5kZWZhdWx0LCB7IGlkOiBpZCwgY2hpbGRyZW46IGBcclxuICAgICAgICAkeygwLCBzZGtfMS5nZXRMYXlvdXRTdHlsZXMpKGxheW91dHMsIGxheW91dFZhbHVlcywgKFthcmVhLCBoaWRkZW4sIGNvbXBvdW5kU2V0dGluZ3MsIGxheW91dFBhcmFtc10pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nQXhpcyA9ICgwLCB1c2VTaXppbmdfMS5wYXJzZVNpemluZykobGF5b3V0UGFyYW1zLnNpemluZyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxlQW5jaG9yID0gYXJlYS5zY2FsZUFuY2hvcjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChgXHJcbiAgICAgICAgICAgIC5pdGVtLSR7aXRlbS5pZH0taW5uZXIge1xyXG4gICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAke1NjYWxlQW5jaG9yTWFwXzEuU2NhbGVBbmNob3JNYXBbc2NhbGVBbmNob3JdfTtcclxuICAgICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKCR7YXJlYS5zY2FsZX0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5pdGVtLSR7aXRlbS5pZH0ge1xyXG4gICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgICB0b3A6ICR7KDAsIGdldENvbXBvdW5kQm91bmRhcnlTdHlsZXNfMS5nZXRDb21wb3VuZFRvcCkoY29tcG91bmRTZXR0aW5ncywgYXJlYS50b3ApfTtcclxuICAgICAgICAgICAgICBsZWZ0OiAkeygwLCBnZXRDb21wb3VuZEJvdW5kYXJ5U3R5bGVzXzEuZ2V0Q29tcG91bmRMZWZ0KShjb21wb3VuZFNldHRpbmdzLCBhcmVhLmxlZnQpfTtcclxuICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMnMgbGluZWFyIDAuMXM7XHJcbiAgICAgICAgICAgICAgZGlzcGxheTogJHtoaWRkZW4gPyAnbm9uZScgOiAnYmxvY2snfTtcclxuICAgICAgICAgICAgICB3aWR0aDogJHtzaXppbmdBeGlzLnggPT09ICdtYW51YWwnXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGAkeygwLCBnZXRDb21wb3VuZEJvdW5kYXJ5U3R5bGVzXzEuZ2V0Q29tcG91bmRXaWR0aCkoY29tcG91bmRTZXR0aW5ncywgYXJlYS53aWR0aCwgaXNSaWNoVGV4dCl9YFxuICAgICAgICAgICAgICAgICAgICAgICAgOiAnbWF4LWNvbnRlbnQnfTtcclxuICAgICAgICAgICAgICBoZWlnaHQ6ICR7c2l6aW5nQXhpcy55ID09PSAnbWFudWFsJyA/IGAkeygwLCBnZXRDb21wb3VuZEJvdW5kYXJ5U3R5bGVzXzEuZ2V0Q29tcG91bmRIZWlnaHQpKGNvbXBvdW5kU2V0dGluZ3MsIGFyZWEuaGVpZ2h0KX1gIDogJ3Vuc2V0J307XHJcbiAgICAgICAgICAgICAgdHJhbnNmb3JtOiAkeygwLCBnZXRDb21wb3VuZEJvdW5kYXJ5U3R5bGVzXzEuZ2V0Q29tcG91bmRUcmFuc2Zvcm0pKGNvbXBvdW5kU2V0dGluZ3MpfTtcclxuICAgICAgICAgICAgICB6LWluZGV4OiAke2FyZWEuekluZGV4fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgYCk7XG4gICAgICAgICAgICAgICAgfSl9XHJcbiAgICAgIGAgfSldIH0pKSk7XG59O1xuZXhwb3J0cy5Db21wb3VuZENoaWxkID0gQ29tcG91bmRDaGlsZDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CompoundItem/CompoundChild.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CompoundItem/CompoundItem.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CompoundItem/CompoundItem.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CompoundItem = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst useItemAngle_1 = __webpack_require__(/*! ../useItemAngle */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemAngle.js\");\nconst useCntrlContext_1 = __webpack_require__(/*! ../../../provider/useCntrlContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/useCntrlContext.js\");\nconst useRegisterResize_1 = __webpack_require__(/*! ../../../common/useRegisterResize */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useRegisterResize.js\");\nconst getStyleFromItemStateAndParams_1 = __webpack_require__(/*! ../../../utils/getStyleFromItemStateAndParams */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getStyleFromItemStateAndParams.js\");\nconst LinkWrapper_1 = __webpack_require__(/*! ../LinkWrapper */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/LinkWrapper.js\");\nconst style_1 = __importDefault(__webpack_require__(/*! styled-jsx/style */ \"./node_modules/next/node_modules/styled-jsx/style.js\"));\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst CompoundChild_1 = __webpack_require__(/*! ./CompoundChild */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CompoundItem/CompoundChild.js\");\nconst useCompoundItem_1 = __webpack_require__(/*! ./useCompoundItem */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CompoundItem/useCompoundItem.js\");\nconst CompoundItem = ({ item, sectionId, onResize, interactionCtrl, onVisibilityChange }) => {\n    var _a, _b, _c, _d, _e;\n    const id = (0, react_1.useId)();\n    const { items } = item;\n    const itemAngle = (0, useItemAngle_1.useItemAngle)(item, sectionId);\n    const { layouts } = (0, useCntrlContext_1.useCntrlContext)();\n    const { opacity: itemOpacity } = (0, useCompoundItem_1.useCompoundItem)(item, sectionId);\n    const layoutValues = [item.area, item.layoutParams];\n    const [ref, setRef] = (0, react_1.useState)(null);\n    (0, useRegisterResize_1.useRegisterResize)(ref, onResize);\n    const stateParams = interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.getState(['opacity', 'angle']);\n    const angle = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_a = stateParams === null || stateParams === void 0 ? void 0 : stateParams.styles) === null || _a === void 0 ? void 0 : _a.angle, itemAngle);\n    const opacity = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_b = stateParams === null || stateParams === void 0 ? void 0 : stateParams.styles) === null || _b === void 0 ? void 0 : _b.opacity, itemOpacity);\n    const isInteractive = opacity !== 0 && opacity !== undefined;\n    (0, react_1.useEffect)(() => {\n        onVisibilityChange === null || onVisibilityChange === void 0 ? void 0 : onVisibilityChange(isInteractive);\n    }, [isInteractive, onVisibilityChange]);\n    return ((0, jsx_runtime_1.jsx)(LinkWrapper_1.LinkWrapper, { url: (_c = item.link) === null || _c === void 0 ? void 0 : _c.url, target: (_d = item.link) === null || _d === void 0 ? void 0 : _d.target, children: (0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(\"div\", { className: `compound-${item.id}`, ref: setRef, style: Object.assign(Object.assign(Object.assign({}, (opacity !== undefined ? { opacity } : {})), (angle !== undefined ? { transform: `rotate(${angle}deg)` } : {})), { transition: (_e = stateParams === null || stateParams === void 0 ? void 0 : stateParams.transition) !== null && _e !== void 0 ? _e : 'none' }), children: items && items.map(item => ((0, jsx_runtime_1.jsx)(CompoundChild_1.CompoundChild, { item: item, sectionId: sectionId, isParentVisible: isInteractive }, item.id))) }), (0, jsx_runtime_1.jsx)(style_1.default, { id: id, children: `\r\n        .compound-${item.id} {\r\n          overflow: ${item.commonParams.overflow};\r\n          position: absolute;\r\n          width: 100%;\r\n          height: 100%;\r\n          box-sizing: border-box;\r\n        }\r\n        ${(0, sdk_1.getLayoutStyles)(layouts, layoutValues, ([area, layoutParams]) => {\n                        return (`\r\n            .compound-${item.id} {\r\n              opacity: ${layoutParams.opacity};\r\n              transform: rotate(${area.angle}deg);\r\n            }\r\n          `);\n                    })}\r\n      ` })] }) }));\n};\nexports.CompoundItem = CompoundItem;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9Db21wb3VuZEl0ZW0vQ29tcG91bmRJdGVtLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CO0FBQ3BCLHNCQUFzQixtQkFBTyxDQUFDLDhEQUFtQjtBQUNqRCxnQkFBZ0IsbUJBQU8sQ0FBQyw0Q0FBTztBQUMvQix1QkFBdUIsbUJBQU8sQ0FBQyxtR0FBaUI7QUFDaEQsMEJBQTBCLG1CQUFPLENBQUMsZ0hBQW1DO0FBQ3JFLDRCQUE0QixtQkFBTyxDQUFDLGdIQUFtQztBQUN2RSx5Q0FBeUMsbUJBQU8sQ0FBQyx3SUFBK0M7QUFDaEcsc0JBQXNCLG1CQUFPLENBQUMsaUdBQWdCO0FBQzlDLGdDQUFnQyxtQkFBTyxDQUFDLDhFQUFrQjtBQUMxRCxjQUFjLG1CQUFPLENBQUMscUVBQWlCO0FBQ3ZDLHdCQUF3QixtQkFBTyxDQUFDLGlIQUFpQjtBQUNqRCwwQkFBMEIsbUJBQU8sQ0FBQyxxSEFBbUI7QUFDckQsd0JBQXdCLGdFQUFnRTtBQUN4RjtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCLFlBQVksdUJBQXVCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxnRUFBZ0Usd01BQXdNLDJDQUEyQyx1QkFBdUIsUUFBUSxtRUFBbUUsNkJBQTZCLFVBQVUsSUFBSSw2QkFBNkIscUJBQXFCLE1BQU0sUUFBUSxJQUFJLE1BQU0sNklBQTZJLGlHQUFpRyxrRUFBa0UsY0FBYyw2Q0FBNkM7QUFDcjNCLG9CQUFvQjtBQUNwQixzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLHdCQUF3QjtBQUN4Qix5QkFBeUI7QUFDekIsa0NBQWtDLFdBQVc7QUFDN0M7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixTQUFTLElBQUksR0FBRztBQUNoQjtBQUNBLG9CQUFvQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9Db21wb3VuZEl0ZW0vQ29tcG91bmRJdGVtLmpzP2RhNmQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNvbXBvdW5kSXRlbSA9IHZvaWQgMDtcbmNvbnN0IGpzeF9ydW50aW1lXzEgPSByZXF1aXJlKFwicmVhY3QvanN4LXJ1bnRpbWVcIik7XG5jb25zdCByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xuY29uc3QgdXNlSXRlbUFuZ2xlXzEgPSByZXF1aXJlKFwiLi4vdXNlSXRlbUFuZ2xlXCIpO1xuY29uc3QgdXNlQ250cmxDb250ZXh0XzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vcHJvdmlkZXIvdXNlQ250cmxDb250ZXh0XCIpO1xuY29uc3QgdXNlUmVnaXN0ZXJSZXNpemVfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jb21tb24vdXNlUmVnaXN0ZXJSZXNpemVcIik7XG5jb25zdCBnZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXNfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy9nZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXNcIik7XG5jb25zdCBMaW5rV3JhcHBlcl8xID0gcmVxdWlyZShcIi4uL0xpbmtXcmFwcGVyXCIpO1xuY29uc3Qgc3R5bGVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwic3R5bGVkLWpzeC9zdHlsZVwiKSk7XG5jb25zdCBzZGtfMSA9IHJlcXVpcmUoXCJAY250cmwtc2l0ZS9zZGtcIik7XG5jb25zdCBDb21wb3VuZENoaWxkXzEgPSByZXF1aXJlKFwiLi9Db21wb3VuZENoaWxkXCIpO1xuY29uc3QgdXNlQ29tcG91bmRJdGVtXzEgPSByZXF1aXJlKFwiLi91c2VDb21wb3VuZEl0ZW1cIik7XG5jb25zdCBDb21wb3VuZEl0ZW0gPSAoeyBpdGVtLCBzZWN0aW9uSWQsIG9uUmVzaXplLCBpbnRlcmFjdGlvbkN0cmwsIG9uVmlzaWJpbGl0eUNoYW5nZSB9KSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICBjb25zdCBpZCA9ICgwLCByZWFjdF8xLnVzZUlkKSgpO1xuICAgIGNvbnN0IHsgaXRlbXMgfSA9IGl0ZW07XG4gICAgY29uc3QgaXRlbUFuZ2xlID0gKDAsIHVzZUl0ZW1BbmdsZV8xLnVzZUl0ZW1BbmdsZSkoaXRlbSwgc2VjdGlvbklkKTtcbiAgICBjb25zdCB7IGxheW91dHMgfSA9ICgwLCB1c2VDbnRybENvbnRleHRfMS51c2VDbnRybENvbnRleHQpKCk7XG4gICAgY29uc3QgeyBvcGFjaXR5OiBpdGVtT3BhY2l0eSB9ID0gKDAsIHVzZUNvbXBvdW5kSXRlbV8xLnVzZUNvbXBvdW5kSXRlbSkoaXRlbSwgc2VjdGlvbklkKTtcbiAgICBjb25zdCBsYXlvdXRWYWx1ZXMgPSBbaXRlbS5hcmVhLCBpdGVtLmxheW91dFBhcmFtc107XG4gICAgY29uc3QgW3JlZiwgc2V0UmVmXSA9ICgwLCByZWFjdF8xLnVzZVN0YXRlKShudWxsKTtcbiAgICAoMCwgdXNlUmVnaXN0ZXJSZXNpemVfMS51c2VSZWdpc3RlclJlc2l6ZSkocmVmLCBvblJlc2l6ZSk7XG4gICAgY29uc3Qgc3RhdGVQYXJhbXMgPSBpbnRlcmFjdGlvbkN0cmwgPT09IG51bGwgfHwgaW50ZXJhY3Rpb25DdHJsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlcmFjdGlvbkN0cmwuZ2V0U3RhdGUoWydvcGFjaXR5JywgJ2FuZ2xlJ10pO1xuICAgIGNvbnN0IGFuZ2xlID0gKDAsIGdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtc18xLmdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtcykoKF9hID0gc3RhdGVQYXJhbXMgPT09IG51bGwgfHwgc3RhdGVQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YXRlUGFyYW1zLnN0eWxlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFuZ2xlLCBpdGVtQW5nbGUpO1xuICAgIGNvbnN0IG9wYWNpdHkgPSAoMCwgZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zXzEuZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zKSgoX2IgPSBzdGF0ZVBhcmFtcyA9PT0gbnVsbCB8fCBzdGF0ZVBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhdGVQYXJhbXMuc3R5bGVzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iub3BhY2l0eSwgaXRlbU9wYWNpdHkpO1xuICAgIGNvbnN0IGlzSW50ZXJhY3RpdmUgPSBvcGFjaXR5ICE9PSAwICYmIG9wYWNpdHkgIT09IHVuZGVmaW5lZDtcbiAgICAoMCwgcmVhY3RfMS51c2VFZmZlY3QpKCgpID0+IHtcbiAgICAgICAgb25WaXNpYmlsaXR5Q2hhbmdlID09PSBudWxsIHx8IG9uVmlzaWJpbGl0eUNoYW5nZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25WaXNpYmlsaXR5Q2hhbmdlKGlzSW50ZXJhY3RpdmUpO1xuICAgIH0sIFtpc0ludGVyYWN0aXZlLCBvblZpc2liaWxpdHlDaGFuZ2VdKTtcbiAgICByZXR1cm4gKCgwLCBqc3hfcnVudGltZV8xLmpzeCkoTGlua1dyYXBwZXJfMS5MaW5rV3JhcHBlciwgeyB1cmw6IChfYyA9IGl0ZW0ubGluaykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnVybCwgdGFyZ2V0OiAoX2QgPSBpdGVtLmxpbmspID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC50YXJnZXQsIGNoaWxkcmVuOiAoMCwganN4X3J1bnRpbWVfMS5qc3hzKShqc3hfcnVudGltZV8xLkZyYWdtZW50LCB7IGNoaWxkcmVuOiBbKDAsIGpzeF9ydW50aW1lXzEuanN4KShcImRpdlwiLCB7IGNsYXNzTmFtZTogYGNvbXBvdW5kLSR7aXRlbS5pZH1gLCByZWY6IHNldFJlZiwgc3R5bGU6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCAob3BhY2l0eSAhPT0gdW5kZWZpbmVkID8geyBvcGFjaXR5IH0gOiB7fSkpLCAoYW5nbGUgIT09IHVuZGVmaW5lZCA/IHsgdHJhbnNmb3JtOiBgcm90YXRlKCR7YW5nbGV9ZGVnKWAgfSA6IHt9KSksIHsgdHJhbnNpdGlvbjogKF9lID0gc3RhdGVQYXJhbXMgPT09IG51bGwgfHwgc3RhdGVQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YXRlUGFyYW1zLnRyYW5zaXRpb24pICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6ICdub25lJyB9KSwgY2hpbGRyZW46IGl0ZW1zICYmIGl0ZW1zLm1hcChpdGVtID0+ICgoMCwganN4X3J1bnRpbWVfMS5qc3gpKENvbXBvdW5kQ2hpbGRfMS5Db21wb3VuZENoaWxkLCB7IGl0ZW06IGl0ZW0sIHNlY3Rpb25JZDogc2VjdGlvbklkLCBpc1BhcmVudFZpc2libGU6IGlzSW50ZXJhY3RpdmUgfSwgaXRlbS5pZCkpKSB9KSwgKDAsIGpzeF9ydW50aW1lXzEuanN4KShzdHlsZV8xLmRlZmF1bHQsIHsgaWQ6IGlkLCBjaGlsZHJlbjogYFxyXG4gICAgICAgIC5jb21wb3VuZC0ke2l0ZW0uaWR9IHtcclxuICAgICAgICAgIG92ZXJmbG93OiAke2l0ZW0uY29tbW9uUGFyYW1zLm92ZXJmbG93fTtcclxuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgICAgICB9XHJcbiAgICAgICAgJHsoMCwgc2RrXzEuZ2V0TGF5b3V0U3R5bGVzKShsYXlvdXRzLCBsYXlvdXRWYWx1ZXMsIChbYXJlYSwgbGF5b3V0UGFyYW1zXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChgXHJcbiAgICAgICAgICAgIC5jb21wb3VuZC0ke2l0ZW0uaWR9IHtcclxuICAgICAgICAgICAgICBvcGFjaXR5OiAke2xheW91dFBhcmFtcy5vcGFjaXR5fTtcclxuICAgICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgke2FyZWEuYW5nbGV9ZGVnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgYCk7XG4gICAgICAgICAgICAgICAgICAgIH0pfVxyXG4gICAgICBgIH0pXSB9KSB9KSk7XG59O1xuZXhwb3J0cy5Db21wb3VuZEl0ZW0gPSBDb21wb3VuZEl0ZW07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CompoundItem/CompoundItem.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CompoundItem/useCompoundItem.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CompoundItem/useCompoundItem.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useCompoundItem = void 0;\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst useLayoutContext_1 = __webpack_require__(/*! ../../useLayoutContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/useLayoutContext.js\");\nconst useKeyframeValue_1 = __webpack_require__(/*! ../../../common/useKeyframeValue */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useKeyframeValue.js\");\nfunction useCompoundItem(item, sectionId) {\n    const layoutId = (0, useLayoutContext_1.useLayoutContext)();\n    const opacity = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.Opacity, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'opacity' in layoutParams ? layoutParams.opacity : 1;\n    }, (animator, scroll, value) => value !== undefined ? animator.getOpacity({ opacity: value }, scroll).opacity : undefined, sectionId, [layoutId]);\n    return { opacity };\n}\nexports.useCompoundItem = useCompoundItem;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9Db21wb3VuZEl0ZW0vdXNlQ29tcG91bmRJdGVtLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QjtBQUN2QixjQUFjLG1CQUFPLENBQUMscUVBQWlCO0FBQ3ZDLDJCQUEyQixtQkFBTyxDQUFDLHdHQUF3QjtBQUMzRCwyQkFBMkIsbUJBQU8sQ0FBQyw4R0FBa0M7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDJFQUEyRSxnQkFBZ0I7QUFDaEcsYUFBYTtBQUNiO0FBQ0EsdUJBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9jb21wb25lbnRzL2l0ZW1zL0NvbXBvdW5kSXRlbS91c2VDb21wb3VuZEl0ZW0uanM/ZjUwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudXNlQ29tcG91bmRJdGVtID0gdm9pZCAwO1xuY29uc3Qgc2RrXzEgPSByZXF1aXJlKFwiQGNudHJsLXNpdGUvc2RrXCIpO1xuY29uc3QgdXNlTGF5b3V0Q29udGV4dF8xID0gcmVxdWlyZShcIi4uLy4uL3VzZUxheW91dENvbnRleHRcIik7XG5jb25zdCB1c2VLZXlmcmFtZVZhbHVlXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tbW9uL3VzZUtleWZyYW1lVmFsdWVcIik7XG5mdW5jdGlvbiB1c2VDb21wb3VuZEl0ZW0oaXRlbSwgc2VjdGlvbklkKSB7XG4gICAgY29uc3QgbGF5b3V0SWQgPSAoMCwgdXNlTGF5b3V0Q29udGV4dF8xLnVzZUxheW91dENvbnRleHQpKCk7XG4gICAgY29uc3Qgb3BhY2l0eSA9ICgwLCB1c2VLZXlmcmFtZVZhbHVlXzEudXNlS2V5ZnJhbWVWYWx1ZSkoaXRlbSwgc2RrXzEuS2V5ZnJhbWVUeXBlLk9wYWNpdHksIChpdGVtLCBsYXlvdXRJZCkgPT4ge1xuICAgICAgICBpZiAoIWxheW91dElkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBsYXlvdXRQYXJhbXMgPSBpdGVtLmxheW91dFBhcmFtc1tsYXlvdXRJZF07XG4gICAgICAgIHJldHVybiAnb3BhY2l0eScgaW4gbGF5b3V0UGFyYW1zID8gbGF5b3V0UGFyYW1zLm9wYWNpdHkgOiAxO1xuICAgIH0sIChhbmltYXRvciwgc2Nyb2xsLCB2YWx1ZSkgPT4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IGFuaW1hdG9yLmdldE9wYWNpdHkoeyBvcGFjaXR5OiB2YWx1ZSB9LCBzY3JvbGwpLm9wYWNpdHkgOiB1bmRlZmluZWQsIHNlY3Rpb25JZCwgW2xheW91dElkXSk7XG4gICAgcmV0dXJuIHsgb3BhY2l0eSB9O1xufVxuZXhwb3J0cy51c2VDb21wb3VuZEl0ZW0gPSB1c2VDb21wb3VuZEl0ZW07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CompoundItem/useCompoundItem.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CustomItem/CustomItem.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CustomItem/CustomItem.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CustomItem = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst useCntrlContext_1 = __webpack_require__(/*! ../../../provider/useCntrlContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/useCntrlContext.js\");\nconst style_1 = __importDefault(__webpack_require__(/*! styled-jsx/style */ \"./node_modules/next/node_modules/styled-jsx/style.js\"));\nconst useRegisterResize_1 = __webpack_require__(/*! ../../../common/useRegisterResize */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useRegisterResize.js\");\nconst useItemAngle_1 = __webpack_require__(/*! ../useItemAngle */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemAngle.js\");\nconst CustomItem = ({ item, onResize, sectionId, interactionCtrl }) => {\n    var _a, _b, _c;\n    const sdk = (0, useCntrlContext_1.useCntrlContext)();\n    const { layouts } = (0, useCntrlContext_1.useCntrlContext)();\n    const itemAngle = (0, useItemAngle_1.useItemAngle)(item, sectionId);\n    const component = sdk.customItems.get(item.commonParams.name);\n    const layoutValues = [item.area];\n    const [ref, setRef] = (0, react_1.useState)(null);\n    (0, useRegisterResize_1.useRegisterResize)(ref, onResize);\n    const stateParams = interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.getState(['angle']);\n    const angle = (_b = (_a = stateParams === null || stateParams === void 0 ? void 0 : stateParams.styles) === null || _a === void 0 ? void 0 : _a.angle) !== null && _b !== void 0 ? _b : itemAngle;\n    if (!component)\n        return null;\n    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(\"div\", { className: `custom-component-${item.id}`, ref: setRef, style: Object.assign(Object.assign({}, (angle !== undefined ? { transform: `rotate(${angle}deg)` } : {})), { transition: (_c = stateParams === null || stateParams === void 0 ? void 0 : stateParams.transition) !== null && _c !== void 0 ? _c : 'none' }), children: component({}) }), (0, jsx_runtime_1.jsx)(style_1.default, { id: item.id, children: `${(0, sdk_1.getLayoutStyles)(layouts, layoutValues, ([area]) => {\n                    return (`\r\n            .custom-component-${item.id} {\r\n              transform: rotate(${area.angle}deg);\r\n              height: 100%;\r\n              width: 100%;\r\n              position: absolute;\r\n              left: 0;\r\n              top: 0;\r\n            }\r\n          `);\n                })}` })] }));\n};\nexports.CustomItem = CustomItem;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9DdXN0b21JdGVtL0N1c3RvbUl0ZW0uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0I7QUFDbEIsc0JBQXNCLG1CQUFPLENBQUMsOERBQW1CO0FBQ2pELGNBQWMsbUJBQU8sQ0FBQyxxRUFBaUI7QUFDdkMsZ0JBQWdCLG1CQUFPLENBQUMsNENBQU87QUFDL0IsMEJBQTBCLG1CQUFPLENBQUMsZ0hBQW1DO0FBQ3JFLGdDQUFnQyxtQkFBTyxDQUFDLDhFQUFrQjtBQUMxRCw0QkFBNEIsbUJBQU8sQ0FBQyxnSEFBbUM7QUFDdkUsdUJBQXVCLG1CQUFPLENBQUMsbUdBQWlCO0FBQ2hELHNCQUFzQiw0Q0FBNEM7QUFDbEU7QUFDQTtBQUNBLFlBQVksVUFBVTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsMkNBQTJDLCtCQUErQixRQUFRLHFEQUFxRCwyQkFBMkIscUJBQXFCLE1BQU0sUUFBUSxJQUFJLE1BQU0sNklBQTZJLHlCQUF5QixHQUFHLDZDQUE2QywwQkFBMEI7QUFDN2Y7QUFDQSxnQ0FBZ0M7QUFDaEMsa0NBQWtDLFdBQVc7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsRUFBRSxHQUFHLElBQUk7QUFDMUI7QUFDQSxrQkFBa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay1uZXh0anMvbGliL2NvbXBvbmVudHMvaXRlbXMvQ3VzdG9tSXRlbS9DdXN0b21JdGVtLmpzPzJmMGEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkN1c3RvbUl0ZW0gPSB2b2lkIDA7XG5jb25zdCBqc3hfcnVudGltZV8xID0gcmVxdWlyZShcInJlYWN0L2pzeC1ydW50aW1lXCIpO1xuY29uc3Qgc2RrXzEgPSByZXF1aXJlKFwiQGNudHJsLXNpdGUvc2RrXCIpO1xuY29uc3QgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbmNvbnN0IHVzZUNudHJsQ29udGV4dF8xID0gcmVxdWlyZShcIi4uLy4uLy4uL3Byb3ZpZGVyL3VzZUNudHJsQ29udGV4dFwiKTtcbmNvbnN0IHN0eWxlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcInN0eWxlZC1qc3gvc3R5bGVcIikpO1xuY29uc3QgdXNlUmVnaXN0ZXJSZXNpemVfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jb21tb24vdXNlUmVnaXN0ZXJSZXNpemVcIik7XG5jb25zdCB1c2VJdGVtQW5nbGVfMSA9IHJlcXVpcmUoXCIuLi91c2VJdGVtQW5nbGVcIik7XG5jb25zdCBDdXN0b21JdGVtID0gKHsgaXRlbSwgb25SZXNpemUsIHNlY3Rpb25JZCwgaW50ZXJhY3Rpb25DdHJsIH0pID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBjb25zdCBzZGsgPSAoMCwgdXNlQ250cmxDb250ZXh0XzEudXNlQ250cmxDb250ZXh0KSgpO1xuICAgIGNvbnN0IHsgbGF5b3V0cyB9ID0gKDAsIHVzZUNudHJsQ29udGV4dF8xLnVzZUNudHJsQ29udGV4dCkoKTtcbiAgICBjb25zdCBpdGVtQW5nbGUgPSAoMCwgdXNlSXRlbUFuZ2xlXzEudXNlSXRlbUFuZ2xlKShpdGVtLCBzZWN0aW9uSWQpO1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IHNkay5jdXN0b21JdGVtcy5nZXQoaXRlbS5jb21tb25QYXJhbXMubmFtZSk7XG4gICAgY29uc3QgbGF5b3V0VmFsdWVzID0gW2l0ZW0uYXJlYV07XG4gICAgY29uc3QgW3JlZiwgc2V0UmVmXSA9ICgwLCByZWFjdF8xLnVzZVN0YXRlKShudWxsKTtcbiAgICAoMCwgdXNlUmVnaXN0ZXJSZXNpemVfMS51c2VSZWdpc3RlclJlc2l6ZSkocmVmLCBvblJlc2l6ZSk7XG4gICAgY29uc3Qgc3RhdGVQYXJhbXMgPSBpbnRlcmFjdGlvbkN0cmwgPT09IG51bGwgfHwgaW50ZXJhY3Rpb25DdHJsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlcmFjdGlvbkN0cmwuZ2V0U3RhdGUoWydhbmdsZSddKTtcbiAgICBjb25zdCBhbmdsZSA9IChfYiA9IChfYSA9IHN0YXRlUGFyYW1zID09PSBudWxsIHx8IHN0YXRlUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdGF0ZVBhcmFtcy5zdHlsZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hbmdsZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogaXRlbUFuZ2xlO1xuICAgIGlmICghY29tcG9uZW50KVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gKCgwLCBqc3hfcnVudGltZV8xLmpzeHMpKGpzeF9ydW50aW1lXzEuRnJhZ21lbnQsIHsgY2hpbGRyZW46IFsoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBgY3VzdG9tLWNvbXBvbmVudC0ke2l0ZW0uaWR9YCwgcmVmOiBzZXRSZWYsIHN0eWxlOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIChhbmdsZSAhPT0gdW5kZWZpbmVkID8geyB0cmFuc2Zvcm06IGByb3RhdGUoJHthbmdsZX1kZWcpYCB9IDoge30pKSwgeyB0cmFuc2l0aW9uOiAoX2MgPSBzdGF0ZVBhcmFtcyA9PT0gbnVsbCB8fCBzdGF0ZVBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhdGVQYXJhbXMudHJhbnNpdGlvbikgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogJ25vbmUnIH0pLCBjaGlsZHJlbjogY29tcG9uZW50KHt9KSB9KSwgKDAsIGpzeF9ydW50aW1lXzEuanN4KShzdHlsZV8xLmRlZmF1bHQsIHsgaWQ6IGl0ZW0uaWQsIGNoaWxkcmVuOiBgJHsoMCwgc2RrXzEuZ2V0TGF5b3V0U3R5bGVzKShsYXlvdXRzLCBsYXlvdXRWYWx1ZXMsIChbYXJlYV0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChgXHJcbiAgICAgICAgICAgIC5jdXN0b20tY29tcG9uZW50LSR7aXRlbS5pZH0ge1xyXG4gICAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKCR7YXJlYS5hbmdsZX1kZWcpO1xyXG4gICAgICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgICAgbGVmdDogMDtcclxuICAgICAgICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIGApO1xuICAgICAgICAgICAgICAgIH0pfWAgfSldIH0pKTtcbn07XG5leHBvcnRzLkN1c3RvbUl0ZW0gPSBDdXN0b21JdGVtO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CustomItem/CustomItem.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/EmbedVideoItem/VimeoEmbed.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/EmbedVideoItem/VimeoEmbed.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.VimeoEmbedItem = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst player_1 = __importDefault(__webpack_require__(/*! @vimeo/player */ \"./node_modules/@vimeo/player/dist/player.es.js\"));\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst style_1 = __importDefault(__webpack_require__(/*! styled-jsx/style */ \"./node_modules/next/node_modules/styled-jsx/style.js\"));\nconst useItemAngle_1 = __webpack_require__(/*! ../useItemAngle */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemAngle.js\");\nconst useCntrlContext_1 = __webpack_require__(/*! ../../../provider/useCntrlContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/useCntrlContext.js\");\nconst useRegisterResize_1 = __webpack_require__(/*! ../../../common/useRegisterResize */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useRegisterResize.js\");\nconst getStyleFromItemStateAndParams_1 = __webpack_require__(/*! ../../../utils/getStyleFromItemStateAndParams */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getStyleFromItemStateAndParams.js\");\nconst useEmbedVideoItem_1 = __webpack_require__(/*! ./useEmbedVideoItem */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/EmbedVideoItem/useEmbedVideoItem.js\");\nconst LinkWrapper_1 = __webpack_require__(/*! ../LinkWrapper */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/LinkWrapper.js\");\nconst VimeoEmbedItem = ({ item, sectionId, onResize, interactionCtrl, onVisibilityChange }) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n    const id = (0, react_1.useId)();\n    const { layouts } = (0, useCntrlContext_1.useCntrlContext)();\n    const { radius: itemRadius, blur: itemBlur, opacity: itemOpacity } = (0, useEmbedVideoItem_1.useEmbedVideoItem)(item, sectionId);\n    const [iframeRef, setIframeRef] = (0, react_1.useState)(null);\n    const vimeoPlayer = (0, react_1.useMemo)(() => iframeRef ? new player_1.default(iframeRef) : undefined, [iframeRef]);\n    const itemAngle = (0, useItemAngle_1.useItemAngle)(item, sectionId);\n    const { play, controls, loop, muted, pictureInPicture, url } = item.commonParams;\n    const [ref, setRef] = (0, react_1.useState)(null);\n    const [imgRef, setImgRef] = (0, react_1.useState)(null);\n    const [isCoverVisible, setIsCoverVisible] = (0, react_1.useState)(false);\n    const layoutValues = [item.area, item.layoutParams];\n    const wrapperStateParams = interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.getState(['angle', 'blur', 'opacity']);\n    const frameStateParams = interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.getState(['radius']);\n    const angle = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_a = wrapperStateParams === null || wrapperStateParams === void 0 ? void 0 : wrapperStateParams.styles) === null || _a === void 0 ? void 0 : _a.angle, itemAngle);\n    const blur = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_b = wrapperStateParams === null || wrapperStateParams === void 0 ? void 0 : wrapperStateParams.styles) === null || _b === void 0 ? void 0 : _b.blur, itemBlur);\n    const opacity = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_c = wrapperStateParams === null || wrapperStateParams === void 0 ? void 0 : wrapperStateParams.styles) === null || _c === void 0 ? void 0 : _c.opacity, itemOpacity);\n    const radius = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_d = frameStateParams === null || frameStateParams === void 0 ? void 0 : frameStateParams.styles) === null || _d === void 0 ? void 0 : _d.radius, itemRadius);\n    (0, useRegisterResize_1.useRegisterResize)(ref, onResize);\n    const getValidVimeoUrl = (url) => {\n        const validURL = new URL(url);\n        validURL.searchParams.append('controls', String(controls));\n        validURL.searchParams.append('autoplay', String(play === 'auto'));\n        validURL.searchParams.append('muted', String(muted));\n        validURL.searchParams.append('loop', String(loop));\n        validURL.searchParams.append('pip', String(pictureInPicture));\n        validURL.searchParams.append('title', '0');\n        validURL.searchParams.append('byline', '0');\n        validURL.searchParams.append('portrait', '0');\n        validURL.searchParams.append('autopause', 'false');\n        return validURL.href;\n    };\n    const validUrl = getValidVimeoUrl(url);\n    (0, react_1.useEffect)(() => {\n        if (!vimeoPlayer || !imgRef)\n            return;\n        if (play === 'on-click') {\n            setIsCoverVisible(true);\n        }\n        vimeoPlayer.on('pause', (e) => {\n            if (e.seconds === 0) {\n                setIsCoverVisible(true);\n            }\n        });\n        vimeoPlayer.on('ended', () => {\n            setIsCoverVisible(true);\n        });\n    }, [vimeoPlayer, imgRef]);\n    const handleClick = () => __awaiter(void 0, void 0, void 0, function* () {\n        if (!vimeoPlayer)\n            return;\n        const isPaused = yield vimeoPlayer.getPaused();\n        if (isPaused) {\n            vimeoPlayer.play();\n            setIsCoverVisible(false);\n        }\n        else {\n            vimeoPlayer.pause();\n        }\n    });\n    const onCoverClick = () => {\n        if (!vimeoPlayer || !imgRef)\n            return;\n        vimeoPlayer.play();\n        setIsCoverVisible(false);\n    };\n    const isInteractive = opacity !== 0;\n    (0, react_1.useEffect)(() => {\n        onVisibilityChange === null || onVisibilityChange === void 0 ? void 0 : onVisibilityChange(isInteractive);\n        if (!isInteractive && vimeoPlayer) {\n            vimeoPlayer.pause();\n        }\n    }, [isInteractive, onVisibilityChange, vimeoPlayer]);\n    (0, react_1.useEffect)(() => {\n        if (!vimeoPlayer || !interactionCtrl)\n            return;\n        interactionCtrl.setActionReceiver((type) => {\n            switch (type) {\n                case 'play':\n                    vimeoPlayer.play();\n                    break;\n                case 'pause':\n                    vimeoPlayer.pause();\n                    break;\n            }\n        });\n    }, [interactionCtrl, vimeoPlayer]);\n    return ((0, jsx_runtime_1.jsxs)(LinkWrapper_1.LinkWrapper, { url: (_e = item.link) === null || _e === void 0 ? void 0 : _e.url, target: (_f = item.link) === null || _f === void 0 ? void 0 : _f.target, children: [(0, jsx_runtime_1.jsxs)(\"div\", { className: `embed-video-wrapper-${item.id}`, ref: setRef, style: Object.assign(Object.assign(Object.assign(Object.assign({}, (opacity !== undefined ? { opacity } : {})), (angle !== undefined ? { transform: `rotate(${angle}deg) translateZ(0)` } : {})), (blur !== undefined ? { filter: `blur(${blur * 100}vw)` } : {})), { transition: (_g = wrapperStateParams === null || wrapperStateParams === void 0 ? void 0 : wrapperStateParams.transition) !== null && _g !== void 0 ? _g : 'none' }), onMouseEnter: () => {\n                    if (!vimeoPlayer || play !== 'on-hover')\n                        return;\n                    vimeoPlayer.play();\n                }, onMouseLeave: () => {\n                    if (!vimeoPlayer || play !== 'on-hover')\n                        return;\n                    vimeoPlayer.pause();\n                }, children: [item.commonParams.coverUrl && ((0, jsx_runtime_1.jsx)(\"img\", { ref: setImgRef, onClick: () => onCoverClick(), src: (_h = item.commonParams.coverUrl) !== null && _h !== void 0 ? _h : '', style: {\n                            display: isCoverVisible ? 'block' : 'none',\n                            cursor: 'pointer',\n                            position: 'absolute',\n                            objectFit: 'cover',\n                            height: '100%',\n                            width: '100%',\n                            top: '0',\n                            left: '0'\n                        }, alt: \"Cover img\" })), (!item.commonParams.controls && (play === 'on-click' || play === 'auto')) && ((0, jsx_runtime_1.jsx)(\"div\", { onClick: handleClick, style: {\n                            position: 'absolute',\n                            height: '100%',\n                            width: '100%',\n                            top: '0',\n                            left: '0'\n                        } })), (0, jsx_runtime_1.jsx)(\"iframe\", { ref: setIframeRef, className: \"embed-video\", src: validUrl || '', allow: \"autoplay; fullscreen; picture-in-picture;\", allowFullScreen: true, style: Object.assign(Object.assign({}, (radius !== undefined ? { borderRadius: `${radius * 100}vw` } : {})), { transition: (_j = frameStateParams === null || frameStateParams === void 0 ? void 0 : frameStateParams.transition) !== null && _j !== void 0 ? _j : 'none' }) })] }), (0, jsx_runtime_1.jsx)(style_1.default, { id: id, children: `\r\n      .embed-video-wrapper-${item.id} {\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n      .embed-video {\r\n        width: 100%;\r\n        height: 100%;\r\n        z-index: 1;\r\n        border: none;\r\n        overflow: hidden;\r\n      }\r\n      ${(0, sdk_1.getLayoutStyles)(layouts, layoutValues, ([area, layoutParams]) => {\n                    return (`\r\n          .embed-video-wrapper-${item.id} {\r\n            opacity: ${layoutParams.opacity};\r\n            transform: rotate(${area.angle}deg) translateZ(0);\r\n            filter: ${layoutParams.blur !== 0 ? `blur(${layoutParams.blur * 100}vw)` : 'unset'};\r\n          }\r\n          .embed-video-wrapper-${item.id} .embed-video {\r\n            border-radius: ${layoutParams.radius * 100}vw;\r\n          }\r\n        `);\n                })}\r\n    ` })] }));\n};\nexports.VimeoEmbedItem = VimeoEmbedItem;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9FbWJlZFZpZGVvSXRlbS9WaW1lb0VtYmVkLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQjtBQUN0QixzQkFBc0IsbUJBQU8sQ0FBQyw4REFBbUI7QUFDakQsY0FBYyxtQkFBTyxDQUFDLHFFQUFpQjtBQUN2QyxpQ0FBaUMsbUJBQU8sQ0FBQyxxRUFBZTtBQUN4RCxnQkFBZ0IsbUJBQU8sQ0FBQyw0Q0FBTztBQUMvQixnQ0FBZ0MsbUJBQU8sQ0FBQyw4RUFBa0I7QUFDMUQsdUJBQXVCLG1CQUFPLENBQUMsbUdBQWlCO0FBQ2hELDBCQUEwQixtQkFBTyxDQUFDLGdIQUFtQztBQUNyRSw0QkFBNEIsbUJBQU8sQ0FBQyxnSEFBbUM7QUFDdkUseUNBQXlDLG1CQUFPLENBQUMsd0lBQStDO0FBQ2hHLDRCQUE0QixtQkFBTyxDQUFDLDJIQUFxQjtBQUN6RCxzQkFBc0IsbUJBQU8sQ0FBQyxpR0FBZ0I7QUFDOUMsMEJBQTBCLGdFQUFnRTtBQUMxRjtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCLFlBQVksMkRBQTJEO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQXFEO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCxpRUFBaUUsd0xBQXdMLGtDQUFrQyxRQUFRLGlGQUFpRiw2QkFBNkIsVUFBVSxJQUFJLDZCQUE2QixxQkFBcUIsTUFBTSxzQkFBc0IsSUFBSSw0QkFBNEIsZ0JBQWdCLFdBQVcsT0FBTyxJQUFJLE1BQU0sa0tBQWtLO0FBQzN0QjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDRFQUE0RTtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG9CQUFvQixrSEFBa0g7QUFDL0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1Q0FBdUMsb0ZBQW9GLFlBQVksbUJBQW1CLCtEQUErRCw0QkFBNEIsaUJBQWlCLGFBQWEsTUFBTSxJQUFJLE1BQU0sNEpBQTRKLEdBQUcsSUFBSSw2Q0FBNkM7QUFDOWdCLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsaUNBQWlDO0FBQ2pDLHVCQUF1QjtBQUN2QixnQ0FBZ0MsV0FBVztBQUMzQyxzQkFBc0Isa0NBQWtDLHdCQUF3QjtBQUNoRjtBQUNBLGlDQUFpQyxTQUFTO0FBQzFDLDZCQUE2QiwwQkFBMEI7QUFDdkQ7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixPQUFPLElBQUk7QUFDWDtBQUNBLHNCQUFzQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9FbWJlZFZpZGVvSXRlbS9WaW1lb0VtYmVkLmpzP2QwMDQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVmltZW9FbWJlZEl0ZW0gPSB2b2lkIDA7XG5jb25zdCBqc3hfcnVudGltZV8xID0gcmVxdWlyZShcInJlYWN0L2pzeC1ydW50aW1lXCIpO1xuY29uc3Qgc2RrXzEgPSByZXF1aXJlKFwiQGNudHJsLXNpdGUvc2RrXCIpO1xuY29uc3QgcGxheWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIkB2aW1lby9wbGF5ZXJcIikpO1xuY29uc3QgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbmNvbnN0IHN0eWxlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcInN0eWxlZC1qc3gvc3R5bGVcIikpO1xuY29uc3QgdXNlSXRlbUFuZ2xlXzEgPSByZXF1aXJlKFwiLi4vdXNlSXRlbUFuZ2xlXCIpO1xuY29uc3QgdXNlQ250cmxDb250ZXh0XzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vcHJvdmlkZXIvdXNlQ250cmxDb250ZXh0XCIpO1xuY29uc3QgdXNlUmVnaXN0ZXJSZXNpemVfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jb21tb24vdXNlUmVnaXN0ZXJSZXNpemVcIik7XG5jb25zdCBnZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXNfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy9nZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXNcIik7XG5jb25zdCB1c2VFbWJlZFZpZGVvSXRlbV8xID0gcmVxdWlyZShcIi4vdXNlRW1iZWRWaWRlb0l0ZW1cIik7XG5jb25zdCBMaW5rV3JhcHBlcl8xID0gcmVxdWlyZShcIi4uL0xpbmtXcmFwcGVyXCIpO1xuY29uc3QgVmltZW9FbWJlZEl0ZW0gPSAoeyBpdGVtLCBzZWN0aW9uSWQsIG9uUmVzaXplLCBpbnRlcmFjdGlvbkN0cmwsIG9uVmlzaWJpbGl0eUNoYW5nZSB9KSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2o7XG4gICAgY29uc3QgaWQgPSAoMCwgcmVhY3RfMS51c2VJZCkoKTtcbiAgICBjb25zdCB7IGxheW91dHMgfSA9ICgwLCB1c2VDbnRybENvbnRleHRfMS51c2VDbnRybENvbnRleHQpKCk7XG4gICAgY29uc3QgeyByYWRpdXM6IGl0ZW1SYWRpdXMsIGJsdXI6IGl0ZW1CbHVyLCBvcGFjaXR5OiBpdGVtT3BhY2l0eSB9ID0gKDAsIHVzZUVtYmVkVmlkZW9JdGVtXzEudXNlRW1iZWRWaWRlb0l0ZW0pKGl0ZW0sIHNlY3Rpb25JZCk7XG4gICAgY29uc3QgW2lmcmFtZVJlZiwgc2V0SWZyYW1lUmVmXSA9ICgwLCByZWFjdF8xLnVzZVN0YXRlKShudWxsKTtcbiAgICBjb25zdCB2aW1lb1BsYXllciA9ICgwLCByZWFjdF8xLnVzZU1lbW8pKCgpID0+IGlmcmFtZVJlZiA/IG5ldyBwbGF5ZXJfMS5kZWZhdWx0KGlmcmFtZVJlZikgOiB1bmRlZmluZWQsIFtpZnJhbWVSZWZdKTtcbiAgICBjb25zdCBpdGVtQW5nbGUgPSAoMCwgdXNlSXRlbUFuZ2xlXzEudXNlSXRlbUFuZ2xlKShpdGVtLCBzZWN0aW9uSWQpO1xuICAgIGNvbnN0IHsgcGxheSwgY29udHJvbHMsIGxvb3AsIG11dGVkLCBwaWN0dXJlSW5QaWN0dXJlLCB1cmwgfSA9IGl0ZW0uY29tbW9uUGFyYW1zO1xuICAgIGNvbnN0IFtyZWYsIHNldFJlZl0gPSAoMCwgcmVhY3RfMS51c2VTdGF0ZSkobnVsbCk7XG4gICAgY29uc3QgW2ltZ1JlZiwgc2V0SW1nUmVmXSA9ICgwLCByZWFjdF8xLnVzZVN0YXRlKShudWxsKTtcbiAgICBjb25zdCBbaXNDb3ZlclZpc2libGUsIHNldElzQ292ZXJWaXNpYmxlXSA9ICgwLCByZWFjdF8xLnVzZVN0YXRlKShmYWxzZSk7XG4gICAgY29uc3QgbGF5b3V0VmFsdWVzID0gW2l0ZW0uYXJlYSwgaXRlbS5sYXlvdXRQYXJhbXNdO1xuICAgIGNvbnN0IHdyYXBwZXJTdGF0ZVBhcmFtcyA9IGludGVyYWN0aW9uQ3RybCA9PT0gbnVsbCB8fCBpbnRlcmFjdGlvbkN0cmwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyYWN0aW9uQ3RybC5nZXRTdGF0ZShbJ2FuZ2xlJywgJ2JsdXInLCAnb3BhY2l0eSddKTtcbiAgICBjb25zdCBmcmFtZVN0YXRlUGFyYW1zID0gaW50ZXJhY3Rpb25DdHJsID09PSBudWxsIHx8IGludGVyYWN0aW9uQ3RybCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW50ZXJhY3Rpb25DdHJsLmdldFN0YXRlKFsncmFkaXVzJ10pO1xuICAgIGNvbnN0IGFuZ2xlID0gKDAsIGdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtc18xLmdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtcykoKF9hID0gd3JhcHBlclN0YXRlUGFyYW1zID09PSBudWxsIHx8IHdyYXBwZXJTdGF0ZVBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogd3JhcHBlclN0YXRlUGFyYW1zLnN0eWxlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFuZ2xlLCBpdGVtQW5nbGUpO1xuICAgIGNvbnN0IGJsdXIgPSAoMCwgZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zXzEuZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zKSgoX2IgPSB3cmFwcGVyU3RhdGVQYXJhbXMgPT09IG51bGwgfHwgd3JhcHBlclN0YXRlUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3cmFwcGVyU3RhdGVQYXJhbXMuc3R5bGVzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYmx1ciwgaXRlbUJsdXIpO1xuICAgIGNvbnN0IG9wYWNpdHkgPSAoMCwgZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zXzEuZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zKSgoX2MgPSB3cmFwcGVyU3RhdGVQYXJhbXMgPT09IG51bGwgfHwgd3JhcHBlclN0YXRlUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3cmFwcGVyU3RhdGVQYXJhbXMuc3R5bGVzKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Mub3BhY2l0eSwgaXRlbU9wYWNpdHkpO1xuICAgIGNvbnN0IHJhZGl1cyA9ICgwLCBnZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXNfMS5nZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXMpKChfZCA9IGZyYW1lU3RhdGVQYXJhbXMgPT09IG51bGwgfHwgZnJhbWVTdGF0ZVBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnJhbWVTdGF0ZVBhcmFtcy5zdHlsZXMpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5yYWRpdXMsIGl0ZW1SYWRpdXMpO1xuICAgICgwLCB1c2VSZWdpc3RlclJlc2l6ZV8xLnVzZVJlZ2lzdGVyUmVzaXplKShyZWYsIG9uUmVzaXplKTtcbiAgICBjb25zdCBnZXRWYWxpZFZpbWVvVXJsID0gKHVybCkgPT4ge1xuICAgICAgICBjb25zdCB2YWxpZFVSTCA9IG5ldyBVUkwodXJsKTtcbiAgICAgICAgdmFsaWRVUkwuc2VhcmNoUGFyYW1zLmFwcGVuZCgnY29udHJvbHMnLCBTdHJpbmcoY29udHJvbHMpKTtcbiAgICAgICAgdmFsaWRVUkwuc2VhcmNoUGFyYW1zLmFwcGVuZCgnYXV0b3BsYXknLCBTdHJpbmcocGxheSA9PT0gJ2F1dG8nKSk7XG4gICAgICAgIHZhbGlkVVJMLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ211dGVkJywgU3RyaW5nKG11dGVkKSk7XG4gICAgICAgIHZhbGlkVVJMLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ2xvb3AnLCBTdHJpbmcobG9vcCkpO1xuICAgICAgICB2YWxpZFVSTC5zZWFyY2hQYXJhbXMuYXBwZW5kKCdwaXAnLCBTdHJpbmcocGljdHVyZUluUGljdHVyZSkpO1xuICAgICAgICB2YWxpZFVSTC5zZWFyY2hQYXJhbXMuYXBwZW5kKCd0aXRsZScsICcwJyk7XG4gICAgICAgIHZhbGlkVVJMLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ2J5bGluZScsICcwJyk7XG4gICAgICAgIHZhbGlkVVJMLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ3BvcnRyYWl0JywgJzAnKTtcbiAgICAgICAgdmFsaWRVUkwuc2VhcmNoUGFyYW1zLmFwcGVuZCgnYXV0b3BhdXNlJywgJ2ZhbHNlJyk7XG4gICAgICAgIHJldHVybiB2YWxpZFVSTC5ocmVmO1xuICAgIH07XG4gICAgY29uc3QgdmFsaWRVcmwgPSBnZXRWYWxpZFZpbWVvVXJsKHVybCk7XG4gICAgKDAsIHJlYWN0XzEudXNlRWZmZWN0KSgoKSA9PiB7XG4gICAgICAgIGlmICghdmltZW9QbGF5ZXIgfHwgIWltZ1JlZilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHBsYXkgPT09ICdvbi1jbGljaycpIHtcbiAgICAgICAgICAgIHNldElzQ292ZXJWaXNpYmxlKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHZpbWVvUGxheWVyLm9uKCdwYXVzZScsIChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5zZWNvbmRzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgc2V0SXNDb3ZlclZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB2aW1lb1BsYXllci5vbignZW5kZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICBzZXRJc0NvdmVyVmlzaWJsZSh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgfSwgW3ZpbWVvUGxheWVyLCBpbWdSZWZdKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBpZiAoIXZpbWVvUGxheWVyKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBpc1BhdXNlZCA9IHlpZWxkIHZpbWVvUGxheWVyLmdldFBhdXNlZCgpO1xuICAgICAgICBpZiAoaXNQYXVzZWQpIHtcbiAgICAgICAgICAgIHZpbWVvUGxheWVyLnBsYXkoKTtcbiAgICAgICAgICAgIHNldElzQ292ZXJWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZpbWVvUGxheWVyLnBhdXNlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBvbkNvdmVyQ2xpY2sgPSAoKSA9PiB7XG4gICAgICAgIGlmICghdmltZW9QbGF5ZXIgfHwgIWltZ1JlZilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmltZW9QbGF5ZXIucGxheSgpO1xuICAgICAgICBzZXRJc0NvdmVyVmlzaWJsZShmYWxzZSk7XG4gICAgfTtcbiAgICBjb25zdCBpc0ludGVyYWN0aXZlID0gb3BhY2l0eSAhPT0gMDtcbiAgICAoMCwgcmVhY3RfMS51c2VFZmZlY3QpKCgpID0+IHtcbiAgICAgICAgb25WaXNpYmlsaXR5Q2hhbmdlID09PSBudWxsIHx8IG9uVmlzaWJpbGl0eUNoYW5nZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25WaXNpYmlsaXR5Q2hhbmdlKGlzSW50ZXJhY3RpdmUpO1xuICAgICAgICBpZiAoIWlzSW50ZXJhY3RpdmUgJiYgdmltZW9QbGF5ZXIpIHtcbiAgICAgICAgICAgIHZpbWVvUGxheWVyLnBhdXNlKCk7XG4gICAgICAgIH1cbiAgICB9LCBbaXNJbnRlcmFjdGl2ZSwgb25WaXNpYmlsaXR5Q2hhbmdlLCB2aW1lb1BsYXllcl0pO1xuICAgICgwLCByZWFjdF8xLnVzZUVmZmVjdCkoKCkgPT4ge1xuICAgICAgICBpZiAoIXZpbWVvUGxheWVyIHx8ICFpbnRlcmFjdGlvbkN0cmwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGludGVyYWN0aW9uQ3RybC5zZXRBY3Rpb25SZWNlaXZlcigodHlwZSkgPT4ge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAncGxheSc6XG4gICAgICAgICAgICAgICAgICAgIHZpbWVvUGxheWVyLnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncGF1c2UnOlxuICAgICAgICAgICAgICAgICAgICB2aW1lb1BsYXllci5wYXVzZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSwgW2ludGVyYWN0aW9uQ3RybCwgdmltZW9QbGF5ZXJdKTtcbiAgICByZXR1cm4gKCgwLCBqc3hfcnVudGltZV8xLmpzeHMpKExpbmtXcmFwcGVyXzEuTGlua1dyYXBwZXIsIHsgdXJsOiAoX2UgPSBpdGVtLmxpbmspID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS51cmwsIHRhcmdldDogKF9mID0gaXRlbS5saW5rKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YudGFyZ2V0LCBjaGlsZHJlbjogWygwLCBqc3hfcnVudGltZV8xLmpzeHMpKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBgZW1iZWQtdmlkZW8td3JhcHBlci0ke2l0ZW0uaWR9YCwgcmVmOiBzZXRSZWYsIHN0eWxlOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCAob3BhY2l0eSAhPT0gdW5kZWZpbmVkID8geyBvcGFjaXR5IH0gOiB7fSkpLCAoYW5nbGUgIT09IHVuZGVmaW5lZCA/IHsgdHJhbnNmb3JtOiBgcm90YXRlKCR7YW5nbGV9ZGVnKSB0cmFuc2xhdGVaKDApYCB9IDoge30pKSwgKGJsdXIgIT09IHVuZGVmaW5lZCA/IHsgZmlsdGVyOiBgYmx1cigke2JsdXIgKiAxMDB9dncpYCB9IDoge30pKSwgeyB0cmFuc2l0aW9uOiAoX2cgPSB3cmFwcGVyU3RhdGVQYXJhbXMgPT09IG51bGwgfHwgd3JhcHBlclN0YXRlUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3cmFwcGVyU3RhdGVQYXJhbXMudHJhbnNpdGlvbikgIT09IG51bGwgJiYgX2cgIT09IHZvaWQgMCA/IF9nIDogJ25vbmUnIH0pLCBvbk1vdXNlRW50ZXI6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2aW1lb1BsYXllciB8fCBwbGF5ICE9PSAnb24taG92ZXInKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB2aW1lb1BsYXllci5wbGF5KCk7XG4gICAgICAgICAgICAgICAgfSwgb25Nb3VzZUxlYXZlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdmltZW9QbGF5ZXIgfHwgcGxheSAhPT0gJ29uLWhvdmVyJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgdmltZW9QbGF5ZXIucGF1c2UoKTtcbiAgICAgICAgICAgICAgICB9LCBjaGlsZHJlbjogW2l0ZW0uY29tbW9uUGFyYW1zLmNvdmVyVXJsICYmICgoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwiaW1nXCIsIHsgcmVmOiBzZXRJbWdSZWYsIG9uQ2xpY2s6ICgpID0+IG9uQ292ZXJDbGljaygpLCBzcmM6IChfaCA9IGl0ZW0uY29tbW9uUGFyYW1zLmNvdmVyVXJsKSAhPT0gbnVsbCAmJiBfaCAhPT0gdm9pZCAwID8gX2ggOiAnJywgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBpc0NvdmVyVmlzaWJsZSA/ICdibG9jaycgOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Rml0OiAnY292ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAnMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogJzAnXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBhbHQ6IFwiQ292ZXIgaW1nXCIgfSkpLCAoIWl0ZW0uY29tbW9uUGFyYW1zLmNvbnRyb2xzICYmIChwbGF5ID09PSAnb24tY2xpY2snIHx8IHBsYXkgPT09ICdhdXRvJykpICYmICgoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwiZGl2XCIsIHsgb25DbGljazogaGFuZGxlQ2xpY2ssIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6ICcwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAnMCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSkpLCAoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwiaWZyYW1lXCIsIHsgcmVmOiBzZXRJZnJhbWVSZWYsIGNsYXNzTmFtZTogXCJlbWJlZC12aWRlb1wiLCBzcmM6IHZhbGlkVXJsIHx8ICcnLCBhbGxvdzogXCJhdXRvcGxheTsgZnVsbHNjcmVlbjsgcGljdHVyZS1pbi1waWN0dXJlO1wiLCBhbGxvd0Z1bGxTY3JlZW46IHRydWUsIHN0eWxlOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIChyYWRpdXMgIT09IHVuZGVmaW5lZCA/IHsgYm9yZGVyUmFkaXVzOiBgJHtyYWRpdXMgKiAxMDB9dndgIH0gOiB7fSkpLCB7IHRyYW5zaXRpb246IChfaiA9IGZyYW1lU3RhdGVQYXJhbXMgPT09IG51bGwgfHwgZnJhbWVTdGF0ZVBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnJhbWVTdGF0ZVBhcmFtcy50cmFuc2l0aW9uKSAhPT0gbnVsbCAmJiBfaiAhPT0gdm9pZCAwID8gX2ogOiAnbm9uZScgfSkgfSldIH0pLCAoMCwganN4X3J1bnRpbWVfMS5qc3gpKHN0eWxlXzEuZGVmYXVsdCwgeyBpZDogaWQsIGNoaWxkcmVuOiBgXHJcbiAgICAgIC5lbWJlZC12aWRlby13cmFwcGVyLSR7aXRlbS5pZH0ge1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgIH1cclxuICAgICAgLmVtYmVkLXZpZGVvIHtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgei1pbmRleDogMTtcclxuICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgfVxyXG4gICAgICAkeygwLCBzZGtfMS5nZXRMYXlvdXRTdHlsZXMpKGxheW91dHMsIGxheW91dFZhbHVlcywgKFthcmVhLCBsYXlvdXRQYXJhbXNdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoYFxyXG4gICAgICAgICAgLmVtYmVkLXZpZGVvLXdyYXBwZXItJHtpdGVtLmlkfSB7XHJcbiAgICAgICAgICAgIG9wYWNpdHk6ICR7bGF5b3V0UGFyYW1zLm9wYWNpdHl9O1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgke2FyZWEuYW5nbGV9ZGVnKSB0cmFuc2xhdGVaKDApO1xyXG4gICAgICAgICAgICBmaWx0ZXI6ICR7bGF5b3V0UGFyYW1zLmJsdXIgIT09IDAgPyBgYmx1cigke2xheW91dFBhcmFtcy5ibHVyICogMTAwfXZ3KWAgOiAndW5zZXQnfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5lbWJlZC12aWRlby13cmFwcGVyLSR7aXRlbS5pZH0gLmVtYmVkLXZpZGVvIHtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogJHtsYXlvdXRQYXJhbXMucmFkaXVzICogMTAwfXZ3O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIGApO1xuICAgICAgICAgICAgICAgIH0pfVxyXG4gICAgYCB9KV0gfSkpO1xufTtcbmV4cG9ydHMuVmltZW9FbWJlZEl0ZW0gPSBWaW1lb0VtYmVkSXRlbTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/EmbedVideoItem/VimeoEmbed.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/EmbedVideoItem/YoutubeEmbed.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/EmbedVideoItem/YoutubeEmbed.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.YoutubeEmbedItem = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst style_1 = __importDefault(__webpack_require__(/*! styled-jsx/style */ \"./node_modules/next/node_modules/styled-jsx/style.js\"));\nconst LinkWrapper_1 = __webpack_require__(/*! ../LinkWrapper */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/LinkWrapper.js\");\nconst getValidYoutubeUrl_1 = __webpack_require__(/*! ../../../utils/getValidYoutubeUrl */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getValidYoutubeUrl.js\");\nconst useEmbedVideoItem_1 = __webpack_require__(/*! ./useEmbedVideoItem */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/EmbedVideoItem/useEmbedVideoItem.js\");\nconst useItemAngle_1 = __webpack_require__(/*! ../useItemAngle */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemAngle.js\");\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst useCntrlContext_1 = __webpack_require__(/*! ../../../provider/useCntrlContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/useCntrlContext.js\");\nconst useYouTubeIframeApi_1 = __webpack_require__(/*! ../../../utils/Youtube/useYouTubeIframeApi */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/Youtube/useYouTubeIframeApi.js\");\nconst useRegisterResize_1 = __webpack_require__(/*! ../../../common/useRegisterResize */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useRegisterResize.js\");\nconst getStyleFromItemStateAndParams_1 = __webpack_require__(/*! ../../../utils/getStyleFromItemStateAndParams */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getStyleFromItemStateAndParams.js\");\nconst YoutubeEmbedItem = ({ item, sectionId, onResize, interactionCtrl, onVisibilityChange }) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n    const id = (0, react_1.useId)();\n    const { layouts } = (0, useCntrlContext_1.useCntrlContext)();\n    const { play, controls, url } = item.commonParams;\n    const { radius: itemRadius, blur: itemBlur, opacity: itemOpacity } = (0, useEmbedVideoItem_1.useEmbedVideoItem)(item, sectionId);\n    const itemAngle = (0, useItemAngle_1.useItemAngle)(item, sectionId);\n    const YT = (0, useYouTubeIframeApi_1.useYouTubeIframeApi)();\n    const [div, setDiv] = (0, react_1.useState)(null);\n    const [player, setPlayer] = (0, react_1.useState)(undefined);\n    const [isCoverVisible, setIsCoverVisible] = (0, react_1.useState)(false);\n    const [imgRef, setImgRef] = (0, react_1.useState)(null);\n    const layoutValues = [item.area, item.layoutParams];\n    const wrapperStateParams = interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.getState(['angle', 'blur', 'opacity']);\n    const frameStateParams = interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.getState(['radius']);\n    const angle = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_a = wrapperStateParams === null || wrapperStateParams === void 0 ? void 0 : wrapperStateParams.styles) === null || _a === void 0 ? void 0 : _a.angle, itemAngle);\n    const blur = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_b = wrapperStateParams === null || wrapperStateParams === void 0 ? void 0 : wrapperStateParams.styles) === null || _b === void 0 ? void 0 : _b.blur, itemBlur);\n    const opacity = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_c = wrapperStateParams === null || wrapperStateParams === void 0 ? void 0 : wrapperStateParams.styles) === null || _c === void 0 ? void 0 : _c.opacity, itemOpacity);\n    const radius = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_d = frameStateParams === null || frameStateParams === void 0 ? void 0 : frameStateParams.styles) === null || _d === void 0 ? void 0 : _d.radius, itemRadius);\n    const isInteractive = opacity !== 0;\n    (0, react_1.useEffect)(() => {\n        onVisibilityChange === null || onVisibilityChange === void 0 ? void 0 : onVisibilityChange(isInteractive);\n    }, [isInteractive, onVisibilityChange]);\n    (0, useRegisterResize_1.useRegisterResize)(div, onResize);\n    (0, react_1.useEffect)(() => {\n        const newUrl = new URL(url);\n        const videoId = (0, getValidYoutubeUrl_1.getYoutubeId)(newUrl);\n        if (!YT || !videoId || !div)\n            return;\n        const placeholder = document.createElement('div');\n        div.appendChild(placeholder);\n        const player = new YT.Player(placeholder, {\n            videoId,\n            playerVars: {\n                autoplay: play === 'auto' ? '1' : '0',\n                controls: controls ? '1' : '0'\n            },\n            events: {\n                onStateChange: (event) => {\n                    if (play !== 'auto')\n                        return;\n                    if (event.data === 1) {\n                        setIsCoverVisible(false);\n                    }\n                    if (event.data === 2 || event.data === -1) {\n                        setIsCoverVisible(true);\n                    }\n                },\n                onReady: (event) => {\n                    setPlayer(event.target);\n                    if (play !== 'on-click') {\n                        player.mute();\n                    }\n                }\n            }\n        });\n        return () => {\n            var _a;\n            setPlayer(undefined);\n            player.destroy();\n            (_a = placeholder.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(placeholder);\n        };\n    }, [YT, div]);\n    const onCoverClick = () => {\n        if (!player || !imgRef)\n            return;\n        player.playVideo();\n        setIsCoverVisible(false);\n    };\n    (0, react_1.useEffect)(() => {\n        if (play === 'on-click' && !controls) {\n            setIsCoverVisible(true);\n        }\n    }, []);\n    (0, react_1.useEffect)(() => {\n        onVisibilityChange === null || onVisibilityChange === void 0 ? void 0 : onVisibilityChange(isInteractive);\n        if (!isInteractive && player) {\n            player.pauseVideo();\n        }\n    }, [isInteractive, onVisibilityChange, player]);\n    (0, react_1.useEffect)(() => {\n        if (!player || !interactionCtrl)\n            return;\n        interactionCtrl.setActionReceiver((type) => {\n            switch (type) {\n                case 'play':\n                    player.playVideo();\n                    break;\n                case 'pause':\n                    player.pauseVideo();\n                    break;\n            }\n        });\n    }, [interactionCtrl, player]);\n    return ((0, jsx_runtime_1.jsxs)(LinkWrapper_1.LinkWrapper, { url: (_e = item.link) === null || _e === void 0 ? void 0 : _e.url, target: (_f = item.link) === null || _f === void 0 ? void 0 : _f.target, children: [(0, jsx_runtime_1.jsxs)(\"div\", { className: `embed-youtube-video-wrapper-${item.id}`, onMouseEnter: () => {\n                    if (!player || play !== 'on-hover')\n                        return;\n                    player.playVideo();\n                }, onMouseLeave: () => {\n                    if (!player || play !== 'on-hover')\n                        return;\n                    player.pauseVideo();\n                }, style: Object.assign(Object.assign(Object.assign(Object.assign({}, (opacity !== undefined ? { opacity } : {})), (angle !== undefined ? { transform: `rotate(${angle}deg) translateZ(0)` } : {})), (blur !== undefined ? { filter: `blur(${blur * 100}vw)` } : {})), { transition: (_g = wrapperStateParams === null || wrapperStateParams === void 0 ? void 0 : wrapperStateParams.transition) !== null && _g !== void 0 ? _g : 'none' }), children: [item.commonParams.coverUrl && ((0, jsx_runtime_1.jsx)(\"img\", { ref: setImgRef, onClick: () => onCoverClick(), src: (_h = item.commonParams.coverUrl) !== null && _h !== void 0 ? _h : '', style: {\n                            display: isCoverVisible ? 'block' : 'none',\n                            cursor: 'pointer',\n                            position: 'absolute',\n                            objectFit: 'cover',\n                            height: '100%',\n                            width: '100%',\n                            top: '0',\n                            left: '0',\n                            zIndex: 1\n                        }, alt: \"Cover img\" })), (0, jsx_runtime_1.jsx)(\"div\", { className: `embed-${item.id}`, ref: setDiv, style: Object.assign(Object.assign({}, (radius !== undefined ? { borderRadius: `${radius * 100}vw` } : {})), { transition: (_j = frameStateParams === null || frameStateParams === void 0 ? void 0 : frameStateParams.transition) !== null && _j !== void 0 ? _j : 'none' }) })] }), (0, jsx_runtime_1.jsx)(style_1.default, { id: id, children: `\r\n        .embed-youtube-video-wrapper-${item.id},\r\n        .embed-${item.id} {\r\n          position: absolute;\r\n          width: 100%;\r\n          height: 100%;\r\n        }\r\n        .embed-${item.id} {\r\n          overflow: hidden;\r\n        }\r\n        .embed-youtube-video-wrapper-${item.id} iframe {\r\n          width: 100%;\r\n          height: 100%;\r\n          z-index: 1;\r\n          border: none;\r\n        }\r\n        ${(0, sdk_1.getLayoutStyles)(layouts, layoutValues, ([area, layoutParams]) => {\n                    return (`\r\n            .embed-youtube-video-wrapper-${item.id} {\r\n              opacity: ${layoutParams.opacity};\r\n              transform: rotate(${area.angle}deg) translateZ(0);\r\n              filter: ${layoutParams.blur !== 0 ? `blur(${layoutParams.blur * 100}vw)` : 'unset'};\r\n            }\r\n            .embed-youtube-video-wrapper-${item.id} .embed-${item.id} {\r\n              border-radius: ${layoutParams.radius * 100}vw;\r\n            }\r\n          `);\n                })}\r\n      ` })] }));\n};\nexports.YoutubeEmbedItem = YoutubeEmbedItem;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9FbWJlZFZpZGVvSXRlbS9Zb3V0dWJlRW1iZWQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx3QkFBd0I7QUFDeEIsc0JBQXNCLG1CQUFPLENBQUMsOERBQW1CO0FBQ2pELGdCQUFnQixtQkFBTyxDQUFDLDRDQUFPO0FBQy9CLGdDQUFnQyxtQkFBTyxDQUFDLDhFQUFrQjtBQUMxRCxzQkFBc0IsbUJBQU8sQ0FBQyxpR0FBZ0I7QUFDOUMsNkJBQTZCLG1CQUFPLENBQUMsZ0hBQW1DO0FBQ3hFLDRCQUE0QixtQkFBTyxDQUFDLDJIQUFxQjtBQUN6RCx1QkFBdUIsbUJBQU8sQ0FBQyxtR0FBaUI7QUFDaEQsY0FBYyxtQkFBTyxDQUFDLHFFQUFpQjtBQUN2QywwQkFBMEIsbUJBQU8sQ0FBQyxnSEFBbUM7QUFDckUsOEJBQThCLG1CQUFPLENBQUMsa0lBQTRDO0FBQ2xGLDRCQUE0QixtQkFBTyxDQUFDLGdIQUFtQztBQUN2RSx5Q0FBeUMsbUJBQU8sQ0FBQyx3SUFBK0M7QUFDaEcsNEJBQTRCLGdFQUFnRTtBQUM1RjtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCLFlBQVksc0JBQXNCO0FBQ2xDLFlBQVksMkRBQTJEO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0wsaUVBQWlFLHdMQUF3TCwwQ0FBMEMsUUFBUTtBQUMzUztBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG1FQUFtRSw2QkFBNkIsVUFBVSxJQUFJLDZCQUE2QixxQkFBcUIsTUFBTSxzQkFBc0IsSUFBSSw0QkFBNEIsZ0JBQWdCLFdBQVcsT0FBTyxJQUFJLE1BQU0sa0tBQWtLLDZFQUE2RTtBQUN4Z0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG9CQUFvQixvQ0FBb0Msb0JBQW9CLFFBQVEscURBQXFELDRCQUE0QixpQkFBaUIsYUFBYSxNQUFNLElBQUksTUFBTSw0SkFBNEosR0FBRyxJQUFJLDZDQUE2QztBQUM1Yix1Q0FBdUMsUUFBUTtBQUMvQyxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLHVDQUF1QyxTQUFTO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSwyQ0FBMkM7QUFDM0MseUJBQXlCO0FBQ3pCLGtDQUFrQyxXQUFXO0FBQzdDLHdCQUF3QixrQ0FBa0Msd0JBQXdCO0FBQ2xGO0FBQ0EsMkNBQTJDLFNBQVMsU0FBUztBQUM3RCwrQkFBK0IsMEJBQTBCO0FBQ3pEO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsU0FBUyxJQUFJO0FBQ2I7QUFDQSx3QkFBd0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay1uZXh0anMvbGliL2NvbXBvbmVudHMvaXRlbXMvRW1iZWRWaWRlb0l0ZW0vWW91dHViZUVtYmVkLmpzPzk4NzciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLllvdXR1YmVFbWJlZEl0ZW0gPSB2b2lkIDA7XG5jb25zdCBqc3hfcnVudGltZV8xID0gcmVxdWlyZShcInJlYWN0L2pzeC1ydW50aW1lXCIpO1xuY29uc3QgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbmNvbnN0IHN0eWxlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcInN0eWxlZC1qc3gvc3R5bGVcIikpO1xuY29uc3QgTGlua1dyYXBwZXJfMSA9IHJlcXVpcmUoXCIuLi9MaW5rV3JhcHBlclwiKTtcbmNvbnN0IGdldFZhbGlkWW91dHViZVVybF8xID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL2dldFZhbGlkWW91dHViZVVybFwiKTtcbmNvbnN0IHVzZUVtYmVkVmlkZW9JdGVtXzEgPSByZXF1aXJlKFwiLi91c2VFbWJlZFZpZGVvSXRlbVwiKTtcbmNvbnN0IHVzZUl0ZW1BbmdsZV8xID0gcmVxdWlyZShcIi4uL3VzZUl0ZW1BbmdsZVwiKTtcbmNvbnN0IHNka18xID0gcmVxdWlyZShcIkBjbnRybC1zaXRlL3Nka1wiKTtcbmNvbnN0IHVzZUNudHJsQ29udGV4dF8xID0gcmVxdWlyZShcIi4uLy4uLy4uL3Byb3ZpZGVyL3VzZUNudHJsQ29udGV4dFwiKTtcbmNvbnN0IHVzZVlvdVR1YmVJZnJhbWVBcGlfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy9Zb3V0dWJlL3VzZVlvdVR1YmVJZnJhbWVBcGlcIik7XG5jb25zdCB1c2VSZWdpc3RlclJlc2l6ZV8xID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbW1vbi91c2VSZWdpc3RlclJlc2l6ZVwiKTtcbmNvbnN0IGdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtc18xID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL2dldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtc1wiKTtcbmNvbnN0IFlvdXR1YmVFbWJlZEl0ZW0gPSAoeyBpdGVtLCBzZWN0aW9uSWQsIG9uUmVzaXplLCBpbnRlcmFjdGlvbkN0cmwsIG9uVmlzaWJpbGl0eUNoYW5nZSB9KSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2o7XG4gICAgY29uc3QgaWQgPSAoMCwgcmVhY3RfMS51c2VJZCkoKTtcbiAgICBjb25zdCB7IGxheW91dHMgfSA9ICgwLCB1c2VDbnRybENvbnRleHRfMS51c2VDbnRybENvbnRleHQpKCk7XG4gICAgY29uc3QgeyBwbGF5LCBjb250cm9scywgdXJsIH0gPSBpdGVtLmNvbW1vblBhcmFtcztcbiAgICBjb25zdCB7IHJhZGl1czogaXRlbVJhZGl1cywgYmx1cjogaXRlbUJsdXIsIG9wYWNpdHk6IGl0ZW1PcGFjaXR5IH0gPSAoMCwgdXNlRW1iZWRWaWRlb0l0ZW1fMS51c2VFbWJlZFZpZGVvSXRlbSkoaXRlbSwgc2VjdGlvbklkKTtcbiAgICBjb25zdCBpdGVtQW5nbGUgPSAoMCwgdXNlSXRlbUFuZ2xlXzEudXNlSXRlbUFuZ2xlKShpdGVtLCBzZWN0aW9uSWQpO1xuICAgIGNvbnN0IFlUID0gKDAsIHVzZVlvdVR1YmVJZnJhbWVBcGlfMS51c2VZb3VUdWJlSWZyYW1lQXBpKSgpO1xuICAgIGNvbnN0IFtkaXYsIHNldERpdl0gPSAoMCwgcmVhY3RfMS51c2VTdGF0ZSkobnVsbCk7XG4gICAgY29uc3QgW3BsYXllciwgc2V0UGxheWVyXSA9ICgwLCByZWFjdF8xLnVzZVN0YXRlKSh1bmRlZmluZWQpO1xuICAgIGNvbnN0IFtpc0NvdmVyVmlzaWJsZSwgc2V0SXNDb3ZlclZpc2libGVdID0gKDAsIHJlYWN0XzEudXNlU3RhdGUpKGZhbHNlKTtcbiAgICBjb25zdCBbaW1nUmVmLCBzZXRJbWdSZWZdID0gKDAsIHJlYWN0XzEudXNlU3RhdGUpKG51bGwpO1xuICAgIGNvbnN0IGxheW91dFZhbHVlcyA9IFtpdGVtLmFyZWEsIGl0ZW0ubGF5b3V0UGFyYW1zXTtcbiAgICBjb25zdCB3cmFwcGVyU3RhdGVQYXJhbXMgPSBpbnRlcmFjdGlvbkN0cmwgPT09IG51bGwgfHwgaW50ZXJhY3Rpb25DdHJsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlcmFjdGlvbkN0cmwuZ2V0U3RhdGUoWydhbmdsZScsICdibHVyJywgJ29wYWNpdHknXSk7XG4gICAgY29uc3QgZnJhbWVTdGF0ZVBhcmFtcyA9IGludGVyYWN0aW9uQ3RybCA9PT0gbnVsbCB8fCBpbnRlcmFjdGlvbkN0cmwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyYWN0aW9uQ3RybC5nZXRTdGF0ZShbJ3JhZGl1cyddKTtcbiAgICBjb25zdCBhbmdsZSA9ICgwLCBnZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXNfMS5nZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXMpKChfYSA9IHdyYXBwZXJTdGF0ZVBhcmFtcyA9PT0gbnVsbCB8fCB3cmFwcGVyU3RhdGVQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdyYXBwZXJTdGF0ZVBhcmFtcy5zdHlsZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hbmdsZSwgaXRlbUFuZ2xlKTtcbiAgICBjb25zdCBibHVyID0gKDAsIGdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtc18xLmdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtcykoKF9iID0gd3JhcHBlclN0YXRlUGFyYW1zID09PSBudWxsIHx8IHdyYXBwZXJTdGF0ZVBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogd3JhcHBlclN0YXRlUGFyYW1zLnN0eWxlcykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmJsdXIsIGl0ZW1CbHVyKTtcbiAgICBjb25zdCBvcGFjaXR5ID0gKDAsIGdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtc18xLmdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtcykoKF9jID0gd3JhcHBlclN0YXRlUGFyYW1zID09PSBudWxsIHx8IHdyYXBwZXJTdGF0ZVBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogd3JhcHBlclN0YXRlUGFyYW1zLnN0eWxlcykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLm9wYWNpdHksIGl0ZW1PcGFjaXR5KTtcbiAgICBjb25zdCByYWRpdXMgPSAoMCwgZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zXzEuZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zKSgoX2QgPSBmcmFtZVN0YXRlUGFyYW1zID09PSBudWxsIHx8IGZyYW1lU3RhdGVQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZyYW1lU3RhdGVQYXJhbXMuc3R5bGVzKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QucmFkaXVzLCBpdGVtUmFkaXVzKTtcbiAgICBjb25zdCBpc0ludGVyYWN0aXZlID0gb3BhY2l0eSAhPT0gMDtcbiAgICAoMCwgcmVhY3RfMS51c2VFZmZlY3QpKCgpID0+IHtcbiAgICAgICAgb25WaXNpYmlsaXR5Q2hhbmdlID09PSBudWxsIHx8IG9uVmlzaWJpbGl0eUNoYW5nZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25WaXNpYmlsaXR5Q2hhbmdlKGlzSW50ZXJhY3RpdmUpO1xuICAgIH0sIFtpc0ludGVyYWN0aXZlLCBvblZpc2liaWxpdHlDaGFuZ2VdKTtcbiAgICAoMCwgdXNlUmVnaXN0ZXJSZXNpemVfMS51c2VSZWdpc3RlclJlc2l6ZSkoZGl2LCBvblJlc2l6ZSk7XG4gICAgKDAsIHJlYWN0XzEudXNlRWZmZWN0KSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1VybCA9IG5ldyBVUkwodXJsKTtcbiAgICAgICAgY29uc3QgdmlkZW9JZCA9ICgwLCBnZXRWYWxpZFlvdXR1YmVVcmxfMS5nZXRZb3V0dWJlSWQpKG5ld1VybCk7XG4gICAgICAgIGlmICghWVQgfHwgIXZpZGVvSWQgfHwgIWRpdilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKHBsYWNlaG9sZGVyKTtcbiAgICAgICAgY29uc3QgcGxheWVyID0gbmV3IFlULlBsYXllcihwbGFjZWhvbGRlciwge1xuICAgICAgICAgICAgdmlkZW9JZCxcbiAgICAgICAgICAgIHBsYXllclZhcnM6IHtcbiAgICAgICAgICAgICAgICBhdXRvcGxheTogcGxheSA9PT0gJ2F1dG8nID8gJzEnIDogJzAnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xzOiBjb250cm9scyA/ICcxJyA6ICcwJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV2ZW50czoge1xuICAgICAgICAgICAgICAgIG9uU3RhdGVDaGFuZ2U6IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGxheSAhPT0gJ2F1dG8nKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZGF0YSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNDb3ZlclZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5kYXRhID09PSAyIHx8IGV2ZW50LmRhdGEgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJc0NvdmVyVmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25SZWFkeTogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldFBsYXllcihldmVudC50YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGxheSAhPT0gJ29uLWNsaWNrJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLm11dGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBzZXRQbGF5ZXIodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHBsYXllci5kZXN0cm95KCk7XG4gICAgICAgICAgICAoX2EgPSBwbGFjZWhvbGRlci5wYXJlbnRFbGVtZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlQ2hpbGQocGxhY2Vob2xkZXIpO1xuICAgICAgICB9O1xuICAgIH0sIFtZVCwgZGl2XSk7XG4gICAgY29uc3Qgb25Db3ZlckNsaWNrID0gKCkgPT4ge1xuICAgICAgICBpZiAoIXBsYXllciB8fCAhaW1nUmVmKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBwbGF5ZXIucGxheVZpZGVvKCk7XG4gICAgICAgIHNldElzQ292ZXJWaXNpYmxlKGZhbHNlKTtcbiAgICB9O1xuICAgICgwLCByZWFjdF8xLnVzZUVmZmVjdCkoKCkgPT4ge1xuICAgICAgICBpZiAocGxheSA9PT0gJ29uLWNsaWNrJyAmJiAhY29udHJvbHMpIHtcbiAgICAgICAgICAgIHNldElzQ292ZXJWaXNpYmxlKHRydWUpO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuICAgICgwLCByZWFjdF8xLnVzZUVmZmVjdCkoKCkgPT4ge1xuICAgICAgICBvblZpc2liaWxpdHlDaGFuZ2UgPT09IG51bGwgfHwgb25WaXNpYmlsaXR5Q2hhbmdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblZpc2liaWxpdHlDaGFuZ2UoaXNJbnRlcmFjdGl2ZSk7XG4gICAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSAmJiBwbGF5ZXIpIHtcbiAgICAgICAgICAgIHBsYXllci5wYXVzZVZpZGVvKCk7XG4gICAgICAgIH1cbiAgICB9LCBbaXNJbnRlcmFjdGl2ZSwgb25WaXNpYmlsaXR5Q2hhbmdlLCBwbGF5ZXJdKTtcbiAgICAoMCwgcmVhY3RfMS51c2VFZmZlY3QpKCgpID0+IHtcbiAgICAgICAgaWYgKCFwbGF5ZXIgfHwgIWludGVyYWN0aW9uQ3RybClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaW50ZXJhY3Rpb25DdHJsLnNldEFjdGlvblJlY2VpdmVyKCh0eXBlKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdwbGF5JzpcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnBsYXlWaWRlbygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdwYXVzZSc6XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wYXVzZVZpZGVvKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LCBbaW50ZXJhY3Rpb25DdHJsLCBwbGF5ZXJdKTtcbiAgICByZXR1cm4gKCgwLCBqc3hfcnVudGltZV8xLmpzeHMpKExpbmtXcmFwcGVyXzEuTGlua1dyYXBwZXIsIHsgdXJsOiAoX2UgPSBpdGVtLmxpbmspID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS51cmwsIHRhcmdldDogKF9mID0gaXRlbS5saW5rKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YudGFyZ2V0LCBjaGlsZHJlbjogWygwLCBqc3hfcnVudGltZV8xLmpzeHMpKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBgZW1iZWQteW91dHViZS12aWRlby13cmFwcGVyLSR7aXRlbS5pZH1gLCBvbk1vdXNlRW50ZXI6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwbGF5ZXIgfHwgcGxheSAhPT0gJ29uLWhvdmVyJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnBsYXlWaWRlbygpO1xuICAgICAgICAgICAgICAgIH0sIG9uTW91c2VMZWF2ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXBsYXllciB8fCBwbGF5ICE9PSAnb24taG92ZXInKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucGF1c2VWaWRlbygpO1xuICAgICAgICAgICAgICAgIH0sIHN0eWxlOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCAob3BhY2l0eSAhPT0gdW5kZWZpbmVkID8geyBvcGFjaXR5IH0gOiB7fSkpLCAoYW5nbGUgIT09IHVuZGVmaW5lZCA/IHsgdHJhbnNmb3JtOiBgcm90YXRlKCR7YW5nbGV9ZGVnKSB0cmFuc2xhdGVaKDApYCB9IDoge30pKSwgKGJsdXIgIT09IHVuZGVmaW5lZCA/IHsgZmlsdGVyOiBgYmx1cigke2JsdXIgKiAxMDB9dncpYCB9IDoge30pKSwgeyB0cmFuc2l0aW9uOiAoX2cgPSB3cmFwcGVyU3RhdGVQYXJhbXMgPT09IG51bGwgfHwgd3JhcHBlclN0YXRlUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3cmFwcGVyU3RhdGVQYXJhbXMudHJhbnNpdGlvbikgIT09IG51bGwgJiYgX2cgIT09IHZvaWQgMCA/IF9nIDogJ25vbmUnIH0pLCBjaGlsZHJlbjogW2l0ZW0uY29tbW9uUGFyYW1zLmNvdmVyVXJsICYmICgoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwiaW1nXCIsIHsgcmVmOiBzZXRJbWdSZWYsIG9uQ2xpY2s6ICgpID0+IG9uQ292ZXJDbGljaygpLCBzcmM6IChfaCA9IGl0ZW0uY29tbW9uUGFyYW1zLmNvdmVyVXJsKSAhPT0gbnVsbCAmJiBfaCAhPT0gdm9pZCAwID8gX2ggOiAnJywgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBpc0NvdmVyVmlzaWJsZSA/ICdibG9jaycgOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Rml0OiAnY292ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAnMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogJzAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogMVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgYWx0OiBcIkNvdmVyIGltZ1wiIH0pKSwgKDAsIGpzeF9ydW50aW1lXzEuanN4KShcImRpdlwiLCB7IGNsYXNzTmFtZTogYGVtYmVkLSR7aXRlbS5pZH1gLCByZWY6IHNldERpdiwgc3R5bGU6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgKHJhZGl1cyAhPT0gdW5kZWZpbmVkID8geyBib3JkZXJSYWRpdXM6IGAke3JhZGl1cyAqIDEwMH12d2AgfSA6IHt9KSksIHsgdHJhbnNpdGlvbjogKF9qID0gZnJhbWVTdGF0ZVBhcmFtcyA9PT0gbnVsbCB8fCBmcmFtZVN0YXRlUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmcmFtZVN0YXRlUGFyYW1zLnRyYW5zaXRpb24pICE9PSBudWxsICYmIF9qICE9PSB2b2lkIDAgPyBfaiA6ICdub25lJyB9KSB9KV0gfSksICgwLCBqc3hfcnVudGltZV8xLmpzeCkoc3R5bGVfMS5kZWZhdWx0LCB7IGlkOiBpZCwgY2hpbGRyZW46IGBcclxuICAgICAgICAuZW1iZWQteW91dHViZS12aWRlby13cmFwcGVyLSR7aXRlbS5pZH0sXHJcbiAgICAgICAgLmVtYmVkLSR7aXRlbS5pZH0ge1xyXG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5lbWJlZC0ke2l0ZW0uaWR9IHtcclxuICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5lbWJlZC15b3V0dWJlLXZpZGVvLXdyYXBwZXItJHtpdGVtLmlkfSBpZnJhbWUge1xyXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgICB6LWluZGV4OiAxO1xyXG4gICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkeygwLCBzZGtfMS5nZXRMYXlvdXRTdHlsZXMpKGxheW91dHMsIGxheW91dFZhbHVlcywgKFthcmVhLCBsYXlvdXRQYXJhbXNdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoYFxyXG4gICAgICAgICAgICAuZW1iZWQteW91dHViZS12aWRlby13cmFwcGVyLSR7aXRlbS5pZH0ge1xyXG4gICAgICAgICAgICAgIG9wYWNpdHk6ICR7bGF5b3V0UGFyYW1zLm9wYWNpdHl9O1xyXG4gICAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKCR7YXJlYS5hbmdsZX1kZWcpIHRyYW5zbGF0ZVooMCk7XHJcbiAgICAgICAgICAgICAgZmlsdGVyOiAke2xheW91dFBhcmFtcy5ibHVyICE9PSAwID8gYGJsdXIoJHtsYXlvdXRQYXJhbXMuYmx1ciAqIDEwMH12dylgIDogJ3Vuc2V0J307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLmVtYmVkLXlvdXR1YmUtdmlkZW8td3JhcHBlci0ke2l0ZW0uaWR9IC5lbWJlZC0ke2l0ZW0uaWR9IHtcclxuICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAke2xheW91dFBhcmFtcy5yYWRpdXMgKiAxMDB9dnc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIGApO1xuICAgICAgICAgICAgICAgIH0pfVxyXG4gICAgICBgIH0pXSB9KSk7XG59O1xuZXhwb3J0cy5Zb3V0dWJlRW1iZWRJdGVtID0gWW91dHViZUVtYmVkSXRlbTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/EmbedVideoItem/YoutubeEmbed.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/EmbedVideoItem/useEmbedVideoItem.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/EmbedVideoItem/useEmbedVideoItem.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useEmbedVideoItem = void 0;\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst useKeyframeValue_1 = __webpack_require__(/*! ../../../common/useKeyframeValue */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useKeyframeValue.js\");\nconst useLayoutContext_1 = __webpack_require__(/*! ../../useLayoutContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/useLayoutContext.js\");\nconst useEmbedVideoItem = (item, sectionId) => {\n    const layoutId = (0, useLayoutContext_1.useLayoutContext)();\n    const radius = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.BorderRadius, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'radius' in layoutParams ? layoutParams.radius : 0;\n    }, (animator, scroll, value) => value !== undefined ? animator.getRadius({ radius: value }, scroll).radius : undefined, sectionId, [layoutId]);\n    const blur = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.Blur, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'blur' in layoutParams ? layoutParams.blur : 0;\n    }, (animator, scroll, value) => value !== undefined ? animator.getBlur({ blur: value }, scroll).blur : undefined, sectionId, [layoutId]);\n    const opacity = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.Opacity, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'opacity' in layoutParams ? layoutParams.opacity : 1;\n    }, (animator, scroll, value) => value !== undefined ? animator.getOpacity({ opacity: value }, scroll).opacity : undefined, sectionId, [layoutId]);\n    return { radius, blur, opacity };\n};\nexports.useEmbedVideoItem = useEmbedVideoItem;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9FbWJlZFZpZGVvSXRlbS91c2VFbWJlZFZpZGVvSXRlbS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx5QkFBeUI7QUFDekIsY0FBYyxtQkFBTyxDQUFDLHFFQUFpQjtBQUN2QywyQkFBMkIsbUJBQU8sQ0FBQyw4R0FBa0M7QUFDckUsMkJBQTJCLG1CQUFPLENBQUMsd0dBQXdCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSywwRUFBMEUsZUFBZTtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyx3RUFBd0UsYUFBYTtBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSywyRUFBMkUsZ0JBQWdCO0FBQ2hHLGFBQWE7QUFDYjtBQUNBLHlCQUF5QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9FbWJlZFZpZGVvSXRlbS91c2VFbWJlZFZpZGVvSXRlbS5qcz8yZWVjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy51c2VFbWJlZFZpZGVvSXRlbSA9IHZvaWQgMDtcbmNvbnN0IHNka18xID0gcmVxdWlyZShcIkBjbnRybC1zaXRlL3Nka1wiKTtcbmNvbnN0IHVzZUtleWZyYW1lVmFsdWVfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jb21tb24vdXNlS2V5ZnJhbWVWYWx1ZVwiKTtcbmNvbnN0IHVzZUxheW91dENvbnRleHRfMSA9IHJlcXVpcmUoXCIuLi8uLi91c2VMYXlvdXRDb250ZXh0XCIpO1xuY29uc3QgdXNlRW1iZWRWaWRlb0l0ZW0gPSAoaXRlbSwgc2VjdGlvbklkKSA9PiB7XG4gICAgY29uc3QgbGF5b3V0SWQgPSAoMCwgdXNlTGF5b3V0Q29udGV4dF8xLnVzZUxheW91dENvbnRleHQpKCk7XG4gICAgY29uc3QgcmFkaXVzID0gKDAsIHVzZUtleWZyYW1lVmFsdWVfMS51c2VLZXlmcmFtZVZhbHVlKShpdGVtLCBzZGtfMS5LZXlmcmFtZVR5cGUuQm9yZGVyUmFkaXVzLCAoaXRlbSwgbGF5b3V0SWQpID0+IHtcbiAgICAgICAgaWYgKCFsYXlvdXRJZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgbGF5b3V0UGFyYW1zID0gaXRlbS5sYXlvdXRQYXJhbXNbbGF5b3V0SWRdO1xuICAgICAgICByZXR1cm4gJ3JhZGl1cycgaW4gbGF5b3V0UGFyYW1zID8gbGF5b3V0UGFyYW1zLnJhZGl1cyA6IDA7XG4gICAgfSwgKGFuaW1hdG9yLCBzY3JvbGwsIHZhbHVlKSA9PiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gYW5pbWF0b3IuZ2V0UmFkaXVzKHsgcmFkaXVzOiB2YWx1ZSB9LCBzY3JvbGwpLnJhZGl1cyA6IHVuZGVmaW5lZCwgc2VjdGlvbklkLCBbbGF5b3V0SWRdKTtcbiAgICBjb25zdCBibHVyID0gKDAsIHVzZUtleWZyYW1lVmFsdWVfMS51c2VLZXlmcmFtZVZhbHVlKShpdGVtLCBzZGtfMS5LZXlmcmFtZVR5cGUuQmx1ciwgKGl0ZW0sIGxheW91dElkKSA9PiB7XG4gICAgICAgIGlmICghbGF5b3V0SWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGxheW91dFBhcmFtcyA9IGl0ZW0ubGF5b3V0UGFyYW1zW2xheW91dElkXTtcbiAgICAgICAgcmV0dXJuICdibHVyJyBpbiBsYXlvdXRQYXJhbXMgPyBsYXlvdXRQYXJhbXMuYmx1ciA6IDA7XG4gICAgfSwgKGFuaW1hdG9yLCBzY3JvbGwsIHZhbHVlKSA9PiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gYW5pbWF0b3IuZ2V0Qmx1cih7IGJsdXI6IHZhbHVlIH0sIHNjcm9sbCkuYmx1ciA6IHVuZGVmaW5lZCwgc2VjdGlvbklkLCBbbGF5b3V0SWRdKTtcbiAgICBjb25zdCBvcGFjaXR5ID0gKDAsIHVzZUtleWZyYW1lVmFsdWVfMS51c2VLZXlmcmFtZVZhbHVlKShpdGVtLCBzZGtfMS5LZXlmcmFtZVR5cGUuT3BhY2l0eSwgKGl0ZW0sIGxheW91dElkKSA9PiB7XG4gICAgICAgIGlmICghbGF5b3V0SWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGxheW91dFBhcmFtcyA9IGl0ZW0ubGF5b3V0UGFyYW1zW2xheW91dElkXTtcbiAgICAgICAgcmV0dXJuICdvcGFjaXR5JyBpbiBsYXlvdXRQYXJhbXMgPyBsYXlvdXRQYXJhbXMub3BhY2l0eSA6IDE7XG4gICAgfSwgKGFuaW1hdG9yLCBzY3JvbGwsIHZhbHVlKSA9PiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gYW5pbWF0b3IuZ2V0T3BhY2l0eSh7IG9wYWNpdHk6IHZhbHVlIH0sIHNjcm9sbCkub3BhY2l0eSA6IHVuZGVmaW5lZCwgc2VjdGlvbklkLCBbbGF5b3V0SWRdKTtcbiAgICByZXR1cm4geyByYWRpdXMsIGJsdXIsIG9wYWNpdHkgfTtcbn07XG5leHBvcnRzLnVzZUVtYmVkVmlkZW9JdGVtID0gdXNlRW1iZWRWaWRlb0l0ZW07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/EmbedVideoItem/useEmbedVideoItem.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/FileItem/ImageItem.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/FileItem/ImageItem.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ImageItem = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst style_1 = __importDefault(__webpack_require__(/*! styled-jsx/style */ \"./node_modules/next/node_modules/styled-jsx/style.js\"));\nconst color_1 = __webpack_require__(/*! @cntrl-site/color */ \"./node_modules/@cntrl-site/color/lib/index.js\");\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst LinkWrapper_1 = __webpack_require__(/*! ../LinkWrapper */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/LinkWrapper.js\");\nconst useFileItem_1 = __webpack_require__(/*! ./useFileItem */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/FileItem/useFileItem.js\");\nconst useItemAngle_1 = __webpack_require__(/*! ../useItemAngle */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemAngle.js\");\nconst useCntrlContext_1 = __webpack_require__(/*! ../../../provider/useCntrlContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/useCntrlContext.js\");\nconst useRegisterResize_1 = __webpack_require__(/*! ../../../common/useRegisterResize */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useRegisterResize.js\");\nconst useImageFx_1 = __webpack_require__(/*! ../../../utils/effects/useImageFx */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/effects/useImageFx.js\");\nconst useElementRect_1 = __webpack_require__(/*! ../../../utils/useElementRect */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/useElementRect.js\");\nconst useLayoutContext_1 = __webpack_require__(/*! ../../useLayoutContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/useLayoutContext.js\");\nconst getStyleFromItemStateAndParams_1 = __webpack_require__(/*! ../../../utils/getStyleFromItemStateAndParams */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getStyleFromItemStateAndParams.js\");\nconst useItemFXData_1 = __webpack_require__(/*! ../../../common/useItemFXData */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useItemFXData.js\");\nconst ImageItem = ({ item, sectionId, onResize, interactionCtrl, onVisibilityChange }) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;\n    const id = (0, react_1.useId)();\n    const { layouts } = (0, useCntrlContext_1.useCntrlContext)();\n    const layoutId = (0, useLayoutContext_1.useLayoutContext)();\n    const { radius: itemRadius, strokeWidth: itemStrokeWidth, opacity: itemOpacity, strokeColor: itemStrokeColor, blur: itemBlur } = (0, useFileItem_1.useFileItem)(item, sectionId);\n    const itemAngle = (0, useItemAngle_1.useItemAngle)(item, sectionId);\n    const [wrapperRef, setWrapperRef] = (0, react_1.useState)(null);\n    (0, useRegisterResize_1.useRegisterResize)(wrapperRef, onResize);\n    const { url, hasGLEffect } = item.commonParams;\n    const fxCanvas = (0, react_1.useRef)(null);\n    const isInitialRef = (0, react_1.useRef)(true);\n    const layoutValues = [item.area, item.layoutParams];\n    const { controlsValues, fragmentShader } = (0, useItemFXData_1.useItemFXData)(item, sectionId);\n    const area = layoutId ? item.area[layoutId] : null;\n    const exemplary = (_a = layouts === null || layouts === void 0 ? void 0 : layouts.find(l => l.id === layoutId)) === null || _a === void 0 ? void 0 : _a.exemplary;\n    const width = area && exemplary ? area.width * exemplary : 0;\n    const height = area && exemplary ? area.height * exemplary : 0;\n    const wrapperStateParams = interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.getState(['angle', 'opacity', 'blur']);\n    const imgStateParams = interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.getState(['strokeWidth', 'radius', 'strokeColor']);\n    (0, react_1.useEffect)(() => {\n        isInitialRef.current = false;\n    }, []);\n    const isFXAllowed = (0, useImageFx_1.useImageFx)(fxCanvas.current, !!(hasGLEffect && !isInitialRef.current), {\n        imageUrl: url,\n        fragmentShader,\n        controlsValues\n    }, width, height);\n    const rect = (0, useElementRect_1.useElementRect)(wrapperRef);\n    const rectWidth = Math.floor((_b = rect === null || rect === void 0 ? void 0 : rect.width) !== null && _b !== void 0 ? _b : 0);\n    const rectHeight = Math.floor((_c = rect === null || rect === void 0 ? void 0 : rect.height) !== null && _c !== void 0 ? _c : 0);\n    const borderColor = (0, react_1.useMemo)(() => {\n        var _a;\n        const borderColor = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_a = imgStateParams === null || imgStateParams === void 0 ? void 0 : imgStateParams.styles) === null || _a === void 0 ? void 0 : _a.strokeColor, itemStrokeColor);\n        return borderColor ? color_1.CntrlColor.parse(borderColor) : undefined;\n    }, [itemStrokeColor, (_d = imgStateParams === null || imgStateParams === void 0 ? void 0 : imgStateParams.styles) === null || _d === void 0 ? void 0 : _d.strokeColor]);\n    const radius = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_e = imgStateParams === null || imgStateParams === void 0 ? void 0 : imgStateParams.styles) === null || _e === void 0 ? void 0 : _e.radius, itemRadius);\n    const strokeWidth = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_f = imgStateParams === null || imgStateParams === void 0 ? void 0 : imgStateParams.styles) === null || _f === void 0 ? void 0 : _f.strokeWidth, itemStrokeWidth);\n    const angle = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_g = wrapperStateParams === null || wrapperStateParams === void 0 ? void 0 : wrapperStateParams.styles) === null || _g === void 0 ? void 0 : _g.angle, itemAngle);\n    const opacity = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_h = wrapperStateParams === null || wrapperStateParams === void 0 ? void 0 : wrapperStateParams.styles) === null || _h === void 0 ? void 0 : _h.opacity, itemOpacity);\n    const blur = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_j = wrapperStateParams === null || wrapperStateParams === void 0 ? void 0 : wrapperStateParams.styles) === null || _j === void 0 ? void 0 : _j.blur, itemBlur);\n    const inlineStyles = Object.assign(Object.assign(Object.assign(Object.assign({}, (borderColor ? { borderColor: `${borderColor.fmt('rgba')}` } : {})), (radius !== undefined ? { borderRadius: `${radius * 100}vw` } : {})), (strokeWidth !== undefined ? { borderWidth: `${strokeWidth * 100}vw` } : {})), { transition: (_k = imgStateParams === null || imgStateParams === void 0 ? void 0 : imgStateParams.transition) !== null && _k !== void 0 ? _k : 'none' });\n    const isInteractive = opacity !== 0;\n    (0, react_1.useEffect)(() => {\n        onVisibilityChange === null || onVisibilityChange === void 0 ? void 0 : onVisibilityChange(isInteractive);\n    }, [isInteractive, onVisibilityChange]);\n    return ((0, jsx_runtime_1.jsx)(LinkWrapper_1.LinkWrapper, { url: (_l = item.link) === null || _l === void 0 ? void 0 : _l.url, target: (_m = item.link) === null || _m === void 0 ? void 0 : _m.target, children: (0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(\"div\", { className: `image-wrapper-${item.id}`, ref: setWrapperRef, style: Object.assign(Object.assign(Object.assign(Object.assign({}, (opacity !== undefined ? { opacity } : {})), (angle !== undefined ? { transform: `rotate(${angle}deg) translateZ(0)` } : {})), (blur !== undefined ? { filter: `blur(${blur * 100}vw)` } : {})), { transition: (_o = wrapperStateParams === null || wrapperStateParams === void 0 ? void 0 : wrapperStateParams.transition) !== null && _o !== void 0 ? _o : 'none' }), children: hasGLEffect && isFXAllowed\n                        ? ((0, jsx_runtime_1.jsx)(\"canvas\", { style: inlineStyles, ref: fxCanvas, className: `img-canvas image-${item.id}`, width: rectWidth, height: rectHeight }))\n                        : ((0, jsx_runtime_1.jsx)(\"img\", { alt: \"\", className: `image image-${item.id}`, style: inlineStyles, src: item.commonParams.url })) }), (0, jsx_runtime_1.jsx)(style_1.default, { id: id, children: `\r\n        .image-wrapper-${item.id} {\r\n          position: absolute;\r\n          width: 100%;\r\n          height: 100%;\r\n          box-sizing: border-box;\r\n          display: flex;\r\n        }\r\n        .image {\r\n          width: 100%;\r\n          height: 100%;\r\n          opacity: 1;\r\n          object-fit: cover;\r\n          pointer-events: none;\r\n          border-style: solid;\r\n          overflow: hidden;\r\n          box-sizing: border-box;\r\n        }\r\n        .img-canvas {\r\n          border: solid;\r\n          width: 100%;\r\n          height: 100%;\r\n          pointer-events: none;\r\n          border-width: 0;\r\n          box-sizing: border-box;\r\n        }\r\n        ${(0, sdk_1.getLayoutStyles)(layouts, layoutValues, ([area, layoutParams]) => {\n                        return (`\r\n            .image-wrapper-${item.id} {\r\n              opacity: ${layoutParams.opacity};\r\n              transform: rotate(${area.angle}deg) translateZ(0);\r\n              filter: ${layoutParams.blur !== 0 ? `blur(${layoutParams.blur * 100}vw)` : 'unset'};\r\n            }\r\n            .image-${item.id} {\r\n              border-color: ${color_1.CntrlColor.parse(layoutParams.strokeColor).fmt('rgba')};\r\n              border-radius: ${layoutParams.radius * 100}vw;\r\n              border-width: ${layoutParams.strokeWidth * 100}vw;\r\n            }\r\n          `);\n                    })}\r\n      ` })] }) }));\n};\nexports.ImageItem = ImageItem;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9GaWxlSXRlbS9JbWFnZUl0ZW0uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUI7QUFDakIsc0JBQXNCLG1CQUFPLENBQUMsOERBQW1CO0FBQ2pELGdCQUFnQixtQkFBTyxDQUFDLDRDQUFPO0FBQy9CLGdDQUFnQyxtQkFBTyxDQUFDLDhFQUFrQjtBQUMxRCxnQkFBZ0IsbUJBQU8sQ0FBQyx3RUFBbUI7QUFDM0MsY0FBYyxtQkFBTyxDQUFDLHFFQUFpQjtBQUN2QyxzQkFBc0IsbUJBQU8sQ0FBQyxpR0FBZ0I7QUFDOUMsc0JBQXNCLG1CQUFPLENBQUMseUdBQWU7QUFDN0MsdUJBQXVCLG1CQUFPLENBQUMsbUdBQWlCO0FBQ2hELDBCQUEwQixtQkFBTyxDQUFDLGdIQUFtQztBQUNyRSw0QkFBNEIsbUJBQU8sQ0FBQyxnSEFBbUM7QUFDdkUscUJBQXFCLG1CQUFPLENBQUMsZ0hBQW1DO0FBQ2hFLHlCQUF5QixtQkFBTyxDQUFDLHdHQUErQjtBQUNoRSwyQkFBMkIsbUJBQU8sQ0FBQyx3R0FBd0I7QUFDM0QseUNBQXlDLG1CQUFPLENBQUMsd0lBQStDO0FBQ2hHLHdCQUF3QixtQkFBTyxDQUFDLHdHQUErQjtBQUMvRCxxQkFBcUIsZ0VBQWdFO0FBQ3JGO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQSxZQUFZLHVIQUF1SDtBQUNuSTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG1CQUFtQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlDQUFpQztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRkFBbUYsbUJBQW1CLGdCQUFnQix3QkFBd0IsSUFBSSxJQUFJLDhCQUE4QixpQkFBaUIsYUFBYSxNQUFNLElBQUksbUNBQW1DLGdCQUFnQixrQkFBa0IsTUFBTSxJQUFJLE1BQU0sc0pBQXNKO0FBQ3ZjO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxnRUFBZ0Usd01BQXdNLDJDQUEyQyw0QkFBNEIsUUFBUSx3RkFBd0YsNkJBQTZCLFVBQVUsSUFBSSw2QkFBNkIscUJBQXFCLE1BQU0sc0JBQXNCLElBQUksNEJBQTRCLGdCQUFnQixXQUFXLE9BQU8sSUFBSSxNQUFNLGtLQUFrSztBQUN0eEIsOERBQThELG1FQUFtRSxRQUFRLHlDQUF5QztBQUNsTCwyREFBMkQsbUNBQW1DLFFBQVEsb0RBQW9ELElBQUksNkNBQTZDO0FBQzNNLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSw2QkFBNkI7QUFDN0IseUJBQXlCO0FBQ3pCLGtDQUFrQyxXQUFXO0FBQzdDLHdCQUF3QixrQ0FBa0Msd0JBQXdCO0FBQ2xGO0FBQ0EscUJBQXFCO0FBQ3JCLDhCQUE4QjtBQUM5QiwrQkFBK0IsMEJBQTBCO0FBQ3pELDhCQUE4QiwrQkFBK0I7QUFDN0Q7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixTQUFTLElBQUksR0FBRztBQUNoQjtBQUNBLGlCQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9GaWxlSXRlbS9JbWFnZUl0ZW0uanM/NzZkMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSW1hZ2VJdGVtID0gdm9pZCAwO1xuY29uc3QganN4X3J1bnRpbWVfMSA9IHJlcXVpcmUoXCJyZWFjdC9qc3gtcnVudGltZVwiKTtcbmNvbnN0IHJlYWN0XzEgPSByZXF1aXJlKFwicmVhY3RcIik7XG5jb25zdCBzdHlsZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJzdHlsZWQtanN4L3N0eWxlXCIpKTtcbmNvbnN0IGNvbG9yXzEgPSByZXF1aXJlKFwiQGNudHJsLXNpdGUvY29sb3JcIik7XG5jb25zdCBzZGtfMSA9IHJlcXVpcmUoXCJAY250cmwtc2l0ZS9zZGtcIik7XG5jb25zdCBMaW5rV3JhcHBlcl8xID0gcmVxdWlyZShcIi4uL0xpbmtXcmFwcGVyXCIpO1xuY29uc3QgdXNlRmlsZUl0ZW1fMSA9IHJlcXVpcmUoXCIuL3VzZUZpbGVJdGVtXCIpO1xuY29uc3QgdXNlSXRlbUFuZ2xlXzEgPSByZXF1aXJlKFwiLi4vdXNlSXRlbUFuZ2xlXCIpO1xuY29uc3QgdXNlQ250cmxDb250ZXh0XzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vcHJvdmlkZXIvdXNlQ250cmxDb250ZXh0XCIpO1xuY29uc3QgdXNlUmVnaXN0ZXJSZXNpemVfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jb21tb24vdXNlUmVnaXN0ZXJSZXNpemVcIik7XG5jb25zdCB1c2VJbWFnZUZ4XzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvZWZmZWN0cy91c2VJbWFnZUZ4XCIpO1xuY29uc3QgdXNlRWxlbWVudFJlY3RfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy91c2VFbGVtZW50UmVjdFwiKTtcbmNvbnN0IHVzZUxheW91dENvbnRleHRfMSA9IHJlcXVpcmUoXCIuLi8uLi91c2VMYXlvdXRDb250ZXh0XCIpO1xuY29uc3QgZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zXCIpO1xuY29uc3QgdXNlSXRlbUZYRGF0YV8xID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbW1vbi91c2VJdGVtRlhEYXRhXCIpO1xuY29uc3QgSW1hZ2VJdGVtID0gKHsgaXRlbSwgc2VjdGlvbklkLCBvblJlc2l6ZSwgaW50ZXJhY3Rpb25DdHJsLCBvblZpc2liaWxpdHlDaGFuZ2UgfSkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2wsIF9tLCBfbztcbiAgICBjb25zdCBpZCA9ICgwLCByZWFjdF8xLnVzZUlkKSgpO1xuICAgIGNvbnN0IHsgbGF5b3V0cyB9ID0gKDAsIHVzZUNudHJsQ29udGV4dF8xLnVzZUNudHJsQ29udGV4dCkoKTtcbiAgICBjb25zdCBsYXlvdXRJZCA9ICgwLCB1c2VMYXlvdXRDb250ZXh0XzEudXNlTGF5b3V0Q29udGV4dCkoKTtcbiAgICBjb25zdCB7IHJhZGl1czogaXRlbVJhZGl1cywgc3Ryb2tlV2lkdGg6IGl0ZW1TdHJva2VXaWR0aCwgb3BhY2l0eTogaXRlbU9wYWNpdHksIHN0cm9rZUNvbG9yOiBpdGVtU3Ryb2tlQ29sb3IsIGJsdXI6IGl0ZW1CbHVyIH0gPSAoMCwgdXNlRmlsZUl0ZW1fMS51c2VGaWxlSXRlbSkoaXRlbSwgc2VjdGlvbklkKTtcbiAgICBjb25zdCBpdGVtQW5nbGUgPSAoMCwgdXNlSXRlbUFuZ2xlXzEudXNlSXRlbUFuZ2xlKShpdGVtLCBzZWN0aW9uSWQpO1xuICAgIGNvbnN0IFt3cmFwcGVyUmVmLCBzZXRXcmFwcGVyUmVmXSA9ICgwLCByZWFjdF8xLnVzZVN0YXRlKShudWxsKTtcbiAgICAoMCwgdXNlUmVnaXN0ZXJSZXNpemVfMS51c2VSZWdpc3RlclJlc2l6ZSkod3JhcHBlclJlZiwgb25SZXNpemUpO1xuICAgIGNvbnN0IHsgdXJsLCBoYXNHTEVmZmVjdCB9ID0gaXRlbS5jb21tb25QYXJhbXM7XG4gICAgY29uc3QgZnhDYW52YXMgPSAoMCwgcmVhY3RfMS51c2VSZWYpKG51bGwpO1xuICAgIGNvbnN0IGlzSW5pdGlhbFJlZiA9ICgwLCByZWFjdF8xLnVzZVJlZikodHJ1ZSk7XG4gICAgY29uc3QgbGF5b3V0VmFsdWVzID0gW2l0ZW0uYXJlYSwgaXRlbS5sYXlvdXRQYXJhbXNdO1xuICAgIGNvbnN0IHsgY29udHJvbHNWYWx1ZXMsIGZyYWdtZW50U2hhZGVyIH0gPSAoMCwgdXNlSXRlbUZYRGF0YV8xLnVzZUl0ZW1GWERhdGEpKGl0ZW0sIHNlY3Rpb25JZCk7XG4gICAgY29uc3QgYXJlYSA9IGxheW91dElkID8gaXRlbS5hcmVhW2xheW91dElkXSA6IG51bGw7XG4gICAgY29uc3QgZXhlbXBsYXJ5ID0gKF9hID0gbGF5b3V0cyA9PT0gbnVsbCB8fCBsYXlvdXRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsYXlvdXRzLmZpbmQobCA9PiBsLmlkID09PSBsYXlvdXRJZCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5leGVtcGxhcnk7XG4gICAgY29uc3Qgd2lkdGggPSBhcmVhICYmIGV4ZW1wbGFyeSA/IGFyZWEud2lkdGggKiBleGVtcGxhcnkgOiAwO1xuICAgIGNvbnN0IGhlaWdodCA9IGFyZWEgJiYgZXhlbXBsYXJ5ID8gYXJlYS5oZWlnaHQgKiBleGVtcGxhcnkgOiAwO1xuICAgIGNvbnN0IHdyYXBwZXJTdGF0ZVBhcmFtcyA9IGludGVyYWN0aW9uQ3RybCA9PT0gbnVsbCB8fCBpbnRlcmFjdGlvbkN0cmwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyYWN0aW9uQ3RybC5nZXRTdGF0ZShbJ2FuZ2xlJywgJ29wYWNpdHknLCAnYmx1ciddKTtcbiAgICBjb25zdCBpbWdTdGF0ZVBhcmFtcyA9IGludGVyYWN0aW9uQ3RybCA9PT0gbnVsbCB8fCBpbnRlcmFjdGlvbkN0cmwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyYWN0aW9uQ3RybC5nZXRTdGF0ZShbJ3N0cm9rZVdpZHRoJywgJ3JhZGl1cycsICdzdHJva2VDb2xvciddKTtcbiAgICAoMCwgcmVhY3RfMS51c2VFZmZlY3QpKCgpID0+IHtcbiAgICAgICAgaXNJbml0aWFsUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgaXNGWEFsbG93ZWQgPSAoMCwgdXNlSW1hZ2VGeF8xLnVzZUltYWdlRngpKGZ4Q2FudmFzLmN1cnJlbnQsICEhKGhhc0dMRWZmZWN0ICYmICFpc0luaXRpYWxSZWYuY3VycmVudCksIHtcbiAgICAgICAgaW1hZ2VVcmw6IHVybCxcbiAgICAgICAgZnJhZ21lbnRTaGFkZXIsXG4gICAgICAgIGNvbnRyb2xzVmFsdWVzXG4gICAgfSwgd2lkdGgsIGhlaWdodCk7XG4gICAgY29uc3QgcmVjdCA9ICgwLCB1c2VFbGVtZW50UmVjdF8xLnVzZUVsZW1lbnRSZWN0KSh3cmFwcGVyUmVmKTtcbiAgICBjb25zdCByZWN0V2lkdGggPSBNYXRoLmZsb29yKChfYiA9IHJlY3QgPT09IG51bGwgfHwgcmVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVjdC53aWR0aCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMCk7XG4gICAgY29uc3QgcmVjdEhlaWdodCA9IE1hdGguZmxvb3IoKF9jID0gcmVjdCA9PT0gbnVsbCB8fCByZWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZWN0LmhlaWdodCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogMCk7XG4gICAgY29uc3QgYm9yZGVyQ29sb3IgPSAoMCwgcmVhY3RfMS51c2VNZW1vKSgoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgYm9yZGVyQ29sb3IgPSAoMCwgZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zXzEuZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zKSgoX2EgPSBpbWdTdGF0ZVBhcmFtcyA9PT0gbnVsbCB8fCBpbWdTdGF0ZVBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW1nU3RhdGVQYXJhbXMuc3R5bGVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3Ryb2tlQ29sb3IsIGl0ZW1TdHJva2VDb2xvcik7XG4gICAgICAgIHJldHVybiBib3JkZXJDb2xvciA/IGNvbG9yXzEuQ250cmxDb2xvci5wYXJzZShib3JkZXJDb2xvcikgOiB1bmRlZmluZWQ7XG4gICAgfSwgW2l0ZW1TdHJva2VDb2xvciwgKF9kID0gaW1nU3RhdGVQYXJhbXMgPT09IG51bGwgfHwgaW1nU3RhdGVQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGltZ1N0YXRlUGFyYW1zLnN0eWxlcykgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnN0cm9rZUNvbG9yXSk7XG4gICAgY29uc3QgcmFkaXVzID0gKDAsIGdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtc18xLmdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtcykoKF9lID0gaW1nU3RhdGVQYXJhbXMgPT09IG51bGwgfHwgaW1nU3RhdGVQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGltZ1N0YXRlUGFyYW1zLnN0eWxlcykgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLnJhZGl1cywgaXRlbVJhZGl1cyk7XG4gICAgY29uc3Qgc3Ryb2tlV2lkdGggPSAoMCwgZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zXzEuZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zKSgoX2YgPSBpbWdTdGF0ZVBhcmFtcyA9PT0gbnVsbCB8fCBpbWdTdGF0ZVBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW1nU3RhdGVQYXJhbXMuc3R5bGVzKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Yuc3Ryb2tlV2lkdGgsIGl0ZW1TdHJva2VXaWR0aCk7XG4gICAgY29uc3QgYW5nbGUgPSAoMCwgZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zXzEuZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zKSgoX2cgPSB3cmFwcGVyU3RhdGVQYXJhbXMgPT09IG51bGwgfHwgd3JhcHBlclN0YXRlUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3cmFwcGVyU3RhdGVQYXJhbXMuc3R5bGVzKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuYW5nbGUsIGl0ZW1BbmdsZSk7XG4gICAgY29uc3Qgb3BhY2l0eSA9ICgwLCBnZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXNfMS5nZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXMpKChfaCA9IHdyYXBwZXJTdGF0ZVBhcmFtcyA9PT0gbnVsbCB8fCB3cmFwcGVyU3RhdGVQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdyYXBwZXJTdGF0ZVBhcmFtcy5zdHlsZXMpID09PSBudWxsIHx8IF9oID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaC5vcGFjaXR5LCBpdGVtT3BhY2l0eSk7XG4gICAgY29uc3QgYmx1ciA9ICgwLCBnZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXNfMS5nZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXMpKChfaiA9IHdyYXBwZXJTdGF0ZVBhcmFtcyA9PT0gbnVsbCB8fCB3cmFwcGVyU3RhdGVQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdyYXBwZXJTdGF0ZVBhcmFtcy5zdHlsZXMpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai5ibHVyLCBpdGVtQmx1cik7XG4gICAgY29uc3QgaW5saW5lU3R5bGVzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgKGJvcmRlckNvbG9yID8geyBib3JkZXJDb2xvcjogYCR7Ym9yZGVyQ29sb3IuZm10KCdyZ2JhJyl9YCB9IDoge30pKSwgKHJhZGl1cyAhPT0gdW5kZWZpbmVkID8geyBib3JkZXJSYWRpdXM6IGAke3JhZGl1cyAqIDEwMH12d2AgfSA6IHt9KSksIChzdHJva2VXaWR0aCAhPT0gdW5kZWZpbmVkID8geyBib3JkZXJXaWR0aDogYCR7c3Ryb2tlV2lkdGggKiAxMDB9dndgIH0gOiB7fSkpLCB7IHRyYW5zaXRpb246IChfayA9IGltZ1N0YXRlUGFyYW1zID09PSBudWxsIHx8IGltZ1N0YXRlUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbWdTdGF0ZVBhcmFtcy50cmFuc2l0aW9uKSAhPT0gbnVsbCAmJiBfayAhPT0gdm9pZCAwID8gX2sgOiAnbm9uZScgfSk7XG4gICAgY29uc3QgaXNJbnRlcmFjdGl2ZSA9IG9wYWNpdHkgIT09IDA7XG4gICAgKDAsIHJlYWN0XzEudXNlRWZmZWN0KSgoKSA9PiB7XG4gICAgICAgIG9uVmlzaWJpbGl0eUNoYW5nZSA9PT0gbnVsbCB8fCBvblZpc2liaWxpdHlDaGFuZ2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uVmlzaWJpbGl0eUNoYW5nZShpc0ludGVyYWN0aXZlKTtcbiAgICB9LCBbaXNJbnRlcmFjdGl2ZSwgb25WaXNpYmlsaXR5Q2hhbmdlXSk7XG4gICAgcmV0dXJuICgoMCwganN4X3J1bnRpbWVfMS5qc3gpKExpbmtXcmFwcGVyXzEuTGlua1dyYXBwZXIsIHsgdXJsOiAoX2wgPSBpdGVtLmxpbmspID09PSBudWxsIHx8IF9sID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbC51cmwsIHRhcmdldDogKF9tID0gaXRlbS5saW5rKSA9PT0gbnVsbCB8fCBfbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX20udGFyZ2V0LCBjaGlsZHJlbjogKDAsIGpzeF9ydW50aW1lXzEuanN4cykoanN4X3J1bnRpbWVfMS5GcmFnbWVudCwgeyBjaGlsZHJlbjogWygwLCBqc3hfcnVudGltZV8xLmpzeCkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGBpbWFnZS13cmFwcGVyLSR7aXRlbS5pZH1gLCByZWY6IHNldFdyYXBwZXJSZWYsIHN0eWxlOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCAob3BhY2l0eSAhPT0gdW5kZWZpbmVkID8geyBvcGFjaXR5IH0gOiB7fSkpLCAoYW5nbGUgIT09IHVuZGVmaW5lZCA/IHsgdHJhbnNmb3JtOiBgcm90YXRlKCR7YW5nbGV9ZGVnKSB0cmFuc2xhdGVaKDApYCB9IDoge30pKSwgKGJsdXIgIT09IHVuZGVmaW5lZCA/IHsgZmlsdGVyOiBgYmx1cigke2JsdXIgKiAxMDB9dncpYCB9IDoge30pKSwgeyB0cmFuc2l0aW9uOiAoX28gPSB3cmFwcGVyU3RhdGVQYXJhbXMgPT09IG51bGwgfHwgd3JhcHBlclN0YXRlUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3cmFwcGVyU3RhdGVQYXJhbXMudHJhbnNpdGlvbikgIT09IG51bGwgJiYgX28gIT09IHZvaWQgMCA/IF9vIDogJ25vbmUnIH0pLCBjaGlsZHJlbjogaGFzR0xFZmZlY3QgJiYgaXNGWEFsbG93ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKCgwLCBqc3hfcnVudGltZV8xLmpzeCkoXCJjYW52YXNcIiwgeyBzdHlsZTogaW5saW5lU3R5bGVzLCByZWY6IGZ4Q2FudmFzLCBjbGFzc05hbWU6IGBpbWctY2FudmFzIGltYWdlLSR7aXRlbS5pZH1gLCB3aWR0aDogcmVjdFdpZHRoLCBoZWlnaHQ6IHJlY3RIZWlnaHQgfSkpXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICgoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwiaW1nXCIsIHsgYWx0OiBcIlwiLCBjbGFzc05hbWU6IGBpbWFnZSBpbWFnZS0ke2l0ZW0uaWR9YCwgc3R5bGU6IGlubGluZVN0eWxlcywgc3JjOiBpdGVtLmNvbW1vblBhcmFtcy51cmwgfSkpIH0pLCAoMCwganN4X3J1bnRpbWVfMS5qc3gpKHN0eWxlXzEuZGVmYXVsdCwgeyBpZDogaWQsIGNoaWxkcmVuOiBgXHJcbiAgICAgICAgLmltYWdlLXdyYXBwZXItJHtpdGVtLmlkfSB7XHJcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIH1cclxuICAgICAgICAuaW1hZ2Uge1xyXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgICAgb2JqZWN0LWZpdDogY292ZXI7XHJcbiAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcclxuICAgICAgICAgIGJvcmRlci1zdHlsZTogc29saWQ7XHJcbiAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLmltZy1jYW52YXMge1xyXG4gICAgICAgICAgYm9yZGVyOiBzb2xpZDtcclxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgICAgICAgICBib3JkZXItd2lkdGg6IDA7XHJcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgIH1cclxuICAgICAgICAkeygwLCBzZGtfMS5nZXRMYXlvdXRTdHlsZXMpKGxheW91dHMsIGxheW91dFZhbHVlcywgKFthcmVhLCBsYXlvdXRQYXJhbXNdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGBcclxuICAgICAgICAgICAgLmltYWdlLXdyYXBwZXItJHtpdGVtLmlkfSB7XHJcbiAgICAgICAgICAgICAgb3BhY2l0eTogJHtsYXlvdXRQYXJhbXMub3BhY2l0eX07XHJcbiAgICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoJHthcmVhLmFuZ2xlfWRlZykgdHJhbnNsYXRlWigwKTtcclxuICAgICAgICAgICAgICBmaWx0ZXI6ICR7bGF5b3V0UGFyYW1zLmJsdXIgIT09IDAgPyBgYmx1cigke2xheW91dFBhcmFtcy5ibHVyICogMTAwfXZ3KWAgOiAndW5zZXQnfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuaW1hZ2UtJHtpdGVtLmlkfSB7XHJcbiAgICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAke2NvbG9yXzEuQ250cmxDb2xvci5wYXJzZShsYXlvdXRQYXJhbXMuc3Ryb2tlQ29sb3IpLmZtdCgncmdiYScpfTtcclxuICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAke2xheW91dFBhcmFtcy5yYWRpdXMgKiAxMDB9dnc7XHJcbiAgICAgICAgICAgICAgYm9yZGVyLXdpZHRoOiAke2xheW91dFBhcmFtcy5zdHJva2VXaWR0aCAqIDEwMH12dztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgYCk7XG4gICAgICAgICAgICAgICAgICAgIH0pfVxyXG4gICAgICBgIH0pXSB9KSB9KSk7XG59O1xuZXhwb3J0cy5JbWFnZUl0ZW0gPSBJbWFnZUl0ZW07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/FileItem/ImageItem.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/FileItem/VideoItem.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/FileItem/VideoItem.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.VideoItem = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst style_1 = __importDefault(__webpack_require__(/*! styled-jsx/style */ \"./node_modules/next/node_modules/styled-jsx/style.js\"));\nconst color_1 = __webpack_require__(/*! @cntrl-site/color */ \"./node_modules/@cntrl-site/color/lib/index.js\");\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst LinkWrapper_1 = __webpack_require__(/*! ../LinkWrapper */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/LinkWrapper.js\");\nconst useFileItem_1 = __webpack_require__(/*! ./useFileItem */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/FileItem/useFileItem.js\");\nconst useItemAngle_1 = __webpack_require__(/*! ../useItemAngle */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemAngle.js\");\nconst useCntrlContext_1 = __webpack_require__(/*! ../../../provider/useCntrlContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/useCntrlContext.js\");\nconst useRegisterResize_1 = __webpack_require__(/*! ../../../common/useRegisterResize */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useRegisterResize.js\");\nconst useLayoutContext_1 = __webpack_require__(/*! ../../useLayoutContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/useLayoutContext.js\");\nconst ScrollPlaybackVideo_1 = __webpack_require__(/*! ../../ScrollPlaybackVideo */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/ScrollPlaybackVideo.js\");\nconst getStyleFromItemStateAndParams_1 = __webpack_require__(/*! ../../../utils/getStyleFromItemStateAndParams */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getStyleFromItemStateAndParams.js\");\nconst useVideoFx_1 = __webpack_require__(/*! ../../../utils/effects/useVideoFx */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/effects/useVideoFx.js\");\nconst useElementRect_1 = __webpack_require__(/*! ../../../utils/useElementRect */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/useElementRect.js\");\nconst useItemFXData_1 = __webpack_require__(/*! ../../../common/useItemFXData */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useItemFXData.js\");\nconst VideoItem = ({ item, sectionId, onResize, interactionCtrl, onVisibilityChange }) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p;\n    const id = (0, react_1.useId)();\n    const { layouts } = (0, useCntrlContext_1.useCntrlContext)();\n    const layoutId = (0, useLayoutContext_1.useLayoutContext)();\n    const { radius: itemRadius, strokeWidth: itemStrokeWidth, strokeColor: itemStrokeColor, opacity: itemOpacity, blur: itemBlur } = (0, useFileItem_1.useFileItem)(item, sectionId);\n    const itemAngle = (0, useItemAngle_1.useItemAngle)(item, sectionId);\n    const [ref, setRef] = (0, react_1.useState)(null);\n    const videoRef = (0, react_1.useRef)(null);\n    const fxCanvas = (0, react_1.useRef)(null);\n    const { url, hasGLEffect } = item.commonParams;\n    const isInitialRef = (0, react_1.useRef)(true);\n    const area = layoutId ? item.area[layoutId] : null;\n    const exemplary = (_a = layouts === null || layouts === void 0 ? void 0 : layouts.find(l => l.id === layoutId)) === null || _a === void 0 ? void 0 : _a.exemplary;\n    const width = area && exemplary ? area.width * exemplary : 0;\n    const height = area && exemplary ? area.height * exemplary : 0;\n    const { controlsValues, fragmentShader } = (0, useItemFXData_1.useItemFXData)(item, sectionId);\n    const rect = (0, useElementRect_1.useElementRect)(ref);\n    const rectWidth = Math.floor((_b = rect === null || rect === void 0 ? void 0 : rect.width) !== null && _b !== void 0 ? _b : 0);\n    const rectHeight = Math.floor((_c = rect === null || rect === void 0 ? void 0 : rect.height) !== null && _c !== void 0 ? _c : 0);\n    const scrollPlayback = layoutId ? item.layoutParams[layoutId].scrollPlayback : null;\n    const layoutValues = [item.area, item.layoutParams];\n    const hasScrollPlayback = scrollPlayback !== null;\n    const wrapperStateParams = interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.getState(['angle', 'opacity', 'blur']);\n    const videoStateParams = interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.getState(['strokeWidth', 'radius', 'strokeColor']);\n    const borderColor = (0, react_1.useMemo)(() => {\n        var _a;\n        const strokeColor = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_a = videoStateParams === null || videoStateParams === void 0 ? void 0 : videoStateParams.styles) === null || _a === void 0 ? void 0 : _a.color, itemStrokeColor);\n        return strokeColor ? color_1.CntrlColor.parse(strokeColor) : undefined;\n    }, [(_d = videoStateParams === null || videoStateParams === void 0 ? void 0 : videoStateParams.styles) === null || _d === void 0 ? void 0 : _d.color, itemStrokeColor]);\n    const angle = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_e = wrapperStateParams === null || wrapperStateParams === void 0 ? void 0 : wrapperStateParams.styles) === null || _e === void 0 ? void 0 : _e.angle, itemAngle);\n    const opacity = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_f = wrapperStateParams === null || wrapperStateParams === void 0 ? void 0 : wrapperStateParams.styles) === null || _f === void 0 ? void 0 : _f.opacity, itemOpacity);\n    const blur = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_g = wrapperStateParams === null || wrapperStateParams === void 0 ? void 0 : wrapperStateParams.styles) === null || _g === void 0 ? void 0 : _g.blur, itemBlur);\n    const strokeWidth = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_h = wrapperStateParams === null || wrapperStateParams === void 0 ? void 0 : wrapperStateParams.styles) === null || _h === void 0 ? void 0 : _h.strokeWidth, itemStrokeWidth);\n    const radius = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_j = wrapperStateParams === null || wrapperStateParams === void 0 ? void 0 : wrapperStateParams.styles) === null || _j === void 0 ? void 0 : _j.radius, itemRadius);\n    (0, react_1.useEffect)(() => {\n        isInitialRef.current = false;\n    }, []);\n    const isFXAllowed = (0, useVideoFx_1.useVideoFx)(fxCanvas.current, !!(hasGLEffect && !isInitialRef.current), {\n        videoUrl: url,\n        fragmentShader,\n        controls: controlsValues\n    }, width, height);\n    (0, useRegisterResize_1.useRegisterResize)(ref, onResize);\n    const inlineStyles = Object.assign(Object.assign(Object.assign(Object.assign({}, (radius !== undefined ? { borderRadius: `${radius * 100}vw` } : {})), (strokeWidth !== undefined ? { borderWidth: `${strokeWidth * 100}vw` } : {})), (borderColor ? { borderColor: `${borderColor.toCss()}` } : {})), { transition: (_k = videoStateParams === null || videoStateParams === void 0 ? void 0 : videoStateParams.transition) !== null && _k !== void 0 ? _k : 'none' });\n    const isInteractive = opacity !== 0;\n    (0, react_1.useEffect)(() => {\n        onVisibilityChange === null || onVisibilityChange === void 0 ? void 0 : onVisibilityChange(isInteractive);\n    }, [isInteractive, onVisibilityChange]);\n    return ((0, jsx_runtime_1.jsxs)(LinkWrapper_1.LinkWrapper, { url: (_l = item.link) === null || _l === void 0 ? void 0 : _l.url, target: (_m = item.link) === null || _m === void 0 ? void 0 : _m.target, children: [(0, jsx_runtime_1.jsx)(\"div\", { className: `video-wrapper-${item.id}`, ref: setRef, style: Object.assign(Object.assign(Object.assign(Object.assign({}, (opacity !== undefined ? { opacity } : {})), (angle !== undefined ? { transform: `rotate(${angle}deg) translateZ(0)` } : {})), (blur !== undefined ? { filter: `blur(${blur * 100}vw)` } : {})), { transition: (_o = wrapperStateParams === null || wrapperStateParams === void 0 ? void 0 : wrapperStateParams.transition) !== null && _o !== void 0 ? _o : 'none' }), children: hasScrollPlayback\n                    ? ((0, jsx_runtime_1.jsx)(ScrollPlaybackVideo_1.ScrollPlaybackVideo, { sectionId: sectionId, src: item.commonParams.url, playbackParams: scrollPlayback, style: inlineStyles, className: `video video-playback-wrapper video-${item.id}` }))\n                    : ((0, jsx_runtime_1.jsx)(jsx_runtime_1.Fragment, { children: hasGLEffect && isFXAllowed\n                            ? ((0, jsx_runtime_1.jsx)(\"canvas\", { style: inlineStyles, ref: fxCanvas, className: `video-canvas video-${item.id}`, width: rectWidth, height: rectHeight }))\n                            : ((0, jsx_runtime_1.jsx)(\"video\", { poster: (_p = item.commonParams.coverUrl) !== null && _p !== void 0 ? _p : '', ref: videoRef, autoPlay: true, muted: true, loop: true, playsInline: true, className: `video video-${item.id}`, style: inlineStyles, children: (0, jsx_runtime_1.jsx)(\"source\", { src: item.commonParams.url }) })) })) }), (0, jsx_runtime_1.jsx)(style_1.default, { id: id, children: `\r\n        .video-wrapper-${item.id} {\r\n          position: absolute;\r\n          overflow: hidden;\r\n          width: 100%;\r\n          height: 100%;\r\n          box-sizing: border-box;\r\n          opacity: ${opacity};\r\n        }\r\n        .video {\r\n          width: 100%;\r\n          height: 100%;\r\n          box-sizing: border-box;\r\n          opacity: 1;\r\n          object-fit: cover;\r\n          overflow: hidden;\r\n          border-style: solid;\r\n        }\r\n        .video-${item.id} {\r\n          border-color: ${itemStrokeColor};\r\n        }\r\n        .video-playback-wrapper {\r\n          display: flex;\r\n          justify-content: center;\r\n        }\r\n        .video-canvas {\r\n          border: solid;\r\n          width: 100%;\r\n          height: 100%;\r\n          pointer-events: none;\r\n          border-width: 0;\r\n          box-sizing: border-box;\r\n        }\r\n        ${(0, sdk_1.getLayoutStyles)(layouts, layoutValues, ([area, layoutParams]) => {\n                    return (`\r\n            .video-wrapper-${item.id} {\r\n              opacity: ${layoutParams.opacity};\r\n              transform: rotate(${area.angle}deg) translateZ(0);\r\n              filter: ${layoutParams.blur !== 0 ? `blur(${layoutParams.blur * 100}vw)` : 'unset'};\r\n            }\r\n            .video-${item.id} {\r\n              border-color: ${color_1.CntrlColor.parse(layoutParams.strokeColor).fmt('rgba')};\r\n              border-radius: ${layoutParams.radius * 100}vw;\r\n              border-width: ${layoutParams.strokeWidth * 100}vw;\r\n            }\r\n          `);\n                })}\r\n    ` })] }));\n};\nexports.VideoItem = VideoItem;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9GaWxlSXRlbS9WaWRlb0l0ZW0uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUI7QUFDakIsc0JBQXNCLG1CQUFPLENBQUMsOERBQW1CO0FBQ2pELGdCQUFnQixtQkFBTyxDQUFDLDRDQUFPO0FBQy9CLGdDQUFnQyxtQkFBTyxDQUFDLDhFQUFrQjtBQUMxRCxnQkFBZ0IsbUJBQU8sQ0FBQyx3RUFBbUI7QUFDM0MsY0FBYyxtQkFBTyxDQUFDLHFFQUFpQjtBQUN2QyxzQkFBc0IsbUJBQU8sQ0FBQyxpR0FBZ0I7QUFDOUMsc0JBQXNCLG1CQUFPLENBQUMseUdBQWU7QUFDN0MsdUJBQXVCLG1CQUFPLENBQUMsbUdBQWlCO0FBQ2hELDBCQUEwQixtQkFBTyxDQUFDLGdIQUFtQztBQUNyRSw0QkFBNEIsbUJBQU8sQ0FBQyxnSEFBbUM7QUFDdkUsMkJBQTJCLG1CQUFPLENBQUMsd0dBQXdCO0FBQzNELDhCQUE4QixtQkFBTyxDQUFDLDhHQUEyQjtBQUNqRSx5Q0FBeUMsbUJBQU8sQ0FBQyx3SUFBK0M7QUFDaEcscUJBQXFCLG1CQUFPLENBQUMsZ0hBQW1DO0FBQ2hFLHlCQUF5QixtQkFBTyxDQUFDLHdHQUErQjtBQUNoRSx3QkFBd0IsbUJBQU8sQ0FBQyx3R0FBK0I7QUFDL0QscUJBQXFCLGdFQUFnRTtBQUNyRjtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0EsWUFBWSx1SEFBdUg7QUFDbkk7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG1CQUFtQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxpQ0FBaUM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsbUZBQW1GLDRCQUE0QixpQkFBaUIsYUFBYSxNQUFNLElBQUksbUNBQW1DLGdCQUFnQixrQkFBa0IsTUFBTSxJQUFJLHFCQUFxQixnQkFBZ0Isb0JBQW9CLElBQUksSUFBSSxNQUFNLDRKQUE0SjtBQUN6YztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsaUVBQWlFLHVMQUF1TCw0QkFBNEIsUUFBUSxpRkFBaUYsNkJBQTZCLFVBQVUsSUFBSSw2QkFBNkIscUJBQXFCLE1BQU0sc0JBQXNCLElBQUksNEJBQTRCLGdCQUFnQixXQUFXLE9BQU8sSUFBSSxNQUFNLGtLQUFrSztBQUNwdEIsMkZBQTJGLHdKQUF3SixRQUFRLEdBQUc7QUFDOVAsd0VBQXdFO0FBQ3hFLGtFQUFrRSxxRUFBcUUsUUFBUSx5Q0FBeUM7QUFDeEwsaUVBQWlFLG9MQUFvTCxRQUFRLHFFQUFxRSw0QkFBNEIsR0FBRyxJQUFJLElBQUksNkNBQTZDO0FBQ3RaLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLDZCQUE2QjtBQUM3Qix5QkFBeUI7QUFDekIsa0NBQWtDLFdBQVc7QUFDN0Msd0JBQXdCLGtDQUFrQyx3QkFBd0I7QUFDbEY7QUFDQSxxQkFBcUI7QUFDckIsOEJBQThCO0FBQzlCLCtCQUErQiwwQkFBMEI7QUFDekQsOEJBQThCLCtCQUErQjtBQUM3RDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLE9BQU8sSUFBSTtBQUNYO0FBQ0EsaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9jb21wb25lbnRzL2l0ZW1zL0ZpbGVJdGVtL1ZpZGVvSXRlbS5qcz9mNDM2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5WaWRlb0l0ZW0gPSB2b2lkIDA7XG5jb25zdCBqc3hfcnVudGltZV8xID0gcmVxdWlyZShcInJlYWN0L2pzeC1ydW50aW1lXCIpO1xuY29uc3QgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbmNvbnN0IHN0eWxlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcInN0eWxlZC1qc3gvc3R5bGVcIikpO1xuY29uc3QgY29sb3JfMSA9IHJlcXVpcmUoXCJAY250cmwtc2l0ZS9jb2xvclwiKTtcbmNvbnN0IHNka18xID0gcmVxdWlyZShcIkBjbnRybC1zaXRlL3Nka1wiKTtcbmNvbnN0IExpbmtXcmFwcGVyXzEgPSByZXF1aXJlKFwiLi4vTGlua1dyYXBwZXJcIik7XG5jb25zdCB1c2VGaWxlSXRlbV8xID0gcmVxdWlyZShcIi4vdXNlRmlsZUl0ZW1cIik7XG5jb25zdCB1c2VJdGVtQW5nbGVfMSA9IHJlcXVpcmUoXCIuLi91c2VJdGVtQW5nbGVcIik7XG5jb25zdCB1c2VDbnRybENvbnRleHRfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9wcm92aWRlci91c2VDbnRybENvbnRleHRcIik7XG5jb25zdCB1c2VSZWdpc3RlclJlc2l6ZV8xID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbW1vbi91c2VSZWdpc3RlclJlc2l6ZVwiKTtcbmNvbnN0IHVzZUxheW91dENvbnRleHRfMSA9IHJlcXVpcmUoXCIuLi8uLi91c2VMYXlvdXRDb250ZXh0XCIpO1xuY29uc3QgU2Nyb2xsUGxheWJhY2tWaWRlb18xID0gcmVxdWlyZShcIi4uLy4uL1Njcm9sbFBsYXliYWNrVmlkZW9cIik7XG5jb25zdCBnZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXNfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy9nZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXNcIik7XG5jb25zdCB1c2VWaWRlb0Z4XzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvZWZmZWN0cy91c2VWaWRlb0Z4XCIpO1xuY29uc3QgdXNlRWxlbWVudFJlY3RfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy91c2VFbGVtZW50UmVjdFwiKTtcbmNvbnN0IHVzZUl0ZW1GWERhdGFfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jb21tb24vdXNlSXRlbUZYRGF0YVwiKTtcbmNvbnN0IFZpZGVvSXRlbSA9ICh7IGl0ZW0sIHNlY3Rpb25JZCwgb25SZXNpemUsIGludGVyYWN0aW9uQ3RybCwgb25WaXNpYmlsaXR5Q2hhbmdlIH0pID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaiwgX2ssIF9sLCBfbSwgX28sIF9wO1xuICAgIGNvbnN0IGlkID0gKDAsIHJlYWN0XzEudXNlSWQpKCk7XG4gICAgY29uc3QgeyBsYXlvdXRzIH0gPSAoMCwgdXNlQ250cmxDb250ZXh0XzEudXNlQ250cmxDb250ZXh0KSgpO1xuICAgIGNvbnN0IGxheW91dElkID0gKDAsIHVzZUxheW91dENvbnRleHRfMS51c2VMYXlvdXRDb250ZXh0KSgpO1xuICAgIGNvbnN0IHsgcmFkaXVzOiBpdGVtUmFkaXVzLCBzdHJva2VXaWR0aDogaXRlbVN0cm9rZVdpZHRoLCBzdHJva2VDb2xvcjogaXRlbVN0cm9rZUNvbG9yLCBvcGFjaXR5OiBpdGVtT3BhY2l0eSwgYmx1cjogaXRlbUJsdXIgfSA9ICgwLCB1c2VGaWxlSXRlbV8xLnVzZUZpbGVJdGVtKShpdGVtLCBzZWN0aW9uSWQpO1xuICAgIGNvbnN0IGl0ZW1BbmdsZSA9ICgwLCB1c2VJdGVtQW5nbGVfMS51c2VJdGVtQW5nbGUpKGl0ZW0sIHNlY3Rpb25JZCk7XG4gICAgY29uc3QgW3JlZiwgc2V0UmVmXSA9ICgwLCByZWFjdF8xLnVzZVN0YXRlKShudWxsKTtcbiAgICBjb25zdCB2aWRlb1JlZiA9ICgwLCByZWFjdF8xLnVzZVJlZikobnVsbCk7XG4gICAgY29uc3QgZnhDYW52YXMgPSAoMCwgcmVhY3RfMS51c2VSZWYpKG51bGwpO1xuICAgIGNvbnN0IHsgdXJsLCBoYXNHTEVmZmVjdCB9ID0gaXRlbS5jb21tb25QYXJhbXM7XG4gICAgY29uc3QgaXNJbml0aWFsUmVmID0gKDAsIHJlYWN0XzEudXNlUmVmKSh0cnVlKTtcbiAgICBjb25zdCBhcmVhID0gbGF5b3V0SWQgPyBpdGVtLmFyZWFbbGF5b3V0SWRdIDogbnVsbDtcbiAgICBjb25zdCBleGVtcGxhcnkgPSAoX2EgPSBsYXlvdXRzID09PSBudWxsIHx8IGxheW91dHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxheW91dHMuZmluZChsID0+IGwuaWQgPT09IGxheW91dElkKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmV4ZW1wbGFyeTtcbiAgICBjb25zdCB3aWR0aCA9IGFyZWEgJiYgZXhlbXBsYXJ5ID8gYXJlYS53aWR0aCAqIGV4ZW1wbGFyeSA6IDA7XG4gICAgY29uc3QgaGVpZ2h0ID0gYXJlYSAmJiBleGVtcGxhcnkgPyBhcmVhLmhlaWdodCAqIGV4ZW1wbGFyeSA6IDA7XG4gICAgY29uc3QgeyBjb250cm9sc1ZhbHVlcywgZnJhZ21lbnRTaGFkZXIgfSA9ICgwLCB1c2VJdGVtRlhEYXRhXzEudXNlSXRlbUZYRGF0YSkoaXRlbSwgc2VjdGlvbklkKTtcbiAgICBjb25zdCByZWN0ID0gKDAsIHVzZUVsZW1lbnRSZWN0XzEudXNlRWxlbWVudFJlY3QpKHJlZik7XG4gICAgY29uc3QgcmVjdFdpZHRoID0gTWF0aC5mbG9vcigoX2IgPSByZWN0ID09PSBudWxsIHx8IHJlY3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlY3Qud2lkdGgpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDApO1xuICAgIGNvbnN0IHJlY3RIZWlnaHQgPSBNYXRoLmZsb29yKChfYyA9IHJlY3QgPT09IG51bGwgfHwgcmVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVjdC5oZWlnaHQpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IDApO1xuICAgIGNvbnN0IHNjcm9sbFBsYXliYWNrID0gbGF5b3V0SWQgPyBpdGVtLmxheW91dFBhcmFtc1tsYXlvdXRJZF0uc2Nyb2xsUGxheWJhY2sgOiBudWxsO1xuICAgIGNvbnN0IGxheW91dFZhbHVlcyA9IFtpdGVtLmFyZWEsIGl0ZW0ubGF5b3V0UGFyYW1zXTtcbiAgICBjb25zdCBoYXNTY3JvbGxQbGF5YmFjayA9IHNjcm9sbFBsYXliYWNrICE9PSBudWxsO1xuICAgIGNvbnN0IHdyYXBwZXJTdGF0ZVBhcmFtcyA9IGludGVyYWN0aW9uQ3RybCA9PT0gbnVsbCB8fCBpbnRlcmFjdGlvbkN0cmwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyYWN0aW9uQ3RybC5nZXRTdGF0ZShbJ2FuZ2xlJywgJ29wYWNpdHknLCAnYmx1ciddKTtcbiAgICBjb25zdCB2aWRlb1N0YXRlUGFyYW1zID0gaW50ZXJhY3Rpb25DdHJsID09PSBudWxsIHx8IGludGVyYWN0aW9uQ3RybCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW50ZXJhY3Rpb25DdHJsLmdldFN0YXRlKFsnc3Ryb2tlV2lkdGgnLCAncmFkaXVzJywgJ3N0cm9rZUNvbG9yJ10pO1xuICAgIGNvbnN0IGJvcmRlckNvbG9yID0gKDAsIHJlYWN0XzEudXNlTWVtbykoKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHN0cm9rZUNvbG9yID0gKDAsIGdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtc18xLmdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtcykoKF9hID0gdmlkZW9TdGF0ZVBhcmFtcyA9PT0gbnVsbCB8fCB2aWRlb1N0YXRlUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2aWRlb1N0YXRlUGFyYW1zLnN0eWxlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbG9yLCBpdGVtU3Ryb2tlQ29sb3IpO1xuICAgICAgICByZXR1cm4gc3Ryb2tlQ29sb3IgPyBjb2xvcl8xLkNudHJsQ29sb3IucGFyc2Uoc3Ryb2tlQ29sb3IpIDogdW5kZWZpbmVkO1xuICAgIH0sIFsoX2QgPSB2aWRlb1N0YXRlUGFyYW1zID09PSBudWxsIHx8IHZpZGVvU3RhdGVQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZpZGVvU3RhdGVQYXJhbXMuc3R5bGVzKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuY29sb3IsIGl0ZW1TdHJva2VDb2xvcl0pO1xuICAgIGNvbnN0IGFuZ2xlID0gKDAsIGdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtc18xLmdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtcykoKF9lID0gd3JhcHBlclN0YXRlUGFyYW1zID09PSBudWxsIHx8IHdyYXBwZXJTdGF0ZVBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogd3JhcHBlclN0YXRlUGFyYW1zLnN0eWxlcykgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmFuZ2xlLCBpdGVtQW5nbGUpO1xuICAgIGNvbnN0IG9wYWNpdHkgPSAoMCwgZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zXzEuZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zKSgoX2YgPSB3cmFwcGVyU3RhdGVQYXJhbXMgPT09IG51bGwgfHwgd3JhcHBlclN0YXRlUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3cmFwcGVyU3RhdGVQYXJhbXMuc3R5bGVzKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Yub3BhY2l0eSwgaXRlbU9wYWNpdHkpO1xuICAgIGNvbnN0IGJsdXIgPSAoMCwgZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zXzEuZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zKSgoX2cgPSB3cmFwcGVyU3RhdGVQYXJhbXMgPT09IG51bGwgfHwgd3JhcHBlclN0YXRlUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3cmFwcGVyU3RhdGVQYXJhbXMuc3R5bGVzKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuYmx1ciwgaXRlbUJsdXIpO1xuICAgIGNvbnN0IHN0cm9rZVdpZHRoID0gKDAsIGdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtc18xLmdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtcykoKF9oID0gd3JhcHBlclN0YXRlUGFyYW1zID09PSBudWxsIHx8IHdyYXBwZXJTdGF0ZVBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogd3JhcHBlclN0YXRlUGFyYW1zLnN0eWxlcykgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLnN0cm9rZVdpZHRoLCBpdGVtU3Ryb2tlV2lkdGgpO1xuICAgIGNvbnN0IHJhZGl1cyA9ICgwLCBnZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXNfMS5nZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXMpKChfaiA9IHdyYXBwZXJTdGF0ZVBhcmFtcyA9PT0gbnVsbCB8fCB3cmFwcGVyU3RhdGVQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdyYXBwZXJTdGF0ZVBhcmFtcy5zdHlsZXMpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai5yYWRpdXMsIGl0ZW1SYWRpdXMpO1xuICAgICgwLCByZWFjdF8xLnVzZUVmZmVjdCkoKCkgPT4ge1xuICAgICAgICBpc0luaXRpYWxSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBpc0ZYQWxsb3dlZCA9ICgwLCB1c2VWaWRlb0Z4XzEudXNlVmlkZW9GeCkoZnhDYW52YXMuY3VycmVudCwgISEoaGFzR0xFZmZlY3QgJiYgIWlzSW5pdGlhbFJlZi5jdXJyZW50KSwge1xuICAgICAgICB2aWRlb1VybDogdXJsLFxuICAgICAgICBmcmFnbWVudFNoYWRlcixcbiAgICAgICAgY29udHJvbHM6IGNvbnRyb2xzVmFsdWVzXG4gICAgfSwgd2lkdGgsIGhlaWdodCk7XG4gICAgKDAsIHVzZVJlZ2lzdGVyUmVzaXplXzEudXNlUmVnaXN0ZXJSZXNpemUpKHJlZiwgb25SZXNpemUpO1xuICAgIGNvbnN0IGlubGluZVN0eWxlcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIChyYWRpdXMgIT09IHVuZGVmaW5lZCA/IHsgYm9yZGVyUmFkaXVzOiBgJHtyYWRpdXMgKiAxMDB9dndgIH0gOiB7fSkpLCAoc3Ryb2tlV2lkdGggIT09IHVuZGVmaW5lZCA/IHsgYm9yZGVyV2lkdGg6IGAke3N0cm9rZVdpZHRoICogMTAwfXZ3YCB9IDoge30pKSwgKGJvcmRlckNvbG9yID8geyBib3JkZXJDb2xvcjogYCR7Ym9yZGVyQ29sb3IudG9Dc3MoKX1gIH0gOiB7fSkpLCB7IHRyYW5zaXRpb246IChfayA9IHZpZGVvU3RhdGVQYXJhbXMgPT09IG51bGwgfHwgdmlkZW9TdGF0ZVBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmlkZW9TdGF0ZVBhcmFtcy50cmFuc2l0aW9uKSAhPT0gbnVsbCAmJiBfayAhPT0gdm9pZCAwID8gX2sgOiAnbm9uZScgfSk7XG4gICAgY29uc3QgaXNJbnRlcmFjdGl2ZSA9IG9wYWNpdHkgIT09IDA7XG4gICAgKDAsIHJlYWN0XzEudXNlRWZmZWN0KSgoKSA9PiB7XG4gICAgICAgIG9uVmlzaWJpbGl0eUNoYW5nZSA9PT0gbnVsbCB8fCBvblZpc2liaWxpdHlDaGFuZ2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uVmlzaWJpbGl0eUNoYW5nZShpc0ludGVyYWN0aXZlKTtcbiAgICB9LCBbaXNJbnRlcmFjdGl2ZSwgb25WaXNpYmlsaXR5Q2hhbmdlXSk7XG4gICAgcmV0dXJuICgoMCwganN4X3J1bnRpbWVfMS5qc3hzKShMaW5rV3JhcHBlcl8xLkxpbmtXcmFwcGVyLCB7IHVybDogKF9sID0gaXRlbS5saW5rKSA9PT0gbnVsbCB8fCBfbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2wudXJsLCB0YXJnZXQ6IChfbSA9IGl0ZW0ubGluaykgPT09IG51bGwgfHwgX20gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tLnRhcmdldCwgY2hpbGRyZW46IFsoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBgdmlkZW8td3JhcHBlci0ke2l0ZW0uaWR9YCwgcmVmOiBzZXRSZWYsIHN0eWxlOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCAob3BhY2l0eSAhPT0gdW5kZWZpbmVkID8geyBvcGFjaXR5IH0gOiB7fSkpLCAoYW5nbGUgIT09IHVuZGVmaW5lZCA/IHsgdHJhbnNmb3JtOiBgcm90YXRlKCR7YW5nbGV9ZGVnKSB0cmFuc2xhdGVaKDApYCB9IDoge30pKSwgKGJsdXIgIT09IHVuZGVmaW5lZCA/IHsgZmlsdGVyOiBgYmx1cigke2JsdXIgKiAxMDB9dncpYCB9IDoge30pKSwgeyB0cmFuc2l0aW9uOiAoX28gPSB3cmFwcGVyU3RhdGVQYXJhbXMgPT09IG51bGwgfHwgd3JhcHBlclN0YXRlUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3cmFwcGVyU3RhdGVQYXJhbXMudHJhbnNpdGlvbikgIT09IG51bGwgJiYgX28gIT09IHZvaWQgMCA/IF9vIDogJ25vbmUnIH0pLCBjaGlsZHJlbjogaGFzU2Nyb2xsUGxheWJhY2tcbiAgICAgICAgICAgICAgICAgICAgPyAoKDAsIGpzeF9ydW50aW1lXzEuanN4KShTY3JvbGxQbGF5YmFja1ZpZGVvXzEuU2Nyb2xsUGxheWJhY2tWaWRlbywgeyBzZWN0aW9uSWQ6IHNlY3Rpb25JZCwgc3JjOiBpdGVtLmNvbW1vblBhcmFtcy51cmwsIHBsYXliYWNrUGFyYW1zOiBzY3JvbGxQbGF5YmFjaywgc3R5bGU6IGlubGluZVN0eWxlcywgY2xhc3NOYW1lOiBgdmlkZW8gdmlkZW8tcGxheWJhY2std3JhcHBlciB2aWRlby0ke2l0ZW0uaWR9YCB9KSlcbiAgICAgICAgICAgICAgICAgICAgOiAoKDAsIGpzeF9ydW50aW1lXzEuanN4KShqc3hfcnVudGltZV8xLkZyYWdtZW50LCB7IGNoaWxkcmVuOiBoYXNHTEVmZmVjdCAmJiBpc0ZYQWxsb3dlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKCgwLCBqc3hfcnVudGltZV8xLmpzeCkoXCJjYW52YXNcIiwgeyBzdHlsZTogaW5saW5lU3R5bGVzLCByZWY6IGZ4Q2FudmFzLCBjbGFzc05hbWU6IGB2aWRlby1jYW52YXMgdmlkZW8tJHtpdGVtLmlkfWAsIHdpZHRoOiByZWN0V2lkdGgsIGhlaWdodDogcmVjdEhlaWdodCB9KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICgoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwidmlkZW9cIiwgeyBwb3N0ZXI6IChfcCA9IGl0ZW0uY29tbW9uUGFyYW1zLmNvdmVyVXJsKSAhPT0gbnVsbCAmJiBfcCAhPT0gdm9pZCAwID8gX3AgOiAnJywgcmVmOiB2aWRlb1JlZiwgYXV0b1BsYXk6IHRydWUsIG11dGVkOiB0cnVlLCBsb29wOiB0cnVlLCBwbGF5c0lubGluZTogdHJ1ZSwgY2xhc3NOYW1lOiBgdmlkZW8gdmlkZW8tJHtpdGVtLmlkfWAsIHN0eWxlOiBpbmxpbmVTdHlsZXMsIGNoaWxkcmVuOiAoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwic291cmNlXCIsIHsgc3JjOiBpdGVtLmNvbW1vblBhcmFtcy51cmwgfSkgfSkpIH0pKSB9KSwgKDAsIGpzeF9ydW50aW1lXzEuanN4KShzdHlsZV8xLmRlZmF1bHQsIHsgaWQ6IGlkLCBjaGlsZHJlbjogYFxyXG4gICAgICAgIC52aWRlby13cmFwcGVyLSR7aXRlbS5pZH0ge1xyXG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgICAgICAgIG9wYWNpdHk6ICR7b3BhY2l0eX07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC52aWRlbyB7XHJcbiAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgICAgb2JqZWN0LWZpdDogY292ZXI7XHJcbiAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICAgICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLnZpZGVvLSR7aXRlbS5pZH0ge1xyXG4gICAgICAgICAgYm9yZGVyLWNvbG9yOiAke2l0ZW1TdHJva2VDb2xvcn07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC52aWRlby1wbGF5YmFjay13cmFwcGVyIHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLnZpZGVvLWNhbnZhcyB7XHJcbiAgICAgICAgICBib3JkZXI6IHNvbGlkO1xyXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcclxuICAgICAgICAgIGJvcmRlci13aWR0aDogMDtcclxuICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICR7KDAsIHNka18xLmdldExheW91dFN0eWxlcykobGF5b3V0cywgbGF5b3V0VmFsdWVzLCAoW2FyZWEsIGxheW91dFBhcmFtc10pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChgXHJcbiAgICAgICAgICAgIC52aWRlby13cmFwcGVyLSR7aXRlbS5pZH0ge1xyXG4gICAgICAgICAgICAgIG9wYWNpdHk6ICR7bGF5b3V0UGFyYW1zLm9wYWNpdHl9O1xyXG4gICAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKCR7YXJlYS5hbmdsZX1kZWcpIHRyYW5zbGF0ZVooMCk7XHJcbiAgICAgICAgICAgICAgZmlsdGVyOiAke2xheW91dFBhcmFtcy5ibHVyICE9PSAwID8gYGJsdXIoJHtsYXlvdXRQYXJhbXMuYmx1ciAqIDEwMH12dylgIDogJ3Vuc2V0J307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLnZpZGVvLSR7aXRlbS5pZH0ge1xyXG4gICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogJHtjb2xvcl8xLkNudHJsQ29sb3IucGFyc2UobGF5b3V0UGFyYW1zLnN0cm9rZUNvbG9yKS5mbXQoJ3JnYmEnKX07XHJcbiAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogJHtsYXlvdXRQYXJhbXMucmFkaXVzICogMTAwfXZ3O1xyXG4gICAgICAgICAgICAgIGJvcmRlci13aWR0aDogJHtsYXlvdXRQYXJhbXMuc3Ryb2tlV2lkdGggKiAxMDB9dnc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIGApO1xuICAgICAgICAgICAgICAgIH0pfVxyXG4gICAgYCB9KV0gfSkpO1xufTtcbmV4cG9ydHMuVmlkZW9JdGVtID0gVmlkZW9JdGVtO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/FileItem/VideoItem.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/FileItem/useFileItem.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/FileItem/useFileItem.js ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useFileItem = void 0;\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst useKeyframeValue_1 = __webpack_require__(/*! ../../../common/useKeyframeValue */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useKeyframeValue.js\");\nconst useLayoutContext_1 = __webpack_require__(/*! ../../useLayoutContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/useLayoutContext.js\");\nconst DEFAULT_COLOR = 'rgba(0, 0, 0, 1)';\nfunction useFileItem(item, sectionId) {\n    const layoutId = (0, useLayoutContext_1.useLayoutContext)();\n    const radius = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.BorderRadius, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'radius' in layoutParams ? layoutParams.radius : 0;\n    }, (animator, scroll, value) => value !== undefined ? animator.getRadius({ radius: value }, scroll).radius : undefined, sectionId, [layoutId]);\n    const strokeWidth = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.BorderWidth, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'strokeWidth' in layoutParams ? layoutParams.strokeWidth : 0;\n    }, (animator, scroll, value) => value !== undefined ? animator.getBorderWidth({ borderWidth: value }, scroll).borderWidth : undefined, sectionId, [layoutId]);\n    const opacity = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.Opacity, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'opacity' in layoutParams ? layoutParams.opacity : 1;\n    }, (animator, scroll, value) => value !== undefined ? animator.getOpacity({ opacity: value }, scroll).opacity : undefined, sectionId, [layoutId]);\n    const strokeColor = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.BorderColor, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'strokeColor' in layoutParams ? layoutParams.strokeColor : DEFAULT_COLOR;\n    }, (animator, scroll, value) => value ? animator.getBorderColor({ color: value }, scroll).color : undefined, sectionId, [layoutId]);\n    const blur = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.Blur, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'blur' in layoutParams ? layoutParams.blur : 0;\n    }, (animator, scroll, value) => value !== undefined ? animator.getBlur({ blur: value }, scroll).blur : undefined, sectionId, [layoutId]);\n    return { radius, strokeWidth, opacity, strokeColor, blur };\n}\nexports.useFileItem = useFileItem;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9GaWxlSXRlbS91c2VGaWxlSXRlbS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUI7QUFDbkIsY0FBYyxtQkFBTyxDQUFDLHFFQUFpQjtBQUN2QywyQkFBMkIsbUJBQU8sQ0FBQyw4R0FBa0M7QUFDckUsMkJBQTJCLG1CQUFPLENBQUMsd0dBQXdCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDBFQUEwRSxlQUFlO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLCtFQUErRSxvQkFBb0I7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssMkVBQTJFLGdCQUFnQjtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxpRUFBaUUsY0FBYztBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyx3RUFBd0UsYUFBYTtBQUMxRixhQUFhO0FBQ2I7QUFDQSxtQkFBbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay1uZXh0anMvbGliL2NvbXBvbmVudHMvaXRlbXMvRmlsZUl0ZW0vdXNlRmlsZUl0ZW0uanM/NTUxNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudXNlRmlsZUl0ZW0gPSB2b2lkIDA7XG5jb25zdCBzZGtfMSA9IHJlcXVpcmUoXCJAY250cmwtc2l0ZS9zZGtcIik7XG5jb25zdCB1c2VLZXlmcmFtZVZhbHVlXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tbW9uL3VzZUtleWZyYW1lVmFsdWVcIik7XG5jb25zdCB1c2VMYXlvdXRDb250ZXh0XzEgPSByZXF1aXJlKFwiLi4vLi4vdXNlTGF5b3V0Q29udGV4dFwiKTtcbmNvbnN0IERFRkFVTFRfQ09MT1IgPSAncmdiYSgwLCAwLCAwLCAxKSc7XG5mdW5jdGlvbiB1c2VGaWxlSXRlbShpdGVtLCBzZWN0aW9uSWQpIHtcbiAgICBjb25zdCBsYXlvdXRJZCA9ICgwLCB1c2VMYXlvdXRDb250ZXh0XzEudXNlTGF5b3V0Q29udGV4dCkoKTtcbiAgICBjb25zdCByYWRpdXMgPSAoMCwgdXNlS2V5ZnJhbWVWYWx1ZV8xLnVzZUtleWZyYW1lVmFsdWUpKGl0ZW0sIHNka18xLktleWZyYW1lVHlwZS5Cb3JkZXJSYWRpdXMsIChpdGVtLCBsYXlvdXRJZCkgPT4ge1xuICAgICAgICBpZiAoIWxheW91dElkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBsYXlvdXRQYXJhbXMgPSBpdGVtLmxheW91dFBhcmFtc1tsYXlvdXRJZF07XG4gICAgICAgIHJldHVybiAncmFkaXVzJyBpbiBsYXlvdXRQYXJhbXMgPyBsYXlvdXRQYXJhbXMucmFkaXVzIDogMDtcbiAgICB9LCAoYW5pbWF0b3IsIHNjcm9sbCwgdmFsdWUpID0+IHZhbHVlICE9PSB1bmRlZmluZWQgPyBhbmltYXRvci5nZXRSYWRpdXMoeyByYWRpdXM6IHZhbHVlIH0sIHNjcm9sbCkucmFkaXVzIDogdW5kZWZpbmVkLCBzZWN0aW9uSWQsIFtsYXlvdXRJZF0pO1xuICAgIGNvbnN0IHN0cm9rZVdpZHRoID0gKDAsIHVzZUtleWZyYW1lVmFsdWVfMS51c2VLZXlmcmFtZVZhbHVlKShpdGVtLCBzZGtfMS5LZXlmcmFtZVR5cGUuQm9yZGVyV2lkdGgsIChpdGVtLCBsYXlvdXRJZCkgPT4ge1xuICAgICAgICBpZiAoIWxheW91dElkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBsYXlvdXRQYXJhbXMgPSBpdGVtLmxheW91dFBhcmFtc1tsYXlvdXRJZF07XG4gICAgICAgIHJldHVybiAnc3Ryb2tlV2lkdGgnIGluIGxheW91dFBhcmFtcyA/IGxheW91dFBhcmFtcy5zdHJva2VXaWR0aCA6IDA7XG4gICAgfSwgKGFuaW1hdG9yLCBzY3JvbGwsIHZhbHVlKSA9PiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gYW5pbWF0b3IuZ2V0Qm9yZGVyV2lkdGgoeyBib3JkZXJXaWR0aDogdmFsdWUgfSwgc2Nyb2xsKS5ib3JkZXJXaWR0aCA6IHVuZGVmaW5lZCwgc2VjdGlvbklkLCBbbGF5b3V0SWRdKTtcbiAgICBjb25zdCBvcGFjaXR5ID0gKDAsIHVzZUtleWZyYW1lVmFsdWVfMS51c2VLZXlmcmFtZVZhbHVlKShpdGVtLCBzZGtfMS5LZXlmcmFtZVR5cGUuT3BhY2l0eSwgKGl0ZW0sIGxheW91dElkKSA9PiB7XG4gICAgICAgIGlmICghbGF5b3V0SWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGxheW91dFBhcmFtcyA9IGl0ZW0ubGF5b3V0UGFyYW1zW2xheW91dElkXTtcbiAgICAgICAgcmV0dXJuICdvcGFjaXR5JyBpbiBsYXlvdXRQYXJhbXMgPyBsYXlvdXRQYXJhbXMub3BhY2l0eSA6IDE7XG4gICAgfSwgKGFuaW1hdG9yLCBzY3JvbGwsIHZhbHVlKSA9PiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gYW5pbWF0b3IuZ2V0T3BhY2l0eSh7IG9wYWNpdHk6IHZhbHVlIH0sIHNjcm9sbCkub3BhY2l0eSA6IHVuZGVmaW5lZCwgc2VjdGlvbklkLCBbbGF5b3V0SWRdKTtcbiAgICBjb25zdCBzdHJva2VDb2xvciA9ICgwLCB1c2VLZXlmcmFtZVZhbHVlXzEudXNlS2V5ZnJhbWVWYWx1ZSkoaXRlbSwgc2RrXzEuS2V5ZnJhbWVUeXBlLkJvcmRlckNvbG9yLCAoaXRlbSwgbGF5b3V0SWQpID0+IHtcbiAgICAgICAgaWYgKCFsYXlvdXRJZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgbGF5b3V0UGFyYW1zID0gaXRlbS5sYXlvdXRQYXJhbXNbbGF5b3V0SWRdO1xuICAgICAgICByZXR1cm4gJ3N0cm9rZUNvbG9yJyBpbiBsYXlvdXRQYXJhbXMgPyBsYXlvdXRQYXJhbXMuc3Ryb2tlQ29sb3IgOiBERUZBVUxUX0NPTE9SO1xuICAgIH0sIChhbmltYXRvciwgc2Nyb2xsLCB2YWx1ZSkgPT4gdmFsdWUgPyBhbmltYXRvci5nZXRCb3JkZXJDb2xvcih7IGNvbG9yOiB2YWx1ZSB9LCBzY3JvbGwpLmNvbG9yIDogdW5kZWZpbmVkLCBzZWN0aW9uSWQsIFtsYXlvdXRJZF0pO1xuICAgIGNvbnN0IGJsdXIgPSAoMCwgdXNlS2V5ZnJhbWVWYWx1ZV8xLnVzZUtleWZyYW1lVmFsdWUpKGl0ZW0sIHNka18xLktleWZyYW1lVHlwZS5CbHVyLCAoaXRlbSwgbGF5b3V0SWQpID0+IHtcbiAgICAgICAgaWYgKCFsYXlvdXRJZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgbGF5b3V0UGFyYW1zID0gaXRlbS5sYXlvdXRQYXJhbXNbbGF5b3V0SWRdO1xuICAgICAgICByZXR1cm4gJ2JsdXInIGluIGxheW91dFBhcmFtcyA/IGxheW91dFBhcmFtcy5ibHVyIDogMDtcbiAgICB9LCAoYW5pbWF0b3IsIHNjcm9sbCwgdmFsdWUpID0+IHZhbHVlICE9PSB1bmRlZmluZWQgPyBhbmltYXRvci5nZXRCbHVyKHsgYmx1cjogdmFsdWUgfSwgc2Nyb2xsKS5ibHVyIDogdW5kZWZpbmVkLCBzZWN0aW9uSWQsIFtsYXlvdXRJZF0pO1xuICAgIHJldHVybiB7IHJhZGl1cywgc3Ryb2tlV2lkdGgsIG9wYWNpdHksIHN0cm9rZUNvbG9yLCBibHVyIH07XG59XG5leHBvcnRzLnVzZUZpbGVJdGVtID0gdXNlRmlsZUl0ZW07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/FileItem/useFileItem.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/GroupItem/GroupItem.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/GroupItem/GroupItem.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GroupItem = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst Item_1 = __webpack_require__(/*! ../Item */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/Item.js\");\nconst style_1 = __importDefault(__webpack_require__(/*! styled-jsx/style */ \"./node_modules/next/node_modules/styled-jsx/style.js\"));\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst LinkWrapper_1 = __webpack_require__(/*! ../LinkWrapper */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/LinkWrapper.js\");\nconst useRegisterResize_1 = __webpack_require__(/*! ../../../common/useRegisterResize */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useRegisterResize.js\");\nconst useCntrlContext_1 = __webpack_require__(/*! ../../../provider/useCntrlContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/useCntrlContext.js\");\nconst useItemAngle_1 = __webpack_require__(/*! ../useItemAngle */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemAngle.js\");\nconst useGroupItem_1 = __webpack_require__(/*! ./useGroupItem */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/GroupItem/useGroupItem.js\");\nconst getStyleFromItemStateAndParams_1 = __webpack_require__(/*! ../../../utils/getStyleFromItemStateAndParams */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getStyleFromItemStateAndParams.js\");\nconst CompoundChild_1 = __webpack_require__(/*! ../CompoundItem/CompoundChild */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CompoundItem/CompoundChild.js\");\nconst GroupItem = ({ item, sectionId, onResize, interactionCtrl, onVisibilityChange, isInCompound }) => {\n    var _a, _b, _c, _d, _e, _f;\n    const id = (0, react_1.useId)();\n    const { items } = item;\n    const itemAngle = (0, useItemAngle_1.useItemAngle)(item, sectionId);\n    const { layouts } = (0, useCntrlContext_1.useCntrlContext)();\n    const { opacity: itemOpacity, blur: itemBlur } = (0, useGroupItem_1.useGroupItem)(item, sectionId);\n    const layoutValues = [item.area, item.layoutParams];\n    const [ref, setRef] = (0, react_1.useState)(null);\n    (0, useRegisterResize_1.useRegisterResize)(ref, onResize);\n    const stateParams = interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.getState(['opacity', 'angle', 'blur']);\n    const angle = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_a = stateParams === null || stateParams === void 0 ? void 0 : stateParams.styles) === null || _a === void 0 ? void 0 : _a.angle, itemAngle);\n    const opacity = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_b = stateParams === null || stateParams === void 0 ? void 0 : stateParams.styles) === null || _b === void 0 ? void 0 : _b.opacity, itemOpacity);\n    const blur = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_c = stateParams === null || stateParams === void 0 ? void 0 : stateParams.styles) === null || _c === void 0 ? void 0 : _c.blur, itemBlur);\n    const isInteractive = opacity !== 0 && opacity !== undefined;\n    (0, react_1.useEffect)(() => {\n        onVisibilityChange === null || onVisibilityChange === void 0 ? void 0 : onVisibilityChange(isInteractive);\n    }, [isInteractive, onVisibilityChange]);\n    return ((0, jsx_runtime_1.jsx)(LinkWrapper_1.LinkWrapper, { url: (_d = item.link) === null || _d === void 0 ? void 0 : _d.url, target: (_e = item.link) === null || _e === void 0 ? void 0 : _e.target, children: (0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(\"div\", { className: `group-${item.id}`, ref: setRef, style: Object.assign(Object.assign(Object.assign(Object.assign({}, (opacity !== undefined ? { opacity } : {})), (angle !== undefined ? { transform: `rotate(${angle}deg) translateZ(0)` } : {})), (blur !== undefined ? { filter: `blur(${blur * 100}vw)` } : {})), { transition: (_f = stateParams === null || stateParams === void 0 ? void 0 : stateParams.transition) !== null && _f !== void 0 ? _f : 'none' }), children: items && items.map(item => isInCompound ? ((0, jsx_runtime_1.jsx)(CompoundChild_1.CompoundChild, { item: item, sectionId: sectionId, isParentVisible: isInteractive }, item.id)) : ((0, jsx_runtime_1.jsx)(Item_1.Item, { item: item, sectionId: sectionId, isParentVisible: isInteractive, isInGroup: true }, item.id))) }), (0, jsx_runtime_1.jsx)(style_1.default, { id: id, children: `\r\n        .group-${item.id} {\r\n          position: absolute;\r\n          width: 100%;\r\n          height: 100%;\r\n          box-sizing: border-box;\r\n        }\r\n        ${(0, sdk_1.getLayoutStyles)(layouts, layoutValues, ([area, layoutParams]) => {\n                        return (`\r\n            .group-${item.id} {\r\n              opacity: ${layoutParams.opacity};\r\n              transform: rotate(${area.angle}deg) translateZ(0);\r\n            }\r\n          `);\n                    })}\r\n      ` })] }) }));\n};\nexports.GroupItem = GroupItem;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9Hcm91cEl0ZW0vR3JvdXBJdGVtLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCO0FBQ2pCLHNCQUFzQixtQkFBTyxDQUFDLDhEQUFtQjtBQUNqRCxnQkFBZ0IsbUJBQU8sQ0FBQyw0Q0FBTztBQUMvQixlQUFlLG1CQUFPLENBQUMsbUZBQVM7QUFDaEMsZ0NBQWdDLG1CQUFPLENBQUMsOEVBQWtCO0FBQzFELGNBQWMsbUJBQU8sQ0FBQyxxRUFBaUI7QUFDdkMsc0JBQXNCLG1CQUFPLENBQUMsaUdBQWdCO0FBQzlDLDRCQUE0QixtQkFBTyxDQUFDLGdIQUFtQztBQUN2RSwwQkFBMEIsbUJBQU8sQ0FBQyxnSEFBbUM7QUFDckUsdUJBQXVCLG1CQUFPLENBQUMsbUdBQWlCO0FBQ2hELHVCQUF1QixtQkFBTyxDQUFDLDRHQUFnQjtBQUMvQyx5Q0FBeUMsbUJBQU8sQ0FBQyx3SUFBK0M7QUFDaEcsd0JBQXdCLG1CQUFPLENBQUMsK0hBQStCO0FBQy9ELHFCQUFxQiw4RUFBOEU7QUFDbkc7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBLFlBQVksVUFBVTtBQUN0QixZQUFZLHVDQUF1QztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxnRUFBZ0Usd01BQXdNLDJDQUEyQyxvQkFBb0IsUUFBUSxpRkFBaUYsNkJBQTZCLFVBQVUsSUFBSSw2QkFBNkIscUJBQXFCLE1BQU0sc0JBQXNCLElBQUksNEJBQTRCLGdCQUFnQixXQUFXLE9BQU8sSUFBSSxNQUFNLDZJQUE2SSxnSEFBZ0gsa0VBQWtFLHFEQUFxRCxtRkFBbUYsY0FBYyw2Q0FBNkM7QUFDdm1DLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EscUJBQXFCO0FBQ3JCLHlCQUF5QjtBQUN6QixrQ0FBa0MsV0FBVztBQUM3QztBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLFNBQVMsSUFBSSxHQUFHO0FBQ2hCO0FBQ0EsaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9jb21wb25lbnRzL2l0ZW1zL0dyb3VwSXRlbS9Hcm91cEl0ZW0uanM/MDQ2MyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR3JvdXBJdGVtID0gdm9pZCAwO1xuY29uc3QganN4X3J1bnRpbWVfMSA9IHJlcXVpcmUoXCJyZWFjdC9qc3gtcnVudGltZVwiKTtcbmNvbnN0IHJlYWN0XzEgPSByZXF1aXJlKFwicmVhY3RcIik7XG5jb25zdCBJdGVtXzEgPSByZXF1aXJlKFwiLi4vSXRlbVwiKTtcbmNvbnN0IHN0eWxlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcInN0eWxlZC1qc3gvc3R5bGVcIikpO1xuY29uc3Qgc2RrXzEgPSByZXF1aXJlKFwiQGNudHJsLXNpdGUvc2RrXCIpO1xuY29uc3QgTGlua1dyYXBwZXJfMSA9IHJlcXVpcmUoXCIuLi9MaW5rV3JhcHBlclwiKTtcbmNvbnN0IHVzZVJlZ2lzdGVyUmVzaXplXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tbW9uL3VzZVJlZ2lzdGVyUmVzaXplXCIpO1xuY29uc3QgdXNlQ250cmxDb250ZXh0XzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vcHJvdmlkZXIvdXNlQ250cmxDb250ZXh0XCIpO1xuY29uc3QgdXNlSXRlbUFuZ2xlXzEgPSByZXF1aXJlKFwiLi4vdXNlSXRlbUFuZ2xlXCIpO1xuY29uc3QgdXNlR3JvdXBJdGVtXzEgPSByZXF1aXJlKFwiLi91c2VHcm91cEl0ZW1cIik7XG5jb25zdCBnZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXNfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy9nZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXNcIik7XG5jb25zdCBDb21wb3VuZENoaWxkXzEgPSByZXF1aXJlKFwiLi4vQ29tcG91bmRJdGVtL0NvbXBvdW5kQ2hpbGRcIik7XG5jb25zdCBHcm91cEl0ZW0gPSAoeyBpdGVtLCBzZWN0aW9uSWQsIG9uUmVzaXplLCBpbnRlcmFjdGlvbkN0cmwsIG9uVmlzaWJpbGl0eUNoYW5nZSwgaXNJbkNvbXBvdW5kIH0pID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgICBjb25zdCBpZCA9ICgwLCByZWFjdF8xLnVzZUlkKSgpO1xuICAgIGNvbnN0IHsgaXRlbXMgfSA9IGl0ZW07XG4gICAgY29uc3QgaXRlbUFuZ2xlID0gKDAsIHVzZUl0ZW1BbmdsZV8xLnVzZUl0ZW1BbmdsZSkoaXRlbSwgc2VjdGlvbklkKTtcbiAgICBjb25zdCB7IGxheW91dHMgfSA9ICgwLCB1c2VDbnRybENvbnRleHRfMS51c2VDbnRybENvbnRleHQpKCk7XG4gICAgY29uc3QgeyBvcGFjaXR5OiBpdGVtT3BhY2l0eSwgYmx1cjogaXRlbUJsdXIgfSA9ICgwLCB1c2VHcm91cEl0ZW1fMS51c2VHcm91cEl0ZW0pKGl0ZW0sIHNlY3Rpb25JZCk7XG4gICAgY29uc3QgbGF5b3V0VmFsdWVzID0gW2l0ZW0uYXJlYSwgaXRlbS5sYXlvdXRQYXJhbXNdO1xuICAgIGNvbnN0IFtyZWYsIHNldFJlZl0gPSAoMCwgcmVhY3RfMS51c2VTdGF0ZSkobnVsbCk7XG4gICAgKDAsIHVzZVJlZ2lzdGVyUmVzaXplXzEudXNlUmVnaXN0ZXJSZXNpemUpKHJlZiwgb25SZXNpemUpO1xuICAgIGNvbnN0IHN0YXRlUGFyYW1zID0gaW50ZXJhY3Rpb25DdHJsID09PSBudWxsIHx8IGludGVyYWN0aW9uQ3RybCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW50ZXJhY3Rpb25DdHJsLmdldFN0YXRlKFsnb3BhY2l0eScsICdhbmdsZScsICdibHVyJ10pO1xuICAgIGNvbnN0IGFuZ2xlID0gKDAsIGdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtc18xLmdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtcykoKF9hID0gc3RhdGVQYXJhbXMgPT09IG51bGwgfHwgc3RhdGVQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YXRlUGFyYW1zLnN0eWxlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFuZ2xlLCBpdGVtQW5nbGUpO1xuICAgIGNvbnN0IG9wYWNpdHkgPSAoMCwgZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zXzEuZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zKSgoX2IgPSBzdGF0ZVBhcmFtcyA9PT0gbnVsbCB8fCBzdGF0ZVBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhdGVQYXJhbXMuc3R5bGVzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iub3BhY2l0eSwgaXRlbU9wYWNpdHkpO1xuICAgIGNvbnN0IGJsdXIgPSAoMCwgZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zXzEuZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zKSgoX2MgPSBzdGF0ZVBhcmFtcyA9PT0gbnVsbCB8fCBzdGF0ZVBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhdGVQYXJhbXMuc3R5bGVzKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuYmx1ciwgaXRlbUJsdXIpO1xuICAgIGNvbnN0IGlzSW50ZXJhY3RpdmUgPSBvcGFjaXR5ICE9PSAwICYmIG9wYWNpdHkgIT09IHVuZGVmaW5lZDtcbiAgICAoMCwgcmVhY3RfMS51c2VFZmZlY3QpKCgpID0+IHtcbiAgICAgICAgb25WaXNpYmlsaXR5Q2hhbmdlID09PSBudWxsIHx8IG9uVmlzaWJpbGl0eUNoYW5nZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25WaXNpYmlsaXR5Q2hhbmdlKGlzSW50ZXJhY3RpdmUpO1xuICAgIH0sIFtpc0ludGVyYWN0aXZlLCBvblZpc2liaWxpdHlDaGFuZ2VdKTtcbiAgICByZXR1cm4gKCgwLCBqc3hfcnVudGltZV8xLmpzeCkoTGlua1dyYXBwZXJfMS5MaW5rV3JhcHBlciwgeyB1cmw6IChfZCA9IGl0ZW0ubGluaykgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnVybCwgdGFyZ2V0OiAoX2UgPSBpdGVtLmxpbmspID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS50YXJnZXQsIGNoaWxkcmVuOiAoMCwganN4X3J1bnRpbWVfMS5qc3hzKShqc3hfcnVudGltZV8xLkZyYWdtZW50LCB7IGNoaWxkcmVuOiBbKDAsIGpzeF9ydW50aW1lXzEuanN4KShcImRpdlwiLCB7IGNsYXNzTmFtZTogYGdyb3VwLSR7aXRlbS5pZH1gLCByZWY6IHNldFJlZiwgc3R5bGU6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIChvcGFjaXR5ICE9PSB1bmRlZmluZWQgPyB7IG9wYWNpdHkgfSA6IHt9KSksIChhbmdsZSAhPT0gdW5kZWZpbmVkID8geyB0cmFuc2Zvcm06IGByb3RhdGUoJHthbmdsZX1kZWcpIHRyYW5zbGF0ZVooMClgIH0gOiB7fSkpLCAoYmx1ciAhPT0gdW5kZWZpbmVkID8geyBmaWx0ZXI6IGBibHVyKCR7Ymx1ciAqIDEwMH12dylgIH0gOiB7fSkpLCB7IHRyYW5zaXRpb246IChfZiA9IHN0YXRlUGFyYW1zID09PSBudWxsIHx8IHN0YXRlUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdGF0ZVBhcmFtcy50cmFuc2l0aW9uKSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiAnbm9uZScgfSksIGNoaWxkcmVuOiBpdGVtcyAmJiBpdGVtcy5tYXAoaXRlbSA9PiBpc0luQ29tcG91bmQgPyAoKDAsIGpzeF9ydW50aW1lXzEuanN4KShDb21wb3VuZENoaWxkXzEuQ29tcG91bmRDaGlsZCwgeyBpdGVtOiBpdGVtLCBzZWN0aW9uSWQ6IHNlY3Rpb25JZCwgaXNQYXJlbnRWaXNpYmxlOiBpc0ludGVyYWN0aXZlIH0sIGl0ZW0uaWQpKSA6ICgoMCwganN4X3J1bnRpbWVfMS5qc3gpKEl0ZW1fMS5JdGVtLCB7IGl0ZW06IGl0ZW0sIHNlY3Rpb25JZDogc2VjdGlvbklkLCBpc1BhcmVudFZpc2libGU6IGlzSW50ZXJhY3RpdmUsIGlzSW5Hcm91cDogdHJ1ZSB9LCBpdGVtLmlkKSkpIH0pLCAoMCwganN4X3J1bnRpbWVfMS5qc3gpKHN0eWxlXzEuZGVmYXVsdCwgeyBpZDogaWQsIGNoaWxkcmVuOiBgXHJcbiAgICAgICAgLmdyb3VwLSR7aXRlbS5pZH0ge1xyXG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgIH1cclxuICAgICAgICAkeygwLCBzZGtfMS5nZXRMYXlvdXRTdHlsZXMpKGxheW91dHMsIGxheW91dFZhbHVlcywgKFthcmVhLCBsYXlvdXRQYXJhbXNdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGBcclxuICAgICAgICAgICAgLmdyb3VwLSR7aXRlbS5pZH0ge1xyXG4gICAgICAgICAgICAgIG9wYWNpdHk6ICR7bGF5b3V0UGFyYW1zLm9wYWNpdHl9O1xyXG4gICAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKCR7YXJlYS5hbmdsZX1kZWcpIHRyYW5zbGF0ZVooMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIGApO1xuICAgICAgICAgICAgICAgICAgICB9KX1cclxuICAgICAgYCB9KV0gfSkgfSkpO1xufTtcbmV4cG9ydHMuR3JvdXBJdGVtID0gR3JvdXBJdGVtO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/GroupItem/GroupItem.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/GroupItem/useGroupItem.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/GroupItem/useGroupItem.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useGroupItem = void 0;\nconst useKeyframeValue_1 = __webpack_require__(/*! ../../../common/useKeyframeValue */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useKeyframeValue.js\");\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst useLayoutContext_1 = __webpack_require__(/*! ../../useLayoutContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/useLayoutContext.js\");\nfunction useGroupItem(item, sectionId) {\n    const layoutId = (0, useLayoutContext_1.useLayoutContext)();\n    const opacity = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.Opacity, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'opacity' in layoutParams ? layoutParams.opacity : 1;\n    }, (animator, scroll, value) => value !== undefined ? animator.getOpacity({ opacity: value }, scroll).opacity : undefined, sectionId, [layoutId]);\n    const blur = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.Blur, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'blur' in layoutParams ? layoutParams.blur : 0;\n    }, (animator, scroll, value) => value !== undefined ? animator.getBlur({ blur: value }, scroll).blur : undefined, sectionId, [layoutId]);\n    return { opacity, blur };\n}\nexports.useGroupItem = useGroupItem;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9Hcm91cEl0ZW0vdXNlR3JvdXBJdGVtLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQjtBQUNwQiwyQkFBMkIsbUJBQU8sQ0FBQyw4R0FBa0M7QUFDckUsY0FBYyxtQkFBTyxDQUFDLHFFQUFpQjtBQUN2QywyQkFBMkIsbUJBQU8sQ0FBQyx3R0FBd0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDJFQUEyRSxnQkFBZ0I7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssd0VBQXdFLGFBQWE7QUFDMUYsYUFBYTtBQUNiO0FBQ0Esb0JBQW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9jb21wb25lbnRzL2l0ZW1zL0dyb3VwSXRlbS91c2VHcm91cEl0ZW0uanM/YjIwOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudXNlR3JvdXBJdGVtID0gdm9pZCAwO1xuY29uc3QgdXNlS2V5ZnJhbWVWYWx1ZV8xID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbW1vbi91c2VLZXlmcmFtZVZhbHVlXCIpO1xuY29uc3Qgc2RrXzEgPSByZXF1aXJlKFwiQGNudHJsLXNpdGUvc2RrXCIpO1xuY29uc3QgdXNlTGF5b3V0Q29udGV4dF8xID0gcmVxdWlyZShcIi4uLy4uL3VzZUxheW91dENvbnRleHRcIik7XG5mdW5jdGlvbiB1c2VHcm91cEl0ZW0oaXRlbSwgc2VjdGlvbklkKSB7XG4gICAgY29uc3QgbGF5b3V0SWQgPSAoMCwgdXNlTGF5b3V0Q29udGV4dF8xLnVzZUxheW91dENvbnRleHQpKCk7XG4gICAgY29uc3Qgb3BhY2l0eSA9ICgwLCB1c2VLZXlmcmFtZVZhbHVlXzEudXNlS2V5ZnJhbWVWYWx1ZSkoaXRlbSwgc2RrXzEuS2V5ZnJhbWVUeXBlLk9wYWNpdHksIChpdGVtLCBsYXlvdXRJZCkgPT4ge1xuICAgICAgICBpZiAoIWxheW91dElkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBsYXlvdXRQYXJhbXMgPSBpdGVtLmxheW91dFBhcmFtc1tsYXlvdXRJZF07XG4gICAgICAgIHJldHVybiAnb3BhY2l0eScgaW4gbGF5b3V0UGFyYW1zID8gbGF5b3V0UGFyYW1zLm9wYWNpdHkgOiAxO1xuICAgIH0sIChhbmltYXRvciwgc2Nyb2xsLCB2YWx1ZSkgPT4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IGFuaW1hdG9yLmdldE9wYWNpdHkoeyBvcGFjaXR5OiB2YWx1ZSB9LCBzY3JvbGwpLm9wYWNpdHkgOiB1bmRlZmluZWQsIHNlY3Rpb25JZCwgW2xheW91dElkXSk7XG4gICAgY29uc3QgYmx1ciA9ICgwLCB1c2VLZXlmcmFtZVZhbHVlXzEudXNlS2V5ZnJhbWVWYWx1ZSkoaXRlbSwgc2RrXzEuS2V5ZnJhbWVUeXBlLkJsdXIsIChpdGVtLCBsYXlvdXRJZCkgPT4ge1xuICAgICAgICBpZiAoIWxheW91dElkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBsYXlvdXRQYXJhbXMgPSBpdGVtLmxheW91dFBhcmFtc1tsYXlvdXRJZF07XG4gICAgICAgIHJldHVybiAnYmx1cicgaW4gbGF5b3V0UGFyYW1zID8gbGF5b3V0UGFyYW1zLmJsdXIgOiAwO1xuICAgIH0sIChhbmltYXRvciwgc2Nyb2xsLCB2YWx1ZSkgPT4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IGFuaW1hdG9yLmdldEJsdXIoeyBibHVyOiB2YWx1ZSB9LCBzY3JvbGwpLmJsdXIgOiB1bmRlZmluZWQsIHNlY3Rpb25JZCwgW2xheW91dElkXSk7XG4gICAgcmV0dXJuIHsgb3BhY2l0eSwgYmx1ciB9O1xufVxuZXhwb3J0cy51c2VHcm91cEl0ZW0gPSB1c2VHcm91cEl0ZW07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/GroupItem/useGroupItem.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/Item.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/Item.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Item = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst style_1 = __importDefault(__webpack_require__(/*! styled-jsx/style */ \"./node_modules/next/node_modules/styled-jsx/style.js\"));\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst useCntrlContext_1 = __webpack_require__(/*! ../../provider/useCntrlContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/useCntrlContext.js\");\nconst useItemScale_1 = __webpack_require__(/*! ./useItemScale */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemScale.js\");\nconst ScaleAnchorMap_1 = __webpack_require__(/*! ../../utils/ScaleAnchorMap */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/ScaleAnchorMap.js\");\nconst useSectionHeightMap_1 = __webpack_require__(/*! ../Section/useSectionHeightMap */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/Section/useSectionHeightMap.js\");\nconst getItemTopStyle_1 = __webpack_require__(/*! ../../utils/getItemTopStyle */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getItemTopStyle.js\");\nconst useStickyItemTop_1 = __webpack_require__(/*! ./useStickyItemTop */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useStickyItemTop.js\");\nconst getAnchoredItemTop_1 = __webpack_require__(/*! ../../utils/getAnchoredItemTop */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getAnchoredItemTop.js\");\nconst useLayoutContext_1 = __webpack_require__(/*! ../useLayoutContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/useLayoutContext.js\");\nconst ArticleRectContext_1 = __webpack_require__(/*! ../../provider/ArticleRectContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/ArticleRectContext.js\");\nconst useExemplary_1 = __webpack_require__(/*! ../../common/useExemplary */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useExemplary.js\");\nconst KeyframesContext_1 = __webpack_require__(/*! ../../provider/KeyframesContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/KeyframesContext.js\");\nconst useItemInteractionCtrl_1 = __webpack_require__(/*! ../../interactions/useItemInteractionCtrl */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/interactions/useItemInteractionCtrl.js\");\nconst isItemType_1 = __webpack_require__(/*! ../../utils/isItemType */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/isItemType.js\");\nconst RichTextWrapper_1 = __webpack_require__(/*! ./RichTextWrapper */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/RichTextWrapper.js\");\nconst itemsMap_1 = __webpack_require__(/*! ./itemsMap */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/itemsMap.js\");\nconst useItemTriggers_1 = __webpack_require__(/*! ./useItemTriggers */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemTriggers.js\");\nconst useSizing_1 = __webpack_require__(/*! ./useSizing */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useSizing.js\");\nconst useItemPointerEvents_1 = __webpack_require__(/*! ./useItemPointerEvents */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemPointerEvents.js\");\nconst useItemArea_1 = __webpack_require__(/*! ./useItemArea */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemArea.js\");\nconst useDraggable_1 = __webpack_require__(/*! ./useDraggable */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useDraggable.js\");\nconst stickyFix = `\r\n  -webkit-transform: translate3d(0, 0, 0);\r\n  transform: translate3d(0, 0, 0);\r\n`;\nconst noop = () => null;\nconst Item = ({ item, sectionId, articleHeight, isParentVisible = true, isInGroup = false }) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n    const itemWrapperRef = (0, react_1.useRef)(null);\n    const itemInnerRef = (0, react_1.useRef)(null);\n    const rectObserver = (0, react_1.useContext)(ArticleRectContext_1.ArticleRectContext);\n    const keyframesRepo = (0, react_1.useContext)(KeyframesContext_1.KeyframesContext);\n    const id = (0, react_1.useId)();\n    const keyframes = (0, react_1.useMemo)(() => keyframesRepo.getItemKeyframes(item.id), [keyframesRepo, item.id]);\n    const { layouts } = (0, useCntrlContext_1.useCntrlContext)();\n    const layout = (0, useLayoutContext_1.useLayoutContext)();\n    const exemplary = (0, useExemplary_1.useExemplary)();\n    const { handleVisibilityChange, allowPointerEvents } = (0, useItemPointerEvents_1.useItemPointerEvents)((_a = item.commonParams.pointerEvents) !== null && _a !== void 0 ? _a : 'when_visible', isParentVisible);\n    const [wrapperHeight, setWrapperHeight] = (0, react_1.useState)(undefined);\n    const [itemHeight, setItemHeight] = (0, react_1.useState)(undefined);\n    const itemScale = (0, useItemScale_1.useItemScale)(item, sectionId);\n    const interactionCtrl = (0, useItemInteractionCtrl_1.useItemInteractionCtrl)(item.id);\n    const triggers = (0, useItemTriggers_1.useItemTriggers)(interactionCtrl);\n    const [position, setPosition] = (0, react_1.useState)({ x: 0, y: 0 });\n    const [isDraggingActive, setIsDraggingActive] = (0, react_1.useState)(false);\n    const wrapperStateProps = interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.getState(['top', 'left']);\n    const innerStateProps = interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.getState(['width', 'height', 'scale', 'top', 'left']);\n    const { width, height, top, left } = (0, useItemArea_1.useItemArea)(item, sectionId, {\n        top: (_b = wrapperStateProps === null || wrapperStateProps === void 0 ? void 0 : wrapperStateProps.styles) === null || _b === void 0 ? void 0 : _b.top,\n        left: (_c = wrapperStateProps === null || wrapperStateProps === void 0 ? void 0 : wrapperStateProps.styles) === null || _c === void 0 ? void 0 : _c.left,\n        width: (_d = innerStateProps === null || innerStateProps === void 0 ? void 0 : innerStateProps.styles) === null || _d === void 0 ? void 0 : _d.width,\n        height: (_e = innerStateProps === null || innerStateProps === void 0 ? void 0 : innerStateProps.styles) === null || _e === void 0 ? void 0 : _e.height\n    });\n    const sectionHeight = (0, useSectionHeightMap_1.useSectionHeightData)(sectionId);\n    const stickyTop = (0, useStickyItemTop_1.useStickyItemTop)(item, sectionId, (_f = wrapperStateProps === null || wrapperStateProps === void 0 ? void 0 : wrapperStateProps.styles) === null || _f === void 0 ? void 0 : _f.top);\n    const layoutValues = [item.area, item.hidden];\n    layoutValues.push(item.sticky);\n    layoutValues.push(sectionHeight);\n    if (item.layoutParams) {\n        layoutValues.push(item.layoutParams);\n    }\n    const sizingAxis = (0, useSizing_1.useSizing)(item);\n    const ItemComponent = itemsMap_1.itemsMap[item.type] || noop;\n    const sectionTop = rectObserver ? rectObserver.getSectionTop(sectionId) : 0;\n    const layoutParams = layout ? item.layoutParams[layout] : undefined;\n    const isDraggable = layoutParams && 'isDraggable' in layoutParams ? layoutParams.isDraggable : undefined;\n    (0, useDraggable_1.useDraggable)({ draggableRef: itemInnerRef.current, isEnabled: isDraggable !== null && isDraggable !== void 0 ? isDraggable : false }, ({ startX, startY, currentX, currentY, lastX, lastY, drag }) => {\n        const item = itemInnerRef.current;\n        if (!item)\n            return;\n        if (drag) {\n            setIsDraggingActive(true);\n            setPosition({\n                x: (currentX - startX) + lastX,\n                y: (currentY - startY) + lastY\n            });\n        }\n        else {\n            setIsDraggingActive(false);\n        }\n    });\n    const handleItemResize = (height) => {\n        if (!layout)\n            return;\n        const sticky = item.sticky[layout];\n        if (!sticky || stickyTop === undefined || !articleHeight) {\n            setWrapperHeight(undefined);\n            return;\n        }\n        const itemArticleOffset = sectionTop / window.innerWidth + stickyTop;\n        const maxStickyTo = articleHeight - itemArticleOffset - height;\n        const end = sticky.to !== undefined\n            ? Math.min(maxStickyTo, sticky.to)\n            : articleHeight - itemArticleOffset - height;\n        const wrapperHeight = end - sticky.from + height;\n        setItemHeight(height);\n        setWrapperHeight(wrapperHeight);\n    };\n    const isRichText = (0, isItemType_1.isItemType)(item, sdk_1.ArticleItemType.RichText);\n    const anchorSide = layout ? item.area[layout].anchorSide : sdk_1.AnchorSide.Top;\n    const positionType = layout ? item.area[layout].positionType : sdk_1.PositionType.ScreenBased;\n    const isScreenBasedBottom = positionType === sdk_1.PositionType.ScreenBased && anchorSide === sdk_1.AnchorSide.Bottom;\n    const scale = (_h = (_g = innerStateProps === null || innerStateProps === void 0 ? void 0 : innerStateProps.styles) === null || _g === void 0 ? void 0 : _g.scale) !== null && _h !== void 0 ? _h : itemScale;\n    const hasClickTriggers = (_j = interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.getHasTrigger(item.id, 'click')) !== null && _j !== void 0 ? _j : false;\n    return ((0, jsx_runtime_1.jsxs)(\"div\", { className: `item-wrapper-${item.id}`, ref: itemWrapperRef, onTransitionEnd: (e) => {\n            var _a;\n            e.stopPropagation();\n            (_a = interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.handleTransitionEnd) === null || _a === void 0 ? void 0 : _a.call(interactionCtrl, e.propertyName);\n        }, style: Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, (top !== undefined ? { top: isScreenBasedBottom ? 'unset' : (0, getItemTopStyle_1.getItemTopStyle)(top, anchorSide) } : {})), (left !== undefined ? { left: `${left * 100}vw` } : {})), (top !== undefined ? { bottom: isScreenBasedBottom ? `${-top * 100}vw` : 'unset' } : {})), (wrapperHeight !== undefined ? { height: `${wrapperHeight * 100}vw` } : {})), { transition: (_k = wrapperStateProps === null || wrapperStateProps === void 0 ? void 0 : wrapperStateProps.transition) !== null && _k !== void 0 ? _k : 'none' }), children: [(0, jsx_runtime_1.jsx)(\"div\", { suppressHydrationWarning: true, className: `item-${item.id}`, style: {\n                    opacity: (keyframes.length !== 0 && !layout) ? 0 : 1,\n                    top: `${stickyTop * 100}vw`,\n                    height: isRichText && itemHeight !== undefined ? `${itemHeight * 100}vw` : 'unset',\n                }, children: (0, jsx_runtime_1.jsx)(RichTextWrapper_1.RichTextWrapper, { isRichText: isRichText, children: (0, jsx_runtime_1.jsx)(\"div\", Object.assign({ className: `item-${item.id}-inner`, ref: itemInnerRef, style: Object.assign(Object.assign(Object.assign({ top: `${position.y}px`, left: `${position.x}px` }, ((width !== undefined && height !== undefined)\n                            ? {\n                                width: `${sizingAxis.x === 'manual'\n                                    ? isRichText\n                                        ? `${width * exemplary}px`\n                                        : `${width * 100}vw`\n                                    : 'max-content'}`,\n                                height: `${sizingAxis.y === 'manual' ? `${height * 100}vw` : 'unset'}`\n                            }\n                            : {})), (scale !== undefined ? { transform: `scale(${scale})`, WebkitTransform: `scale(${scale})` } : {})), { transition: (_l = innerStateProps === null || innerStateProps === void 0 ? void 0 : innerStateProps.transition) !== null && _l !== void 0 ? _l : 'none', cursor: isDraggingActive\n                                ? 'grabbing'\n                                : isDraggable\n                                    ? 'grab'\n                                    : hasClickTriggers\n                                        ? 'pointer'\n                                        : 'unset', pointerEvents: allowPointerEvents ? 'auto' : 'none', userSelect: isDraggable ? 'none' : 'unset', WebkitUserSelect: isDraggable ? 'none' : 'unset', MozUserSelect: isDraggable ? 'none' : 'unset', msUserSelect: isDraggable ? 'none' : 'unset' }) }, triggers, { children: (0, jsx_runtime_1.jsx)(ItemComponent, { item: item, sectionId: sectionId, onResize: handleItemResize, articleHeight: articleHeight, interactionCtrl: interactionCtrl, onVisibilityChange: handleVisibilityChange }) })) }) }), (0, jsx_runtime_1.jsx)(style_1.default, { id: id, children: `\r\n        ${(0, sdk_1.getLayoutStyles)(layouts, layoutValues, ([area, hidden, sticky, sectionHeight, layoutParams]) => {\n                    const sizingAxis = (0, useSizing_1.parseSizing)(layoutParams.sizing);\n                    const isScreenBasedBottom = area.positionType === sdk_1.PositionType.ScreenBased && area.anchorSide === sdk_1.AnchorSide.Bottom;\n                    const scaleAnchor = area.scaleAnchor;\n                    return (`\r\n            .item-${item.id} {\r\n              position: ${sticky ? 'sticky' : 'absolute'};\r\n              top: ${sticky ? `${(0, getAnchoredItemTop_1.getAnchoredItemTop)(area.top - sticky.from, sectionHeight, area.anchorSide)}` : 0};\r\n              transition: opacity 0.2s linear 0.1s;\r\n              pointer-events: none;\r\n              display: ${hidden ? 'none' : 'block'};\r\n              height: fit-content;\r\n            }\r\n            .item-${item.id}-inner {\r\n              width: ${sizingAxis.x === 'manual'\n                        ? `${area.width * 100}vw`\n                        : 'max-content'};\r\n              height: ${sizingAxis.y === 'manual' ? `${area.height * 100}vw` : 'unset'};\r\n              transform-origin: ${ScaleAnchorMap_1.ScaleAnchorMap[scaleAnchor]};\r\n              transform: scale(${area.scale});\r\n              position: relative;\r\n            }\r\n            .item-wrapper-${item.id} {\r\n              position: ${area.positionType === sdk_1.PositionType.ScreenBased ? 'fixed' : 'absolute'};\r\n              z-index: ${area.zIndex};\r\n              ${!isInGroup && stickyFix}\r\n              pointer-events: none;\r\n              bottom: ${isScreenBasedBottom ? `${-area.top * 100}vw` : 'unset'};\r\n              top: ${isScreenBasedBottom ? 'unset' : (0, getItemTopStyle_1.getItemTopStyle)(area.top, area.anchorSide)};\r\n              left: ${area.left * 100}vw;\r\n            }\r\n          `);\n                })}\r\n      ` })] }));\n};\nexports.Item = Item;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9JdGVtLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsWUFBWTtBQUNaLHNCQUFzQixtQkFBTyxDQUFDLDhEQUFtQjtBQUNqRCxnQkFBZ0IsbUJBQU8sQ0FBQyw0Q0FBTztBQUMvQixnQ0FBZ0MsbUJBQU8sQ0FBQyw4RUFBa0I7QUFDMUQsY0FBYyxtQkFBTyxDQUFDLHFFQUFpQjtBQUN2QywwQkFBMEIsbUJBQU8sQ0FBQyw2R0FBZ0M7QUFDbEUsdUJBQXVCLG1CQUFPLENBQUMsa0dBQWdCO0FBQy9DLHlCQUF5QixtQkFBTyxDQUFDLHFHQUE0QjtBQUM3RCw4QkFBOEIsbUJBQU8sQ0FBQywySEFBZ0M7QUFDdEUsMEJBQTBCLG1CQUFPLENBQUMsdUdBQTZCO0FBQy9ELDJCQUEyQixtQkFBTyxDQUFDLDBHQUFvQjtBQUN2RCw2QkFBNkIsbUJBQU8sQ0FBQyw2R0FBZ0M7QUFDckUsMkJBQTJCLG1CQUFPLENBQUMscUdBQXFCO0FBQ3hELDZCQUE2QixtQkFBTyxDQUFDLG1IQUFtQztBQUN4RSx1QkFBdUIsbUJBQU8sQ0FBQyxtR0FBMkI7QUFDMUQsMkJBQTJCLG1CQUFPLENBQUMsK0dBQWlDO0FBQ3BFLGlDQUFpQyxtQkFBTyxDQUFDLG1JQUEyQztBQUNwRixxQkFBcUIsbUJBQU8sQ0FBQyw2RkFBd0I7QUFDckQsMEJBQTBCLG1CQUFPLENBQUMsd0dBQW1CO0FBQ3JELG1CQUFtQixtQkFBTyxDQUFDLDBGQUFZO0FBQ3ZDLDBCQUEwQixtQkFBTyxDQUFDLHdHQUFtQjtBQUNyRCxvQkFBb0IsbUJBQU8sQ0FBQyw0RkFBYTtBQUN6QywrQkFBK0IsbUJBQU8sQ0FBQyxrSEFBd0I7QUFDL0Qsc0JBQXNCLG1CQUFPLENBQUMsZ0dBQWU7QUFDN0MsdUJBQXVCLG1CQUFPLENBQUMsa0dBQWdCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMkVBQTJFO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQSxZQUFZLDZDQUE2QztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELFlBQVk7QUFDeEU7QUFDQTtBQUNBO0FBQ0EsWUFBWSwyQkFBMkI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMscUhBQXFILEtBQUssd0RBQXdEO0FBQ3pOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QywyQkFBMkIsUUFBUTtBQUNoRjtBQUNBO0FBQ0E7QUFDQSxTQUFTLGlGQUFpRix5QkFBeUIsK0ZBQStGLElBQUksNEJBQTRCLFNBQVMsV0FBVyxNQUFNLElBQUksMkJBQTJCLGlDQUFpQyxXQUFXLGdCQUFnQixJQUFJLHFDQUFxQyxXQUFXLG9CQUFvQixNQUFNLElBQUksTUFBTSwrSkFBK0osOENBQThDLG1EQUFtRCxRQUFRO0FBQ3ZzQjtBQUNBLDRCQUE0QixnQkFBZ0I7QUFDNUMsd0VBQXdFLGlCQUFpQjtBQUN6RixpQkFBaUIsd0VBQXdFLGdGQUFnRixtQkFBbUIsUUFBUSwrRUFBK0UsUUFBUSxXQUFXLGNBQWMsV0FBVyxLQUFLO0FBQ3BVO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0EsNkNBQTZDLGtCQUFrQjtBQUMvRCw2Q0FBNkMsWUFBWTtBQUN6RCxvREFBb0Q7QUFDcEQsMkNBQTJDLCtCQUErQixhQUFhLGNBQWM7QUFDckc7QUFDQSxnQ0FBZ0MsNkJBQTZCLG9CQUFvQixNQUFNLDhCQUE4QixNQUFNLEtBQUssSUFBSSxNQUFNO0FBQzFJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtU0FBbVMsR0FBRyxjQUFjLGtEQUFrRCwwS0FBMEssR0FBRyxJQUFJLEdBQUcsNkNBQTZDO0FBQ3ZrQixVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEIsMEJBQTBCO0FBQzFCLHFCQUFxQixZQUFZLHFHQUFxRztBQUN0STtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1Qix1QkFBdUI7QUFDdkIsNkJBQTZCLGlCQUFpQjtBQUM5QztBQUNBLHdCQUF3QiwrQkFBK0Isa0JBQWtCO0FBQ3pFLGtDQUFrQztBQUNsQyxpQ0FBaUMsV0FBVztBQUM1QztBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLDBCQUEwQjtBQUMxQix5QkFBeUI7QUFDekIsZ0JBQWdCO0FBQ2hCO0FBQ0Esd0JBQXdCLHlCQUF5QixnQkFBZ0I7QUFDakUscUJBQXFCO0FBQ3JCLHNCQUFzQixnQkFBZ0I7QUFDdEM7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixTQUFTLElBQUk7QUFDYjtBQUNBLFlBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay1uZXh0anMvbGliL2NvbXBvbmVudHMvaXRlbXMvSXRlbS5qcz9lMTBiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5JdGVtID0gdm9pZCAwO1xuY29uc3QganN4X3J1bnRpbWVfMSA9IHJlcXVpcmUoXCJyZWFjdC9qc3gtcnVudGltZVwiKTtcbmNvbnN0IHJlYWN0XzEgPSByZXF1aXJlKFwicmVhY3RcIik7XG5jb25zdCBzdHlsZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJzdHlsZWQtanN4L3N0eWxlXCIpKTtcbmNvbnN0IHNka18xID0gcmVxdWlyZShcIkBjbnRybC1zaXRlL3Nka1wiKTtcbmNvbnN0IHVzZUNudHJsQ29udGV4dF8xID0gcmVxdWlyZShcIi4uLy4uL3Byb3ZpZGVyL3VzZUNudHJsQ29udGV4dFwiKTtcbmNvbnN0IHVzZUl0ZW1TY2FsZV8xID0gcmVxdWlyZShcIi4vdXNlSXRlbVNjYWxlXCIpO1xuY29uc3QgU2NhbGVBbmNob3JNYXBfMSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9TY2FsZUFuY2hvck1hcFwiKTtcbmNvbnN0IHVzZVNlY3Rpb25IZWlnaHRNYXBfMSA9IHJlcXVpcmUoXCIuLi9TZWN0aW9uL3VzZVNlY3Rpb25IZWlnaHRNYXBcIik7XG5jb25zdCBnZXRJdGVtVG9wU3R5bGVfMSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9nZXRJdGVtVG9wU3R5bGVcIik7XG5jb25zdCB1c2VTdGlja3lJdGVtVG9wXzEgPSByZXF1aXJlKFwiLi91c2VTdGlja3lJdGVtVG9wXCIpO1xuY29uc3QgZ2V0QW5jaG9yZWRJdGVtVG9wXzEgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZ2V0QW5jaG9yZWRJdGVtVG9wXCIpO1xuY29uc3QgdXNlTGF5b3V0Q29udGV4dF8xID0gcmVxdWlyZShcIi4uL3VzZUxheW91dENvbnRleHRcIik7XG5jb25zdCBBcnRpY2xlUmVjdENvbnRleHRfMSA9IHJlcXVpcmUoXCIuLi8uLi9wcm92aWRlci9BcnRpY2xlUmVjdENvbnRleHRcIik7XG5jb25zdCB1c2VFeGVtcGxhcnlfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21tb24vdXNlRXhlbXBsYXJ5XCIpO1xuY29uc3QgS2V5ZnJhbWVzQ29udGV4dF8xID0gcmVxdWlyZShcIi4uLy4uL3Byb3ZpZGVyL0tleWZyYW1lc0NvbnRleHRcIik7XG5jb25zdCB1c2VJdGVtSW50ZXJhY3Rpb25DdHJsXzEgPSByZXF1aXJlKFwiLi4vLi4vaW50ZXJhY3Rpb25zL3VzZUl0ZW1JbnRlcmFjdGlvbkN0cmxcIik7XG5jb25zdCBpc0l0ZW1UeXBlXzEgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvaXNJdGVtVHlwZVwiKTtcbmNvbnN0IFJpY2hUZXh0V3JhcHBlcl8xID0gcmVxdWlyZShcIi4vUmljaFRleHRXcmFwcGVyXCIpO1xuY29uc3QgaXRlbXNNYXBfMSA9IHJlcXVpcmUoXCIuL2l0ZW1zTWFwXCIpO1xuY29uc3QgdXNlSXRlbVRyaWdnZXJzXzEgPSByZXF1aXJlKFwiLi91c2VJdGVtVHJpZ2dlcnNcIik7XG5jb25zdCB1c2VTaXppbmdfMSA9IHJlcXVpcmUoXCIuL3VzZVNpemluZ1wiKTtcbmNvbnN0IHVzZUl0ZW1Qb2ludGVyRXZlbnRzXzEgPSByZXF1aXJlKFwiLi91c2VJdGVtUG9pbnRlckV2ZW50c1wiKTtcbmNvbnN0IHVzZUl0ZW1BcmVhXzEgPSByZXF1aXJlKFwiLi91c2VJdGVtQXJlYVwiKTtcbmNvbnN0IHVzZURyYWdnYWJsZV8xID0gcmVxdWlyZShcIi4vdXNlRHJhZ2dhYmxlXCIpO1xuY29uc3Qgc3RpY2t5Rml4ID0gYFxyXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTtcclxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApO1xyXG5gO1xuY29uc3Qgbm9vcCA9ICgpID0+IG51bGw7XG5jb25zdCBJdGVtID0gKHsgaXRlbSwgc2VjdGlvbklkLCBhcnRpY2xlSGVpZ2h0LCBpc1BhcmVudFZpc2libGUgPSB0cnVlLCBpc0luR3JvdXAgPSBmYWxzZSB9KSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbDtcbiAgICBjb25zdCBpdGVtV3JhcHBlclJlZiA9ICgwLCByZWFjdF8xLnVzZVJlZikobnVsbCk7XG4gICAgY29uc3QgaXRlbUlubmVyUmVmID0gKDAsIHJlYWN0XzEudXNlUmVmKShudWxsKTtcbiAgICBjb25zdCByZWN0T2JzZXJ2ZXIgPSAoMCwgcmVhY3RfMS51c2VDb250ZXh0KShBcnRpY2xlUmVjdENvbnRleHRfMS5BcnRpY2xlUmVjdENvbnRleHQpO1xuICAgIGNvbnN0IGtleWZyYW1lc1JlcG8gPSAoMCwgcmVhY3RfMS51c2VDb250ZXh0KShLZXlmcmFtZXNDb250ZXh0XzEuS2V5ZnJhbWVzQ29udGV4dCk7XG4gICAgY29uc3QgaWQgPSAoMCwgcmVhY3RfMS51c2VJZCkoKTtcbiAgICBjb25zdCBrZXlmcmFtZXMgPSAoMCwgcmVhY3RfMS51c2VNZW1vKSgoKSA9PiBrZXlmcmFtZXNSZXBvLmdldEl0ZW1LZXlmcmFtZXMoaXRlbS5pZCksIFtrZXlmcmFtZXNSZXBvLCBpdGVtLmlkXSk7XG4gICAgY29uc3QgeyBsYXlvdXRzIH0gPSAoMCwgdXNlQ250cmxDb250ZXh0XzEudXNlQ250cmxDb250ZXh0KSgpO1xuICAgIGNvbnN0IGxheW91dCA9ICgwLCB1c2VMYXlvdXRDb250ZXh0XzEudXNlTGF5b3V0Q29udGV4dCkoKTtcbiAgICBjb25zdCBleGVtcGxhcnkgPSAoMCwgdXNlRXhlbXBsYXJ5XzEudXNlRXhlbXBsYXJ5KSgpO1xuICAgIGNvbnN0IHsgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSwgYWxsb3dQb2ludGVyRXZlbnRzIH0gPSAoMCwgdXNlSXRlbVBvaW50ZXJFdmVudHNfMS51c2VJdGVtUG9pbnRlckV2ZW50cykoKF9hID0gaXRlbS5jb21tb25QYXJhbXMucG9pbnRlckV2ZW50cykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJ3doZW5fdmlzaWJsZScsIGlzUGFyZW50VmlzaWJsZSk7XG4gICAgY29uc3QgW3dyYXBwZXJIZWlnaHQsIHNldFdyYXBwZXJIZWlnaHRdID0gKDAsIHJlYWN0XzEudXNlU3RhdGUpKHVuZGVmaW5lZCk7XG4gICAgY29uc3QgW2l0ZW1IZWlnaHQsIHNldEl0ZW1IZWlnaHRdID0gKDAsIHJlYWN0XzEudXNlU3RhdGUpKHVuZGVmaW5lZCk7XG4gICAgY29uc3QgaXRlbVNjYWxlID0gKDAsIHVzZUl0ZW1TY2FsZV8xLnVzZUl0ZW1TY2FsZSkoaXRlbSwgc2VjdGlvbklkKTtcbiAgICBjb25zdCBpbnRlcmFjdGlvbkN0cmwgPSAoMCwgdXNlSXRlbUludGVyYWN0aW9uQ3RybF8xLnVzZUl0ZW1JbnRlcmFjdGlvbkN0cmwpKGl0ZW0uaWQpO1xuICAgIGNvbnN0IHRyaWdnZXJzID0gKDAsIHVzZUl0ZW1UcmlnZ2Vyc18xLnVzZUl0ZW1UcmlnZ2VycykoaW50ZXJhY3Rpb25DdHJsKTtcbiAgICBjb25zdCBbcG9zaXRpb24sIHNldFBvc2l0aW9uXSA9ICgwLCByZWFjdF8xLnVzZVN0YXRlKSh7IHg6IDAsIHk6IDAgfSk7XG4gICAgY29uc3QgW2lzRHJhZ2dpbmdBY3RpdmUsIHNldElzRHJhZ2dpbmdBY3RpdmVdID0gKDAsIHJlYWN0XzEudXNlU3RhdGUpKGZhbHNlKTtcbiAgICBjb25zdCB3cmFwcGVyU3RhdGVQcm9wcyA9IGludGVyYWN0aW9uQ3RybCA9PT0gbnVsbCB8fCBpbnRlcmFjdGlvbkN0cmwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyYWN0aW9uQ3RybC5nZXRTdGF0ZShbJ3RvcCcsICdsZWZ0J10pO1xuICAgIGNvbnN0IGlubmVyU3RhdGVQcm9wcyA9IGludGVyYWN0aW9uQ3RybCA9PT0gbnVsbCB8fCBpbnRlcmFjdGlvbkN0cmwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyYWN0aW9uQ3RybC5nZXRTdGF0ZShbJ3dpZHRoJywgJ2hlaWdodCcsICdzY2FsZScsICd0b3AnLCAnbGVmdCddKTtcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIHRvcCwgbGVmdCB9ID0gKDAsIHVzZUl0ZW1BcmVhXzEudXNlSXRlbUFyZWEpKGl0ZW0sIHNlY3Rpb25JZCwge1xuICAgICAgICB0b3A6IChfYiA9IHdyYXBwZXJTdGF0ZVByb3BzID09PSBudWxsIHx8IHdyYXBwZXJTdGF0ZVByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3cmFwcGVyU3RhdGVQcm9wcy5zdHlsZXMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi50b3AsXG4gICAgICAgIGxlZnQ6IChfYyA9IHdyYXBwZXJTdGF0ZVByb3BzID09PSBudWxsIHx8IHdyYXBwZXJTdGF0ZVByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3cmFwcGVyU3RhdGVQcm9wcy5zdHlsZXMpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5sZWZ0LFxuICAgICAgICB3aWR0aDogKF9kID0gaW5uZXJTdGF0ZVByb3BzID09PSBudWxsIHx8IGlubmVyU3RhdGVQcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5uZXJTdGF0ZVByb3BzLnN0eWxlcykgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IChfZSA9IGlubmVyU3RhdGVQcm9wcyA9PT0gbnVsbCB8fCBpbm5lclN0YXRlUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlubmVyU3RhdGVQcm9wcy5zdHlsZXMpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5oZWlnaHRcbiAgICB9KTtcbiAgICBjb25zdCBzZWN0aW9uSGVpZ2h0ID0gKDAsIHVzZVNlY3Rpb25IZWlnaHRNYXBfMS51c2VTZWN0aW9uSGVpZ2h0RGF0YSkoc2VjdGlvbklkKTtcbiAgICBjb25zdCBzdGlja3lUb3AgPSAoMCwgdXNlU3RpY2t5SXRlbVRvcF8xLnVzZVN0aWNreUl0ZW1Ub3ApKGl0ZW0sIHNlY3Rpb25JZCwgKF9mID0gd3JhcHBlclN0YXRlUHJvcHMgPT09IG51bGwgfHwgd3JhcHBlclN0YXRlUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdyYXBwZXJTdGF0ZVByb3BzLnN0eWxlcykgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLnRvcCk7XG4gICAgY29uc3QgbGF5b3V0VmFsdWVzID0gW2l0ZW0uYXJlYSwgaXRlbS5oaWRkZW5dO1xuICAgIGxheW91dFZhbHVlcy5wdXNoKGl0ZW0uc3RpY2t5KTtcbiAgICBsYXlvdXRWYWx1ZXMucHVzaChzZWN0aW9uSGVpZ2h0KTtcbiAgICBpZiAoaXRlbS5sYXlvdXRQYXJhbXMpIHtcbiAgICAgICAgbGF5b3V0VmFsdWVzLnB1c2goaXRlbS5sYXlvdXRQYXJhbXMpO1xuICAgIH1cbiAgICBjb25zdCBzaXppbmdBeGlzID0gKDAsIHVzZVNpemluZ18xLnVzZVNpemluZykoaXRlbSk7XG4gICAgY29uc3QgSXRlbUNvbXBvbmVudCA9IGl0ZW1zTWFwXzEuaXRlbXNNYXBbaXRlbS50eXBlXSB8fCBub29wO1xuICAgIGNvbnN0IHNlY3Rpb25Ub3AgPSByZWN0T2JzZXJ2ZXIgPyByZWN0T2JzZXJ2ZXIuZ2V0U2VjdGlvblRvcChzZWN0aW9uSWQpIDogMDtcbiAgICBjb25zdCBsYXlvdXRQYXJhbXMgPSBsYXlvdXQgPyBpdGVtLmxheW91dFBhcmFtc1tsYXlvdXRdIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IGlzRHJhZ2dhYmxlID0gbGF5b3V0UGFyYW1zICYmICdpc0RyYWdnYWJsZScgaW4gbGF5b3V0UGFyYW1zID8gbGF5b3V0UGFyYW1zLmlzRHJhZ2dhYmxlIDogdW5kZWZpbmVkO1xuICAgICgwLCB1c2VEcmFnZ2FibGVfMS51c2VEcmFnZ2FibGUpKHsgZHJhZ2dhYmxlUmVmOiBpdGVtSW5uZXJSZWYuY3VycmVudCwgaXNFbmFibGVkOiBpc0RyYWdnYWJsZSAhPT0gbnVsbCAmJiBpc0RyYWdnYWJsZSAhPT0gdm9pZCAwID8gaXNEcmFnZ2FibGUgOiBmYWxzZSB9LCAoeyBzdGFydFgsIHN0YXJ0WSwgY3VycmVudFgsIGN1cnJlbnRZLCBsYXN0WCwgbGFzdFksIGRyYWcgfSkgPT4ge1xuICAgICAgICBjb25zdCBpdGVtID0gaXRlbUlubmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghaXRlbSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGRyYWcpIHtcbiAgICAgICAgICAgIHNldElzRHJhZ2dpbmdBY3RpdmUodHJ1ZSk7XG4gICAgICAgICAgICBzZXRQb3NpdGlvbih7XG4gICAgICAgICAgICAgICAgeDogKGN1cnJlbnRYIC0gc3RhcnRYKSArIGxhc3RYLFxuICAgICAgICAgICAgICAgIHk6IChjdXJyZW50WSAtIHN0YXJ0WSkgKyBsYXN0WVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZXRJc0RyYWdnaW5nQWN0aXZlKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGhhbmRsZUl0ZW1SZXNpemUgPSAoaGVpZ2h0KSA9PiB7XG4gICAgICAgIGlmICghbGF5b3V0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBzdGlja3kgPSBpdGVtLnN0aWNreVtsYXlvdXRdO1xuICAgICAgICBpZiAoIXN0aWNreSB8fCBzdGlja3lUb3AgPT09IHVuZGVmaW5lZCB8fCAhYXJ0aWNsZUhlaWdodCkge1xuICAgICAgICAgICAgc2V0V3JhcHBlckhlaWdodCh1bmRlZmluZWQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW1BcnRpY2xlT2Zmc2V0ID0gc2VjdGlvblRvcCAvIHdpbmRvdy5pbm5lcldpZHRoICsgc3RpY2t5VG9wO1xuICAgICAgICBjb25zdCBtYXhTdGlja3lUbyA9IGFydGljbGVIZWlnaHQgLSBpdGVtQXJ0aWNsZU9mZnNldCAtIGhlaWdodDtcbiAgICAgICAgY29uc3QgZW5kID0gc3RpY2t5LnRvICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gTWF0aC5taW4obWF4U3RpY2t5VG8sIHN0aWNreS50bylcbiAgICAgICAgICAgIDogYXJ0aWNsZUhlaWdodCAtIGl0ZW1BcnRpY2xlT2Zmc2V0IC0gaGVpZ2h0O1xuICAgICAgICBjb25zdCB3cmFwcGVySGVpZ2h0ID0gZW5kIC0gc3RpY2t5LmZyb20gKyBoZWlnaHQ7XG4gICAgICAgIHNldEl0ZW1IZWlnaHQoaGVpZ2h0KTtcbiAgICAgICAgc2V0V3JhcHBlckhlaWdodCh3cmFwcGVySGVpZ2h0KTtcbiAgICB9O1xuICAgIGNvbnN0IGlzUmljaFRleHQgPSAoMCwgaXNJdGVtVHlwZV8xLmlzSXRlbVR5cGUpKGl0ZW0sIHNka18xLkFydGljbGVJdGVtVHlwZS5SaWNoVGV4dCk7XG4gICAgY29uc3QgYW5jaG9yU2lkZSA9IGxheW91dCA/IGl0ZW0uYXJlYVtsYXlvdXRdLmFuY2hvclNpZGUgOiBzZGtfMS5BbmNob3JTaWRlLlRvcDtcbiAgICBjb25zdCBwb3NpdGlvblR5cGUgPSBsYXlvdXQgPyBpdGVtLmFyZWFbbGF5b3V0XS5wb3NpdGlvblR5cGUgOiBzZGtfMS5Qb3NpdGlvblR5cGUuU2NyZWVuQmFzZWQ7XG4gICAgY29uc3QgaXNTY3JlZW5CYXNlZEJvdHRvbSA9IHBvc2l0aW9uVHlwZSA9PT0gc2RrXzEuUG9zaXRpb25UeXBlLlNjcmVlbkJhc2VkICYmIGFuY2hvclNpZGUgPT09IHNka18xLkFuY2hvclNpZGUuQm90dG9tO1xuICAgIGNvbnN0IHNjYWxlID0gKF9oID0gKF9nID0gaW5uZXJTdGF0ZVByb3BzID09PSBudWxsIHx8IGlubmVyU3RhdGVQcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5uZXJTdGF0ZVByb3BzLnN0eWxlcykgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLnNjYWxlKSAhPT0gbnVsbCAmJiBfaCAhPT0gdm9pZCAwID8gX2ggOiBpdGVtU2NhbGU7XG4gICAgY29uc3QgaGFzQ2xpY2tUcmlnZ2VycyA9IChfaiA9IGludGVyYWN0aW9uQ3RybCA9PT0gbnVsbCB8fCBpbnRlcmFjdGlvbkN0cmwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyYWN0aW9uQ3RybC5nZXRIYXNUcmlnZ2VyKGl0ZW0uaWQsICdjbGljaycpKSAhPT0gbnVsbCAmJiBfaiAhPT0gdm9pZCAwID8gX2ogOiBmYWxzZTtcbiAgICByZXR1cm4gKCgwLCBqc3hfcnVudGltZV8xLmpzeHMpKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBgaXRlbS13cmFwcGVyLSR7aXRlbS5pZH1gLCByZWY6IGl0ZW1XcmFwcGVyUmVmLCBvblRyYW5zaXRpb25FbmQ6IChlKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgKF9hID0gaW50ZXJhY3Rpb25DdHJsID09PSBudWxsIHx8IGludGVyYWN0aW9uQ3RybCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW50ZXJhY3Rpb25DdHJsLmhhbmRsZVRyYW5zaXRpb25FbmQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGludGVyYWN0aW9uQ3RybCwgZS5wcm9wZXJ0eU5hbWUpO1xuICAgICAgICB9LCBzdHlsZTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCAodG9wICE9PSB1bmRlZmluZWQgPyB7IHRvcDogaXNTY3JlZW5CYXNlZEJvdHRvbSA/ICd1bnNldCcgOiAoMCwgZ2V0SXRlbVRvcFN0eWxlXzEuZ2V0SXRlbVRvcFN0eWxlKSh0b3AsIGFuY2hvclNpZGUpIH0gOiB7fSkpLCAobGVmdCAhPT0gdW5kZWZpbmVkID8geyBsZWZ0OiBgJHtsZWZ0ICogMTAwfXZ3YCB9IDoge30pKSwgKHRvcCAhPT0gdW5kZWZpbmVkID8geyBib3R0b206IGlzU2NyZWVuQmFzZWRCb3R0b20gPyBgJHstdG9wICogMTAwfXZ3YCA6ICd1bnNldCcgfSA6IHt9KSksICh3cmFwcGVySGVpZ2h0ICE9PSB1bmRlZmluZWQgPyB7IGhlaWdodDogYCR7d3JhcHBlckhlaWdodCAqIDEwMH12d2AgfSA6IHt9KSksIHsgdHJhbnNpdGlvbjogKF9rID0gd3JhcHBlclN0YXRlUHJvcHMgPT09IG51bGwgfHwgd3JhcHBlclN0YXRlUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdyYXBwZXJTdGF0ZVByb3BzLnRyYW5zaXRpb24pICE9PSBudWxsICYmIF9rICE9PSB2b2lkIDAgPyBfayA6ICdub25lJyB9KSwgY2hpbGRyZW46IFsoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwiZGl2XCIsIHsgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nOiB0cnVlLCBjbGFzc05hbWU6IGBpdGVtLSR7aXRlbS5pZH1gLCBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAoa2V5ZnJhbWVzLmxlbmd0aCAhPT0gMCAmJiAhbGF5b3V0KSA/IDAgOiAxLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IGAke3N0aWNreVRvcCAqIDEwMH12d2AsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogaXNSaWNoVGV4dCAmJiBpdGVtSGVpZ2h0ICE9PSB1bmRlZmluZWQgPyBgJHtpdGVtSGVpZ2h0ICogMTAwfXZ3YCA6ICd1bnNldCcsXG4gICAgICAgICAgICAgICAgfSwgY2hpbGRyZW46ICgwLCBqc3hfcnVudGltZV8xLmpzeCkoUmljaFRleHRXcmFwcGVyXzEuUmljaFRleHRXcmFwcGVyLCB7IGlzUmljaFRleHQ6IGlzUmljaFRleHQsIGNoaWxkcmVuOiAoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oeyBjbGFzc05hbWU6IGBpdGVtLSR7aXRlbS5pZH0taW5uZXJgLCByZWY6IGl0ZW1Jbm5lclJlZiwgc3R5bGU6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgdG9wOiBgJHtwb3NpdGlvbi55fXB4YCwgbGVmdDogYCR7cG9zaXRpb24ueH1weGAgfSwgKCh3aWR0aCAhPT0gdW5kZWZpbmVkICYmIGhlaWdodCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogYCR7c2l6aW5nQXhpcy54ID09PSAnbWFudWFsJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBpc1JpY2hUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgJHt3aWR0aCAqIGV4ZW1wbGFyeX1weGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGAke3dpZHRoICogMTAwfXZ3YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnbWF4LWNvbnRlbnQnfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogYCR7c2l6aW5nQXhpcy55ID09PSAnbWFudWFsJyA/IGAke2hlaWdodCAqIDEwMH12d2AgOiAndW5zZXQnfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB7fSkpLCAoc2NhbGUgIT09IHVuZGVmaW5lZCA/IHsgdHJhbnNmb3JtOiBgc2NhbGUoJHtzY2FsZX0pYCwgV2Via2l0VHJhbnNmb3JtOiBgc2NhbGUoJHtzY2FsZX0pYCB9IDoge30pKSwgeyB0cmFuc2l0aW9uOiAoX2wgPSBpbm5lclN0YXRlUHJvcHMgPT09IG51bGwgfHwgaW5uZXJTdGF0ZVByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbm5lclN0YXRlUHJvcHMudHJhbnNpdGlvbikgIT09IG51bGwgJiYgX2wgIT09IHZvaWQgMCA/IF9sIDogJ25vbmUnLCBjdXJzb3I6IGlzRHJhZ2dpbmdBY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnZ3JhYmJpbmcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXNEcmFnZ2FibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2dyYWInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGhhc0NsaWNrVHJpZ2dlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdwb2ludGVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ3Vuc2V0JywgcG9pbnRlckV2ZW50czogYWxsb3dQb2ludGVyRXZlbnRzID8gJ2F1dG8nIDogJ25vbmUnLCB1c2VyU2VsZWN0OiBpc0RyYWdnYWJsZSA/ICdub25lJyA6ICd1bnNldCcsIFdlYmtpdFVzZXJTZWxlY3Q6IGlzRHJhZ2dhYmxlID8gJ25vbmUnIDogJ3Vuc2V0JywgTW96VXNlclNlbGVjdDogaXNEcmFnZ2FibGUgPyAnbm9uZScgOiAndW5zZXQnLCBtc1VzZXJTZWxlY3Q6IGlzRHJhZ2dhYmxlID8gJ25vbmUnIDogJ3Vuc2V0JyB9KSB9LCB0cmlnZ2VycywgeyBjaGlsZHJlbjogKDAsIGpzeF9ydW50aW1lXzEuanN4KShJdGVtQ29tcG9uZW50LCB7IGl0ZW06IGl0ZW0sIHNlY3Rpb25JZDogc2VjdGlvbklkLCBvblJlc2l6ZTogaGFuZGxlSXRlbVJlc2l6ZSwgYXJ0aWNsZUhlaWdodDogYXJ0aWNsZUhlaWdodCwgaW50ZXJhY3Rpb25DdHJsOiBpbnRlcmFjdGlvbkN0cmwsIG9uVmlzaWJpbGl0eUNoYW5nZTogaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSB9KSB9KSkgfSkgfSksICgwLCBqc3hfcnVudGltZV8xLmpzeCkoc3R5bGVfMS5kZWZhdWx0LCB7IGlkOiBpZCwgY2hpbGRyZW46IGBcclxuICAgICAgICAkeygwLCBzZGtfMS5nZXRMYXlvdXRTdHlsZXMpKGxheW91dHMsIGxheW91dFZhbHVlcywgKFthcmVhLCBoaWRkZW4sIHN0aWNreSwgc2VjdGlvbkhlaWdodCwgbGF5b3V0UGFyYW1zXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmdBeGlzID0gKDAsIHVzZVNpemluZ18xLnBhcnNlU2l6aW5nKShsYXlvdXRQYXJhbXMuc2l6aW5nKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNTY3JlZW5CYXNlZEJvdHRvbSA9IGFyZWEucG9zaXRpb25UeXBlID09PSBzZGtfMS5Qb3NpdGlvblR5cGUuU2NyZWVuQmFzZWQgJiYgYXJlYS5hbmNob3JTaWRlID09PSBzZGtfMS5BbmNob3JTaWRlLkJvdHRvbTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NhbGVBbmNob3IgPSBhcmVhLnNjYWxlQW5jaG9yO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGBcclxuICAgICAgICAgICAgLml0ZW0tJHtpdGVtLmlkfSB7XHJcbiAgICAgICAgICAgICAgcG9zaXRpb246ICR7c3RpY2t5ID8gJ3N0aWNreScgOiAnYWJzb2x1dGUnfTtcclxuICAgICAgICAgICAgICB0b3A6ICR7c3RpY2t5ID8gYCR7KDAsIGdldEFuY2hvcmVkSXRlbVRvcF8xLmdldEFuY2hvcmVkSXRlbVRvcCkoYXJlYS50b3AgLSBzdGlja3kuZnJvbSwgc2VjdGlvbkhlaWdodCwgYXJlYS5hbmNob3JTaWRlKX1gIDogMH07XHJcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjJzIGxpbmVhciAwLjFzO1xyXG4gICAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG4gICAgICAgICAgICAgIGRpc3BsYXk6ICR7aGlkZGVuID8gJ25vbmUnIDogJ2Jsb2NrJ307XHJcbiAgICAgICAgICAgICAgaGVpZ2h0OiBmaXQtY29udGVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuaXRlbS0ke2l0ZW0uaWR9LWlubmVyIHtcclxuICAgICAgICAgICAgICB3aWR0aDogJHtzaXppbmdBeGlzLnggPT09ICdtYW51YWwnXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGAke2FyZWEud2lkdGggKiAxMDB9dndgXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICdtYXgtY29udGVudCd9O1xyXG4gICAgICAgICAgICAgIGhlaWdodDogJHtzaXppbmdBeGlzLnkgPT09ICdtYW51YWwnID8gYCR7YXJlYS5oZWlnaHQgKiAxMDB9dndgIDogJ3Vuc2V0J307XHJcbiAgICAgICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogJHtTY2FsZUFuY2hvck1hcF8xLlNjYWxlQW5jaG9yTWFwW3NjYWxlQW5jaG9yXX07XHJcbiAgICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgke2FyZWEuc2NhbGV9KTtcclxuICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLml0ZW0td3JhcHBlci0ke2l0ZW0uaWR9IHtcclxuICAgICAgICAgICAgICBwb3NpdGlvbjogJHthcmVhLnBvc2l0aW9uVHlwZSA9PT0gc2RrXzEuUG9zaXRpb25UeXBlLlNjcmVlbkJhc2VkID8gJ2ZpeGVkJyA6ICdhYnNvbHV0ZSd9O1xyXG4gICAgICAgICAgICAgIHotaW5kZXg6ICR7YXJlYS56SW5kZXh9O1xyXG4gICAgICAgICAgICAgICR7IWlzSW5Hcm91cCAmJiBzdGlja3lGaXh9XHJcbiAgICAgICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgICAgICAgICAgICAgYm90dG9tOiAke2lzU2NyZWVuQmFzZWRCb3R0b20gPyBgJHstYXJlYS50b3AgKiAxMDB9dndgIDogJ3Vuc2V0J307XHJcbiAgICAgICAgICAgICAgdG9wOiAke2lzU2NyZWVuQmFzZWRCb3R0b20gPyAndW5zZXQnIDogKDAsIGdldEl0ZW1Ub3BTdHlsZV8xLmdldEl0ZW1Ub3BTdHlsZSkoYXJlYS50b3AsIGFyZWEuYW5jaG9yU2lkZSl9O1xyXG4gICAgICAgICAgICAgIGxlZnQ6ICR7YXJlYS5sZWZ0ICogMTAwfXZ3O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBgKTtcbiAgICAgICAgICAgICAgICB9KX1cclxuICAgICAgYCB9KV0gfSkpO1xufTtcbmV4cG9ydHMuSXRlbSA9IEl0ZW07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/Item.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/LinkWrapper.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/LinkWrapper.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LinkWrapper = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst LinkWrapper = ({ url, children, target }) => {\n    const validUrl = url && buildValidUrl(url);\n    const targetParams = target === '_blank' ? { target, rel: 'noreferrer' } : {};\n    return url ? ((0, jsx_runtime_1.jsx)(\"a\", Object.assign({ href: validUrl }, targetParams, { children: children }))) : ((0, jsx_runtime_1.jsx)(jsx_runtime_1.Fragment, { children: children }));\n};\nexports.LinkWrapper = LinkWrapper;\nfunction buildValidUrl(url) {\n    const prefixes = [\n        'http://',\n        'https://',\n        '/',\n        'mailto:',\n        'tel:',\n        'file:',\n        'ftp:',\n        'javascript',\n        '#'\n    ];\n    const protocolCheck = prefixes.some(prefix => url.startsWith(prefix));\n    if (protocolCheck)\n        return url;\n    return `//${url}`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9MaW5rV3JhcHBlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUI7QUFDbkIsc0JBQXNCLG1CQUFPLENBQUMsOERBQW1CO0FBQ2pELHVCQUF1Qix1QkFBdUI7QUFDOUM7QUFDQSxpREFBaUQsNEJBQTRCO0FBQzdFLDhEQUE4RCxnQkFBZ0Isa0JBQWtCLG9CQUFvQix3REFBd0Qsb0JBQW9CO0FBQ2hNO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixJQUFJO0FBQ3BCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9jb21wb25lbnRzL2l0ZW1zL0xpbmtXcmFwcGVyLmpzP2U1MzMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkxpbmtXcmFwcGVyID0gdm9pZCAwO1xuY29uc3QganN4X3J1bnRpbWVfMSA9IHJlcXVpcmUoXCJyZWFjdC9qc3gtcnVudGltZVwiKTtcbmNvbnN0IExpbmtXcmFwcGVyID0gKHsgdXJsLCBjaGlsZHJlbiwgdGFyZ2V0IH0pID0+IHtcbiAgICBjb25zdCB2YWxpZFVybCA9IHVybCAmJiBidWlsZFZhbGlkVXJsKHVybCk7XG4gICAgY29uc3QgdGFyZ2V0UGFyYW1zID0gdGFyZ2V0ID09PSAnX2JsYW5rJyA/IHsgdGFyZ2V0LCByZWw6ICdub3JlZmVycmVyJyB9IDoge307XG4gICAgcmV0dXJuIHVybCA/ICgoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwiYVwiLCBPYmplY3QuYXNzaWduKHsgaHJlZjogdmFsaWRVcmwgfSwgdGFyZ2V0UGFyYW1zLCB7IGNoaWxkcmVuOiBjaGlsZHJlbiB9KSkpIDogKCgwLCBqc3hfcnVudGltZV8xLmpzeCkoanN4X3J1bnRpbWVfMS5GcmFnbWVudCwgeyBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xufTtcbmV4cG9ydHMuTGlua1dyYXBwZXIgPSBMaW5rV3JhcHBlcjtcbmZ1bmN0aW9uIGJ1aWxkVmFsaWRVcmwodXJsKSB7XG4gICAgY29uc3QgcHJlZml4ZXMgPSBbXG4gICAgICAgICdodHRwOi8vJyxcbiAgICAgICAgJ2h0dHBzOi8vJyxcbiAgICAgICAgJy8nLFxuICAgICAgICAnbWFpbHRvOicsXG4gICAgICAgICd0ZWw6JyxcbiAgICAgICAgJ2ZpbGU6JyxcbiAgICAgICAgJ2Z0cDonLFxuICAgICAgICAnamF2YXNjcmlwdCcsXG4gICAgICAgICcjJ1xuICAgIF07XG4gICAgY29uc3QgcHJvdG9jb2xDaGVjayA9IHByZWZpeGVzLnNvbWUocHJlZml4ID0+IHVybC5zdGFydHNXaXRoKHByZWZpeCkpO1xuICAgIGlmIChwcm90b2NvbENoZWNrKVxuICAgICAgICByZXR1cm4gdXJsO1xuICAgIHJldHVybiBgLy8ke3VybH1gO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/LinkWrapper.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/RectangleItem/RectangleItem.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/RectangleItem/RectangleItem.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.RectangleItem = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst style_1 = __importDefault(__webpack_require__(/*! styled-jsx/style */ \"./node_modules/next/node_modules/styled-jsx/style.js\"));\nconst color_1 = __webpack_require__(/*! @cntrl-site/color */ \"./node_modules/@cntrl-site/color/lib/index.js\");\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst LinkWrapper_1 = __webpack_require__(/*! ../LinkWrapper */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/LinkWrapper.js\");\nconst useRectangleItem_1 = __webpack_require__(/*! ./useRectangleItem */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/RectangleItem/useRectangleItem.js\");\nconst useItemAngle_1 = __webpack_require__(/*! ../useItemAngle */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemAngle.js\");\nconst useCntrlContext_1 = __webpack_require__(/*! ../../../provider/useCntrlContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/useCntrlContext.js\");\nconst useRegisterResize_1 = __webpack_require__(/*! ../../../common/useRegisterResize */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useRegisterResize.js\");\nconst getStyleFromItemStateAndParams_1 = __webpack_require__(/*! ../../../utils/getStyleFromItemStateAndParams */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getStyleFromItemStateAndParams.js\");\nconst RectangleItem = ({ item, sectionId, onResize, interactionCtrl, onVisibilityChange }) => {\n    var _a, _b, _c, _d;\n    const id = (0, react_1.useId)();\n    const { layouts } = (0, useCntrlContext_1.useCntrlContext)();\n    const { fillColor: itemFillColor, radius: itemRadius, strokeWidth: itemStrokeWidth, strokeColor: itemStrokeColor, blur: itemBlur, backdropBlur: itemBackdropBlur } = (0, useRectangleItem_1.useRectangleItem)(item, sectionId);\n    const itemAngle = (0, useItemAngle_1.useItemAngle)(item, sectionId);\n    const stateParams = interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.getState(['angle', 'fillColor', 'strokeWidth', 'radius', 'strokeColor', 'blur', 'backdropBlur']);\n    const styles = (_a = stateParams === null || stateParams === void 0 ? void 0 : stateParams.styles) !== null && _a !== void 0 ? _a : {};\n    const backgroundColor = (0, react_1.useMemo)(() => {\n        const fillColor = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)(styles === null || styles === void 0 ? void 0 : styles.fillColor, itemFillColor);\n        return fillColor ? color_1.CntrlColor.parse(fillColor) : undefined;\n    }, [itemFillColor, styles === null || styles === void 0 ? void 0 : styles.fillColor]);\n    const borderColor = (0, react_1.useMemo)(() => {\n        const strokeColor = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)(styles === null || styles === void 0 ? void 0 : styles.strokeColor, itemStrokeColor);\n        return strokeColor ? color_1.CntrlColor.parse(strokeColor) : undefined;\n    }, [itemStrokeColor, styles === null || styles === void 0 ? void 0 : styles.strokeColor]);\n    const layoutValues = [item.area, item.layoutParams];\n    const [ref, setRef] = (0, react_1.useState)(null);\n    (0, useRegisterResize_1.useRegisterResize)(ref, onResize);\n    const backdropBlur = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)(styles === null || styles === void 0 ? void 0 : styles.backdropBlur, itemBackdropBlur);\n    const radius = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)(styles === null || styles === void 0 ? void 0 : styles.radius, itemRadius);\n    const strokeWidth = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)(styles === null || styles === void 0 ? void 0 : styles.strokeWidth, itemStrokeWidth);\n    const angle = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)(styles === null || styles === void 0 ? void 0 : styles.angle, itemAngle);\n    const blur = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)(styles === null || styles === void 0 ? void 0 : styles.blur, itemBlur);\n    const backdropFilterValue = backdropBlur ? `blur(${backdropBlur * 100}vw)` : undefined;\n    const isInteractive = (backgroundColor === null || backgroundColor === void 0 ? void 0 : backgroundColor.getAlpha()) !== 0 || (strokeWidth !== 0 && (borderColor === null || borderColor === void 0 ? void 0 : borderColor.getAlpha()) !== 0);\n    (0, react_1.useEffect)(() => {\n        onVisibilityChange === null || onVisibilityChange === void 0 ? void 0 : onVisibilityChange(isInteractive);\n    }, [isInteractive, onVisibilityChange]);\n    return ((0, jsx_runtime_1.jsx)(LinkWrapper_1.LinkWrapper, { url: (_b = item.link) === null || _b === void 0 ? void 0 : _b.url, target: (_c = item.link) === null || _c === void 0 ? void 0 : _c.target, children: (0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(\"div\", { className: `rectangle-${item.id}`, ref: setRef, style: Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, (backgroundColor ? { backgroundColor: `${backgroundColor.fmt('rgba')}` } : {})), (borderColor ? { borderColor: `${borderColor.fmt('rgba')}` } : {})), (radius !== undefined ? { borderRadius: `${radius * 100}vw` } : {})), (strokeWidth !== undefined ? { borderWidth: `${strokeWidth * 100}vw` } : {})), (angle !== undefined ? { transform: `rotate(${angle}deg) translateZ(0)` } : {})), (blur !== undefined ? { filter: `blur(${blur * 100}vw)` } : {})), (backdropFilterValue !== undefined\n                        ? { backdropFilter: backdropFilterValue, WebkitBackdropFilter: backdropFilterValue }\n                        : {})), { transition: (_d = stateParams === null || stateParams === void 0 ? void 0 : stateParams.transition) !== null && _d !== void 0 ? _d : 'none' }) }), (0, jsx_runtime_1.jsx)(style_1.default, { id: id, children: `\r\n        .rectangle-${item.id} {\r\n          position: absolute;\r\n          width: 100%;\r\n          height: 100%;\r\n          border-style: solid;\r\n          box-sizing: border-box;\r\n        }\r\n        ${(0, sdk_1.getLayoutStyles)(layouts, layoutValues, ([area, layoutParams]) => {\n                        return (`\r\n            .rectangle-${item.id} {\r\n              background-color: ${color_1.CntrlColor.parse(layoutParams.fillColor).fmt('rgba')};\r\n              border-color: ${color_1.CntrlColor.parse(layoutParams.strokeColor).fmt('rgba')};\r\n              border-radius: ${layoutParams.radius * 100}vw;\r\n              border-width: ${layoutParams.strokeWidth * 100}vw;\r\n              transform: rotate(${area.angle}deg) translateZ(0);\r\n              filter: ${layoutParams.blur !== 0 ? `blur(${layoutParams.blur * 100}vw)` : 'unset'};\r\n              backdrop-filter: ${layoutParams.backdropBlur !== 0 ? `blur(${layoutParams.backdropBlur * 100}vw)` : 'unset'};\r\n              -webkit-backdrop-filter: ${layoutParams.backdropBlur !== 0 ? `blur(${layoutParams.backdropBlur * 100}vw)` : 'unset'};\r\n            }\r\n          `);\n                    })}\r\n      ` })] }) }));\n};\nexports.RectangleItem = RectangleItem;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9SZWN0YW5nbGVJdGVtL1JlY3RhbmdsZUl0ZW0uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUI7QUFDckIsc0JBQXNCLG1CQUFPLENBQUMsOERBQW1CO0FBQ2pELGdCQUFnQixtQkFBTyxDQUFDLDRDQUFPO0FBQy9CLGdDQUFnQyxtQkFBTyxDQUFDLDhFQUFrQjtBQUMxRCxnQkFBZ0IsbUJBQU8sQ0FBQyx3RUFBbUI7QUFDM0MsY0FBYyxtQkFBTyxDQUFDLHFFQUFpQjtBQUN2QyxzQkFBc0IsbUJBQU8sQ0FBQyxpR0FBZ0I7QUFDOUMsMkJBQTJCLG1CQUFPLENBQUMsd0hBQW9CO0FBQ3ZELHVCQUF1QixtQkFBTyxDQUFDLG1HQUFpQjtBQUNoRCwwQkFBMEIsbUJBQU8sQ0FBQyxnSEFBbUM7QUFDckUsNEJBQTRCLG1CQUFPLENBQUMsZ0hBQW1DO0FBQ3ZFLHlDQUF5QyxtQkFBTyxDQUFDLHdJQUErQztBQUNoRyx5QkFBeUIsZ0VBQWdFO0FBQ3pGO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEIsWUFBWSwySkFBMko7QUFDdks7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELG1CQUFtQjtBQUMxRTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsZ0VBQWdFLHdNQUF3TSwyQ0FBMkMsd0JBQXdCLFFBQVEseUlBQXlJLHVCQUF1QixvQkFBb0IsNEJBQTRCLElBQUksSUFBSSxxQkFBcUIsZ0JBQWdCLHdCQUF3QixJQUFJLElBQUksOEJBQThCLGlCQUFpQixhQUFhLE1BQU0sSUFBSSxtQ0FBbUMsZ0JBQWdCLGtCQUFrQixNQUFNLElBQUksNkJBQTZCLHFCQUFxQixNQUFNLHNCQUFzQixJQUFJLDRCQUE0QixnQkFBZ0IsV0FBVyxPQUFPLElBQUk7QUFDejVCLDRCQUE0QjtBQUM1Qiw0QkFBNEIsTUFBTSw2SUFBNkksR0FBRyw2Q0FBNkM7QUFDL04scUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLHlCQUF5QjtBQUN6QixrQ0FBa0M7QUFDbEMsOEJBQThCO0FBQzlCLCtCQUErQiwwQkFBMEI7QUFDekQsOEJBQThCLCtCQUErQjtBQUM3RCxrQ0FBa0MsV0FBVztBQUM3Qyx3QkFBd0Isa0NBQWtDLHdCQUF3QjtBQUNsRixpQ0FBaUMsMENBQTBDLGdDQUFnQztBQUMzRyx5Q0FBeUMsMENBQTBDLGdDQUFnQztBQUNuSDtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLFNBQVMsSUFBSSxHQUFHO0FBQ2hCO0FBQ0EscUJBQXFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9jb21wb25lbnRzL2l0ZW1zL1JlY3RhbmdsZUl0ZW0vUmVjdGFuZ2xlSXRlbS5qcz83ZTBhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SZWN0YW5nbGVJdGVtID0gdm9pZCAwO1xuY29uc3QganN4X3J1bnRpbWVfMSA9IHJlcXVpcmUoXCJyZWFjdC9qc3gtcnVudGltZVwiKTtcbmNvbnN0IHJlYWN0XzEgPSByZXF1aXJlKFwicmVhY3RcIik7XG5jb25zdCBzdHlsZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJzdHlsZWQtanN4L3N0eWxlXCIpKTtcbmNvbnN0IGNvbG9yXzEgPSByZXF1aXJlKFwiQGNudHJsLXNpdGUvY29sb3JcIik7XG5jb25zdCBzZGtfMSA9IHJlcXVpcmUoXCJAY250cmwtc2l0ZS9zZGtcIik7XG5jb25zdCBMaW5rV3JhcHBlcl8xID0gcmVxdWlyZShcIi4uL0xpbmtXcmFwcGVyXCIpO1xuY29uc3QgdXNlUmVjdGFuZ2xlSXRlbV8xID0gcmVxdWlyZShcIi4vdXNlUmVjdGFuZ2xlSXRlbVwiKTtcbmNvbnN0IHVzZUl0ZW1BbmdsZV8xID0gcmVxdWlyZShcIi4uL3VzZUl0ZW1BbmdsZVwiKTtcbmNvbnN0IHVzZUNudHJsQ29udGV4dF8xID0gcmVxdWlyZShcIi4uLy4uLy4uL3Byb3ZpZGVyL3VzZUNudHJsQ29udGV4dFwiKTtcbmNvbnN0IHVzZVJlZ2lzdGVyUmVzaXplXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tbW9uL3VzZVJlZ2lzdGVyUmVzaXplXCIpO1xuY29uc3QgZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zXCIpO1xuY29uc3QgUmVjdGFuZ2xlSXRlbSA9ICh7IGl0ZW0sIHNlY3Rpb25JZCwgb25SZXNpemUsIGludGVyYWN0aW9uQ3RybCwgb25WaXNpYmlsaXR5Q2hhbmdlIH0pID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgY29uc3QgaWQgPSAoMCwgcmVhY3RfMS51c2VJZCkoKTtcbiAgICBjb25zdCB7IGxheW91dHMgfSA9ICgwLCB1c2VDbnRybENvbnRleHRfMS51c2VDbnRybENvbnRleHQpKCk7XG4gICAgY29uc3QgeyBmaWxsQ29sb3I6IGl0ZW1GaWxsQ29sb3IsIHJhZGl1czogaXRlbVJhZGl1cywgc3Ryb2tlV2lkdGg6IGl0ZW1TdHJva2VXaWR0aCwgc3Ryb2tlQ29sb3I6IGl0ZW1TdHJva2VDb2xvciwgYmx1cjogaXRlbUJsdXIsIGJhY2tkcm9wQmx1cjogaXRlbUJhY2tkcm9wQmx1ciB9ID0gKDAsIHVzZVJlY3RhbmdsZUl0ZW1fMS51c2VSZWN0YW5nbGVJdGVtKShpdGVtLCBzZWN0aW9uSWQpO1xuICAgIGNvbnN0IGl0ZW1BbmdsZSA9ICgwLCB1c2VJdGVtQW5nbGVfMS51c2VJdGVtQW5nbGUpKGl0ZW0sIHNlY3Rpb25JZCk7XG4gICAgY29uc3Qgc3RhdGVQYXJhbXMgPSBpbnRlcmFjdGlvbkN0cmwgPT09IG51bGwgfHwgaW50ZXJhY3Rpb25DdHJsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlcmFjdGlvbkN0cmwuZ2V0U3RhdGUoWydhbmdsZScsICdmaWxsQ29sb3InLCAnc3Ryb2tlV2lkdGgnLCAncmFkaXVzJywgJ3N0cm9rZUNvbG9yJywgJ2JsdXInLCAnYmFja2Ryb3BCbHVyJ10pO1xuICAgIGNvbnN0IHN0eWxlcyA9IChfYSA9IHN0YXRlUGFyYW1zID09PSBudWxsIHx8IHN0YXRlUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdGF0ZVBhcmFtcy5zdHlsZXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHt9O1xuICAgIGNvbnN0IGJhY2tncm91bmRDb2xvciA9ICgwLCByZWFjdF8xLnVzZU1lbW8pKCgpID0+IHtcbiAgICAgICAgY29uc3QgZmlsbENvbG9yID0gKDAsIGdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtc18xLmdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtcykoc3R5bGVzID09PSBudWxsIHx8IHN0eWxlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3R5bGVzLmZpbGxDb2xvciwgaXRlbUZpbGxDb2xvcik7XG4gICAgICAgIHJldHVybiBmaWxsQ29sb3IgPyBjb2xvcl8xLkNudHJsQ29sb3IucGFyc2UoZmlsbENvbG9yKSA6IHVuZGVmaW5lZDtcbiAgICB9LCBbaXRlbUZpbGxDb2xvciwgc3R5bGVzID09PSBudWxsIHx8IHN0eWxlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3R5bGVzLmZpbGxDb2xvcl0pO1xuICAgIGNvbnN0IGJvcmRlckNvbG9yID0gKDAsIHJlYWN0XzEudXNlTWVtbykoKCkgPT4ge1xuICAgICAgICBjb25zdCBzdHJva2VDb2xvciA9ICgwLCBnZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXNfMS5nZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXMpKHN0eWxlcyA9PT0gbnVsbCB8fCBzdHlsZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0eWxlcy5zdHJva2VDb2xvciwgaXRlbVN0cm9rZUNvbG9yKTtcbiAgICAgICAgcmV0dXJuIHN0cm9rZUNvbG9yID8gY29sb3JfMS5DbnRybENvbG9yLnBhcnNlKHN0cm9rZUNvbG9yKSA6IHVuZGVmaW5lZDtcbiAgICB9LCBbaXRlbVN0cm9rZUNvbG9yLCBzdHlsZXMgPT09IG51bGwgfHwgc3R5bGVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdHlsZXMuc3Ryb2tlQ29sb3JdKTtcbiAgICBjb25zdCBsYXlvdXRWYWx1ZXMgPSBbaXRlbS5hcmVhLCBpdGVtLmxheW91dFBhcmFtc107XG4gICAgY29uc3QgW3JlZiwgc2V0UmVmXSA9ICgwLCByZWFjdF8xLnVzZVN0YXRlKShudWxsKTtcbiAgICAoMCwgdXNlUmVnaXN0ZXJSZXNpemVfMS51c2VSZWdpc3RlclJlc2l6ZSkocmVmLCBvblJlc2l6ZSk7XG4gICAgY29uc3QgYmFja2Ryb3BCbHVyID0gKDAsIGdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtc18xLmdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtcykoc3R5bGVzID09PSBudWxsIHx8IHN0eWxlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3R5bGVzLmJhY2tkcm9wQmx1ciwgaXRlbUJhY2tkcm9wQmx1cik7XG4gICAgY29uc3QgcmFkaXVzID0gKDAsIGdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtc18xLmdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtcykoc3R5bGVzID09PSBudWxsIHx8IHN0eWxlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3R5bGVzLnJhZGl1cywgaXRlbVJhZGl1cyk7XG4gICAgY29uc3Qgc3Ryb2tlV2lkdGggPSAoMCwgZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zXzEuZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zKShzdHlsZXMgPT09IG51bGwgfHwgc3R5bGVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdHlsZXMuc3Ryb2tlV2lkdGgsIGl0ZW1TdHJva2VXaWR0aCk7XG4gICAgY29uc3QgYW5nbGUgPSAoMCwgZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zXzEuZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zKShzdHlsZXMgPT09IG51bGwgfHwgc3R5bGVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdHlsZXMuYW5nbGUsIGl0ZW1BbmdsZSk7XG4gICAgY29uc3QgYmx1ciA9ICgwLCBnZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXNfMS5nZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXMpKHN0eWxlcyA9PT0gbnVsbCB8fCBzdHlsZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0eWxlcy5ibHVyLCBpdGVtQmx1cik7XG4gICAgY29uc3QgYmFja2Ryb3BGaWx0ZXJWYWx1ZSA9IGJhY2tkcm9wQmx1ciA/IGBibHVyKCR7YmFja2Ryb3BCbHVyICogMTAwfXZ3KWAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgaXNJbnRlcmFjdGl2ZSA9IChiYWNrZ3JvdW5kQ29sb3IgPT09IG51bGwgfHwgYmFja2dyb3VuZENvbG9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBiYWNrZ3JvdW5kQ29sb3IuZ2V0QWxwaGEoKSkgIT09IDAgfHwgKHN0cm9rZVdpZHRoICE9PSAwICYmIChib3JkZXJDb2xvciA9PT0gbnVsbCB8fCBib3JkZXJDb2xvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogYm9yZGVyQ29sb3IuZ2V0QWxwaGEoKSkgIT09IDApO1xuICAgICgwLCByZWFjdF8xLnVzZUVmZmVjdCkoKCkgPT4ge1xuICAgICAgICBvblZpc2liaWxpdHlDaGFuZ2UgPT09IG51bGwgfHwgb25WaXNpYmlsaXR5Q2hhbmdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblZpc2liaWxpdHlDaGFuZ2UoaXNJbnRlcmFjdGl2ZSk7XG4gICAgfSwgW2lzSW50ZXJhY3RpdmUsIG9uVmlzaWJpbGl0eUNoYW5nZV0pO1xuICAgIHJldHVybiAoKDAsIGpzeF9ydW50aW1lXzEuanN4KShMaW5rV3JhcHBlcl8xLkxpbmtXcmFwcGVyLCB7IHVybDogKF9iID0gaXRlbS5saW5rKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudXJsLCB0YXJnZXQ6IChfYyA9IGl0ZW0ubGluaykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnRhcmdldCwgY2hpbGRyZW46ICgwLCBqc3hfcnVudGltZV8xLmpzeHMpKGpzeF9ydW50aW1lXzEuRnJhZ21lbnQsIHsgY2hpbGRyZW46IFsoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBgcmVjdGFuZ2xlLSR7aXRlbS5pZH1gLCByZWY6IHNldFJlZiwgc3R5bGU6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgKGJhY2tncm91bmRDb2xvciA/IHsgYmFja2dyb3VuZENvbG9yOiBgJHtiYWNrZ3JvdW5kQ29sb3IuZm10KCdyZ2JhJyl9YCB9IDoge30pKSwgKGJvcmRlckNvbG9yID8geyBib3JkZXJDb2xvcjogYCR7Ym9yZGVyQ29sb3IuZm10KCdyZ2JhJyl9YCB9IDoge30pKSwgKHJhZGl1cyAhPT0gdW5kZWZpbmVkID8geyBib3JkZXJSYWRpdXM6IGAke3JhZGl1cyAqIDEwMH12d2AgfSA6IHt9KSksIChzdHJva2VXaWR0aCAhPT0gdW5kZWZpbmVkID8geyBib3JkZXJXaWR0aDogYCR7c3Ryb2tlV2lkdGggKiAxMDB9dndgIH0gOiB7fSkpLCAoYW5nbGUgIT09IHVuZGVmaW5lZCA/IHsgdHJhbnNmb3JtOiBgcm90YXRlKCR7YW5nbGV9ZGVnKSB0cmFuc2xhdGVaKDApYCB9IDoge30pKSwgKGJsdXIgIT09IHVuZGVmaW5lZCA/IHsgZmlsdGVyOiBgYmx1cigke2JsdXIgKiAxMDB9dncpYCB9IDoge30pKSwgKGJhY2tkcm9wRmlsdGVyVmFsdWUgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB7IGJhY2tkcm9wRmlsdGVyOiBiYWNrZHJvcEZpbHRlclZhbHVlLCBXZWJraXRCYWNrZHJvcEZpbHRlcjogYmFja2Ryb3BGaWx0ZXJWYWx1ZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICA6IHt9KSksIHsgdHJhbnNpdGlvbjogKF9kID0gc3RhdGVQYXJhbXMgPT09IG51bGwgfHwgc3RhdGVQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YXRlUGFyYW1zLnRyYW5zaXRpb24pICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6ICdub25lJyB9KSB9KSwgKDAsIGpzeF9ydW50aW1lXzEuanN4KShzdHlsZV8xLmRlZmF1bHQsIHsgaWQ6IGlkLCBjaGlsZHJlbjogYFxyXG4gICAgICAgIC5yZWN0YW5nbGUtJHtpdGVtLmlkfSB7XHJcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICAgIGJvcmRlci1zdHlsZTogc29saWQ7XHJcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgIH1cclxuICAgICAgICAkeygwLCBzZGtfMS5nZXRMYXlvdXRTdHlsZXMpKGxheW91dHMsIGxheW91dFZhbHVlcywgKFthcmVhLCBsYXlvdXRQYXJhbXNdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGBcclxuICAgICAgICAgICAgLnJlY3RhbmdsZS0ke2l0ZW0uaWR9IHtcclxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke2NvbG9yXzEuQ250cmxDb2xvci5wYXJzZShsYXlvdXRQYXJhbXMuZmlsbENvbG9yKS5mbXQoJ3JnYmEnKX07XHJcbiAgICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAke2NvbG9yXzEuQ250cmxDb2xvci5wYXJzZShsYXlvdXRQYXJhbXMuc3Ryb2tlQ29sb3IpLmZtdCgncmdiYScpfTtcclxuICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAke2xheW91dFBhcmFtcy5yYWRpdXMgKiAxMDB9dnc7XHJcbiAgICAgICAgICAgICAgYm9yZGVyLXdpZHRoOiAke2xheW91dFBhcmFtcy5zdHJva2VXaWR0aCAqIDEwMH12dztcclxuICAgICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgke2FyZWEuYW5nbGV9ZGVnKSB0cmFuc2xhdGVaKDApO1xyXG4gICAgICAgICAgICAgIGZpbHRlcjogJHtsYXlvdXRQYXJhbXMuYmx1ciAhPT0gMCA/IGBibHVyKCR7bGF5b3V0UGFyYW1zLmJsdXIgKiAxMDB9dncpYCA6ICd1bnNldCd9O1xyXG4gICAgICAgICAgICAgIGJhY2tkcm9wLWZpbHRlcjogJHtsYXlvdXRQYXJhbXMuYmFja2Ryb3BCbHVyICE9PSAwID8gYGJsdXIoJHtsYXlvdXRQYXJhbXMuYmFja2Ryb3BCbHVyICogMTAwfXZ3KWAgOiAndW5zZXQnfTtcclxuICAgICAgICAgICAgICAtd2Via2l0LWJhY2tkcm9wLWZpbHRlcjogJHtsYXlvdXRQYXJhbXMuYmFja2Ryb3BCbHVyICE9PSAwID8gYGJsdXIoJHtsYXlvdXRQYXJhbXMuYmFja2Ryb3BCbHVyICogMTAwfXZ3KWAgOiAndW5zZXQnfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgYCk7XG4gICAgICAgICAgICAgICAgICAgIH0pfVxyXG4gICAgICBgIH0pXSB9KSB9KSk7XG59O1xuZXhwb3J0cy5SZWN0YW5nbGVJdGVtID0gUmVjdGFuZ2xlSXRlbTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/RectangleItem/RectangleItem.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/RectangleItem/useRectangleItem.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/RectangleItem/useRectangleItem.js ***!
  \****************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useRectangleItem = void 0;\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst useKeyframeValue_1 = __webpack_require__(/*! ../../../common/useKeyframeValue */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useKeyframeValue.js\");\nconst useLayoutContext_1 = __webpack_require__(/*! ../../useLayoutContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/useLayoutContext.js\");\nconst defaultColor = 'rgba(0, 0, 0, 1)';\nfunction useRectangleItem(item, sectionId) {\n    const layoutId = (0, useLayoutContext_1.useLayoutContext)();\n    const radius = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.BorderRadius, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'radius' in layoutParams ? layoutParams.radius : 0;\n    }, (animator, scroll, value) => value !== undefined ? animator.getRadius({ radius: value }, scroll).radius : undefined, sectionId, [layoutId]);\n    const strokeWidth = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.BorderWidth, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'strokeWidth' in layoutParams ? layoutParams.strokeWidth : 0;\n    }, (animator, scroll, value) => value !== undefined ? animator.getBorderWidth({ borderWidth: value }, scroll).borderWidth : undefined, sectionId, [layoutId]);\n    const fillColor = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.Color, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'fillColor' in layoutParams ? layoutParams.fillColor : defaultColor;\n    }, (animator, scroll, value) => value ? animator.getColor({ color: value }, scroll).color : undefined, sectionId, [layoutId]);\n    const strokeColor = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.BorderColor, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'strokeColor' in layoutParams ? layoutParams.strokeColor : defaultColor;\n    }, (animator, scroll, value) => value ? animator.getBorderColor({ color: value }, scroll).color : undefined, sectionId, [layoutId]);\n    const blur = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.Blur, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'blur' in layoutParams ? layoutParams.blur : 0;\n    }, (animator, scroll, value) => value !== undefined ? animator.getBlur({ blur: value }, scroll).blur : undefined, sectionId, [layoutId]);\n    const backdropBlur = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.BackdropBlur, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'backdropBlur' in layoutParams ? layoutParams.backdropBlur : 0;\n    }, (animator, scroll, value) => value !== undefined ? animator.getBackdropBlur({ backdropBlur: value }, scroll).backdropBlur : undefined, sectionId, [layoutId]);\n    return { fillColor, strokeWidth, radius, strokeColor, blur, backdropBlur };\n}\nexports.useRectangleItem = useRectangleItem;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9SZWN0YW5nbGVJdGVtL3VzZVJlY3RhbmdsZUl0ZW0uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsd0JBQXdCO0FBQ3hCLGNBQWMsbUJBQU8sQ0FBQyxxRUFBaUI7QUFDdkMsMkJBQTJCLG1CQUFPLENBQUMsOEdBQWtDO0FBQ3JFLDJCQUEyQixtQkFBTyxDQUFDLHdHQUF3QjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSywwRUFBMEUsZUFBZTtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSywrRUFBK0Usb0JBQW9CO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDJEQUEyRCxjQUFjO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGlFQUFpRSxjQUFjO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLHdFQUF3RSxhQUFhO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGdGQUFnRixxQkFBcUI7QUFDMUcsYUFBYTtBQUNiO0FBQ0Esd0JBQXdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9jb21wb25lbnRzL2l0ZW1zL1JlY3RhbmdsZUl0ZW0vdXNlUmVjdGFuZ2xlSXRlbS5qcz9kOGE5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy51c2VSZWN0YW5nbGVJdGVtID0gdm9pZCAwO1xuY29uc3Qgc2RrXzEgPSByZXF1aXJlKFwiQGNudHJsLXNpdGUvc2RrXCIpO1xuY29uc3QgdXNlS2V5ZnJhbWVWYWx1ZV8xID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbW1vbi91c2VLZXlmcmFtZVZhbHVlXCIpO1xuY29uc3QgdXNlTGF5b3V0Q29udGV4dF8xID0gcmVxdWlyZShcIi4uLy4uL3VzZUxheW91dENvbnRleHRcIik7XG5jb25zdCBkZWZhdWx0Q29sb3IgPSAncmdiYSgwLCAwLCAwLCAxKSc7XG5mdW5jdGlvbiB1c2VSZWN0YW5nbGVJdGVtKGl0ZW0sIHNlY3Rpb25JZCkge1xuICAgIGNvbnN0IGxheW91dElkID0gKDAsIHVzZUxheW91dENvbnRleHRfMS51c2VMYXlvdXRDb250ZXh0KSgpO1xuICAgIGNvbnN0IHJhZGl1cyA9ICgwLCB1c2VLZXlmcmFtZVZhbHVlXzEudXNlS2V5ZnJhbWVWYWx1ZSkoaXRlbSwgc2RrXzEuS2V5ZnJhbWVUeXBlLkJvcmRlclJhZGl1cywgKGl0ZW0sIGxheW91dElkKSA9PiB7XG4gICAgICAgIGlmICghbGF5b3V0SWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGxheW91dFBhcmFtcyA9IGl0ZW0ubGF5b3V0UGFyYW1zW2xheW91dElkXTtcbiAgICAgICAgcmV0dXJuICdyYWRpdXMnIGluIGxheW91dFBhcmFtcyA/IGxheW91dFBhcmFtcy5yYWRpdXMgOiAwO1xuICAgIH0sIChhbmltYXRvciwgc2Nyb2xsLCB2YWx1ZSkgPT4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IGFuaW1hdG9yLmdldFJhZGl1cyh7IHJhZGl1czogdmFsdWUgfSwgc2Nyb2xsKS5yYWRpdXMgOiB1bmRlZmluZWQsIHNlY3Rpb25JZCwgW2xheW91dElkXSk7XG4gICAgY29uc3Qgc3Ryb2tlV2lkdGggPSAoMCwgdXNlS2V5ZnJhbWVWYWx1ZV8xLnVzZUtleWZyYW1lVmFsdWUpKGl0ZW0sIHNka18xLktleWZyYW1lVHlwZS5Cb3JkZXJXaWR0aCwgKGl0ZW0sIGxheW91dElkKSA9PiB7XG4gICAgICAgIGlmICghbGF5b3V0SWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGxheW91dFBhcmFtcyA9IGl0ZW0ubGF5b3V0UGFyYW1zW2xheW91dElkXTtcbiAgICAgICAgcmV0dXJuICdzdHJva2VXaWR0aCcgaW4gbGF5b3V0UGFyYW1zID8gbGF5b3V0UGFyYW1zLnN0cm9rZVdpZHRoIDogMDtcbiAgICB9LCAoYW5pbWF0b3IsIHNjcm9sbCwgdmFsdWUpID0+IHZhbHVlICE9PSB1bmRlZmluZWQgPyBhbmltYXRvci5nZXRCb3JkZXJXaWR0aCh7IGJvcmRlcldpZHRoOiB2YWx1ZSB9LCBzY3JvbGwpLmJvcmRlcldpZHRoIDogdW5kZWZpbmVkLCBzZWN0aW9uSWQsIFtsYXlvdXRJZF0pO1xuICAgIGNvbnN0IGZpbGxDb2xvciA9ICgwLCB1c2VLZXlmcmFtZVZhbHVlXzEudXNlS2V5ZnJhbWVWYWx1ZSkoaXRlbSwgc2RrXzEuS2V5ZnJhbWVUeXBlLkNvbG9yLCAoaXRlbSwgbGF5b3V0SWQpID0+IHtcbiAgICAgICAgaWYgKCFsYXlvdXRJZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgbGF5b3V0UGFyYW1zID0gaXRlbS5sYXlvdXRQYXJhbXNbbGF5b3V0SWRdO1xuICAgICAgICByZXR1cm4gJ2ZpbGxDb2xvcicgaW4gbGF5b3V0UGFyYW1zID8gbGF5b3V0UGFyYW1zLmZpbGxDb2xvciA6IGRlZmF1bHRDb2xvcjtcbiAgICB9LCAoYW5pbWF0b3IsIHNjcm9sbCwgdmFsdWUpID0+IHZhbHVlID8gYW5pbWF0b3IuZ2V0Q29sb3IoeyBjb2xvcjogdmFsdWUgfSwgc2Nyb2xsKS5jb2xvciA6IHVuZGVmaW5lZCwgc2VjdGlvbklkLCBbbGF5b3V0SWRdKTtcbiAgICBjb25zdCBzdHJva2VDb2xvciA9ICgwLCB1c2VLZXlmcmFtZVZhbHVlXzEudXNlS2V5ZnJhbWVWYWx1ZSkoaXRlbSwgc2RrXzEuS2V5ZnJhbWVUeXBlLkJvcmRlckNvbG9yLCAoaXRlbSwgbGF5b3V0SWQpID0+IHtcbiAgICAgICAgaWYgKCFsYXlvdXRJZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgbGF5b3V0UGFyYW1zID0gaXRlbS5sYXlvdXRQYXJhbXNbbGF5b3V0SWRdO1xuICAgICAgICByZXR1cm4gJ3N0cm9rZUNvbG9yJyBpbiBsYXlvdXRQYXJhbXMgPyBsYXlvdXRQYXJhbXMuc3Ryb2tlQ29sb3IgOiBkZWZhdWx0Q29sb3I7XG4gICAgfSwgKGFuaW1hdG9yLCBzY3JvbGwsIHZhbHVlKSA9PiB2YWx1ZSA/IGFuaW1hdG9yLmdldEJvcmRlckNvbG9yKHsgY29sb3I6IHZhbHVlIH0sIHNjcm9sbCkuY29sb3IgOiB1bmRlZmluZWQsIHNlY3Rpb25JZCwgW2xheW91dElkXSk7XG4gICAgY29uc3QgYmx1ciA9ICgwLCB1c2VLZXlmcmFtZVZhbHVlXzEudXNlS2V5ZnJhbWVWYWx1ZSkoaXRlbSwgc2RrXzEuS2V5ZnJhbWVUeXBlLkJsdXIsIChpdGVtLCBsYXlvdXRJZCkgPT4ge1xuICAgICAgICBpZiAoIWxheW91dElkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBsYXlvdXRQYXJhbXMgPSBpdGVtLmxheW91dFBhcmFtc1tsYXlvdXRJZF07XG4gICAgICAgIHJldHVybiAnYmx1cicgaW4gbGF5b3V0UGFyYW1zID8gbGF5b3V0UGFyYW1zLmJsdXIgOiAwO1xuICAgIH0sIChhbmltYXRvciwgc2Nyb2xsLCB2YWx1ZSkgPT4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IGFuaW1hdG9yLmdldEJsdXIoeyBibHVyOiB2YWx1ZSB9LCBzY3JvbGwpLmJsdXIgOiB1bmRlZmluZWQsIHNlY3Rpb25JZCwgW2xheW91dElkXSk7XG4gICAgY29uc3QgYmFja2Ryb3BCbHVyID0gKDAsIHVzZUtleWZyYW1lVmFsdWVfMS51c2VLZXlmcmFtZVZhbHVlKShpdGVtLCBzZGtfMS5LZXlmcmFtZVR5cGUuQmFja2Ryb3BCbHVyLCAoaXRlbSwgbGF5b3V0SWQpID0+IHtcbiAgICAgICAgaWYgKCFsYXlvdXRJZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgbGF5b3V0UGFyYW1zID0gaXRlbS5sYXlvdXRQYXJhbXNbbGF5b3V0SWRdO1xuICAgICAgICByZXR1cm4gJ2JhY2tkcm9wQmx1cicgaW4gbGF5b3V0UGFyYW1zID8gbGF5b3V0UGFyYW1zLmJhY2tkcm9wQmx1ciA6IDA7XG4gICAgfSwgKGFuaW1hdG9yLCBzY3JvbGwsIHZhbHVlKSA9PiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gYW5pbWF0b3IuZ2V0QmFja2Ryb3BCbHVyKHsgYmFja2Ryb3BCbHVyOiB2YWx1ZSB9LCBzY3JvbGwpLmJhY2tkcm9wQmx1ciA6IHVuZGVmaW5lZCwgc2VjdGlvbklkLCBbbGF5b3V0SWRdKTtcbiAgICByZXR1cm4geyBmaWxsQ29sb3IsIHN0cm9rZVdpZHRoLCByYWRpdXMsIHN0cm9rZUNvbG9yLCBibHVyLCBiYWNrZHJvcEJsdXIgfTtcbn1cbmV4cG9ydHMudXNlUmVjdGFuZ2xlSXRlbSA9IHVzZVJlY3RhbmdsZUl0ZW07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/RectangleItem/useRectangleItem.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/RichTextItem/RichTextItem.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/RichTextItem/RichTextItem.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.RichTextItem = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst color_1 = __webpack_require__(/*! @cntrl-site/color */ \"./node_modules/@cntrl-site/color/lib/index.js\");\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst style_1 = __importDefault(__webpack_require__(/*! styled-jsx/style */ \"./node_modules/next/node_modules/styled-jsx/style.js\"));\nconst useRichTextItem_1 = __webpack_require__(/*! ./useRichTextItem */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/RichTextItem/useRichTextItem.js\");\nconst useCntrlContext_1 = __webpack_require__(/*! ../../../provider/useCntrlContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/useCntrlContext.js\");\nconst useRichTextItemValues_1 = __webpack_require__(/*! ../useRichTextItemValues */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useRichTextItemValues.js\");\nconst useRegisterResize_1 = __webpack_require__(/*! ../../../common/useRegisterResize */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useRegisterResize.js\");\nconst getFontFamilyValue_1 = __webpack_require__(/*! ../../../utils/getFontFamilyValue */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getFontFamilyValue.js\");\nconst useExemplary_1 = __webpack_require__(/*! ../../../common/useExemplary */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useExemplary.js\");\nconst useItemAngle_1 = __webpack_require__(/*! ../useItemAngle */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemAngle.js\");\nconst getStyleFromItemStateAndParams_1 = __webpack_require__(/*! ../../../utils/getStyleFromItemStateAndParams */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getStyleFromItemStateAndParams.js\");\nconst useCurrentLayout_1 = __webpack_require__(/*! ../../../common/useCurrentLayout */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useCurrentLayout.js\");\nconst RichTextItem = ({ item, sectionId, onResize, interactionCtrl, onVisibilityChange }) => {\n    var _a, _b, _c, _d;\n    const id = (0, react_1.useId)();\n    const [ref, setRef] = (0, react_1.useState)(null);\n    const { layouts } = (0, useCntrlContext_1.useCntrlContext)();\n    const itemAngle = (0, useItemAngle_1.useItemAngle)(item, sectionId);\n    const { blur: itemBlur, wordSpacing: itemWordSpacing, letterSpacing: itemLetterSpacing, color: itemColor, fontSize, lineHeight } = (0, useRichTextItemValues_1.useRichTextItemValues)(item, sectionId);\n    const layoutValues = [item.area, item.layoutParams];\n    const exemplary = (0, useExemplary_1.useExemplary)();\n    const { layoutId } = (0, useCurrentLayout_1.useCurrentLayout)();\n    (0, useRegisterResize_1.useRegisterResize)(ref, onResize);\n    const stateParams = interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.getState(['angle', 'blur', 'letterSpacing', 'wordSpacing', 'color']);\n    const stateStyles = (_a = stateParams === null || stateParams === void 0 ? void 0 : stateParams.styles) !== null && _a !== void 0 ? _a : {};\n    const transition = (_b = stateParams === null || stateParams === void 0 ? void 0 : stateParams.transition) !== null && _b !== void 0 ? _b : 'none';\n    const textColor = (0, react_1.useMemo)(() => {\n        var _a;\n        const color = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)((_a = stateParams === null || stateParams === void 0 ? void 0 : stateParams.styles) === null || _a === void 0 ? void 0 : _a.color, itemColor);\n        return color ? color_1.CntrlColor.parse(color) : undefined;\n    }, [itemColor, stateStyles.color]);\n    const angle = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)(stateStyles.angle, itemAngle);\n    const blur = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)(stateStyles.blur, itemBlur);\n    const letterSpacing = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)(stateStyles.letterSpacing, itemLetterSpacing);\n    const wordSpacing = (0, getStyleFromItemStateAndParams_1.getStyleFromItemStateAndParams)(stateStyles.wordSpacing, itemWordSpacing);\n    const colorAlpha = textColor === null || textColor === void 0 ? void 0 : textColor.getAlpha();\n    const rangeStyles = layoutId ? (_d = (_c = item.layoutParams[layoutId]) === null || _c === void 0 ? void 0 : _c.rangeStyles) !== null && _d !== void 0 ? _d : [] : [];\n    const rangeColors = rangeStyles.filter((style) => style.style === 'COLOR');\n    const hasVisibleRangeColors = rangeColors.some((color) => {\n        const alpha = color_1.CntrlColor.parse(color.value).getAlpha();\n        return alpha > 0;\n    });\n    const isInteractive = colorAlpha !== 0 || hasVisibleRangeColors;\n    const [content, styles] = (0, useRichTextItem_1.useRichTextItem)(item);\n    (0, react_1.useEffect)(() => {\n        onVisibilityChange === null || onVisibilityChange === void 0 ? void 0 : onVisibilityChange(isInteractive);\n    }, [isInteractive, onVisibilityChange]);\n    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(\"div\", { ref: setRef, className: `rich-text-wrapper-${item.id}`, style: Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, (blur !== undefined ? { filter: `blur(${blur * 100}vw)` } : {})), (textColor ? { color: `${textColor.fmt('rgba')}` } : {})), (angle !== undefined ? { transform: `rotate(${angle}deg) translateZ(0)` } : {})), (letterSpacing !== undefined ? { letterSpacing: `${letterSpacing * exemplary}px` } : {})), (wordSpacing !== undefined ? { wordSpacing: `${wordSpacing * exemplary}px` } : {})), (fontSize !== undefined ? { fontSize: `${Math.round(fontSize * exemplary)}px` } : {})), (lineHeight !== undefined ? { lineHeight: `${lineHeight * exemplary}px` } : {})), { transition }), children: content }), (0, jsx_runtime_1.jsxs)(style_1.default, { id: id, children: [styles, `${(0, sdk_1.getLayoutStyles)(layouts, layoutValues, ([area, layoutParams]) => {\n                        const color = color_1.CntrlColor.parse(layoutParams.color);\n                        return (`\r\n            .rich-text-wrapper-${item.id} {\r\n              font-size: ${layoutParams.fontSize * 100}vw;\r\n              line-height: ${layoutParams.lineHeight * 100}vw;\r\n              letter-spacing: ${layoutParams.letterSpacing * 100}vw;\r\n              word-spacing: ${layoutParams.wordSpacing * 100}vw;\r\n              font-family: ${(0, getFontFamilyValue_1.getFontFamilyValue)(layoutParams.typeFace)};\r\n              font-weight: ${layoutParams.fontWeight};\r\n              font-style: ${layoutParams.fontStyle ? layoutParams.fontStyle : 'normal'};\r\n              vertical-align: ${layoutParams.verticalAlign};\r\n              font-variant: ${layoutParams.fontVariant};\r\n              color: ${color.fmt('rgba')};\r\n              transform: rotate(${area.angle}deg) translateZ(0);\r\n              filter: ${layoutParams.blur !== 0 ? `blur(${layoutParams.blur * 100}vw)` : 'unset'};\r\n              text-transform: ${layoutParams.textTransform};\r\n            }\r\n            @supports not (color: oklch(42% 0.3 90 / 1)) {\r\n              .rich-text-wrapper-${item.id} {\r\n                color: ${color.fmt('rgba')};\r\n              }\r\n            }\r\n          `);\n                    })}`] })] }));\n};\nexports.RichTextItem = RichTextItem;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9SaWNoVGV4dEl0ZW0vUmljaFRleHRJdGVtLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CO0FBQ3BCLHNCQUFzQixtQkFBTyxDQUFDLDhEQUFtQjtBQUNqRCxnQkFBZ0IsbUJBQU8sQ0FBQyw0Q0FBTztBQUMvQixnQkFBZ0IsbUJBQU8sQ0FBQyx3RUFBbUI7QUFDM0MsY0FBYyxtQkFBTyxDQUFDLHFFQUFpQjtBQUN2QyxnQ0FBZ0MsbUJBQU8sQ0FBQyw4RUFBa0I7QUFDMUQsMEJBQTBCLG1CQUFPLENBQUMscUhBQW1CO0FBQ3JELDBCQUEwQixtQkFBTyxDQUFDLGdIQUFtQztBQUNyRSxnQ0FBZ0MsbUJBQU8sQ0FBQyxxSEFBMEI7QUFDbEUsNEJBQTRCLG1CQUFPLENBQUMsZ0hBQW1DO0FBQ3ZFLDZCQUE2QixtQkFBTyxDQUFDLGdIQUFtQztBQUN4RSx1QkFBdUIsbUJBQU8sQ0FBQyxzR0FBOEI7QUFDN0QsdUJBQXVCLG1CQUFPLENBQUMsbUdBQWlCO0FBQ2hELHlDQUF5QyxtQkFBTyxDQUFDLHdJQUErQztBQUNoRywyQkFBMkIsbUJBQU8sQ0FBQyw4R0FBa0M7QUFDckUsd0JBQXdCLGdFQUFnRTtBQUN4RjtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQSxZQUFZLHlIQUF5SDtBQUNySTtBQUNBO0FBQ0EsWUFBWSxXQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsOERBQThELDJDQUEyQyw2Q0FBNkMsUUFBUSw0SEFBNEgsMEJBQTBCLGdCQUFnQixXQUFXLE9BQU8sSUFBSSxtQkFBbUIsVUFBVSxzQkFBc0IsSUFBSSxJQUFJLDZCQUE2QixxQkFBcUIsTUFBTSxzQkFBc0IsSUFBSSxxQ0FBcUMsa0JBQWtCLDBCQUEwQixNQUFNLElBQUksbUNBQW1DLGdCQUFnQix3QkFBd0IsTUFBTSxJQUFJLGdDQUFnQyxhQUFhLGlDQUFpQyxNQUFNLElBQUksa0NBQWtDLGVBQWUsdUJBQXVCLE1BQU0sSUFBSSxNQUFNLFlBQVksc0JBQXNCLDhDQUE4Qyw4QkFBOEI7QUFDcjdCO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsMkJBQTJCLDRCQUE0QjtBQUN2RCw2QkFBNkIsOEJBQThCO0FBQzNELGdDQUFnQyxpQ0FBaUM7QUFDakUsOEJBQThCLCtCQUErQjtBQUM3RCw2QkFBNkI7QUFDN0IsNkJBQTZCO0FBQzdCLDRCQUE0QjtBQUM1QixnQ0FBZ0M7QUFDaEMsOEJBQThCO0FBQzlCLHVCQUF1QjtBQUN2QixrQ0FBa0MsV0FBVztBQUM3Qyx3QkFBd0Isa0NBQWtDLHdCQUF3QjtBQUNsRixnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBLG1DQUFtQztBQUNuQyx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLEVBQUUsSUFBSSxJQUFJO0FBQy9CO0FBQ0Esb0JBQW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9jb21wb25lbnRzL2l0ZW1zL1JpY2hUZXh0SXRlbS9SaWNoVGV4dEl0ZW0uanM/MjhhZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmljaFRleHRJdGVtID0gdm9pZCAwO1xuY29uc3QganN4X3J1bnRpbWVfMSA9IHJlcXVpcmUoXCJyZWFjdC9qc3gtcnVudGltZVwiKTtcbmNvbnN0IHJlYWN0XzEgPSByZXF1aXJlKFwicmVhY3RcIik7XG5jb25zdCBjb2xvcl8xID0gcmVxdWlyZShcIkBjbnRybC1zaXRlL2NvbG9yXCIpO1xuY29uc3Qgc2RrXzEgPSByZXF1aXJlKFwiQGNudHJsLXNpdGUvc2RrXCIpO1xuY29uc3Qgc3R5bGVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwic3R5bGVkLWpzeC9zdHlsZVwiKSk7XG5jb25zdCB1c2VSaWNoVGV4dEl0ZW1fMSA9IHJlcXVpcmUoXCIuL3VzZVJpY2hUZXh0SXRlbVwiKTtcbmNvbnN0IHVzZUNudHJsQ29udGV4dF8xID0gcmVxdWlyZShcIi4uLy4uLy4uL3Byb3ZpZGVyL3VzZUNudHJsQ29udGV4dFwiKTtcbmNvbnN0IHVzZVJpY2hUZXh0SXRlbVZhbHVlc18xID0gcmVxdWlyZShcIi4uL3VzZVJpY2hUZXh0SXRlbVZhbHVlc1wiKTtcbmNvbnN0IHVzZVJlZ2lzdGVyUmVzaXplXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tbW9uL3VzZVJlZ2lzdGVyUmVzaXplXCIpO1xuY29uc3QgZ2V0Rm9udEZhbWlseVZhbHVlXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvZ2V0Rm9udEZhbWlseVZhbHVlXCIpO1xuY29uc3QgdXNlRXhlbXBsYXJ5XzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tbW9uL3VzZUV4ZW1wbGFyeVwiKTtcbmNvbnN0IHVzZUl0ZW1BbmdsZV8xID0gcmVxdWlyZShcIi4uL3VzZUl0ZW1BbmdsZVwiKTtcbmNvbnN0IGdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtc18xID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL2dldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtc1wiKTtcbmNvbnN0IHVzZUN1cnJlbnRMYXlvdXRfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jb21tb24vdXNlQ3VycmVudExheW91dFwiKTtcbmNvbnN0IFJpY2hUZXh0SXRlbSA9ICh7IGl0ZW0sIHNlY3Rpb25JZCwgb25SZXNpemUsIGludGVyYWN0aW9uQ3RybCwgb25WaXNpYmlsaXR5Q2hhbmdlIH0pID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgY29uc3QgaWQgPSAoMCwgcmVhY3RfMS51c2VJZCkoKTtcbiAgICBjb25zdCBbcmVmLCBzZXRSZWZdID0gKDAsIHJlYWN0XzEudXNlU3RhdGUpKG51bGwpO1xuICAgIGNvbnN0IHsgbGF5b3V0cyB9ID0gKDAsIHVzZUNudHJsQ29udGV4dF8xLnVzZUNudHJsQ29udGV4dCkoKTtcbiAgICBjb25zdCBpdGVtQW5nbGUgPSAoMCwgdXNlSXRlbUFuZ2xlXzEudXNlSXRlbUFuZ2xlKShpdGVtLCBzZWN0aW9uSWQpO1xuICAgIGNvbnN0IHsgYmx1cjogaXRlbUJsdXIsIHdvcmRTcGFjaW5nOiBpdGVtV29yZFNwYWNpbmcsIGxldHRlclNwYWNpbmc6IGl0ZW1MZXR0ZXJTcGFjaW5nLCBjb2xvcjogaXRlbUNvbG9yLCBmb250U2l6ZSwgbGluZUhlaWdodCB9ID0gKDAsIHVzZVJpY2hUZXh0SXRlbVZhbHVlc18xLnVzZVJpY2hUZXh0SXRlbVZhbHVlcykoaXRlbSwgc2VjdGlvbklkKTtcbiAgICBjb25zdCBsYXlvdXRWYWx1ZXMgPSBbaXRlbS5hcmVhLCBpdGVtLmxheW91dFBhcmFtc107XG4gICAgY29uc3QgZXhlbXBsYXJ5ID0gKDAsIHVzZUV4ZW1wbGFyeV8xLnVzZUV4ZW1wbGFyeSkoKTtcbiAgICBjb25zdCB7IGxheW91dElkIH0gPSAoMCwgdXNlQ3VycmVudExheW91dF8xLnVzZUN1cnJlbnRMYXlvdXQpKCk7XG4gICAgKDAsIHVzZVJlZ2lzdGVyUmVzaXplXzEudXNlUmVnaXN0ZXJSZXNpemUpKHJlZiwgb25SZXNpemUpO1xuICAgIGNvbnN0IHN0YXRlUGFyYW1zID0gaW50ZXJhY3Rpb25DdHJsID09PSBudWxsIHx8IGludGVyYWN0aW9uQ3RybCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW50ZXJhY3Rpb25DdHJsLmdldFN0YXRlKFsnYW5nbGUnLCAnYmx1cicsICdsZXR0ZXJTcGFjaW5nJywgJ3dvcmRTcGFjaW5nJywgJ2NvbG9yJ10pO1xuICAgIGNvbnN0IHN0YXRlU3R5bGVzID0gKF9hID0gc3RhdGVQYXJhbXMgPT09IG51bGwgfHwgc3RhdGVQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YXRlUGFyYW1zLnN0eWxlcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge307XG4gICAgY29uc3QgdHJhbnNpdGlvbiA9IChfYiA9IHN0YXRlUGFyYW1zID09PSBudWxsIHx8IHN0YXRlUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdGF0ZVBhcmFtcy50cmFuc2l0aW9uKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnbm9uZSc7XG4gICAgY29uc3QgdGV4dENvbG9yID0gKDAsIHJlYWN0XzEudXNlTWVtbykoKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gKDAsIGdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtc18xLmdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtcykoKF9hID0gc3RhdGVQYXJhbXMgPT09IG51bGwgfHwgc3RhdGVQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YXRlUGFyYW1zLnN0eWxlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbG9yLCBpdGVtQ29sb3IpO1xuICAgICAgICByZXR1cm4gY29sb3IgPyBjb2xvcl8xLkNudHJsQ29sb3IucGFyc2UoY29sb3IpIDogdW5kZWZpbmVkO1xuICAgIH0sIFtpdGVtQ29sb3IsIHN0YXRlU3R5bGVzLmNvbG9yXSk7XG4gICAgY29uc3QgYW5nbGUgPSAoMCwgZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zXzEuZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zKShzdGF0ZVN0eWxlcy5hbmdsZSwgaXRlbUFuZ2xlKTtcbiAgICBjb25zdCBibHVyID0gKDAsIGdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtc18xLmdldFN0eWxlRnJvbUl0ZW1TdGF0ZUFuZFBhcmFtcykoc3RhdGVTdHlsZXMuYmx1ciwgaXRlbUJsdXIpO1xuICAgIGNvbnN0IGxldHRlclNwYWNpbmcgPSAoMCwgZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zXzEuZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zKShzdGF0ZVN0eWxlcy5sZXR0ZXJTcGFjaW5nLCBpdGVtTGV0dGVyU3BhY2luZyk7XG4gICAgY29uc3Qgd29yZFNwYWNpbmcgPSAoMCwgZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zXzEuZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zKShzdGF0ZVN0eWxlcy53b3JkU3BhY2luZywgaXRlbVdvcmRTcGFjaW5nKTtcbiAgICBjb25zdCBjb2xvckFscGhhID0gdGV4dENvbG9yID09PSBudWxsIHx8IHRleHRDb2xvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGV4dENvbG9yLmdldEFscGhhKCk7XG4gICAgY29uc3QgcmFuZ2VTdHlsZXMgPSBsYXlvdXRJZCA/IChfZCA9IChfYyA9IGl0ZW0ubGF5b3V0UGFyYW1zW2xheW91dElkXSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnJhbmdlU3R5bGVzKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBbXSA6IFtdO1xuICAgIGNvbnN0IHJhbmdlQ29sb3JzID0gcmFuZ2VTdHlsZXMuZmlsdGVyKChzdHlsZSkgPT4gc3R5bGUuc3R5bGUgPT09ICdDT0xPUicpO1xuICAgIGNvbnN0IGhhc1Zpc2libGVSYW5nZUNvbG9ycyA9IHJhbmdlQ29sb3JzLnNvbWUoKGNvbG9yKSA9PiB7XG4gICAgICAgIGNvbnN0IGFscGhhID0gY29sb3JfMS5DbnRybENvbG9yLnBhcnNlKGNvbG9yLnZhbHVlKS5nZXRBbHBoYSgpO1xuICAgICAgICByZXR1cm4gYWxwaGEgPiAwO1xuICAgIH0pO1xuICAgIGNvbnN0IGlzSW50ZXJhY3RpdmUgPSBjb2xvckFscGhhICE9PSAwIHx8IGhhc1Zpc2libGVSYW5nZUNvbG9ycztcbiAgICBjb25zdCBbY29udGVudCwgc3R5bGVzXSA9ICgwLCB1c2VSaWNoVGV4dEl0ZW1fMS51c2VSaWNoVGV4dEl0ZW0pKGl0ZW0pO1xuICAgICgwLCByZWFjdF8xLnVzZUVmZmVjdCkoKCkgPT4ge1xuICAgICAgICBvblZpc2liaWxpdHlDaGFuZ2UgPT09IG51bGwgfHwgb25WaXNpYmlsaXR5Q2hhbmdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblZpc2liaWxpdHlDaGFuZ2UoaXNJbnRlcmFjdGl2ZSk7XG4gICAgfSwgW2lzSW50ZXJhY3RpdmUsIG9uVmlzaWJpbGl0eUNoYW5nZV0pO1xuICAgIHJldHVybiAoKDAsIGpzeF9ydW50aW1lXzEuanN4cykoanN4X3J1bnRpbWVfMS5GcmFnbWVudCwgeyBjaGlsZHJlbjogWygwLCBqc3hfcnVudGltZV8xLmpzeCkoXCJkaXZcIiwgeyByZWY6IHNldFJlZiwgY2xhc3NOYW1lOiBgcmljaC10ZXh0LXdyYXBwZXItJHtpdGVtLmlkfWAsIHN0eWxlOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIChibHVyICE9PSB1bmRlZmluZWQgPyB7IGZpbHRlcjogYGJsdXIoJHtibHVyICogMTAwfXZ3KWAgfSA6IHt9KSksICh0ZXh0Q29sb3IgPyB7IGNvbG9yOiBgJHt0ZXh0Q29sb3IuZm10KCdyZ2JhJyl9YCB9IDoge30pKSwgKGFuZ2xlICE9PSB1bmRlZmluZWQgPyB7IHRyYW5zZm9ybTogYHJvdGF0ZSgke2FuZ2xlfWRlZykgdHJhbnNsYXRlWigwKWAgfSA6IHt9KSksIChsZXR0ZXJTcGFjaW5nICE9PSB1bmRlZmluZWQgPyB7IGxldHRlclNwYWNpbmc6IGAke2xldHRlclNwYWNpbmcgKiBleGVtcGxhcnl9cHhgIH0gOiB7fSkpLCAod29yZFNwYWNpbmcgIT09IHVuZGVmaW5lZCA/IHsgd29yZFNwYWNpbmc6IGAke3dvcmRTcGFjaW5nICogZXhlbXBsYXJ5fXB4YCB9IDoge30pKSwgKGZvbnRTaXplICE9PSB1bmRlZmluZWQgPyB7IGZvbnRTaXplOiBgJHtNYXRoLnJvdW5kKGZvbnRTaXplICogZXhlbXBsYXJ5KX1weGAgfSA6IHt9KSksIChsaW5lSGVpZ2h0ICE9PSB1bmRlZmluZWQgPyB7IGxpbmVIZWlnaHQ6IGAke2xpbmVIZWlnaHQgKiBleGVtcGxhcnl9cHhgIH0gOiB7fSkpLCB7IHRyYW5zaXRpb24gfSksIGNoaWxkcmVuOiBjb250ZW50IH0pLCAoMCwganN4X3J1bnRpbWVfMS5qc3hzKShzdHlsZV8xLmRlZmF1bHQsIHsgaWQ6IGlkLCBjaGlsZHJlbjogW3N0eWxlcywgYCR7KDAsIHNka18xLmdldExheW91dFN0eWxlcykobGF5b3V0cywgbGF5b3V0VmFsdWVzLCAoW2FyZWEsIGxheW91dFBhcmFtc10pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gY29sb3JfMS5DbnRybENvbG9yLnBhcnNlKGxheW91dFBhcmFtcy5jb2xvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGBcclxuICAgICAgICAgICAgLnJpY2gtdGV4dC13cmFwcGVyLSR7aXRlbS5pZH0ge1xyXG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogJHtsYXlvdXRQYXJhbXMuZm9udFNpemUgKiAxMDB9dnc7XHJcbiAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6ICR7bGF5b3V0UGFyYW1zLmxpbmVIZWlnaHQgKiAxMDB9dnc7XHJcbiAgICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6ICR7bGF5b3V0UGFyYW1zLmxldHRlclNwYWNpbmcgKiAxMDB9dnc7XHJcbiAgICAgICAgICAgICAgd29yZC1zcGFjaW5nOiAke2xheW91dFBhcmFtcy53b3JkU3BhY2luZyAqIDEwMH12dztcclxuICAgICAgICAgICAgICBmb250LWZhbWlseTogJHsoMCwgZ2V0Rm9udEZhbWlseVZhbHVlXzEuZ2V0Rm9udEZhbWlseVZhbHVlKShsYXlvdXRQYXJhbXMudHlwZUZhY2UpfTtcclxuICAgICAgICAgICAgICBmb250LXdlaWdodDogJHtsYXlvdXRQYXJhbXMuZm9udFdlaWdodH07XHJcbiAgICAgICAgICAgICAgZm9udC1zdHlsZTogJHtsYXlvdXRQYXJhbXMuZm9udFN0eWxlID8gbGF5b3V0UGFyYW1zLmZvbnRTdHlsZSA6ICdub3JtYWwnfTtcclxuICAgICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogJHtsYXlvdXRQYXJhbXMudmVydGljYWxBbGlnbn07XHJcbiAgICAgICAgICAgICAgZm9udC12YXJpYW50OiAke2xheW91dFBhcmFtcy5mb250VmFyaWFudH07XHJcbiAgICAgICAgICAgICAgY29sb3I6ICR7Y29sb3IuZm10KCdyZ2JhJyl9O1xyXG4gICAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKCR7YXJlYS5hbmdsZX1kZWcpIHRyYW5zbGF0ZVooMCk7XHJcbiAgICAgICAgICAgICAgZmlsdGVyOiAke2xheW91dFBhcmFtcy5ibHVyICE9PSAwID8gYGJsdXIoJHtsYXlvdXRQYXJhbXMuYmx1ciAqIDEwMH12dylgIDogJ3Vuc2V0J307XHJcbiAgICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06ICR7bGF5b3V0UGFyYW1zLnRleHRUcmFuc2Zvcm19O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEBzdXBwb3J0cyBub3QgKGNvbG9yOiBva2xjaCg0MiUgMC4zIDkwIC8gMSkpIHtcclxuICAgICAgICAgICAgICAucmljaC10ZXh0LXdyYXBwZXItJHtpdGVtLmlkfSB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJHtjb2xvci5mbXQoJ3JnYmEnKX07XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBgKTtcbiAgICAgICAgICAgICAgICAgICAgfSl9YF0gfSldIH0pKTtcbn07XG5leHBvcnRzLlJpY2hUZXh0SXRlbSA9IFJpY2hUZXh0SXRlbTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/RichTextItem/RichTextItem.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/RichTextItem/useRichTextItem.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/RichTextItem/useRichTextItem.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useRichTextItem = void 0;\nconst RichTextConverter_1 = __webpack_require__(/*! ../../../utils/RichTextConverter/RichTextConverter */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/RichTextConverter/RichTextConverter.js\");\nconst useCntrlContext_1 = __webpack_require__(/*! ../../../provider/useCntrlContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/useCntrlContext.js\");\nconst richTextConverter = new RichTextConverter_1.RichTextConverter();\nconst useRichTextItem = (item) => {\n    const { layouts } = (0, useCntrlContext_1.useCntrlContext)();\n    const [content, styles] = richTextConverter.toHtml(item, layouts);\n    return [content, styles];\n};\nexports.useRichTextItem = useRichTextItem;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9SaWNoVGV4dEl0ZW0vdXNlUmljaFRleHRJdGVtLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QjtBQUN2Qiw0QkFBNEIsbUJBQU8sQ0FBQyxrSkFBb0Q7QUFDeEYsMEJBQTBCLG1CQUFPLENBQUMsZ0hBQW1DO0FBQ3JFO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9jb21wb25lbnRzL2l0ZW1zL1JpY2hUZXh0SXRlbS91c2VSaWNoVGV4dEl0ZW0uanM/ZmExYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudXNlUmljaFRleHRJdGVtID0gdm9pZCAwO1xuY29uc3QgUmljaFRleHRDb252ZXJ0ZXJfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy9SaWNoVGV4dENvbnZlcnRlci9SaWNoVGV4dENvbnZlcnRlclwiKTtcbmNvbnN0IHVzZUNudHJsQ29udGV4dF8xID0gcmVxdWlyZShcIi4uLy4uLy4uL3Byb3ZpZGVyL3VzZUNudHJsQ29udGV4dFwiKTtcbmNvbnN0IHJpY2hUZXh0Q29udmVydGVyID0gbmV3IFJpY2hUZXh0Q29udmVydGVyXzEuUmljaFRleHRDb252ZXJ0ZXIoKTtcbmNvbnN0IHVzZVJpY2hUZXh0SXRlbSA9IChpdGVtKSA9PiB7XG4gICAgY29uc3QgeyBsYXlvdXRzIH0gPSAoMCwgdXNlQ250cmxDb250ZXh0XzEudXNlQ250cmxDb250ZXh0KSgpO1xuICAgIGNvbnN0IFtjb250ZW50LCBzdHlsZXNdID0gcmljaFRleHRDb252ZXJ0ZXIudG9IdG1sKGl0ZW0sIGxheW91dHMpO1xuICAgIHJldHVybiBbY29udGVudCwgc3R5bGVzXTtcbn07XG5leHBvcnRzLnVzZVJpY2hUZXh0SXRlbSA9IHVzZVJpY2hUZXh0SXRlbTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/RichTextItem/useRichTextItem.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/RichTextWrapper.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/RichTextWrapper.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.RichTextWrapper = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst RichTextWrapper = ({ isRichText, children, transformOrigin = 'top left' }) => {\n    if (!isRichText)\n        return (0, jsx_runtime_1.jsx)(jsx_runtime_1.Fragment, { children: children });\n    return ((0, jsx_runtime_1.jsx)(\"div\", { style: { transformOrigin, transform: 'scale(var(--layout-deviation))' }, children: children }));\n};\nexports.RichTextWrapper = RichTextWrapper;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9SaWNoVGV4dFdyYXBwZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCO0FBQ3ZCLHNCQUFzQixtQkFBTyxDQUFDLDhEQUFtQjtBQUNqRCwyQkFBMkIsb0RBQW9EO0FBQy9FO0FBQ0EsZ0VBQWdFLG9CQUFvQjtBQUNwRiw0Q0FBNEMsU0FBUyw4REFBOEQsc0JBQXNCO0FBQ3pJO0FBQ0EsdUJBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9jb21wb25lbnRzL2l0ZW1zL1JpY2hUZXh0V3JhcHBlci5qcz82ZGNmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SaWNoVGV4dFdyYXBwZXIgPSB2b2lkIDA7XG5jb25zdCBqc3hfcnVudGltZV8xID0gcmVxdWlyZShcInJlYWN0L2pzeC1ydW50aW1lXCIpO1xuY29uc3QgUmljaFRleHRXcmFwcGVyID0gKHsgaXNSaWNoVGV4dCwgY2hpbGRyZW4sIHRyYW5zZm9ybU9yaWdpbiA9ICd0b3AgbGVmdCcgfSkgPT4ge1xuICAgIGlmICghaXNSaWNoVGV4dClcbiAgICAgICAgcmV0dXJuICgwLCBqc3hfcnVudGltZV8xLmpzeCkoanN4X3J1bnRpbWVfMS5GcmFnbWVudCwgeyBjaGlsZHJlbjogY2hpbGRyZW4gfSk7XG4gICAgcmV0dXJuICgoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwiZGl2XCIsIHsgc3R5bGU6IHsgdHJhbnNmb3JtT3JpZ2luLCB0cmFuc2Zvcm06ICdzY2FsZSh2YXIoLS1sYXlvdXQtZGV2aWF0aW9uKSknIH0sIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSk7XG59O1xuZXhwb3J0cy5SaWNoVGV4dFdyYXBwZXIgPSBSaWNoVGV4dFdyYXBwZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/RichTextWrapper.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/itemsMap.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/itemsMap.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.itemsMap = void 0;\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst RectangleItem_1 = __webpack_require__(/*! ./RectangleItem/RectangleItem */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/RectangleItem/RectangleItem.js\");\nconst ImageItem_1 = __webpack_require__(/*! ./FileItem/ImageItem */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/FileItem/ImageItem.js\");\nconst VideoItem_1 = __webpack_require__(/*! ./FileItem/VideoItem */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/FileItem/VideoItem.js\");\nconst RichTextItem_1 = __webpack_require__(/*! ./RichTextItem/RichTextItem */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/RichTextItem/RichTextItem.js\");\nconst YoutubeEmbed_1 = __webpack_require__(/*! ./EmbedVideoItem/YoutubeEmbed */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/EmbedVideoItem/YoutubeEmbed.js\");\nconst VimeoEmbed_1 = __webpack_require__(/*! ./EmbedVideoItem/VimeoEmbed */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/EmbedVideoItem/VimeoEmbed.js\");\nconst CustomItem_1 = __webpack_require__(/*! ./CustomItem/CustomItem */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CustomItem/CustomItem.js\");\nconst GroupItem_1 = __webpack_require__(/*! ./GroupItem/GroupItem */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/GroupItem/GroupItem.js\");\nconst CodeEmbedItem_1 = __webpack_require__(/*! ./CodeEmbedItem/CodeEmbedItem */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CodeEmbedItem/CodeEmbedItem.js\");\nconst CompoundItem_1 = __webpack_require__(/*! ./CompoundItem/CompoundItem */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/CompoundItem/CompoundItem.js\");\nconst ComponentItem_1 = __webpack_require__(/*! ./ComponentItem/ComponentItem */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/ComponentItem/ComponentItem.js\");\nexports.itemsMap = {\n    [sdk_1.ArticleItemType.Rectangle]: RectangleItem_1.RectangleItem,\n    [sdk_1.ArticleItemType.Image]: ImageItem_1.ImageItem,\n    [sdk_1.ArticleItemType.Video]: VideoItem_1.VideoItem,\n    [sdk_1.ArticleItemType.RichText]: RichTextItem_1.RichTextItem,\n    [sdk_1.ArticleItemType.YoutubeEmbed]: YoutubeEmbed_1.YoutubeEmbedItem,\n    [sdk_1.ArticleItemType.VimeoEmbed]: VimeoEmbed_1.VimeoEmbedItem,\n    [sdk_1.ArticleItemType.Custom]: CustomItem_1.CustomItem,\n    [sdk_1.ArticleItemType.Group]: GroupItem_1.GroupItem,\n    [sdk_1.ArticleItemType.Compound]: CompoundItem_1.CompoundItem,\n    [sdk_1.ArticleItemType.CodeEmbed]: CodeEmbedItem_1.CodeEmbedItem,\n    [sdk_1.ArticleItemType.Component]: ComponentItem_1.ComponentItem\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy9pdGVtc01hcC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0I7QUFDaEIsY0FBYyxtQkFBTyxDQUFDLHFFQUFpQjtBQUN2Qyx3QkFBd0IsbUJBQU8sQ0FBQyxnSUFBK0I7QUFDL0Qsb0JBQW9CLG1CQUFPLENBQUMsOEdBQXNCO0FBQ2xELG9CQUFvQixtQkFBTyxDQUFDLDhHQUFzQjtBQUNsRCx1QkFBdUIsbUJBQU8sQ0FBQyw0SEFBNkI7QUFDNUQsdUJBQXVCLG1CQUFPLENBQUMsZ0lBQStCO0FBQzlELHFCQUFxQixtQkFBTyxDQUFDLDRIQUE2QjtBQUMxRCxxQkFBcUIsbUJBQU8sQ0FBQyxvSEFBeUI7QUFDdEQsb0JBQW9CLG1CQUFPLENBQUMsZ0hBQXVCO0FBQ25ELHdCQUF3QixtQkFBTyxDQUFDLGdJQUErQjtBQUMvRCx1QkFBdUIsbUJBQU8sQ0FBQyw0SEFBNkI7QUFDNUQsd0JBQXdCLG1CQUFPLENBQUMsZ0lBQStCO0FBQy9ELGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay1uZXh0anMvbGliL2NvbXBvbmVudHMvaXRlbXMvaXRlbXNNYXAuanM/MmFhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXRlbXNNYXAgPSB2b2lkIDA7XG5jb25zdCBzZGtfMSA9IHJlcXVpcmUoXCJAY250cmwtc2l0ZS9zZGtcIik7XG5jb25zdCBSZWN0YW5nbGVJdGVtXzEgPSByZXF1aXJlKFwiLi9SZWN0YW5nbGVJdGVtL1JlY3RhbmdsZUl0ZW1cIik7XG5jb25zdCBJbWFnZUl0ZW1fMSA9IHJlcXVpcmUoXCIuL0ZpbGVJdGVtL0ltYWdlSXRlbVwiKTtcbmNvbnN0IFZpZGVvSXRlbV8xID0gcmVxdWlyZShcIi4vRmlsZUl0ZW0vVmlkZW9JdGVtXCIpO1xuY29uc3QgUmljaFRleHRJdGVtXzEgPSByZXF1aXJlKFwiLi9SaWNoVGV4dEl0ZW0vUmljaFRleHRJdGVtXCIpO1xuY29uc3QgWW91dHViZUVtYmVkXzEgPSByZXF1aXJlKFwiLi9FbWJlZFZpZGVvSXRlbS9Zb3V0dWJlRW1iZWRcIik7XG5jb25zdCBWaW1lb0VtYmVkXzEgPSByZXF1aXJlKFwiLi9FbWJlZFZpZGVvSXRlbS9WaW1lb0VtYmVkXCIpO1xuY29uc3QgQ3VzdG9tSXRlbV8xID0gcmVxdWlyZShcIi4vQ3VzdG9tSXRlbS9DdXN0b21JdGVtXCIpO1xuY29uc3QgR3JvdXBJdGVtXzEgPSByZXF1aXJlKFwiLi9Hcm91cEl0ZW0vR3JvdXBJdGVtXCIpO1xuY29uc3QgQ29kZUVtYmVkSXRlbV8xID0gcmVxdWlyZShcIi4vQ29kZUVtYmVkSXRlbS9Db2RlRW1iZWRJdGVtXCIpO1xuY29uc3QgQ29tcG91bmRJdGVtXzEgPSByZXF1aXJlKFwiLi9Db21wb3VuZEl0ZW0vQ29tcG91bmRJdGVtXCIpO1xuY29uc3QgQ29tcG9uZW50SXRlbV8xID0gcmVxdWlyZShcIi4vQ29tcG9uZW50SXRlbS9Db21wb25lbnRJdGVtXCIpO1xuZXhwb3J0cy5pdGVtc01hcCA9IHtcbiAgICBbc2RrXzEuQXJ0aWNsZUl0ZW1UeXBlLlJlY3RhbmdsZV06IFJlY3RhbmdsZUl0ZW1fMS5SZWN0YW5nbGVJdGVtLFxuICAgIFtzZGtfMS5BcnRpY2xlSXRlbVR5cGUuSW1hZ2VdOiBJbWFnZUl0ZW1fMS5JbWFnZUl0ZW0sXG4gICAgW3Nka18xLkFydGljbGVJdGVtVHlwZS5WaWRlb106IFZpZGVvSXRlbV8xLlZpZGVvSXRlbSxcbiAgICBbc2RrXzEuQXJ0aWNsZUl0ZW1UeXBlLlJpY2hUZXh0XTogUmljaFRleHRJdGVtXzEuUmljaFRleHRJdGVtLFxuICAgIFtzZGtfMS5BcnRpY2xlSXRlbVR5cGUuWW91dHViZUVtYmVkXTogWW91dHViZUVtYmVkXzEuWW91dHViZUVtYmVkSXRlbSxcbiAgICBbc2RrXzEuQXJ0aWNsZUl0ZW1UeXBlLlZpbWVvRW1iZWRdOiBWaW1lb0VtYmVkXzEuVmltZW9FbWJlZEl0ZW0sXG4gICAgW3Nka18xLkFydGljbGVJdGVtVHlwZS5DdXN0b21dOiBDdXN0b21JdGVtXzEuQ3VzdG9tSXRlbSxcbiAgICBbc2RrXzEuQXJ0aWNsZUl0ZW1UeXBlLkdyb3VwXTogR3JvdXBJdGVtXzEuR3JvdXBJdGVtLFxuICAgIFtzZGtfMS5BcnRpY2xlSXRlbVR5cGUuQ29tcG91bmRdOiBDb21wb3VuZEl0ZW1fMS5Db21wb3VuZEl0ZW0sXG4gICAgW3Nka18xLkFydGljbGVJdGVtVHlwZS5Db2RlRW1iZWRdOiBDb2RlRW1iZWRJdGVtXzEuQ29kZUVtYmVkSXRlbSxcbiAgICBbc2RrXzEuQXJ0aWNsZUl0ZW1UeXBlLkNvbXBvbmVudF06IENvbXBvbmVudEl0ZW1fMS5Db21wb25lbnRJdGVtXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/itemsMap.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useDraggable.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useDraggable.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useDraggable = void 0;\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst INITIAL_STATE = {\n    drag: false,\n    startX: 0,\n    startY: 0,\n    currentX: 0,\n    currentY: 0,\n    pivotX: 0,\n    pivotY: 0,\n    lastX: 0,\n    lastY: 0\n};\nfunction useDraggable(data, dragHandler, preventDragOnChildren = false) {\n    const dragStateRef = (0, react_1.useRef)(INITIAL_STATE);\n    const prevDragStateRef = (0, react_1.useRef)();\n    const dragHandlerRef = (0, react_1.useRef)();\n    const untrackMouseMoveRef = (0, react_1.useRef)();\n    const animationFrameRef = (0, react_1.useRef)();\n    dragHandlerRef.current = dragHandler;\n    const setDragState = (0, react_1.useCallback)(action => {\n        const state = isStateGetter(action)\n            ? action(dragStateRef.current)\n            : action;\n        if (!prevDragStateRef.current) {\n            prevDragStateRef.current = dragStateRef.current;\n        }\n        dragStateRef.current = state;\n        if (animationFrameRef.current !== undefined)\n            return;\n        animationFrameRef.current = window.requestAnimationFrame(() => {\n            var _a;\n            animationFrameRef.current = undefined;\n            (_a = dragHandlerRef.current) === null || _a === void 0 ? void 0 : _a.call(dragHandlerRef, dragStateRef.current, prevDragStateRef.current);\n            prevDragStateRef.current = dragStateRef.current;\n        });\n    }, []);\n    const handleMouseMove = (0, react_1.useCallback)(event => {\n        event.stopPropagation();\n        const el = event.target;\n        if (!(el instanceof HTMLElement))\n            return;\n        setDragState(state => {\n            if (!state.drag) {\n                const clientRect = el.getBoundingClientRect();\n                return {\n                    drag: true,\n                    startX: event.clientX,\n                    startY: event.clientY,\n                    currentX: event.clientX,\n                    currentY: event.clientY,\n                    pivotX: event.clientX - clientRect.x,\n                    pivotY: event.clientY - clientRect.y,\n                    lastX: state.lastX,\n                    lastY: state.lastY\n                };\n            }\n            return Object.assign(Object.assign({}, state), { currentX: state.currentX + event.movementX, currentY: state.currentY + event.movementY });\n        });\n    }, [setDragState, data.draggableRef, preventDragOnChildren]);\n    const handleMouseUp = (0, react_1.useCallback)(event => {\n        var _a;\n        event.stopPropagation();\n        setDragState(state => (Object.assign(Object.assign({}, state), { drag: false, lastX: state.currentX - state.startX + state.lastX, lastY: state.currentY - state.startY + state.lastY })));\n        (_a = untrackMouseMoveRef.current) === null || _a === void 0 ? void 0 : _a.call(untrackMouseMoveRef);\n    }, [setDragState]);\n    const handleScroll = (0, react_1.useCallback)(() => {\n        setDragState(state => state);\n    }, [setDragState]);\n    const trackMouseMove = (0, react_1.useCallback)(() => {\n        window.addEventListener('mousemove', handleMouseMove, { capture: true });\n        window.addEventListener('mouseup', handleMouseUp, { capture: true });\n        window.addEventListener('scroll', handleScroll, { capture: true, passive: true });\n        return () => {\n            window.removeEventListener('mousemove', handleMouseMove, { capture: true });\n            window.removeEventListener('mouseup', handleMouseUp, { capture: true });\n            window.removeEventListener('scroll', handleScroll, { capture: true });\n        };\n    }, [handleMouseMove, handleMouseUp, handleScroll]);\n    const handleMouseDown = (0, react_1.useCallback)(event => {\n        var _a;\n        event.stopPropagation();\n        if (preventDragOnChildren && event.target instanceof Node && data.draggableRef instanceof Node) {\n            if (event.target !== data.draggableRef && data.draggableRef.contains(event.target))\n                return;\n        }\n        if (event.button !== 0)\n            return;\n        (_a = untrackMouseMoveRef.current) === null || _a === void 0 ? void 0 : _a.call(untrackMouseMoveRef);\n        untrackMouseMoveRef.current = trackMouseMove();\n    }, [trackMouseMove]);\n    const handleTouchMove = (0, react_1.useCallback)(event => {\n        event.stopPropagation();\n        event.preventDefault();\n        const touch = event.touches[0];\n        const el = event.target;\n        if (!(el instanceof HTMLElement))\n            return;\n        setDragState(state => {\n            if (!state.drag) {\n                const clientRect = el.getBoundingClientRect();\n                return {\n                    drag: true,\n                    startX: touch.clientX,\n                    startY: touch.clientY,\n                    currentX: touch.clientX,\n                    currentY: touch.clientY,\n                    pivotX: touch.clientX - clientRect.x,\n                    pivotY: touch.clientY - clientRect.y,\n                    lastX: state.lastX,\n                    lastY: state.lastY\n                };\n            }\n            const movementX = touch.clientX - state.currentX;\n            const movementY = touch.clientY - state.currentY;\n            return Object.assign(Object.assign({}, state), { currentX: state.currentX + movementX, currentY: state.currentY + movementY });\n        });\n    }, [setDragState]);\n    const handleTouchEnd = (0, react_1.useCallback)(event => {\n        var _a;\n        event.stopPropagation();\n        document.body.style.overflow = '';\n        document.documentElement.style.overflow = '';\n        setDragState(state => (Object.assign(Object.assign({}, state), { drag: false, lastX: state.currentX - state.startX + state.lastX, lastY: state.currentY - state.startY + state.lastY })));\n        (_a = untrackMouseMoveRef.current) === null || _a === void 0 ? void 0 : _a.call(untrackMouseMoveRef);\n    }, [setDragState]);\n    const trackTouchMove = (0, react_1.useCallback)(() => {\n        window.addEventListener('touchmove', handleTouchMove, { capture: true, passive: false });\n        window.addEventListener('touchend', handleTouchEnd, { capture: true });\n        window.addEventListener('touchcancel', handleTouchEnd, { capture: true });\n        return () => {\n            window.removeEventListener('touchmove', handleTouchMove, { capture: true });\n            window.removeEventListener('touchend', handleTouchEnd, { capture: true });\n            window.removeEventListener('touchcancel', handleTouchEnd, { capture: true });\n        };\n    }, [handleTouchMove, handleTouchEnd]);\n    const handleTouchStart = (0, react_1.useCallback)(event => {\n        var _a;\n        event.stopPropagation();\n        if (preventDragOnChildren && event.target instanceof Node && data.draggableRef instanceof Node) {\n            if (event.target !== data.draggableRef && data.draggableRef.contains(event.target))\n                return;\n        }\n        document.body.style.overflow = 'hidden';\n        document.documentElement.style.overflow = 'hidden';\n        const selection = document.getSelection();\n        if (selection) {\n            selection.removeAllRanges();\n        }\n        (_a = untrackMouseMoveRef.current) === null || _a === void 0 ? void 0 : _a.call(untrackMouseMoveRef);\n        untrackMouseMoveRef.current = trackTouchMove();\n    }, [trackTouchMove]);\n    (0, react_1.useEffect)(() => {\n        if (!data.draggableRef || !data.isEnabled)\n            return;\n        const mouseHandler = handleMouseDown;\n        const touchHandler = handleTouchStart;\n        data.draggableRef.addEventListener('mousedown', mouseHandler);\n        data.draggableRef.addEventListener('touchstart', touchHandler);\n        return () => {\n            var _a, _b, _c;\n            (_a = data.draggableRef) === null || _a === void 0 ? void 0 : _a.removeEventListener('mousedown', mouseHandler);\n            (_b = data.draggableRef) === null || _b === void 0 ? void 0 : _b.removeEventListener('touchstart', touchHandler);\n            (_c = untrackMouseMoveRef.current) === null || _c === void 0 ? void 0 : _c.call(untrackMouseMoveRef);\n            if (animationFrameRef.current !== undefined) {\n                window.cancelAnimationFrame(animationFrameRef.current);\n            }\n            document.body.style.overflow = '';\n            document.documentElement.style.overflow = '';\n        };\n    }, [data.draggableRef, data.isEnabled, handleMouseDown, handleTouchStart]);\n}\nexports.useDraggable = useDraggable;\nfunction isStateGetter(action) {\n    return typeof action === 'function';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy91c2VEcmFnZ2FibGUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CO0FBQ3BCLGdCQUFnQixtQkFBTyxDQUFDLDRDQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxZQUFZLHdGQUF3RjtBQUNySixTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxZQUFZLHFIQUFxSDtBQUM5TDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsZ0VBQWdFLGVBQWU7QUFDL0UsNERBQTRELGVBQWU7QUFDM0UsMERBQTBELDhCQUE4QjtBQUN4RjtBQUNBLHVFQUF1RSxlQUFlO0FBQ3RGLG1FQUFtRSxlQUFlO0FBQ2xGLGlFQUFpRSxlQUFlO0FBQ2hGO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELFlBQVksNEVBQTRFO0FBQ3pJLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxZQUFZLHFIQUFxSDtBQUM5TDtBQUNBLEtBQUs7QUFDTDtBQUNBLGdFQUFnRSwrQkFBK0I7QUFDL0YsOERBQThELGVBQWU7QUFDN0UsaUVBQWlFLGVBQWU7QUFDaEY7QUFDQSx1RUFBdUUsZUFBZTtBQUN0RixxRUFBcUUsZUFBZTtBQUNwRix3RUFBd0UsZUFBZTtBQUN2RjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy91c2VEcmFnZ2FibGUuanM/MmEyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudXNlRHJhZ2dhYmxlID0gdm9pZCAwO1xuY29uc3QgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbmNvbnN0IElOSVRJQUxfU1RBVEUgPSB7XG4gICAgZHJhZzogZmFsc2UsXG4gICAgc3RhcnRYOiAwLFxuICAgIHN0YXJ0WTogMCxcbiAgICBjdXJyZW50WDogMCxcbiAgICBjdXJyZW50WTogMCxcbiAgICBwaXZvdFg6IDAsXG4gICAgcGl2b3RZOiAwLFxuICAgIGxhc3RYOiAwLFxuICAgIGxhc3RZOiAwXG59O1xuZnVuY3Rpb24gdXNlRHJhZ2dhYmxlKGRhdGEsIGRyYWdIYW5kbGVyLCBwcmV2ZW50RHJhZ09uQ2hpbGRyZW4gPSBmYWxzZSkge1xuICAgIGNvbnN0IGRyYWdTdGF0ZVJlZiA9ICgwLCByZWFjdF8xLnVzZVJlZikoSU5JVElBTF9TVEFURSk7XG4gICAgY29uc3QgcHJldkRyYWdTdGF0ZVJlZiA9ICgwLCByZWFjdF8xLnVzZVJlZikoKTtcbiAgICBjb25zdCBkcmFnSGFuZGxlclJlZiA9ICgwLCByZWFjdF8xLnVzZVJlZikoKTtcbiAgICBjb25zdCB1bnRyYWNrTW91c2VNb3ZlUmVmID0gKDAsIHJlYWN0XzEudXNlUmVmKSgpO1xuICAgIGNvbnN0IGFuaW1hdGlvbkZyYW1lUmVmID0gKDAsIHJlYWN0XzEudXNlUmVmKSgpO1xuICAgIGRyYWdIYW5kbGVyUmVmLmN1cnJlbnQgPSBkcmFnSGFuZGxlcjtcbiAgICBjb25zdCBzZXREcmFnU3RhdGUgPSAoMCwgcmVhY3RfMS51c2VDYWxsYmFjaykoYWN0aW9uID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBpc1N0YXRlR2V0dGVyKGFjdGlvbilcbiAgICAgICAgICAgID8gYWN0aW9uKGRyYWdTdGF0ZVJlZi5jdXJyZW50KVxuICAgICAgICAgICAgOiBhY3Rpb247XG4gICAgICAgIGlmICghcHJldkRyYWdTdGF0ZVJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBwcmV2RHJhZ1N0YXRlUmVmLmN1cnJlbnQgPSBkcmFnU3RhdGVSZWYuY3VycmVudDtcbiAgICAgICAgfVxuICAgICAgICBkcmFnU3RhdGVSZWYuY3VycmVudCA9IHN0YXRlO1xuICAgICAgICBpZiAoYW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50ID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgKF9hID0gZHJhZ0hhbmRsZXJSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoZHJhZ0hhbmRsZXJSZWYsIGRyYWdTdGF0ZVJlZi5jdXJyZW50LCBwcmV2RHJhZ1N0YXRlUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgcHJldkRyYWdTdGF0ZVJlZi5jdXJyZW50ID0gZHJhZ1N0YXRlUmVmLmN1cnJlbnQ7XG4gICAgICAgIH0pO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBoYW5kbGVNb3VzZU1vdmUgPSAoMCwgcmVhY3RfMS51c2VDYWxsYmFjaykoZXZlbnQgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgY29uc3QgZWwgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIGlmICghKGVsIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzZXREcmFnU3RhdGUoc3RhdGUgPT4ge1xuICAgICAgICAgICAgaWYgKCFzdGF0ZS5kcmFnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xpZW50UmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGRyYWc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WDogZXZlbnQuY2xpZW50WCxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRZOiBldmVudC5jbGllbnRZLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50WDogZXZlbnQuY2xpZW50WCxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFk6IGV2ZW50LmNsaWVudFksXG4gICAgICAgICAgICAgICAgICAgIHBpdm90WDogZXZlbnQuY2xpZW50WCAtIGNsaWVudFJlY3QueCxcbiAgICAgICAgICAgICAgICAgICAgcGl2b3RZOiBldmVudC5jbGllbnRZIC0gY2xpZW50UmVjdC55LFxuICAgICAgICAgICAgICAgICAgICBsYXN0WDogc3RhdGUubGFzdFgsXG4gICAgICAgICAgICAgICAgICAgIGxhc3RZOiBzdGF0ZS5sYXN0WVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSksIHsgY3VycmVudFg6IHN0YXRlLmN1cnJlbnRYICsgZXZlbnQubW92ZW1lbnRYLCBjdXJyZW50WTogc3RhdGUuY3VycmVudFkgKyBldmVudC5tb3ZlbWVudFkgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtzZXREcmFnU3RhdGUsIGRhdGEuZHJhZ2dhYmxlUmVmLCBwcmV2ZW50RHJhZ09uQ2hpbGRyZW5dKTtcbiAgICBjb25zdCBoYW5kbGVNb3VzZVVwID0gKDAsIHJlYWN0XzEudXNlQ2FsbGJhY2spKGV2ZW50ID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgc2V0RHJhZ1N0YXRlKHN0YXRlID0+IChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwgeyBkcmFnOiBmYWxzZSwgbGFzdFg6IHN0YXRlLmN1cnJlbnRYIC0gc3RhdGUuc3RhcnRYICsgc3RhdGUubGFzdFgsIGxhc3RZOiBzdGF0ZS5jdXJyZW50WSAtIHN0YXRlLnN0YXJ0WSArIHN0YXRlLmxhc3RZIH0pKSk7XG4gICAgICAgIChfYSA9IHVudHJhY2tNb3VzZU1vdmVSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodW50cmFja01vdXNlTW92ZVJlZik7XG4gICAgfSwgW3NldERyYWdTdGF0ZV0pO1xuICAgIGNvbnN0IGhhbmRsZVNjcm9sbCA9ICgwLCByZWFjdF8xLnVzZUNhbGxiYWNrKSgoKSA9PiB7XG4gICAgICAgIHNldERyYWdTdGF0ZShzdGF0ZSA9PiBzdGF0ZSk7XG4gICAgfSwgW3NldERyYWdTdGF0ZV0pO1xuICAgIGNvbnN0IHRyYWNrTW91c2VNb3ZlID0gKDAsIHJlYWN0XzEudXNlQ2FsbGJhY2spKCgpID0+IHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZU1vdXNlTW92ZSwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGhhbmRsZU1vdXNlVXAsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbCwgeyBjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZU1vdXNlTW92ZSwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVNb3VzZVVwLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlU2Nyb2xsLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICAgIH07XG4gICAgfSwgW2hhbmRsZU1vdXNlTW92ZSwgaGFuZGxlTW91c2VVcCwgaGFuZGxlU2Nyb2xsXSk7XG4gICAgY29uc3QgaGFuZGxlTW91c2VEb3duID0gKDAsIHJlYWN0XzEudXNlQ2FsbGJhY2spKGV2ZW50ID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKHByZXZlbnREcmFnT25DaGlsZHJlbiAmJiBldmVudC50YXJnZXQgaW5zdGFuY2VvZiBOb2RlICYmIGRhdGEuZHJhZ2dhYmxlUmVmIGluc3RhbmNlb2YgTm9kZSkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCAhPT0gZGF0YS5kcmFnZ2FibGVSZWYgJiYgZGF0YS5kcmFnZ2FibGVSZWYuY29udGFpbnMoZXZlbnQudGFyZ2V0KSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50LmJ1dHRvbiAhPT0gMClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgKF9hID0gdW50cmFja01vdXNlTW92ZVJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh1bnRyYWNrTW91c2VNb3ZlUmVmKTtcbiAgICAgICAgdW50cmFja01vdXNlTW92ZVJlZi5jdXJyZW50ID0gdHJhY2tNb3VzZU1vdmUoKTtcbiAgICB9LCBbdHJhY2tNb3VzZU1vdmVdKTtcbiAgICBjb25zdCBoYW5kbGVUb3VjaE1vdmUgPSAoMCwgcmVhY3RfMS51c2VDYWxsYmFjaykoZXZlbnQgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgdG91Y2ggPSBldmVudC50b3VjaGVzWzBdO1xuICAgICAgICBjb25zdCBlbCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgaWYgKCEoZWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNldERyYWdTdGF0ZShzdGF0ZSA9PiB7XG4gICAgICAgICAgICBpZiAoIXN0YXRlLmRyYWcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRSZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRYOiB0b3VjaC5jbGllbnRYLFxuICAgICAgICAgICAgICAgICAgICBzdGFydFk6IHRvdWNoLmNsaWVudFksXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRYOiB0b3VjaC5jbGllbnRYLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50WTogdG91Y2guY2xpZW50WSxcbiAgICAgICAgICAgICAgICAgICAgcGl2b3RYOiB0b3VjaC5jbGllbnRYIC0gY2xpZW50UmVjdC54LFxuICAgICAgICAgICAgICAgICAgICBwaXZvdFk6IHRvdWNoLmNsaWVudFkgLSBjbGllbnRSZWN0LnksXG4gICAgICAgICAgICAgICAgICAgIGxhc3RYOiBzdGF0ZS5sYXN0WCxcbiAgICAgICAgICAgICAgICAgICAgbGFzdFk6IHN0YXRlLmxhc3RZXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1vdmVtZW50WCA9IHRvdWNoLmNsaWVudFggLSBzdGF0ZS5jdXJyZW50WDtcbiAgICAgICAgICAgIGNvbnN0IG1vdmVtZW50WSA9IHRvdWNoLmNsaWVudFkgLSBzdGF0ZS5jdXJyZW50WTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwgeyBjdXJyZW50WDogc3RhdGUuY3VycmVudFggKyBtb3ZlbWVudFgsIGN1cnJlbnRZOiBzdGF0ZS5jdXJyZW50WSArIG1vdmVtZW50WSB9KTtcbiAgICAgICAgfSk7XG4gICAgfSwgW3NldERyYWdTdGF0ZV0pO1xuICAgIGNvbnN0IGhhbmRsZVRvdWNoRW5kID0gKDAsIHJlYWN0XzEudXNlQ2FsbGJhY2spKGV2ZW50ID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICcnO1xuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICAgICAgc2V0RHJhZ1N0YXRlKHN0YXRlID0+IChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwgeyBkcmFnOiBmYWxzZSwgbGFzdFg6IHN0YXRlLmN1cnJlbnRYIC0gc3RhdGUuc3RhcnRYICsgc3RhdGUubGFzdFgsIGxhc3RZOiBzdGF0ZS5jdXJyZW50WSAtIHN0YXRlLnN0YXJ0WSArIHN0YXRlLmxhc3RZIH0pKSk7XG4gICAgICAgIChfYSA9IHVudHJhY2tNb3VzZU1vdmVSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodW50cmFja01vdXNlTW92ZVJlZik7XG4gICAgfSwgW3NldERyYWdTdGF0ZV0pO1xuICAgIGNvbnN0IHRyYWNrVG91Y2hNb3ZlID0gKDAsIHJlYWN0XzEudXNlQ2FsbGJhY2spKCgpID0+IHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGhhbmRsZVRvdWNoTW92ZSwgeyBjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgaGFuZGxlVG91Y2hFbmQsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgaGFuZGxlVG91Y2hFbmQsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBoYW5kbGVUb3VjaE1vdmUsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGhhbmRsZVRvdWNoRW5kLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCBoYW5kbGVUb3VjaEVuZCwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgICAgICB9O1xuICAgIH0sIFtoYW5kbGVUb3VjaE1vdmUsIGhhbmRsZVRvdWNoRW5kXSk7XG4gICAgY29uc3QgaGFuZGxlVG91Y2hTdGFydCA9ICgwLCByZWFjdF8xLnVzZUNhbGxiYWNrKShldmVudCA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmIChwcmV2ZW50RHJhZ09uQ2hpbGRyZW4gJiYgZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgTm9kZSAmJiBkYXRhLmRyYWdnYWJsZVJlZiBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQgIT09IGRhdGEuZHJhZ2dhYmxlUmVmICYmIGRhdGEuZHJhZ2dhYmxlUmVmLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IGRvY3VtZW50LmdldFNlbGVjdGlvbigpO1xuICAgICAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgKF9hID0gdW50cmFja01vdXNlTW92ZVJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh1bnRyYWNrTW91c2VNb3ZlUmVmKTtcbiAgICAgICAgdW50cmFja01vdXNlTW92ZVJlZi5jdXJyZW50ID0gdHJhY2tUb3VjaE1vdmUoKTtcbiAgICB9LCBbdHJhY2tUb3VjaE1vdmVdKTtcbiAgICAoMCwgcmVhY3RfMS51c2VFZmZlY3QpKCgpID0+IHtcbiAgICAgICAgaWYgKCFkYXRhLmRyYWdnYWJsZVJlZiB8fCAhZGF0YS5pc0VuYWJsZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IG1vdXNlSGFuZGxlciA9IGhhbmRsZU1vdXNlRG93bjtcbiAgICAgICAgY29uc3QgdG91Y2hIYW5kbGVyID0gaGFuZGxlVG91Y2hTdGFydDtcbiAgICAgICAgZGF0YS5kcmFnZ2FibGVSZWYuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgbW91c2VIYW5kbGVyKTtcbiAgICAgICAgZGF0YS5kcmFnZ2FibGVSZWYuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRvdWNoSGFuZGxlcik7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgIChfYSA9IGRhdGEuZHJhZ2dhYmxlUmVmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgbW91c2VIYW5kbGVyKTtcbiAgICAgICAgICAgIChfYiA9IGRhdGEuZHJhZ2dhYmxlUmVmKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRvdWNoSGFuZGxlcik7XG4gICAgICAgICAgICAoX2MgPSB1bnRyYWNrTW91c2VNb3ZlUmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKHVudHJhY2tNb3VzZU1vdmVSZWYpO1xuICAgICAgICAgICAgaWYgKGFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9ICcnO1xuICAgICAgICB9O1xuICAgIH0sIFtkYXRhLmRyYWdnYWJsZVJlZiwgZGF0YS5pc0VuYWJsZWQsIGhhbmRsZU1vdXNlRG93biwgaGFuZGxlVG91Y2hTdGFydF0pO1xufVxuZXhwb3J0cy51c2VEcmFnZ2FibGUgPSB1c2VEcmFnZ2FibGU7XG5mdW5jdGlvbiBpc1N0YXRlR2V0dGVyKGFjdGlvbikge1xuICAgIHJldHVybiB0eXBlb2YgYWN0aW9uID09PSAnZnVuY3Rpb24nO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useDraggable.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemAngle.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemAngle.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useItemAngle = void 0;\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst useKeyframeValue_1 = __webpack_require__(/*! ../../common/useKeyframeValue */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useKeyframeValue.js\");\nconst useItemAngle = (item, sectionId) => {\n    const angle = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.Rotation, (item, layoutId) => layoutId ? item.area[layoutId].angle : undefined, (animator, scroll, value) => value !== undefined ? animator.getRotation({ angle: value }, scroll).angle : undefined, sectionId);\n    return angle;\n};\nexports.useItemAngle = useItemAngle;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy91c2VJdGVtQW5nbGUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CO0FBQ3BCLGNBQWMsbUJBQU8sQ0FBQyxxRUFBaUI7QUFDdkMsMkJBQTJCLG1CQUFPLENBQUMsMkdBQStCO0FBQ2xFO0FBQ0EsOE9BQThPLGNBQWM7QUFDNVA7QUFDQTtBQUNBLG9CQUFvQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy91c2VJdGVtQW5nbGUuanM/ZTkzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudXNlSXRlbUFuZ2xlID0gdm9pZCAwO1xuY29uc3Qgc2RrXzEgPSByZXF1aXJlKFwiQGNudHJsLXNpdGUvc2RrXCIpO1xuY29uc3QgdXNlS2V5ZnJhbWVWYWx1ZV8xID0gcmVxdWlyZShcIi4uLy4uL2NvbW1vbi91c2VLZXlmcmFtZVZhbHVlXCIpO1xuY29uc3QgdXNlSXRlbUFuZ2xlID0gKGl0ZW0sIHNlY3Rpb25JZCkgPT4ge1xuICAgIGNvbnN0IGFuZ2xlID0gKDAsIHVzZUtleWZyYW1lVmFsdWVfMS51c2VLZXlmcmFtZVZhbHVlKShpdGVtLCBzZGtfMS5LZXlmcmFtZVR5cGUuUm90YXRpb24sIChpdGVtLCBsYXlvdXRJZCkgPT4gbGF5b3V0SWQgPyBpdGVtLmFyZWFbbGF5b3V0SWRdLmFuZ2xlIDogdW5kZWZpbmVkLCAoYW5pbWF0b3IsIHNjcm9sbCwgdmFsdWUpID0+IHZhbHVlICE9PSB1bmRlZmluZWQgPyBhbmltYXRvci5nZXRSb3RhdGlvbih7IGFuZ2xlOiB2YWx1ZSB9LCBzY3JvbGwpLmFuZ2xlIDogdW5kZWZpbmVkLCBzZWN0aW9uSWQpO1xuICAgIHJldHVybiBhbmdsZTtcbn07XG5leHBvcnRzLnVzZUl0ZW1BbmdsZSA9IHVzZUl0ZW1BbmdsZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemAngle.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemArea.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemArea.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useItemArea = void 0;\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst useLayoutContext_1 = __webpack_require__(/*! ../useLayoutContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/useLayoutContext.js\");\nconst useKeyframeValue_1 = __webpack_require__(/*! ../../common/useKeyframeValue */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useKeyframeValue.js\");\nfunction useItemArea(item, sectionId, stateValues) {\n    var _a, _b, _c, _d;\n    const layoutId = (0, useLayoutContext_1.useLayoutContext)();\n    const position = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.Position, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        return item.area[layoutId];\n    }, (animator, scroll, value) => value ? animator.getPositions(value, scroll) : undefined, sectionId, [layoutId]);\n    const dimensions = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.Dimensions, (item, layoutId) => layoutId ? item.area[layoutId] : undefined, (animator, scroll, value) => value ? animator.getDimensions(value, scroll) : undefined, sectionId, [layoutId]);\n    const width = ((_a = stateValues.width) !== null && _a !== void 0 ? _a : dimensions === null || dimensions === void 0 ? void 0 : dimensions.width);\n    const height = ((_b = stateValues.height) !== null && _b !== void 0 ? _b : dimensions === null || dimensions === void 0 ? void 0 : dimensions.height);\n    const top = ((_c = stateValues.top) !== null && _c !== void 0 ? _c : position === null || position === void 0 ? void 0 : position.top);\n    const left = ((_d = stateValues.left) !== null && _d !== void 0 ? _d : position === null || position === void 0 ? void 0 : position.left);\n    return { width, height, top, left };\n}\nexports.useItemArea = useItemArea;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy91c2VJdGVtQXJlYS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUI7QUFDbkIsY0FBYyxtQkFBTyxDQUFDLHFFQUFpQjtBQUN2QywyQkFBMkIsbUJBQU8sQ0FBQyxxR0FBcUI7QUFDeEQsMkJBQTJCLG1CQUFPLENBQUMsMkdBQStCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxtQkFBbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay1uZXh0anMvbGliL2NvbXBvbmVudHMvaXRlbXMvdXNlSXRlbUFyZWEuanM/NGUzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudXNlSXRlbUFyZWEgPSB2b2lkIDA7XG5jb25zdCBzZGtfMSA9IHJlcXVpcmUoXCJAY250cmwtc2l0ZS9zZGtcIik7XG5jb25zdCB1c2VMYXlvdXRDb250ZXh0XzEgPSByZXF1aXJlKFwiLi4vdXNlTGF5b3V0Q29udGV4dFwiKTtcbmNvbnN0IHVzZUtleWZyYW1lVmFsdWVfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21tb24vdXNlS2V5ZnJhbWVWYWx1ZVwiKTtcbmZ1bmN0aW9uIHVzZUl0ZW1BcmVhKGl0ZW0sIHNlY3Rpb25JZCwgc3RhdGVWYWx1ZXMpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgY29uc3QgbGF5b3V0SWQgPSAoMCwgdXNlTGF5b3V0Q29udGV4dF8xLnVzZUxheW91dENvbnRleHQpKCk7XG4gICAgY29uc3QgcG9zaXRpb24gPSAoMCwgdXNlS2V5ZnJhbWVWYWx1ZV8xLnVzZUtleWZyYW1lVmFsdWUpKGl0ZW0sIHNka18xLktleWZyYW1lVHlwZS5Qb3NpdGlvbiwgKGl0ZW0sIGxheW91dElkKSA9PiB7XG4gICAgICAgIGlmICghbGF5b3V0SWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHJldHVybiBpdGVtLmFyZWFbbGF5b3V0SWRdO1xuICAgIH0sIChhbmltYXRvciwgc2Nyb2xsLCB2YWx1ZSkgPT4gdmFsdWUgPyBhbmltYXRvci5nZXRQb3NpdGlvbnModmFsdWUsIHNjcm9sbCkgOiB1bmRlZmluZWQsIHNlY3Rpb25JZCwgW2xheW91dElkXSk7XG4gICAgY29uc3QgZGltZW5zaW9ucyA9ICgwLCB1c2VLZXlmcmFtZVZhbHVlXzEudXNlS2V5ZnJhbWVWYWx1ZSkoaXRlbSwgc2RrXzEuS2V5ZnJhbWVUeXBlLkRpbWVuc2lvbnMsIChpdGVtLCBsYXlvdXRJZCkgPT4gbGF5b3V0SWQgPyBpdGVtLmFyZWFbbGF5b3V0SWRdIDogdW5kZWZpbmVkLCAoYW5pbWF0b3IsIHNjcm9sbCwgdmFsdWUpID0+IHZhbHVlID8gYW5pbWF0b3IuZ2V0RGltZW5zaW9ucyh2YWx1ZSwgc2Nyb2xsKSA6IHVuZGVmaW5lZCwgc2VjdGlvbklkLCBbbGF5b3V0SWRdKTtcbiAgICBjb25zdCB3aWR0aCA9ICgoX2EgPSBzdGF0ZVZhbHVlcy53aWR0aCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGltZW5zaW9ucyA9PT0gbnVsbCB8fCBkaW1lbnNpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkaW1lbnNpb25zLndpZHRoKTtcbiAgICBjb25zdCBoZWlnaHQgPSAoKF9iID0gc3RhdGVWYWx1ZXMuaGVpZ2h0KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBkaW1lbnNpb25zID09PSBudWxsIHx8IGRpbWVuc2lvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRpbWVuc2lvbnMuaGVpZ2h0KTtcbiAgICBjb25zdCB0b3AgPSAoKF9jID0gc3RhdGVWYWx1ZXMudG9wKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBwb3NpdGlvbiA9PT0gbnVsbCB8fCBwb3NpdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogcG9zaXRpb24udG9wKTtcbiAgICBjb25zdCBsZWZ0ID0gKChfZCA9IHN0YXRlVmFsdWVzLmxlZnQpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IHBvc2l0aW9uID09PSBudWxsIHx8IHBvc2l0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwb3NpdGlvbi5sZWZ0KTtcbiAgICByZXR1cm4geyB3aWR0aCwgaGVpZ2h0LCB0b3AsIGxlZnQgfTtcbn1cbmV4cG9ydHMudXNlSXRlbUFyZWEgPSB1c2VJdGVtQXJlYTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemArea.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemPointerEvents.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemPointerEvents.js ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useItemPointerEvents = void 0;\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nfunction useItemPointerEvents(pointerEvents, isParentVisible) {\n    const getAllowPointerEvents = () => {\n        switch (pointerEvents) {\n            case 'never':\n                return false;\n            case 'when_visible':\n                return isParentVisible;\n            case 'always':\n                return true;\n        }\n    };\n    const [allowPointerEvents, setAllowPointerEvents] = (0, react_1.useState)(getAllowPointerEvents());\n    const handleVisibilityChange = (0, react_1.useCallback)((isVisible) => {\n        if (!isParentVisible || pointerEvents !== 'when_visible')\n            return;\n        setAllowPointerEvents(isVisible);\n    }, [isParentVisible, pointerEvents]);\n    return { allowPointerEvents, handleVisibilityChange };\n}\nexports.useItemPointerEvents = useItemPointerEvents;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy91c2VJdGVtUG9pbnRlckV2ZW50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw0QkFBNEI7QUFDNUIsZ0JBQWdCLG1CQUFPLENBQUMsNENBQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYTtBQUNiO0FBQ0EsNEJBQTRCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9jb21wb25lbnRzL2l0ZW1zL3VzZUl0ZW1Qb2ludGVyRXZlbnRzLmpzPzM0YzEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnVzZUl0ZW1Qb2ludGVyRXZlbnRzID0gdm9pZCAwO1xuY29uc3QgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbmZ1bmN0aW9uIHVzZUl0ZW1Qb2ludGVyRXZlbnRzKHBvaW50ZXJFdmVudHMsIGlzUGFyZW50VmlzaWJsZSkge1xuICAgIGNvbnN0IGdldEFsbG93UG9pbnRlckV2ZW50cyA9ICgpID0+IHtcbiAgICAgICAgc3dpdGNoIChwb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICBjYXNlICduZXZlcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY2FzZSAnd2hlbl92aXNpYmxlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNQYXJlbnRWaXNpYmxlO1xuICAgICAgICAgICAgY2FzZSAnYWx3YXlzJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgW2FsbG93UG9pbnRlckV2ZW50cywgc2V0QWxsb3dQb2ludGVyRXZlbnRzXSA9ICgwLCByZWFjdF8xLnVzZVN0YXRlKShnZXRBbGxvd1BvaW50ZXJFdmVudHMoKSk7XG4gICAgY29uc3QgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSA9ICgwLCByZWFjdF8xLnVzZUNhbGxiYWNrKSgoaXNWaXNpYmxlKSA9PiB7XG4gICAgICAgIGlmICghaXNQYXJlbnRWaXNpYmxlIHx8IHBvaW50ZXJFdmVudHMgIT09ICd3aGVuX3Zpc2libGUnKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzZXRBbGxvd1BvaW50ZXJFdmVudHMoaXNWaXNpYmxlKTtcbiAgICB9LCBbaXNQYXJlbnRWaXNpYmxlLCBwb2ludGVyRXZlbnRzXSk7XG4gICAgcmV0dXJuIHsgYWxsb3dQb2ludGVyRXZlbnRzLCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlIH07XG59XG5leHBvcnRzLnVzZUl0ZW1Qb2ludGVyRXZlbnRzID0gdXNlSXRlbVBvaW50ZXJFdmVudHM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemPointerEvents.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemScale.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemScale.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useItemScale = void 0;\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst useKeyframeValue_1 = __webpack_require__(/*! ../../common/useKeyframeValue */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useKeyframeValue.js\");\nconst useLayoutContext_1 = __webpack_require__(/*! ../useLayoutContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/useLayoutContext.js\");\nconst useItemScale = (item, sectionId) => {\n    const layoutId = (0, useLayoutContext_1.useLayoutContext)();\n    const scale = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.Scale, (item, layoutId) => (layoutId ? item.area[layoutId].scale : undefined), (animator, scroll, value) => value !== undefined ? animator.getScale({ scale: value }, scroll).scale : undefined, sectionId, [layoutId]);\n    return scale;\n};\nexports.useItemScale = useItemScale;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy91c2VJdGVtU2NhbGUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CO0FBQ3BCLGNBQWMsbUJBQU8sQ0FBQyxxRUFBaUI7QUFDdkMsMkJBQTJCLG1CQUFPLENBQUMsMkdBQStCO0FBQ2xFLDJCQUEyQixtQkFBTyxDQUFDLHFHQUFxQjtBQUN4RDtBQUNBO0FBQ0EsME9BQTBPLGNBQWM7QUFDeFA7QUFDQTtBQUNBLG9CQUFvQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy91c2VJdGVtU2NhbGUuanM/ZDg5OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudXNlSXRlbVNjYWxlID0gdm9pZCAwO1xuY29uc3Qgc2RrXzEgPSByZXF1aXJlKFwiQGNudHJsLXNpdGUvc2RrXCIpO1xuY29uc3QgdXNlS2V5ZnJhbWVWYWx1ZV8xID0gcmVxdWlyZShcIi4uLy4uL2NvbW1vbi91c2VLZXlmcmFtZVZhbHVlXCIpO1xuY29uc3QgdXNlTGF5b3V0Q29udGV4dF8xID0gcmVxdWlyZShcIi4uL3VzZUxheW91dENvbnRleHRcIik7XG5jb25zdCB1c2VJdGVtU2NhbGUgPSAoaXRlbSwgc2VjdGlvbklkKSA9PiB7XG4gICAgY29uc3QgbGF5b3V0SWQgPSAoMCwgdXNlTGF5b3V0Q29udGV4dF8xLnVzZUxheW91dENvbnRleHQpKCk7XG4gICAgY29uc3Qgc2NhbGUgPSAoMCwgdXNlS2V5ZnJhbWVWYWx1ZV8xLnVzZUtleWZyYW1lVmFsdWUpKGl0ZW0sIHNka18xLktleWZyYW1lVHlwZS5TY2FsZSwgKGl0ZW0sIGxheW91dElkKSA9PiAobGF5b3V0SWQgPyBpdGVtLmFyZWFbbGF5b3V0SWRdLnNjYWxlIDogdW5kZWZpbmVkKSwgKGFuaW1hdG9yLCBzY3JvbGwsIHZhbHVlKSA9PiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gYW5pbWF0b3IuZ2V0U2NhbGUoeyBzY2FsZTogdmFsdWUgfSwgc2Nyb2xsKS5zY2FsZSA6IHVuZGVmaW5lZCwgc2VjdGlvbklkLCBbbGF5b3V0SWRdKTtcbiAgICByZXR1cm4gc2NhbGU7XG59O1xuZXhwb3J0cy51c2VJdGVtU2NhbGUgPSB1c2VJdGVtU2NhbGU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemScale.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemTriggers.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemTriggers.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useItemTriggers = void 0;\nfunction useItemTriggers(interactionCtrl) {\n    return {\n        onClick: () => {\n            interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.sendTrigger('click');\n        },\n        onMouseEnter: () => {\n            interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.sendTrigger('hover-in');\n        },\n        onMouseLeave: () => {\n            interactionCtrl === null || interactionCtrl === void 0 ? void 0 : interactionCtrl.sendTrigger('hover-out');\n        }\n    };\n}\nexports.useItemTriggers = useItemTriggers;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy91c2VJdGVtVHJpZ2dlcnMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy91c2VJdGVtVHJpZ2dlcnMuanM/YmEwMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudXNlSXRlbVRyaWdnZXJzID0gdm9pZCAwO1xuZnVuY3Rpb24gdXNlSXRlbVRyaWdnZXJzKGludGVyYWN0aW9uQ3RybCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uQ3RybCA9PT0gbnVsbCB8fCBpbnRlcmFjdGlvbkN0cmwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyYWN0aW9uQ3RybC5zZW5kVHJpZ2dlcignY2xpY2snKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Nb3VzZUVudGVyOiAoKSA9PiB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkN0cmwgPT09IG51bGwgfHwgaW50ZXJhY3Rpb25DdHJsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlcmFjdGlvbkN0cmwuc2VuZFRyaWdnZXIoJ2hvdmVyLWluJyk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uTW91c2VMZWF2ZTogKCkgPT4ge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25DdHJsID09PSBudWxsIHx8IGludGVyYWN0aW9uQ3RybCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW50ZXJhY3Rpb25DdHJsLnNlbmRUcmlnZ2VyKCdob3Zlci1vdXQnKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5leHBvcnRzLnVzZUl0ZW1UcmlnZ2VycyA9IHVzZUl0ZW1UcmlnZ2VycztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useItemTriggers.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useRichTextItemValues.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useRichTextItemValues.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useRichTextItemValues = void 0;\nconst useKeyframeValue_1 = __webpack_require__(/*! ../../common/useKeyframeValue */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useKeyframeValue.js\");\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst useLayoutContext_1 = __webpack_require__(/*! ../useLayoutContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/useLayoutContext.js\");\nconst DEFAULT_COLOR = 'rgba(0, 0, 0, 1)';\nconst useRichTextItemValues = (item, sectionId) => {\n    const layoutId = (0, useLayoutContext_1.useLayoutContext)();\n    const blur = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.Blur, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'blur' in layoutParams ? layoutParams.blur : 0;\n    }, (animator, scroll, value) => value !== undefined ? animator.getBlur({ blur: value }, scroll).blur : undefined, sectionId, [layoutId]);\n    const letterSpacing = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.LetterSpacing, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'letterSpacing' in layoutParams ? layoutParams.letterSpacing : 0;\n    }, (animator, scroll, value) => value !== undefined ? animator.getLetterSpacing({ letterSpacing: value }, scroll).letterSpacing : undefined, sectionId, [layoutId]);\n    const wordSpacing = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.WordSpacing, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'wordSpacing' in layoutParams ? layoutParams.wordSpacing : 0;\n    }, (animator, scroll, value) => value !== undefined ? animator.getWordSpacing({ wordSpacing: value }, scroll).wordSpacing : undefined, sectionId, [layoutId]);\n    const color = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.TextColor, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        const layoutParams = item.layoutParams[layoutId];\n        return 'color' in layoutParams ? layoutParams.color : DEFAULT_COLOR;\n    }, (animator, scroll, value) => value ? animator.getTextColor({ color: value }, scroll).color : undefined, sectionId, [layoutId]);\n    const fontSize = layoutId ? item.layoutParams[layoutId].fontSize : undefined;\n    const lineHeight = layoutId ? item.layoutParams[layoutId].lineHeight : undefined;\n    return { blur, letterSpacing, wordSpacing, color, fontSize, lineHeight };\n};\nexports.useRichTextItemValues = useRichTextItemValues;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy91c2VSaWNoVGV4dEl0ZW1WYWx1ZXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsNkJBQTZCO0FBQzdCLDJCQUEyQixtQkFBTyxDQUFDLDJHQUErQjtBQUNsRSxjQUFjLG1CQUFPLENBQUMscUVBQWlCO0FBQ3ZDLDJCQUEyQixtQkFBTyxDQUFDLHFHQUFxQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyx3RUFBd0UsYUFBYTtBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxpRkFBaUYsc0JBQXNCO0FBQzVHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLCtFQUErRSxvQkFBb0I7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssK0RBQStELGNBQWM7QUFDbEY7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLDZCQUE2QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy91c2VSaWNoVGV4dEl0ZW1WYWx1ZXMuanM/NDkyMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudXNlUmljaFRleHRJdGVtVmFsdWVzID0gdm9pZCAwO1xuY29uc3QgdXNlS2V5ZnJhbWVWYWx1ZV8xID0gcmVxdWlyZShcIi4uLy4uL2NvbW1vbi91c2VLZXlmcmFtZVZhbHVlXCIpO1xuY29uc3Qgc2RrXzEgPSByZXF1aXJlKFwiQGNudHJsLXNpdGUvc2RrXCIpO1xuY29uc3QgdXNlTGF5b3V0Q29udGV4dF8xID0gcmVxdWlyZShcIi4uL3VzZUxheW91dENvbnRleHRcIik7XG5jb25zdCBERUZBVUxUX0NPTE9SID0gJ3JnYmEoMCwgMCwgMCwgMSknO1xuY29uc3QgdXNlUmljaFRleHRJdGVtVmFsdWVzID0gKGl0ZW0sIHNlY3Rpb25JZCkgPT4ge1xuICAgIGNvbnN0IGxheW91dElkID0gKDAsIHVzZUxheW91dENvbnRleHRfMS51c2VMYXlvdXRDb250ZXh0KSgpO1xuICAgIGNvbnN0IGJsdXIgPSAoMCwgdXNlS2V5ZnJhbWVWYWx1ZV8xLnVzZUtleWZyYW1lVmFsdWUpKGl0ZW0sIHNka18xLktleWZyYW1lVHlwZS5CbHVyLCAoaXRlbSwgbGF5b3V0SWQpID0+IHtcbiAgICAgICAgaWYgKCFsYXlvdXRJZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgbGF5b3V0UGFyYW1zID0gaXRlbS5sYXlvdXRQYXJhbXNbbGF5b3V0SWRdO1xuICAgICAgICByZXR1cm4gJ2JsdXInIGluIGxheW91dFBhcmFtcyA/IGxheW91dFBhcmFtcy5ibHVyIDogMDtcbiAgICB9LCAoYW5pbWF0b3IsIHNjcm9sbCwgdmFsdWUpID0+IHZhbHVlICE9PSB1bmRlZmluZWQgPyBhbmltYXRvci5nZXRCbHVyKHsgYmx1cjogdmFsdWUgfSwgc2Nyb2xsKS5ibHVyIDogdW5kZWZpbmVkLCBzZWN0aW9uSWQsIFtsYXlvdXRJZF0pO1xuICAgIGNvbnN0IGxldHRlclNwYWNpbmcgPSAoMCwgdXNlS2V5ZnJhbWVWYWx1ZV8xLnVzZUtleWZyYW1lVmFsdWUpKGl0ZW0sIHNka18xLktleWZyYW1lVHlwZS5MZXR0ZXJTcGFjaW5nLCAoaXRlbSwgbGF5b3V0SWQpID0+IHtcbiAgICAgICAgaWYgKCFsYXlvdXRJZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgbGF5b3V0UGFyYW1zID0gaXRlbS5sYXlvdXRQYXJhbXNbbGF5b3V0SWRdO1xuICAgICAgICByZXR1cm4gJ2xldHRlclNwYWNpbmcnIGluIGxheW91dFBhcmFtcyA/IGxheW91dFBhcmFtcy5sZXR0ZXJTcGFjaW5nIDogMDtcbiAgICB9LCAoYW5pbWF0b3IsIHNjcm9sbCwgdmFsdWUpID0+IHZhbHVlICE9PSB1bmRlZmluZWQgPyBhbmltYXRvci5nZXRMZXR0ZXJTcGFjaW5nKHsgbGV0dGVyU3BhY2luZzogdmFsdWUgfSwgc2Nyb2xsKS5sZXR0ZXJTcGFjaW5nIDogdW5kZWZpbmVkLCBzZWN0aW9uSWQsIFtsYXlvdXRJZF0pO1xuICAgIGNvbnN0IHdvcmRTcGFjaW5nID0gKDAsIHVzZUtleWZyYW1lVmFsdWVfMS51c2VLZXlmcmFtZVZhbHVlKShpdGVtLCBzZGtfMS5LZXlmcmFtZVR5cGUuV29yZFNwYWNpbmcsIChpdGVtLCBsYXlvdXRJZCkgPT4ge1xuICAgICAgICBpZiAoIWxheW91dElkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBsYXlvdXRQYXJhbXMgPSBpdGVtLmxheW91dFBhcmFtc1tsYXlvdXRJZF07XG4gICAgICAgIHJldHVybiAnd29yZFNwYWNpbmcnIGluIGxheW91dFBhcmFtcyA/IGxheW91dFBhcmFtcy53b3JkU3BhY2luZyA6IDA7XG4gICAgfSwgKGFuaW1hdG9yLCBzY3JvbGwsIHZhbHVlKSA9PiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gYW5pbWF0b3IuZ2V0V29yZFNwYWNpbmcoeyB3b3JkU3BhY2luZzogdmFsdWUgfSwgc2Nyb2xsKS53b3JkU3BhY2luZyA6IHVuZGVmaW5lZCwgc2VjdGlvbklkLCBbbGF5b3V0SWRdKTtcbiAgICBjb25zdCBjb2xvciA9ICgwLCB1c2VLZXlmcmFtZVZhbHVlXzEudXNlS2V5ZnJhbWVWYWx1ZSkoaXRlbSwgc2RrXzEuS2V5ZnJhbWVUeXBlLlRleHRDb2xvciwgKGl0ZW0sIGxheW91dElkKSA9PiB7XG4gICAgICAgIGlmICghbGF5b3V0SWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGxheW91dFBhcmFtcyA9IGl0ZW0ubGF5b3V0UGFyYW1zW2xheW91dElkXTtcbiAgICAgICAgcmV0dXJuICdjb2xvcicgaW4gbGF5b3V0UGFyYW1zID8gbGF5b3V0UGFyYW1zLmNvbG9yIDogREVGQVVMVF9DT0xPUjtcbiAgICB9LCAoYW5pbWF0b3IsIHNjcm9sbCwgdmFsdWUpID0+IHZhbHVlID8gYW5pbWF0b3IuZ2V0VGV4dENvbG9yKHsgY29sb3I6IHZhbHVlIH0sIHNjcm9sbCkuY29sb3IgOiB1bmRlZmluZWQsIHNlY3Rpb25JZCwgW2xheW91dElkXSk7XG4gICAgY29uc3QgZm9udFNpemUgPSBsYXlvdXRJZCA/IGl0ZW0ubGF5b3V0UGFyYW1zW2xheW91dElkXS5mb250U2l6ZSA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBsaW5lSGVpZ2h0ID0gbGF5b3V0SWQgPyBpdGVtLmxheW91dFBhcmFtc1tsYXlvdXRJZF0ubGluZUhlaWdodCA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4geyBibHVyLCBsZXR0ZXJTcGFjaW5nLCB3b3JkU3BhY2luZywgY29sb3IsIGZvbnRTaXplLCBsaW5lSGVpZ2h0IH07XG59O1xuZXhwb3J0cy51c2VSaWNoVGV4dEl0ZW1WYWx1ZXMgPSB1c2VSaWNoVGV4dEl0ZW1WYWx1ZXM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useRichTextItemValues.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useSizing.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useSizing.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.parseSizing = exports.useSizing = void 0;\nconst isItemType_1 = __webpack_require__(/*! ../../utils/isItemType */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/isItemType.js\");\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst useLayoutContext_1 = __webpack_require__(/*! ../useLayoutContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/useLayoutContext.js\");\nfunction useSizing(item) {\n    const layout = (0, useLayoutContext_1.useLayoutContext)();\n    const sizing = layout && (0, isItemType_1.isItemType)(item, sdk_1.ArticleItemType.RichText)\n        ? item.layoutParams[layout].sizing\n        : undefined;\n    const sizingAxis = parseSizing(sizing);\n    return sizingAxis;\n}\nexports.useSizing = useSizing;\nfunction parseSizing(sizing = 'manual') {\n    const axisSizing = sizing.split(' ');\n    return {\n        y: axisSizing[0],\n        x: axisSizing[1] ? axisSizing[1] : axisSizing[0]\n    };\n}\nexports.parseSizing = parseSizing;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy91c2VTaXppbmcuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsbUJBQW1CLEdBQUcsaUJBQWlCO0FBQ3ZDLHFCQUFxQixtQkFBTyxDQUFDLDZGQUF3QjtBQUNyRCxjQUFjLG1CQUFPLENBQUMscUVBQWlCO0FBQ3ZDLDJCQUEyQixtQkFBTyxDQUFDLHFHQUFxQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9jb21wb25lbnRzL2l0ZW1zL3VzZVNpemluZy5qcz83NDA2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZVNpemluZyA9IGV4cG9ydHMudXNlU2l6aW5nID0gdm9pZCAwO1xuY29uc3QgaXNJdGVtVHlwZV8xID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2lzSXRlbVR5cGVcIik7XG5jb25zdCBzZGtfMSA9IHJlcXVpcmUoXCJAY250cmwtc2l0ZS9zZGtcIik7XG5jb25zdCB1c2VMYXlvdXRDb250ZXh0XzEgPSByZXF1aXJlKFwiLi4vdXNlTGF5b3V0Q29udGV4dFwiKTtcbmZ1bmN0aW9uIHVzZVNpemluZyhpdGVtKSB7XG4gICAgY29uc3QgbGF5b3V0ID0gKDAsIHVzZUxheW91dENvbnRleHRfMS51c2VMYXlvdXRDb250ZXh0KSgpO1xuICAgIGNvbnN0IHNpemluZyA9IGxheW91dCAmJiAoMCwgaXNJdGVtVHlwZV8xLmlzSXRlbVR5cGUpKGl0ZW0sIHNka18xLkFydGljbGVJdGVtVHlwZS5SaWNoVGV4dClcbiAgICAgICAgPyBpdGVtLmxheW91dFBhcmFtc1tsYXlvdXRdLnNpemluZ1xuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBzaXppbmdBeGlzID0gcGFyc2VTaXppbmcoc2l6aW5nKTtcbiAgICByZXR1cm4gc2l6aW5nQXhpcztcbn1cbmV4cG9ydHMudXNlU2l6aW5nID0gdXNlU2l6aW5nO1xuZnVuY3Rpb24gcGFyc2VTaXppbmcoc2l6aW5nID0gJ21hbnVhbCcpIHtcbiAgICBjb25zdCBheGlzU2l6aW5nID0gc2l6aW5nLnNwbGl0KCcgJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeTogYXhpc1NpemluZ1swXSxcbiAgICAgICAgeDogYXhpc1NpemluZ1sxXSA/IGF4aXNTaXppbmdbMV0gOiBheGlzU2l6aW5nWzBdXG4gICAgfTtcbn1cbmV4cG9ydHMucGFyc2VTaXppbmcgPSBwYXJzZVNpemluZztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useSizing.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useStickyItemTop.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useStickyItemTop.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useStickyItemTop = void 0;\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst useKeyframeValue_1 = __webpack_require__(/*! ../../common/useKeyframeValue */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useKeyframeValue.js\");\nconst useLayoutContext_1 = __webpack_require__(/*! ../useLayoutContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/useLayoutContext.js\");\nfunction useStickyItemTop(item, sectionId, stateTop) {\n    const layoutId = (0, useLayoutContext_1.useLayoutContext)();\n    const data = (0, useKeyframeValue_1.useKeyframeValue)(item, sdk_1.KeyframeType.Position, (item, layoutId) => {\n        if (!layoutId)\n            return;\n        return item.area[layoutId];\n    }, (animator, scroll, value) => value ? animator.getPositions(value, scroll) : undefined, sectionId, [layoutId]);\n    const top = data ? data.top : layoutId ? item.area[layoutId].top : 0;\n    const sticky = layoutId ? item.sticky[layoutId] : undefined;\n    return sticky ? (stateTop !== null && stateTop !== void 0 ? stateTop : top) - sticky.from : 0;\n}\nexports.useStickyItemTop = useStickyItemTop;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy9pdGVtcy91c2VTdGlja3lJdGVtVG9wLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHdCQUF3QjtBQUN4QixjQUFjLG1CQUFPLENBQUMscUVBQWlCO0FBQ3ZDLDJCQUEyQixtQkFBTyxDQUFDLDJHQUErQjtBQUNsRSwyQkFBMkIsbUJBQU8sQ0FBQyxxR0FBcUI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9jb21wb25lbnRzL2l0ZW1zL3VzZVN0aWNreUl0ZW1Ub3AuanM/MmI2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudXNlU3RpY2t5SXRlbVRvcCA9IHZvaWQgMDtcbmNvbnN0IHNka18xID0gcmVxdWlyZShcIkBjbnRybC1zaXRlL3Nka1wiKTtcbmNvbnN0IHVzZUtleWZyYW1lVmFsdWVfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21tb24vdXNlS2V5ZnJhbWVWYWx1ZVwiKTtcbmNvbnN0IHVzZUxheW91dENvbnRleHRfMSA9IHJlcXVpcmUoXCIuLi91c2VMYXlvdXRDb250ZXh0XCIpO1xuZnVuY3Rpb24gdXNlU3RpY2t5SXRlbVRvcChpdGVtLCBzZWN0aW9uSWQsIHN0YXRlVG9wKSB7XG4gICAgY29uc3QgbGF5b3V0SWQgPSAoMCwgdXNlTGF5b3V0Q29udGV4dF8xLnVzZUxheW91dENvbnRleHQpKCk7XG4gICAgY29uc3QgZGF0YSA9ICgwLCB1c2VLZXlmcmFtZVZhbHVlXzEudXNlS2V5ZnJhbWVWYWx1ZSkoaXRlbSwgc2RrXzEuS2V5ZnJhbWVUeXBlLlBvc2l0aW9uLCAoaXRlbSwgbGF5b3V0SWQpID0+IHtcbiAgICAgICAgaWYgKCFsYXlvdXRJZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcmV0dXJuIGl0ZW0uYXJlYVtsYXlvdXRJZF07XG4gICAgfSwgKGFuaW1hdG9yLCBzY3JvbGwsIHZhbHVlKSA9PiB2YWx1ZSA/IGFuaW1hdG9yLmdldFBvc2l0aW9ucyh2YWx1ZSwgc2Nyb2xsKSA6IHVuZGVmaW5lZCwgc2VjdGlvbklkLCBbbGF5b3V0SWRdKTtcbiAgICBjb25zdCB0b3AgPSBkYXRhID8gZGF0YS50b3AgOiBsYXlvdXRJZCA/IGl0ZW0uYXJlYVtsYXlvdXRJZF0udG9wIDogMDtcbiAgICBjb25zdCBzdGlja3kgPSBsYXlvdXRJZCA/IGl0ZW0uc3RpY2t5W2xheW91dElkXSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc3RpY2t5ID8gKHN0YXRlVG9wICE9PSBudWxsICYmIHN0YXRlVG9wICE9PSB2b2lkIDAgPyBzdGF0ZVRvcCA6IHRvcCkgLSBzdGlja3kuZnJvbSA6IDA7XG59XG5leHBvcnRzLnVzZVN0aWNreUl0ZW1Ub3AgPSB1c2VTdGlja3lJdGVtVG9wO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/useStickyItemTop.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/components/useLayoutContext.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/components/useLayoutContext.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useLayoutContext = void 0;\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst LayoutContext_1 = __webpack_require__(/*! ../provider/LayoutContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/LayoutContext.js\");\nfunction useLayoutContext() {\n    const layoutId = (0, react_1.useContext)(LayoutContext_1.LayoutContext);\n    return layoutId;\n}\nexports.useLayoutContext = useLayoutContext;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvY29tcG9uZW50cy91c2VMYXlvdXRDb250ZXh0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHdCQUF3QjtBQUN4QixnQkFBZ0IsbUJBQU8sQ0FBQyw0Q0FBTztBQUMvQix3QkFBd0IsbUJBQU8sQ0FBQyxzR0FBMkI7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay1uZXh0anMvbGliL2NvbXBvbmVudHMvdXNlTGF5b3V0Q29udGV4dC5qcz9jNWYyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy51c2VMYXlvdXRDb250ZXh0ID0gdm9pZCAwO1xuY29uc3QgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbmNvbnN0IExheW91dENvbnRleHRfMSA9IHJlcXVpcmUoXCIuLi9wcm92aWRlci9MYXlvdXRDb250ZXh0XCIpO1xuZnVuY3Rpb24gdXNlTGF5b3V0Q29udGV4dCgpIHtcbiAgICBjb25zdCBsYXlvdXRJZCA9ICgwLCByZWFjdF8xLnVzZUNvbnRleHQpKExheW91dENvbnRleHRfMS5MYXlvdXRDb250ZXh0KTtcbiAgICByZXR1cm4gbGF5b3V0SWQ7XG59XG5leHBvcnRzLnVzZUxheW91dENvbnRleHQgPSB1c2VMYXlvdXRDb250ZXh0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/components/useLayoutContext.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/index.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.cntrlSdkContext = exports.customSections = exports.customItems = exports.useCntrlContext = exports.CntrlProvider = exports.YoutubeEmbedItem = exports.VimeoEmbedItem = exports.LayoutStyle = exports.VideoItem = exports.RichTextItem = exports.RectangleItem = exports.ImageItem = exports.Item = exports.Section = exports.Article = exports.Head = exports.Page = exports.RichTextConverter = void 0;\nconst defaultContext_1 = __webpack_require__(/*! ./provider/defaultContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/defaultContext.js\");\n__exportStar(__webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\"), exports);\nvar RichTextConverter_1 = __webpack_require__(/*! ./utils/RichTextConverter/RichTextConverter */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/RichTextConverter/RichTextConverter.js\");\nObject.defineProperty(exports, \"RichTextConverter\", ({ enumerable: true, get: function () { return RichTextConverter_1.RichTextConverter; } }));\nvar Page_1 = __webpack_require__(/*! ./components/Page */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/Page.js\");\nObject.defineProperty(exports, \"Page\", ({ enumerable: true, get: function () { return Page_1.Page; } }));\nvar Head_1 = __webpack_require__(/*! ./components/Head */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/Head.js\");\nObject.defineProperty(exports, \"Head\", ({ enumerable: true, get: function () { return Head_1.CNTRLHead; } }));\nvar Article_1 = __webpack_require__(/*! ./components/Article */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/Article.js\");\nObject.defineProperty(exports, \"Article\", ({ enumerable: true, get: function () { return Article_1.Article; } }));\nvar Section_1 = __webpack_require__(/*! ./components/Section/Section */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/Section/Section.js\");\nObject.defineProperty(exports, \"Section\", ({ enumerable: true, get: function () { return Section_1.Section; } }));\nvar Item_1 = __webpack_require__(/*! ./components/items/Item */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/Item.js\");\nObject.defineProperty(exports, \"Item\", ({ enumerable: true, get: function () { return Item_1.Item; } }));\nvar ImageItem_1 = __webpack_require__(/*! ./components/items/FileItem/ImageItem */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/FileItem/ImageItem.js\");\nObject.defineProperty(exports, \"ImageItem\", ({ enumerable: true, get: function () { return ImageItem_1.ImageItem; } }));\nvar RectangleItem_1 = __webpack_require__(/*! ./components/items/RectangleItem/RectangleItem */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/RectangleItem/RectangleItem.js\");\nObject.defineProperty(exports, \"RectangleItem\", ({ enumerable: true, get: function () { return RectangleItem_1.RectangleItem; } }));\nvar RichTextItem_1 = __webpack_require__(/*! ./components/items/RichTextItem/RichTextItem */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/RichTextItem/RichTextItem.js\");\nObject.defineProperty(exports, \"RichTextItem\", ({ enumerable: true, get: function () { return RichTextItem_1.RichTextItem; } }));\nvar VideoItem_1 = __webpack_require__(/*! ./components/items/FileItem/VideoItem */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/FileItem/VideoItem.js\");\nObject.defineProperty(exports, \"VideoItem\", ({ enumerable: true, get: function () { return VideoItem_1.VideoItem; } }));\nvar LayoutStyle_1 = __webpack_require__(/*! ./components/LayoutStyle */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/LayoutStyle.js\");\nObject.defineProperty(exports, \"LayoutStyle\", ({ enumerable: true, get: function () { return LayoutStyle_1.LayoutStyle; } }));\nvar VimeoEmbed_1 = __webpack_require__(/*! ./components/items/EmbedVideoItem/VimeoEmbed */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/EmbedVideoItem/VimeoEmbed.js\");\nObject.defineProperty(exports, \"VimeoEmbedItem\", ({ enumerable: true, get: function () { return VimeoEmbed_1.VimeoEmbedItem; } }));\nvar YoutubeEmbed_1 = __webpack_require__(/*! ./components/items/EmbedVideoItem/YoutubeEmbed */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/EmbedVideoItem/YoutubeEmbed.js\");\nObject.defineProperty(exports, \"YoutubeEmbedItem\", ({ enumerable: true, get: function () { return YoutubeEmbed_1.YoutubeEmbedItem; } }));\nvar CntrlProvider_1 = __webpack_require__(/*! ./provider/CntrlProvider */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/CntrlProvider.js\");\nObject.defineProperty(exports, \"CntrlProvider\", ({ enumerable: true, get: function () { return CntrlProvider_1.CntrlProvider; } }));\nvar useCntrlContext_1 = __webpack_require__(/*! ./provider/useCntrlContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/useCntrlContext.js\");\nObject.defineProperty(exports, \"useCntrlContext\", ({ enumerable: true, get: function () { return useCntrlContext_1.useCntrlContext; } }));\nexports.customItems = defaultContext_1.cntrlSdkContext.customItems;\nexports.customSections = defaultContext_1.cntrlSdkContext.customSections;\nexports.cntrlSdkContext = defaultContext_1.cntrlSdkContext;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0NBQW9DO0FBQ25EO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCLEdBQUcsc0JBQXNCLEdBQUcsbUJBQW1CLEdBQUcsdUJBQXVCLEdBQUcscUJBQXFCLEdBQUcsd0JBQXdCLEdBQUcsc0JBQXNCLEdBQUcsbUJBQW1CLEdBQUcsaUJBQWlCLEdBQUcsb0JBQW9CLEdBQUcscUJBQXFCLEdBQUcsaUJBQWlCLEdBQUcsWUFBWSxHQUFHLGVBQWUsR0FBRyxlQUFlLEdBQUcsWUFBWSxHQUFHLFlBQVksR0FBRyx5QkFBeUI7QUFDdFkseUJBQXlCLG1CQUFPLENBQUMsdUdBQTJCO0FBQzVELGFBQWEsbUJBQU8sQ0FBQyxxRUFBaUI7QUFDdEMsMEJBQTBCLG1CQUFPLENBQUMsMklBQTZDO0FBQy9FLHFEQUFvRCxFQUFFLHFDQUFxQyxpREFBaUQsRUFBQztBQUM3SSxhQUFhLG1CQUFPLENBQUMsdUZBQW1CO0FBQ3hDLHdDQUF1QyxFQUFFLHFDQUFxQyx1QkFBdUIsRUFBQztBQUN0RyxhQUFhLG1CQUFPLENBQUMsdUZBQW1CO0FBQ3hDLHdDQUF1QyxFQUFFLHFDQUFxQyw0QkFBNEIsRUFBQztBQUMzRyxnQkFBZ0IsbUJBQU8sQ0FBQyw2RkFBc0I7QUFDOUMsMkNBQTBDLEVBQUUscUNBQXFDLDZCQUE2QixFQUFDO0FBQy9HLGdCQUFnQixtQkFBTyxDQUFDLDZHQUE4QjtBQUN0RCwyQ0FBMEMsRUFBRSxxQ0FBcUMsNkJBQTZCLEVBQUM7QUFDL0csYUFBYSxtQkFBTyxDQUFDLG1HQUF5QjtBQUM5Qyx3Q0FBdUMsRUFBRSxxQ0FBcUMsdUJBQXVCLEVBQUM7QUFDdEcsa0JBQWtCLG1CQUFPLENBQUMsK0hBQXVDO0FBQ2pFLDZDQUE0QyxFQUFFLHFDQUFxQyxpQ0FBaUMsRUFBQztBQUNySCxzQkFBc0IsbUJBQU8sQ0FBQyxpSkFBZ0Q7QUFDOUUsaURBQWdELEVBQUUscUNBQXFDLHlDQUF5QyxFQUFDO0FBQ2pJLHFCQUFxQixtQkFBTyxDQUFDLDZJQUE4QztBQUMzRSxnREFBK0MsRUFBRSxxQ0FBcUMsdUNBQXVDLEVBQUM7QUFDOUgsa0JBQWtCLG1CQUFPLENBQUMsK0hBQXVDO0FBQ2pFLDZDQUE0QyxFQUFFLHFDQUFxQyxpQ0FBaUMsRUFBQztBQUNySCxvQkFBb0IsbUJBQU8sQ0FBQyxxR0FBMEI7QUFDdEQsK0NBQThDLEVBQUUscUNBQXFDLHFDQUFxQyxFQUFDO0FBQzNILG1CQUFtQixtQkFBTyxDQUFDLDZJQUE4QztBQUN6RSxrREFBaUQsRUFBRSxxQ0FBcUMsdUNBQXVDLEVBQUM7QUFDaEkscUJBQXFCLG1CQUFPLENBQUMsaUpBQWdEO0FBQzdFLG9EQUFtRCxFQUFFLHFDQUFxQywyQ0FBMkMsRUFBQztBQUN0SSxzQkFBc0IsbUJBQU8sQ0FBQyxxR0FBMEI7QUFDeEQsaURBQWdELEVBQUUscUNBQXFDLHlDQUF5QyxFQUFDO0FBQ2pJLHdCQUF3QixtQkFBTyxDQUFDLHlHQUE0QjtBQUM1RCxtREFBa0QsRUFBRSxxQ0FBcUMsNkNBQTZDLEVBQUM7QUFDdkksbUJBQW1CO0FBQ25CLHNCQUFzQjtBQUN0Qix1QkFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay1uZXh0anMvbGliL2luZGV4LmpzPzQ1OTUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY250cmxTZGtDb250ZXh0ID0gZXhwb3J0cy5jdXN0b21TZWN0aW9ucyA9IGV4cG9ydHMuY3VzdG9tSXRlbXMgPSBleHBvcnRzLnVzZUNudHJsQ29udGV4dCA9IGV4cG9ydHMuQ250cmxQcm92aWRlciA9IGV4cG9ydHMuWW91dHViZUVtYmVkSXRlbSA9IGV4cG9ydHMuVmltZW9FbWJlZEl0ZW0gPSBleHBvcnRzLkxheW91dFN0eWxlID0gZXhwb3J0cy5WaWRlb0l0ZW0gPSBleHBvcnRzLlJpY2hUZXh0SXRlbSA9IGV4cG9ydHMuUmVjdGFuZ2xlSXRlbSA9IGV4cG9ydHMuSW1hZ2VJdGVtID0gZXhwb3J0cy5JdGVtID0gZXhwb3J0cy5TZWN0aW9uID0gZXhwb3J0cy5BcnRpY2xlID0gZXhwb3J0cy5IZWFkID0gZXhwb3J0cy5QYWdlID0gZXhwb3J0cy5SaWNoVGV4dENvbnZlcnRlciA9IHZvaWQgMDtcbmNvbnN0IGRlZmF1bHRDb250ZXh0XzEgPSByZXF1aXJlKFwiLi9wcm92aWRlci9kZWZhdWx0Q29udGV4dFwiKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiQGNudHJsLXNpdGUvc2RrXCIpLCBleHBvcnRzKTtcbnZhciBSaWNoVGV4dENvbnZlcnRlcl8xID0gcmVxdWlyZShcIi4vdXRpbHMvUmljaFRleHRDb252ZXJ0ZXIvUmljaFRleHRDb252ZXJ0ZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJSaWNoVGV4dENvbnZlcnRlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gUmljaFRleHRDb252ZXJ0ZXJfMS5SaWNoVGV4dENvbnZlcnRlcjsgfSB9KTtcbnZhciBQYWdlXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL1BhZ2VcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJQYWdlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBQYWdlXzEuUGFnZTsgfSB9KTtcbnZhciBIZWFkXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL0hlYWRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJIZWFkXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBIZWFkXzEuQ05UUkxIZWFkOyB9IH0pO1xudmFyIEFydGljbGVfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvQXJ0aWNsZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkFydGljbGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIEFydGljbGVfMS5BcnRpY2xlOyB9IH0pO1xudmFyIFNlY3Rpb25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvU2VjdGlvbi9TZWN0aW9uXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU2VjdGlvblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gU2VjdGlvbl8xLlNlY3Rpb247IH0gfSk7XG52YXIgSXRlbV8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9pdGVtcy9JdGVtXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiSXRlbVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gSXRlbV8xLkl0ZW07IH0gfSk7XG52YXIgSW1hZ2VJdGVtXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2l0ZW1zL0ZpbGVJdGVtL0ltYWdlSXRlbVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkltYWdlSXRlbVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gSW1hZ2VJdGVtXzEuSW1hZ2VJdGVtOyB9IH0pO1xudmFyIFJlY3RhbmdsZUl0ZW1fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvaXRlbXMvUmVjdGFuZ2xlSXRlbS9SZWN0YW5nbGVJdGVtXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUmVjdGFuZ2xlSXRlbVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gUmVjdGFuZ2xlSXRlbV8xLlJlY3RhbmdsZUl0ZW07IH0gfSk7XG52YXIgUmljaFRleHRJdGVtXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2l0ZW1zL1JpY2hUZXh0SXRlbS9SaWNoVGV4dEl0ZW1cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJSaWNoVGV4dEl0ZW1cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFJpY2hUZXh0SXRlbV8xLlJpY2hUZXh0SXRlbTsgfSB9KTtcbnZhciBWaWRlb0l0ZW1fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvaXRlbXMvRmlsZUl0ZW0vVmlkZW9JdGVtXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVmlkZW9JdGVtXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBWaWRlb0l0ZW1fMS5WaWRlb0l0ZW07IH0gfSk7XG52YXIgTGF5b3V0U3R5bGVfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvTGF5b3V0U3R5bGVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJMYXlvdXRTdHlsZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gTGF5b3V0U3R5bGVfMS5MYXlvdXRTdHlsZTsgfSB9KTtcbnZhciBWaW1lb0VtYmVkXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2l0ZW1zL0VtYmVkVmlkZW9JdGVtL1ZpbWVvRW1iZWRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJWaW1lb0VtYmVkSXRlbVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gVmltZW9FbWJlZF8xLlZpbWVvRW1iZWRJdGVtOyB9IH0pO1xudmFyIFlvdXR1YmVFbWJlZF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9pdGVtcy9FbWJlZFZpZGVvSXRlbS9Zb3V0dWJlRW1iZWRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJZb3V0dWJlRW1iZWRJdGVtXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBZb3V0dWJlRW1iZWRfMS5Zb3V0dWJlRW1iZWRJdGVtOyB9IH0pO1xudmFyIENudHJsUHJvdmlkZXJfMSA9IHJlcXVpcmUoXCIuL3Byb3ZpZGVyL0NudHJsUHJvdmlkZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDbnRybFByb3ZpZGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBDbnRybFByb3ZpZGVyXzEuQ250cmxQcm92aWRlcjsgfSB9KTtcbnZhciB1c2VDbnRybENvbnRleHRfMSA9IHJlcXVpcmUoXCIuL3Byb3ZpZGVyL3VzZUNudHJsQ29udGV4dFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInVzZUNudHJsQ29udGV4dFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdXNlQ250cmxDb250ZXh0XzEudXNlQ250cmxDb250ZXh0OyB9IH0pO1xuZXhwb3J0cy5jdXN0b21JdGVtcyA9IGRlZmF1bHRDb250ZXh0XzEuY250cmxTZGtDb250ZXh0LmN1c3RvbUl0ZW1zO1xuZXhwb3J0cy5jdXN0b21TZWN0aW9ucyA9IGRlZmF1bHRDb250ZXh0XzEuY250cmxTZGtDb250ZXh0LmN1c3RvbVNlY3Rpb25zO1xuZXhwb3J0cy5jbnRybFNka0NvbnRleHQgPSBkZWZhdWx0Q29udGV4dF8xLmNudHJsU2RrQ29udGV4dDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/index.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/interactions/CSSPropertyNameMap.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/interactions/CSSPropertyNameMap.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getStyleKeysFromCSSProperty = exports.CSSPropertyNameMap = void 0;\nexports.CSSPropertyNameMap = {\n    'width': 'width',\n    'height': 'height',\n    'top': 'top',\n    'left': 'left',\n    'scale': 'transform',\n    'angle': 'transform',\n    'opacity': 'opacity',\n    'radius': 'border-radius',\n    'strokeWidth': 'border-width',\n    'strokeColor': 'border-color',\n    'fillColor': 'background-color',\n    'blur': 'filter',\n    'backdropBlur': 'backdrop-filter',\n    'letterSpacing': 'letter-spacing',\n    'wordSpacing': 'word-spacing',\n    'color': 'color'\n};\nconst PropertyNameCSSMap = {\n    'transform': ['angle', 'scale'],\n    'border-radius': ['radius'],\n    'border-width': ['strokeWidth'],\n    'border-color': ['strokeColor'],\n    'background-color': ['fillColor'],\n    'filter': ['blur'],\n    'backdrop-filter': ['backdrop-blur'],\n    'letter-spacing': ['letterSpacing'],\n    'word-spacing': ['wordSpacing'],\n};\nfunction getStyleKeysFromCSSProperty(cssProp) {\n    var _a;\n    const key = (_a = PropertyNameCSSMap[cssProp]) !== null && _a !== void 0 ? _a : [cssProp];\n    return key;\n}\nexports.getStyleKeysFromCSSProperty = getStyleKeysFromCSSProperty;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvaW50ZXJhY3Rpb25zL0NTU1Byb3BlcnR5TmFtZU1hcC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQ0FBbUMsR0FBRywwQkFBMEI7QUFDaEUsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvaW50ZXJhY3Rpb25zL0NTU1Byb3BlcnR5TmFtZU1hcC5qcz83ZTY3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5nZXRTdHlsZUtleXNGcm9tQ1NTUHJvcGVydHkgPSBleHBvcnRzLkNTU1Byb3BlcnR5TmFtZU1hcCA9IHZvaWQgMDtcbmV4cG9ydHMuQ1NTUHJvcGVydHlOYW1lTWFwID0ge1xuICAgICd3aWR0aCc6ICd3aWR0aCcsXG4gICAgJ2hlaWdodCc6ICdoZWlnaHQnLFxuICAgICd0b3AnOiAndG9wJyxcbiAgICAnbGVmdCc6ICdsZWZ0JyxcbiAgICAnc2NhbGUnOiAndHJhbnNmb3JtJyxcbiAgICAnYW5nbGUnOiAndHJhbnNmb3JtJyxcbiAgICAnb3BhY2l0eSc6ICdvcGFjaXR5JyxcbiAgICAncmFkaXVzJzogJ2JvcmRlci1yYWRpdXMnLFxuICAgICdzdHJva2VXaWR0aCc6ICdib3JkZXItd2lkdGgnLFxuICAgICdzdHJva2VDb2xvcic6ICdib3JkZXItY29sb3InLFxuICAgICdmaWxsQ29sb3InOiAnYmFja2dyb3VuZC1jb2xvcicsXG4gICAgJ2JsdXInOiAnZmlsdGVyJyxcbiAgICAnYmFja2Ryb3BCbHVyJzogJ2JhY2tkcm9wLWZpbHRlcicsXG4gICAgJ2xldHRlclNwYWNpbmcnOiAnbGV0dGVyLXNwYWNpbmcnLFxuICAgICd3b3JkU3BhY2luZyc6ICd3b3JkLXNwYWNpbmcnLFxuICAgICdjb2xvcic6ICdjb2xvcidcbn07XG5jb25zdCBQcm9wZXJ0eU5hbWVDU1NNYXAgPSB7XG4gICAgJ3RyYW5zZm9ybSc6IFsnYW5nbGUnLCAnc2NhbGUnXSxcbiAgICAnYm9yZGVyLXJhZGl1cyc6IFsncmFkaXVzJ10sXG4gICAgJ2JvcmRlci13aWR0aCc6IFsnc3Ryb2tlV2lkdGgnXSxcbiAgICAnYm9yZGVyLWNvbG9yJzogWydzdHJva2VDb2xvciddLFxuICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogWydmaWxsQ29sb3InXSxcbiAgICAnZmlsdGVyJzogWydibHVyJ10sXG4gICAgJ2JhY2tkcm9wLWZpbHRlcic6IFsnYmFja2Ryb3AtYmx1ciddLFxuICAgICdsZXR0ZXItc3BhY2luZyc6IFsnbGV0dGVyU3BhY2luZyddLFxuICAgICd3b3JkLXNwYWNpbmcnOiBbJ3dvcmRTcGFjaW5nJ10sXG59O1xuZnVuY3Rpb24gZ2V0U3R5bGVLZXlzRnJvbUNTU1Byb3BlcnR5KGNzc1Byb3ApIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3Qga2V5ID0gKF9hID0gUHJvcGVydHlOYW1lQ1NTTWFwW2Nzc1Byb3BdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbY3NzUHJvcF07XG4gICAgcmV0dXJuIGtleTtcbn1cbmV4cG9ydHMuZ2V0U3R5bGVLZXlzRnJvbUNTU1Byb3BlcnR5ID0gZ2V0U3R5bGVLZXlzRnJvbUNTU1Byb3BlcnR5O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/interactions/CSSPropertyNameMap.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/interactions/InteractionsRegistry.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/interactions/InteractionsRegistry.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.InteractionsRegistry = void 0;\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst isItemType_1 = __webpack_require__(/*! ../utils/isItemType */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/isItemType.js\");\nclass InteractionsRegistry {\n    constructor(article, layoutId) {\n        var _a;\n        this.ctrls = new Map();\n        this.items = this.unpackItems(article);\n        const interactions = (_a = article.interactions[layoutId]) !== null && _a !== void 0 ? _a : [];\n        const activeStatesIds = interactions.reduce((map, inter) => {\n            var _a;\n            const activeStateId = (_a = inter.states.find((state) => state.id !== inter.startStateId)) === null || _a === void 0 ? void 0 : _a.id;\n            if (!activeStateId) {\n                throw new Error(`Failed to find active state for interaction w/ id=\"${inter.id}\"`);\n            }\n            map.push(activeStateId);\n            return map;\n        }, []);\n        const interactionStateMap = interactions.reduce((map, { id, startStateId }) => {\n            map[id] = startStateId;\n            return map;\n        }, {});\n        this.activeStateIdInteractionIdMap = interactions.reduce((map, interaction) => {\n            const activeState = interaction.states.find((state) => state.id !== interaction.startStateId);\n            if (activeState) {\n                map[activeState.id] = interaction.id;\n            }\n            return map;\n        }, {});\n        const itemStages = this.getDefaultItemStages();\n        const stateItemsIdsMap = activeStatesIds.reduce((map, stateId) => {\n            map[stateId] = this.items\n                .filter((item) => {\n                var _a;\n                const state = (_a = item.state[stateId]) !== null && _a !== void 0 ? _a : {};\n                const hasKeys = Object.keys(state).length !== 0;\n                return hasKeys;\n            })\n                .map((item) => item.id);\n            return map;\n        }, {});\n        this.interactions = interactions;\n        this.itemsStages = itemStages;\n        this.stateItemsIdsMap = stateItemsIdsMap;\n        this.interactionStateMap = interactionStateMap;\n    }\n    register(itemId, ctrl) {\n        this.ctrls.set(itemId, ctrl);\n    }\n    getStatePropsForItem(itemId) {\n        var _a, _b, _c;\n        const { items } = this;\n        const item = items.find((item) => item.id === itemId);\n        const itemStages = this.itemsStages.filter((stage) => stage.itemId === itemId);\n        itemStages.sort((a, b) => a.updated - b.updated);\n        const itemStyles = {};\n        for (const stage of itemStages) {\n            if (stage.type === 'active') {\n                if (stage.isStartState)\n                    continue;\n                const params = (_a = item.state[stage.stateId]) !== null && _a !== void 0 ? _a : {};\n                for (const [key, stateDetails] of Object.entries(params)) {\n                    itemStyles[key] = {\n                        value: stateDetails.value\n                    };\n                }\n            }\n            if (stage.type === 'transitioning') {\n                const activeStateId = stage.direction === 'in' ? stage.to : stage.from;\n                const params = (_b = item.state[activeStateId]) !== null && _b !== void 0 ? _b : {};\n                for (const [key, stateDetails] of Object.entries(params)) {\n                    const transitionDetails = stateDetails[stage.direction];\n                    if (!transitionDetails)\n                        continue;\n                    itemStyles[key] = {\n                        value: stage.direction === 'in' ? stateDetails.value : (_c = itemStyles[key]) === null || _c === void 0 ? void 0 : _c.value,\n                        transition: {\n                            timing: transitionDetails.timing,\n                            duration: transitionDetails.duration,\n                            delay: transitionDetails.delay\n                        }\n                    };\n                }\n            }\n        }\n        return itemStyles;\n    }\n    getItemAvailableTriggers(itemId) {\n        const available = new Set();\n        const activeStates = Object.values(this.interactionStateMap);\n        for (const interaction of this.interactions) {\n            const { triggers } = interaction;\n            for (const trigger of triggers) {\n                if (trigger.itemId !== itemId)\n                    continue;\n                if (activeStates.includes(trigger.from)) {\n                    available.add(trigger.type);\n                }\n            }\n        }\n        return available;\n    }\n    notifyTrigger(itemId, triggerType) {\n        var _a, _b;\n        const timestamp = Date.now();\n        for (const interaction of this.interactions) {\n            const currentStateId = this.getCurrentStateByInteractionId(interaction.id);\n            const matchingTrigger = interaction.triggers.find((trigger) => trigger.itemId === itemId\n                && trigger.from === currentStateId\n                && trigger.type === triggerType);\n            if (!matchingTrigger)\n                continue;\n            const activeStateId = this.getActiveInteractionState(interaction.id);\n            const isNewStateActive = matchingTrigger.to === activeStateId;\n            this.setCurrentStateForInteraction(interaction.id, matchingTrigger.to);\n            const transitioningItems = (_a = this.stateItemsIdsMap[activeStateId]) !== null && _a !== void 0 ? _a : [];\n            const state = interaction.states.find((state) => state.id === matchingTrigger.to);\n            const actions = (_b = state === null || state === void 0 ? void 0 : state.actions) !== null && _b !== void 0 ? _b : [];\n            for (const action of actions) {\n                const ctrl = this.ctrls.get(action.itemId);\n                if (!ctrl)\n                    continue;\n                ctrl.receiveAction(action.type);\n            }\n            this.itemsStages = this.itemsStages.map((stage) => {\n                if (stage.interactionId !== interaction.id)\n                    return stage;\n                return {\n                    itemId: stage.itemId,\n                    interactionId: stage.interactionId,\n                    type: 'transitioning',\n                    from: stage.type === 'transitioning' ? stage.to : stage.stateId,\n                    to: matchingTrigger.to,\n                    direction: isNewStateActive ? 'in' : 'out',\n                    updated: timestamp\n                };\n            });\n            const itemsToNotify = new Set(transitioningItems);\n            for (const trigger of interaction.triggers) {\n                itemsToNotify.add(trigger.itemId);\n            }\n            this.notifyItemCtrlsChange(Array.from(itemsToNotify));\n            this.notifyTransitionStartForItems(transitioningItems, activeStateId);\n        }\n    }\n    notifyTransitionStartForItems(itemsIds, activeStateId) {\n        var _a, _b;\n        for (const itemId of itemsIds) {\n            const ctrl = this.ctrls.get(itemId);\n            const item = this.items.find((item) => item.id === itemId);\n            const keys = Object.keys((_a = item.state[activeStateId]) !== null && _a !== void 0 ? _a : {});\n            (_b = ctrl === null || ctrl === void 0 ? void 0 : ctrl.handleTransitionStart) === null || _b === void 0 ? void 0 : _b.call(ctrl, keys);\n        }\n    }\n    notifyTransitionEnd(itemId) {\n        var _a;\n        const timestamp = Date.now();\n        this.itemsStages = this.itemsStages.map((stage) => {\n            if (stage.itemId !== itemId || stage.type !== 'transitioning')\n                return stage;\n            return {\n                itemId,\n                interactionId: stage.interactionId,\n                type: 'active',\n                stateId: stage.to,\n                isStartState: stage.direction === 'out',\n                updated: timestamp\n            };\n        });\n        (_a = this.ctrls.get(itemId)) === null || _a === void 0 ? void 0 : _a.receiveChange();\n    }\n    getCurrentStateByInteractionId(id) {\n        let state;\n        for (const interactionId of Object.keys(this.interactionStateMap)) {\n            if (id !== interactionId)\n                continue;\n            state = this.interactionStateMap[interactionId];\n        }\n        if (!state)\n            throw new Error(`Failed to find current state for interaction w/ id=\"${id}\"`);\n        return state;\n    }\n    setCurrentStateForInteraction(interactionId, stateId) {\n        this.interactionStateMap = Object.assign(Object.assign({}, this.interactionStateMap), { [interactionId]: stateId });\n    }\n    getActiveInteractionState(interactionId) {\n        var _a;\n        const { interactions } = this;\n        const interaction = interactions.find((interaction) => interaction.id === interactionId);\n        const activeStateId = (_a = interaction.states.find(state => state.id !== interaction.startStateId)) === null || _a === void 0 ? void 0 : _a.id;\n        if (!activeStateId) {\n            throw new Error(`Failed to find active state for interaction w/ id=\"${interactionId}\"`);\n        }\n        return activeStateId;\n    }\n    notifyItemCtrlsChange(itemsIds) {\n        var _a;\n        for (const itemId of itemsIds) {\n            (_a = this.ctrls.get(itemId)) === null || _a === void 0 ? void 0 : _a.receiveChange();\n        }\n    }\n    unpackItems(article) {\n        const itemsArr = [];\n        for (const section of article.sections) {\n            const items = this.getNestedItems(section.items);\n            itemsArr.push(...items);\n        }\n        return itemsArr;\n    }\n    getNestedItems(items) {\n        var _a;\n        const allItems = [];\n        for (const item of items) {\n            if ((0, isItemType_1.isItemType)(item, sdk_1.ArticleItemType.Group) || (0, isItemType_1.isItemType)(item, sdk_1.ArticleItemType.Compound)) {\n                const groupChildren = (_a = item === null || item === void 0 ? void 0 : item.items) !== null && _a !== void 0 ? _a : [];\n                const nestedItems = this.getNestedItems(groupChildren);\n                allItems.push(...nestedItems);\n            }\n            allItems.push(item);\n        }\n        return allItems;\n    }\n    getDefaultItemStages() {\n        const timestamp = Date.now();\n        const { items } = this;\n        const stages = [];\n        for (const item of items) {\n            const itemStatesMap = item.state;\n            if (!itemStatesMap)\n                continue;\n            for (const stateId of Object.keys(itemStatesMap)) {\n                const interactionId = this.activeStateIdInteractionIdMap[stateId];\n                if (!interactionId)\n                    continue;\n                stages.push({\n                    itemId: item.id,\n                    interactionId,\n                    type: 'active',\n                    isStartState: true,\n                    updated: timestamp\n                });\n            }\n        }\n        return stages;\n    }\n}\nexports.InteractionsRegistry = InteractionsRegistry;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvaW50ZXJhY3Rpb25zL0ludGVyYWN0aW9uc1JlZ2lzdHJ5LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDRCQUE0QjtBQUM1QixjQUFjLG1CQUFPLENBQUMscUVBQWlCO0FBQ3ZDLHFCQUFxQixtQkFBTyxDQUFDLDBGQUFxQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNGQUFzRixTQUFTO0FBQy9GO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxnRUFBZ0Usa0JBQWtCO0FBQ2xGO0FBQ0E7QUFDQSxTQUFTLElBQUk7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLElBQUk7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTLElBQUk7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixXQUFXO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5R0FBeUc7QUFDekc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1GQUFtRixHQUFHO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSwrQkFBK0IsMEJBQTBCO0FBQzFIO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixlQUFlO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLGtGQUFrRixjQUFjO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvaW50ZXJhY3Rpb25zL0ludGVyYWN0aW9uc1JlZ2lzdHJ5LmpzPzRkMmUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkludGVyYWN0aW9uc1JlZ2lzdHJ5ID0gdm9pZCAwO1xuY29uc3Qgc2RrXzEgPSByZXF1aXJlKFwiQGNudHJsLXNpdGUvc2RrXCIpO1xuY29uc3QgaXNJdGVtVHlwZV8xID0gcmVxdWlyZShcIi4uL3V0aWxzL2lzSXRlbVR5cGVcIik7XG5jbGFzcyBJbnRlcmFjdGlvbnNSZWdpc3RyeSB7XG4gICAgY29uc3RydWN0b3IoYXJ0aWNsZSwgbGF5b3V0SWQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmN0cmxzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLml0ZW1zID0gdGhpcy51bnBhY2tJdGVtcyhhcnRpY2xlKTtcbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25zID0gKF9hID0gYXJ0aWNsZS5pbnRlcmFjdGlvbnNbbGF5b3V0SWRdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTtcbiAgICAgICAgY29uc3QgYWN0aXZlU3RhdGVzSWRzID0gaW50ZXJhY3Rpb25zLnJlZHVjZSgobWFwLCBpbnRlcikgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlU3RhdGVJZCA9IChfYSA9IGludGVyLnN0YXRlcy5maW5kKChzdGF0ZSkgPT4gc3RhdGUuaWQgIT09IGludGVyLnN0YXJ0U3RhdGVJZCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pZDtcbiAgICAgICAgICAgIGlmICghYWN0aXZlU3RhdGVJZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZpbmQgYWN0aXZlIHN0YXRlIGZvciBpbnRlcmFjdGlvbiB3LyBpZD1cIiR7aW50ZXIuaWR9XCJgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hcC5wdXNoKGFjdGl2ZVN0YXRlSWQpO1xuICAgICAgICAgICAgcmV0dXJuIG1hcDtcbiAgICAgICAgfSwgW10pO1xuICAgICAgICBjb25zdCBpbnRlcmFjdGlvblN0YXRlTWFwID0gaW50ZXJhY3Rpb25zLnJlZHVjZSgobWFwLCB7IGlkLCBzdGFydFN0YXRlSWQgfSkgPT4ge1xuICAgICAgICAgICAgbWFwW2lkXSA9IHN0YXJ0U3RhdGVJZDtcbiAgICAgICAgICAgIHJldHVybiBtYXA7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZUlkSW50ZXJhY3Rpb25JZE1hcCA9IGludGVyYWN0aW9ucy5yZWR1Y2UoKG1hcCwgaW50ZXJhY3Rpb24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVN0YXRlID0gaW50ZXJhY3Rpb24uc3RhdGVzLmZpbmQoKHN0YXRlKSA9PiBzdGF0ZS5pZCAhPT0gaW50ZXJhY3Rpb24uc3RhcnRTdGF0ZUlkKTtcbiAgICAgICAgICAgIGlmIChhY3RpdmVTdGF0ZSkge1xuICAgICAgICAgICAgICAgIG1hcFthY3RpdmVTdGF0ZS5pZF0gPSBpbnRlcmFjdGlvbi5pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtYXA7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgY29uc3QgaXRlbVN0YWdlcyA9IHRoaXMuZ2V0RGVmYXVsdEl0ZW1TdGFnZXMoKTtcbiAgICAgICAgY29uc3Qgc3RhdGVJdGVtc0lkc01hcCA9IGFjdGl2ZVN0YXRlc0lkcy5yZWR1Y2UoKG1hcCwgc3RhdGVJZCkgPT4ge1xuICAgICAgICAgICAgbWFwW3N0YXRlSWRdID0gdGhpcy5pdGVtc1xuICAgICAgICAgICAgICAgIC5maWx0ZXIoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSAoX2EgPSBpdGVtLnN0YXRlW3N0YXRlSWRdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fTtcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNLZXlzID0gT2JqZWN0LmtleXMoc3RhdGUpLmxlbmd0aCAhPT0gMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFzS2V5cztcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm1hcCgoaXRlbSkgPT4gaXRlbS5pZCk7XG4gICAgICAgICAgICByZXR1cm4gbWFwO1xuICAgICAgICB9LCB7fSk7XG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25zID0gaW50ZXJhY3Rpb25zO1xuICAgICAgICB0aGlzLml0ZW1zU3RhZ2VzID0gaXRlbVN0YWdlcztcbiAgICAgICAgdGhpcy5zdGF0ZUl0ZW1zSWRzTWFwID0gc3RhdGVJdGVtc0lkc01hcDtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvblN0YXRlTWFwID0gaW50ZXJhY3Rpb25TdGF0ZU1hcDtcbiAgICB9XG4gICAgcmVnaXN0ZXIoaXRlbUlkLCBjdHJsKSB7XG4gICAgICAgIHRoaXMuY3RybHMuc2V0KGl0ZW1JZCwgY3RybCk7XG4gICAgfVxuICAgIGdldFN0YXRlUHJvcHNGb3JJdGVtKGl0ZW1JZCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgY29uc3QgeyBpdGVtcyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgaXRlbSA9IGl0ZW1zLmZpbmQoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGl0ZW1JZCk7XG4gICAgICAgIGNvbnN0IGl0ZW1TdGFnZXMgPSB0aGlzLml0ZW1zU3RhZ2VzLmZpbHRlcigoc3RhZ2UpID0+IHN0YWdlLml0ZW1JZCA9PT0gaXRlbUlkKTtcbiAgICAgICAgaXRlbVN0YWdlcy5zb3J0KChhLCBiKSA9PiBhLnVwZGF0ZWQgLSBiLnVwZGF0ZWQpO1xuICAgICAgICBjb25zdCBpdGVtU3R5bGVzID0ge307XG4gICAgICAgIGZvciAoY29uc3Qgc3RhZ2Ugb2YgaXRlbVN0YWdlcykge1xuICAgICAgICAgICAgaWYgKHN0YWdlLnR5cGUgPT09ICdhY3RpdmUnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YWdlLmlzU3RhcnRTdGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gKF9hID0gaXRlbS5zdGF0ZVtzdGFnZS5zdGF0ZUlkXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge307XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCBzdGF0ZURldGFpbHNdIG9mIE9iamVjdC5lbnRyaWVzKHBhcmFtcykpIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbVN0eWxlc1trZXldID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHN0YXRlRGV0YWlscy52YWx1ZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGFnZS50eXBlID09PSAndHJhbnNpdGlvbmluZycpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVTdGF0ZUlkID0gc3RhZ2UuZGlyZWN0aW9uID09PSAnaW4nID8gc3RhZ2UudG8gOiBzdGFnZS5mcm9tO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IChfYiA9IGl0ZW0uc3RhdGVbYWN0aXZlU3RhdGVJZF0pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHt9O1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgc3RhdGVEZXRhaWxzXSBvZiBPYmplY3QuZW50cmllcyhwYXJhbXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zaXRpb25EZXRhaWxzID0gc3RhdGVEZXRhaWxzW3N0YWdlLmRpcmVjdGlvbl07XG4gICAgICAgICAgICAgICAgICAgIGlmICghdHJhbnNpdGlvbkRldGFpbHMpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgaXRlbVN0eWxlc1trZXldID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHN0YWdlLmRpcmVjdGlvbiA9PT0gJ2luJyA/IHN0YXRlRGV0YWlscy52YWx1ZSA6IChfYyA9IGl0ZW1TdHlsZXNba2V5XSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWluZzogdHJhbnNpdGlvbkRldGFpbHMudGltaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiB0cmFuc2l0aW9uRGV0YWlscy5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxheTogdHJhbnNpdGlvbkRldGFpbHMuZGVsYXlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZW1TdHlsZXM7XG4gICAgfVxuICAgIGdldEl0ZW1BdmFpbGFibGVUcmlnZ2VycyhpdGVtSWQpIHtcbiAgICAgICAgY29uc3QgYXZhaWxhYmxlID0gbmV3IFNldCgpO1xuICAgICAgICBjb25zdCBhY3RpdmVTdGF0ZXMgPSBPYmplY3QudmFsdWVzKHRoaXMuaW50ZXJhY3Rpb25TdGF0ZU1hcCk7XG4gICAgICAgIGZvciAoY29uc3QgaW50ZXJhY3Rpb24gb2YgdGhpcy5pbnRlcmFjdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdHJpZ2dlcnMgfSA9IGludGVyYWN0aW9uO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0cmlnZ2VyIG9mIHRyaWdnZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIuaXRlbUlkICE9PSBpdGVtSWQpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmIChhY3RpdmVTdGF0ZXMuaW5jbHVkZXModHJpZ2dlci5mcm9tKSkge1xuICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGUuYWRkKHRyaWdnZXIudHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhdmFpbGFibGU7XG4gICAgfVxuICAgIG5vdGlmeVRyaWdnZXIoaXRlbUlkLCB0cmlnZ2VyVHlwZSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICBmb3IgKGNvbnN0IGludGVyYWN0aW9uIG9mIHRoaXMuaW50ZXJhY3Rpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U3RhdGVJZCA9IHRoaXMuZ2V0Q3VycmVudFN0YXRlQnlJbnRlcmFjdGlvbklkKGludGVyYWN0aW9uLmlkKTtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nVHJpZ2dlciA9IGludGVyYWN0aW9uLnRyaWdnZXJzLmZpbmQoKHRyaWdnZXIpID0+IHRyaWdnZXIuaXRlbUlkID09PSBpdGVtSWRcbiAgICAgICAgICAgICAgICAmJiB0cmlnZ2VyLmZyb20gPT09IGN1cnJlbnRTdGF0ZUlkXG4gICAgICAgICAgICAgICAgJiYgdHJpZ2dlci50eXBlID09PSB0cmlnZ2VyVHlwZSk7XG4gICAgICAgICAgICBpZiAoIW1hdGNoaW5nVHJpZ2dlcilcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVN0YXRlSWQgPSB0aGlzLmdldEFjdGl2ZUludGVyYWN0aW9uU3RhdGUoaW50ZXJhY3Rpb24uaWQpO1xuICAgICAgICAgICAgY29uc3QgaXNOZXdTdGF0ZUFjdGl2ZSA9IG1hdGNoaW5nVHJpZ2dlci50byA9PT0gYWN0aXZlU3RhdGVJZDtcbiAgICAgICAgICAgIHRoaXMuc2V0Q3VycmVudFN0YXRlRm9ySW50ZXJhY3Rpb24oaW50ZXJhY3Rpb24uaWQsIG1hdGNoaW5nVHJpZ2dlci50byk7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2l0aW9uaW5nSXRlbXMgPSAoX2EgPSB0aGlzLnN0YXRlSXRlbXNJZHNNYXBbYWN0aXZlU3RhdGVJZF0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBpbnRlcmFjdGlvbi5zdGF0ZXMuZmluZCgoc3RhdGUpID0+IHN0YXRlLmlkID09PSBtYXRjaGluZ1RyaWdnZXIudG8pO1xuICAgICAgICAgICAgY29uc3QgYWN0aW9ucyA9IChfYiA9IHN0YXRlID09PSBudWxsIHx8IHN0YXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdGF0ZS5hY3Rpb25zKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWN0aW9uIG9mIGFjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdHJsID0gdGhpcy5jdHJscy5nZXQoYWN0aW9uLml0ZW1JZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFjdHJsKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjdHJsLnJlY2VpdmVBY3Rpb24oYWN0aW9uLnR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pdGVtc1N0YWdlcyA9IHRoaXMuaXRlbXNTdGFnZXMubWFwKChzdGFnZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzdGFnZS5pbnRlcmFjdGlvbklkICE9PSBpbnRlcmFjdGlvbi5pZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YWdlO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1JZDogc3RhZ2UuaXRlbUlkLFxuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbklkOiBzdGFnZS5pbnRlcmFjdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAndHJhbnNpdGlvbmluZycsXG4gICAgICAgICAgICAgICAgICAgIGZyb206IHN0YWdlLnR5cGUgPT09ICd0cmFuc2l0aW9uaW5nJyA/IHN0YWdlLnRvIDogc3RhZ2Uuc3RhdGVJZCxcbiAgICAgICAgICAgICAgICAgICAgdG86IG1hdGNoaW5nVHJpZ2dlci50byxcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBpc05ld1N0YXRlQWN0aXZlID8gJ2luJyA6ICdvdXQnLFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkOiB0aW1lc3RhbXBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBpdGVtc1RvTm90aWZ5ID0gbmV3IFNldCh0cmFuc2l0aW9uaW5nSXRlbXMpO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0cmlnZ2VyIG9mIGludGVyYWN0aW9uLnRyaWdnZXJzKSB7XG4gICAgICAgICAgICAgICAgaXRlbXNUb05vdGlmeS5hZGQodHJpZ2dlci5pdGVtSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ub3RpZnlJdGVtQ3RybHNDaGFuZ2UoQXJyYXkuZnJvbShpdGVtc1RvTm90aWZ5KSk7XG4gICAgICAgICAgICB0aGlzLm5vdGlmeVRyYW5zaXRpb25TdGFydEZvckl0ZW1zKHRyYW5zaXRpb25pbmdJdGVtcywgYWN0aXZlU3RhdGVJZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbm90aWZ5VHJhbnNpdGlvblN0YXJ0Rm9ySXRlbXMoaXRlbXNJZHMsIGFjdGl2ZVN0YXRlSWQpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtSWQgb2YgaXRlbXNJZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0cmwgPSB0aGlzLmN0cmxzLmdldChpdGVtSWQpO1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuaXRlbXMuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gaXRlbUlkKTtcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cygoX2EgPSBpdGVtLnN0YXRlW2FjdGl2ZVN0YXRlSWRdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fSk7XG4gICAgICAgICAgICAoX2IgPSBjdHJsID09PSBudWxsIHx8IGN0cmwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN0cmwuaGFuZGxlVHJhbnNpdGlvblN0YXJ0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChjdHJsLCBrZXlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBub3RpZnlUcmFuc2l0aW9uRW5kKGl0ZW1JZCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMuaXRlbXNTdGFnZXMgPSB0aGlzLml0ZW1zU3RhZ2VzLm1hcCgoc3RhZ2UpID0+IHtcbiAgICAgICAgICAgIGlmIChzdGFnZS5pdGVtSWQgIT09IGl0ZW1JZCB8fCBzdGFnZS50eXBlICE9PSAndHJhbnNpdGlvbmluZycpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YWdlO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpdGVtSWQsXG4gICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25JZDogc3RhZ2UuaW50ZXJhY3Rpb25JZCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnYWN0aXZlJyxcbiAgICAgICAgICAgICAgICBzdGF0ZUlkOiBzdGFnZS50byxcbiAgICAgICAgICAgICAgICBpc1N0YXJ0U3RhdGU6IHN0YWdlLmRpcmVjdGlvbiA9PT0gJ291dCcsXG4gICAgICAgICAgICAgICAgdXBkYXRlZDogdGltZXN0YW1wXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgKF9hID0gdGhpcy5jdHJscy5nZXQoaXRlbUlkKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlY2VpdmVDaGFuZ2UoKTtcbiAgICB9XG4gICAgZ2V0Q3VycmVudFN0YXRlQnlJbnRlcmFjdGlvbklkKGlkKSB7XG4gICAgICAgIGxldCBzdGF0ZTtcbiAgICAgICAgZm9yIChjb25zdCBpbnRlcmFjdGlvbklkIG9mIE9iamVjdC5rZXlzKHRoaXMuaW50ZXJhY3Rpb25TdGF0ZU1hcCkpIHtcbiAgICAgICAgICAgIGlmIChpZCAhPT0gaW50ZXJhY3Rpb25JZClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIHN0YXRlID0gdGhpcy5pbnRlcmFjdGlvblN0YXRlTWFwW2ludGVyYWN0aW9uSWRdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc3RhdGUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmaW5kIGN1cnJlbnQgc3RhdGUgZm9yIGludGVyYWN0aW9uIHcvIGlkPVwiJHtpZH1cImApO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIHNldEN1cnJlbnRTdGF0ZUZvckludGVyYWN0aW9uKGludGVyYWN0aW9uSWQsIHN0YXRlSWQpIHtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvblN0YXRlTWFwID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLmludGVyYWN0aW9uU3RhdGVNYXApLCB7IFtpbnRlcmFjdGlvbklkXTogc3RhdGVJZCB9KTtcbiAgICB9XG4gICAgZ2V0QWN0aXZlSW50ZXJhY3Rpb25TdGF0ZShpbnRlcmFjdGlvbklkKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgeyBpbnRlcmFjdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGludGVyYWN0aW9uID0gaW50ZXJhY3Rpb25zLmZpbmQoKGludGVyYWN0aW9uKSA9PiBpbnRlcmFjdGlvbi5pZCA9PT0gaW50ZXJhY3Rpb25JZCk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVN0YXRlSWQgPSAoX2EgPSBpbnRlcmFjdGlvbi5zdGF0ZXMuZmluZChzdGF0ZSA9PiBzdGF0ZS5pZCAhPT0gaW50ZXJhY3Rpb24uc3RhcnRTdGF0ZUlkKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlkO1xuICAgICAgICBpZiAoIWFjdGl2ZVN0YXRlSWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZpbmQgYWN0aXZlIHN0YXRlIGZvciBpbnRlcmFjdGlvbiB3LyBpZD1cIiR7aW50ZXJhY3Rpb25JZH1cImApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY3RpdmVTdGF0ZUlkO1xuICAgIH1cbiAgICBub3RpZnlJdGVtQ3RybHNDaGFuZ2UoaXRlbXNJZHMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW1JZCBvZiBpdGVtc0lkcykge1xuICAgICAgICAgICAgKF9hID0gdGhpcy5jdHJscy5nZXQoaXRlbUlkKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlY2VpdmVDaGFuZ2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bnBhY2tJdGVtcyhhcnRpY2xlKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1zQXJyID0gW107XG4gICAgICAgIGZvciAoY29uc3Qgc2VjdGlvbiBvZiBhcnRpY2xlLnNlY3Rpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IHRoaXMuZ2V0TmVzdGVkSXRlbXMoc2VjdGlvbi5pdGVtcyk7XG4gICAgICAgICAgICBpdGVtc0Fyci5wdXNoKC4uLml0ZW1zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbXNBcnI7XG4gICAgfVxuICAgIGdldE5lc3RlZEl0ZW1zKGl0ZW1zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgYWxsSXRlbXMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBpZiAoKDAsIGlzSXRlbVR5cGVfMS5pc0l0ZW1UeXBlKShpdGVtLCBzZGtfMS5BcnRpY2xlSXRlbVR5cGUuR3JvdXApIHx8ICgwLCBpc0l0ZW1UeXBlXzEuaXNJdGVtVHlwZSkoaXRlbSwgc2RrXzEuQXJ0aWNsZUl0ZW1UeXBlLkNvbXBvdW5kKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdyb3VwQ2hpbGRyZW4gPSAoX2EgPSBpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZW0uaXRlbXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5lc3RlZEl0ZW1zID0gdGhpcy5nZXROZXN0ZWRJdGVtcyhncm91cENoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICBhbGxJdGVtcy5wdXNoKC4uLm5lc3RlZEl0ZW1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFsbEl0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFsbEl0ZW1zO1xuICAgIH1cbiAgICBnZXREZWZhdWx0SXRlbVN0YWdlcygpIHtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICAgICAgY29uc3QgeyBpdGVtcyB9ID0gdGhpcztcbiAgICAgICAgY29uc3Qgc3RhZ2VzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICAgICAgY29uc3QgaXRlbVN0YXRlc01hcCA9IGl0ZW0uc3RhdGU7XG4gICAgICAgICAgICBpZiAoIWl0ZW1TdGF0ZXNNYXApXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN0YXRlSWQgb2YgT2JqZWN0LmtleXMoaXRlbVN0YXRlc01hcCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnRlcmFjdGlvbklkID0gdGhpcy5hY3RpdmVTdGF0ZUlkSW50ZXJhY3Rpb25JZE1hcFtzdGF0ZUlkXTtcbiAgICAgICAgICAgICAgICBpZiAoIWludGVyYWN0aW9uSWQpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHN0YWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbUlkOiBpdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYWN0aXZlJyxcbiAgICAgICAgICAgICAgICAgICAgaXNTdGFydFN0YXRlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkOiB0aW1lc3RhbXBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhZ2VzO1xuICAgIH1cbn1cbmV4cG9ydHMuSW50ZXJhY3Rpb25zUmVnaXN0cnkgPSBJbnRlcmFjdGlvbnNSZWdpc3RyeTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/interactions/InteractionsRegistry.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/interactions/ItemInteractionCtrl.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/interactions/ItemInteractionCtrl.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ItemInteractionController = void 0;\nconst getTransition_1 = __webpack_require__(/*! ./getTransition */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/interactions/getTransition.js\");\nconst CSSPropertyNameMap_1 = __webpack_require__(/*! ./CSSPropertyNameMap */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/interactions/CSSPropertyNameMap.js\");\nclass ItemInteractionController {\n    constructor(itemId, registry, onChange) {\n        this.itemId = itemId;\n        this.registry = registry;\n        this.onChange = onChange;\n        this.transitionsInProgress = new Set();\n        this.handleTransitionStart = (types) => {\n            this.transitionsInProgress.clear();\n            for (const type of types) {\n                this.transitionsInProgress.add(type);\n            }\n        };\n        this.handleTransitionEnd = (cssPropKey) => {\n            if (cssPropKey.startsWith('border-') && cssPropKey.endsWith('-radius')) {\n                cssPropKey = 'border-radius';\n            }\n            if (cssPropKey.startsWith('border-') && cssPropKey.endsWith('-width')) {\n                cssPropKey = 'border-width';\n            }\n            const styleKeys = (0, CSSPropertyNameMap_1.getStyleKeysFromCSSProperty)(cssPropKey);\n            for (const key of styleKeys) {\n                const found = this.transitionsInProgress.has(key);\n                if (!found)\n                    continue;\n                this.transitionsInProgress.delete(key);\n                break;\n            }\n            if (this.transitionsInProgress.size !== 0)\n                return;\n            this.registry.notifyTransitionEnd(this.itemId);\n        };\n        this.registry.register(itemId, this);\n    }\n    getState(keys) {\n        const stateProps = this.registry.getStatePropsForItem(this.itemId);\n        const styles = keys.reduce((map, styleKey) => {\n            const prop = stateProps[styleKey];\n            if ((prop === null || prop === void 0 ? void 0 : prop.value) === undefined)\n                return map;\n            map[styleKey] = prop.value;\n            return map;\n        }, {});\n        const transition = (0, getTransition_1.getTransition)(stateProps, keys);\n        return {\n            styles,\n            transition\n        };\n    }\n    getHasTrigger(itemId, triggerType) {\n        const triggers = this.registry.getItemAvailableTriggers(itemId);\n        return triggers.has(triggerType);\n    }\n    sendTrigger(type) {\n        this.registry.notifyTrigger(this.itemId, type);\n    }\n    receiveAction(type) {\n        var _a;\n        (_a = this.actionReceiver) === null || _a === void 0 ? void 0 : _a.call(this, type);\n    }\n    setActionReceiver(action) {\n        this.actionReceiver = action;\n    }\n    receiveChange() {\n        this.onChange();\n    }\n}\nexports.ItemInteractionController = ItemInteractionController;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvaW50ZXJhY3Rpb25zL0l0ZW1JbnRlcmFjdGlvbkN0cmwuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUNBQWlDO0FBQ2pDLHdCQUF3QixtQkFBTyxDQUFDLGdHQUFpQjtBQUNqRCw2QkFBNkIsbUJBQU8sQ0FBQywwR0FBc0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBSTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvaW50ZXJhY3Rpb25zL0l0ZW1JbnRlcmFjdGlvbkN0cmwuanM/MjhhYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSXRlbUludGVyYWN0aW9uQ29udHJvbGxlciA9IHZvaWQgMDtcbmNvbnN0IGdldFRyYW5zaXRpb25fMSA9IHJlcXVpcmUoXCIuL2dldFRyYW5zaXRpb25cIik7XG5jb25zdCBDU1NQcm9wZXJ0eU5hbWVNYXBfMSA9IHJlcXVpcmUoXCIuL0NTU1Byb3BlcnR5TmFtZU1hcFwiKTtcbmNsYXNzIEl0ZW1JbnRlcmFjdGlvbkNvbnRyb2xsZXIge1xuICAgIGNvbnN0cnVjdG9yKGl0ZW1JZCwgcmVnaXN0cnksIG9uQ2hhbmdlKSB7XG4gICAgICAgIHRoaXMuaXRlbUlkID0gaXRlbUlkO1xuICAgICAgICB0aGlzLnJlZ2lzdHJ5ID0gcmVnaXN0cnk7XG4gICAgICAgIHRoaXMub25DaGFuZ2UgPSBvbkNoYW5nZTtcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uc0luUHJvZ3Jlc3MgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuaGFuZGxlVHJhbnNpdGlvblN0YXJ0ID0gKHR5cGVzKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zaXRpb25zSW5Qcm9ncmVzcy5jbGVhcigpO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0eXBlIG9mIHR5cGVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uc0luUHJvZ3Jlc3MuYWRkKHR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZVRyYW5zaXRpb25FbmQgPSAoY3NzUHJvcEtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKGNzc1Byb3BLZXkuc3RhcnRzV2l0aCgnYm9yZGVyLScpICYmIGNzc1Byb3BLZXkuZW5kc1dpdGgoJy1yYWRpdXMnKSkge1xuICAgICAgICAgICAgICAgIGNzc1Byb3BLZXkgPSAnYm9yZGVyLXJhZGl1cyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3NzUHJvcEtleS5zdGFydHNXaXRoKCdib3JkZXItJykgJiYgY3NzUHJvcEtleS5lbmRzV2l0aCgnLXdpZHRoJykpIHtcbiAgICAgICAgICAgICAgICBjc3NQcm9wS2V5ID0gJ2JvcmRlci13aWR0aCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzdHlsZUtleXMgPSAoMCwgQ1NTUHJvcGVydHlOYW1lTWFwXzEuZ2V0U3R5bGVLZXlzRnJvbUNTU1Byb3BlcnR5KShjc3NQcm9wS2V5KTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHN0eWxlS2V5cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gdGhpcy50cmFuc2l0aW9uc0luUHJvZ3Jlc3MuaGFzKGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKCFmb3VuZClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uc0luUHJvZ3Jlc3MuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2l0aW9uc0luUHJvZ3Jlc3Muc2l6ZSAhPT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5Lm5vdGlmeVRyYW5zaXRpb25FbmQodGhpcy5pdGVtSWQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlZ2lzdHJ5LnJlZ2lzdGVyKGl0ZW1JZCwgdGhpcyk7XG4gICAgfVxuICAgIGdldFN0YXRlKGtleXMpIHtcbiAgICAgICAgY29uc3Qgc3RhdGVQcm9wcyA9IHRoaXMucmVnaXN0cnkuZ2V0U3RhdGVQcm9wc0Zvckl0ZW0odGhpcy5pdGVtSWQpO1xuICAgICAgICBjb25zdCBzdHlsZXMgPSBrZXlzLnJlZHVjZSgobWFwLCBzdHlsZUtleSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJvcCA9IHN0YXRlUHJvcHNbc3R5bGVLZXldO1xuICAgICAgICAgICAgaWYgKChwcm9wID09PSBudWxsIHx8IHByb3AgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb3AudmFsdWUpID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hcDtcbiAgICAgICAgICAgIG1hcFtzdHlsZUtleV0gPSBwcm9wLnZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIG1hcDtcbiAgICAgICAgfSwge30pO1xuICAgICAgICBjb25zdCB0cmFuc2l0aW9uID0gKDAsIGdldFRyYW5zaXRpb25fMS5nZXRUcmFuc2l0aW9uKShzdGF0ZVByb3BzLCBrZXlzKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0eWxlcyxcbiAgICAgICAgICAgIHRyYW5zaXRpb25cbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0SGFzVHJpZ2dlcihpdGVtSWQsIHRyaWdnZXJUeXBlKSB7XG4gICAgICAgIGNvbnN0IHRyaWdnZXJzID0gdGhpcy5yZWdpc3RyeS5nZXRJdGVtQXZhaWxhYmxlVHJpZ2dlcnMoaXRlbUlkKTtcbiAgICAgICAgcmV0dXJuIHRyaWdnZXJzLmhhcyh0cmlnZ2VyVHlwZSk7XG4gICAgfVxuICAgIHNlbmRUcmlnZ2VyKHR5cGUpIHtcbiAgICAgICAgdGhpcy5yZWdpc3RyeS5ub3RpZnlUcmlnZ2VyKHRoaXMuaXRlbUlkLCB0eXBlKTtcbiAgICB9XG4gICAgcmVjZWl2ZUFjdGlvbih0eXBlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5hY3Rpb25SZWNlaXZlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcywgdHlwZSk7XG4gICAgfVxuICAgIHNldEFjdGlvblJlY2VpdmVyKGFjdGlvbikge1xuICAgICAgICB0aGlzLmFjdGlvblJlY2VpdmVyID0gYWN0aW9uO1xuICAgIH1cbiAgICByZWNlaXZlQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLm9uQ2hhbmdlKCk7XG4gICAgfVxufVxuZXhwb3J0cy5JdGVtSW50ZXJhY3Rpb25Db250cm9sbGVyID0gSXRlbUludGVyYWN0aW9uQ29udHJvbGxlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/interactions/ItemInteractionCtrl.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/interactions/getTransition.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/interactions/getTransition.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getTransition = void 0;\nconst CSSPropertyNameMap_1 = __webpack_require__(/*! ./CSSPropertyNameMap */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/interactions/CSSPropertyNameMap.js\");\nfunction getTransition(state, keys) {\n    if (Object.keys(state).length === 0)\n        return 'none';\n    const transitions = [];\n    for (const [key, params] of Object.entries(state)) {\n        if (!keys.includes(key) || !params.transition)\n            continue;\n        const { transition: { duration, delay, timing } } = params;\n        const cssKey = CSSPropertyNameMap_1.CSSPropertyNameMap[key];\n        const nonZeroDuration = Math.max(duration, 0.01);\n        transitions.push(`${cssKey} ${nonZeroDuration}ms ${timing} ${delay}ms`);\n    }\n    return transitions.length > 0\n        ? transitions.join(', ')\n        : 'none';\n}\nexports.getTransition = getTransition;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvaW50ZXJhY3Rpb25zL2dldFRyYW5zaXRpb24uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QscUJBQXFCO0FBQ3JCLDZCQUE2QixtQkFBTyxDQUFDLDBHQUFzQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixjQUFjLDRCQUE0QjtBQUMxRDtBQUNBO0FBQ0EsNEJBQTRCLFFBQVEsRUFBRSxnQkFBZ0IsS0FBSyxRQUFRLEVBQUUsTUFBTTtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9pbnRlcmFjdGlvbnMvZ2V0VHJhbnNpdGlvbi5qcz9jMzI2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5nZXRUcmFuc2l0aW9uID0gdm9pZCAwO1xuY29uc3QgQ1NTUHJvcGVydHlOYW1lTWFwXzEgPSByZXF1aXJlKFwiLi9DU1NQcm9wZXJ0eU5hbWVNYXBcIik7XG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uKHN0YXRlLCBrZXlzKSB7XG4gICAgaWYgKE9iamVjdC5rZXlzKHN0YXRlKS5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiAnbm9uZSc7XG4gICAgY29uc3QgdHJhbnNpdGlvbnMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHBhcmFtc10gb2YgT2JqZWN0LmVudHJpZXMoc3RhdGUpKSB7XG4gICAgICAgIGlmICgha2V5cy5pbmNsdWRlcyhrZXkpIHx8ICFwYXJhbXMudHJhbnNpdGlvbilcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCB7IHRyYW5zaXRpb246IHsgZHVyYXRpb24sIGRlbGF5LCB0aW1pbmcgfSB9ID0gcGFyYW1zO1xuICAgICAgICBjb25zdCBjc3NLZXkgPSBDU1NQcm9wZXJ0eU5hbWVNYXBfMS5DU1NQcm9wZXJ0eU5hbWVNYXBba2V5XTtcbiAgICAgICAgY29uc3Qgbm9uWmVyb0R1cmF0aW9uID0gTWF0aC5tYXgoZHVyYXRpb24sIDAuMDEpO1xuICAgICAgICB0cmFuc2l0aW9ucy5wdXNoKGAke2Nzc0tleX0gJHtub25aZXJvRHVyYXRpb259bXMgJHt0aW1pbmd9ICR7ZGVsYXl9bXNgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zaXRpb25zLmxlbmd0aCA+IDBcbiAgICAgICAgPyB0cmFuc2l0aW9ucy5qb2luKCcsICcpXG4gICAgICAgIDogJ25vbmUnO1xufVxuZXhwb3J0cy5nZXRUcmFuc2l0aW9uID0gZ2V0VHJhbnNpdGlvbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/interactions/getTransition.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/interactions/useItemInteractionCtrl.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/interactions/useItemInteractionCtrl.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useItemInteractionCtrl = void 0;\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst ItemInteractionCtrl_1 = __webpack_require__(/*! ./ItemInteractionCtrl */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/interactions/ItemInteractionCtrl.js\");\nconst InteractionsContext_1 = __webpack_require__(/*! ../provider/InteractionsContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/InteractionsContext.js\");\nfunction useItemInteractionCtrl(itemId) {\n    const [_, triggerRender] = (0, react_1.useState)(0);\n    const registry = (0, InteractionsContext_1.useInteractionsRegistry)();\n    const ctrl = (0, react_1.useMemo)(() => {\n        if (!registry)\n            return;\n        return new ItemInteractionCtrl_1.ItemInteractionController(itemId, registry, () => triggerRender(prev => prev + 1));\n    }, [itemId, registry]);\n    return ctrl;\n}\nexports.useItemInteractionCtrl = useItemInteractionCtrl;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvaW50ZXJhY3Rpb25zL3VzZUl0ZW1JbnRlcmFjdGlvbkN0cmwuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsOEJBQThCO0FBQzlCLGdCQUFnQixtQkFBTyxDQUFDLDRDQUFPO0FBQy9CLDhCQUE4QixtQkFBTyxDQUFDLDRHQUF1QjtBQUM3RCw4QkFBOEIsbUJBQU8sQ0FBQyxrSEFBaUM7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDhCQUE4QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvaW50ZXJhY3Rpb25zL3VzZUl0ZW1JbnRlcmFjdGlvbkN0cmwuanM/YjhkMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudXNlSXRlbUludGVyYWN0aW9uQ3RybCA9IHZvaWQgMDtcbmNvbnN0IHJlYWN0XzEgPSByZXF1aXJlKFwicmVhY3RcIik7XG5jb25zdCBJdGVtSW50ZXJhY3Rpb25DdHJsXzEgPSByZXF1aXJlKFwiLi9JdGVtSW50ZXJhY3Rpb25DdHJsXCIpO1xuY29uc3QgSW50ZXJhY3Rpb25zQ29udGV4dF8xID0gcmVxdWlyZShcIi4uL3Byb3ZpZGVyL0ludGVyYWN0aW9uc0NvbnRleHRcIik7XG5mdW5jdGlvbiB1c2VJdGVtSW50ZXJhY3Rpb25DdHJsKGl0ZW1JZCkge1xuICAgIGNvbnN0IFtfLCB0cmlnZ2VyUmVuZGVyXSA9ICgwLCByZWFjdF8xLnVzZVN0YXRlKSgwKTtcbiAgICBjb25zdCByZWdpc3RyeSA9ICgwLCBJbnRlcmFjdGlvbnNDb250ZXh0XzEudXNlSW50ZXJhY3Rpb25zUmVnaXN0cnkpKCk7XG4gICAgY29uc3QgY3RybCA9ICgwLCByZWFjdF8xLnVzZU1lbW8pKCgpID0+IHtcbiAgICAgICAgaWYgKCFyZWdpc3RyeSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcmV0dXJuIG5ldyBJdGVtSW50ZXJhY3Rpb25DdHJsXzEuSXRlbUludGVyYWN0aW9uQ29udHJvbGxlcihpdGVtSWQsIHJlZ2lzdHJ5LCAoKSA9PiB0cmlnZ2VyUmVuZGVyKHByZXYgPT4gcHJldiArIDEpKTtcbiAgICB9LCBbaXRlbUlkLCByZWdpc3RyeV0pO1xuICAgIHJldHVybiBjdHJsO1xufVxuZXhwb3J0cy51c2VJdGVtSW50ZXJhY3Rpb25DdHJsID0gdXNlSXRlbUludGVyYWN0aW9uQ3RybDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/interactions/useItemInteractionCtrl.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/provider/ArticleRectContext.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/provider/ArticleRectContext.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ArticleRectContext = void 0;\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nexports.ArticleRectContext = (0, react_1.createContext)(null);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvcHJvdmlkZXIvQXJ0aWNsZVJlY3RDb250ZXh0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQjtBQUMxQixnQkFBZ0IsbUJBQU8sQ0FBQyw0Q0FBTztBQUMvQiwwQkFBMEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay1uZXh0anMvbGliL3Byb3ZpZGVyL0FydGljbGVSZWN0Q29udGV4dC5qcz9lOWU1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BcnRpY2xlUmVjdENvbnRleHQgPSB2b2lkIDA7XG5jb25zdCByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xuZXhwb3J0cy5BcnRpY2xlUmVjdENvbnRleHQgPSAoMCwgcmVhY3RfMS5jcmVhdGVDb250ZXh0KShudWxsKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/provider/ArticleRectContext.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/provider/CntrlContext.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/provider/CntrlContext.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CntrlContext = void 0;\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst defaultContext_1 = __webpack_require__(/*! ./defaultContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/defaultContext.js\");\nexports.CntrlContext = (0, react_1.createContext)(defaultContext_1.cntrlSdkContext);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvcHJvdmlkZXIvQ250cmxDb250ZXh0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQjtBQUNwQixnQkFBZ0IsbUJBQU8sQ0FBQyw0Q0FBTztBQUMvQix5QkFBeUIsbUJBQU8sQ0FBQyw4RkFBa0I7QUFDbkQsb0JBQW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9wcm92aWRlci9DbnRybENvbnRleHQuanM/MThmMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ250cmxDb250ZXh0ID0gdm9pZCAwO1xuY29uc3QgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbmNvbnN0IGRlZmF1bHRDb250ZXh0XzEgPSByZXF1aXJlKFwiLi9kZWZhdWx0Q29udGV4dFwiKTtcbmV4cG9ydHMuQ250cmxDb250ZXh0ID0gKDAsIHJlYWN0XzEuY3JlYXRlQ29udGV4dCkoZGVmYXVsdENvbnRleHRfMS5jbnRybFNka0NvbnRleHQpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/provider/CntrlContext.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/provider/CntrlProvider.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/provider/CntrlProvider.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CntrlProvider = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst CntrlContext_1 = __webpack_require__(/*! ./CntrlContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/CntrlContext.js\");\nconst defaultContext_1 = __webpack_require__(/*! ./defaultContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/defaultContext.js\");\nconst CntrlProvider = ({ children }) => {\n    return ((0, jsx_runtime_1.jsx)(CntrlContext_1.CntrlContext.Provider, { value: defaultContext_1.cntrlSdkContext, children: children }));\n};\nexports.CntrlProvider = CntrlProvider;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvcHJvdmlkZXIvQ250cmxQcm92aWRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUI7QUFDckIsc0JBQXNCLG1CQUFPLENBQUMsOERBQW1CO0FBQ2pELHVCQUF1QixtQkFBTyxDQUFDLDBGQUFnQjtBQUMvQyx5QkFBeUIsbUJBQU8sQ0FBQyw4RkFBa0I7QUFDbkQseUJBQXlCLFVBQVU7QUFDbkMsMkVBQTJFLDZEQUE2RDtBQUN4STtBQUNBLHFCQUFxQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvcHJvdmlkZXIvQ250cmxQcm92aWRlci5qcz9lM2MzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DbnRybFByb3ZpZGVyID0gdm9pZCAwO1xuY29uc3QganN4X3J1bnRpbWVfMSA9IHJlcXVpcmUoXCJyZWFjdC9qc3gtcnVudGltZVwiKTtcbmNvbnN0IENudHJsQ29udGV4dF8xID0gcmVxdWlyZShcIi4vQ250cmxDb250ZXh0XCIpO1xuY29uc3QgZGVmYXVsdENvbnRleHRfMSA9IHJlcXVpcmUoXCIuL2RlZmF1bHRDb250ZXh0XCIpO1xuY29uc3QgQ250cmxQcm92aWRlciA9ICh7IGNoaWxkcmVuIH0pID0+IHtcbiAgICByZXR1cm4gKCgwLCBqc3hfcnVudGltZV8xLmpzeCkoQ250cmxDb250ZXh0XzEuQ250cmxDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBkZWZhdWx0Q29udGV4dF8xLmNudHJsU2RrQ29udGV4dCwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5leHBvcnRzLkNudHJsUHJvdmlkZXIgPSBDbnRybFByb3ZpZGVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/provider/CntrlProvider.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/provider/CntrlSdkContext.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/provider/CntrlSdkContext.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CntrlSdkContext = void 0;\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nclass CntrlSdkContext {\n    constructor(customItems, customSections) {\n        this.customItems = customItems;\n        this.customSections = customSections;\n        this._layouts = [];\n        this._fonts = undefined;\n        this.sectionHeightMap = new Map();\n        this.components = new Map();\n    }\n    resolveSectionData(sections) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const resolvers = sections.map(section => {\n                const resolver = section.name ? this.customSections.getResolver(section.name) : undefined;\n                if (!resolver)\n                    return;\n                return {\n                    name: section.name,\n                    resolver\n                };\n            }).filter(isDefined);\n            return Object.fromEntries(yield Promise.all(resolvers.map(({ name, resolver }) => __awaiter(this, void 0, void 0, function* () { return [name, yield resolver()]; }))));\n        });\n    }\n    init({ project, article }) {\n        this.setLayouts(project.layouts);\n        this.setComponents(sdk_1.components);\n        this.setFonts(project.fonts);\n        this.setSectionsHeight(article.sections);\n    }\n    setLayouts(layouts) {\n        this._layouts = layouts;\n    }\n    setComponents(components) {\n        for (const component of components) {\n            this.components.set(component.id, component);\n        }\n    }\n    setFonts(fonts) {\n        this._fonts = fonts;\n    }\n    setSectionsHeight(sections) {\n        for (const section of sections) {\n            this.sectionHeightMap.set(section.id, section.height);\n        }\n    }\n    getSectionHeightData(sectionId) {\n        const sectionHeightData = this.sectionHeightMap.get(sectionId);\n        return sectionHeightData;\n    }\n    get layouts() {\n        return this._layouts;\n    }\n    get fonts() {\n        return this._fonts;\n    }\n    getComponent(id) {\n        return this.components.get(id);\n    }\n}\nexports.CntrlSdkContext = CntrlSdkContext;\nfunction isDefined(value) {\n    return value !== undefined;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvcHJvdmlkZXIvQ250cmxTZGtDb250ZXh0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx1QkFBdUI7QUFDdkIsY0FBYyxtQkFBTyxDQUFDLHFFQUFpQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYix5RUFBeUUsZ0JBQWdCLG9EQUFvRCxrQ0FBa0M7QUFDL0ssU0FBUztBQUNUO0FBQ0EsV0FBVyxrQkFBa0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay1uZXh0anMvbGliL3Byb3ZpZGVyL0NudHJsU2RrQ29udGV4dC5qcz9hN2U5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNudHJsU2RrQ29udGV4dCA9IHZvaWQgMDtcbmNvbnN0IHNka18xID0gcmVxdWlyZShcIkBjbnRybC1zaXRlL3Nka1wiKTtcbmNsYXNzIENudHJsU2RrQ29udGV4dCB7XG4gICAgY29uc3RydWN0b3IoY3VzdG9tSXRlbXMsIGN1c3RvbVNlY3Rpb25zKSB7XG4gICAgICAgIHRoaXMuY3VzdG9tSXRlbXMgPSBjdXN0b21JdGVtcztcbiAgICAgICAgdGhpcy5jdXN0b21TZWN0aW9ucyA9IGN1c3RvbVNlY3Rpb25zO1xuICAgICAgICB0aGlzLl9sYXlvdXRzID0gW107XG4gICAgICAgIHRoaXMuX2ZvbnRzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnNlY3Rpb25IZWlnaHRNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgcmVzb2x2ZVNlY3Rpb25EYXRhKHNlY3Rpb25zKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCByZXNvbHZlcnMgPSBzZWN0aW9ucy5tYXAoc2VjdGlvbiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzb2x2ZXIgPSBzZWN0aW9uLm5hbWUgPyB0aGlzLmN1c3RvbVNlY3Rpb25zLmdldFJlc29sdmVyKHNlY3Rpb24ubmFtZSkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXNvbHZlcilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHNlY3Rpb24ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZXJcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSkuZmlsdGVyKGlzRGVmaW5lZCk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKHlpZWxkIFByb21pc2UuYWxsKHJlc29sdmVycy5tYXAoKHsgbmFtZSwgcmVzb2x2ZXIgfSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgeyByZXR1cm4gW25hbWUsIHlpZWxkIHJlc29sdmVyKCldOyB9KSkpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGluaXQoeyBwcm9qZWN0LCBhcnRpY2xlIH0pIHtcbiAgICAgICAgdGhpcy5zZXRMYXlvdXRzKHByb2plY3QubGF5b3V0cyk7XG4gICAgICAgIHRoaXMuc2V0Q29tcG9uZW50cyhzZGtfMS5jb21wb25lbnRzKTtcbiAgICAgICAgdGhpcy5zZXRGb250cyhwcm9qZWN0LmZvbnRzKTtcbiAgICAgICAgdGhpcy5zZXRTZWN0aW9uc0hlaWdodChhcnRpY2xlLnNlY3Rpb25zKTtcbiAgICB9XG4gICAgc2V0TGF5b3V0cyhsYXlvdXRzKSB7XG4gICAgICAgIHRoaXMuX2xheW91dHMgPSBsYXlvdXRzO1xuICAgIH1cbiAgICBzZXRDb21wb25lbnRzKGNvbXBvbmVudHMpIHtcbiAgICAgICAgZm9yIChjb25zdCBjb21wb25lbnQgb2YgY29tcG9uZW50cykge1xuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnNldChjb21wb25lbnQuaWQsIGNvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0Rm9udHMoZm9udHMpIHtcbiAgICAgICAgdGhpcy5fZm9udHMgPSBmb250cztcbiAgICB9XG4gICAgc2V0U2VjdGlvbnNIZWlnaHQoc2VjdGlvbnMpIHtcbiAgICAgICAgZm9yIChjb25zdCBzZWN0aW9uIG9mIHNlY3Rpb25zKSB7XG4gICAgICAgICAgICB0aGlzLnNlY3Rpb25IZWlnaHRNYXAuc2V0KHNlY3Rpb24uaWQsIHNlY3Rpb24uaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRTZWN0aW9uSGVpZ2h0RGF0YShzZWN0aW9uSWQpIHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbkhlaWdodERhdGEgPSB0aGlzLnNlY3Rpb25IZWlnaHRNYXAuZ2V0KHNlY3Rpb25JZCk7XG4gICAgICAgIHJldHVybiBzZWN0aW9uSGVpZ2h0RGF0YTtcbiAgICB9XG4gICAgZ2V0IGxheW91dHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYXlvdXRzO1xuICAgIH1cbiAgICBnZXQgZm9udHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb250cztcbiAgICB9XG4gICAgZ2V0Q29tcG9uZW50KGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudHMuZ2V0KGlkKTtcbiAgICB9XG59XG5leHBvcnRzLkNudHJsU2RrQ29udGV4dCA9IENudHJsU2RrQ29udGV4dDtcbmZ1bmN0aW9uIGlzRGVmaW5lZCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/provider/CntrlSdkContext.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/provider/CustomItemRegistry.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/provider/CustomItemRegistry.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CustomItemRegistry = void 0;\nclass CustomItemRegistry {\n    constructor() {\n        this.definitions = new Map();\n    }\n    define(type, component) {\n        this.definitions.set(type, component);\n        return this;\n    }\n    get(type) {\n        return this.definitions.get(type);\n    }\n}\nexports.CustomItemRegistry = CustomItemRegistry;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvcHJvdmlkZXIvQ3VzdG9tSXRlbVJlZ2lzdHJ5LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay1uZXh0anMvbGliL3Byb3ZpZGVyL0N1c3RvbUl0ZW1SZWdpc3RyeS5qcz9mMWNmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DdXN0b21JdGVtUmVnaXN0cnkgPSB2b2lkIDA7XG5jbGFzcyBDdXN0b21JdGVtUmVnaXN0cnkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmRlZmluaXRpb25zID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBkZWZpbmUodHlwZSwgY29tcG9uZW50KSB7XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbnMuc2V0KHR5cGUsIGNvbXBvbmVudCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXQodHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWZpbml0aW9ucy5nZXQodHlwZSk7XG4gICAgfVxufVxuZXhwb3J0cy5DdXN0b21JdGVtUmVnaXN0cnkgPSBDdXN0b21JdGVtUmVnaXN0cnk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/provider/CustomItemRegistry.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/provider/CustomSectionRegistry.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/provider/CustomSectionRegistry.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CustomSectionRegistry = void 0;\nclass CustomSectionRegistry {\n    constructor() {\n        this.definitions = new Map();\n    }\n    define(name, section) {\n        this.definitions.set(name, section);\n        return this;\n    }\n    getComponent(name) {\n        var _a;\n        return (_a = this.definitions.get(name)) === null || _a === void 0 ? void 0 : _a.component;\n    }\n    getResolver(name) {\n        var _a;\n        return (_a = this.definitions.get(name)) === null || _a === void 0 ? void 0 : _a.dataResolver;\n    }\n}\nexports.CustomSectionRegistry = CustomSectionRegistry;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvcHJvdmlkZXIvQ3VzdG9tU2VjdGlvblJlZ2lzdHJ5LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9wcm92aWRlci9DdXN0b21TZWN0aW9uUmVnaXN0cnkuanM/MjQ5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ3VzdG9tU2VjdGlvblJlZ2lzdHJ5ID0gdm9pZCAwO1xuY2xhc3MgQ3VzdG9tU2VjdGlvblJlZ2lzdHJ5IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5kZWZpbml0aW9ucyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgZGVmaW5lKG5hbWUsIHNlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5kZWZpbml0aW9ucy5zZXQobmFtZSwgc2VjdGlvbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXRDb21wb25lbnQobmFtZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzLmRlZmluaXRpb25zLmdldChuYW1lKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbXBvbmVudDtcbiAgICB9XG4gICAgZ2V0UmVzb2x2ZXIobmFtZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzLmRlZmluaXRpb25zLmdldChuYW1lKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRhdGFSZXNvbHZlcjtcbiAgICB9XG59XG5leHBvcnRzLkN1c3RvbVNlY3Rpb25SZWdpc3RyeSA9IEN1c3RvbVNlY3Rpb25SZWdpc3RyeTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/provider/CustomSectionRegistry.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/provider/InteractionsContext.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/provider/InteractionsContext.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useInteractionsRegistry = exports.InteractionsProvider = exports.InteractionsContext = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst InteractionsRegistry_1 = __webpack_require__(/*! ../interactions/InteractionsRegistry */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/interactions/InteractionsRegistry.js\");\nconst useCurrentLayout_1 = __webpack_require__(/*! ../common/useCurrentLayout */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/common/useCurrentLayout.js\");\nexports.InteractionsContext = (0, react_1.createContext)(undefined);\nconst InteractionsProvider = ({ article, children }) => {\n    const { layoutId } = (0, useCurrentLayout_1.useCurrentLayout)();\n    const registry = (0, react_1.useMemo)(() => {\n        if (!layoutId)\n            return;\n        return new InteractionsRegistry_1.InteractionsRegistry(article, layoutId);\n    }, [layoutId]);\n    return ((0, jsx_runtime_1.jsx)(exports.InteractionsContext.Provider, { value: registry, children: children }));\n};\nexports.InteractionsProvider = InteractionsProvider;\nfunction useInteractionsRegistry() {\n    const registry = (0, react_1.useContext)(exports.InteractionsContext);\n    return registry;\n}\nexports.useInteractionsRegistry = useInteractionsRegistry;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvcHJvdmlkZXIvSW50ZXJhY3Rpb25zQ29udGV4dC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwrQkFBK0IsR0FBRyw0QkFBNEIsR0FBRywyQkFBMkI7QUFDNUYsc0JBQXNCLG1CQUFPLENBQUMsOERBQW1CO0FBQ2pELGdCQUFnQixtQkFBTyxDQUFDLDRDQUFPO0FBQy9CLCtCQUErQixtQkFBTyxDQUFDLDRIQUFzQztBQUM3RSwyQkFBMkIsbUJBQU8sQ0FBQyx3R0FBNEI7QUFDL0QsMkJBQTJCO0FBQzNCLGdDQUFnQyxtQkFBbUI7QUFDbkQsWUFBWSxXQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDJFQUEyRSxxQ0FBcUM7QUFDaEg7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay1uZXh0anMvbGliL3Byb3ZpZGVyL0ludGVyYWN0aW9uc0NvbnRleHQuanM/MWYwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudXNlSW50ZXJhY3Rpb25zUmVnaXN0cnkgPSBleHBvcnRzLkludGVyYWN0aW9uc1Byb3ZpZGVyID0gZXhwb3J0cy5JbnRlcmFjdGlvbnNDb250ZXh0ID0gdm9pZCAwO1xuY29uc3QganN4X3J1bnRpbWVfMSA9IHJlcXVpcmUoXCJyZWFjdC9qc3gtcnVudGltZVwiKTtcbmNvbnN0IHJlYWN0XzEgPSByZXF1aXJlKFwicmVhY3RcIik7XG5jb25zdCBJbnRlcmFjdGlvbnNSZWdpc3RyeV8xID0gcmVxdWlyZShcIi4uL2ludGVyYWN0aW9ucy9JbnRlcmFjdGlvbnNSZWdpc3RyeVwiKTtcbmNvbnN0IHVzZUN1cnJlbnRMYXlvdXRfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vdXNlQ3VycmVudExheW91dFwiKTtcbmV4cG9ydHMuSW50ZXJhY3Rpb25zQ29udGV4dCA9ICgwLCByZWFjdF8xLmNyZWF0ZUNvbnRleHQpKHVuZGVmaW5lZCk7XG5jb25zdCBJbnRlcmFjdGlvbnNQcm92aWRlciA9ICh7IGFydGljbGUsIGNoaWxkcmVuIH0pID0+IHtcbiAgICBjb25zdCB7IGxheW91dElkIH0gPSAoMCwgdXNlQ3VycmVudExheW91dF8xLnVzZUN1cnJlbnRMYXlvdXQpKCk7XG4gICAgY29uc3QgcmVnaXN0cnkgPSAoMCwgcmVhY3RfMS51c2VNZW1vKSgoKSA9PiB7XG4gICAgICAgIGlmICghbGF5b3V0SWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHJldHVybiBuZXcgSW50ZXJhY3Rpb25zUmVnaXN0cnlfMS5JbnRlcmFjdGlvbnNSZWdpc3RyeShhcnRpY2xlLCBsYXlvdXRJZCk7XG4gICAgfSwgW2xheW91dElkXSk7XG4gICAgcmV0dXJuICgoMCwganN4X3J1bnRpbWVfMS5qc3gpKGV4cG9ydHMuSW50ZXJhY3Rpb25zQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogcmVnaXN0cnksIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSk7XG59O1xuZXhwb3J0cy5JbnRlcmFjdGlvbnNQcm92aWRlciA9IEludGVyYWN0aW9uc1Byb3ZpZGVyO1xuZnVuY3Rpb24gdXNlSW50ZXJhY3Rpb25zUmVnaXN0cnkoKSB7XG4gICAgY29uc3QgcmVnaXN0cnkgPSAoMCwgcmVhY3RfMS51c2VDb250ZXh0KShleHBvcnRzLkludGVyYWN0aW9uc0NvbnRleHQpO1xuICAgIHJldHVybiByZWdpc3RyeTtcbn1cbmV4cG9ydHMudXNlSW50ZXJhY3Rpb25zUmVnaXN0cnkgPSB1c2VJbnRlcmFjdGlvbnNSZWdpc3RyeTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/provider/InteractionsContext.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/provider/Keyframes.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/provider/Keyframes.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Keyframes = void 0;\nclass Keyframes {\n    constructor(keyframes = []) {\n        this.keyframes = keyframes;\n    }\n    getItemKeyframes(itemId) {\n        return this.keyframes.filter(kf => kf.itemId === itemId);\n    }\n}\nexports.Keyframes = Keyframes;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvcHJvdmlkZXIvS2V5ZnJhbWVzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9wcm92aWRlci9LZXlmcmFtZXMuanM/ZmJmZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuS2V5ZnJhbWVzID0gdm9pZCAwO1xuY2xhc3MgS2V5ZnJhbWVzIHtcbiAgICBjb25zdHJ1Y3RvcihrZXlmcmFtZXMgPSBbXSkge1xuICAgICAgICB0aGlzLmtleWZyYW1lcyA9IGtleWZyYW1lcztcbiAgICB9XG4gICAgZ2V0SXRlbUtleWZyYW1lcyhpdGVtSWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5ZnJhbWVzLmZpbHRlcihrZiA9PiBrZi5pdGVtSWQgPT09IGl0ZW1JZCk7XG4gICAgfVxufVxuZXhwb3J0cy5LZXlmcmFtZXMgPSBLZXlmcmFtZXM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/provider/Keyframes.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/provider/KeyframesContext.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/provider/KeyframesContext.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.KeyframesContext = void 0;\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst Keyframes_1 = __webpack_require__(/*! ./Keyframes */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/Keyframes.js\");\nexports.KeyframesContext = (0, react_1.createContext)(new Keyframes_1.Keyframes());\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvcHJvdmlkZXIvS2V5ZnJhbWVzQ29udGV4dC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx3QkFBd0I7QUFDeEIsZ0JBQWdCLG1CQUFPLENBQUMsNENBQU87QUFDL0Isb0JBQW9CLG1CQUFPLENBQUMsb0ZBQWE7QUFDekMsd0JBQXdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9wcm92aWRlci9LZXlmcmFtZXNDb250ZXh0LmpzPzc3NWYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLktleWZyYW1lc0NvbnRleHQgPSB2b2lkIDA7XG5jb25zdCByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xuY29uc3QgS2V5ZnJhbWVzXzEgPSByZXF1aXJlKFwiLi9LZXlmcmFtZXNcIik7XG5leHBvcnRzLktleWZyYW1lc0NvbnRleHQgPSAoMCwgcmVhY3RfMS5jcmVhdGVDb250ZXh0KShuZXcgS2V5ZnJhbWVzXzEuS2V5ZnJhbWVzKCkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/provider/KeyframesContext.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/provider/LayoutContext.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/provider/LayoutContext.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LayoutContext = void 0;\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nexports.LayoutContext = (0, react_1.createContext)(undefined);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvcHJvdmlkZXIvTGF5b3V0Q29udGV4dC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUI7QUFDckIsZ0JBQWdCLG1CQUFPLENBQUMsNENBQU87QUFDL0IscUJBQXFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi9wcm92aWRlci9MYXlvdXRDb250ZXh0LmpzPzY2OTAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkxheW91dENvbnRleHQgPSB2b2lkIDA7XG5jb25zdCByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xuZXhwb3J0cy5MYXlvdXRDb250ZXh0ID0gKDAsIHJlYWN0XzEuY3JlYXRlQ29udGV4dCkodW5kZWZpbmVkKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/provider/LayoutContext.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/provider/WebGLContextManagerContext.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/provider/WebGLContextManagerContext.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WebglContextManagerContext = void 0;\nconst effects_1 = __webpack_require__(/*! @cntrl-site/effects */ \"./node_modules/@cntrl-site/effects/lib/index.js\");\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nexports.WebglContextManagerContext = (0, react_1.createContext)(new effects_1.WebGLContextManager());\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvcHJvdmlkZXIvV2ViR0xDb250ZXh0TWFuYWdlckNvbnRleHQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0NBQWtDO0FBQ2xDLGtCQUFrQixtQkFBTyxDQUFDLDRFQUFxQjtBQUMvQyxnQkFBZ0IsbUJBQU8sQ0FBQyw0Q0FBTztBQUMvQixrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay1uZXh0anMvbGliL3Byb3ZpZGVyL1dlYkdMQ29udGV4dE1hbmFnZXJDb250ZXh0LmpzP2NjZTAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLldlYmdsQ29udGV4dE1hbmFnZXJDb250ZXh0ID0gdm9pZCAwO1xuY29uc3QgZWZmZWN0c18xID0gcmVxdWlyZShcIkBjbnRybC1zaXRlL2VmZmVjdHNcIik7XG5jb25zdCByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xuZXhwb3J0cy5XZWJnbENvbnRleHRNYW5hZ2VyQ29udGV4dCA9ICgwLCByZWFjdF8xLmNyZWF0ZUNvbnRleHQpKG5ldyBlZmZlY3RzXzEuV2ViR0xDb250ZXh0TWFuYWdlcigpKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/provider/WebGLContextManagerContext.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/provider/defaultContext.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/provider/defaultContext.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.cntrlSdkContext = void 0;\nconst CntrlSdkContext_1 = __webpack_require__(/*! ./CntrlSdkContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/CntrlSdkContext.js\");\nconst CustomItemRegistry_1 = __webpack_require__(/*! ./CustomItemRegistry */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/CustomItemRegistry.js\");\nconst CustomSectionRegistry_1 = __webpack_require__(/*! ./CustomSectionRegistry */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/CustomSectionRegistry.js\");\nconst customItems = new CustomItemRegistry_1.CustomItemRegistry();\nconst customSections = new CustomSectionRegistry_1.CustomSectionRegistry();\nexports.cntrlSdkContext = new CntrlSdkContext_1.CntrlSdkContext(customItems, customSections);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvcHJvdmlkZXIvZGVmYXVsdENvbnRleHQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCO0FBQ3ZCLDBCQUEwQixtQkFBTyxDQUFDLGdHQUFtQjtBQUNyRCw2QkFBNkIsbUJBQU8sQ0FBQyxzR0FBc0I7QUFDM0QsZ0NBQWdDLG1CQUFPLENBQUMsNEdBQXlCO0FBQ2pFO0FBQ0E7QUFDQSx1QkFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay1uZXh0anMvbGliL3Byb3ZpZGVyL2RlZmF1bHRDb250ZXh0LmpzPzdmOTgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNudHJsU2RrQ29udGV4dCA9IHZvaWQgMDtcbmNvbnN0IENudHJsU2RrQ29udGV4dF8xID0gcmVxdWlyZShcIi4vQ250cmxTZGtDb250ZXh0XCIpO1xuY29uc3QgQ3VzdG9tSXRlbVJlZ2lzdHJ5XzEgPSByZXF1aXJlKFwiLi9DdXN0b21JdGVtUmVnaXN0cnlcIik7XG5jb25zdCBDdXN0b21TZWN0aW9uUmVnaXN0cnlfMSA9IHJlcXVpcmUoXCIuL0N1c3RvbVNlY3Rpb25SZWdpc3RyeVwiKTtcbmNvbnN0IGN1c3RvbUl0ZW1zID0gbmV3IEN1c3RvbUl0ZW1SZWdpc3RyeV8xLkN1c3RvbUl0ZW1SZWdpc3RyeSgpO1xuY29uc3QgY3VzdG9tU2VjdGlvbnMgPSBuZXcgQ3VzdG9tU2VjdGlvblJlZ2lzdHJ5XzEuQ3VzdG9tU2VjdGlvblJlZ2lzdHJ5KCk7XG5leHBvcnRzLmNudHJsU2RrQ29udGV4dCA9IG5ldyBDbnRybFNka0NvbnRleHRfMS5DbnRybFNka0NvbnRleHQoY3VzdG9tSXRlbXMsIGN1c3RvbVNlY3Rpb25zKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/provider/defaultContext.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/provider/useCntrlContext.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/provider/useCntrlContext.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useCntrlContext = void 0;\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst CntrlContext_1 = __webpack_require__(/*! ./CntrlContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/CntrlContext.js\");\nfunction useCntrlContext() {\n    const context = (0, react_1.useContext)(CntrlContext_1.CntrlContext);\n    return context;\n}\nexports.useCntrlContext = useCntrlContext;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvcHJvdmlkZXIvdXNlQ250cmxDb250ZXh0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QjtBQUN2QixnQkFBZ0IsbUJBQU8sQ0FBQyw0Q0FBTztBQUMvQix1QkFBdUIsbUJBQU8sQ0FBQywwRkFBZ0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay1uZXh0anMvbGliL3Byb3ZpZGVyL3VzZUNudHJsQ29udGV4dC5qcz9iZDEzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy51c2VDbnRybENvbnRleHQgPSB2b2lkIDA7XG5jb25zdCByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xuY29uc3QgQ250cmxDb250ZXh0XzEgPSByZXF1aXJlKFwiLi9DbnRybENvbnRleHRcIik7XG5mdW5jdGlvbiB1c2VDbnRybENvbnRleHQoKSB7XG4gICAgY29uc3QgY29udGV4dCA9ICgwLCByZWFjdF8xLnVzZUNvbnRleHQpKENudHJsQ29udGV4dF8xLkNudHJsQ29udGV4dCk7XG4gICAgcmV0dXJuIGNvbnRleHQ7XG59XG5leHBvcnRzLnVzZUNudHJsQ29udGV4dCA9IHVzZUNudHJsQ29udGV4dDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/provider/useCntrlContext.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/utils/Animator/Animator.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/utils/Animator/Animator.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Animator = void 0;\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst color_1 = __webpack_require__(/*! @cntrl-site/color */ \"./node_modules/@cntrl-site/color/lib/index.js\");\nconst binSearchInsertAt_1 = __webpack_require__(/*! ../binSearchInsertAt */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/binSearchInsertAt.js\");\nconst rangeMap_1 = __webpack_require__(/*! ../rangeMap */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/rangeMap.js\");\nconst compare = (lhs, rhs) => lhs.position - rhs.position;\nconst insertBin = (0, binSearchInsertAt_1.createInsert)(binSearchInsertAt_1.binSearchInsertAt, compare);\nclass Animator {\n    static pushKeyframeToMap(keyframe, map) {\n        insertBin(map[keyframe.type], keyframe);\n    }\n    constructor(keyframes) {\n        this.keyframes = keyframes;\n        this.keyframesMap = createKeyframesMap();\n        this.fillKeyframesMap();\n    }\n    getFXParams(valuesMap, pos) {\n        const keyframes = this.keyframesMap[sdk_1.KeyframeType.FXParams];\n        if (!keyframes.length)\n            return valuesMap;\n        if (keyframes.length === 1) {\n            const [keyframe] = keyframes;\n            return Object.entries(valuesMap).reduce((acc, [key, fallbackValue]) => {\n                var _a;\n                acc[key] = (_a = keyframe.value[key]) !== null && _a !== void 0 ? _a : fallbackValue;\n                return acc;\n            }, {});\n        }\n        const { start, end } = this.getStartEnd(pos, keyframes);\n        return Object.entries(valuesMap).reduce((acc, [key, fallbackValue]) => {\n            var _a, _b;\n            acc[key] = (0, rangeMap_1.rangeMap)(pos, start.position, end.position, (_a = start.value[key]) !== null && _a !== void 0 ? _a : fallbackValue, (_b = end.value[key]) !== null && _b !== void 0 ? _b : fallbackValue, true);\n            return acc;\n        }, {});\n    }\n    getDimensions(values, pos) {\n        const keyframes = this.keyframesMap[sdk_1.KeyframeType.Dimensions];\n        if (!keyframes || !keyframes.length)\n            return values;\n        if (keyframes.length === 1) {\n            const [keyframe] = keyframes;\n            return {\n                width: keyframe.value.width,\n                height: keyframe.value.height\n            };\n        }\n        const { start, end } = this.getStartEnd(pos, keyframes);\n        return {\n            width: (0, rangeMap_1.rangeMap)(pos, start.position, end.position, start.value.width, end.value.width, true),\n            height: (0, rangeMap_1.rangeMap)(pos, start.position, end.position, start.value.height, end.value.height, true)\n        };\n    }\n    getPositions(values, pos) {\n        const keyframes = this.keyframesMap[sdk_1.KeyframeType.Position];\n        if (!keyframes || !keyframes.length)\n            return values;\n        if (keyframes.length === 1) {\n            const [keyframe] = keyframes;\n            return {\n                left: keyframe.value.left,\n                top: keyframe.value.top\n            };\n        }\n        const { start, end } = this.getStartEnd(pos, keyframes);\n        return {\n            left: (0, rangeMap_1.rangeMap)(pos, start.position, end.position, start.value.left, end.value.left, true),\n            top: (0, rangeMap_1.rangeMap)(pos, start.position, end.position, start.value.top, end.value.top, true)\n        };\n    }\n    getColor(values, pos) {\n        const keyframes = this.keyframesMap[sdk_1.KeyframeType.Color];\n        if (!keyframes || !keyframes.length)\n            return values;\n        if (keyframes.length === 1) {\n            const [keyframe] = keyframes;\n            return {\n                color: keyframe.value.color\n            };\n        }\n        const { start, end } = this.getStartEnd(pos, keyframes);\n        return {\n            color: this.getRangeColor(start, end, pos)\n        };\n    }\n    getBorderColor(values, pos) {\n        const keyframes = this.keyframesMap[sdk_1.KeyframeType.BorderColor];\n        if (!keyframes || !keyframes.length)\n            return values;\n        if (keyframes.length === 1) {\n            const [keyframe] = keyframes;\n            return {\n                color: keyframe.value.color\n            };\n        }\n        const { start, end } = this.getStartEnd(pos, keyframes);\n        return {\n            color: this.getRangeColor(start, end, pos)\n        };\n    }\n    getRadius(values, pos) {\n        const keyframes = this.keyframesMap[sdk_1.KeyframeType.BorderRadius];\n        if (!keyframes || !keyframes.length)\n            return values;\n        if (keyframes.length === 1) {\n            const [keyframe] = keyframes;\n            return {\n                radius: keyframe.value.radius\n            };\n        }\n        const { start, end } = this.getStartEnd(pos, keyframes);\n        return {\n            radius: (0, rangeMap_1.rangeMap)(pos, start.position, end.position, start.value.radius, end.value.radius, true)\n        };\n    }\n    getBorderWidth(values, pos) {\n        const keyframes = this.keyframesMap[sdk_1.KeyframeType.BorderWidth];\n        if (!keyframes || !keyframes.length)\n            return values;\n        if (keyframes.length === 1) {\n            const [keyframe] = keyframes;\n            return {\n                borderWidth: keyframe.value.borderWidth\n            };\n        }\n        const { start, end } = this.getStartEnd(pos, keyframes);\n        return {\n            borderWidth: (0, rangeMap_1.rangeMap)(pos, start.position, end.position, start.value.borderWidth, end.value.borderWidth, true)\n        };\n    }\n    getRotation(values, pos) {\n        const keyframes = this.keyframesMap[sdk_1.KeyframeType.Rotation];\n        if (!keyframes || !keyframes.length)\n            return values;\n        if (keyframes.length === 1) {\n            const [keyframe] = keyframes;\n            return {\n                angle: keyframe.value.angle\n            };\n        }\n        const { start, end } = this.getStartEnd(pos, keyframes);\n        return {\n            angle: (0, rangeMap_1.rangeMap)(pos, start.position, end.position, start.value.angle, end.value.angle, true)\n        };\n    }\n    getOpacity(values, pos) {\n        const keyframes = this.keyframesMap[sdk_1.KeyframeType.Opacity];\n        if (!keyframes || !keyframes.length)\n            return values;\n        if (keyframes.length === 1) {\n            const [keyframe] = keyframes;\n            return {\n                opacity: keyframe.value.opacity\n            };\n        }\n        const { start, end } = this.getStartEnd(pos, keyframes);\n        return {\n            opacity: (0, rangeMap_1.rangeMap)(pos, start.position, end.position, start.value.opacity, end.value.opacity, true)\n        };\n    }\n    getScale(values, pos) {\n        const keyframes = this.keyframesMap[sdk_1.KeyframeType.Scale];\n        if (!keyframes || !keyframes.length)\n            return values;\n        if (keyframes.length === 1) {\n            const [keyframe] = keyframes;\n            return {\n                scale: keyframe.value.scale\n            };\n        }\n        const { start, end } = this.getStartEnd(pos, keyframes);\n        return {\n            scale: (0, rangeMap_1.rangeMap)(pos, start.position, end.position, start.value.scale, end.value.scale, true)\n        };\n    }\n    getBlur(values, pos) {\n        const keyframes = this.keyframesMap[sdk_1.KeyframeType.Blur];\n        if (!keyframes || !keyframes.length)\n            return values;\n        if (keyframes.length === 1) {\n            const [keyframe] = keyframes;\n            return {\n                blur: keyframe.value.blur\n            };\n        }\n        const { start, end } = this.getStartEnd(pos, keyframes);\n        return {\n            blur: (0, rangeMap_1.rangeMap)(pos, start.position, end.position, start.value.blur, end.value.blur, true)\n        };\n    }\n    getBackdropBlur(values, pos) {\n        const keyframes = this.keyframesMap[sdk_1.KeyframeType.BackdropBlur];\n        if (!keyframes || !keyframes.length)\n            return values;\n        if (keyframes.length === 1) {\n            const [keyframe] = keyframes;\n            return {\n                backdropBlur: keyframe.value.backdropBlur\n            };\n        }\n        const { start, end } = this.getStartEnd(pos, keyframes);\n        return {\n            backdropBlur: (0, rangeMap_1.rangeMap)(pos, start.position, end.position, start.value.backdropBlur, end.value.backdropBlur, true)\n        };\n    }\n    getTextColor(values, pos) {\n        const keyframes = this.keyframesMap[sdk_1.KeyframeType.TextColor];\n        if (!keyframes || !keyframes.length)\n            return values;\n        if (keyframes.length === 1) {\n            const [keyframe] = keyframes;\n            return {\n                color: keyframe.value.color\n            };\n        }\n        const { start, end } = this.getStartEnd(pos, keyframes);\n        return {\n            color: this.getRangeColor(start, end, pos)\n        };\n    }\n    getLetterSpacing(values, pos) {\n        const keyframes = this.keyframesMap[sdk_1.KeyframeType.LetterSpacing];\n        if (!keyframes || !keyframes.length)\n            return values;\n        if (keyframes.length === 1) {\n            const [keyframe] = keyframes;\n            return {\n                letterSpacing: keyframe.value.letterSpacing\n            };\n        }\n        const { start, end } = this.getStartEnd(pos, keyframes);\n        return {\n            letterSpacing: (0, rangeMap_1.rangeMap)(pos, start.position, end.position, start.value.letterSpacing, end.value.letterSpacing, true)\n        };\n    }\n    getWordSpacing(values, pos) {\n        const keyframes = this.keyframesMap[sdk_1.KeyframeType.WordSpacing];\n        if (!keyframes || !keyframes.length)\n            return values;\n        if (keyframes.length === 1) {\n            const [keyframe] = keyframes;\n            return {\n                wordSpacing: keyframe.value.wordSpacing\n            };\n        }\n        const { start, end } = this.getStartEnd(pos, keyframes);\n        return {\n            wordSpacing: (0, rangeMap_1.rangeMap)(pos, start.position, end.position, start.value.wordSpacing, end.value.wordSpacing, true)\n        };\n    }\n    getStartEnd(position, keyframes) {\n        const index = (0, binSearchInsertAt_1.binSearchInsertAt)(keyframes, { position }, compare);\n        const end = index === keyframes.length ? index - 1 : index;\n        const start = end === 0 ? end : end - 1;\n        return { start: keyframes[start], end: keyframes[end] };\n    }\n    fillKeyframesMap() {\n        this.keyframesMap = createKeyframesMap();\n        for (const keyframe of this.keyframes) {\n            Animator.pushKeyframeToMap(keyframe, this.keyframesMap);\n        }\n    }\n    getRangeColor(start, end, position) {\n        const rangeAmount = (0, rangeMap_1.rangeMap)(position, start.position, end.position, 0, 1, true);\n        const startColor = color_1.CntrlColor.parse(start.value.color);\n        const endColor = color_1.CntrlColor.parse(end.value.color);\n        const mixedColor = startColor.mix(endColor, rangeAmount);\n        return mixedColor.fmt('oklch');\n    }\n}\nexports.Animator = Animator;\nfunction createKeyframesMap() {\n    return {\n        [sdk_1.KeyframeType.Dimensions]: [],\n        [sdk_1.KeyframeType.Position]: [],\n        [sdk_1.KeyframeType.BorderWidth]: [],\n        [sdk_1.KeyframeType.BorderRadius]: [],\n        [sdk_1.KeyframeType.Color]: [],\n        [sdk_1.KeyframeType.Rotation]: [],\n        [sdk_1.KeyframeType.BorderColor]: [],\n        [sdk_1.KeyframeType.Opacity]: [],\n        [sdk_1.KeyframeType.Scale]: [],\n        [sdk_1.KeyframeType.Blur]: [],\n        [sdk_1.KeyframeType.BackdropBlur]: [],\n        [sdk_1.KeyframeType.LetterSpacing]: [],\n        [sdk_1.KeyframeType.WordSpacing]: [],\n        [sdk_1.KeyframeType.TextColor]: [],\n        [sdk_1.KeyframeType.FXParams]: []\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvQW5pbWF0b3IvQW5pbWF0b3IuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCO0FBQ2hCLGNBQWMsbUJBQU8sQ0FBQyxxRUFBaUI7QUFDdkMsZ0JBQWdCLG1CQUFPLENBQUMsd0VBQW1CO0FBQzNDLDRCQUE0QixtQkFBTyxDQUFDLGtHQUFzQjtBQUMxRCxtQkFBbUIsbUJBQU8sQ0FBQyxnRkFBYTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLElBQUk7QUFDakI7QUFDQSxnQkFBZ0IsYUFBYTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBSTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixhQUFhO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGFBQWE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGFBQWE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixhQUFhO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsYUFBYTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGFBQWE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixhQUFhO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsYUFBYTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGFBQWE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixhQUFhO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsYUFBYTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGFBQWE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixhQUFhO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsYUFBYTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLFVBQVU7QUFDeEY7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay1uZXh0anMvbGliL3V0aWxzL0FuaW1hdG9yL0FuaW1hdG9yLmpzP2E3ZTQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFuaW1hdG9yID0gdm9pZCAwO1xuY29uc3Qgc2RrXzEgPSByZXF1aXJlKFwiQGNudHJsLXNpdGUvc2RrXCIpO1xuY29uc3QgY29sb3JfMSA9IHJlcXVpcmUoXCJAY250cmwtc2l0ZS9jb2xvclwiKTtcbmNvbnN0IGJpblNlYXJjaEluc2VydEF0XzEgPSByZXF1aXJlKFwiLi4vYmluU2VhcmNoSW5zZXJ0QXRcIik7XG5jb25zdCByYW5nZU1hcF8xID0gcmVxdWlyZShcIi4uL3JhbmdlTWFwXCIpO1xuY29uc3QgY29tcGFyZSA9IChsaHMsIHJocykgPT4gbGhzLnBvc2l0aW9uIC0gcmhzLnBvc2l0aW9uO1xuY29uc3QgaW5zZXJ0QmluID0gKDAsIGJpblNlYXJjaEluc2VydEF0XzEuY3JlYXRlSW5zZXJ0KShiaW5TZWFyY2hJbnNlcnRBdF8xLmJpblNlYXJjaEluc2VydEF0LCBjb21wYXJlKTtcbmNsYXNzIEFuaW1hdG9yIHtcbiAgICBzdGF0aWMgcHVzaEtleWZyYW1lVG9NYXAoa2V5ZnJhbWUsIG1hcCkge1xuICAgICAgICBpbnNlcnRCaW4obWFwW2tleWZyYW1lLnR5cGVdLCBrZXlmcmFtZSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGtleWZyYW1lcykge1xuICAgICAgICB0aGlzLmtleWZyYW1lcyA9IGtleWZyYW1lcztcbiAgICAgICAgdGhpcy5rZXlmcmFtZXNNYXAgPSBjcmVhdGVLZXlmcmFtZXNNYXAoKTtcbiAgICAgICAgdGhpcy5maWxsS2V5ZnJhbWVzTWFwKCk7XG4gICAgfVxuICAgIGdldEZYUGFyYW1zKHZhbHVlc01hcCwgcG9zKSB7XG4gICAgICAgIGNvbnN0IGtleWZyYW1lcyA9IHRoaXMua2V5ZnJhbWVzTWFwW3Nka18xLktleWZyYW1lVHlwZS5GWFBhcmFtc107XG4gICAgICAgIGlmICgha2V5ZnJhbWVzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXNNYXA7XG4gICAgICAgIGlmIChrZXlmcmFtZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBjb25zdCBba2V5ZnJhbWVdID0ga2V5ZnJhbWVzO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHZhbHVlc01hcCkucmVkdWNlKChhY2MsIFtrZXksIGZhbGxiYWNrVmFsdWVdKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGFjY1trZXldID0gKF9hID0ga2V5ZnJhbWUudmFsdWVba2V5XSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsbGJhY2tWYWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfSwge30pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgc3RhcnQsIGVuZCB9ID0gdGhpcy5nZXRTdGFydEVuZChwb3MsIGtleWZyYW1lcyk7XG4gICAgICAgIHJldHVybiBPYmplY3QuZW50cmllcyh2YWx1ZXNNYXApLnJlZHVjZSgoYWNjLCBba2V5LCBmYWxsYmFja1ZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGFjY1trZXldID0gKDAsIHJhbmdlTWFwXzEucmFuZ2VNYXApKHBvcywgc3RhcnQucG9zaXRpb24sIGVuZC5wb3NpdGlvbiwgKF9hID0gc3RhcnQudmFsdWVba2V5XSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsbGJhY2tWYWx1ZSwgKF9iID0gZW5kLnZhbHVlW2tleV0pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGZhbGxiYWNrVmFsdWUsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgIH1cbiAgICBnZXREaW1lbnNpb25zKHZhbHVlcywgcG9zKSB7XG4gICAgICAgIGNvbnN0IGtleWZyYW1lcyA9IHRoaXMua2V5ZnJhbWVzTWFwW3Nka18xLktleWZyYW1lVHlwZS5EaW1lbnNpb25zXTtcbiAgICAgICAgaWYgKCFrZXlmcmFtZXMgfHwgIWtleWZyYW1lcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgICBpZiAoa2V5ZnJhbWVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgY29uc3QgW2tleWZyYW1lXSA9IGtleWZyYW1lcztcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IGtleWZyYW1lLnZhbHVlLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDoga2V5ZnJhbWUudmFsdWUuaGVpZ2h0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgc3RhcnQsIGVuZCB9ID0gdGhpcy5nZXRTdGFydEVuZChwb3MsIGtleWZyYW1lcyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogKDAsIHJhbmdlTWFwXzEucmFuZ2VNYXApKHBvcywgc3RhcnQucG9zaXRpb24sIGVuZC5wb3NpdGlvbiwgc3RhcnQudmFsdWUud2lkdGgsIGVuZC52YWx1ZS53aWR0aCwgdHJ1ZSksXG4gICAgICAgICAgICBoZWlnaHQ6ICgwLCByYW5nZU1hcF8xLnJhbmdlTWFwKShwb3MsIHN0YXJ0LnBvc2l0aW9uLCBlbmQucG9zaXRpb24sIHN0YXJ0LnZhbHVlLmhlaWdodCwgZW5kLnZhbHVlLmhlaWdodCwgdHJ1ZSlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0UG9zaXRpb25zKHZhbHVlcywgcG9zKSB7XG4gICAgICAgIGNvbnN0IGtleWZyYW1lcyA9IHRoaXMua2V5ZnJhbWVzTWFwW3Nka18xLktleWZyYW1lVHlwZS5Qb3NpdGlvbl07XG4gICAgICAgIGlmICgha2V5ZnJhbWVzIHx8ICFrZXlmcmFtZXMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgICAgaWYgKGtleWZyYW1lcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IFtrZXlmcmFtZV0gPSBrZXlmcmFtZXM7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGxlZnQ6IGtleWZyYW1lLnZhbHVlLmxlZnQsXG4gICAgICAgICAgICAgICAgdG9wOiBrZXlmcmFtZS52YWx1ZS50b3BcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBzdGFydCwgZW5kIH0gPSB0aGlzLmdldFN0YXJ0RW5kKHBvcywga2V5ZnJhbWVzKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlZnQ6ICgwLCByYW5nZU1hcF8xLnJhbmdlTWFwKShwb3MsIHN0YXJ0LnBvc2l0aW9uLCBlbmQucG9zaXRpb24sIHN0YXJ0LnZhbHVlLmxlZnQsIGVuZC52YWx1ZS5sZWZ0LCB0cnVlKSxcbiAgICAgICAgICAgIHRvcDogKDAsIHJhbmdlTWFwXzEucmFuZ2VNYXApKHBvcywgc3RhcnQucG9zaXRpb24sIGVuZC5wb3NpdGlvbiwgc3RhcnQudmFsdWUudG9wLCBlbmQudmFsdWUudG9wLCB0cnVlKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRDb2xvcih2YWx1ZXMsIHBvcykge1xuICAgICAgICBjb25zdCBrZXlmcmFtZXMgPSB0aGlzLmtleWZyYW1lc01hcFtzZGtfMS5LZXlmcmFtZVR5cGUuQ29sb3JdO1xuICAgICAgICBpZiAoIWtleWZyYW1lcyB8fCAha2V5ZnJhbWVzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICAgIGlmIChrZXlmcmFtZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBjb25zdCBba2V5ZnJhbWVdID0ga2V5ZnJhbWVzO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjb2xvcjoga2V5ZnJhbWUudmFsdWUuY29sb3JcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBzdGFydCwgZW5kIH0gPSB0aGlzLmdldFN0YXJ0RW5kKHBvcywga2V5ZnJhbWVzKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGlzLmdldFJhbmdlQ29sb3Ioc3RhcnQsIGVuZCwgcG9zKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRCb3JkZXJDb2xvcih2YWx1ZXMsIHBvcykge1xuICAgICAgICBjb25zdCBrZXlmcmFtZXMgPSB0aGlzLmtleWZyYW1lc01hcFtzZGtfMS5LZXlmcmFtZVR5cGUuQm9yZGVyQ29sb3JdO1xuICAgICAgICBpZiAoIWtleWZyYW1lcyB8fCAha2V5ZnJhbWVzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICAgIGlmIChrZXlmcmFtZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBjb25zdCBba2V5ZnJhbWVdID0ga2V5ZnJhbWVzO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjb2xvcjoga2V5ZnJhbWUudmFsdWUuY29sb3JcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBzdGFydCwgZW5kIH0gPSB0aGlzLmdldFN0YXJ0RW5kKHBvcywga2V5ZnJhbWVzKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGlzLmdldFJhbmdlQ29sb3Ioc3RhcnQsIGVuZCwgcG9zKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRSYWRpdXModmFsdWVzLCBwb3MpIHtcbiAgICAgICAgY29uc3Qga2V5ZnJhbWVzID0gdGhpcy5rZXlmcmFtZXNNYXBbc2RrXzEuS2V5ZnJhbWVUeXBlLkJvcmRlclJhZGl1c107XG4gICAgICAgIGlmICgha2V5ZnJhbWVzIHx8ICFrZXlmcmFtZXMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgICAgaWYgKGtleWZyYW1lcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IFtrZXlmcmFtZV0gPSBrZXlmcmFtZXM7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJhZGl1czoga2V5ZnJhbWUudmFsdWUucmFkaXVzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgc3RhcnQsIGVuZCB9ID0gdGhpcy5nZXRTdGFydEVuZChwb3MsIGtleWZyYW1lcyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByYWRpdXM6ICgwLCByYW5nZU1hcF8xLnJhbmdlTWFwKShwb3MsIHN0YXJ0LnBvc2l0aW9uLCBlbmQucG9zaXRpb24sIHN0YXJ0LnZhbHVlLnJhZGl1cywgZW5kLnZhbHVlLnJhZGl1cywgdHJ1ZSlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0Qm9yZGVyV2lkdGgodmFsdWVzLCBwb3MpIHtcbiAgICAgICAgY29uc3Qga2V5ZnJhbWVzID0gdGhpcy5rZXlmcmFtZXNNYXBbc2RrXzEuS2V5ZnJhbWVUeXBlLkJvcmRlcldpZHRoXTtcbiAgICAgICAgaWYgKCFrZXlmcmFtZXMgfHwgIWtleWZyYW1lcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgICBpZiAoa2V5ZnJhbWVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgY29uc3QgW2tleWZyYW1lXSA9IGtleWZyYW1lcztcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYm9yZGVyV2lkdGg6IGtleWZyYW1lLnZhbHVlLmJvcmRlcldpZHRoXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgc3RhcnQsIGVuZCB9ID0gdGhpcy5nZXRTdGFydEVuZChwb3MsIGtleWZyYW1lcyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBib3JkZXJXaWR0aDogKDAsIHJhbmdlTWFwXzEucmFuZ2VNYXApKHBvcywgc3RhcnQucG9zaXRpb24sIGVuZC5wb3NpdGlvbiwgc3RhcnQudmFsdWUuYm9yZGVyV2lkdGgsIGVuZC52YWx1ZS5ib3JkZXJXaWR0aCwgdHJ1ZSlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0Um90YXRpb24odmFsdWVzLCBwb3MpIHtcbiAgICAgICAgY29uc3Qga2V5ZnJhbWVzID0gdGhpcy5rZXlmcmFtZXNNYXBbc2RrXzEuS2V5ZnJhbWVUeXBlLlJvdGF0aW9uXTtcbiAgICAgICAgaWYgKCFrZXlmcmFtZXMgfHwgIWtleWZyYW1lcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgICBpZiAoa2V5ZnJhbWVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgY29uc3QgW2tleWZyYW1lXSA9IGtleWZyYW1lcztcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYW5nbGU6IGtleWZyYW1lLnZhbHVlLmFuZ2xlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgc3RhcnQsIGVuZCB9ID0gdGhpcy5nZXRTdGFydEVuZChwb3MsIGtleWZyYW1lcyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhbmdsZTogKDAsIHJhbmdlTWFwXzEucmFuZ2VNYXApKHBvcywgc3RhcnQucG9zaXRpb24sIGVuZC5wb3NpdGlvbiwgc3RhcnQudmFsdWUuYW5nbGUsIGVuZC52YWx1ZS5hbmdsZSwgdHJ1ZSlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0T3BhY2l0eSh2YWx1ZXMsIHBvcykge1xuICAgICAgICBjb25zdCBrZXlmcmFtZXMgPSB0aGlzLmtleWZyYW1lc01hcFtzZGtfMS5LZXlmcmFtZVR5cGUuT3BhY2l0eV07XG4gICAgICAgIGlmICgha2V5ZnJhbWVzIHx8ICFrZXlmcmFtZXMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgICAgaWYgKGtleWZyYW1lcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IFtrZXlmcmFtZV0gPSBrZXlmcmFtZXM7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IGtleWZyYW1lLnZhbHVlLm9wYWNpdHlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBzdGFydCwgZW5kIH0gPSB0aGlzLmdldFN0YXJ0RW5kKHBvcywga2V5ZnJhbWVzKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9wYWNpdHk6ICgwLCByYW5nZU1hcF8xLnJhbmdlTWFwKShwb3MsIHN0YXJ0LnBvc2l0aW9uLCBlbmQucG9zaXRpb24sIHN0YXJ0LnZhbHVlLm9wYWNpdHksIGVuZC52YWx1ZS5vcGFjaXR5LCB0cnVlKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRTY2FsZSh2YWx1ZXMsIHBvcykge1xuICAgICAgICBjb25zdCBrZXlmcmFtZXMgPSB0aGlzLmtleWZyYW1lc01hcFtzZGtfMS5LZXlmcmFtZVR5cGUuU2NhbGVdO1xuICAgICAgICBpZiAoIWtleWZyYW1lcyB8fCAha2V5ZnJhbWVzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICAgIGlmIChrZXlmcmFtZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBjb25zdCBba2V5ZnJhbWVdID0ga2V5ZnJhbWVzO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzY2FsZToga2V5ZnJhbWUudmFsdWUuc2NhbGVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBzdGFydCwgZW5kIH0gPSB0aGlzLmdldFN0YXJ0RW5kKHBvcywga2V5ZnJhbWVzKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNjYWxlOiAoMCwgcmFuZ2VNYXBfMS5yYW5nZU1hcCkocG9zLCBzdGFydC5wb3NpdGlvbiwgZW5kLnBvc2l0aW9uLCBzdGFydC52YWx1ZS5zY2FsZSwgZW5kLnZhbHVlLnNjYWxlLCB0cnVlKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRCbHVyKHZhbHVlcywgcG9zKSB7XG4gICAgICAgIGNvbnN0IGtleWZyYW1lcyA9IHRoaXMua2V5ZnJhbWVzTWFwW3Nka18xLktleWZyYW1lVHlwZS5CbHVyXTtcbiAgICAgICAgaWYgKCFrZXlmcmFtZXMgfHwgIWtleWZyYW1lcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgICBpZiAoa2V5ZnJhbWVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgY29uc3QgW2tleWZyYW1lXSA9IGtleWZyYW1lcztcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYmx1cjoga2V5ZnJhbWUudmFsdWUuYmx1clxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHN0YXJ0LCBlbmQgfSA9IHRoaXMuZ2V0U3RhcnRFbmQocG9zLCBrZXlmcmFtZXMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYmx1cjogKDAsIHJhbmdlTWFwXzEucmFuZ2VNYXApKHBvcywgc3RhcnQucG9zaXRpb24sIGVuZC5wb3NpdGlvbiwgc3RhcnQudmFsdWUuYmx1ciwgZW5kLnZhbHVlLmJsdXIsIHRydWUpXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldEJhY2tkcm9wQmx1cih2YWx1ZXMsIHBvcykge1xuICAgICAgICBjb25zdCBrZXlmcmFtZXMgPSB0aGlzLmtleWZyYW1lc01hcFtzZGtfMS5LZXlmcmFtZVR5cGUuQmFja2Ryb3BCbHVyXTtcbiAgICAgICAgaWYgKCFrZXlmcmFtZXMgfHwgIWtleWZyYW1lcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgICBpZiAoa2V5ZnJhbWVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgY29uc3QgW2tleWZyYW1lXSA9IGtleWZyYW1lcztcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYmFja2Ryb3BCbHVyOiBrZXlmcmFtZS52YWx1ZS5iYWNrZHJvcEJsdXJcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBzdGFydCwgZW5kIH0gPSB0aGlzLmdldFN0YXJ0RW5kKHBvcywga2V5ZnJhbWVzKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJhY2tkcm9wQmx1cjogKDAsIHJhbmdlTWFwXzEucmFuZ2VNYXApKHBvcywgc3RhcnQucG9zaXRpb24sIGVuZC5wb3NpdGlvbiwgc3RhcnQudmFsdWUuYmFja2Ryb3BCbHVyLCBlbmQudmFsdWUuYmFja2Ryb3BCbHVyLCB0cnVlKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRUZXh0Q29sb3IodmFsdWVzLCBwb3MpIHtcbiAgICAgICAgY29uc3Qga2V5ZnJhbWVzID0gdGhpcy5rZXlmcmFtZXNNYXBbc2RrXzEuS2V5ZnJhbWVUeXBlLlRleHRDb2xvcl07XG4gICAgICAgIGlmICgha2V5ZnJhbWVzIHx8ICFrZXlmcmFtZXMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgICAgaWYgKGtleWZyYW1lcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IFtrZXlmcmFtZV0gPSBrZXlmcmFtZXM7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBrZXlmcmFtZS52YWx1ZS5jb2xvclxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHN0YXJ0LCBlbmQgfSA9IHRoaXMuZ2V0U3RhcnRFbmQocG9zLCBrZXlmcmFtZXMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29sb3I6IHRoaXMuZ2V0UmFuZ2VDb2xvcihzdGFydCwgZW5kLCBwb3MpXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldExldHRlclNwYWNpbmcodmFsdWVzLCBwb3MpIHtcbiAgICAgICAgY29uc3Qga2V5ZnJhbWVzID0gdGhpcy5rZXlmcmFtZXNNYXBbc2RrXzEuS2V5ZnJhbWVUeXBlLkxldHRlclNwYWNpbmddO1xuICAgICAgICBpZiAoIWtleWZyYW1lcyB8fCAha2V5ZnJhbWVzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICAgIGlmIChrZXlmcmFtZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBjb25zdCBba2V5ZnJhbWVdID0ga2V5ZnJhbWVzO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBsZXR0ZXJTcGFjaW5nOiBrZXlmcmFtZS52YWx1ZS5sZXR0ZXJTcGFjaW5nXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgc3RhcnQsIGVuZCB9ID0gdGhpcy5nZXRTdGFydEVuZChwb3MsIGtleWZyYW1lcyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsZXR0ZXJTcGFjaW5nOiAoMCwgcmFuZ2VNYXBfMS5yYW5nZU1hcCkocG9zLCBzdGFydC5wb3NpdGlvbiwgZW5kLnBvc2l0aW9uLCBzdGFydC52YWx1ZS5sZXR0ZXJTcGFjaW5nLCBlbmQudmFsdWUubGV0dGVyU3BhY2luZywgdHJ1ZSlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0V29yZFNwYWNpbmcodmFsdWVzLCBwb3MpIHtcbiAgICAgICAgY29uc3Qga2V5ZnJhbWVzID0gdGhpcy5rZXlmcmFtZXNNYXBbc2RrXzEuS2V5ZnJhbWVUeXBlLldvcmRTcGFjaW5nXTtcbiAgICAgICAgaWYgKCFrZXlmcmFtZXMgfHwgIWtleWZyYW1lcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgICBpZiAoa2V5ZnJhbWVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgY29uc3QgW2tleWZyYW1lXSA9IGtleWZyYW1lcztcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgd29yZFNwYWNpbmc6IGtleWZyYW1lLnZhbHVlLndvcmRTcGFjaW5nXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgc3RhcnQsIGVuZCB9ID0gdGhpcy5nZXRTdGFydEVuZChwb3MsIGtleWZyYW1lcyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3b3JkU3BhY2luZzogKDAsIHJhbmdlTWFwXzEucmFuZ2VNYXApKHBvcywgc3RhcnQucG9zaXRpb24sIGVuZC5wb3NpdGlvbiwgc3RhcnQudmFsdWUud29yZFNwYWNpbmcsIGVuZC52YWx1ZS53b3JkU3BhY2luZywgdHJ1ZSlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0U3RhcnRFbmQocG9zaXRpb24sIGtleWZyYW1lcykge1xuICAgICAgICBjb25zdCBpbmRleCA9ICgwLCBiaW5TZWFyY2hJbnNlcnRBdF8xLmJpblNlYXJjaEluc2VydEF0KShrZXlmcmFtZXMsIHsgcG9zaXRpb24gfSwgY29tcGFyZSk7XG4gICAgICAgIGNvbnN0IGVuZCA9IGluZGV4ID09PSBrZXlmcmFtZXMubGVuZ3RoID8gaW5kZXggLSAxIDogaW5kZXg7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gZW5kID09PSAwID8gZW5kIDogZW5kIC0gMTtcbiAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IGtleWZyYW1lc1tzdGFydF0sIGVuZDoga2V5ZnJhbWVzW2VuZF0gfTtcbiAgICB9XG4gICAgZmlsbEtleWZyYW1lc01hcCgpIHtcbiAgICAgICAgdGhpcy5rZXlmcmFtZXNNYXAgPSBjcmVhdGVLZXlmcmFtZXNNYXAoKTtcbiAgICAgICAgZm9yIChjb25zdCBrZXlmcmFtZSBvZiB0aGlzLmtleWZyYW1lcykge1xuICAgICAgICAgICAgQW5pbWF0b3IucHVzaEtleWZyYW1lVG9NYXAoa2V5ZnJhbWUsIHRoaXMua2V5ZnJhbWVzTWFwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRSYW5nZUNvbG9yKHN0YXJ0LCBlbmQsIHBvc2l0aW9uKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlQW1vdW50ID0gKDAsIHJhbmdlTWFwXzEucmFuZ2VNYXApKHBvc2l0aW9uLCBzdGFydC5wb3NpdGlvbiwgZW5kLnBvc2l0aW9uLCAwLCAxLCB0cnVlKTtcbiAgICAgICAgY29uc3Qgc3RhcnRDb2xvciA9IGNvbG9yXzEuQ250cmxDb2xvci5wYXJzZShzdGFydC52YWx1ZS5jb2xvcik7XG4gICAgICAgIGNvbnN0IGVuZENvbG9yID0gY29sb3JfMS5DbnRybENvbG9yLnBhcnNlKGVuZC52YWx1ZS5jb2xvcik7XG4gICAgICAgIGNvbnN0IG1peGVkQ29sb3IgPSBzdGFydENvbG9yLm1peChlbmRDb2xvciwgcmFuZ2VBbW91bnQpO1xuICAgICAgICByZXR1cm4gbWl4ZWRDb2xvci5mbXQoJ29rbGNoJyk7XG4gICAgfVxufVxuZXhwb3J0cy5BbmltYXRvciA9IEFuaW1hdG9yO1xuZnVuY3Rpb24gY3JlYXRlS2V5ZnJhbWVzTWFwKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIFtzZGtfMS5LZXlmcmFtZVR5cGUuRGltZW5zaW9uc106IFtdLFxuICAgICAgICBbc2RrXzEuS2V5ZnJhbWVUeXBlLlBvc2l0aW9uXTogW10sXG4gICAgICAgIFtzZGtfMS5LZXlmcmFtZVR5cGUuQm9yZGVyV2lkdGhdOiBbXSxcbiAgICAgICAgW3Nka18xLktleWZyYW1lVHlwZS5Cb3JkZXJSYWRpdXNdOiBbXSxcbiAgICAgICAgW3Nka18xLktleWZyYW1lVHlwZS5Db2xvcl06IFtdLFxuICAgICAgICBbc2RrXzEuS2V5ZnJhbWVUeXBlLlJvdGF0aW9uXTogW10sXG4gICAgICAgIFtzZGtfMS5LZXlmcmFtZVR5cGUuQm9yZGVyQ29sb3JdOiBbXSxcbiAgICAgICAgW3Nka18xLktleWZyYW1lVHlwZS5PcGFjaXR5XTogW10sXG4gICAgICAgIFtzZGtfMS5LZXlmcmFtZVR5cGUuU2NhbGVdOiBbXSxcbiAgICAgICAgW3Nka18xLktleWZyYW1lVHlwZS5CbHVyXTogW10sXG4gICAgICAgIFtzZGtfMS5LZXlmcmFtZVR5cGUuQmFja2Ryb3BCbHVyXTogW10sXG4gICAgICAgIFtzZGtfMS5LZXlmcmFtZVR5cGUuTGV0dGVyU3BhY2luZ106IFtdLFxuICAgICAgICBbc2RrXzEuS2V5ZnJhbWVUeXBlLldvcmRTcGFjaW5nXTogW10sXG4gICAgICAgIFtzZGtfMS5LZXlmcmFtZVR5cGUuVGV4dENvbG9yXTogW10sXG4gICAgICAgIFtzZGtfMS5LZXlmcmFtZVR5cGUuRlhQYXJhbXNdOiBbXVxuICAgIH07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/utils/Animator/Animator.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/utils/ArticleRectManager/ArticleRectObserver.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/utils/ArticleRectManager/ArticleRectObserver.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ArticleRectObserver = void 0;\nconst EventEmitter_1 = __webpack_require__(/*! ../EventEmitter */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/EventEmitter.js\");\nconst resize_observer_polyfill_1 = __importDefault(__webpack_require__(/*! resize-observer-polyfill */ \"./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js\"));\nclass ArticleRectObserver extends EventEmitter_1.EventEmitter {\n    constructor() {\n        super();\n        this.articleWidth = 0;\n        this.registry = new Map();\n        this.scrollPos = window.scrollY;\n        this.animationFrame = NaN;\n        this.parent = undefined;\n        this.sectionsScrollMap = new Map();\n        this.handleScroll = (scroll) => {\n            this.setScroll(scroll / this.articleWidth);\n        };\n        this.resizeObserver = new resize_observer_polyfill_1.default(this.handleResize.bind(this));\n    }\n    get scroll() {\n        return this.scrollPos;\n    }\n    getSectionScroll(sectionId) {\n        const sectionTop = this.sectionsScrollMap.get(sectionId);\n        if (sectionTop === undefined)\n            return 0;\n        return -(sectionTop / this.articleWidth - this.scrollPos);\n    }\n    getSectionTop(sectionId) {\n        const sectionTop = this.sectionsScrollMap.get(sectionId);\n        return sectionTop !== null && sectionTop !== void 0 ? sectionTop : 0;\n    }\n    get width() {\n        return this.articleWidth;\n    }\n    setScroll(scroll) {\n        this.scrollPos = scroll;\n    }\n    init(parent) {\n        this.parent = parent;\n        const onScroll = () => {\n            this.handleScroll(window.scrollY);\n            if (!isNaN(this.animationFrame))\n                return;\n            this.animationFrame = window.requestAnimationFrame(() => {\n                this.animationFrame = NaN;\n                this.emit('scroll', undefined);\n            });\n        };\n        window.addEventListener('scroll', onScroll);\n        return () => {\n            this.parent = undefined;\n            window.removeEventListener('scroll', onScroll);\n            if (!isNaN(this.animationFrame)) {\n                window.cancelAnimationFrame(this.animationFrame);\n                this.animationFrame = NaN;\n            }\n        };\n    }\n    register(el, sectionId) {\n        this.registry.set(sectionId, el);\n        this.resizeObserver.observe(el);\n        return () => {\n            this.registry.delete(sectionId);\n            this.resizeObserver.unobserve(el);\n        };\n    }\n    handleResize() {\n        if (!this.parent)\n            return;\n        const parentBoundary = this.parent.getBoundingClientRect();\n        this.articleWidth = parentBoundary.width;\n        this.setScroll(window.scrollY / this.articleWidth);\n        this.emit('resize', parentBoundary);\n        for (const sectionId of this.registry.keys()) {\n            const el = this.registry.get(sectionId);\n            if (!el)\n                continue;\n            const rect = el.getBoundingClientRect();\n            this.sectionsScrollMap.set(sectionId, rect.top - parentBoundary.top);\n        }\n    }\n    ;\n}\nexports.ArticleRectObserver = ArticleRectObserver;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvQXJ0aWNsZVJlY3RNYW5hZ2VyL0FydGljbGVSZWN0T2JzZXJ2ZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwyQkFBMkI7QUFDM0IsdUJBQXVCLG1CQUFPLENBQUMsd0ZBQWlCO0FBQ2hELG1EQUFtRCxtQkFBTyxDQUFDLG1HQUEwQjtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi91dGlscy9BcnRpY2xlUmVjdE1hbmFnZXIvQXJ0aWNsZVJlY3RPYnNlcnZlci5qcz9kYjQyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BcnRpY2xlUmVjdE9ic2VydmVyID0gdm9pZCAwO1xuY29uc3QgRXZlbnRFbWl0dGVyXzEgPSByZXF1aXJlKFwiLi4vRXZlbnRFbWl0dGVyXCIpO1xuY29uc3QgcmVzaXplX29ic2VydmVyX3BvbHlmaWxsXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcInJlc2l6ZS1vYnNlcnZlci1wb2x5ZmlsbFwiKSk7XG5jbGFzcyBBcnRpY2xlUmVjdE9ic2VydmVyIGV4dGVuZHMgRXZlbnRFbWl0dGVyXzEuRXZlbnRFbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5hcnRpY2xlV2lkdGggPSAwO1xuICAgICAgICB0aGlzLnJlZ2lzdHJ5ID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLnNjcm9sbFBvcyA9IHdpbmRvdy5zY3JvbGxZO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lID0gTmFOO1xuICAgICAgICB0aGlzLnBhcmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zZWN0aW9uc1Njcm9sbE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5oYW5kbGVTY3JvbGwgPSAoc2Nyb2xsKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFNjcm9sbChzY3JvbGwgLyB0aGlzLmFydGljbGVXaWR0aCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIgPSBuZXcgcmVzaXplX29ic2VydmVyX3BvbHlmaWxsXzEuZGVmYXVsdCh0aGlzLmhhbmRsZVJlc2l6ZS5iaW5kKHRoaXMpKTtcbiAgICB9XG4gICAgZ2V0IHNjcm9sbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Nyb2xsUG9zO1xuICAgIH1cbiAgICBnZXRTZWN0aW9uU2Nyb2xsKHNlY3Rpb25JZCkge1xuICAgICAgICBjb25zdCBzZWN0aW9uVG9wID0gdGhpcy5zZWN0aW9uc1Njcm9sbE1hcC5nZXQoc2VjdGlvbklkKTtcbiAgICAgICAgaWYgKHNlY3Rpb25Ub3AgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICByZXR1cm4gLShzZWN0aW9uVG9wIC8gdGhpcy5hcnRpY2xlV2lkdGggLSB0aGlzLnNjcm9sbFBvcyk7XG4gICAgfVxuICAgIGdldFNlY3Rpb25Ub3Aoc2VjdGlvbklkKSB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb25Ub3AgPSB0aGlzLnNlY3Rpb25zU2Nyb2xsTWFwLmdldChzZWN0aW9uSWQpO1xuICAgICAgICByZXR1cm4gc2VjdGlvblRvcCAhPT0gbnVsbCAmJiBzZWN0aW9uVG9wICE9PSB2b2lkIDAgPyBzZWN0aW9uVG9wIDogMDtcbiAgICB9XG4gICAgZ2V0IHdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcnRpY2xlV2lkdGg7XG4gICAgfVxuICAgIHNldFNjcm9sbChzY3JvbGwpIHtcbiAgICAgICAgdGhpcy5zY3JvbGxQb3MgPSBzY3JvbGw7XG4gICAgfVxuICAgIGluaXQocGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBjb25zdCBvblNjcm9sbCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlU2Nyb2xsKHdpbmRvdy5zY3JvbGxZKTtcbiAgICAgICAgICAgIGlmICghaXNOYU4odGhpcy5hbmltYXRpb25GcmFtZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWUgPSBOYU47XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdzY3JvbGwnLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvblNjcm9sbCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvblNjcm9sbCk7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHRoaXMuYW5pbWF0aW9uRnJhbWUpKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uRnJhbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWUgPSBOYU47XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJlZ2lzdGVyKGVsLCBzZWN0aW9uSWQpIHtcbiAgICAgICAgdGhpcy5yZWdpc3RyeS5zZXQoc2VjdGlvbklkLCBlbCk7XG4gICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShlbCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LmRlbGV0ZShzZWN0aW9uSWQpO1xuICAgICAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci51bm9ic2VydmUoZWwpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBoYW5kbGVSZXNpemUoKSB7XG4gICAgICAgIGlmICghdGhpcy5wYXJlbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHBhcmVudEJvdW5kYXJ5ID0gdGhpcy5wYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRoaXMuYXJ0aWNsZVdpZHRoID0gcGFyZW50Qm91bmRhcnkud2lkdGg7XG4gICAgICAgIHRoaXMuc2V0U2Nyb2xsKHdpbmRvdy5zY3JvbGxZIC8gdGhpcy5hcnRpY2xlV2lkdGgpO1xuICAgICAgICB0aGlzLmVtaXQoJ3Jlc2l6ZScsIHBhcmVudEJvdW5kYXJ5KTtcbiAgICAgICAgZm9yIChjb25zdCBzZWN0aW9uSWQgb2YgdGhpcy5yZWdpc3RyeS5rZXlzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsID0gdGhpcy5yZWdpc3RyeS5nZXQoc2VjdGlvbklkKTtcbiAgICAgICAgICAgIGlmICghZWwpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjb25zdCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICB0aGlzLnNlY3Rpb25zU2Nyb2xsTWFwLnNldChzZWN0aW9uSWQsIHJlY3QudG9wIC0gcGFyZW50Qm91bmRhcnkudG9wKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICA7XG59XG5leHBvcnRzLkFydGljbGVSZWN0T2JzZXJ2ZXIgPSBBcnRpY2xlUmVjdE9ic2VydmVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/utils/ArticleRectManager/ArticleRectObserver.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/utils/ArticleRectManager/useArticleRectObserver.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/utils/ArticleRectManager/useArticleRectObserver.js ***!
  \****************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useArticleRectObserver = void 0;\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst ArticleRectObserver_1 = __webpack_require__(/*! ./ArticleRectObserver */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/ArticleRectManager/ArticleRectObserver.js\");\nconst useArticleRectObserver = (el) => {\n    const [articleRectObserver, setArticleRectObserver] = (0, react_1.useState)(null);\n    (0, react_1.useEffect)(() => {\n        setArticleRectObserver(new ArticleRectObserver_1.ArticleRectObserver());\n    }, []);\n    (0, react_1.useEffect)(() => {\n        if (!el || !articleRectObserver)\n            return;\n        return articleRectObserver.init(el);\n    }, [el, articleRectObserver]);\n    return articleRectObserver;\n};\nexports.useArticleRectObserver = useArticleRectObserver;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvQXJ0aWNsZVJlY3RNYW5hZ2VyL3VzZUFydGljbGVSZWN0T2JzZXJ2ZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsOEJBQThCO0FBQzlCLGdCQUFnQixtQkFBTyxDQUFDLDRDQUFPO0FBQy9CLDhCQUE4QixtQkFBTyxDQUFDLHdIQUF1QjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsOEJBQThCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi91dGlscy9BcnRpY2xlUmVjdE1hbmFnZXIvdXNlQXJ0aWNsZVJlY3RPYnNlcnZlci5qcz8yMGQxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy51c2VBcnRpY2xlUmVjdE9ic2VydmVyID0gdm9pZCAwO1xuY29uc3QgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbmNvbnN0IEFydGljbGVSZWN0T2JzZXJ2ZXJfMSA9IHJlcXVpcmUoXCIuL0FydGljbGVSZWN0T2JzZXJ2ZXJcIik7XG5jb25zdCB1c2VBcnRpY2xlUmVjdE9ic2VydmVyID0gKGVsKSA9PiB7XG4gICAgY29uc3QgW2FydGljbGVSZWN0T2JzZXJ2ZXIsIHNldEFydGljbGVSZWN0T2JzZXJ2ZXJdID0gKDAsIHJlYWN0XzEudXNlU3RhdGUpKG51bGwpO1xuICAgICgwLCByZWFjdF8xLnVzZUVmZmVjdCkoKCkgPT4ge1xuICAgICAgICBzZXRBcnRpY2xlUmVjdE9ic2VydmVyKG5ldyBBcnRpY2xlUmVjdE9ic2VydmVyXzEuQXJ0aWNsZVJlY3RPYnNlcnZlcigpKTtcbiAgICB9LCBbXSk7XG4gICAgKDAsIHJlYWN0XzEudXNlRWZmZWN0KSgoKSA9PiB7XG4gICAgICAgIGlmICghZWwgfHwgIWFydGljbGVSZWN0T2JzZXJ2ZXIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHJldHVybiBhcnRpY2xlUmVjdE9ic2VydmVyLmluaXQoZWwpO1xuICAgIH0sIFtlbCwgYXJ0aWNsZVJlY3RPYnNlcnZlcl0pO1xuICAgIHJldHVybiBhcnRpY2xlUmVjdE9ic2VydmVyO1xufTtcbmV4cG9ydHMudXNlQXJ0aWNsZVJlY3RPYnNlcnZlciA9IHVzZUFydGljbGVSZWN0T2JzZXJ2ZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/utils/ArticleRectManager/useArticleRectObserver.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/utils/ArticleRectManager/useSectionRegistry.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/utils/ArticleRectManager/useSectionRegistry.js ***!
  \************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useSectionRegistry = void 0;\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst ArticleRectContext_1 = __webpack_require__(/*! ../../provider/ArticleRectContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/ArticleRectContext.js\");\nconst useSectionRegistry = (sectionId, el) => {\n    const articleRectObserver = (0, react_1.useContext)(ArticleRectContext_1.ArticleRectContext);\n    (0, react_1.useEffect)(() => {\n        if (!el || !articleRectObserver)\n            return;\n        return articleRectObserver.register(el, sectionId);\n    }, [el, articleRectObserver]);\n};\nexports.useSectionRegistry = useSectionRegistry;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvQXJ0aWNsZVJlY3RNYW5hZ2VyL3VzZVNlY3Rpb25SZWdpc3RyeS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwwQkFBMEI7QUFDMUIsZ0JBQWdCLG1CQUFPLENBQUMsNENBQU87QUFDL0IsNkJBQTZCLG1CQUFPLENBQUMsbUhBQW1DO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDBCQUEwQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvQXJ0aWNsZVJlY3RNYW5hZ2VyL3VzZVNlY3Rpb25SZWdpc3RyeS5qcz80YWI4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy51c2VTZWN0aW9uUmVnaXN0cnkgPSB2b2lkIDA7XG5jb25zdCByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xuY29uc3QgQXJ0aWNsZVJlY3RDb250ZXh0XzEgPSByZXF1aXJlKFwiLi4vLi4vcHJvdmlkZXIvQXJ0aWNsZVJlY3RDb250ZXh0XCIpO1xuY29uc3QgdXNlU2VjdGlvblJlZ2lzdHJ5ID0gKHNlY3Rpb25JZCwgZWwpID0+IHtcbiAgICBjb25zdCBhcnRpY2xlUmVjdE9ic2VydmVyID0gKDAsIHJlYWN0XzEudXNlQ29udGV4dCkoQXJ0aWNsZVJlY3RDb250ZXh0XzEuQXJ0aWNsZVJlY3RDb250ZXh0KTtcbiAgICAoMCwgcmVhY3RfMS51c2VFZmZlY3QpKCgpID0+IHtcbiAgICAgICAgaWYgKCFlbCB8fCAhYXJ0aWNsZVJlY3RPYnNlcnZlcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcmV0dXJuIGFydGljbGVSZWN0T2JzZXJ2ZXIucmVnaXN0ZXIoZWwsIHNlY3Rpb25JZCk7XG4gICAgfSwgW2VsLCBhcnRpY2xlUmVjdE9ic2VydmVyXSk7XG59O1xuZXhwb3J0cy51c2VTZWN0aW9uUmVnaXN0cnkgPSB1c2VTZWN0aW9uUmVnaXN0cnk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/utils/ArticleRectManager/useSectionRegistry.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/utils/EventEmitter.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/utils/EventEmitter.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.EventEmitter = void 0;\nclass EventEmitter {\n    constructor() {\n        this.listeners = {};\n    }\n    on(event, listener) {\n        var _a;\n        if (!Array.isArray(this.listeners[event])) {\n            this.listeners[event] = [];\n        }\n        (_a = this.listeners[event]) === null || _a === void 0 ? void 0 : _a.push(listener);\n        return () => {\n            this.off(event, listener);\n        };\n    }\n    off(event, listener) {\n        var _a;\n        const filtered = (_a = this.listeners[event]) === null || _a === void 0 ? void 0 : _a.filter(l => l !== listener);\n        this.listeners[event] = filtered && filtered.length > 0 ? filtered : undefined;\n    }\n    emit(event, payload) {\n        const listeners = this.listeners[event];\n        if (!Array.isArray(listeners))\n            return;\n        for (const listener of listeners) {\n            try {\n                listener(payload);\n            }\n            catch (error) {\n                console.error(error instanceof Error ? error.stack : error);\n            }\n        }\n    }\n}\nexports.EventEmitter = EventEmitter;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvRXZlbnRFbWl0dGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay1uZXh0anMvbGliL3V0aWxzL0V2ZW50RW1pdHRlci5qcz83YmY4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSB2b2lkIDA7XG5jbGFzcyBFdmVudEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IHt9O1xuICAgIH1cbiAgICBvbihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5saXN0ZW5lcnNbZXZlbnRdKSkge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnNbZXZlbnRdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgKF9hID0gdGhpcy5saXN0ZW5lcnNbZXZlbnRdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHVzaChsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9mZihldmVudCwgbGlzdGVuZXIpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBvZmYoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgZmlsdGVyZWQgPSAoX2EgPSB0aGlzLmxpc3RlbmVyc1tldmVudF0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5maWx0ZXIobCA9PiBsICE9PSBsaXN0ZW5lcik7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzW2V2ZW50XSA9IGZpbHRlcmVkICYmIGZpbHRlcmVkLmxlbmd0aCA+IDAgPyBmaWx0ZXJlZCA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZW1pdChldmVudCwgcGF5bG9hZCkge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVyc1tldmVudF07XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShsaXN0ZW5lcnMpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIGxpc3RlbmVycykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcihwYXlsb2FkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/utils/EventEmitter.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/utils/RichTextConverter/RichTextConverter.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/utils/RichTextConverter/RichTextConverter.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.RichTextConverter = exports.FontStyles = void 0;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst color_1 = __webpack_require__(/*! @cntrl-site/color */ \"./node_modules/@cntrl-site/color/lib/index.js\");\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst LinkWrapper_1 = __webpack_require__(/*! ../../components/items/LinkWrapper */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/components/items/LinkWrapper.js\");\nconst getFontFamilyValue_1 = __webpack_require__(/*! ../getFontFamilyValue */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getFontFamilyValue.js\");\nexports.FontStyles = {\n    normal: { 'font-style': 'normal' },\n    bold: { 'font-weight': 'bold' },\n    italic: { 'font-style': 'italic' }\n};\nclass RichTextConverter {\n    toHtml(richText, layouts) {\n        var _a, _b, _c;\n        const { text, blocks = [] } = richText.commonParams;\n        const root = [];\n        const styleRules = layouts.reduce((rec, layout) => {\n            rec[layout.id] = [];\n            return rec;\n        }, {});\n        const currentLineHeight = layouts.reduce((rec, layout) => {\n            var _a;\n            const styles = richText.layoutParams[layout.id].rangeStyles;\n            rec[layout.id] = (_a = styles === null || styles === void 0 ? void 0 : styles.find(s => s.style === 'LINEHEIGHT')) === null || _a === void 0 ? void 0 : _a.value;\n            return rec;\n        }, {});\n        for (let blockIndex = 0; blockIndex < blocks.length; blockIndex++) {\n            const block = blocks[blockIndex];\n            const content = text.slice(block.start, block.end + 1);\n            const entities = (_a = block.entities.sort((a, b) => a.start - b.start)) !== null && _a !== void 0 ? _a : [];\n            if (content.length === 1) {\n                const id = `rt_${richText.id}_br_${blockIndex}`;\n                root.push((0, jsx_runtime_1.jsx)(\"div\", { className: id, children: (0, jsx_runtime_1.jsx)(\"br\", {}) }, id));\n                layouts.forEach(l => {\n                    const lhForLayout = currentLineHeight[l.id];\n                    if (lhForLayout === undefined)\n                        return;\n                    const lh = RichTextConverter.fromRangeStylesToInline({\n                        name: 'LINEHEIGHT',\n                        value: lhForLayout\n                    }, l.exemplary);\n                    styleRules[l.id].push(`.rt_${richText.id}_br_${blockIndex} {${lh}}`);\n                });\n                continue;\n            }\n            const newStylesGroup = layouts.map(({ id: layoutId }) => {\n                const params = richText.layoutParams[layoutId];\n                const styles = params.rangeStyles\n                    .filter(s => s.start >= block.start && s.end <= block.end)\n                    .map(s => (Object.assign(Object.assign({}, s), { start: s.start - block.start, end: s.end - block.start })));\n                return ({\n                    layout: layoutId,\n                    styles: this.normalizeStyles(styles, entities)\n                });\n            });\n            const sameLayouts = groupBy(newStylesGroup, (item) => { var _a; return this.serializeRanges((_a = item.styles) !== null && _a !== void 0 ? _a : []); });\n            for (const group of Object.values(sameLayouts)) {\n                const blockClass = `rt_${richText.id}-b${blockIndex}_${layouts.map(l => group.some(g => g.layout === l.id) ? '1' : '0').join('')}`;\n                const kids = [];\n                layouts.forEach(l => {\n                    const ta = richText.layoutParams[l.id].textAlign;\n                    styleRules[l.id].push(`\r\n            .${blockClass} {\r\n              display: ${group.some(g => g.layout === l.id) ? 'block' : 'none'};\r\n              text-align: ${ta};\r\n              white-space: pre-wrap;\r\n              overflow-wrap: break-word;\r\n            }\r\n          `);\n                });\n                const item = group[0];\n                const entitiesGroups = (_b = this.groupEntities(entities, item.styles)) !== null && _b !== void 0 ? _b : [];\n                let offset = 0;\n                for (const entity of entitiesGroups) {\n                    const entityKids = [];\n                    if (offset < entity.start) {\n                        kids.push(sliceSymbols(content, offset, entity.start));\n                        offset = entity.start;\n                    }\n                    for (const style of entity.stylesGroup) {\n                        if (offset < style.start) {\n                            entityKids.push(sliceSymbols(content, offset, style.start));\n                        }\n                        entityKids.push((0, jsx_runtime_1.jsx)(\"span\", { className: `s-${style.start}-${style.end}`, children: sliceSymbols(content, style.start, style.end) }, style.start));\n                        offset = style.end;\n                    }\n                    if (offset < entity.end) {\n                        entityKids.push(sliceSymbols(content, offset, entity.end));\n                        offset = entity.end;\n                    }\n                    if (entity.link) {\n                        kids.push((0, jsx_runtime_1.jsx)(LinkWrapper_1.LinkWrapper, { url: entity.link, target: entity.target, children: entityKids }, entity.start));\n                        continue;\n                    }\n                    kids.push(...entityKids);\n                }\n                if (offset < getSymbolsCount(content)) {\n                    kids.push(sliceSymbols(content, offset));\n                }\n                for (const item of group) {\n                    const { exemplary } = layouts.find(l => l.id === item.layout);\n                    const entitiesGroups = (_c = this.groupEntities(entities, item.styles)) !== null && _c !== void 0 ? _c : [];\n                    for (const entitiesGroup of entitiesGroups) {\n                        if (!entitiesGroup.stylesGroup)\n                            continue;\n                        for (const styleGroup of entitiesGroup.stylesGroup) {\n                            const lineHeight = styleGroup.styles.find(s => s.name === 'LINEHEIGHT');\n                            const color = styleGroup.styles.find(s => s.name === 'COLOR');\n                            if (lineHeight === null || lineHeight === void 0 ? void 0 : lineHeight.value) {\n                                currentLineHeight[item.layout] = lineHeight.value;\n                            }\n                            styleRules[item.layout].push(`\r\n                .${blockClass} .s-${styleGroup.start}-${styleGroup.end} {\r\n                  ${styleGroup.styles.map(s => RichTextConverter.fromRangeStylesToInline(s, exemplary)).join('\\n')}\r\n                }\r\n              `);\n                            if (color) {\n                                styleRules[item.layout].push(`\r\n                @supports not (color: oklch(42% 0.3 90 / 1)) {\r\n                  .${blockClass} .s-${styleGroup.start}-${styleGroup.end} {\r\n                    color: ${color_1.CntrlColor.parse(getResolvedValue(color.value, 'COLOR')).fmt('rgba')};\r\n                  }\r\n                }\r\n              `);\n                            }\n                        }\n                    }\n                }\n                root.push((0, jsx_runtime_1.jsx)(\"div\", { className: blockClass, children: kids }, blockClass));\n            }\n        }\n        const styles = layouts.map(l => `\r\n      ${(0, sdk_1.getLayoutMediaQuery)(l.id, layouts)} {\r\n        ${styleRules[l.id].join('\\n')}\r\n      }\r\n    `).join('\\n');\n        return [\n            root,\n            styles\n        ];\n    }\n    serializeRanges(ranges) {\n        return ranges.map(r => `${r.start},${r.end}`).join(' ');\n    }\n    normalizeStyles(styles, entities) {\n        const styleGroups = [];\n        const dividers = [...styles, ...entities].reduce((ds, s) => {\n            ds.add(s.start);\n            ds.add(s.end);\n            return ds;\n        }, new Set());\n        if (dividers.size === 0)\n            return;\n        const edges = Array.from(dividers).sort((a, b) => a - b);\n        for (let i = 0; i < edges.length - 1; i += 1) {\n            const start = edges[i];\n            const end = edges[i + 1];\n            const applied = styles.filter(s => Math.max(s.start, start) < Math.min(s.end, end));\n            if (applied.length === 0)\n                continue;\n            styleGroups.push({\n                start,\n                end,\n                styles: applied.map(s => ({ name: s.style, value: s.value }))\n            });\n        }\n        return styleGroups;\n    }\n    groupEntities(entities, styleGroups) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        const entitiesGroups = [];\n        if (!entities.length && !styleGroups)\n            return;\n        if (!styleGroups || styleGroups.length === 0) {\n            const dividersSet = entities.reduce((ds, e) => {\n                // some entities may have no data, need to filter them out\n                // (case with deleting a section/page that was linked to)\n                if (!e.hasOwnProperty('data'))\n                    return ds;\n                ds.add(e.start);\n                ds.add(e.end);\n                return ds;\n            }, new Set([entities[0].start, entities[entities.length - 1].end]));\n            const dividers = Array.from(dividersSet).sort((a, b) => a - b);\n            for (let i = 0; i < dividers.length - 1; i += 1) {\n                const start = dividers[i];\n                const end = dividers[i + 1];\n                const entity = entities.find(e => e.start === start);\n                entitiesGroups.push(Object.assign({ stylesGroup: [], start,\n                    end }, (entity && { link: (_b = (_a = entity.data) === null || _a === void 0 ? void 0 : _a.url) !== null && _b !== void 0 ? _b : '', target: (_d = (_c = entity.data) === null || _c === void 0 ? void 0 : _c.target) !== null && _d !== void 0 ? _d : '_self' })));\n            }\n            return entitiesGroups;\n        }\n        if (entities.length === 0) {\n            entitiesGroups.push({\n                stylesGroup: styleGroups,\n                start: styleGroups[0].start,\n                end: styleGroups[styleGroups.length - 1].end\n            });\n            return entitiesGroups;\n        }\n        const start = entities[0].start < styleGroups[0].start ? entities[0].start : styleGroups[0].start;\n        const end = entities[entities.length - 1].end > styleGroups[styleGroups.length - 1].end ? entities[entities.length - 1].end : styleGroups[styleGroups.length - 1].end;\n        const entitiesDividers = entities.reduce((ds, e) => {\n            if (!e.hasOwnProperty('data'))\n                return ds;\n            ds.add(e.start);\n            ds.add(e.end);\n            return ds;\n        }, new Set([start, end]));\n        const entityDividers = Array.from(entitiesDividers).sort((a, b) => a - b);\n        for (let i = 0; i < entityDividers.length - 1; i += 1) {\n            const start = entityDividers[i];\n            const end = entityDividers[i + 1];\n            const entity = entities.find(e => e.start === start);\n            entitiesGroups.push(Object.assign({ stylesGroup: styleGroups.filter(s => s.start >= start && s.end <= end), start,\n                end }, (entity && { link: (_f = (_e = entity.data) === null || _e === void 0 ? void 0 : _e.url) !== null && _f !== void 0 ? _f : '', target: (_h = (_g = entity.data) === null || _g === void 0 ? void 0 : _g.target) !== null && _h !== void 0 ? _h : '_self' })));\n        }\n        return entitiesGroups;\n    }\n    static fromRangeStylesToInline(draftStyle, exemplary) {\n        const { value, name } = draftStyle;\n        const map = {\n            COLOR: { color: getResolvedValue(value, name) },\n            TYPEFACE: { 'font-family': `${(0, getFontFamilyValue_1.getFontFamilyValue)(value)}` },\n            FONTSTYLE: value ? Object.assign({}, exports.FontStyles[value]) : {},\n            FONTWEIGHT: { 'font-weight': value },\n            FONTSIZE: { 'font-size': `${Number.parseFloat(value) * exemplary}px` },\n            LINEHEIGHT: { 'line-height': `${Number.parseFloat(value) * exemplary}px` },\n            LETTERSPACING: { 'letter-spacing': `${Number.parseFloat(value) * exemplary}px` },\n            WORDSPACING: { 'word-spacing': `${Number.parseFloat(value) * exemplary}px` },\n            TEXTTRANSFORM: value ? { 'text-transform': value } : { 'text-transform': sdk_1.TextTransform.None },\n            VERTICALALIGN: value ? { 'vertical-align': value } : { 'vertical-align': sdk_1.VerticalAlign.Unset },\n            TEXTDECORATION: { 'text-decoration': value },\n            FONTVARIANT: { 'font-variant': value }\n        };\n        const css = map[name];\n        if (!css) {\n            return '';\n        }\n        return Object.entries(css).filter(([, value]) => !!value).map(([prop, value]) => `${prop}: ${value};`).join('\\n');\n    }\n}\nexports.RichTextConverter = RichTextConverter;\nfunction groupBy(items, getKey) {\n    const groups = {};\n    for (const item of items) {\n        const key = getKey(item);\n        if (!groups[key]) {\n            groups[key] = [];\n        }\n        groups[key].push(item);\n    }\n    return groups;\n}\nfunction getResolvedValue(value, name) {\n    if (name !== 'COLOR')\n        return value;\n    return value ? color_1.CntrlColor.parse(value).toCss() : value;\n}\nfunction sliceSymbols(text, start, end = Number.NaN) {\n    let startOffset = Number.NaN;\n    let endOffset = 0;\n    let count = -1;\n    for (const ch of text) {\n        count += 1;\n        if (count === start) {\n            startOffset = endOffset;\n        }\n        if (count === end)\n            break;\n        endOffset += ch.length;\n    }\n    if (isNaN(startOffset))\n        return '';\n    return text.slice(startOffset, endOffset);\n}\nfunction getSymbolsCount(input) {\n    let count = 0;\n    let ch;\n    for (ch of input) {\n        count += 1;\n    }\n    return count;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvUmljaFRleHRDb252ZXJ0ZXIvUmljaFRleHRDb252ZXJ0ZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QseUJBQXlCLEdBQUcsa0JBQWtCO0FBQzlDLHNCQUFzQixtQkFBTyxDQUFDLDhEQUFtQjtBQUNqRCxnQkFBZ0IsbUJBQU8sQ0FBQyx3RUFBbUI7QUFDM0MsY0FBYyxtQkFBTyxDQUFDLHFFQUFpQjtBQUN2QyxzQkFBc0IsbUJBQU8sQ0FBQyxxSEFBb0M7QUFDbEUsNkJBQTZCLG1CQUFPLENBQUMsb0dBQXVCO0FBQzVELGtCQUFrQjtBQUNsQixjQUFjLHdCQUF3QjtBQUN0QyxZQUFZLHVCQUF1QjtBQUNuQyxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isb0JBQW9CO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxJQUFJO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBSTtBQUNiLGlDQUFpQyw0QkFBNEI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsWUFBWSxNQUFNLFdBQVc7QUFDOUQsMERBQTBELHdEQUF3RCxHQUFHO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlEQUFpRCxZQUFZLE1BQU0sYUFBYSxFQUFFLElBQUk7QUFDdEYsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxrREFBa0QsY0FBYztBQUNoRTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsUUFBUSx3REFBd0Q7QUFDN0g7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixvRUFBb0UsUUFBUSxzRkFBc0Y7QUFDbEs7QUFDQSx5Q0FBeUMsWUFBWSxJQUFJLFdBQVcsR0FBRywwRUFBMEU7QUFDako7QUFDQTtBQUNBO0FBQ0E7QUFDQSxl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b2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvUmljaFRleHRDb252ZXJ0ZXIvUmljaFRleHRDb252ZXJ0ZXIuanM/N2Y4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmljaFRleHRDb252ZXJ0ZXIgPSBleHBvcnRzLkZvbnRTdHlsZXMgPSB2b2lkIDA7XG5jb25zdCBqc3hfcnVudGltZV8xID0gcmVxdWlyZShcInJlYWN0L2pzeC1ydW50aW1lXCIpO1xuY29uc3QgY29sb3JfMSA9IHJlcXVpcmUoXCJAY250cmwtc2l0ZS9jb2xvclwiKTtcbmNvbnN0IHNka18xID0gcmVxdWlyZShcIkBjbnRybC1zaXRlL3Nka1wiKTtcbmNvbnN0IExpbmtXcmFwcGVyXzEgPSByZXF1aXJlKFwiLi4vLi4vY29tcG9uZW50cy9pdGVtcy9MaW5rV3JhcHBlclwiKTtcbmNvbnN0IGdldEZvbnRGYW1pbHlWYWx1ZV8xID0gcmVxdWlyZShcIi4uL2dldEZvbnRGYW1pbHlWYWx1ZVwiKTtcbmV4cG9ydHMuRm9udFN0eWxlcyA9IHtcbiAgICBub3JtYWw6IHsgJ2ZvbnQtc3R5bGUnOiAnbm9ybWFsJyB9LFxuICAgIGJvbGQ6IHsgJ2ZvbnQtd2VpZ2h0JzogJ2JvbGQnIH0sXG4gICAgaXRhbGljOiB7ICdmb250LXN0eWxlJzogJ2l0YWxpYycgfVxufTtcbmNsYXNzIFJpY2hUZXh0Q29udmVydGVyIHtcbiAgICB0b0h0bWwocmljaFRleHQsIGxheW91dHMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGNvbnN0IHsgdGV4dCwgYmxvY2tzID0gW10gfSA9IHJpY2hUZXh0LmNvbW1vblBhcmFtcztcbiAgICAgICAgY29uc3Qgcm9vdCA9IFtdO1xuICAgICAgICBjb25zdCBzdHlsZVJ1bGVzID0gbGF5b3V0cy5yZWR1Y2UoKHJlYywgbGF5b3V0KSA9PiB7XG4gICAgICAgICAgICByZWNbbGF5b3V0LmlkXSA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuIHJlYztcbiAgICAgICAgfSwge30pO1xuICAgICAgICBjb25zdCBjdXJyZW50TGluZUhlaWdodCA9IGxheW91dHMucmVkdWNlKChyZWMsIGxheW91dCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVzID0gcmljaFRleHQubGF5b3V0UGFyYW1zW2xheW91dC5pZF0ucmFuZ2VTdHlsZXM7XG4gICAgICAgICAgICByZWNbbGF5b3V0LmlkXSA9IChfYSA9IHN0eWxlcyA9PT0gbnVsbCB8fCBzdHlsZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0eWxlcy5maW5kKHMgPT4gcy5zdHlsZSA9PT0gJ0xJTkVIRUlHSFQnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHJlYztcbiAgICAgICAgfSwge30pO1xuICAgICAgICBmb3IgKGxldCBibG9ja0luZGV4ID0gMDsgYmxvY2tJbmRleCA8IGJsb2Nrcy5sZW5ndGg7IGJsb2NrSW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgYmxvY2sgPSBibG9ja3NbYmxvY2tJbmRleF07XG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gdGV4dC5zbGljZShibG9jay5zdGFydCwgYmxvY2suZW5kICsgMSk7XG4gICAgICAgICAgICBjb25zdCBlbnRpdGllcyA9IChfYSA9IGJsb2NrLmVudGl0aWVzLnNvcnQoKGEsIGIpID0+IGEuc3RhcnQgLSBiLnN0YXJ0KSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW107XG4gICAgICAgICAgICBpZiAoY29udGVudC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGBydF8ke3JpY2hUZXh0LmlkfV9icl8ke2Jsb2NrSW5kZXh9YDtcbiAgICAgICAgICAgICAgICByb290LnB1c2goKDAsIGpzeF9ydW50aW1lXzEuanN4KShcImRpdlwiLCB7IGNsYXNzTmFtZTogaWQsIGNoaWxkcmVuOiAoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwiYnJcIiwge30pIH0sIGlkKSk7XG4gICAgICAgICAgICAgICAgbGF5b3V0cy5mb3JFYWNoKGwgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaEZvckxheW91dCA9IGN1cnJlbnRMaW5lSGVpZ2h0W2wuaWRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGhGb3JMYXlvdXQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGggPSBSaWNoVGV4dENvbnZlcnRlci5mcm9tUmFuZ2VTdHlsZXNUb0lubGluZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnTElORUhFSUdIVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbGhGb3JMYXlvdXRcbiAgICAgICAgICAgICAgICAgICAgfSwgbC5leGVtcGxhcnkpO1xuICAgICAgICAgICAgICAgICAgICBzdHlsZVJ1bGVzW2wuaWRdLnB1c2goYC5ydF8ke3JpY2hUZXh0LmlkfV9icl8ke2Jsb2NrSW5kZXh9IHske2xofX1gKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5ld1N0eWxlc0dyb3VwID0gbGF5b3V0cy5tYXAoKHsgaWQ6IGxheW91dElkIH0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSByaWNoVGV4dC5sYXlvdXRQYXJhbXNbbGF5b3V0SWRdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlcyA9IHBhcmFtcy5yYW5nZVN0eWxlc1xuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHMgPT4gcy5zdGFydCA+PSBibG9jay5zdGFydCAmJiBzLmVuZCA8PSBibG9jay5lbmQpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAocyA9PiAoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzKSwgeyBzdGFydDogcy5zdGFydCAtIGJsb2NrLnN0YXJ0LCBlbmQ6IHMuZW5kIC0gYmxvY2suc3RhcnQgfSkpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICAgICAgbGF5b3V0OiBsYXlvdXRJZCxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzOiB0aGlzLm5vcm1hbGl6ZVN0eWxlcyhzdHlsZXMsIGVudGl0aWVzKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBzYW1lTGF5b3V0cyA9IGdyb3VwQnkobmV3U3R5bGVzR3JvdXAsIChpdGVtKSA9PiB7IHZhciBfYTsgcmV0dXJuIHRoaXMuc2VyaWFsaXplUmFuZ2VzKChfYSA9IGl0ZW0uc3R5bGVzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSk7IH0pO1xuICAgICAgICAgICAgZm9yIChjb25zdCBncm91cCBvZiBPYmplY3QudmFsdWVzKHNhbWVMYXlvdXRzKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJsb2NrQ2xhc3MgPSBgcnRfJHtyaWNoVGV4dC5pZH0tYiR7YmxvY2tJbmRleH1fJHtsYXlvdXRzLm1hcChsID0+IGdyb3VwLnNvbWUoZyA9PiBnLmxheW91dCA9PT0gbC5pZCkgPyAnMScgOiAnMCcpLmpvaW4oJycpfWA7XG4gICAgICAgICAgICAgICAgY29uc3Qga2lkcyA9IFtdO1xuICAgICAgICAgICAgICAgIGxheW91dHMuZm9yRWFjaChsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGEgPSByaWNoVGV4dC5sYXlvdXRQYXJhbXNbbC5pZF0udGV4dEFsaWduO1xuICAgICAgICAgICAgICAgICAgICBzdHlsZVJ1bGVzW2wuaWRdLnB1c2goYFxyXG4gICAgICAgICAgICAuJHtibG9ja0NsYXNzfSB7XHJcbiAgICAgICAgICAgICAgZGlzcGxheTogJHtncm91cC5zb21lKGcgPT4gZy5sYXlvdXQgPT09IGwuaWQpID8gJ2Jsb2NrJyA6ICdub25lJ307XHJcbiAgICAgICAgICAgICAgdGV4dC1hbGlnbjogJHt0YX07XHJcbiAgICAgICAgICAgICAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xyXG4gICAgICAgICAgICAgIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIGApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBncm91cFswXTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbnRpdGllc0dyb3VwcyA9IChfYiA9IHRoaXMuZ3JvdXBFbnRpdGllcyhlbnRpdGllcywgaXRlbS5zdHlsZXMpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXTtcbiAgICAgICAgICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBlbnRpdGllc0dyb3Vwcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbnRpdHlLaWRzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGlmIChvZmZzZXQgPCBlbnRpdHkuc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtpZHMucHVzaChzbGljZVN5bWJvbHMoY29udGVudCwgb2Zmc2V0LCBlbnRpdHkuc3RhcnQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IGVudGl0eS5zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHN0eWxlIG9mIGVudGl0eS5zdHlsZXNHcm91cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldCA8IHN0eWxlLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5S2lkcy5wdXNoKHNsaWNlU3ltYm9scyhjb250ZW50LCBvZmZzZXQsIHN0eWxlLnN0YXJ0KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHlLaWRzLnB1c2goKDAsIGpzeF9ydW50aW1lXzEuanN4KShcInNwYW5cIiwgeyBjbGFzc05hbWU6IGBzLSR7c3R5bGUuc3RhcnR9LSR7c3R5bGUuZW5kfWAsIGNoaWxkcmVuOiBzbGljZVN5bWJvbHMoY29udGVudCwgc3R5bGUuc3RhcnQsIHN0eWxlLmVuZCkgfSwgc3R5bGUuc3RhcnQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IHN0eWxlLmVuZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0IDwgZW50aXR5LmVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5S2lkcy5wdXNoKHNsaWNlU3ltYm9scyhjb250ZW50LCBvZmZzZXQsIGVudGl0eS5lbmQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IGVudGl0eS5lbmQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVudGl0eS5saW5rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBraWRzLnB1c2goKDAsIGpzeF9ydW50aW1lXzEuanN4KShMaW5rV3JhcHBlcl8xLkxpbmtXcmFwcGVyLCB7IHVybDogZW50aXR5LmxpbmssIHRhcmdldDogZW50aXR5LnRhcmdldCwgY2hpbGRyZW46IGVudGl0eUtpZHMgfSwgZW50aXR5LnN0YXJ0KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBraWRzLnB1c2goLi4uZW50aXR5S2lkcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvZmZzZXQgPCBnZXRTeW1ib2xzQ291bnQoY29udGVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAga2lkcy5wdXNoKHNsaWNlU3ltYm9scyhjb250ZW50LCBvZmZzZXQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZXhlbXBsYXJ5IH0gPSBsYXlvdXRzLmZpbmQobCA9PiBsLmlkID09PSBpdGVtLmxheW91dCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudGl0aWVzR3JvdXBzID0gKF9jID0gdGhpcy5ncm91cEVudGl0aWVzKGVudGl0aWVzLCBpdGVtLnN0eWxlcykpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVudGl0aWVzR3JvdXAgb2YgZW50aXRpZXNHcm91cHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZW50aXRpZXNHcm91cC5zdHlsZXNHcm91cClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3R5bGVHcm91cCBvZiBlbnRpdGllc0dyb3VwLnN0eWxlc0dyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZUhlaWdodCA9IHN0eWxlR3JvdXAuc3R5bGVzLmZpbmQocyA9PiBzLm5hbWUgPT09ICdMSU5FSEVJR0hUJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBzdHlsZUdyb3VwLnN0eWxlcy5maW5kKHMgPT4gcy5uYW1lID09PSAnQ09MT1InKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZUhlaWdodCA9PT0gbnVsbCB8fCBsaW5lSGVpZ2h0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsaW5lSGVpZ2h0LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRMaW5lSGVpZ2h0W2l0ZW0ubGF5b3V0XSA9IGxpbmVIZWlnaHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlUnVsZXNbaXRlbS5sYXlvdXRdLnB1c2goYFxyXG4gICAgICAgICAgICAgICAgLiR7YmxvY2tDbGFzc30gLnMtJHtzdHlsZUdyb3VwLnN0YXJ0fS0ke3N0eWxlR3JvdXAuZW5kfSB7XHJcbiAgICAgICAgICAgICAgICAgICR7c3R5bGVHcm91cC5zdHlsZXMubWFwKHMgPT4gUmljaFRleHRDb252ZXJ0ZXIuZnJvbVJhbmdlU3R5bGVzVG9JbmxpbmUocywgZXhlbXBsYXJ5KSkuam9pbignXFxuJyl9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlUnVsZXNbaXRlbS5sYXlvdXRdLnB1c2goYFxyXG4gICAgICAgICAgICAgICAgQHN1cHBvcnRzIG5vdCAoY29sb3I6IG9rbGNoKDQyJSAwLjMgOTAgLyAxKSkge1xyXG4gICAgICAgICAgICAgICAgICAuJHtibG9ja0NsYXNzfSAucy0ke3N0eWxlR3JvdXAuc3RhcnR9LSR7c3R5bGVHcm91cC5lbmR9IHtcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJHtjb2xvcl8xLkNudHJsQ29sb3IucGFyc2UoZ2V0UmVzb2x2ZWRWYWx1ZShjb2xvci52YWx1ZSwgJ0NPTE9SJykpLmZtdCgncmdiYScpfTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByb290LnB1c2goKDAsIGpzeF9ydW50aW1lXzEuanN4KShcImRpdlwiLCB7IGNsYXNzTmFtZTogYmxvY2tDbGFzcywgY2hpbGRyZW46IGtpZHMgfSwgYmxvY2tDbGFzcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IGxheW91dHMubWFwKGwgPT4gYFxyXG4gICAgICAkeygwLCBzZGtfMS5nZXRMYXlvdXRNZWRpYVF1ZXJ5KShsLmlkLCBsYXlvdXRzKX0ge1xyXG4gICAgICAgICR7c3R5bGVSdWxlc1tsLmlkXS5qb2luKCdcXG4nKX1cclxuICAgICAgfVxyXG4gICAgYCkuam9pbignXFxuJyk7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICByb290LFxuICAgICAgICAgICAgc3R5bGVzXG4gICAgICAgIF07XG4gICAgfVxuICAgIHNlcmlhbGl6ZVJhbmdlcyhyYW5nZXMpIHtcbiAgICAgICAgcmV0dXJuIHJhbmdlcy5tYXAociA9PiBgJHtyLnN0YXJ0fSwke3IuZW5kfWApLmpvaW4oJyAnKTtcbiAgICB9XG4gICAgbm9ybWFsaXplU3R5bGVzKHN0eWxlcywgZW50aXRpZXMpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVHcm91cHMgPSBbXTtcbiAgICAgICAgY29uc3QgZGl2aWRlcnMgPSBbLi4uc3R5bGVzLCAuLi5lbnRpdGllc10ucmVkdWNlKChkcywgcykgPT4ge1xuICAgICAgICAgICAgZHMuYWRkKHMuc3RhcnQpO1xuICAgICAgICAgICAgZHMuYWRkKHMuZW5kKTtcbiAgICAgICAgICAgIHJldHVybiBkcztcbiAgICAgICAgfSwgbmV3IFNldCgpKTtcbiAgICAgICAgaWYgKGRpdmlkZXJzLnNpemUgPT09IDApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGVkZ2VzID0gQXJyYXkuZnJvbShkaXZpZGVycykuc29ydCgoYSwgYikgPT4gYSAtIGIpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVkZ2VzLmxlbmd0aCAtIDE7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBlZGdlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IGVkZ2VzW2kgKyAxXTtcbiAgICAgICAgICAgIGNvbnN0IGFwcGxpZWQgPSBzdHlsZXMuZmlsdGVyKHMgPT4gTWF0aC5tYXgocy5zdGFydCwgc3RhcnQpIDwgTWF0aC5taW4ocy5lbmQsIGVuZCkpO1xuICAgICAgICAgICAgaWYgKGFwcGxpZWQubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgc3R5bGVHcm91cHMucHVzaCh7XG4gICAgICAgICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgICAgICAgZW5kLFxuICAgICAgICAgICAgICAgIHN0eWxlczogYXBwbGllZC5tYXAocyA9PiAoeyBuYW1lOiBzLnN0eWxlLCB2YWx1ZTogcy52YWx1ZSB9KSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHlsZUdyb3VwcztcbiAgICB9XG4gICAgZ3JvdXBFbnRpdGllcyhlbnRpdGllcywgc3R5bGVHcm91cHMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaDtcbiAgICAgICAgY29uc3QgZW50aXRpZXNHcm91cHMgPSBbXTtcbiAgICAgICAgaWYgKCFlbnRpdGllcy5sZW5ndGggJiYgIXN0eWxlR3JvdXBzKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoIXN0eWxlR3JvdXBzIHx8IHN0eWxlR3JvdXBzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgZGl2aWRlcnNTZXQgPSBlbnRpdGllcy5yZWR1Y2UoKGRzLCBlKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gc29tZSBlbnRpdGllcyBtYXkgaGF2ZSBubyBkYXRhLCBuZWVkIHRvIGZpbHRlciB0aGVtIG91dFxuICAgICAgICAgICAgICAgIC8vIChjYXNlIHdpdGggZGVsZXRpbmcgYSBzZWN0aW9uL3BhZ2UgdGhhdCB3YXMgbGlua2VkIHRvKVxuICAgICAgICAgICAgICAgIGlmICghZS5oYXNPd25Qcm9wZXJ0eSgnZGF0YScpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHM7XG4gICAgICAgICAgICAgICAgZHMuYWRkKGUuc3RhcnQpO1xuICAgICAgICAgICAgICAgIGRzLmFkZChlLmVuZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRzO1xuICAgICAgICAgICAgfSwgbmV3IFNldChbZW50aXRpZXNbMF0uc3RhcnQsIGVudGl0aWVzW2VudGl0aWVzLmxlbmd0aCAtIDFdLmVuZF0pKTtcbiAgICAgICAgICAgIGNvbnN0IGRpdmlkZXJzID0gQXJyYXkuZnJvbShkaXZpZGVyc1NldCkuc29ydCgoYSwgYikgPT4gYSAtIGIpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXZpZGVycy5sZW5ndGggLSAxOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IGRpdmlkZXJzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuZCA9IGRpdmlkZXJzW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbnRpdHkgPSBlbnRpdGllcy5maW5kKGUgPT4gZS5zdGFydCA9PT0gc3RhcnQpO1xuICAgICAgICAgICAgICAgIGVudGl0aWVzR3JvdXBzLnB1c2goT2JqZWN0LmFzc2lnbih7IHN0eWxlc0dyb3VwOiBbXSwgc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgIGVuZCB9LCAoZW50aXR5ICYmIHsgbGluazogKF9iID0gKF9hID0gZW50aXR5LmRhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS51cmwpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnLCB0YXJnZXQ6IChfZCA9IChfYyA9IGVudGl0eS5kYXRhKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudGFyZ2V0KSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAnX3NlbGYnIH0pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZW50aXRpZXNHcm91cHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVudGl0aWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50aXRpZXNHcm91cHMucHVzaCh7XG4gICAgICAgICAgICAgICAgc3R5bGVzR3JvdXA6IHN0eWxlR3JvdXBzLFxuICAgICAgICAgICAgICAgIHN0YXJ0OiBzdHlsZUdyb3Vwc1swXS5zdGFydCxcbiAgICAgICAgICAgICAgICBlbmQ6IHN0eWxlR3JvdXBzW3N0eWxlR3JvdXBzLmxlbmd0aCAtIDFdLmVuZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZW50aXRpZXNHcm91cHM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhcnQgPSBlbnRpdGllc1swXS5zdGFydCA8IHN0eWxlR3JvdXBzWzBdLnN0YXJ0ID8gZW50aXRpZXNbMF0uc3RhcnQgOiBzdHlsZUdyb3Vwc1swXS5zdGFydDtcbiAgICAgICAgY29uc3QgZW5kID0gZW50aXRpZXNbZW50aXRpZXMubGVuZ3RoIC0gMV0uZW5kID4gc3R5bGVHcm91cHNbc3R5bGVHcm91cHMubGVuZ3RoIC0gMV0uZW5kID8gZW50aXRpZXNbZW50aXRpZXMubGVuZ3RoIC0gMV0uZW5kIDogc3R5bGVHcm91cHNbc3R5bGVHcm91cHMubGVuZ3RoIC0gMV0uZW5kO1xuICAgICAgICBjb25zdCBlbnRpdGllc0RpdmlkZXJzID0gZW50aXRpZXMucmVkdWNlKChkcywgZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFlLmhhc093blByb3BlcnR5KCdkYXRhJykpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRzO1xuICAgICAgICAgICAgZHMuYWRkKGUuc3RhcnQpO1xuICAgICAgICAgICAgZHMuYWRkKGUuZW5kKTtcbiAgICAgICAgICAgIHJldHVybiBkcztcbiAgICAgICAgfSwgbmV3IFNldChbc3RhcnQsIGVuZF0pKTtcbiAgICAgICAgY29uc3QgZW50aXR5RGl2aWRlcnMgPSBBcnJheS5mcm9tKGVudGl0aWVzRGl2aWRlcnMpLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbnRpdHlEaXZpZGVycy5sZW5ndGggLSAxOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gZW50aXR5RGl2aWRlcnNbaV07XG4gICAgICAgICAgICBjb25zdCBlbmQgPSBlbnRpdHlEaXZpZGVyc1tpICsgMV07XG4gICAgICAgICAgICBjb25zdCBlbnRpdHkgPSBlbnRpdGllcy5maW5kKGUgPT4gZS5zdGFydCA9PT0gc3RhcnQpO1xuICAgICAgICAgICAgZW50aXRpZXNHcm91cHMucHVzaChPYmplY3QuYXNzaWduKHsgc3R5bGVzR3JvdXA6IHN0eWxlR3JvdXBzLmZpbHRlcihzID0+IHMuc3RhcnQgPj0gc3RhcnQgJiYgcy5lbmQgPD0gZW5kKSwgc3RhcnQsXG4gICAgICAgICAgICAgICAgZW5kIH0sIChlbnRpdHkgJiYgeyBsaW5rOiAoX2YgPSAoX2UgPSBlbnRpdHkuZGF0YSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLnVybCkgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDogJycsIHRhcmdldDogKF9oID0gKF9nID0gZW50aXR5LmRhdGEpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy50YXJnZXQpICE9PSBudWxsICYmIF9oICE9PSB2b2lkIDAgPyBfaCA6ICdfc2VsZicgfSkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW50aXRpZXNHcm91cHM7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tUmFuZ2VTdHlsZXNUb0lubGluZShkcmFmdFN0eWxlLCBleGVtcGxhcnkpIHtcbiAgICAgICAgY29uc3QgeyB2YWx1ZSwgbmFtZSB9ID0gZHJhZnRTdHlsZTtcbiAgICAgICAgY29uc3QgbWFwID0ge1xuICAgICAgICAgICAgQ09MT1I6IHsgY29sb3I6IGdldFJlc29sdmVkVmFsdWUodmFsdWUsIG5hbWUpIH0sXG4gICAgICAgICAgICBUWVBFRkFDRTogeyAnZm9udC1mYW1pbHknOiBgJHsoMCwgZ2V0Rm9udEZhbWlseVZhbHVlXzEuZ2V0Rm9udEZhbWlseVZhbHVlKSh2YWx1ZSl9YCB9LFxuICAgICAgICAgICAgRk9OVFNUWUxFOiB2YWx1ZSA/IE9iamVjdC5hc3NpZ24oe30sIGV4cG9ydHMuRm9udFN0eWxlc1t2YWx1ZV0pIDoge30sXG4gICAgICAgICAgICBGT05UV0VJR0hUOiB7ICdmb250LXdlaWdodCc6IHZhbHVlIH0sXG4gICAgICAgICAgICBGT05UU0laRTogeyAnZm9udC1zaXplJzogYCR7TnVtYmVyLnBhcnNlRmxvYXQodmFsdWUpICogZXhlbXBsYXJ5fXB4YCB9LFxuICAgICAgICAgICAgTElORUhFSUdIVDogeyAnbGluZS1oZWlnaHQnOiBgJHtOdW1iZXIucGFyc2VGbG9hdCh2YWx1ZSkgKiBleGVtcGxhcnl9cHhgIH0sXG4gICAgICAgICAgICBMRVRURVJTUEFDSU5HOiB7ICdsZXR0ZXItc3BhY2luZyc6IGAke051bWJlci5wYXJzZUZsb2F0KHZhbHVlKSAqIGV4ZW1wbGFyeX1weGAgfSxcbiAgICAgICAgICAgIFdPUkRTUEFDSU5HOiB7ICd3b3JkLXNwYWNpbmcnOiBgJHtOdW1iZXIucGFyc2VGbG9hdCh2YWx1ZSkgKiBleGVtcGxhcnl9cHhgIH0sXG4gICAgICAgICAgICBURVhUVFJBTlNGT1JNOiB2YWx1ZSA/IHsgJ3RleHQtdHJhbnNmb3JtJzogdmFsdWUgfSA6IHsgJ3RleHQtdHJhbnNmb3JtJzogc2RrXzEuVGV4dFRyYW5zZm9ybS5Ob25lIH0sXG4gICAgICAgICAgICBWRVJUSUNBTEFMSUdOOiB2YWx1ZSA/IHsgJ3ZlcnRpY2FsLWFsaWduJzogdmFsdWUgfSA6IHsgJ3ZlcnRpY2FsLWFsaWduJzogc2RrXzEuVmVydGljYWxBbGlnbi5VbnNldCB9LFxuICAgICAgICAgICAgVEVYVERFQ09SQVRJT046IHsgJ3RleHQtZGVjb3JhdGlvbic6IHZhbHVlIH0sXG4gICAgICAgICAgICBGT05UVkFSSUFOVDogeyAnZm9udC12YXJpYW50JzogdmFsdWUgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjc3MgPSBtYXBbbmFtZV07XG4gICAgICAgIGlmICghY3NzKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGNzcykuZmlsdGVyKChbLCB2YWx1ZV0pID0+ICEhdmFsdWUpLm1hcCgoW3Byb3AsIHZhbHVlXSkgPT4gYCR7cHJvcH06ICR7dmFsdWV9O2ApLmpvaW4oJ1xcbicpO1xuICAgIH1cbn1cbmV4cG9ydHMuUmljaFRleHRDb252ZXJ0ZXIgPSBSaWNoVGV4dENvbnZlcnRlcjtcbmZ1bmN0aW9uIGdyb3VwQnkoaXRlbXMsIGdldEtleSkge1xuICAgIGNvbnN0IGdyb3VwcyA9IHt9O1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICBjb25zdCBrZXkgPSBnZXRLZXkoaXRlbSk7XG4gICAgICAgIGlmICghZ3JvdXBzW2tleV0pIHtcbiAgICAgICAgICAgIGdyb3Vwc1trZXldID0gW107XG4gICAgICAgIH1cbiAgICAgICAgZ3JvdXBzW2tleV0ucHVzaChpdGVtKTtcbiAgICB9XG4gICAgcmV0dXJuIGdyb3Vwcztcbn1cbmZ1bmN0aW9uIGdldFJlc29sdmVkVmFsdWUodmFsdWUsIG5hbWUpIHtcbiAgICBpZiAobmFtZSAhPT0gJ0NPTE9SJylcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIHJldHVybiB2YWx1ZSA/IGNvbG9yXzEuQ250cmxDb2xvci5wYXJzZSh2YWx1ZSkudG9Dc3MoKSA6IHZhbHVlO1xufVxuZnVuY3Rpb24gc2xpY2VTeW1ib2xzKHRleHQsIHN0YXJ0LCBlbmQgPSBOdW1iZXIuTmFOKSB7XG4gICAgbGV0IHN0YXJ0T2Zmc2V0ID0gTnVtYmVyLk5hTjtcbiAgICBsZXQgZW5kT2Zmc2V0ID0gMDtcbiAgICBsZXQgY291bnQgPSAtMTtcbiAgICBmb3IgKGNvbnN0IGNoIG9mIHRleHQpIHtcbiAgICAgICAgY291bnQgKz0gMTtcbiAgICAgICAgaWYgKGNvdW50ID09PSBzdGFydCkge1xuICAgICAgICAgICAgc3RhcnRPZmZzZXQgPSBlbmRPZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvdW50ID09PSBlbmQpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZW5kT2Zmc2V0ICs9IGNoLmxlbmd0aDtcbiAgICB9XG4gICAgaWYgKGlzTmFOKHN0YXJ0T2Zmc2V0KSlcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIHJldHVybiB0ZXh0LnNsaWNlKHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQpO1xufVxuZnVuY3Rpb24gZ2V0U3ltYm9sc0NvdW50KGlucHV0KSB7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBsZXQgY2g7XG4gICAgZm9yIChjaCBvZiBpbnB1dCkge1xuICAgICAgICBjb3VudCArPSAxO1xuICAgIH1cbiAgICByZXR1cm4gY291bnQ7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/utils/RichTextConverter/RichTextConverter.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/utils/ScaleAnchorMap.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/utils/ScaleAnchorMap.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ScaleAnchorMap = void 0;\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nexports.ScaleAnchorMap = {\n    [sdk_1.AreaAnchor.TopLeft]: 'top left',\n    [sdk_1.AreaAnchor.TopCenter]: 'top center',\n    [sdk_1.AreaAnchor.TopRight]: 'top right',\n    [sdk_1.AreaAnchor.MiddleLeft]: 'center left',\n    [sdk_1.AreaAnchor.MiddleCenter]: 'center',\n    [sdk_1.AreaAnchor.MiddleRight]: 'center right',\n    [sdk_1.AreaAnchor.BottomLeft]: 'bottom left',\n    [sdk_1.AreaAnchor.BottomCenter]: 'bottom center',\n    [sdk_1.AreaAnchor.BottomRight]: 'bottom right'\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvU2NhbGVBbmNob3JNYXAuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsc0JBQXNCO0FBQ3RCLGNBQWMsbUJBQU8sQ0FBQyxxRUFBaUI7QUFDdkMsc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi91dGlscy9TY2FsZUFuY2hvck1hcC5qcz8wZDY3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TY2FsZUFuY2hvck1hcCA9IHZvaWQgMDtcbmNvbnN0IHNka18xID0gcmVxdWlyZShcIkBjbnRybC1zaXRlL3Nka1wiKTtcbmV4cG9ydHMuU2NhbGVBbmNob3JNYXAgPSB7XG4gICAgW3Nka18xLkFyZWFBbmNob3IuVG9wTGVmdF06ICd0b3AgbGVmdCcsXG4gICAgW3Nka18xLkFyZWFBbmNob3IuVG9wQ2VudGVyXTogJ3RvcCBjZW50ZXInLFxuICAgIFtzZGtfMS5BcmVhQW5jaG9yLlRvcFJpZ2h0XTogJ3RvcCByaWdodCcsXG4gICAgW3Nka18xLkFyZWFBbmNob3IuTWlkZGxlTGVmdF06ICdjZW50ZXIgbGVmdCcsXG4gICAgW3Nka18xLkFyZWFBbmNob3IuTWlkZGxlQ2VudGVyXTogJ2NlbnRlcicsXG4gICAgW3Nka18xLkFyZWFBbmNob3IuTWlkZGxlUmlnaHRdOiAnY2VudGVyIHJpZ2h0JyxcbiAgICBbc2RrXzEuQXJlYUFuY2hvci5Cb3R0b21MZWZ0XTogJ2JvdHRvbSBsZWZ0JyxcbiAgICBbc2RrXzEuQXJlYUFuY2hvci5Cb3R0b21DZW50ZXJdOiAnYm90dG9tIGNlbnRlcicsXG4gICAgW3Nka18xLkFyZWFBbmNob3IuQm90dG9tUmlnaHRdOiAnYm90dG9tIHJpZ2h0J1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/utils/ScaleAnchorMap.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/utils/Youtube/YouTubeIframeApiLoader.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/utils/Youtube/YouTubeIframeApiLoader.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.captureStackTrace = exports.YouTubeIframeApiLoader = void 0;\nconst YT_IFRAME_API_URL = 'https://www.youtube.com/iframe_api';\nclass YouTubeIframeApiLoader {\n    static create() {\n        if (!YouTubeIframeApiLoader.instance) {\n            YouTubeIframeApiLoader.instance = new YouTubeIframeApiLoader();\n        }\n        return YouTubeIframeApiLoader.instance;\n    }\n    constructor() {\n        this.loadingPromise = this.loadApi();\n    }\n    getApi() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.loadingPromise;\n            if (!window.YT) {\n                throw new Error('YouTube IFrame API is not loaded');\n            }\n            return window.YT;\n        });\n    }\n    loadApi() {\n        return new Promise((resolve, reject) => {\n            const script = document.createElement('script');\n            script.src = YT_IFRAME_API_URL;\n            const loadError = new Error('YouTube IFrame API loading failed');\n            captureStackTrace(loadError);\n            script.addEventListener('abort', () => {\n                reject(loadError);\n            });\n            script.addEventListener('error', () => {\n                reject(loadError);\n            });\n            window.onYouTubeIframeAPIReady = () => {\n                window.onYouTubeIframeAPIReady = undefined;\n                resolve();\n            };\n            document.head.appendChild(script);\n        });\n    }\n}\nexports.YouTubeIframeApiLoader = YouTubeIframeApiLoader;\nfunction captureStackTrace(error) {\n    if (typeof Error.captureStackTrace === 'function') {\n        Error.captureStackTrace(error);\n        return;\n    }\n    try {\n        throw error;\n    }\n    catch (errWithStack) { }\n}\nexports.captureStackTrace = captureStackTrace;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvWW91dHViZS9Zb3VUdWJlSWZyYW1lQXBpTG9hZGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx5QkFBeUIsR0FBRyw4QkFBOEI7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvWW91dHViZS9Zb3VUdWJlSWZyYW1lQXBpTG9hZGVyLmpzP2NhODciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY2FwdHVyZVN0YWNrVHJhY2UgPSBleHBvcnRzLllvdVR1YmVJZnJhbWVBcGlMb2FkZXIgPSB2b2lkIDA7XG5jb25zdCBZVF9JRlJBTUVfQVBJX1VSTCA9ICdodHRwczovL3d3dy55b3V0dWJlLmNvbS9pZnJhbWVfYXBpJztcbmNsYXNzIFlvdVR1YmVJZnJhbWVBcGlMb2FkZXIge1xuICAgIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgIGlmICghWW91VHViZUlmcmFtZUFwaUxvYWRlci5pbnN0YW5jZSkge1xuICAgICAgICAgICAgWW91VHViZUlmcmFtZUFwaUxvYWRlci5pbnN0YW5jZSA9IG5ldyBZb3VUdWJlSWZyYW1lQXBpTG9hZGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFlvdVR1YmVJZnJhbWVBcGlMb2FkZXIuaW5zdGFuY2U7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmxvYWRpbmdQcm9taXNlID0gdGhpcy5sb2FkQXBpKCk7XG4gICAgfVxuICAgIGdldEFwaSgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMubG9hZGluZ1Byb21pc2U7XG4gICAgICAgICAgICBpZiAoIXdpbmRvdy5ZVCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91VHViZSBJRnJhbWUgQVBJIGlzIG5vdCBsb2FkZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuWVQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsb2FkQXBpKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgICAgICBzY3JpcHQuc3JjID0gWVRfSUZSQU1FX0FQSV9VUkw7XG4gICAgICAgICAgICBjb25zdCBsb2FkRXJyb3IgPSBuZXcgRXJyb3IoJ1lvdVR1YmUgSUZyYW1lIEFQSSBsb2FkaW5nIGZhaWxlZCcpO1xuICAgICAgICAgICAgY2FwdHVyZVN0YWNrVHJhY2UobG9hZEVycm9yKTtcbiAgICAgICAgICAgIHNjcmlwdC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QobG9hZEVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChsb2FkRXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB3aW5kb3cub25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgd2luZG93Lm9uWW91VHViZUlmcmFtZUFQSVJlYWR5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuWW91VHViZUlmcmFtZUFwaUxvYWRlciA9IFlvdVR1YmVJZnJhbWVBcGlMb2FkZXI7XG5mdW5jdGlvbiBjYXB0dXJlU3RhY2tUcmFjZShlcnJvcikge1xuICAgIGlmICh0eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZXJyb3IpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyV2l0aFN0YWNrKSB7IH1cbn1cbmV4cG9ydHMuY2FwdHVyZVN0YWNrVHJhY2UgPSBjYXB0dXJlU3RhY2tUcmFjZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/utils/Youtube/YouTubeIframeApiLoader.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/utils/Youtube/useYouTubeIframeApi.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/utils/Youtube/useYouTubeIframeApi.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useYouTubeIframeApi = void 0;\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst YouTubeIframeApiLoader_1 = __webpack_require__(/*! ./YouTubeIframeApiLoader */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/Youtube/YouTubeIframeApiLoader.js\");\nfunction useYouTubeIframeApi() {\n    const [YT, setYT] = (0, react_1.useState)(undefined);\n    (0, react_1.useEffect)(() => {\n        const loader = YouTubeIframeApiLoader_1.YouTubeIframeApiLoader.create();\n        loader.getApi().then((YT) => setYT(YT));\n    }, []);\n    return YT;\n}\nexports.useYouTubeIframeApi = useYouTubeIframeApi;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvWW91dHViZS91c2VZb3VUdWJlSWZyYW1lQXBpLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDJCQUEyQjtBQUMzQixnQkFBZ0IsbUJBQU8sQ0FBQyw0Q0FBTztBQUMvQixpQ0FBaUMsbUJBQU8sQ0FBQyxtSEFBMEI7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsMkJBQTJCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi91dGlscy9Zb3V0dWJlL3VzZVlvdVR1YmVJZnJhbWVBcGkuanM/Zjg4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudXNlWW91VHViZUlmcmFtZUFwaSA9IHZvaWQgMDtcbmNvbnN0IHJlYWN0XzEgPSByZXF1aXJlKFwicmVhY3RcIik7XG5jb25zdCBZb3VUdWJlSWZyYW1lQXBpTG9hZGVyXzEgPSByZXF1aXJlKFwiLi9Zb3VUdWJlSWZyYW1lQXBpTG9hZGVyXCIpO1xuZnVuY3Rpb24gdXNlWW91VHViZUlmcmFtZUFwaSgpIHtcbiAgICBjb25zdCBbWVQsIHNldFlUXSA9ICgwLCByZWFjdF8xLnVzZVN0YXRlKSh1bmRlZmluZWQpO1xuICAgICgwLCByZWFjdF8xLnVzZUVmZmVjdCkoKCkgPT4ge1xuICAgICAgICBjb25zdCBsb2FkZXIgPSBZb3VUdWJlSWZyYW1lQXBpTG9hZGVyXzEuWW91VHViZUlmcmFtZUFwaUxvYWRlci5jcmVhdGUoKTtcbiAgICAgICAgbG9hZGVyLmdldEFwaSgpLnRoZW4oKFlUKSA9PiBzZXRZVChZVCkpO1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gWVQ7XG59XG5leHBvcnRzLnVzZVlvdVR1YmVJZnJhbWVBcGkgPSB1c2VZb3VUdWJlSWZyYW1lQXBpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/utils/Youtube/useYouTubeIframeApi.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/utils/binSearchInsertAt.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/utils/binSearchInsertAt.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createInsert = exports.binSearchInsertAt = void 0;\nfunction binSearchInsertAt(list, item, compare) {\n    switch (list.length) {\n        case 0: return 0;\n        case 1: return compare(item, list[0]) < 0 ? 0 : 1;\n    }\n    let start = 0;\n    let end = list.length;\n    let pivot;\n    let cmpResult;\n    while (start < end) {\n        pivot = start + Math.floor((end - start) / 2);\n        cmpResult = compare(item, list[pivot]);\n        if (cmpResult === 0)\n            return pivot + 1;\n        if (cmpResult < 0) {\n            end = pivot;\n        }\n        if (cmpResult > 0) {\n            start = pivot + 1;\n        }\n    }\n    if (start >= list.length)\n        return list.length;\n    return compare(item, list[start]) < 0 ? start : start + 1;\n}\nexports.binSearchInsertAt = binSearchInsertAt;\nfunction createInsert(start, compare) {\n    return (list, item) => {\n        const pos = start(list, item, compare);\n        list.splice(pos, 0, item);\n    };\n}\nexports.createInsert = createInsert;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvYmluU2VhcmNoSW5zZXJ0QXQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CLEdBQUcseUJBQXlCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvYmluU2VhcmNoSW5zZXJ0QXQuanM/MTg1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlSW5zZXJ0ID0gZXhwb3J0cy5iaW5TZWFyY2hJbnNlcnRBdCA9IHZvaWQgMDtcbmZ1bmN0aW9uIGJpblNlYXJjaEluc2VydEF0KGxpc3QsIGl0ZW0sIGNvbXBhcmUpIHtcbiAgICBzd2l0Y2ggKGxpc3QubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDogcmV0dXJuIDA7XG4gICAgICAgIGNhc2UgMTogcmV0dXJuIGNvbXBhcmUoaXRlbSwgbGlzdFswXSkgPCAwID8gMCA6IDE7XG4gICAgfVxuICAgIGxldCBzdGFydCA9IDA7XG4gICAgbGV0IGVuZCA9IGxpc3QubGVuZ3RoO1xuICAgIGxldCBwaXZvdDtcbiAgICBsZXQgY21wUmVzdWx0O1xuICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xuICAgICAgICBwaXZvdCA9IHN0YXJ0ICsgTWF0aC5mbG9vcigoZW5kIC0gc3RhcnQpIC8gMik7XG4gICAgICAgIGNtcFJlc3VsdCA9IGNvbXBhcmUoaXRlbSwgbGlzdFtwaXZvdF0pO1xuICAgICAgICBpZiAoY21wUmVzdWx0ID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHBpdm90ICsgMTtcbiAgICAgICAgaWYgKGNtcFJlc3VsdCA8IDApIHtcbiAgICAgICAgICAgIGVuZCA9IHBpdm90O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbXBSZXN1bHQgPiAwKSB7XG4gICAgICAgICAgICBzdGFydCA9IHBpdm90ICsgMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc3RhcnQgPj0gbGlzdC5sZW5ndGgpXG4gICAgICAgIHJldHVybiBsaXN0Lmxlbmd0aDtcbiAgICByZXR1cm4gY29tcGFyZShpdGVtLCBsaXN0W3N0YXJ0XSkgPCAwID8gc3RhcnQgOiBzdGFydCArIDE7XG59XG5leHBvcnRzLmJpblNlYXJjaEluc2VydEF0ID0gYmluU2VhcmNoSW5zZXJ0QXQ7XG5mdW5jdGlvbiBjcmVhdGVJbnNlcnQoc3RhcnQsIGNvbXBhcmUpIHtcbiAgICByZXR1cm4gKGxpc3QsIGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3QgcG9zID0gc3RhcnQobGlzdCwgaXRlbSwgY29tcGFyZSk7XG4gICAgICAgIGxpc3Quc3BsaWNlKHBvcywgMCwgaXRlbSk7XG4gICAgfTtcbn1cbmV4cG9ydHMuY3JlYXRlSW5zZXJ0ID0gY3JlYXRlSW5zZXJ0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/utils/binSearchInsertAt.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/utils/effects/useImageFx.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/utils/effects/useImageFx.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useImageFx = void 0;\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst effects_1 = __webpack_require__(/*! @cntrl-site/effects */ \"./node_modules/@cntrl-site/effects/lib/index.js\");\nconst rangeMap_1 = __webpack_require__(/*! ../rangeMap */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/rangeMap.js\");\nconst WebGLContextManagerContext_1 = __webpack_require__(/*! ../../provider/WebGLContextManagerContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/WebGLContextManagerContext.js\");\nconst PATTERN_URL = 'https://cdn.cntrl.site/client-app-files/texture2.png';\nconst PATTERN_2_URL = 'https://cdn.cntrl.site/client-app-files/bayer16.png';\nfunction useImageFx(canvas, enabled, { imageUrl, fragmentShader, controlsValues }, width, height) {\n    const webGLContextManager = (0, react_1.useContext)(WebGLContextManagerContext_1.WebglContextManagerContext);\n    const [isFXAllowed, setIsFXAllowed] = (0, react_1.useState)(true);\n    const glRef = (0, react_1.useRef)(null);\n    const isRenderingRef = (0, react_1.useRef)(false);\n    const frameRef = (0, react_1.useRef)();\n    const imageTextureManager = (0, react_1.useMemo)(() => {\n        if (!imageUrl || !enabled)\n            return;\n        return new effects_1.ImageTextureManager(imageUrl);\n    }, [imageUrl, enabled]);\n    const imageFx = (0, react_1.useMemo)(() => {\n        if (!imageTextureManager)\n            return;\n        return new effects_1.MediaEffect(imageTextureManager, PATTERN_URL, PATTERN_2_URL, fragmentShader, Object.assign({ time: 0, cursor: [0, 0] }, controlsValues), width, height);\n    }, [imageTextureManager, fragmentShader, width, height]);\n    (0, react_1.useEffect)(() => {\n        if (!imageFx || !controlsValues)\n            return;\n        for (const [key, value] of Object.entries(controlsValues)) {\n            imageFx.setParam(key, value);\n        }\n    }, [imageFx, controlsValues]);\n    (0, react_1.useEffect)(() => {\n        if (!canvas || !imageFx)\n            return;\n        const handleMouseMove = (evt) => {\n            const rect = canvas.getBoundingClientRect();\n            const x = (0, rangeMap_1.rangeMap)(evt.clientX, rect.left, rect.left + rect.width, 0, 1, true);\n            const y = (0, rangeMap_1.rangeMap)(evt.clientY, rect.top, rect.top + rect.height, 0, 1, true);\n            imageFx.setParam('cursor', [x, y]);\n        };\n        window.addEventListener('mousemove', handleMouseMove, { capture: true, passive: true });\n        return () => {\n            window.removeEventListener('mousemove', handleMouseMove);\n        };\n    }, [canvas, imageFx]);\n    (0, react_1.useEffect)(() => {\n        if (!enabled || !canvas || !imageFx)\n            return;\n        let time = 0;\n        const startRendering = () => {\n            if (isRenderingRef.current)\n                return;\n            const gl = webGLContextManager.getContext(canvas);\n            if (!gl) {\n                return;\n            }\n            glRef.current = gl;\n            isRenderingRef.current = true;\n            imageFx.prepare(gl);\n            const renderFrame = () => {\n                if (!isRenderingRef.current || !glRef.current)\n                    return;\n                time += 0.1;\n                webGLContextManager.updateContextSize(glRef.current, canvas.width, canvas.height);\n                imageFx.setViewport(Math.floor(canvas.width), Math.floor(canvas.height));\n                imageFx.setParam('time', time);\n                try {\n                    imageFx.render(glRef.current);\n                }\n                catch (_a) {\n                    setIsFXAllowed(false);\n                }\n                webGLContextManager.renderToCanvas(glRef.current, canvas);\n                frameRef.current = requestAnimationFrame(renderFrame);\n            };\n            frameRef.current = requestAnimationFrame(renderFrame);\n        };\n        const stopRendering = () => {\n            if (!isRenderingRef.current)\n                return;\n            if (frameRef.current) {\n                cancelAnimationFrame(frameRef.current);\n                frameRef.current = undefined;\n            }\n            if (glRef.current) {\n                webGLContextManager.releaseContext(canvas);\n                glRef.current = null;\n            }\n            const ctx = canvas.getContext('2d');\n            if (ctx) {\n                ctx.clearRect(0, 0, canvas.width, canvas.height);\n            }\n            isRenderingRef.current = false;\n        };\n        const observer = new IntersectionObserver(([entry]) => {\n            if (entry.isIntersecting) {\n                startRendering();\n            }\n            else {\n                stopRendering();\n            }\n        }, {\n            threshold: 0,\n            rootMargin: '75px'\n        });\n        observer.observe(canvas);\n        return () => {\n            stopRendering();\n            observer.disconnect();\n        };\n    }, [canvas, imageFx, enabled]);\n    return isFXAllowed;\n}\nexports.useImageFx = useImageFx;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvZWZmZWN0cy91c2VJbWFnZUZ4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQjtBQUNsQixnQkFBZ0IsbUJBQU8sQ0FBQyw0Q0FBTztBQUMvQixrQkFBa0IsbUJBQU8sQ0FBQyw0RUFBcUI7QUFDL0MsbUJBQW1CLG1CQUFPLENBQUMsZ0ZBQWE7QUFDeEMscUNBQXFDLG1CQUFPLENBQUMsbUlBQTJDO0FBQ3hGO0FBQ0E7QUFDQSx1Q0FBdUMsMENBQTBDO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwwSEFBMEgseUJBQXlCO0FBQ25KLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLDhCQUE4QjtBQUM5RjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGtCQUFrQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvZWZmZWN0cy91c2VJbWFnZUZ4LmpzP2FiYWIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnVzZUltYWdlRnggPSB2b2lkIDA7XG5jb25zdCByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xuY29uc3QgZWZmZWN0c18xID0gcmVxdWlyZShcIkBjbnRybC1zaXRlL2VmZmVjdHNcIik7XG5jb25zdCByYW5nZU1hcF8xID0gcmVxdWlyZShcIi4uL3JhbmdlTWFwXCIpO1xuY29uc3QgV2ViR0xDb250ZXh0TWFuYWdlckNvbnRleHRfMSA9IHJlcXVpcmUoXCIuLi8uLi9wcm92aWRlci9XZWJHTENvbnRleHRNYW5hZ2VyQ29udGV4dFwiKTtcbmNvbnN0IFBBVFRFUk5fVVJMID0gJ2h0dHBzOi8vY2RuLmNudHJsLnNpdGUvY2xpZW50LWFwcC1maWxlcy90ZXh0dXJlMi5wbmcnO1xuY29uc3QgUEFUVEVSTl8yX1VSTCA9ICdodHRwczovL2Nkbi5jbnRybC5zaXRlL2NsaWVudC1hcHAtZmlsZXMvYmF5ZXIxNi5wbmcnO1xuZnVuY3Rpb24gdXNlSW1hZ2VGeChjYW52YXMsIGVuYWJsZWQsIHsgaW1hZ2VVcmwsIGZyYWdtZW50U2hhZGVyLCBjb250cm9sc1ZhbHVlcyB9LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgY29uc3Qgd2ViR0xDb250ZXh0TWFuYWdlciA9ICgwLCByZWFjdF8xLnVzZUNvbnRleHQpKFdlYkdMQ29udGV4dE1hbmFnZXJDb250ZXh0XzEuV2ViZ2xDb250ZXh0TWFuYWdlckNvbnRleHQpO1xuICAgIGNvbnN0IFtpc0ZYQWxsb3dlZCwgc2V0SXNGWEFsbG93ZWRdID0gKDAsIHJlYWN0XzEudXNlU3RhdGUpKHRydWUpO1xuICAgIGNvbnN0IGdsUmVmID0gKDAsIHJlYWN0XzEudXNlUmVmKShudWxsKTtcbiAgICBjb25zdCBpc1JlbmRlcmluZ1JlZiA9ICgwLCByZWFjdF8xLnVzZVJlZikoZmFsc2UpO1xuICAgIGNvbnN0IGZyYW1lUmVmID0gKDAsIHJlYWN0XzEudXNlUmVmKSgpO1xuICAgIGNvbnN0IGltYWdlVGV4dHVyZU1hbmFnZXIgPSAoMCwgcmVhY3RfMS51c2VNZW1vKSgoKSA9PiB7XG4gICAgICAgIGlmICghaW1hZ2VVcmwgfHwgIWVuYWJsZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHJldHVybiBuZXcgZWZmZWN0c18xLkltYWdlVGV4dHVyZU1hbmFnZXIoaW1hZ2VVcmwpO1xuICAgIH0sIFtpbWFnZVVybCwgZW5hYmxlZF0pO1xuICAgIGNvbnN0IGltYWdlRnggPSAoMCwgcmVhY3RfMS51c2VNZW1vKSgoKSA9PiB7XG4gICAgICAgIGlmICghaW1hZ2VUZXh0dXJlTWFuYWdlcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcmV0dXJuIG5ldyBlZmZlY3RzXzEuTWVkaWFFZmZlY3QoaW1hZ2VUZXh0dXJlTWFuYWdlciwgUEFUVEVSTl9VUkwsIFBBVFRFUk5fMl9VUkwsIGZyYWdtZW50U2hhZGVyLCBPYmplY3QuYXNzaWduKHsgdGltZTogMCwgY3Vyc29yOiBbMCwgMF0gfSwgY29udHJvbHNWYWx1ZXMpLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9LCBbaW1hZ2VUZXh0dXJlTWFuYWdlciwgZnJhZ21lbnRTaGFkZXIsIHdpZHRoLCBoZWlnaHRdKTtcbiAgICAoMCwgcmVhY3RfMS51c2VFZmZlY3QpKCgpID0+IHtcbiAgICAgICAgaWYgKCFpbWFnZUZ4IHx8ICFjb250cm9sc1ZhbHVlcylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoY29udHJvbHNWYWx1ZXMpKSB7XG4gICAgICAgICAgICBpbWFnZUZ4LnNldFBhcmFtKGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfSwgW2ltYWdlRngsIGNvbnRyb2xzVmFsdWVzXSk7XG4gICAgKDAsIHJlYWN0XzEudXNlRWZmZWN0KSgoKSA9PiB7XG4gICAgICAgIGlmICghY2FudmFzIHx8ICFpbWFnZUZ4KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBoYW5kbGVNb3VzZU1vdmUgPSAoZXZ0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgY29uc3QgeCA9ICgwLCByYW5nZU1hcF8xLnJhbmdlTWFwKShldnQuY2xpZW50WCwgcmVjdC5sZWZ0LCByZWN0LmxlZnQgKyByZWN0LndpZHRoLCAwLCAxLCB0cnVlKTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSAoMCwgcmFuZ2VNYXBfMS5yYW5nZU1hcCkoZXZ0LmNsaWVudFksIHJlY3QudG9wLCByZWN0LnRvcCArIHJlY3QuaGVpZ2h0LCAwLCAxLCB0cnVlKTtcbiAgICAgICAgICAgIGltYWdlRnguc2V0UGFyYW0oJ2N1cnNvcicsIFt4LCB5XSk7XG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVNb3VzZU1vdmUsIHsgY2FwdHVyZTogdHJ1ZSwgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVNb3VzZU1vdmUpO1xuICAgICAgICB9O1xuICAgIH0sIFtjYW52YXMsIGltYWdlRnhdKTtcbiAgICAoMCwgcmVhY3RfMS51c2VFZmZlY3QpKCgpID0+IHtcbiAgICAgICAgaWYgKCFlbmFibGVkIHx8ICFjYW52YXMgfHwgIWltYWdlRngpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCB0aW1lID0gMDtcbiAgICAgICAgY29uc3Qgc3RhcnRSZW5kZXJpbmcgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNSZW5kZXJpbmdSZWYuY3VycmVudClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBnbCA9IHdlYkdMQ29udGV4dE1hbmFnZXIuZ2V0Q29udGV4dChjYW52YXMpO1xuICAgICAgICAgICAgaWYgKCFnbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdsUmVmLmN1cnJlbnQgPSBnbDtcbiAgICAgICAgICAgIGlzUmVuZGVyaW5nUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgaW1hZ2VGeC5wcmVwYXJlKGdsKTtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlckZyYW1lID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghaXNSZW5kZXJpbmdSZWYuY3VycmVudCB8fCAhZ2xSZWYuY3VycmVudClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRpbWUgKz0gMC4xO1xuICAgICAgICAgICAgICAgIHdlYkdMQ29udGV4dE1hbmFnZXIudXBkYXRlQ29udGV4dFNpemUoZ2xSZWYuY3VycmVudCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBpbWFnZUZ4LnNldFZpZXdwb3J0KE1hdGguZmxvb3IoY2FudmFzLndpZHRoKSwgTWF0aC5mbG9vcihjYW52YXMuaGVpZ2h0KSk7XG4gICAgICAgICAgICAgICAgaW1hZ2VGeC5zZXRQYXJhbSgndGltZScsIHRpbWUpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlRngucmVuZGVyKGdsUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0SXNGWEFsbG93ZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3ZWJHTENvbnRleHRNYW5hZ2VyLnJlbmRlclRvQ2FudmFzKGdsUmVmLmN1cnJlbnQsIGNhbnZhcyk7XG4gICAgICAgICAgICAgICAgZnJhbWVSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXJGcmFtZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZnJhbWVSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXJGcmFtZSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHN0b3BSZW5kZXJpbmcgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWlzUmVuZGVyaW5nUmVmLmN1cnJlbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKGZyYW1lUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShmcmFtZVJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgICAgICBmcmFtZVJlZi5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdsUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICB3ZWJHTENvbnRleHRNYW5hZ2VyLnJlbGVhc2VDb250ZXh0KGNhbnZhcyk7XG4gICAgICAgICAgICAgICAgZ2xSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgIGlmIChjdHgpIHtcbiAgICAgICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpc1JlbmRlcmluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChbZW50cnldKSA9PiB7XG4gICAgICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICAgICAgICBzdGFydFJlbmRlcmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RvcFJlbmRlcmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0aHJlc2hvbGQ6IDAsXG4gICAgICAgICAgICByb290TWFyZ2luOiAnNzVweCdcbiAgICAgICAgfSk7XG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUoY2FudmFzKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHN0b3BSZW5kZXJpbmcoKTtcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbY2FudmFzLCBpbWFnZUZ4LCBlbmFibGVkXSk7XG4gICAgcmV0dXJuIGlzRlhBbGxvd2VkO1xufVxuZXhwb3J0cy51c2VJbWFnZUZ4ID0gdXNlSW1hZ2VGeDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/utils/effects/useImageFx.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/utils/effects/useVideoFx.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/utils/effects/useVideoFx.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useVideoFx = void 0;\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst effects_1 = __webpack_require__(/*! @cntrl-site/effects */ \"./node_modules/@cntrl-site/effects/lib/index.js\");\nconst rangeMap_1 = __webpack_require__(/*! ../rangeMap */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/utils/rangeMap.js\");\nconst WebGLContextManagerContext_1 = __webpack_require__(/*! ../../provider/WebGLContextManagerContext */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/provider/WebGLContextManagerContext.js\");\nconst PATTERN_URL = 'https://cdn.cntrl.site/client-app-files/texture2.png';\nconst PATTERN_2_URL = 'https://cdn.cntrl.site/client-app-files/bayer16.png';\nfunction useVideoFx(canvas, enabled, { videoUrl, fragmentShader, controls }, width, height) {\n    const [isFXAllowed, setIsFXAllowed] = (0, react_1.useState)(true);\n    const [isReady, setIsReady] = (0, react_1.useState)(false);\n    const active = enabled && isReady;\n    const webGLContextManager = (0, react_1.useContext)(WebGLContextManagerContext_1.WebglContextManagerContext);\n    const glRef = (0, react_1.useRef)(null);\n    const isRenderingRef = (0, react_1.useRef)(false);\n    const frameRef = (0, react_1.useRef)();\n    const videoTextureManager = (0, react_1.useMemo)(() => {\n        if (!videoUrl || !enabled)\n            return;\n        const handlePlayError = () => {\n            setIsFXAllowed(false);\n        };\n        return new effects_1.VideoTextureManager(videoUrl, handlePlayError);\n    }, [videoUrl, enabled]);\n    const videoFx = (0, react_1.useMemo)(() => {\n        if (!videoTextureManager)\n            return;\n        return new effects_1.MediaEffect(videoTextureManager, PATTERN_URL, PATTERN_2_URL, fragmentShader, Object.assign({ time: 0, cursor: [0, 0] }, controls), width, height);\n    }, [videoTextureManager, fragmentShader, width, height]);\n    (0, react_1.useEffect)(() => {\n        if (!videoTextureManager)\n            return;\n        videoTextureManager.onReadyStatusChange(setIsReady);\n    }, [videoTextureManager]);\n    (0, react_1.useEffect)(() => {\n        if (!canvas || !videoFx)\n            return;\n        const handleMouseMove = (evt) => {\n            const rect = canvas.getBoundingClientRect();\n            const x = (0, rangeMap_1.rangeMap)(evt.clientX, rect.left, rect.left + rect.width, 0, 1, true);\n            const y = (0, rangeMap_1.rangeMap)(evt.clientY, rect.top, rect.top + rect.height, 0, 1, true);\n            videoFx.setParam('cursor', [x, y]);\n        };\n        window.addEventListener('mousemove', handleMouseMove, { capture: true, passive: true });\n        return () => {\n            window.removeEventListener('mousemove', handleMouseMove);\n        };\n    }, [canvas, videoFx]);\n    (0, react_1.useEffect)(() => {\n        if (!active || !canvas || !videoFx)\n            return;\n        let time = 0;\n        const startRendering = () => {\n            if (isRenderingRef.current)\n                return;\n            const gl = webGLContextManager.getContext(canvas);\n            if (!gl) {\n                return;\n            }\n            glRef.current = gl;\n            isRenderingRef.current = true;\n            videoFx.prepare(gl);\n            const renderFrame = () => {\n                if (!isRenderingRef.current || !glRef.current)\n                    return;\n                time += 0.1;\n                webGLContextManager.updateContextSize(glRef.current, canvas.width, canvas.height);\n                videoFx.setViewport(Math.floor(canvas.width), Math.floor(canvas.height));\n                videoFx.setParam('time', time);\n                try {\n                    videoFx.render(glRef.current);\n                }\n                catch (_a) {\n                    setIsFXAllowed(false);\n                }\n                webGLContextManager.renderToCanvas(glRef.current, canvas);\n                frameRef.current = requestAnimationFrame(renderFrame);\n            };\n            frameRef.current = requestAnimationFrame(renderFrame);\n        };\n        const stopRendering = () => {\n            if (!isRenderingRef.current)\n                return;\n            if (frameRef.current) {\n                cancelAnimationFrame(frameRef.current);\n                frameRef.current = undefined;\n            }\n            if (glRef.current) {\n                webGLContextManager.releaseContext(canvas);\n                glRef.current = null;\n            }\n            const ctx = canvas.getContext('2d');\n            if (ctx) {\n                ctx.clearRect(0, 0, canvas.width, canvas.height);\n            }\n            isRenderingRef.current = false;\n        };\n        const observer = new IntersectionObserver(([entry]) => {\n            if (entry.isIntersecting) {\n                startRendering();\n            }\n            else {\n                stopRendering();\n            }\n        }, {\n            threshold: 0,\n            rootMargin: '75px'\n        });\n        observer.observe(canvas);\n        return () => {\n            stopRendering();\n            observer.disconnect();\n        };\n    }, [canvas, videoFx, active]);\n    return isFXAllowed;\n}\nexports.useVideoFx = useVideoFx;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvZWZmZWN0cy91c2VWaWRlb0Z4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQjtBQUNsQixnQkFBZ0IsbUJBQU8sQ0FBQyw0Q0FBTztBQUMvQixrQkFBa0IsbUJBQU8sQ0FBQyw0RUFBcUI7QUFDL0MsbUJBQW1CLG1CQUFPLENBQUMsZ0ZBQWE7QUFDeEMscUNBQXFDLG1CQUFPLENBQUMsbUlBQTJDO0FBQ3hGO0FBQ0E7QUFDQSx1Q0FBdUMsb0NBQW9DO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsMEhBQTBILHlCQUF5QjtBQUNuSixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLDhCQUE4QjtBQUM5RjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGtCQUFrQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvZWZmZWN0cy91c2VWaWRlb0Z4LmpzP2RkN2MiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnVzZVZpZGVvRnggPSB2b2lkIDA7XG5jb25zdCByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xuY29uc3QgZWZmZWN0c18xID0gcmVxdWlyZShcIkBjbnRybC1zaXRlL2VmZmVjdHNcIik7XG5jb25zdCByYW5nZU1hcF8xID0gcmVxdWlyZShcIi4uL3JhbmdlTWFwXCIpO1xuY29uc3QgV2ViR0xDb250ZXh0TWFuYWdlckNvbnRleHRfMSA9IHJlcXVpcmUoXCIuLi8uLi9wcm92aWRlci9XZWJHTENvbnRleHRNYW5hZ2VyQ29udGV4dFwiKTtcbmNvbnN0IFBBVFRFUk5fVVJMID0gJ2h0dHBzOi8vY2RuLmNudHJsLnNpdGUvY2xpZW50LWFwcC1maWxlcy90ZXh0dXJlMi5wbmcnO1xuY29uc3QgUEFUVEVSTl8yX1VSTCA9ICdodHRwczovL2Nkbi5jbnRybC5zaXRlL2NsaWVudC1hcHAtZmlsZXMvYmF5ZXIxNi5wbmcnO1xuZnVuY3Rpb24gdXNlVmlkZW9GeChjYW52YXMsIGVuYWJsZWQsIHsgdmlkZW9VcmwsIGZyYWdtZW50U2hhZGVyLCBjb250cm9scyB9LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgY29uc3QgW2lzRlhBbGxvd2VkLCBzZXRJc0ZYQWxsb3dlZF0gPSAoMCwgcmVhY3RfMS51c2VTdGF0ZSkodHJ1ZSk7XG4gICAgY29uc3QgW2lzUmVhZHksIHNldElzUmVhZHldID0gKDAsIHJlYWN0XzEudXNlU3RhdGUpKGZhbHNlKTtcbiAgICBjb25zdCBhY3RpdmUgPSBlbmFibGVkICYmIGlzUmVhZHk7XG4gICAgY29uc3Qgd2ViR0xDb250ZXh0TWFuYWdlciA9ICgwLCByZWFjdF8xLnVzZUNvbnRleHQpKFdlYkdMQ29udGV4dE1hbmFnZXJDb250ZXh0XzEuV2ViZ2xDb250ZXh0TWFuYWdlckNvbnRleHQpO1xuICAgIGNvbnN0IGdsUmVmID0gKDAsIHJlYWN0XzEudXNlUmVmKShudWxsKTtcbiAgICBjb25zdCBpc1JlbmRlcmluZ1JlZiA9ICgwLCByZWFjdF8xLnVzZVJlZikoZmFsc2UpO1xuICAgIGNvbnN0IGZyYW1lUmVmID0gKDAsIHJlYWN0XzEudXNlUmVmKSgpO1xuICAgIGNvbnN0IHZpZGVvVGV4dHVyZU1hbmFnZXIgPSAoMCwgcmVhY3RfMS51c2VNZW1vKSgoKSA9PiB7XG4gICAgICAgIGlmICghdmlkZW9VcmwgfHwgIWVuYWJsZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGhhbmRsZVBsYXlFcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgIHNldElzRlhBbGxvd2VkKGZhbHNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBlZmZlY3RzXzEuVmlkZW9UZXh0dXJlTWFuYWdlcih2aWRlb1VybCwgaGFuZGxlUGxheUVycm9yKTtcbiAgICB9LCBbdmlkZW9VcmwsIGVuYWJsZWRdKTtcbiAgICBjb25zdCB2aWRlb0Z4ID0gKDAsIHJlYWN0XzEudXNlTWVtbykoKCkgPT4ge1xuICAgICAgICBpZiAoIXZpZGVvVGV4dHVyZU1hbmFnZXIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHJldHVybiBuZXcgZWZmZWN0c18xLk1lZGlhRWZmZWN0KHZpZGVvVGV4dHVyZU1hbmFnZXIsIFBBVFRFUk5fVVJMLCBQQVRURVJOXzJfVVJMLCBmcmFnbWVudFNoYWRlciwgT2JqZWN0LmFzc2lnbih7IHRpbWU6IDAsIGN1cnNvcjogWzAsIDBdIH0sIGNvbnRyb2xzKSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfSwgW3ZpZGVvVGV4dHVyZU1hbmFnZXIsIGZyYWdtZW50U2hhZGVyLCB3aWR0aCwgaGVpZ2h0XSk7XG4gICAgKDAsIHJlYWN0XzEudXNlRWZmZWN0KSgoKSA9PiB7XG4gICAgICAgIGlmICghdmlkZW9UZXh0dXJlTWFuYWdlcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmlkZW9UZXh0dXJlTWFuYWdlci5vblJlYWR5U3RhdHVzQ2hhbmdlKHNldElzUmVhZHkpO1xuICAgIH0sIFt2aWRlb1RleHR1cmVNYW5hZ2VyXSk7XG4gICAgKDAsIHJlYWN0XzEudXNlRWZmZWN0KSgoKSA9PiB7XG4gICAgICAgIGlmICghY2FudmFzIHx8ICF2aWRlb0Z4KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBoYW5kbGVNb3VzZU1vdmUgPSAoZXZ0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgY29uc3QgeCA9ICgwLCByYW5nZU1hcF8xLnJhbmdlTWFwKShldnQuY2xpZW50WCwgcmVjdC5sZWZ0LCByZWN0LmxlZnQgKyByZWN0LndpZHRoLCAwLCAxLCB0cnVlKTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSAoMCwgcmFuZ2VNYXBfMS5yYW5nZU1hcCkoZXZ0LmNsaWVudFksIHJlY3QudG9wLCByZWN0LnRvcCArIHJlY3QuaGVpZ2h0LCAwLCAxLCB0cnVlKTtcbiAgICAgICAgICAgIHZpZGVvRnguc2V0UGFyYW0oJ2N1cnNvcicsIFt4LCB5XSk7XG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVNb3VzZU1vdmUsIHsgY2FwdHVyZTogdHJ1ZSwgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVNb3VzZU1vdmUpO1xuICAgICAgICB9O1xuICAgIH0sIFtjYW52YXMsIHZpZGVvRnhdKTtcbiAgICAoMCwgcmVhY3RfMS51c2VFZmZlY3QpKCgpID0+IHtcbiAgICAgICAgaWYgKCFhY3RpdmUgfHwgIWNhbnZhcyB8fCAhdmlkZW9GeClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IHRpbWUgPSAwO1xuICAgICAgICBjb25zdCBzdGFydFJlbmRlcmluZyA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChpc1JlbmRlcmluZ1JlZi5jdXJyZW50KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gd2ViR0xDb250ZXh0TWFuYWdlci5nZXRDb250ZXh0KGNhbnZhcyk7XG4gICAgICAgICAgICBpZiAoIWdsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2xSZWYuY3VycmVudCA9IGdsO1xuICAgICAgICAgICAgaXNSZW5kZXJpbmdSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgICB2aWRlb0Z4LnByZXBhcmUoZ2wpO1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyRnJhbWUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1JlbmRlcmluZ1JlZi5jdXJyZW50IHx8ICFnbFJlZi5jdXJyZW50KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgdGltZSArPSAwLjE7XG4gICAgICAgICAgICAgICAgd2ViR0xDb250ZXh0TWFuYWdlci51cGRhdGVDb250ZXh0U2l6ZShnbFJlZi5jdXJyZW50LCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIHZpZGVvRnguc2V0Vmlld3BvcnQoTWF0aC5mbG9vcihjYW52YXMud2lkdGgpLCBNYXRoLmZsb29yKGNhbnZhcy5oZWlnaHQpKTtcbiAgICAgICAgICAgICAgICB2aWRlb0Z4LnNldFBhcmFtKCd0aW1lJywgdGltZSk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9GeC5yZW5kZXIoZ2xSZWYuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRJc0ZYQWxsb3dlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdlYkdMQ29udGV4dE1hbmFnZXIucmVuZGVyVG9DYW52YXMoZ2xSZWYuY3VycmVudCwgY2FudmFzKTtcbiAgICAgICAgICAgICAgICBmcmFtZVJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlckZyYW1lKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmcmFtZVJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlckZyYW1lKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc3RvcFJlbmRlcmluZyA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaXNSZW5kZXJpbmdSZWYuY3VycmVudClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAoZnJhbWVSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGZyYW1lUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGZyYW1lUmVmLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2xSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHdlYkdMQ29udGV4dE1hbmFnZXIucmVsZWFzZUNvbnRleHQoY2FudmFzKTtcbiAgICAgICAgICAgICAgICBnbFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgaWYgKGN0eCkge1xuICAgICAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlzUmVuZGVyaW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKFtlbnRyeV0pID0+IHtcbiAgICAgICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICAgICAgICAgIHN0YXJ0UmVuZGVyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdG9wUmVuZGVyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgICAgIHJvb3RNYXJnaW46ICc3NXB4J1xuICAgICAgICB9KTtcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShjYW52YXMpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgc3RvcFJlbmRlcmluZygpO1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICB9O1xuICAgIH0sIFtjYW52YXMsIHZpZGVvRngsIGFjdGl2ZV0pO1xuICAgIHJldHVybiBpc0ZYQWxsb3dlZDtcbn1cbmV4cG9ydHMudXNlVmlkZW9GeCA9IHVzZVZpZGVvRng7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/utils/effects/useVideoFx.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getAnchoredItemTop.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getAnchoredItemTop.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getAnchoredItemTop = void 0;\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nfunction getAnchoredItemTop(top, sectionHeight, anchorSide) {\n    const styleTop = `${top * 100}vw`;\n    switch (anchorSide) {\n        case sdk_1.AnchorSide.Center: return `calc(${styleTop} + ${sectionHeight} / 2)`;\n        case sdk_1.AnchorSide.Bottom: return `calc(${styleTop} + ${sectionHeight})`;\n        case sdk_1.AnchorSide.Top:\n        default:\n            return styleTop;\n    }\n}\nexports.getAnchoredItemTop = getAnchoredItemTop;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvZ2V0QW5jaG9yZWRJdGVtVG9wLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQjtBQUMxQixjQUFjLG1CQUFPLENBQUMscUVBQWlCO0FBQ3ZDO0FBQ0Esd0JBQXdCLFVBQVU7QUFDbEM7QUFDQSxxREFBcUQsVUFBVSxJQUFJLGVBQWU7QUFDbEYscURBQXFELFVBQVUsSUFBSSxjQUFjO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay1uZXh0anMvbGliL3V0aWxzL2dldEFuY2hvcmVkSXRlbVRvcC5qcz85NzM3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5nZXRBbmNob3JlZEl0ZW1Ub3AgPSB2b2lkIDA7XG5jb25zdCBzZGtfMSA9IHJlcXVpcmUoXCJAY250cmwtc2l0ZS9zZGtcIik7XG5mdW5jdGlvbiBnZXRBbmNob3JlZEl0ZW1Ub3AodG9wLCBzZWN0aW9uSGVpZ2h0LCBhbmNob3JTaWRlKSB7XG4gICAgY29uc3Qgc3R5bGVUb3AgPSBgJHt0b3AgKiAxMDB9dndgO1xuICAgIHN3aXRjaCAoYW5jaG9yU2lkZSkge1xuICAgICAgICBjYXNlIHNka18xLkFuY2hvclNpZGUuQ2VudGVyOiByZXR1cm4gYGNhbGMoJHtzdHlsZVRvcH0gKyAke3NlY3Rpb25IZWlnaHR9IC8gMilgO1xuICAgICAgICBjYXNlIHNka18xLkFuY2hvclNpZGUuQm90dG9tOiByZXR1cm4gYGNhbGMoJHtzdHlsZVRvcH0gKyAke3NlY3Rpb25IZWlnaHR9KWA7XG4gICAgICAgIGNhc2Ugc2RrXzEuQW5jaG9yU2lkZS5Ub3A6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gc3R5bGVUb3A7XG4gICAgfVxufVxuZXhwb3J0cy5nZXRBbmNob3JlZEl0ZW1Ub3AgPSBnZXRBbmNob3JlZEl0ZW1Ub3A7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getAnchoredItemTop.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getCompoundBoundaryStyles.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getCompoundBoundaryStyles.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getCompoundTransform = exports.getCompoundLeft = exports.getCompoundTop = exports.getCompoundWidth = exports.getCompoundHeight = void 0;\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nconst positionMatrix = {\n    [sdk_1.AreaAnchor.TopLeft]: [0, 0],\n    [sdk_1.AreaAnchor.TopCenter]: [0, 0.5],\n    [sdk_1.AreaAnchor.TopRight]: [0, 1],\n    [sdk_1.AreaAnchor.MiddleLeft]: [0.5, 0],\n    [sdk_1.AreaAnchor.MiddleCenter]: [0.5, 0.5],\n    [sdk_1.AreaAnchor.MiddleRight]: [0.5, 1],\n    [sdk_1.AreaAnchor.BottomLeft]: [1, 0],\n    [sdk_1.AreaAnchor.BottomCenter]: [1, 0.5],\n    [sdk_1.AreaAnchor.BottomRight]: [1, 1]\n};\nfunction getCompoundHeight(compoundSettings, height) {\n    if (height === undefined || !compoundSettings)\n        return;\n    if (compoundSettings.heightMode === 'relative') {\n        return `${height * 100}%`;\n    }\n    return `${height * 100}vw`;\n}\nexports.getCompoundHeight = getCompoundHeight;\nfunction getCompoundWidth(compoundSettings, width, isRichText, exemplary) {\n    if (width === undefined || !compoundSettings)\n        return;\n    if (compoundSettings.widthMode === 'relative') {\n        return `${width * 100}%`;\n    }\n    return isRichText && exemplary ? `${width * exemplary}px` : `${width * 100}vw`;\n}\nexports.getCompoundWidth = getCompoundWidth;\nfunction getCompoundTop(compoundSettings, top) {\n    if (top === undefined || !compoundSettings)\n        return;\n    if (compoundSettings.heightMode === 'relative') {\n        return `${top * 100}%`;\n    }\n    const [ky] = positionMatrix[compoundSettings.positionAnchor];\n    return `calc(${ky * 100}% + ${top * 100}vw)`;\n}\nexports.getCompoundTop = getCompoundTop;\nfunction getCompoundLeft(compoundSettings, left) {\n    if (left === undefined || !compoundSettings)\n        return;\n    if (compoundSettings.widthMode === 'relative') {\n        return `${left * 100}%`;\n    }\n    const [_, kx] = positionMatrix[compoundSettings.positionAnchor];\n    return `calc(${kx * 100}% + ${left * 100}vw)`;\n}\nexports.getCompoundLeft = getCompoundLeft;\nfunction getCompoundTransform(compoundSettings) {\n    if (!compoundSettings)\n        return 'unset';\n    const areaAnchor = compoundSettings.positionAnchor;\n    const [ky, kx] = positionMatrix[areaAnchor];\n    return `translate(${kx * (-100)}%, ${ky * (-100)}%)`;\n}\nexports.getCompoundTransform = getCompoundTransform;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvZ2V0Q29tcG91bmRCb3VuZGFyeVN0eWxlcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw0QkFBNEIsR0FBRyx1QkFBdUIsR0FBRyxzQkFBc0IsR0FBRyx3QkFBd0IsR0FBRyx5QkFBeUI7QUFDdEksY0FBYyxtQkFBTyxDQUFDLHFFQUFpQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsYUFBYTtBQUMvQjtBQUNBLGNBQWMsYUFBYTtBQUMzQjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixZQUFZO0FBQzlCO0FBQ0Esd0NBQXdDLGtCQUFrQixTQUFTLFlBQVk7QUFDL0U7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsVUFBVTtBQUM1QjtBQUNBO0FBQ0EsbUJBQW1CLFNBQVMsTUFBTSxVQUFVO0FBQzVDO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFdBQVc7QUFDN0I7QUFDQTtBQUNBLG1CQUFtQixTQUFTLE1BQU0sV0FBVztBQUM3QztBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFlBQVksS0FBSyxZQUFZO0FBQ3JEO0FBQ0EsNEJBQTRCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi91dGlscy9nZXRDb21wb3VuZEJvdW5kYXJ5U3R5bGVzLmpzPzdjNzgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldENvbXBvdW5kVHJhbnNmb3JtID0gZXhwb3J0cy5nZXRDb21wb3VuZExlZnQgPSBleHBvcnRzLmdldENvbXBvdW5kVG9wID0gZXhwb3J0cy5nZXRDb21wb3VuZFdpZHRoID0gZXhwb3J0cy5nZXRDb21wb3VuZEhlaWdodCA9IHZvaWQgMDtcbmNvbnN0IHNka18xID0gcmVxdWlyZShcIkBjbnRybC1zaXRlL3Nka1wiKTtcbmNvbnN0IHBvc2l0aW9uTWF0cml4ID0ge1xuICAgIFtzZGtfMS5BcmVhQW5jaG9yLlRvcExlZnRdOiBbMCwgMF0sXG4gICAgW3Nka18xLkFyZWFBbmNob3IuVG9wQ2VudGVyXTogWzAsIDAuNV0sXG4gICAgW3Nka18xLkFyZWFBbmNob3IuVG9wUmlnaHRdOiBbMCwgMV0sXG4gICAgW3Nka18xLkFyZWFBbmNob3IuTWlkZGxlTGVmdF06IFswLjUsIDBdLFxuICAgIFtzZGtfMS5BcmVhQW5jaG9yLk1pZGRsZUNlbnRlcl06IFswLjUsIDAuNV0sXG4gICAgW3Nka18xLkFyZWFBbmNob3IuTWlkZGxlUmlnaHRdOiBbMC41LCAxXSxcbiAgICBbc2RrXzEuQXJlYUFuY2hvci5Cb3R0b21MZWZ0XTogWzEsIDBdLFxuICAgIFtzZGtfMS5BcmVhQW5jaG9yLkJvdHRvbUNlbnRlcl06IFsxLCAwLjVdLFxuICAgIFtzZGtfMS5BcmVhQW5jaG9yLkJvdHRvbVJpZ2h0XTogWzEsIDFdXG59O1xuZnVuY3Rpb24gZ2V0Q29tcG91bmRIZWlnaHQoY29tcG91bmRTZXR0aW5ncywgaGVpZ2h0KSB7XG4gICAgaWYgKGhlaWdodCA9PT0gdW5kZWZpbmVkIHx8ICFjb21wb3VuZFNldHRpbmdzKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKGNvbXBvdW5kU2V0dGluZ3MuaGVpZ2h0TW9kZSA9PT0gJ3JlbGF0aXZlJykge1xuICAgICAgICByZXR1cm4gYCR7aGVpZ2h0ICogMTAwfSVgO1xuICAgIH1cbiAgICByZXR1cm4gYCR7aGVpZ2h0ICogMTAwfXZ3YDtcbn1cbmV4cG9ydHMuZ2V0Q29tcG91bmRIZWlnaHQgPSBnZXRDb21wb3VuZEhlaWdodDtcbmZ1bmN0aW9uIGdldENvbXBvdW5kV2lkdGgoY29tcG91bmRTZXR0aW5ncywgd2lkdGgsIGlzUmljaFRleHQsIGV4ZW1wbGFyeSkge1xuICAgIGlmICh3aWR0aCA9PT0gdW5kZWZpbmVkIHx8ICFjb21wb3VuZFNldHRpbmdzKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKGNvbXBvdW5kU2V0dGluZ3Mud2lkdGhNb2RlID09PSAncmVsYXRpdmUnKSB7XG4gICAgICAgIHJldHVybiBgJHt3aWR0aCAqIDEwMH0lYDtcbiAgICB9XG4gICAgcmV0dXJuIGlzUmljaFRleHQgJiYgZXhlbXBsYXJ5ID8gYCR7d2lkdGggKiBleGVtcGxhcnl9cHhgIDogYCR7d2lkdGggKiAxMDB9dndgO1xufVxuZXhwb3J0cy5nZXRDb21wb3VuZFdpZHRoID0gZ2V0Q29tcG91bmRXaWR0aDtcbmZ1bmN0aW9uIGdldENvbXBvdW5kVG9wKGNvbXBvdW5kU2V0dGluZ3MsIHRvcCkge1xuICAgIGlmICh0b3AgPT09IHVuZGVmaW5lZCB8fCAhY29tcG91bmRTZXR0aW5ncylcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmIChjb21wb3VuZFNldHRpbmdzLmhlaWdodE1vZGUgPT09ICdyZWxhdGl2ZScpIHtcbiAgICAgICAgcmV0dXJuIGAke3RvcCAqIDEwMH0lYDtcbiAgICB9XG4gICAgY29uc3QgW2t5XSA9IHBvc2l0aW9uTWF0cml4W2NvbXBvdW5kU2V0dGluZ3MucG9zaXRpb25BbmNob3JdO1xuICAgIHJldHVybiBgY2FsYygke2t5ICogMTAwfSUgKyAke3RvcCAqIDEwMH12dylgO1xufVxuZXhwb3J0cy5nZXRDb21wb3VuZFRvcCA9IGdldENvbXBvdW5kVG9wO1xuZnVuY3Rpb24gZ2V0Q29tcG91bmRMZWZ0KGNvbXBvdW5kU2V0dGluZ3MsIGxlZnQpIHtcbiAgICBpZiAobGVmdCA9PT0gdW5kZWZpbmVkIHx8ICFjb21wb3VuZFNldHRpbmdzKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKGNvbXBvdW5kU2V0dGluZ3Mud2lkdGhNb2RlID09PSAncmVsYXRpdmUnKSB7XG4gICAgICAgIHJldHVybiBgJHtsZWZ0ICogMTAwfSVgO1xuICAgIH1cbiAgICBjb25zdCBbXywga3hdID0gcG9zaXRpb25NYXRyaXhbY29tcG91bmRTZXR0aW5ncy5wb3NpdGlvbkFuY2hvcl07XG4gICAgcmV0dXJuIGBjYWxjKCR7a3ggKiAxMDB9JSArICR7bGVmdCAqIDEwMH12dylgO1xufVxuZXhwb3J0cy5nZXRDb21wb3VuZExlZnQgPSBnZXRDb21wb3VuZExlZnQ7XG5mdW5jdGlvbiBnZXRDb21wb3VuZFRyYW5zZm9ybShjb21wb3VuZFNldHRpbmdzKSB7XG4gICAgaWYgKCFjb21wb3VuZFNldHRpbmdzKVxuICAgICAgICByZXR1cm4gJ3Vuc2V0JztcbiAgICBjb25zdCBhcmVhQW5jaG9yID0gY29tcG91bmRTZXR0aW5ncy5wb3NpdGlvbkFuY2hvcjtcbiAgICBjb25zdCBba3ksIGt4XSA9IHBvc2l0aW9uTWF0cml4W2FyZWFBbmNob3JdO1xuICAgIHJldHVybiBgdHJhbnNsYXRlKCR7a3ggKiAoLTEwMCl9JSwgJHtreSAqICgtMTAwKX0lKWA7XG59XG5leHBvcnRzLmdldENvbXBvdW5kVHJhbnNmb3JtID0gZ2V0Q29tcG91bmRUcmFuc2Zvcm07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getCompoundBoundaryStyles.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getFontFamilyValue.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getFontFamilyValue.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getFontFamilyValue = void 0;\nfunction getFontFamilyValue(value) {\n    return value && value.includes('\"') ? value : `\"${value}\"`;\n}\nexports.getFontFamilyValue = getFontFamilyValue;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvZ2V0Rm9udEZhbWlseVZhbHVlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQjtBQUMxQjtBQUNBLHNEQUFzRCxNQUFNO0FBQzVEO0FBQ0EsMEJBQTBCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi91dGlscy9nZXRGb250RmFtaWx5VmFsdWUuanM/NDU3YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0Rm9udEZhbWlseVZhbHVlID0gdm9pZCAwO1xuZnVuY3Rpb24gZ2V0Rm9udEZhbWlseVZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIHZhbHVlLmluY2x1ZGVzKCdcIicpID8gdmFsdWUgOiBgXCIke3ZhbHVlfVwiYDtcbn1cbmV4cG9ydHMuZ2V0Rm9udEZhbWlseVZhbHVlID0gZ2V0Rm9udEZhbWlseVZhbHVlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getFontFamilyValue.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getItemTopStyle.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getItemTopStyle.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getItemTopStyle = void 0;\nconst sdk_1 = __webpack_require__(/*! @cntrl-site/sdk */ \"./node_modules/@cntrl-site/sdk/dist/index.js\");\nfunction getItemTopStyle(top, anchorSide) {\n    const defaultValue = `${top * 100}vw`;\n    if (!anchorSide)\n        return defaultValue;\n    switch (anchorSide) {\n        case sdk_1.AnchorSide.Top:\n            return defaultValue;\n        case sdk_1.AnchorSide.Center:\n            return `calc(50% + ${top * 100}vw)`;\n        case sdk_1.AnchorSide.Bottom:\n            return `calc(100% + ${top * 100}vw)`;\n    }\n}\nexports.getItemTopStyle = getItemTopStyle;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvZ2V0SXRlbVRvcFN0eWxlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QjtBQUN2QixjQUFjLG1CQUFPLENBQUMscUVBQWlCO0FBQ3ZDO0FBQ0EsNEJBQTRCLFVBQVU7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLFVBQVU7QUFDM0M7QUFDQSxrQ0FBa0MsVUFBVTtBQUM1QztBQUNBO0FBQ0EsdUJBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi91dGlscy9nZXRJdGVtVG9wU3R5bGUuanM/MWFiOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0SXRlbVRvcFN0eWxlID0gdm9pZCAwO1xuY29uc3Qgc2RrXzEgPSByZXF1aXJlKFwiQGNudHJsLXNpdGUvc2RrXCIpO1xuZnVuY3Rpb24gZ2V0SXRlbVRvcFN0eWxlKHRvcCwgYW5jaG9yU2lkZSkge1xuICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IGAke3RvcCAqIDEwMH12d2A7XG4gICAgaWYgKCFhbmNob3JTaWRlKVxuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIHN3aXRjaCAoYW5jaG9yU2lkZSkge1xuICAgICAgICBjYXNlIHNka18xLkFuY2hvclNpZGUuVG9wOlxuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgY2FzZSBzZGtfMS5BbmNob3JTaWRlLkNlbnRlcjpcbiAgICAgICAgICAgIHJldHVybiBgY2FsYyg1MCUgKyAke3RvcCAqIDEwMH12dylgO1xuICAgICAgICBjYXNlIHNka18xLkFuY2hvclNpZGUuQm90dG9tOlxuICAgICAgICAgICAgcmV0dXJuIGBjYWxjKDEwMCUgKyAke3RvcCAqIDEwMH12dylgO1xuICAgIH1cbn1cbmV4cG9ydHMuZ2V0SXRlbVRvcFN0eWxlID0gZ2V0SXRlbVRvcFN0eWxlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getItemTopStyle.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getStyleFromItemStateAndParams.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getStyleFromItemStateAndParams.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getStyleFromItemStateAndParams = void 0;\nfunction getStyleFromItemStateAndParams(stateValue, paramsValue) {\n    return stateValue !== undefined\n        ? stateValue\n        : paramsValue;\n}\nexports.getStyleFromItemStateAndParams = getStyleFromItemStateAndParams;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi91dGlscy9nZXRTdHlsZUZyb21JdGVtU3RhdGVBbmRQYXJhbXMuanM/MzQ4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zID0gdm9pZCAwO1xuZnVuY3Rpb24gZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zKHN0YXRlVmFsdWUsIHBhcmFtc1ZhbHVlKSB7XG4gICAgcmV0dXJuIHN0YXRlVmFsdWUgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHN0YXRlVmFsdWVcbiAgICAgICAgOiBwYXJhbXNWYWx1ZTtcbn1cbmV4cG9ydHMuZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zID0gZ2V0U3R5bGVGcm9tSXRlbVN0YXRlQW5kUGFyYW1zO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getStyleFromItemStateAndParams.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getValidYoutubeUrl.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getValidYoutubeUrl.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getYoutubeId = void 0;\nvar Allowed;\n(function (Allowed) {\n    Allowed[\"Tiny\"] = \"youtu.be\";\n    Allowed[\"Full\"] = \"www.youtube.com\";\n})(Allowed || (Allowed = {}));\nfunction getYoutubeId({ hostname, pathname, search }) {\n    if (hostname !== Allowed.Full && hostname !== Allowed.Tiny) {\n        throw new Error(`Cannot get valid YouTube ID from \"${hostname}\" - address is not whitelisted`);\n    }\n    switch (hostname) {\n        case Allowed.Tiny:\n            return pathname.replace('/', '');\n        case Allowed.Full:\n            if (pathname.startsWith('/shorts/')) {\n                const shortsId = pathname.split('/shorts/')[1];\n                if (!shortsId) {\n                    throw new Error('Cannot get valid YouTube Shorts ID from the pathname.');\n                }\n                return shortsId;\n            }\n            else {\n                const searchParams = new URLSearchParams(search);\n                const id = searchParams.get('v');\n                if (!id) {\n                    throw new Error('Cannot get valid YouTube ID from search params.');\n                }\n                return id;\n            }\n    }\n}\nexports.getYoutubeId = getYoutubeId;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvZ2V0VmFsaWRZb3V0dWJlVXJsLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMEJBQTBCO0FBQzNCLHdCQUF3Qiw0QkFBNEI7QUFDcEQ7QUFDQSw2REFBNkQsU0FBUztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvZ2V0VmFsaWRZb3V0dWJlVXJsLmpzP2I2OWUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldFlvdXR1YmVJZCA9IHZvaWQgMDtcbnZhciBBbGxvd2VkO1xuKGZ1bmN0aW9uIChBbGxvd2VkKSB7XG4gICAgQWxsb3dlZFtcIlRpbnlcIl0gPSBcInlvdXR1LmJlXCI7XG4gICAgQWxsb3dlZFtcIkZ1bGxcIl0gPSBcInd3dy55b3V0dWJlLmNvbVwiO1xufSkoQWxsb3dlZCB8fCAoQWxsb3dlZCA9IHt9KSk7XG5mdW5jdGlvbiBnZXRZb3V0dWJlSWQoeyBob3N0bmFtZSwgcGF0aG5hbWUsIHNlYXJjaCB9KSB7XG4gICAgaWYgKGhvc3RuYW1lICE9PSBBbGxvd2VkLkZ1bGwgJiYgaG9zdG5hbWUgIT09IEFsbG93ZWQuVGlueSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBnZXQgdmFsaWQgWW91VHViZSBJRCBmcm9tIFwiJHtob3N0bmFtZX1cIiAtIGFkZHJlc3MgaXMgbm90IHdoaXRlbGlzdGVkYCk7XG4gICAgfVxuICAgIHN3aXRjaCAoaG9zdG5hbWUpIHtcbiAgICAgICAgY2FzZSBBbGxvd2VkLlRpbnk6XG4gICAgICAgICAgICByZXR1cm4gcGF0aG5hbWUucmVwbGFjZSgnLycsICcnKTtcbiAgICAgICAgY2FzZSBBbGxvd2VkLkZ1bGw6XG4gICAgICAgICAgICBpZiAocGF0aG5hbWUuc3RhcnRzV2l0aCgnL3Nob3J0cy8nKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNob3J0c0lkID0gcGF0aG5hbWUuc3BsaXQoJy9zaG9ydHMvJylbMV07XG4gICAgICAgICAgICAgICAgaWYgKCFzaG9ydHNJZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBnZXQgdmFsaWQgWW91VHViZSBTaG9ydHMgSUQgZnJvbSB0aGUgcGF0aG5hbWUuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzaG9ydHNJZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoc2VhcmNoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ3YnKTtcbiAgICAgICAgICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGdldCB2YWxpZCBZb3VUdWJlIElEIGZyb20gc2VhcmNoIHBhcmFtcy4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuZ2V0WW91dHViZUlkID0gZ2V0WW91dHViZUlkO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/utils/getValidYoutubeUrl.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/utils/isItemType.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/utils/isItemType.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isItemType = void 0;\nfunction isItemType(item, itemType) {\n    return item.type === itemType;\n}\nexports.isItemType = isItemType;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvaXNJdGVtVHlwZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi91dGlscy9pc0l0ZW1UeXBlLmpzP2ZmYzAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzSXRlbVR5cGUgPSB2b2lkIDA7XG5mdW5jdGlvbiBpc0l0ZW1UeXBlKGl0ZW0sIGl0ZW1UeXBlKSB7XG4gICAgcmV0dXJuIGl0ZW0udHlwZSA9PT0gaXRlbVR5cGU7XG59XG5leHBvcnRzLmlzSXRlbVR5cGUgPSBpc0l0ZW1UeXBlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/utils/isItemType.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/utils/rangeMap.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/utils/rangeMap.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.rangeMap = void 0;\nfunction rangeMap(n, start1, stop1, start2, stop2, withinBounds = false) {\n    const mapped = (n - start1) / (stop1 - start1) * (stop2 - start2) + start2;\n    if (withinBounds && n < start1)\n        return start2;\n    if (withinBounds && n > stop1)\n        return stop2;\n    return mapped;\n}\nexports.rangeMap = rangeMap;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvcmFuZ2VNYXAuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay1uZXh0anMvbGliL3V0aWxzL3JhbmdlTWFwLmpzPzczOGIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJhbmdlTWFwID0gdm9pZCAwO1xuZnVuY3Rpb24gcmFuZ2VNYXAobiwgc3RhcnQxLCBzdG9wMSwgc3RhcnQyLCBzdG9wMiwgd2l0aGluQm91bmRzID0gZmFsc2UpIHtcbiAgICBjb25zdCBtYXBwZWQgPSAobiAtIHN0YXJ0MSkgLyAoc3RvcDEgLSBzdGFydDEpICogKHN0b3AyIC0gc3RhcnQyKSArIHN0YXJ0MjtcbiAgICBpZiAod2l0aGluQm91bmRzICYmIG4gPCBzdGFydDEpXG4gICAgICAgIHJldHVybiBzdGFydDI7XG4gICAgaWYgKHdpdGhpbkJvdW5kcyAmJiBuID4gc3RvcDEpXG4gICAgICAgIHJldHVybiBzdG9wMjtcbiAgICByZXR1cm4gbWFwcGVkO1xufVxuZXhwb3J0cy5yYW5nZU1hcCA9IHJhbmdlTWFwO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/utils/rangeMap.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk-nextjs/lib/utils/useElementRect.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk-nextjs/lib/utils/useElementRect.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useElementRect = void 0;\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nfunction useElementRect(element) {\n    const [rect, setRect] = (0, react_1.useState)(() => element === null || element === void 0 ? void 0 : element.getBoundingClientRect());\n    (0, react_1.useEffect)(() => {\n        if (!element)\n            return;\n        const observer = new ResizeObserver(entries => {\n            const el = entries.find(entry => entry.target === element);\n            if (!el) {\n                throw new Error('Element is not found in observed entries');\n            }\n            setRect(el.target.getBoundingClientRect());\n        });\n        observer.observe(element);\n        return () => {\n            observer.unobserve(element);\n            observer.disconnect();\n        };\n    }, [element]);\n    return rect;\n}\nexports.useElementRect = useElementRect;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrLW5leHRqcy9saWIvdXRpbHMvdXNlRWxlbWVudFJlY3QuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsc0JBQXNCO0FBQ3RCLGdCQUFnQixtQkFBTyxDQUFDLDRDQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esc0JBQXNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGstbmV4dGpzL2xpYi91dGlscy91c2VFbGVtZW50UmVjdC5qcz8yMzU3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy51c2VFbGVtZW50UmVjdCA9IHZvaWQgMDtcbmNvbnN0IHJlYWN0XzEgPSByZXF1aXJlKFwicmVhY3RcIik7XG5mdW5jdGlvbiB1c2VFbGVtZW50UmVjdChlbGVtZW50KSB7XG4gICAgY29uc3QgW3JlY3QsIHNldFJlY3RdID0gKDAsIHJlYWN0XzEudXNlU3RhdGUpKCgpID0+IGVsZW1lbnQgPT09IG51bGwgfHwgZWxlbWVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG4gICAgKDAsIHJlYWN0XzEudXNlRWZmZWN0KSgoKSA9PiB7XG4gICAgICAgIGlmICghZWxlbWVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbCA9IGVudHJpZXMuZmluZChlbnRyeSA9PiBlbnRyeS50YXJnZXQgPT09IGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKCFlbCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRWxlbWVudCBpcyBub3QgZm91bmQgaW4gb2JzZXJ2ZWQgZW50cmllcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0UmVjdChlbC50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShlbGVtZW50KTtcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbZWxlbWVudF0pO1xuICAgIHJldHVybiByZWN0O1xufVxuZXhwb3J0cy51c2VFbGVtZW50UmVjdCA9IHVzZUVsZW1lbnRSZWN0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk-nextjs/lib/utils/useElementRect.js\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk/dist/index.js":
/*!****************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk/dist/index.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, Symbol.toStringTag, { value: \"Module\" });\nconst fetch$1 = __webpack_require__(/*! isomorphic-fetch */ \"./node_modules/isomorphic-fetch/fetch-npm-browserify.js\");\nconst url = __webpack_require__(/*! url */ \"./node_modules/next/dist/compiled/native-url/index.js\");\nconst zod = __webpack_require__(/*! zod */ \"./node_modules/zod/index.cjs\");\nconst UAParser = __webpack_require__(/*! ua-parser-js */ \"./node_modules/ua-parser-js/src/ua-parser.js\");\nconst MP4Box = __webpack_require__(/*! mp4box */ \"./node_modules/mp4box/dist/mp4box.all.js\");\nconst jsxRuntime = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst react = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst reactSplide = __webpack_require__(/*! @splidejs/react-splide */ \"./node_modules/@splidejs/react-splide/dist/js/react-splide.cjs.js\");\nconst cn = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\nfunction _interopNamespaceDefault(e) {\n  const n = Object.create(null, { [Symbol.toStringTag]: { value: \"Module\" } });\n  if (e) {\n    for (const k in e) {\n      if (k !== \"default\") {\n        const d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: () => e[k]\n        });\n      }\n    }\n  }\n  n.default = e;\n  return Object.freeze(n);\n}\nconst MP4Box__namespace = /* @__PURE__ */ _interopNamespaceDefault(MP4Box);\nvar SectionHeightMode = /* @__PURE__ */ ((SectionHeightMode2) => {\n  SectionHeightMode2[\"ControlUnits\"] = \"control-units\";\n  SectionHeightMode2[\"ViewportHeightUnits\"] = \"viewport-height-units\";\n  return SectionHeightMode2;\n})(SectionHeightMode || {});\nconst TransitionSchema = zod.z.object({\n  timing: zod.z.string(),\n  duration: zod.z.number(),\n  delay: zod.z.number()\n});\nconst getStateParamsSchema = (schema) => {\n  return zod.z.object({\n    value: schema,\n    in: TransitionSchema,\n    out: TransitionSchema\n  }).optional();\n};\nconst ItemStateBaseSchema = zod.z.object({\n  width: getStateParamsSchema(zod.z.number()),\n  height: getStateParamsSchema(zod.z.number()),\n  angle: getStateParamsSchema(zod.z.number()),\n  top: getStateParamsSchema(zod.z.number()),\n  left: getStateParamsSchema(zod.z.number()),\n  scale: getStateParamsSchema(zod.z.number()),\n  blur: getStateParamsSchema(zod.z.number())\n});\nconst MediaStateParamsSchema = zod.z.object({\n  opacity: getStateParamsSchema(zod.z.number()),\n  radius: getStateParamsSchema(zod.z.number()),\n  strokeWidth: getStateParamsSchema(zod.z.number()),\n  strokeColor: getStateParamsSchema(zod.z.string())\n}).merge(ItemStateBaseSchema);\nconst RectangleStateParamsSchema = zod.z.object({\n  strokeWidth: getStateParamsSchema(zod.z.number()),\n  radius: getStateParamsSchema(zod.z.number()),\n  fillColor: getStateParamsSchema(zod.z.string()),\n  strokeColor: getStateParamsSchema(zod.z.string()),\n  backdropBlur: getStateParamsSchema(zod.z.number())\n}).merge(ItemStateBaseSchema);\nconst CustomItemStateParamsSchema = ItemStateBaseSchema;\nconst EmbedStateParamsSchema = zod.z.object({\n  radius: getStateParamsSchema(zod.z.number()),\n  opacity: getStateParamsSchema(zod.z.number().nonnegative())\n}).merge(ItemStateBaseSchema);\nconst RichTextStateParamsSchema = zod.z.object({\n  color: getStateParamsSchema(zod.z.string()),\n  letterSpacing: getStateParamsSchema(zod.z.number()),\n  wordSpacing: getStateParamsSchema(zod.z.number())\n}).merge(ItemStateBaseSchema);\nconst GroupStateParamsSchema = zod.z.object({\n  opacity: getStateParamsSchema(zod.z.number().nonnegative()),\n  blur: getStateParamsSchema(zod.z.number().nonnegative())\n}).merge(ItemStateBaseSchema);\nconst CompoundStateParamsSchema = zod.z.object({\n  opacity: getStateParamsSchema(zod.z.number().nonnegative())\n}).merge(ItemStateBaseSchema);\nconst CodeEmbedStateParamsSchema = zod.z.object({\n  opacity: getStateParamsSchema(zod.z.number().nonnegative())\n}).merge(ItemStateBaseSchema);\nconst ComponentStateParamsSchema = zod.z.object({\n  opacity: getStateParamsSchema(zod.z.number().nonnegative())\n}).merge(ItemStateBaseSchema);\nzod.z.union([\n  EmbedStateParamsSchema,\n  MediaStateParamsSchema,\n  RectangleStateParamsSchema,\n  RichTextStateParamsSchema,\n  CustomItemStateParamsSchema,\n  GroupStateParamsSchema,\n  CompoundStateParamsSchema,\n  CodeEmbedStateParamsSchema,\n  ComponentStateParamsSchema\n]);\nvar TextAlign = /* @__PURE__ */ ((TextAlign2) => {\n  TextAlign2[\"Left\"] = \"left\";\n  TextAlign2[\"Right\"] = \"right\";\n  TextAlign2[\"Center\"] = \"center\";\n  TextAlign2[\"Justify\"] = \"justify\";\n  return TextAlign2;\n})(TextAlign || {});\nvar TextTransform = /* @__PURE__ */ ((TextTransform2) => {\n  TextTransform2[\"None\"] = \"none\";\n  TextTransform2[\"Uppercase\"] = \"uppercase\";\n  TextTransform2[\"Lowercase\"] = \"lowercase\";\n  return TextTransform2;\n})(TextTransform || {});\nvar VerticalAlign = /* @__PURE__ */ ((VerticalAlign2) => {\n  VerticalAlign2[\"Super\"] = \"super\";\n  VerticalAlign2[\"Sub\"] = \"sub\";\n  VerticalAlign2[\"Unset\"] = \"unset\";\n  return VerticalAlign2;\n})(VerticalAlign || {});\nvar TextDecoration = /* @__PURE__ */ ((TextDecoration2) => {\n  TextDecoration2[\"Underline\"] = \"underline\";\n  TextDecoration2[\"None\"] = \"none\";\n  return TextDecoration2;\n})(TextDecoration || {});\nvar AnchorSide = /* @__PURE__ */ ((AnchorSide2) => {\n  AnchorSide2[\"Top\"] = \"top\";\n  AnchorSide2[\"Bottom\"] = \"bottom\";\n  AnchorSide2[\"Center\"] = \"center\";\n  return AnchorSide2;\n})(AnchorSide || {});\nvar PositionType = /* @__PURE__ */ ((PositionType2) => {\n  PositionType2[\"SectionBased\"] = \"section-based\";\n  PositionType2[\"ScreenBased\"] = \"screen-based\";\n  return PositionType2;\n})(PositionType || {});\nvar AreaAnchor = /* @__PURE__ */ ((AreaAnchor2) => {\n  AreaAnchor2[\"TopLeft\"] = \"top-left\";\n  AreaAnchor2[\"TopCenter\"] = \"top-center\";\n  AreaAnchor2[\"TopRight\"] = \"top-right\";\n  AreaAnchor2[\"MiddleLeft\"] = \"middle-left\";\n  AreaAnchor2[\"MiddleCenter\"] = \"middle-center\";\n  AreaAnchor2[\"MiddleRight\"] = \"middle-right\";\n  AreaAnchor2[\"BottomLeft\"] = \"bottom-left\";\n  AreaAnchor2[\"BottomCenter\"] = \"bottom-center\";\n  AreaAnchor2[\"BottomRight\"] = \"bottom-right\";\n  return AreaAnchor2;\n})(AreaAnchor || {});\nvar DimensionMode = /* @__PURE__ */ ((DimensionMode2) => {\n  DimensionMode2[\"ControlUnits\"] = \"control-units\";\n  DimensionMode2[\"Relative\"] = \"relative\";\n  return DimensionMode2;\n})(DimensionMode || {});\nconst ItemAreaSchema = zod.z.object({\n  top: zod.z.number(),\n  left: zod.z.number(),\n  width: zod.z.number(),\n  height: zod.z.number(),\n  zIndex: zod.z.number(),\n  angle: zod.z.number(),\n  anchorSide: zod.z.nativeEnum(AnchorSide).optional(),\n  scale: zod.z.number().nonnegative(),\n  positionType: zod.z.nativeEnum(PositionType),\n  scaleAnchor: zod.z.nativeEnum(AreaAnchor)\n});\nconst Link = zod.z.object({\n  url: zod.z.string().min(1),\n  target: zod.z.string().min(1)\n});\nconst CompoundSettingsSchema = zod.z.object({\n  positionAnchor: zod.z.nativeEnum(AreaAnchor),\n  widthMode: zod.z.nativeEnum(DimensionMode),\n  heightMode: zod.z.nativeEnum(DimensionMode)\n});\nconst ItemBaseSchema = zod.z.object({\n  id: zod.z.string().min(1),\n  area: zod.z.record(ItemAreaSchema),\n  hidden: zod.z.record(zod.z.boolean()),\n  link: Link.optional(),\n  compoundSettings: zod.z.record(CompoundSettingsSchema).optional(),\n  layoutParams: zod.z.record(zod.z.any()).optional()\n});\nvar ArticleItemType = /* @__PURE__ */ ((ArticleItemType2) => {\n  ArticleItemType2[\"Image\"] = \"image\";\n  ArticleItemType2[\"RichText\"] = \"richtext\";\n  ArticleItemType2[\"Video\"] = \"video\";\n  ArticleItemType2[\"Rectangle\"] = \"rectangle\";\n  ArticleItemType2[\"VimeoEmbed\"] = \"vimeo-embed\";\n  ArticleItemType2[\"YoutubeEmbed\"] = \"youtube-embed\";\n  ArticleItemType2[\"Custom\"] = \"custom\";\n  ArticleItemType2[\"Group\"] = \"group\";\n  ArticleItemType2[\"CodeEmbed\"] = \"code-embed\";\n  ArticleItemType2[\"Compound\"] = \"compound\";\n  ArticleItemType2[\"Component\"] = \"component\";\n  return ArticleItemType2;\n})(ArticleItemType || {});\nconst pointerEvents$1 = zod.z.enum([\"never\", \"when_visible\", \"always\"]).optional();\nconst RichTextEntitySchema = zod.z.object({\n  start: zod.z.number().nonnegative(),\n  end: zod.z.number().nonnegative(),\n  type: zod.z.string(),\n  data: zod.z.any().optional()\n});\nconst RichTextStyleSchema = zod.z.object({\n  start: zod.z.number().nonnegative(),\n  end: zod.z.number().nonnegative(),\n  style: zod.z.string().min(1),\n  value: zod.z.string().optional()\n});\nconst RichTextBlockSchema = zod.z.lazy(() => zod.z.object({\n  start: zod.z.number().nonnegative(),\n  end: zod.z.number().nonnegative(),\n  type: zod.z.string().min(1),\n  entities: zod.z.array(RichTextEntitySchema).optional(),\n  children: zod.z.array(RichTextBlockSchema).optional(),\n  data: zod.z.any().optional()\n}));\nconst RichTextItemSchema = ItemBaseSchema.extend({\n  type: zod.z.literal(ArticleItemType.RichText),\n  commonParams: zod.z.object({\n    text: zod.z.string(),\n    blocks: zod.z.array(RichTextBlockSchema).optional(),\n    pointerEvents: pointerEvents$1\n  }),\n  sticky: zod.z.record(\n    zod.z.object({\n      from: zod.z.number(),\n      to: zod.z.number().optional()\n    }).nullable()\n  ),\n  layoutParams: zod.z.record(\n    zod.z.object({\n      rangeStyles: zod.z.array(RichTextStyleSchema).optional(),\n      textAlign: zod.z.nativeEnum(TextAlign),\n      sizing: zod.z.string(),\n      blur: zod.z.number(),\n      fontSize: zod.z.number(),\n      lineHeight: zod.z.number(),\n      letterSpacing: zod.z.number(),\n      wordSpacing: zod.z.number(),\n      textTransform: zod.z.nativeEnum(TextTransform),\n      verticalAlign: zod.z.nativeEnum(VerticalAlign),\n      color: zod.z.string(),\n      typeFace: zod.z.string(),\n      fontStyle: zod.z.string(),\n      fontWeight: zod.z.number(),\n      fontVariant: zod.z.string(),\n      isDraggable: zod.z.boolean().optional()\n    })\n  ),\n  state: zod.z.record(RichTextStateParamsSchema)\n});\nconst pointerEvents = zod.z.enum([\"never\", \"when_visible\", \"always\"]).optional();\nconst FXControlSchema = zod.z.discriminatedUnion(\"type\", [\n  zod.z.object({\n    type: zod.z.literal(\"float\"),\n    shaderParam: zod.z.string(),\n    value: zod.z.number()\n  }),\n  zod.z.object({\n    type: zod.z.literal(\"int\"),\n    shaderParam: zod.z.string(),\n    value: zod.z.number()\n  }),\n  zod.z.object({\n    type: zod.z.literal(\"vec2\"),\n    shaderParam: zod.z.string(),\n    value: zod.z.tuple([zod.z.number(), zod.z.number()])\n  })\n]);\nconst FXParams = zod.z.object({\n  url: zod.z.string().min(1),\n  hasGLEffect: zod.z.boolean().optional(),\n  fragmentShader: zod.z.string().nullable(),\n  FXControls: zod.z.array(FXControlSchema).optional()\n});\nconst ImageItemSchema = ItemBaseSchema.extend({\n  type: zod.z.literal(ArticleItemType.Image),\n  commonParams: zod.z.object({\n    pointerEvents\n  }).merge(FXParams),\n  sticky: zod.z.record(\n    zod.z.object({\n      from: zod.z.number(),\n      to: zod.z.number().optional()\n    }).nullable()\n  ),\n  layoutParams: zod.z.record(\n    zod.z.object({\n      opacity: zod.z.number().nonnegative(),\n      radius: zod.z.number(),\n      strokeWidth: zod.z.number(),\n      strokeColor: zod.z.string(),\n      blur: zod.z.number(),\n      isDraggable: zod.z.boolean().optional()\n    })\n  ),\n  state: zod.z.record(MediaStateParamsSchema)\n});\nconst VideoItemSchema = ItemBaseSchema.extend({\n  type: zod.z.literal(ArticleItemType.Video),\n  commonParams: zod.z.object({\n    coverUrl: zod.z.string().nullable(),\n    pointerEvents\n  }).merge(FXParams),\n  sticky: zod.z.record(\n    zod.z.object({\n      from: zod.z.number(),\n      to: zod.z.number().optional()\n    }).nullable()\n  ),\n  layoutParams: zod.z.record(\n    zod.z.object({\n      autoplay: zod.z.boolean(),\n      scrollPlayback: zod.z.object({\n        from: zod.z.number(),\n        to: zod.z.number()\n      }).nullable(),\n      opacity: zod.z.number().nonnegative(),\n      radius: zod.z.number(),\n      strokeWidth: zod.z.number(),\n      strokeColor: zod.z.string(),\n      blur: zod.z.number(),\n      isDraggable: zod.z.boolean().optional()\n    })\n  ),\n  state: zod.z.record(MediaStateParamsSchema)\n});\nconst RectangleItemSchema = ItemBaseSchema.extend({\n  type: zod.z.literal(ArticleItemType.Rectangle),\n  commonParams: zod.z.object({\n    ratioLock: zod.z.boolean(),\n    pointerEvents\n  }),\n  sticky: zod.z.record(\n    zod.z.object({\n      from: zod.z.number(),\n      to: zod.z.number().optional()\n    }).nullable()\n  ),\n  layoutParams: zod.z.record(\n    zod.z.object({\n      radius: zod.z.number(),\n      strokeWidth: zod.z.number(),\n      fillColor: zod.z.string().min(1),\n      strokeColor: zod.z.string().min(1),\n      blur: zod.z.number(),\n      backdropBlur: zod.z.number(),\n      blurMode: zod.z.enum([\"default\", \"backdrop\"]),\n      isDraggable: zod.z.boolean().optional()\n    })\n  ),\n  state: zod.z.record(RectangleStateParamsSchema)\n});\nconst CustomItemSchema = ItemBaseSchema.extend({\n  type: zod.z.literal(ArticleItemType.Custom),\n  commonParams: zod.z.object({\n    name: zod.z.string(),\n    pointerEvents\n  }),\n  sticky: zod.z.record(\n    zod.z.object({\n      from: zod.z.number(),\n      to: zod.z.number().optional()\n    }).nullable()\n  ),\n  layoutParams: zod.z.record(zod.z.object({\n    isDraggable: zod.z.boolean().optional()\n  })),\n  state: zod.z.record(CustomItemStateParamsSchema)\n});\nconst VimeoEmbedItemSchema = ItemBaseSchema.extend({\n  type: zod.z.literal(ArticleItemType.VimeoEmbed),\n  commonParams: zod.z.object({\n    play: zod.z.union([zod.z.literal(\"on-hover\"), zod.z.literal(\"on-click\"), zod.z.literal(\"auto\")]),\n    controls: zod.z.boolean(),\n    loop: zod.z.boolean(),\n    muted: zod.z.boolean(),\n    pictureInPicture: zod.z.boolean(),\n    url: zod.z.string().min(1),\n    coverUrl: zod.z.string().nullable(),\n    ratioLock: zod.z.boolean(),\n    pointerEvents\n  }),\n  sticky: zod.z.record(\n    zod.z.object({\n      from: zod.z.number(),\n      to: zod.z.number().optional()\n    }).nullable()\n  ),\n  layoutParams: zod.z.record(\n    zod.z.object({\n      radius: zod.z.number(),\n      blur: zod.z.number(),\n      opacity: zod.z.number().nonnegative()\n    })\n  ),\n  state: zod.z.record(EmbedStateParamsSchema)\n});\nconst YoutubeEmbedItemSchema = ItemBaseSchema.extend({\n  type: zod.z.literal(ArticleItemType.YoutubeEmbed),\n  commonParams: zod.z.object({\n    play: zod.z.enum([\"on-hover\", \"on-click\", \"auto\"]),\n    controls: zod.z.boolean(),\n    loop: zod.z.boolean(),\n    url: zod.z.string().min(1),\n    coverUrl: zod.z.string().nullable(),\n    pointerEvents\n  }),\n  sticky: zod.z.record(\n    zod.z.object({\n      from: zod.z.number(),\n      to: zod.z.number().optional()\n    }).nullable()\n  ),\n  layoutParams: zod.z.record(\n    zod.z.object({\n      radius: zod.z.number(),\n      blur: zod.z.number(),\n      opacity: zod.z.number().nonnegative()\n    })\n  ),\n  state: zod.z.record(EmbedStateParamsSchema)\n});\nconst CodeEmbedItemSchema = ItemBaseSchema.extend({\n  type: zod.z.literal(ArticleItemType.CodeEmbed),\n  commonParams: zod.z.object({\n    html: zod.z.string(),\n    scale: zod.z.boolean(),\n    iframe: zod.z.boolean(),\n    pointerEvents\n  }),\n  sticky: zod.z.record(\n    zod.z.object({\n      from: zod.z.number(),\n      to: zod.z.number().optional()\n    }).nullable()\n  ),\n  layoutParams: zod.z.record(\n    zod.z.object({\n      areaAnchor: zod.z.nativeEnum(AreaAnchor),\n      opacity: zod.z.number().nonnegative(),\n      blur: zod.z.number(),\n      isDraggable: zod.z.boolean().optional()\n    })\n  ),\n  state: zod.z.record(CodeEmbedStateParamsSchema)\n});\nconst ComponentItemSchema = ItemBaseSchema.extend({\n  type: zod.z.literal(ArticleItemType.Component),\n  commonParams: zod.z.object({\n    componentId: zod.z.string(),\n    content: zod.z.any().optional()\n  }),\n  sticky: zod.z.record(\n    zod.z.object({\n      from: zod.z.number(),\n      to: zod.z.number().optional()\n    }).nullable()\n  ),\n  layoutParams: zod.z.record(zod.z.object({\n    parameters: zod.z.any().optional(),\n    opacity: zod.z.number().nonnegative(),\n    blur: zod.z.number()\n  })),\n  state: zod.z.record(ComponentStateParamsSchema)\n});\nconst ItemSchema = zod.z.lazy(() => zod.z.discriminatedUnion(\"type\", [\n  ImageItemSchema,\n  VideoItemSchema,\n  RectangleItemSchema,\n  CustomItemSchema,\n  RichTextItemSchema,\n  VimeoEmbedItemSchema,\n  YoutubeEmbedItemSchema,\n  CodeEmbedItemSchema,\n  ComponentItemSchema,\n  ItemBaseSchema.extend({\n    type: zod.z.literal(ArticleItemType.Group),\n    commonParams: zod.z.object({\n      pointerEvents\n    }),\n    items: zod.z.array(ItemSchema),\n    sticky: zod.z.record(\n      zod.z.object({\n        from: zod.z.number(),\n        to: zod.z.number().optional()\n      }).nullable()\n    ),\n    layoutParams: zod.z.record(\n      zod.z.object({\n        opacity: zod.z.number().nonnegative(),\n        blur: zod.z.number()\n      })\n    ),\n    state: zod.z.record(GroupStateParamsSchema)\n  }),\n  ItemBaseSchema.extend({\n    type: zod.z.literal(ArticleItemType.Compound),\n    commonParams: zod.z.object({\n      overflow: zod.z.enum([\"hidden\", \"visible\"]),\n      pointerEvents\n    }),\n    items: zod.z.array(ItemSchema),\n    sticky: zod.z.record(\n      zod.z.object({\n        from: zod.z.number(),\n        to: zod.z.number().optional()\n      }).nullable()\n    ),\n    layoutParams: zod.z.record(\n      zod.z.object({\n        opacity: zod.z.number().nonnegative()\n      })\n    ),\n    state: zod.z.record(CompoundStateParamsSchema)\n  })\n]));\nconst SectionHeightSchema = zod.z.object({\n  mode: zod.z.nativeEnum(SectionHeightMode),\n  units: zod.z.number().nonnegative(),\n  vhUnits: zod.z.number().nonnegative().optional()\n});\nconst SectionSchema = zod.z.object({\n  id: zod.z.string().min(1),\n  items: zod.z.array(ItemSchema),\n  name: zod.z.string().optional(),\n  height: zod.z.record(SectionHeightSchema),\n  position: zod.z.record(zod.z.number()),\n  hidden: zod.z.record(zod.z.boolean()),\n  color: zod.z.record(zod.z.nullable(zod.z.string())),\n  media: zod.z.record(zod.z.object({\n    url: zod.z.string(),\n    size: zod.z.string(),\n    position: zod.z.string(),\n    offsetX: zod.z.number().nullable()\n  })).optional()\n});\nconst TriggerSchema = zod.z.object({\n  itemId: zod.z.string(),\n  type: zod.z.enum([\"hover-in\", \"hover-out\", \"click\"]),\n  from: zod.z.string(),\n  to: zod.z.string()\n});\nconst VideoInteractionActionSchema = zod.z.object({\n  type: zod.z.enum([\"play\", \"pause\"]),\n  itemId: zod.z.string()\n});\nconst StateSchema = zod.z.object({\n  id: zod.z.string(),\n  actions: zod.z.array(VideoInteractionActionSchema).optional()\n});\nconst InteractionSchema = zod.z.object({\n  id: zod.z.string(),\n  triggers: zod.z.array(TriggerSchema),\n  states: zod.z.array(StateSchema),\n  startStateId: zod.z.string()\n});\nconst ArticleSchema = zod.z.object({\n  id: zod.z.string().min(1),\n  sections: zod.z.array(SectionSchema),\n  interactions: zod.z.record(zod.z.array(InteractionSchema))\n});\nconst LayoutSchema = zod.z.object({\n  id: zod.z.string(),\n  title: zod.z.string(),\n  startsWith: zod.z.number().nonnegative(),\n  exemplary: zod.z.number().positive()\n});\nvar FontFileTypes = /* @__PURE__ */ ((FontFileTypes2) => {\n  FontFileTypes2[\"OTF\"] = \"otf\";\n  FontFileTypes2[\"TTF\"] = \"ttf\";\n  FontFileTypes2[\"WOFF\"] = \"woff\";\n  FontFileTypes2[\"WOFF2\"] = \"woff2\";\n  FontFileTypes2[\"EOT\"] = \"eot\";\n  return FontFileTypes2;\n})(FontFileTypes || {});\nconst ProjectSchema = zod.z.object({\n  id: zod.z.string().min(1),\n  html: zod.z.object({\n    head: zod.z.string(),\n    afterBodyOpen: zod.z.string(),\n    beforeBodyClose: zod.z.string()\n  }),\n  meta: zod.z.object({\n    title: zod.z.string().optional(),\n    description: zod.z.string().optional(),\n    opengraphThumbnail: zod.z.string().optional(),\n    keywords: zod.z.string().optional(),\n    favicon: zod.z.string().optional()\n  }),\n  layouts: zod.z.array(LayoutSchema),\n  pages: zod.z.array(zod.z.object({\n    title: zod.z.string(),\n    articleId: zod.z.string().min(1),\n    slug: zod.z.string(),\n    meta: zod.z.object({\n      title: zod.z.string().optional(),\n      description: zod.z.string().optional(),\n      opengraphThumbnail: zod.z.string().optional(),\n      keywords: zod.z.string().optional(),\n      enabled: zod.z.boolean()\n    }).optional(),\n    id: zod.z.string().min(1)\n  })),\n  fonts: zod.z.object({\n    google: zod.z.string(),\n    adobe: zod.z.string(),\n    custom: zod.z.array(zod.z.object({\n      name: zod.z.string().min(1),\n      style: zod.z.string().min(1),\n      weight: zod.z.number(),\n      files: zod.z.array(\n        zod.z.object({\n          type: zod.z.nativeEnum(FontFileTypes),\n          url: zod.z.string().url()\n        })\n      )\n    }))\n  })\n});\nvar KeyframeType = /* @__PURE__ */ ((KeyframeType2) => {\n  KeyframeType2[\"Dimensions\"] = \"dimensions\";\n  KeyframeType2[\"Position\"] = \"position\";\n  KeyframeType2[\"Rotation\"] = \"rotation\";\n  KeyframeType2[\"BorderRadius\"] = \"border-radius\";\n  KeyframeType2[\"BorderWidth\"] = \"border-width\";\n  KeyframeType2[\"Color\"] = \"color\";\n  KeyframeType2[\"BorderColor\"] = \"border-color\";\n  KeyframeType2[\"Opacity\"] = \"opacity\";\n  KeyframeType2[\"Scale\"] = \"scale\";\n  KeyframeType2[\"TextColor\"] = \"text-color\";\n  KeyframeType2[\"LetterSpacing\"] = \"letter-spacing\";\n  KeyframeType2[\"WordSpacing\"] = \"word-spacing\";\n  KeyframeType2[\"Blur\"] = \"blur\";\n  KeyframeType2[\"BackdropBlur\"] = \"backdrop-blur\";\n  KeyframeType2[\"FXParams\"] = \"fx-params\";\n  return KeyframeType2;\n})(KeyframeType || {});\nconst KeyframesBaseSchema = zod.z.object({\n  id: zod.z.string().min(1),\n  layoutId: zod.z.string().min(1),\n  itemId: zod.z.string().min(1),\n  position: zod.z.number()\n});\nconst DimensionsKeyframeSchema = KeyframesBaseSchema.extend({\n  type: zod.z.literal(KeyframeType.Dimensions),\n  value: zod.z.object({\n    width: zod.z.number().nonnegative(),\n    height: zod.z.number().nonnegative()\n  })\n});\nconst PositionKeyframeSchema = KeyframesBaseSchema.extend({\n  type: zod.z.literal(KeyframeType.Position),\n  value: zod.z.object({\n    top: zod.z.number(),\n    left: zod.z.number()\n  })\n});\nconst RotationKeyframeSchema = KeyframesBaseSchema.extend({\n  type: zod.z.literal(KeyframeType.Rotation),\n  value: zod.z.object({\n    angle: zod.z.number()\n  })\n});\nconst BorderRadiusKeyframeSchema = KeyframesBaseSchema.extend({\n  type: zod.z.literal(KeyframeType.BorderRadius),\n  value: zod.z.object({\n    radius: zod.z.number().nonnegative()\n  })\n});\nconst BorderWidthKeyframeSchema = KeyframesBaseSchema.extend({\n  type: zod.z.literal(KeyframeType.BorderWidth),\n  value: zod.z.object({\n    borderWidth: zod.z.number().nonnegative()\n  })\n});\nconst ColorKeyframeSchema = KeyframesBaseSchema.extend({\n  type: zod.z.literal(KeyframeType.Color),\n  value: zod.z.object({\n    color: zod.z.string()\n  })\n});\nconst BorderColorKeyframeSchema = KeyframesBaseSchema.extend({\n  type: zod.z.literal(KeyframeType.BorderColor),\n  value: zod.z.object({\n    color: zod.z.string()\n  })\n});\nconst OpacityKeyframeSchema = KeyframesBaseSchema.extend({\n  type: zod.z.literal(KeyframeType.Opacity),\n  value: zod.z.object({\n    opacity: zod.z.number().nonnegative()\n  })\n});\nconst ScaleKeyframeSchema = KeyframesBaseSchema.extend({\n  type: zod.z.literal(KeyframeType.Scale),\n  value: zod.z.object({\n    scale: zod.z.number().nonnegative()\n  })\n});\nconst BlurKeyframeSchema = KeyframesBaseSchema.extend({\n  type: zod.z.literal(KeyframeType.Blur),\n  value: zod.z.object({\n    blur: zod.z.number()\n  })\n});\nconst BackdropBlurKeyframeSchema = KeyframesBaseSchema.extend({\n  type: zod.z.literal(KeyframeType.BackdropBlur),\n  value: zod.z.object({\n    backdropBlur: zod.z.number()\n  })\n});\nconst TextColorKeyframeSchema = KeyframesBaseSchema.extend({\n  type: zod.z.literal(KeyframeType.TextColor),\n  value: zod.z.object({\n    color: zod.z.string()\n  })\n});\nconst LetterSpacingKeyframeSchema = KeyframesBaseSchema.extend({\n  type: zod.z.literal(KeyframeType.LetterSpacing),\n  value: zod.z.object({\n    letterSpacing: zod.z.number()\n  })\n});\nconst WordSpacingKeyframeSchema = KeyframesBaseSchema.extend({\n  type: zod.z.literal(KeyframeType.WordSpacing),\n  value: zod.z.object({\n    wordSpacing: zod.z.number()\n  })\n});\nconst FXParamsKeyframeSchema = KeyframesBaseSchema.extend({\n  type: zod.z.literal(KeyframeType.FXParams),\n  value: zod.z.record(zod.z.string(), zod.z.number())\n});\nconst KeyframeSchema = zod.z.discriminatedUnion(\"type\", [\n  DimensionsKeyframeSchema,\n  PositionKeyframeSchema,\n  RotationKeyframeSchema,\n  BorderRadiusKeyframeSchema,\n  BorderWidthKeyframeSchema,\n  ColorKeyframeSchema,\n  BorderColorKeyframeSchema,\n  OpacityKeyframeSchema,\n  ScaleKeyframeSchema,\n  BlurKeyframeSchema,\n  BackdropBlurKeyframeSchema,\n  TextColorKeyframeSchema,\n  LetterSpacingKeyframeSchema,\n  WordSpacingKeyframeSchema,\n  FXParamsKeyframeSchema\n]);\nconst KeyframesSchema = zod.z.array(KeyframeSchema);\nclass Client {\n  constructor(APIUrl, fetchImpl = fetch$1) {\n    this.fetchImpl = fetchImpl;\n    this.url = new url.URL(APIUrl);\n    if (!this.url.username) {\n      throw new Error(\"Project ID is missing in the URL.\");\n    }\n    if (!this.url.password) {\n      throw new Error(\"API key is missing in the URL.\");\n    }\n  }\n  static getPageMeta(projectMeta, pageMeta) {\n    return pageMeta.enabled ? {\n      title: pageMeta.title ? pageMeta.title : projectMeta.title ?? \"\",\n      description: pageMeta.description ? pageMeta.description : projectMeta.description ?? \"\",\n      keywords: pageMeta.keywords ? pageMeta.keywords : projectMeta.keywords ?? \"\",\n      opengraphThumbnail: pageMeta.opengraphThumbnail ? pageMeta.opengraphThumbnail : projectMeta.opengraphThumbnail ?? \"\",\n      favicon: projectMeta.favicon ?? \"\"\n    } : projectMeta;\n  }\n  async getPageData(pageSlug) {\n    try {\n      const project = await this.fetchProject();\n      const articleId = this.findArticleIdByPageSlug(pageSlug, project.pages);\n      const { article, keyframes } = await this.fetchArticle(articleId);\n      const page = project.pages.find((page2) => page2.slug === pageSlug);\n      const meta = Client.getPageMeta(project.meta, page == null ? void 0 : page.meta);\n      return {\n        project,\n        article,\n        keyframes,\n        meta\n      };\n    } catch (e) {\n      throw e;\n    }\n  }\n  async getProjectPagesPaths() {\n    try {\n      const { pages } = await this.fetchProject();\n      return pages.map((p) => p.slug);\n    } catch (e) {\n      throw e;\n    }\n  }\n  async getLayouts() {\n    try {\n      const { layouts } = await this.fetchProject();\n      return layouts;\n    } catch (e) {\n      throw e;\n    }\n  }\n  async fetchProject() {\n    const { username: projectId, password: apiKey, origin } = this.url;\n    const url$1 = new url.URL(`/projects/${projectId}`, origin);\n    const response = await this.fetchImpl(url$1.href, {\n      headers: {\n        Authorization: `Bearer ${apiKey}`\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`Failed to fetch project with id #${projectId}: ${response.statusText}`);\n    }\n    const data = await response.json();\n    const project = ProjectSchema.parse(data);\n    return project;\n  }\n  async fetchArticle(articleId) {\n    const { username: projectId, password: apiKey, origin } = this.url;\n    const url$1 = new url.URL(`/projects/${projectId}/articles/${articleId}`, origin);\n    const response = await this.fetchImpl(url$1.href, {\n      headers: {\n        Authorization: `Bearer ${apiKey}`\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`Failed to fetch article with id #${articleId}: ${response.statusText}`);\n    }\n    const data = await response.json();\n    const article = ArticleSchema.parse(data.article);\n    const keyframes = KeyframesSchema.parse(data.keyframes);\n    return { article, keyframes };\n  }\n  findArticleIdByPageSlug(slug, pages) {\n    const { username: projectId } = this.url;\n    const page = pages.find((page2) => page2.slug === slug);\n    if (!page) {\n      throw new Error(`Page with a slug ${slug} was not found in project with id #${projectId}`);\n    }\n    return page.articleId;\n  }\n}\nconst FILE_TYPES_MAP = {\n  ttf: \"truetype\",\n  otf: \"opentype\"\n};\nclass FontFaceGenerator {\n  constructor(fonts) {\n    this.fonts = fonts;\n  }\n  generate() {\n    return this.fonts.map((font) => {\n      const eotFile = font.files.find((file) => file.type === \"eot\");\n      const otherFiles = font.files.filter((file) => file.type !== \"eot\").map((file) => `url('${file.url}') format('${FILE_TYPES_MAP[file.type] || file.type}')`);\n      return `\n@font-face {\n  font-family: \"${font.name}\";\n  font-weight: ${font.weight};\n  font-style: ${font.style};\n  ${eotFile ? `src: url('${eotFile.url}');\n  ` : \"\"}src: ${otherFiles.join(\", \")};\n}`;\n    }).join(\"\\n\");\n  }\n}\nfunction getLayoutStyles(layouts, layoutValues, mapToStyles) {\n  const mediaQueries = layouts.sort((a, b) => a.startsWith - b.startsWith).reduce(\n    (acc, layout) => {\n      const values = layoutValues.map((lv) => lv[layout.id]);\n      return `\n        ${acc}\n        ${layout.startsWith !== 0 ? `@media (min-width: ${layout.startsWith}px) {${mapToStyles(values, layout.exemplary)}}` : `${mapToStyles(values, layout.exemplary)}`}`;\n    },\n    \"\"\n  );\n  return mediaQueries;\n}\nfunction getLayoutMediaQuery(layoutId, layouts) {\n  const sorted = layouts.slice().sort((a, b) => a.startsWith - b.startsWith);\n  const layoutIndex = sorted.findIndex((l) => l.id === layoutId);\n  if (layoutIndex === -1) {\n    throw new Error(`No layout was found by the given id #${layoutId}`);\n  }\n  const current = sorted[layoutIndex];\n  const next = sorted[layoutIndex + 1];\n  if (!next) {\n    return `@media (min-width: ${current.startsWith}px)`;\n  }\n  return `@media (min-width: ${current.startsWith}px) and (max-width: ${next.startsWith - 1}px)`;\n}\nclass Writer {\n  constructor(size) {\n    this.data = new Uint8Array(size);\n    this.idx = 0;\n    this.size = size;\n  }\n  getData() {\n    if (this.idx !== this.size) throw new Error(\"Mismatch between size reserved and sized used\");\n    return this.data.slice(0, this.idx);\n  }\n  writeUint8(value) {\n    this.data.set([value], this.idx);\n    this.idx += 1;\n  }\n  writeUint16(value) {\n    const arr = new Uint16Array(1);\n    arr[0] = value;\n    const buffer = new Uint8Array(arr.buffer);\n    this.data.set([buffer[1], buffer[0]], this.idx);\n    this.idx += 2;\n  }\n  writeUint8Array(value) {\n    this.data.set(value, this.idx);\n    this.idx += value.length;\n  }\n}\nconst getExtradata = (avccBox) => {\n  let i;\n  let size = 7;\n  for (i = 0; i < avccBox.SPS.length; i += 1) {\n    size += 2 + avccBox.SPS[i].length;\n  }\n  for (i = 0; i < avccBox.PPS.length; i += 1) {\n    size += 2 + avccBox.PPS[i].length;\n  }\n  const writer = new Writer(size);\n  writer.writeUint8(avccBox.configurationVersion);\n  writer.writeUint8(avccBox.AVCProfileIndication);\n  writer.writeUint8(avccBox.profile_compatibility);\n  writer.writeUint8(avccBox.AVCLevelIndication);\n  writer.writeUint8(avccBox.lengthSizeMinusOne + (63 << 2));\n  writer.writeUint8(avccBox.nb_SPS_nalus + (7 << 5));\n  for (i = 0; i < avccBox.SPS.length; i += 1) {\n    writer.writeUint16(avccBox.SPS[i].length);\n    writer.writeUint8Array(avccBox.SPS[i].nalu);\n  }\n  writer.writeUint8(avccBox.nb_PPS_nalus);\n  for (i = 0; i < avccBox.PPS.length; i += 1) {\n    writer.writeUint16(avccBox.PPS[i].length);\n    writer.writeUint8Array(avccBox.PPS[i].nalu);\n  }\n  return writer.getData();\n};\nconst decodeVideo = (src, emitFrame, { VideoDecoder: VideoDecoder2, EncodedVideoChunk: EncodedVideoChunk2, debug }) => new Promise((resolve, reject) => {\n  if (debug) console.info(\"Decoding video from\", src);\n  try {\n    const mp4boxfile = MP4Box__namespace.createFile();\n    let codec;\n    const decoder = new VideoDecoder2({\n      output: (frame) => {\n        createImageBitmap(frame, { resizeQuality: \"low\" }).then((bitmap) => {\n          emitFrame(bitmap);\n          frame.close();\n          if (decoder.decodeQueueSize <= 0) {\n            setTimeout(() => {\n              if (decoder.state !== \"closed\") {\n                decoder.close();\n                resolve();\n              }\n            }, 500);\n          }\n        });\n      },\n      error: (e) => {\n        console.error(e);\n        reject(e);\n      }\n    });\n    mp4boxfile.onReady = (info) => {\n      if (info && info.videoTracks && info.videoTracks[0]) {\n        [{ codec }] = info.videoTracks;\n        if (debug) console.info(\"Video with codec:\", codec);\n        const avccBox = mp4boxfile.moov.traks[0].mdia.minf.stbl.stsd.entries[0].avcC;\n        const extradata = getExtradata(avccBox);\n        decoder.configure({ codec, description: extradata });\n        mp4boxfile.setExtractionOptions(info.videoTracks[0].id);\n        mp4boxfile.start();\n      } else reject(new Error(\"URL provided is not a valid mp4 video file.\"));\n    };\n    mp4boxfile.onSamples = (track_id, ref, samples) => {\n      for (let i = 0; i < samples.length; i += 1) {\n        const sample = samples[i];\n        const type = sample.is_sync ? \"key\" : \"delta\";\n        const chunk = new EncodedVideoChunk2({\n          type,\n          timestamp: sample.cts,\n          duration: sample.duration,\n          data: sample.data\n        });\n        decoder.decode(chunk);\n      }\n    };\n    fetch(src).then((res) => {\n      const reader = res.body.getReader();\n      let offset = 0;\n      function appendBuffers({ done, value }) {\n        if (done) {\n          mp4boxfile.flush();\n          return null;\n        }\n        const buf = value.buffer;\n        buf.fileStart = offset;\n        offset += buf.byteLength;\n        mp4boxfile.appendBuffer(buf);\n        return reader.read().then(appendBuffers);\n      }\n      return reader.read().then(appendBuffers);\n    });\n  } catch (e) {\n    reject(e);\n  }\n});\nconst videoDecoder = (src, emitFrame, debug) => {\n  if (typeof VideoDecoder === \"function\" && typeof EncodedVideoChunk === \"function\") {\n    if (debug)\n      console.info(\"WebCodecs is natively supported, using native version...\");\n    return decodeVideo(src, emitFrame, {\n      VideoDecoder,\n      EncodedVideoChunk,\n      debug\n    });\n  }\n  if (debug) console.info(\"WebCodecs is not available in this browser.\");\n  return Promise.resolve();\n};\nclass ScrollPlaybackVideoManager {\n  constructor(options) {\n    this.currentTime = 0;\n    this.targetTime = 0;\n    this.canvas = null;\n    this.context = null;\n    this.frames = [];\n    this.frameRate = 0;\n    this.transitioning = false;\n    this.debug = false;\n    this.frameThreshold = 0.1;\n    this.transitionSpeed = 10;\n    this.useWebCodecs = true;\n    this.resize = () => {\n      if (this.debug) console.info(\"ScrollVideo resizing...\");\n      if (this.canvas) {\n        this.setCoverStyle(this.canvas);\n      } else if (this.video) {\n        this.setCoverStyle(this.video);\n      }\n      this.paintCanvasFrame(Math.floor(this.currentTime * this.frameRate));\n    };\n    this.decodeVideo = () => {\n      if (!this.video) return;\n      if (this.useWebCodecs && this.video.src) {\n        videoDecoder(\n          this.video.src,\n          (frame) => {\n            this.frames.push(frame);\n          },\n          this.debug\n        ).then(() => {\n          if (!this.video || !this.container) return;\n          if (this.frames.length === 0) {\n            if (this.debug) console.error(\"No frames were received from webCodecs\");\n            return;\n          }\n          this.frameRate = this.frames.length / this.video.duration;\n          if (this.debug) console.info(\"Received\", this.frames.length, \"frames\");\n          this.canvas = document.createElement(\"canvas\");\n          this.context = this.canvas.getContext(\"2d\");\n          this.video.style.display = \"none\";\n          this.container.appendChild(this.canvas);\n          this.paintCanvasFrame(Math.floor(this.currentTime * this.frameRate));\n        }).catch(() => {\n          if (this.debug) console.error(\"Error encountered while decoding video\");\n          this.frames = [];\n          this.video.load();\n        });\n      }\n    };\n    this.resizeObserver = new ResizeObserver(() => {\n      this.resize();\n    });\n    const {\n      src,\n      videoContainer\n    } = options;\n    if (typeof document !== \"object\") {\n      console.error(\"ScrollVideo must be initiated in a DOM context\");\n      return;\n    }\n    if (!videoContainer) {\n      console.error(\"scrollVideoContainer must be a valid DOM object\");\n      return;\n    }\n    if (!src) {\n      console.error(\"Must provide valid video src to ScrollVideo\");\n      return;\n    }\n    this.container = typeof videoContainer === \"string\" ? document.getElementById(videoContainer) : videoContainer;\n    this.resizeObserver.observe(this.container);\n    this.video = document.createElement(\"video\");\n    this.video.src = src;\n    this.video.preload = \"auto\";\n    this.video.tabIndex = 0;\n    this.video.playsInline = true;\n    this.video.muted = true;\n    this.video.pause();\n    this.video.load();\n    this.container.appendChild(this.video);\n    const browserEngine = new UAParser().getEngine();\n    this.isSafari = browserEngine.name === \"WebKit\";\n    if (this.debug && this.isSafari) console.info(\"Safari browser detected\");\n    this.video.addEventListener(\"loadedmetadata\", () => this.setTargetTimePercent(0, true), { once: true });\n    this.video.addEventListener(\"progress\", this.resize);\n    this.decodeVideo();\n  }\n  setCoverStyle(el) {\n    if (el && this.container) {\n      el.style.position = \"absolute\";\n      el.style.top = \"50%\";\n      el.style.left = \"50%\";\n      el.style.transform = \"translate(-50%, -50%)\";\n      const { width: containerWidth, height: containerHeight } = this.container.getBoundingClientRect();\n      const width = el.videoWidth || el.width;\n      const height = el.videoHeight || el.height;\n      if (containerWidth / containerHeight > width / height) {\n        el.style.width = \"100%\";\n        el.style.height = \"auto\";\n      } else {\n        el.style.height = \"100%\";\n        el.style.width = \"auto\";\n      }\n    }\n  }\n  paintCanvasFrame(frameNum) {\n    if (this.canvas) {\n      const frameIdx = Math.min(frameNum, this.frames.length - 1);\n      const currFrame = this.frames[frameIdx];\n      if (currFrame && this.container) {\n        if (this.debug) console.info(\"Painting frame\", frameIdx);\n        this.canvas.width = currFrame.width;\n        this.canvas.height = currFrame.height;\n        const { width, height } = this.container.getBoundingClientRect();\n        this.resetCanvasDimensions(width, height, currFrame.width, currFrame.height);\n        this.context.drawImage(currFrame, 0, 0, currFrame.width, currFrame.height);\n      }\n    }\n  }\n  transitionToTargetTime(jump) {\n    if (!this.video) return;\n    if (this.debug) console.info(\"Transitioning targetTime:\", this.targetTime, \"currentTime:\", this.currentTime);\n    if (isNaN(this.targetTime) || Math.abs(this.currentTime - this.targetTime) < this.frameThreshold) {\n      this.video.pause();\n      this.transitioning = false;\n      return;\n    }\n    if (this.targetTime > this.video.duration) {\n      this.targetTime = this.video.duration;\n    }\n    if (this.targetTime < 0) {\n      this.targetTime = 0;\n    }\n    const transitionForward = this.targetTime - this.currentTime;\n    if (this.canvas) {\n      this.currentTime += transitionForward / (256 / this.transitionSpeed);\n      if (jump) {\n        this.currentTime = this.targetTime;\n      }\n      this.paintCanvasFrame(Math.floor(this.currentTime * this.frameRate));\n    } else if (jump || this.isSafari || this.targetTime - this.currentTime < 0) {\n      this.video.pause();\n      this.currentTime += transitionForward / (64 / this.transitionSpeed);\n      if (jump) {\n        this.currentTime = this.targetTime;\n      }\n      this.video.currentTime = this.currentTime;\n    } else {\n      const playbackRate = Math.max(Math.min(transitionForward * 4, this.transitionSpeed, 16), 1);\n      if (this.debug) console.info(\"ScrollVideo playbackRate:\", playbackRate);\n      if (!isNaN(playbackRate)) {\n        this.video.playbackRate = playbackRate;\n        this.video.play();\n      }\n      this.currentTime = this.video.currentTime;\n    }\n    if (typeof requestAnimationFrame === \"function\") {\n      requestAnimationFrame(() => this.transitionToTargetTime(jump));\n    }\n  }\n  resetCanvasDimensions(w, h, frameW, frameH) {\n    if (!this.canvas) return;\n    if (w / h > frameW / frameH) {\n      this.canvas.style.width = \"100%\";\n      this.canvas.style.height = \"auto\";\n    } else {\n      this.canvas.style.height = \"100%\";\n      this.canvas.style.width = \"auto\";\n    }\n  }\n  setTargetTimePercent(setPercentage, jump = true) {\n    if (!this.video) return;\n    this.targetTime = Math.max(Math.min(setPercentage, 1), 0) * (this.frames.length && this.frameRate ? this.frames.length / this.frameRate : this.video.duration);\n    if (!jump && Math.abs(this.currentTime - this.targetTime) < this.frameThreshold) return;\n    if (!jump && this.transitioning) return;\n    if (!this.canvas && !this.video.paused) this.video.play();\n    this.transitioning = true;\n    this.transitionToTargetTime(jump);\n  }\n  destroy() {\n    var _a;\n    this.resizeObserver.unobserve(this.container);\n    (_a = this.video) == null ? void 0 : _a.removeEventListener(\"progress\", this.resize);\n    if (this.debug) console.info(\"Destroying ScrollVideo\");\n    if (this.container) this.container.innerHTML = \"\";\n  }\n}\nconst wrapper = \"ControlSlider-module__wrapper___sHEkd\";\nconst sliderItem = \"ControlSlider-module__sliderItem___QQSkR\";\nconst sliderImage = \"ControlSlider-module__sliderImage___9hRl-\";\nconst arrow = \"ControlSlider-module__arrow___05ghY\";\nconst arrowVertical = \"ControlSlider-module__arrowVertical___tBfVN\";\nconst nextArrow = \"ControlSlider-module__nextArrow___-30Yc\";\nconst arrowInner = \"ControlSlider-module__arrowInner___aEra3\";\nconst arrowIcon = \"ControlSlider-module__arrowIcon___S4ztF\";\nconst arrowImg = \"ControlSlider-module__arrowImg___2dwJW\";\nconst mirror = \"ControlSlider-module__mirror___brd6U\";\nconst pagination = \"ControlSlider-module__pagination___bicLF\";\nconst paginationInner = \"ControlSlider-module__paginationInner___bT-P-\";\nconst paginationVertical = \"ControlSlider-module__paginationVertical___zYqKw\";\nconst paginationItem = \"ControlSlider-module__paginationItem___nTRbk\";\nconst dot = \"ControlSlider-module__dot___p1Qun\";\nconst activeDot = \"ControlSlider-module__activeDot___LHFaj\";\nconst paginationInsideBottom = \"ControlSlider-module__paginationInsideBottom___R3FWn\";\nconst paginationInsideTop = \"ControlSlider-module__paginationInsideTop___V-qb-\";\nconst paginationOutsideBottom = \"ControlSlider-module__paginationOutsideBottom___14w8D\";\nconst paginationOutsideTop = \"ControlSlider-module__paginationOutsideTop___SCLqB\";\nconst paginationInsideLeft = \"ControlSlider-module__paginationInsideLeft___yOBRZ\";\nconst paginationInsideRight = \"ControlSlider-module__paginationInsideRight___Rtt3o\";\nconst paginationOutsideLeft = \"ControlSlider-module__paginationOutsideLeft___lahaw\";\nconst paginationOutsideRight = \"ControlSlider-module__paginationOutsideRight___EtuQa\";\nconst imgWrapper = \"ControlSlider-module__imgWrapper___UjEgB\";\nconst captionBlock = \"ControlSlider-module__captionBlock___dJ6-j\";\nconst captionTextWrapper = \"ControlSlider-module__captionTextWrapper___HFlpf\";\nconst captionText = \"ControlSlider-module__captionText___uGBVc\";\nconst active = \"ControlSlider-module__active___WZK4G\";\nconst withPointerEvents = \"ControlSlider-module__withPointerEvents___t-18M\";\nconst topLeftAlignment = \"ControlSlider-module__topLeftAlignment___zjnGM\";\nconst topCenterAlignment = \"ControlSlider-module__topCenterAlignment___gD1xW\";\nconst topRightAlignment = \"ControlSlider-module__topRightAlignment___NMapS\";\nconst middleLeftAlignment = \"ControlSlider-module__middleLeftAlignment___OnUrY\";\nconst middleCenterAlignment = \"ControlSlider-module__middleCenterAlignment___Tdkl0\";\nconst middleRightAlignment = \"ControlSlider-module__middleRightAlignment___wEbfX\";\nconst bottomLeftAlignment = \"ControlSlider-module__bottomLeftAlignment___cTP2-\";\nconst bottomCenterAlignment = \"ControlSlider-module__bottomCenterAlignment___c54fB\";\nconst bottomRightAlignment = \"ControlSlider-module__bottomRightAlignment___kEwrz\";\nconst clickOverlay = \"ControlSlider-module__clickOverlay___DZA28\";\nconst contain = \"ControlSlider-module__contain___pLyq7\";\nconst cover = \"ControlSlider-module__cover___KdDat\";\nconst styles$2 = {\n  wrapper,\n  sliderItem,\n  sliderImage,\n  arrow,\n  arrowVertical,\n  nextArrow,\n  arrowInner,\n  arrowIcon,\n  arrowImg,\n  mirror,\n  pagination,\n  paginationInner,\n  paginationVertical,\n  paginationItem,\n  dot,\n  activeDot,\n  paginationInsideBottom,\n  paginationInsideTop,\n  paginationOutsideBottom,\n  paginationOutsideTop,\n  paginationInsideLeft,\n  paginationInsideRight,\n  paginationOutsideLeft,\n  paginationOutsideRight,\n  imgWrapper,\n  captionBlock,\n  captionTextWrapper,\n  captionText,\n  active,\n  withPointerEvents,\n  topLeftAlignment,\n  topCenterAlignment,\n  topRightAlignment,\n  middleLeftAlignment,\n  middleCenterAlignment,\n  middleRightAlignment,\n  bottomLeftAlignment,\n  bottomCenterAlignment,\n  bottomRightAlignment,\n  clickOverlay,\n  contain,\n  cover\n};\nconst link = \"RichTextRenderer-module__link___BWeZ2\";\nconst styles$1 = {\n  link\n};\nconst RichTextRenderer = ({ content }) => {\n  const getChildren = (children) => {\n    return children.map((child, i) => {\n      if (child.type === \"link\") {\n        return /* @__PURE__ */ jsxRuntime.jsx(\"a\", { className: styles$1.link, href: child.value, target: child.target, children: getChildren(child.children) }, i);\n      }\n      return /* @__PURE__ */ jsxRuntime.jsx(\"span\", { style: getLeafCss(child), children: child.text }, i);\n    });\n  };\n  return /* @__PURE__ */ jsxRuntime.jsx(jsxRuntime.Fragment, { children: content.map((block, i) => {\n    const children = block.children;\n    return /* @__PURE__ */ jsxRuntime.jsx(\"div\", { children: getChildren(children) }, i);\n  }) });\n};\nfunction getLeafCss(leaf) {\n  return {\n    ...leaf.fontWeight && { fontWeight: leaf.fontWeight },\n    ...leaf.fontStyle && { fontStyle: leaf.fontStyle },\n    ...leaf.textDecoration && { textDecoration: leaf.textDecoration },\n    ...leaf.textTransform && { textTransform: leaf.textTransform },\n    ...leaf.fontVariant && { fontVariant: leaf.fontVariant },\n    ...leaf.verticalAlign && {\n      verticalAlign: leaf.verticalAlign,\n      lineHeight: \"0px\"\n    }\n  };\n}\nfunction scalingValue(value, isEditor = false) {\n  return isEditor ? `calc(var(--cntrl-article-width) * ${value})` : `${value * 100}vw`;\n}\nconst svg = \"SvgImage-module__svg___q3xE-\";\nconst img = \"SvgImage-module__img___VsTm-\";\nconst styles = {\n  svg,\n  img\n};\nconst SvgImage = ({ url: url2, fill = \"#000000\", hoverFill = \"#CCCCCC\", className = \"\" }) => {\n  const [supportsMask, setSupportsMask] = react.useState(true);\n  react.useEffect(() => {\n    if (typeof window !== \"undefined\" && window.CSS) {\n      const supported = CSS.supports(\"mask-image\", 'url(\"\")') || CSS.supports(\"-webkit-mask-image\", 'url(\"\")');\n      setSupportsMask(supported);\n    }\n  }, []);\n  if (!url2.endsWith(\".svg\") || !supportsMask) {\n    return /* @__PURE__ */ jsxRuntime.jsx(\"img\", { src: url2, alt: \"\", className: cn(styles.img, className) });\n  }\n  return /* @__PURE__ */ jsxRuntime.jsx(\n    \"span\",\n    {\n      \"data-supports-mask\": supportsMask,\n      className: cn(styles.svg, className),\n      style: {\n        \"--svg\": `url(${url2})`,\n        \"--fill\": fill,\n        \"--hover-fill\": hoverFill\n      }\n    }\n  );\n};\nconst alignmentClassName = {\n  \"top-left\": styles$2.topLeftAlignment,\n  \"top-center\": styles$2.topCenterAlignment,\n  \"top-right\": styles$2.topRightAlignment,\n  \"middle-left\": styles$2.middleLeftAlignment,\n  \"middle-center\": styles$2.middleCenterAlignment,\n  \"middle-right\": styles$2.middleRightAlignment,\n  \"bottom-left\": styles$2.bottomLeftAlignment,\n  \"bottom-center\": styles$2.bottomCenterAlignment,\n  \"bottom-right\": styles$2.bottomRightAlignment\n};\nfunction ControlSlider({ settings, content, styles: sliderStyles, isEditor }) {\n  const [sliderRef, setSliderRef] = react.useState(null);\n  const { widthSettings, fontSettings, letterSpacing, textAlign, wordSpacing, fontSizeLineHeight, textAppearance, color } = sliderStyles.caption;\n  const [sliderDimensions, setSliderDimensions] = react.useState(void 0);\n  const [wrapperRef, setWrapperRef] = react.useState(null);\n  const [currentSlideIndex, setCurrentSlideIndex] = react.useState(0);\n  const [key, setKey] = react.useState(0);\n  const { direction, transition, controls, pagination: pagination2, caption, triggers } = settings;\n  const prevSliderTypeRef = react.useRef(transition.type);\n  const { x: controlsOffsetX, y: controlsOffsetY } = settings.controls.offset;\n  const handleArrowClick = (dir) => {\n    if (sliderRef) {\n      sliderRef.go(dir);\n    }\n  };\n  react.useEffect(() => {\n    if (!wrapperRef) return;\n    const observer = new ResizeObserver((entries) => {\n      if (!sliderRef) return;\n      const [wrapper2] = entries;\n      setSliderDimensions({\n        width: Math.round(wrapper2.contentRect.width),\n        height: Math.round(wrapper2.contentRect.height)\n      });\n    });\n    observer.observe(wrapperRef);\n    return () => observer.unobserve(wrapperRef);\n  }, [wrapperRef]);\n  react.useEffect(() => {\n    if (!sliderRef || prevSliderTypeRef.current === transition.type) return;\n    setKey((prev) => prev + 1);\n    prevSliderTypeRef.current = transition.type;\n  }, [transition.type]);\n  return /* @__PURE__ */ jsxRuntime.jsx(\"div\", { className: cn(styles$2.wrapper, { [styles$2.editor]: isEditor }), ref: setWrapperRef, children: /* @__PURE__ */ jsxRuntime.jsxs(\"div\", { className: styles$2.sliderInner, style: {\n    width: sliderDimensions ? sliderDimensions.width : \"100%\",\n    height: sliderDimensions ? sliderDimensions.height : \"100%\"\n  }, children: [\n    settings.caption.isActive && /* @__PURE__ */ jsxRuntime.jsx(\n      \"div\",\n      {\n        className: cn(styles$2.captionBlock),\n        children: /* @__PURE__ */ jsxRuntime.jsx(\n          \"div\",\n          {\n            className: styles$2.captionTextWrapper,\n            children: content.map((item, index) => /* @__PURE__ */ jsxRuntime.jsx(\n              \"div\",\n              {\n                className: cn(styles$2.captionText, alignmentClassName[caption.alignment], {\n                  [styles$2.withPointerEvents]: index === currentSlideIndex && isEditor,\n                  [styles$2.active]: index === currentSlideIndex\n                }),\n                style: {\n                  fontFamily: fontSettings.fontFamily,\n                  fontWeight: fontSettings.fontWeight,\n                  fontStyle: fontSettings.fontStyle,\n                  width: widthSettings.sizing === \"auto\" ? \"max-content\" : scalingValue(widthSettings.width, isEditor),\n                  letterSpacing: scalingValue(letterSpacing, isEditor),\n                  wordSpacing: scalingValue(wordSpacing, isEditor),\n                  textAlign,\n                  fontSize: scalingValue(fontSizeLineHeight.fontSize, isEditor),\n                  lineHeight: scalingValue(fontSizeLineHeight.lineHeight, isEditor),\n                  textTransform: textAppearance.textTransform ?? \"none\",\n                  textDecoration: textAppearance.textDecoration ?? \"none\",\n                  fontVariant: textAppearance.fontVariant ?? \"normal\",\n                  color,\n                  transitionDuration: transition.duration ? `${Math.round(parseInt(transition.duration) / 2)}ms` : \"500ms\"\n                },\n                children: /* @__PURE__ */ jsxRuntime.jsx(\n                  \"div\",\n                  {\n                    \"data-styles\": \"caption\",\n                    className: styles$2.captionTextInner,\n                    style: {\n                      \"--link-hover-color\": caption.hover,\n                      position: \"relative\",\n                      top: scalingValue(caption.offset.y, isEditor),\n                      left: scalingValue(caption.offset.x, isEditor)\n                    },\n                    children: /* @__PURE__ */ jsxRuntime.jsx(RichTextRenderer, { content: item.imageCaption })\n                  }\n                )\n              },\n              index\n            ))\n          }\n        )\n      }\n    ),\n    /* @__PURE__ */ jsxRuntime.jsx(\n      reactSplide.Splide,\n      {\n        onMove: (e) => {\n          setCurrentSlideIndex(e.index);\n        },\n        ref: setSliderRef,\n        options: {\n          arrows: false,\n          speed: transition.duration ? parseInt(transition.duration) : 500,\n          autoplay: isEditor ? false : triggers.autoPlay !== null,\n          ...triggers.autoPlay !== null && {\n            interval: parseInt(triggers.autoPlay) * 1e3\n          },\n          direction: direction === \"horiz\" || transition.type === \"fade in\" ? \"ltr\" : \"ttb\",\n          pagination: false,\n          drag: triggers.triggersList.drag,\n          perPage: 1,\n          width: sliderDimensions ? sliderDimensions.width : \"100%\",\n          height: sliderDimensions ? sliderDimensions.height : \"100%\",\n          type: transition.type === \"fade in\" ? \"fade\" : \"loop\",\n          rewind: true\n        },\n        children: content.map((item, index) => /* @__PURE__ */ jsxRuntime.jsx(reactSplide.SplideSlide, { children: /* @__PURE__ */ jsxRuntime.jsx(\n          \"div\",\n          {\n            className: styles$2.sliderItem,\n            children: /* @__PURE__ */ jsxRuntime.jsx(\n              \"div\",\n              {\n                className: styles$2.imgWrapper,\n                children: /* @__PURE__ */ jsxRuntime.jsx(\n                  \"img\",\n                  {\n                    className: cn(styles$2.sliderImage, {\n                      [styles$2.contain]: item.image.objectFit === \"contain\",\n                      [styles$2.cover]: item.image.objectFit === \"cover\"\n                    }),\n                    src: item.image.url,\n                    alt: item.image.name ?? \"\"\n                  }\n                )\n              }\n            )\n          }\n        ) }, index))\n      },\n      key\n    ),\n    controls.isActive && /* @__PURE__ */ jsxRuntime.jsxs(jsxRuntime.Fragment, { children: [\n      /* @__PURE__ */ jsxRuntime.jsx(\n        \"div\",\n        {\n          className: cn(styles$2.arrow, {\n            [styles$2.arrowVertical]: direction === \"vert\"\n          }),\n          style: {\n            color: controls.color,\n            [\"--arrow-hover-color\"]: controls.hover\n          },\n          children: /* @__PURE__ */ jsxRuntime.jsxs(\n            \"button\",\n            {\n              onClick: () => {\n                handleArrowClick(\"-1\");\n              },\n              className: styles$2.arrowInner,\n              style: {\n                transform: `translate(${scalingValue(controlsOffsetX, isEditor)}, ${scalingValue(controlsOffsetY * (direction === \"horiz\" ? 1 : -1), isEditor)}) scale(${settings.controls.scale / 100}) rotate(${direction === \"horiz\" ? \"0deg\" : \"90deg\"})`\n              },\n              children: [\n                controls.arrowsImgUrl && /* @__PURE__ */ jsxRuntime.jsx(\n                  SvgImage,\n                  {\n                    url: controls.arrowsImgUrl,\n                    fill: controls.color,\n                    hoverFill: controls.hover,\n                    className: cn(styles$2.arrowImg, styles$2.mirror)\n                  }\n                ),\n                !controls.arrowsImgUrl && /* @__PURE__ */ jsxRuntime.jsx(ArrowIcon, { color: controls.color, className: cn(styles$2.arrowIcon, styles$2.arrowImg, styles$2.mirror) })\n              ]\n            }\n          )\n        }\n      ),\n      /* @__PURE__ */ jsxRuntime.jsx(\n        \"div\",\n        {\n          className: cn(styles$2.arrow, styles$2.nextArrow, {\n            [styles$2.arrowVertical]: direction === \"vert\"\n          }),\n          style: {\n            color: controls.color,\n            [\"--arrow-hover-color\"]: controls.hover\n          },\n          children: /* @__PURE__ */ jsxRuntime.jsxs(\n            \"button\",\n            {\n              className: styles$2.arrowInner,\n              onClick: () => handleArrowClick(\"+1\"),\n              style: {\n                transform: `translate(${scalingValue(controlsOffsetX * (direction === \"horiz\" ? -1 : 1), isEditor)}, ${scalingValue(controlsOffsetY, isEditor)}) scale(${settings.controls.scale / 100}) rotate(${direction === \"horiz\" ? \"0deg\" : \"90deg\"})`\n              },\n              children: [\n                controls.arrowsImgUrl && /* @__PURE__ */ jsxRuntime.jsx(\n                  SvgImage,\n                  {\n                    url: controls.arrowsImgUrl,\n                    fill: controls.color,\n                    hoverFill: controls.hover,\n                    className: styles$2.arrowImg\n                  }\n                ),\n                !controls.arrowsImgUrl && /* @__PURE__ */ jsxRuntime.jsx(ArrowIcon, { color: controls.color, className: cn(styles$2.arrowIcon, styles$2.arrowImg) })\n              ]\n            }\n          )\n        }\n      )\n    ] }),\n    triggers.triggersList.click && /* @__PURE__ */ jsxRuntime.jsx(\n      \"div\",\n      {\n        className: styles$2.clickOverlay,\n        onClick: () => {\n          if (sliderRef) {\n            sliderRef.go(\"+1\");\n          }\n        }\n      }\n    ),\n    pagination2.isActive && /* @__PURE__ */ jsxRuntime.jsx(\n      \"div\",\n      {\n        className: cn(styles$2.pagination, {\n          [styles$2.paginationInsideBottom]: pagination2.position === \"inside-1\" && direction === \"horiz\",\n          [styles$2.paginationInsideTop]: pagination2.position === \"inside-2\" && direction === \"horiz\",\n          [styles$2.paginationOutsideBottom]: pagination2.position === \"outside-1\" && direction === \"horiz\",\n          [styles$2.paginationOutsideTop]: pagination2.position === \"outside-2\" && direction === \"horiz\",\n          [styles$2.paginationInsideLeft]: pagination2.position === \"inside-1\" && direction === \"vert\",\n          [styles$2.paginationInsideRight]: pagination2.position === \"inside-2\" && direction === \"vert\",\n          [styles$2.paginationOutsideLeft]: pagination2.position === \"outside-1\" && direction === \"vert\",\n          [styles$2.paginationOutsideRight]: pagination2.position === \"outside-2\" && direction === \"vert\",\n          [styles$2.paginationVertical]: direction === \"vert\"\n        }),\n        children: /* @__PURE__ */ jsxRuntime.jsx(\n          \"div\",\n          {\n            className: styles$2.paginationInner,\n            style: {\n              backgroundColor: pagination2.colors[2],\n              transform: `scale(${pagination2.scale / 100}) translate(${scalingValue(pagination2.offset.x, isEditor)}, ${scalingValue(pagination2.offset.y, isEditor)}) rotate(${direction === \"horiz\" ? \"0deg\" : \"90deg\"})`\n            },\n            children: content.map((_, index) => /* @__PURE__ */ jsxRuntime.jsx(\n              \"button\",\n              {\n                onClick: () => {\n                  if (sliderRef) {\n                    sliderRef.go(index);\n                  }\n                },\n                className: cn(styles$2.paginationItem),\n                children: /* @__PURE__ */ jsxRuntime.jsx(\n                  \"div\",\n                  {\n                    className: cn(styles$2.dot, {\n                      [styles$2.activeDot]: index === currentSlideIndex\n                    }),\n                    style: {\n                      backgroundColor: index === currentSlideIndex ? pagination2.colors[0] : pagination2.colors[1],\n                      [\"--pagination-hover-color\"]: pagination2.hover\n                    }\n                  }\n                )\n              },\n              index\n            ))\n          }\n        )\n      }\n    )\n  ] }) });\n}\nfunction ArrowIcon({ color, className }) {\n  return /* @__PURE__ */ jsxRuntime.jsx(\"svg\", { viewBox: \"0 0 10 18\", className, children: /* @__PURE__ */ jsxRuntime.jsx(\"g\", { id: \"Symbols\", stroke: \"none\", strokeWidth: \"1\", fillRule: \"evenodd\", children: /* @__PURE__ */ jsxRuntime.jsx(\"path\", { d: \"M-3.70710678,4.29289322 C-3.34662282,3.93240926 -2.77939176,3.90467972 -2.38710056,4.20970461 L-2.29289322,4.29289322 L5,11.585 L12.2928932,4.29289322 C12.6533772,3.93240926 13.2206082,3.90467972 13.6128994,4.20970461 L13.7071068,4.29289322 C14.0675907,4.65337718 14.0953203,5.22060824 13.7902954,5.61289944 L13.7071068,5.70710678 L5.70710678,13.7071068 C5.34662282,14.0675907 4.77939176,14.0953203 4.38710056,13.7902954 L4.29289322,13.7071068 L-3.70710678,5.70710678 C-4.09763107,5.31658249 -4.09763107,4.68341751 -3.70710678,4.29289322 Z\", id: \"Shape-Copy\", fill: color, transform: \"translate(5, 9) rotate(-90) translate(-5, -9)\" }) }) });\n}\nconst ControlSliderComponent = {\n  element: ControlSlider,\n  id: \"control-slider\",\n  name: \"Slider\",\n  preview: {\n    type: \"video\",\n    url: \"https://cdn.cntrl.site/projects/01GJ2SMPPCQ7JSNGVXZ2DHWXWF/articles-assets/01JTFXX5M899RG2JA2GTJG1WNX.mp4\"\n  },\n  defaultSize: {\n    width: 400,\n    height: 400\n  },\n  schema: {\n    type: \"object\",\n    properties: {\n      settings: {\n        layoutBased: true,\n        type: \"object\",\n        properties: {\n          triggers: {\n            name: \"triggers\",\n            icon: \"target\",\n            tooltip: \"Triggers\",\n            type: \"object\",\n            properties: {\n              triggersList: {\n                type: \"object\",\n                display: {\n                  type: \"toggle-ratio-group\"\n                },\n                properties: {\n                  click: {\n                    type: \"boolean\"\n                  },\n                  drag: {\n                    type: \"boolean\"\n                  }\n                }\n              },\n              autoPlay: {\n                type: [\"string\", \"null\"],\n                label: \"Auto\",\n                display: {\n                  type: \"step-selector\"\n                },\n                enum: [null, \"1s\", \"2s\", \"3s\", \"4s\", \"5s\"]\n              }\n            }\n          },\n          direction: {\n            name: \"direction\",\n            icon: \"horizontal-resize\",\n            tooltip: \"Direction\",\n            type: \"string\",\n            display: {\n              type: \"ratio-group\"\n            },\n            enum: [\"horiz\", \"vert\"]\n          },\n          transition: {\n            name: \"transit\",\n            icon: \"transition\",\n            tooltip: \"Transition\",\n            type: \"object\",\n            properties: {\n              type: {\n                type: \"string\",\n                display: {\n                  type: \"ratio-group\"\n                },\n                enum: [\"slide\", \"fade in\"]\n              },\n              duration: {\n                type: \"string\",\n                label: \"hourglass-icon\",\n                display: {\n                  type: \"step-selector\"\n                },\n                enum: [\"100ms\", \"250ms\", \"500ms\", \"1000ms\"]\n              }\n            }\n          },\n          controls: {\n            name: \"controls\",\n            icon: \"controls\",\n            tooltip: \"Controls\",\n            type: \"object\",\n            properties: {\n              isActive: {\n                type: \"boolean\",\n                display: {\n                  type: \"setting-toggle\"\n                }\n              },\n              arrowsImgUrl: {\n                type: [\"string\", \"null\"],\n                display: {\n                  type: \"settings-image-input\"\n                }\n              },\n              offset: {\n                type: \"object\",\n                display: {\n                  type: \"offset-controls\"\n                },\n                properties: {\n                  x: {\n                    type: \"number\"\n                  },\n                  y: {\n                    type: \"number\"\n                  }\n                }\n              },\n              scale: {\n                type: \"number\",\n                name: \"scale\",\n                min: 50,\n                max: 600,\n                display: {\n                  type: \"range-control\"\n                }\n              },\n              color: {\n                name: \"color\",\n                type: \"string\",\n                display: {\n                  type: \"settings-color-picker\",\n                  format: \"single\"\n                }\n              },\n              hover: {\n                name: \"hover\",\n                type: \"string\",\n                display: {\n                  type: \"settings-color-picker\",\n                  format: \"single\"\n                }\n              }\n            }\n          },\n          pagination: {\n            name: \"nav\",\n            icon: \"pagination\",\n            tooltip: \"Navigation\",\n            type: \"object\",\n            properties: {\n              isActive: {\n                type: \"boolean\",\n                display: {\n                  type: \"setting-toggle\"\n                }\n              },\n              position: {\n                name: \"nav position\",\n                display: {\n                  type: \"socket\",\n                  direction: \"horizontal\"\n                },\n                type: \"string\",\n                enum: [\"outside-1\", \"outside-2\", \"inside-1\", \"inside-2\"]\n              },\n              offset: {\n                type: \"object\",\n                display: {\n                  type: \"offset-controls\"\n                },\n                properties: {\n                  x: {\n                    type: \"number\"\n                  },\n                  y: {\n                    type: \"number\"\n                  }\n                }\n              },\n              scale: {\n                type: \"number\",\n                name: \"scale\",\n                min: 10,\n                max: 400,\n                display: {\n                  type: \"range-control\"\n                }\n              },\n              colors: {\n                display: {\n                  type: \"settings-color-picker\",\n                  format: \"multiple\"\n                },\n                name: \"color\",\n                type: \"array\",\n                items: {\n                  type: \"string\"\n                }\n              },\n              hover: {\n                name: \"hover\",\n                type: \"string\",\n                display: {\n                  type: \"settings-color-picker\",\n                  format: \"single\"\n                }\n              }\n            }\n          },\n          caption: {\n            name: \"Caption\",\n            icon: \"text-icon\",\n            tooltip: \"Caption\",\n            type: \"object\",\n            properties: {\n              isActive: {\n                type: \"boolean\",\n                display: {\n                  type: \"setting-toggle\"\n                }\n              },\n              alignment: {\n                name: \"Alignment\",\n                type: \"string\",\n                display: {\n                  type: \"align-grid\"\n                },\n                enum: [\"top-left\", \"top-center\", \"top-right\", \"middle-left\", \"middle-center\", \"middle-right\", \"bottom-left\", \"bottom-center\", \"bottom-right\"]\n              },\n              offset: {\n                type: \"object\",\n                display: {\n                  type: \"offset-controls\"\n                },\n                properties: {\n                  x: {\n                    type: \"number\"\n                  },\n                  y: {\n                    type: \"number\"\n                  }\n                }\n              },\n              hover: {\n                name: \"hover\",\n                type: \"string\",\n                display: {\n                  type: \"settings-color-picker\",\n                  format: \"single\"\n                }\n              }\n            }\n          }\n        },\n        default: {\n          triggers: {\n            triggersList: {\n              click: false,\n              drag: true\n            },\n            autoPlay: null\n          },\n          controls: {\n            isActive: true,\n            arrowsImgUrl: null,\n            offset: {\n              x: 0,\n              y: 0\n            },\n            scale: 100,\n            color: \"#000000\",\n            hover: \"#cccccc\"\n          },\n          transition: {\n            type: \"slide\",\n            duration: \"500ms\"\n          },\n          pagination: {\n            isActive: true,\n            scale: 50,\n            position: \"outside-1\",\n            offset: {\n              x: 0,\n              y: 0\n            },\n            colors: [\"#cccccc\", \"#cccccc\", \"#000000\"],\n            hover: \"#cccccc\"\n          },\n          direction: \"horiz\",\n          caption: {\n            offset: {\n              x: 0,\n              y: 0\n            },\n            isActive: true,\n            alignment: \"middle-center\",\n            hover: \"#cccccc\"\n          }\n        },\n        displayRules: [\n          {\n            if: {\n              name: \"direction\",\n              value: \"vert\"\n            },\n            then: {\n              name: \"properties.pagination.properties.position.display.direction\",\n              value: \"vertical\"\n            }\n          }\n        ]\n      },\n      content: {\n        layoutBased: false,\n        type: \"array\",\n        items: {\n          type: \"object\",\n          properties: {\n            image: {\n              type: \"object\",\n              display: {\n                type: \"media-input\"\n              },\n              properties: {\n                url: {\n                  type: \"string\"\n                },\n                name: {\n                  type: \"string\"\n                },\n                objectFit: {\n                  type: \"string\",\n                  enum: [\"cover\", \"contain\"]\n                }\n              },\n              required: [\"url\", \"name\"]\n            },\n            imageCaption: {\n              display: {\n                type: \"rich-text\",\n                placeholder: \"Add Caption...\"\n              }\n            },\n            link: {\n              type: \"object\",\n              display: {\n                type: \"text-input\",\n                placeholder: \"Add Caption...\"\n              },\n              properties: {\n                text: {\n                  type: \"string\"\n                }\n              }\n            }\n          },\n          required: [\"image\"]\n        },\n        default: [\n          {\n            image: {\n              objectFit: \"cover\",\n              url: \"https://cdn.cntrl.site/projects/01GJ2SMPPCQ7JSNGVXZ2DHWXWF/articles-assets/01JRZ15T247392621FNTTRCW9D.jpeg\",\n              name: \"Slider-1.jpeg\"\n            },\n            imageCaption: [\n              {\n                type: \"paragraph\",\n                children: [{ text: \"\" }]\n              }\n            ]\n          },\n          {\n            image: {\n              objectFit: \"cover\",\n              url: \"https://cdn.cntrl.site/projects/01GJ2SMPPCQ7JSNGVXZ2DHWXWF/articles-assets/01JRZ17S8TS9T62P7NKTNNEB64.jpeg\",\n              name: \"Slider-2.jpeg\"\n            },\n            imageCaption: [\n              {\n                type: \"paragraph\",\n                children: [{ text: \"\" }]\n              }\n            ]\n          },\n          {\n            image: {\n              objectFit: \"cover\",\n              url: \"https://cdn.cntrl.site/projects/01GJ2SMPPCQ7JSNGVXZ2DHWXWF/articles-assets/01JRZ197S89RNT6RA7ZJSX3Z38.jpeg\",\n              name: \"Slider-3.jpeg\"\n            },\n            imageCaption: [\n              {\n                type: \"paragraph\",\n                children: [{ text: \"\" }]\n              }\n            ]\n          }\n        ]\n      },\n      styles: {\n        layoutBased: true,\n        type: \"object\",\n        properties: {\n          caption: {\n            dataName: \"caption\",\n            type: \"object\",\n            properties: {\n              fontSettings: {\n                type: \"object\",\n                display: {\n                  type: \"font-settings\"\n                },\n                properties: {\n                  fontFamily: {\n                    type: \"string\"\n                  },\n                  fontWeight: {\n                    type: \"number\"\n                  },\n                  fontStyle: {\n                    type: \"string\"\n                  }\n                }\n              },\n              widthSettings: {\n                display: {\n                  type: \"text-width-control\"\n                },\n                type: \"object\",\n                properties: {\n                  width: {\n                    type: \"number\"\n                  },\n                  sizing: {\n                    type: \"string\",\n                    enum: [\"auto\", \"manual\"]\n                  }\n                }\n              },\n              fontSizeLineHeight: {\n                type: \"object\",\n                display: {\n                  type: \"font-size-line-height\"\n                },\n                properties: {\n                  fontSize: {\n                    type: \"number\"\n                  },\n                  lineHeight: {\n                    type: \"number\"\n                  }\n                }\n              },\n              letterSpacing: {\n                display: {\n                  type: \"letter-spacing-input\"\n                },\n                type: \"number\"\n              },\n              wordSpacing: {\n                display: {\n                  type: \"word-spacing-input\"\n                },\n                type: \"number\"\n              },\n              textAlign: {\n                display: {\n                  type: \"text-align-control\"\n                },\n                type: \"string\",\n                enum: [\"left\", \"center\", \"right\", \"justify\"]\n              },\n              textAppearance: {\n                display: {\n                  type: \"text-appearance\"\n                },\n                properties: {\n                  textTransform: {\n                    type: \"string\",\n                    enum: [\"none\", \"uppercase\", \"lowercase\", \"capitalize\"]\n                  },\n                  textDecoration: {\n                    type: \"string\",\n                    enum: [\"none\", \"underline\"]\n                  },\n                  fontVariant: {\n                    type: \"string\",\n                    enum: [\"normal\", \"small-caps\"]\n                  }\n                }\n              },\n              color: {\n                display: {\n                  type: \"style-panel-color-picker\"\n                },\n                type: \"string\"\n              }\n            }\n          }\n        },\n        default: {\n          caption: {\n            widthSettings: {\n              width: 0.13,\n              sizing: \"auto\"\n            },\n            fontSettings: {\n              fontFamily: \"Arial\",\n              fontWeight: 400,\n              fontStyle: \"normal\"\n            },\n            fontSizeLineHeight: {\n              fontSize: 0.02,\n              lineHeight: 0.02\n            },\n            letterSpacing: 0,\n            wordSpacing: 0,\n            textAlign: \"left\",\n            textAppearance: {\n              textTransform: \"none\",\n              textDecoration: \"none\",\n              fontVariant: \"normal\"\n            },\n            color: \"#000000\"\n          }\n        }\n      }\n    },\n    required: [\"settings\", \"content\", \"styles\"]\n  }\n};\nconst components = [\n  ControlSliderComponent\n];\nexports.AnchorSide = AnchorSide;\nexports.AreaAnchor = AreaAnchor;\nexports.ArticleItemType = ArticleItemType;\nexports.CntrlClient = Client;\nexports.DimensionMode = DimensionMode;\nexports.FontFaceGenerator = FontFaceGenerator;\nexports.KeyframeType = KeyframeType;\nexports.PositionType = PositionType;\nexports.ScrollPlaybackVideoManager = ScrollPlaybackVideoManager;\nexports.SectionHeightMode = SectionHeightMode;\nexports.TextAlign = TextAlign;\nexports.TextDecoration = TextDecoration;\nexports.TextTransform = TextTransform;\nexports.VerticalAlign = VerticalAlign;\nexports.components = components;\nexports.getLayoutMediaQuery = getLayoutMediaQuery;\nexports.getLayoutStyles = getLayoutStyles;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixxREFBcUQsaUJBQWlCO0FBQ3RFLGdCQUFnQixtQkFBTyxDQUFDLGlGQUFrQjtBQUMxQyxZQUFZLG1CQUFPLENBQUMsa0VBQUs7QUFDekIsWUFBWSxtQkFBTyxDQUFDLHlDQUFLO0FBQ3pCLGlCQUFpQixtQkFBTyxDQUFDLGtFQUFjO0FBQ3ZDLGVBQWUsbUJBQU8sQ0FBQyx3REFBUTtBQUMvQixtQkFBbUIsbUJBQU8sQ0FBQyw4REFBbUI7QUFDOUMsY0FBYyxtQkFBTyxDQUFDLDRDQUFPO0FBQzdCLG9CQUFvQixtQkFBTyxDQUFDLGlHQUF3QjtBQUNwRCxXQUFXLG1CQUFPLENBQUMsc0RBQVk7QUFDL0I7QUFDQSxrQ0FBa0Msd0JBQXdCLG1CQUFtQjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx5QkFBeUI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGlCQUFpQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxxQkFBcUI7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMscUJBQXFCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxzQkFBc0I7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsa0JBQWtCO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvQkFBb0I7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsa0JBQWtCO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxxQkFBcUI7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHVCQUF1QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHFCQUFxQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG9CQUFvQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Es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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEZBQThGLFlBQVk7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxpREFBaUQ7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnQkFBZ0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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Q0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLGtCQUFrQjtBQUNsQix1QkFBdUI7QUFDdkIsbUJBQW1CO0FBQ25CLHFCQUFxQjtBQUNyQix5QkFBeUI7QUFDekIsb0JBQW9CO0FBQ3BCLG9CQUFvQjtBQUNwQixrQ0FBa0M7QUFDbEMseUJBQXlCO0FBQ3pCLGlCQUFpQjtBQUNqQixzQkFBc0I7QUFDdEIscUJBQXFCO0FBQ3JCLHFCQUFxQjtBQUNyQixrQkFBa0I7QUFDbEIsMkJBQTJCO0FBQzNCLHVCQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrL2Rpc3QvaW5kZXguanM/ODI4ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6IFwiTW9kdWxlXCIgfSk7XG5jb25zdCBmZXRjaCQxID0gcmVxdWlyZShcImlzb21vcnBoaWMtZmV0Y2hcIik7XG5jb25zdCB1cmwgPSByZXF1aXJlKFwidXJsXCIpO1xuY29uc3Qgem9kID0gcmVxdWlyZShcInpvZFwiKTtcbmNvbnN0IFVBUGFyc2VyID0gcmVxdWlyZShcInVhLXBhcnNlci1qc1wiKTtcbmNvbnN0IE1QNEJveCA9IHJlcXVpcmUoXCJtcDRib3hcIik7XG5jb25zdCBqc3hSdW50aW1lID0gcmVxdWlyZShcInJlYWN0L2pzeC1ydW50aW1lXCIpO1xuY29uc3QgcmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7XG5jb25zdCByZWFjdFNwbGlkZSA9IHJlcXVpcmUoXCJAc3BsaWRlanMvcmVhY3Qtc3BsaWRlXCIpO1xuY29uc3QgY24gPSByZXF1aXJlKFwiY2xhc3NuYW1lc1wiKTtcbmZ1bmN0aW9uIF9pbnRlcm9wTmFtZXNwYWNlRGVmYXVsdChlKSB7XG4gIGNvbnN0IG4gPSBPYmplY3QuY3JlYXRlKG51bGwsIHsgW1N5bWJvbC50b1N0cmluZ1RhZ106IHsgdmFsdWU6IFwiTW9kdWxlXCIgfSB9KTtcbiAgaWYgKGUpIHtcbiAgICBmb3IgKGNvbnN0IGsgaW4gZSkge1xuICAgICAgaWYgKGsgIT09IFwiZGVmYXVsdFwiKSB7XG4gICAgICAgIGNvbnN0IGQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIGspO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgaywgZC5nZXQgPyBkIDoge1xuICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgZ2V0OiAoKSA9PiBlW2tdXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBuLmRlZmF1bHQgPSBlO1xuICByZXR1cm4gT2JqZWN0LmZyZWV6ZShuKTtcbn1cbmNvbnN0IE1QNEJveF9fbmFtZXNwYWNlID0gLyogQF9fUFVSRV9fICovIF9pbnRlcm9wTmFtZXNwYWNlRGVmYXVsdChNUDRCb3gpO1xudmFyIFNlY3Rpb25IZWlnaHRNb2RlID0gLyogQF9fUFVSRV9fICovICgoU2VjdGlvbkhlaWdodE1vZGUyKSA9PiB7XG4gIFNlY3Rpb25IZWlnaHRNb2RlMltcIkNvbnRyb2xVbml0c1wiXSA9IFwiY29udHJvbC11bml0c1wiO1xuICBTZWN0aW9uSGVpZ2h0TW9kZTJbXCJWaWV3cG9ydEhlaWdodFVuaXRzXCJdID0gXCJ2aWV3cG9ydC1oZWlnaHQtdW5pdHNcIjtcbiAgcmV0dXJuIFNlY3Rpb25IZWlnaHRNb2RlMjtcbn0pKFNlY3Rpb25IZWlnaHRNb2RlIHx8IHt9KTtcbmNvbnN0IFRyYW5zaXRpb25TY2hlbWEgPSB6b2Quei5vYmplY3Qoe1xuICB0aW1pbmc6IHpvZC56LnN0cmluZygpLFxuICBkdXJhdGlvbjogem9kLnoubnVtYmVyKCksXG4gIGRlbGF5OiB6b2Quei5udW1iZXIoKVxufSk7XG5jb25zdCBnZXRTdGF0ZVBhcmFtc1NjaGVtYSA9IChzY2hlbWEpID0+IHtcbiAgcmV0dXJuIHpvZC56Lm9iamVjdCh7XG4gICAgdmFsdWU6IHNjaGVtYSxcbiAgICBpbjogVHJhbnNpdGlvblNjaGVtYSxcbiAgICBvdXQ6IFRyYW5zaXRpb25TY2hlbWFcbiAgfSkub3B0aW9uYWwoKTtcbn07XG5jb25zdCBJdGVtU3RhdGVCYXNlU2NoZW1hID0gem9kLnoub2JqZWN0KHtcbiAgd2lkdGg6IGdldFN0YXRlUGFyYW1zU2NoZW1hKHpvZC56Lm51bWJlcigpKSxcbiAgaGVpZ2h0OiBnZXRTdGF0ZVBhcmFtc1NjaGVtYSh6b2Quei5udW1iZXIoKSksXG4gIGFuZ2xlOiBnZXRTdGF0ZVBhcmFtc1NjaGVtYSh6b2Quei5udW1iZXIoKSksXG4gIHRvcDogZ2V0U3RhdGVQYXJhbXNTY2hlbWEoem9kLnoubnVtYmVyKCkpLFxuICBsZWZ0OiBnZXRTdGF0ZVBhcmFtc1NjaGVtYSh6b2Quei5udW1iZXIoKSksXG4gIHNjYWxlOiBnZXRTdGF0ZVBhcmFtc1NjaGVtYSh6b2Quei5udW1iZXIoKSksXG4gIGJsdXI6IGdldFN0YXRlUGFyYW1zU2NoZW1hKHpvZC56Lm51bWJlcigpKVxufSk7XG5jb25zdCBNZWRpYVN0YXRlUGFyYW1zU2NoZW1hID0gem9kLnoub2JqZWN0KHtcbiAgb3BhY2l0eTogZ2V0U3RhdGVQYXJhbXNTY2hlbWEoem9kLnoubnVtYmVyKCkpLFxuICByYWRpdXM6IGdldFN0YXRlUGFyYW1zU2NoZW1hKHpvZC56Lm51bWJlcigpKSxcbiAgc3Ryb2tlV2lkdGg6IGdldFN0YXRlUGFyYW1zU2NoZW1hKHpvZC56Lm51bWJlcigpKSxcbiAgc3Ryb2tlQ29sb3I6IGdldFN0YXRlUGFyYW1zU2NoZW1hKHpvZC56LnN0cmluZygpKVxufSkubWVyZ2UoSXRlbVN0YXRlQmFzZVNjaGVtYSk7XG5jb25zdCBSZWN0YW5nbGVTdGF0ZVBhcmFtc1NjaGVtYSA9IHpvZC56Lm9iamVjdCh7XG4gIHN0cm9rZVdpZHRoOiBnZXRTdGF0ZVBhcmFtc1NjaGVtYSh6b2Quei5udW1iZXIoKSksXG4gIHJhZGl1czogZ2V0U3RhdGVQYXJhbXNTY2hlbWEoem9kLnoubnVtYmVyKCkpLFxuICBmaWxsQ29sb3I6IGdldFN0YXRlUGFyYW1zU2NoZW1hKHpvZC56LnN0cmluZygpKSxcbiAgc3Ryb2tlQ29sb3I6IGdldFN0YXRlUGFyYW1zU2NoZW1hKHpvZC56LnN0cmluZygpKSxcbiAgYmFja2Ryb3BCbHVyOiBnZXRTdGF0ZVBhcmFtc1NjaGVtYSh6b2Quei5udW1iZXIoKSlcbn0pLm1lcmdlKEl0ZW1TdGF0ZUJhc2VTY2hlbWEpO1xuY29uc3QgQ3VzdG9tSXRlbVN0YXRlUGFyYW1zU2NoZW1hID0gSXRlbVN0YXRlQmFzZVNjaGVtYTtcbmNvbnN0IEVtYmVkU3RhdGVQYXJhbXNTY2hlbWEgPSB6b2Quei5vYmplY3Qoe1xuICByYWRpdXM6IGdldFN0YXRlUGFyYW1zU2NoZW1hKHpvZC56Lm51bWJlcigpKSxcbiAgb3BhY2l0eTogZ2V0U3RhdGVQYXJhbXNTY2hlbWEoem9kLnoubnVtYmVyKCkubm9ubmVnYXRpdmUoKSlcbn0pLm1lcmdlKEl0ZW1TdGF0ZUJhc2VTY2hlbWEpO1xuY29uc3QgUmljaFRleHRTdGF0ZVBhcmFtc1NjaGVtYSA9IHpvZC56Lm9iamVjdCh7XG4gIGNvbG9yOiBnZXRTdGF0ZVBhcmFtc1NjaGVtYSh6b2Quei5zdHJpbmcoKSksXG4gIGxldHRlclNwYWNpbmc6IGdldFN0YXRlUGFyYW1zU2NoZW1hKHpvZC56Lm51bWJlcigpKSxcbiAgd29yZFNwYWNpbmc6IGdldFN0YXRlUGFyYW1zU2NoZW1hKHpvZC56Lm51bWJlcigpKVxufSkubWVyZ2UoSXRlbVN0YXRlQmFzZVNjaGVtYSk7XG5jb25zdCBHcm91cFN0YXRlUGFyYW1zU2NoZW1hID0gem9kLnoub2JqZWN0KHtcbiAgb3BhY2l0eTogZ2V0U3RhdGVQYXJhbXNTY2hlbWEoem9kLnoubnVtYmVyKCkubm9ubmVnYXRpdmUoKSksXG4gIGJsdXI6IGdldFN0YXRlUGFyYW1zU2NoZW1hKHpvZC56Lm51bWJlcigpLm5vbm5lZ2F0aXZlKCkpXG59KS5tZXJnZShJdGVtU3RhdGVCYXNlU2NoZW1hKTtcbmNvbnN0IENvbXBvdW5kU3RhdGVQYXJhbXNTY2hlbWEgPSB6b2Quei5vYmplY3Qoe1xuICBvcGFjaXR5OiBnZXRTdGF0ZVBhcmFtc1NjaGVtYSh6b2Quei5udW1iZXIoKS5ub25uZWdhdGl2ZSgpKVxufSkubWVyZ2UoSXRlbVN0YXRlQmFzZVNjaGVtYSk7XG5jb25zdCBDb2RlRW1iZWRTdGF0ZVBhcmFtc1NjaGVtYSA9IHpvZC56Lm9iamVjdCh7XG4gIG9wYWNpdHk6IGdldFN0YXRlUGFyYW1zU2NoZW1hKHpvZC56Lm51bWJlcigpLm5vbm5lZ2F0aXZlKCkpXG59KS5tZXJnZShJdGVtU3RhdGVCYXNlU2NoZW1hKTtcbmNvbnN0IENvbXBvbmVudFN0YXRlUGFyYW1zU2NoZW1hID0gem9kLnoub2JqZWN0KHtcbiAgb3BhY2l0eTogZ2V0U3RhdGVQYXJhbXNTY2hlbWEoem9kLnoubnVtYmVyKCkubm9ubmVnYXRpdmUoKSlcbn0pLm1lcmdlKEl0ZW1TdGF0ZUJhc2VTY2hlbWEpO1xuem9kLnoudW5pb24oW1xuICBFbWJlZFN0YXRlUGFyYW1zU2NoZW1hLFxuICBNZWRpYVN0YXRlUGFyYW1zU2NoZW1hLFxuICBSZWN0YW5nbGVTdGF0ZVBhcmFtc1NjaGVtYSxcbiAgUmljaFRleHRTdGF0ZVBhcmFtc1NjaGVtYSxcbiAgQ3VzdG9tSXRlbVN0YXRlUGFyYW1zU2NoZW1hLFxuICBHcm91cFN0YXRlUGFyYW1zU2NoZW1hLFxuICBDb21wb3VuZFN0YXRlUGFyYW1zU2NoZW1hLFxuICBDb2RlRW1iZWRTdGF0ZVBhcmFtc1NjaGVtYSxcbiAgQ29tcG9uZW50U3RhdGVQYXJhbXNTY2hlbWFcbl0pO1xudmFyIFRleHRBbGlnbiA9IC8qIEBfX1BVUkVfXyAqLyAoKFRleHRBbGlnbjIpID0+IHtcbiAgVGV4dEFsaWduMltcIkxlZnRcIl0gPSBcImxlZnRcIjtcbiAgVGV4dEFsaWduMltcIlJpZ2h0XCJdID0gXCJyaWdodFwiO1xuICBUZXh0QWxpZ24yW1wiQ2VudGVyXCJdID0gXCJjZW50ZXJcIjtcbiAgVGV4dEFsaWduMltcIkp1c3RpZnlcIl0gPSBcImp1c3RpZnlcIjtcbiAgcmV0dXJuIFRleHRBbGlnbjI7XG59KShUZXh0QWxpZ24gfHwge30pO1xudmFyIFRleHRUcmFuc2Zvcm0gPSAvKiBAX19QVVJFX18gKi8gKChUZXh0VHJhbnNmb3JtMikgPT4ge1xuICBUZXh0VHJhbnNmb3JtMltcIk5vbmVcIl0gPSBcIm5vbmVcIjtcbiAgVGV4dFRyYW5zZm9ybTJbXCJVcHBlcmNhc2VcIl0gPSBcInVwcGVyY2FzZVwiO1xuICBUZXh0VHJhbnNmb3JtMltcIkxvd2VyY2FzZVwiXSA9IFwibG93ZXJjYXNlXCI7XG4gIHJldHVybiBUZXh0VHJhbnNmb3JtMjtcbn0pKFRleHRUcmFuc2Zvcm0gfHwge30pO1xudmFyIFZlcnRpY2FsQWxpZ24gPSAvKiBAX19QVVJFX18gKi8gKChWZXJ0aWNhbEFsaWduMikgPT4ge1xuICBWZXJ0aWNhbEFsaWduMltcIlN1cGVyXCJdID0gXCJzdXBlclwiO1xuICBWZXJ0aWNhbEFsaWduMltcIlN1YlwiXSA9IFwic3ViXCI7XG4gIFZlcnRpY2FsQWxpZ24yW1wiVW5zZXRcIl0gPSBcInVuc2V0XCI7XG4gIHJldHVybiBWZXJ0aWNhbEFsaWduMjtcbn0pKFZlcnRpY2FsQWxpZ24gfHwge30pO1xudmFyIFRleHREZWNvcmF0aW9uID0gLyogQF9fUFVSRV9fICovICgoVGV4dERlY29yYXRpb24yKSA9PiB7XG4gIFRleHREZWNvcmF0aW9uMltcIlVuZGVybGluZVwiXSA9IFwidW5kZXJsaW5lXCI7XG4gIFRleHREZWNvcmF0aW9uMltcIk5vbmVcIl0gPSBcIm5vbmVcIjtcbiAgcmV0dXJuIFRleHREZWNvcmF0aW9uMjtcbn0pKFRleHREZWNvcmF0aW9uIHx8IHt9KTtcbnZhciBBbmNob3JTaWRlID0gLyogQF9fUFVSRV9fICovICgoQW5jaG9yU2lkZTIpID0+IHtcbiAgQW5jaG9yU2lkZTJbXCJUb3BcIl0gPSBcInRvcFwiO1xuICBBbmNob3JTaWRlMltcIkJvdHRvbVwiXSA9IFwiYm90dG9tXCI7XG4gIEFuY2hvclNpZGUyW1wiQ2VudGVyXCJdID0gXCJjZW50ZXJcIjtcbiAgcmV0dXJuIEFuY2hvclNpZGUyO1xufSkoQW5jaG9yU2lkZSB8fCB7fSk7XG52YXIgUG9zaXRpb25UeXBlID0gLyogQF9fUFVSRV9fICovICgoUG9zaXRpb25UeXBlMikgPT4ge1xuICBQb3NpdGlvblR5cGUyW1wiU2VjdGlvbkJhc2VkXCJdID0gXCJzZWN0aW9uLWJhc2VkXCI7XG4gIFBvc2l0aW9uVHlwZTJbXCJTY3JlZW5CYXNlZFwiXSA9IFwic2NyZWVuLWJhc2VkXCI7XG4gIHJldHVybiBQb3NpdGlvblR5cGUyO1xufSkoUG9zaXRpb25UeXBlIHx8IHt9KTtcbnZhciBBcmVhQW5jaG9yID0gLyogQF9fUFVSRV9fICovICgoQXJlYUFuY2hvcjIpID0+IHtcbiAgQXJlYUFuY2hvcjJbXCJUb3BMZWZ0XCJdID0gXCJ0b3AtbGVmdFwiO1xuICBBcmVhQW5jaG9yMltcIlRvcENlbnRlclwiXSA9IFwidG9wLWNlbnRlclwiO1xuICBBcmVhQW5jaG9yMltcIlRvcFJpZ2h0XCJdID0gXCJ0b3AtcmlnaHRcIjtcbiAgQXJlYUFuY2hvcjJbXCJNaWRkbGVMZWZ0XCJdID0gXCJtaWRkbGUtbGVmdFwiO1xuICBBcmVhQW5jaG9yMltcIk1pZGRsZUNlbnRlclwiXSA9IFwibWlkZGxlLWNlbnRlclwiO1xuICBBcmVhQW5jaG9yMltcIk1pZGRsZVJpZ2h0XCJdID0gXCJtaWRkbGUtcmlnaHRcIjtcbiAgQXJlYUFuY2hvcjJbXCJCb3R0b21MZWZ0XCJdID0gXCJib3R0b20tbGVmdFwiO1xuICBBcmVhQW5jaG9yMltcIkJvdHRvbUNlbnRlclwiXSA9IFwiYm90dG9tLWNlbnRlclwiO1xuICBBcmVhQW5jaG9yMltcIkJvdHRvbVJpZ2h0XCJdID0gXCJib3R0b20tcmlnaHRcIjtcbiAgcmV0dXJuIEFyZWFBbmNob3IyO1xufSkoQXJlYUFuY2hvciB8fCB7fSk7XG52YXIgRGltZW5zaW9uTW9kZSA9IC8qIEBfX1BVUkVfXyAqLyAoKERpbWVuc2lvbk1vZGUyKSA9PiB7XG4gIERpbWVuc2lvbk1vZGUyW1wiQ29udHJvbFVuaXRzXCJdID0gXCJjb250cm9sLXVuaXRzXCI7XG4gIERpbWVuc2lvbk1vZGUyW1wiUmVsYXRpdmVcIl0gPSBcInJlbGF0aXZlXCI7XG4gIHJldHVybiBEaW1lbnNpb25Nb2RlMjtcbn0pKERpbWVuc2lvbk1vZGUgfHwge30pO1xuY29uc3QgSXRlbUFyZWFTY2hlbWEgPSB6b2Quei5vYmplY3Qoe1xuICB0b3A6IHpvZC56Lm51bWJlcigpLFxuICBsZWZ0OiB6b2Quei5udW1iZXIoKSxcbiAgd2lkdGg6IHpvZC56Lm51bWJlcigpLFxuICBoZWlnaHQ6IHpvZC56Lm51bWJlcigpLFxuICB6SW5kZXg6IHpvZC56Lm51bWJlcigpLFxuICBhbmdsZTogem9kLnoubnVtYmVyKCksXG4gIGFuY2hvclNpZGU6IHpvZC56Lm5hdGl2ZUVudW0oQW5jaG9yU2lkZSkub3B0aW9uYWwoKSxcbiAgc2NhbGU6IHpvZC56Lm51bWJlcigpLm5vbm5lZ2F0aXZlKCksXG4gIHBvc2l0aW9uVHlwZTogem9kLnoubmF0aXZlRW51bShQb3NpdGlvblR5cGUpLFxuICBzY2FsZUFuY2hvcjogem9kLnoubmF0aXZlRW51bShBcmVhQW5jaG9yKVxufSk7XG5jb25zdCBMaW5rID0gem9kLnoub2JqZWN0KHtcbiAgdXJsOiB6b2Quei5zdHJpbmcoKS5taW4oMSksXG4gIHRhcmdldDogem9kLnouc3RyaW5nKCkubWluKDEpXG59KTtcbmNvbnN0IENvbXBvdW5kU2V0dGluZ3NTY2hlbWEgPSB6b2Quei5vYmplY3Qoe1xuICBwb3NpdGlvbkFuY2hvcjogem9kLnoubmF0aXZlRW51bShBcmVhQW5jaG9yKSxcbiAgd2lkdGhNb2RlOiB6b2Quei5uYXRpdmVFbnVtKERpbWVuc2lvbk1vZGUpLFxuICBoZWlnaHRNb2RlOiB6b2Quei5uYXRpdmVFbnVtKERpbWVuc2lvbk1vZGUpXG59KTtcbmNvbnN0IEl0ZW1CYXNlU2NoZW1hID0gem9kLnoub2JqZWN0KHtcbiAgaWQ6IHpvZC56LnN0cmluZygpLm1pbigxKSxcbiAgYXJlYTogem9kLnoucmVjb3JkKEl0ZW1BcmVhU2NoZW1hKSxcbiAgaGlkZGVuOiB6b2Quei5yZWNvcmQoem9kLnouYm9vbGVhbigpKSxcbiAgbGluazogTGluay5vcHRpb25hbCgpLFxuICBjb21wb3VuZFNldHRpbmdzOiB6b2Quei5yZWNvcmQoQ29tcG91bmRTZXR0aW5nc1NjaGVtYSkub3B0aW9uYWwoKSxcbiAgbGF5b3V0UGFyYW1zOiB6b2Quei5yZWNvcmQoem9kLnouYW55KCkpLm9wdGlvbmFsKClcbn0pO1xudmFyIEFydGljbGVJdGVtVHlwZSA9IC8qIEBfX1BVUkVfXyAqLyAoKEFydGljbGVJdGVtVHlwZTIpID0+IHtcbiAgQXJ0aWNsZUl0ZW1UeXBlMltcIkltYWdlXCJdID0gXCJpbWFnZVwiO1xuICBBcnRpY2xlSXRlbVR5cGUyW1wiUmljaFRleHRcIl0gPSBcInJpY2h0ZXh0XCI7XG4gIEFydGljbGVJdGVtVHlwZTJbXCJWaWRlb1wiXSA9IFwidmlkZW9cIjtcbiAgQXJ0aWNsZUl0ZW1UeXBlMltcIlJlY3RhbmdsZVwiXSA9IFwicmVjdGFuZ2xlXCI7XG4gIEFydGljbGVJdGVtVHlwZTJbXCJWaW1lb0VtYmVkXCJdID0gXCJ2aW1lby1lbWJlZFwiO1xuICBBcnRpY2xlSXRlbVR5cGUyW1wiWW91dHViZUVtYmVkXCJdID0gXCJ5b3V0dWJlLWVtYmVkXCI7XG4gIEFydGljbGVJdGVtVHlwZTJbXCJDdXN0b21cIl0gPSBcImN1c3RvbVwiO1xuICBBcnRpY2xlSXRlbVR5cGUyW1wiR3JvdXBcIl0gPSBcImdyb3VwXCI7XG4gIEFydGljbGVJdGVtVHlwZTJbXCJDb2RlRW1iZWRcIl0gPSBcImNvZGUtZW1iZWRcIjtcbiAgQXJ0aWNsZUl0ZW1UeXBlMltcIkNvbXBvdW5kXCJdID0gXCJjb21wb3VuZFwiO1xuICBBcnRpY2xlSXRlbVR5cGUyW1wiQ29tcG9uZW50XCJdID0gXCJjb21wb25lbnRcIjtcbiAgcmV0dXJuIEFydGljbGVJdGVtVHlwZTI7XG59KShBcnRpY2xlSXRlbVR5cGUgfHwge30pO1xuY29uc3QgcG9pbnRlckV2ZW50cyQxID0gem9kLnouZW51bShbXCJuZXZlclwiLCBcIndoZW5fdmlzaWJsZVwiLCBcImFsd2F5c1wiXSkub3B0aW9uYWwoKTtcbmNvbnN0IFJpY2hUZXh0RW50aXR5U2NoZW1hID0gem9kLnoub2JqZWN0KHtcbiAgc3RhcnQ6IHpvZC56Lm51bWJlcigpLm5vbm5lZ2F0aXZlKCksXG4gIGVuZDogem9kLnoubnVtYmVyKCkubm9ubmVnYXRpdmUoKSxcbiAgdHlwZTogem9kLnouc3RyaW5nKCksXG4gIGRhdGE6IHpvZC56LmFueSgpLm9wdGlvbmFsKClcbn0pO1xuY29uc3QgUmljaFRleHRTdHlsZVNjaGVtYSA9IHpvZC56Lm9iamVjdCh7XG4gIHN0YXJ0OiB6b2Quei5udW1iZXIoKS5ub25uZWdhdGl2ZSgpLFxuICBlbmQ6IHpvZC56Lm51bWJlcigpLm5vbm5lZ2F0aXZlKCksXG4gIHN0eWxlOiB6b2Quei5zdHJpbmcoKS5taW4oMSksXG4gIHZhbHVlOiB6b2Quei5zdHJpbmcoKS5vcHRpb25hbCgpXG59KTtcbmNvbnN0IFJpY2hUZXh0QmxvY2tTY2hlbWEgPSB6b2Quei5sYXp5KCgpID0+IHpvZC56Lm9iamVjdCh7XG4gIHN0YXJ0OiB6b2Quei5udW1iZXIoKS5ub25uZWdhdGl2ZSgpLFxuICBlbmQ6IHpvZC56Lm51bWJlcigpLm5vbm5lZ2F0aXZlKCksXG4gIHR5cGU6IHpvZC56LnN0cmluZygpLm1pbigxKSxcbiAgZW50aXRpZXM6IHpvZC56LmFycmF5KFJpY2hUZXh0RW50aXR5U2NoZW1hKS5vcHRpb25hbCgpLFxuICBjaGlsZHJlbjogem9kLnouYXJyYXkoUmljaFRleHRCbG9ja1NjaGVtYSkub3B0aW9uYWwoKSxcbiAgZGF0YTogem9kLnouYW55KCkub3B0aW9uYWwoKVxufSkpO1xuY29uc3QgUmljaFRleHRJdGVtU2NoZW1hID0gSXRlbUJhc2VTY2hlbWEuZXh0ZW5kKHtcbiAgdHlwZTogem9kLnoubGl0ZXJhbChBcnRpY2xlSXRlbVR5cGUuUmljaFRleHQpLFxuICBjb21tb25QYXJhbXM6IHpvZC56Lm9iamVjdCh7XG4gICAgdGV4dDogem9kLnouc3RyaW5nKCksXG4gICAgYmxvY2tzOiB6b2Quei5hcnJheShSaWNoVGV4dEJsb2NrU2NoZW1hKS5vcHRpb25hbCgpLFxuICAgIHBvaW50ZXJFdmVudHM6IHBvaW50ZXJFdmVudHMkMVxuICB9KSxcbiAgc3RpY2t5OiB6b2Quei5yZWNvcmQoXG4gICAgem9kLnoub2JqZWN0KHtcbiAgICAgIGZyb206IHpvZC56Lm51bWJlcigpLFxuICAgICAgdG86IHpvZC56Lm51bWJlcigpLm9wdGlvbmFsKClcbiAgICB9KS5udWxsYWJsZSgpXG4gICksXG4gIGxheW91dFBhcmFtczogem9kLnoucmVjb3JkKFxuICAgIHpvZC56Lm9iamVjdCh7XG4gICAgICByYW5nZVN0eWxlczogem9kLnouYXJyYXkoUmljaFRleHRTdHlsZVNjaGVtYSkub3B0aW9uYWwoKSxcbiAgICAgIHRleHRBbGlnbjogem9kLnoubmF0aXZlRW51bShUZXh0QWxpZ24pLFxuICAgICAgc2l6aW5nOiB6b2Quei5zdHJpbmcoKSxcbiAgICAgIGJsdXI6IHpvZC56Lm51bWJlcigpLFxuICAgICAgZm9udFNpemU6IHpvZC56Lm51bWJlcigpLFxuICAgICAgbGluZUhlaWdodDogem9kLnoubnVtYmVyKCksXG4gICAgICBsZXR0ZXJTcGFjaW5nOiB6b2Quei5udW1iZXIoKSxcbiAgICAgIHdvcmRTcGFjaW5nOiB6b2Quei5udW1iZXIoKSxcbiAgICAgIHRleHRUcmFuc2Zvcm06IHpvZC56Lm5hdGl2ZUVudW0oVGV4dFRyYW5zZm9ybSksXG4gICAgICB2ZXJ0aWNhbEFsaWduOiB6b2Quei5uYXRpdmVFbnVtKFZlcnRpY2FsQWxpZ24pLFxuICAgICAgY29sb3I6IHpvZC56LnN0cmluZygpLFxuICAgICAgdHlwZUZhY2U6IHpvZC56LnN0cmluZygpLFxuICAgICAgZm9udFN0eWxlOiB6b2Quei5zdHJpbmcoKSxcbiAgICAgIGZvbnRXZWlnaHQ6IHpvZC56Lm51bWJlcigpLFxuICAgICAgZm9udFZhcmlhbnQ6IHpvZC56LnN0cmluZygpLFxuICAgICAgaXNEcmFnZ2FibGU6IHpvZC56LmJvb2xlYW4oKS5vcHRpb25hbCgpXG4gICAgfSlcbiAgKSxcbiAgc3RhdGU6IHpvZC56LnJlY29yZChSaWNoVGV4dFN0YXRlUGFyYW1zU2NoZW1hKVxufSk7XG5jb25zdCBwb2ludGVyRXZlbnRzID0gem9kLnouZW51bShbXCJuZXZlclwiLCBcIndoZW5fdmlzaWJsZVwiLCBcImFsd2F5c1wiXSkub3B0aW9uYWwoKTtcbmNvbnN0IEZYQ29udHJvbFNjaGVtYSA9IHpvZC56LmRpc2NyaW1pbmF0ZWRVbmlvbihcInR5cGVcIiwgW1xuICB6b2Quei5vYmplY3Qoe1xuICAgIHR5cGU6IHpvZC56LmxpdGVyYWwoXCJmbG9hdFwiKSxcbiAgICBzaGFkZXJQYXJhbTogem9kLnouc3RyaW5nKCksXG4gICAgdmFsdWU6IHpvZC56Lm51bWJlcigpXG4gIH0pLFxuICB6b2Quei5vYmplY3Qoe1xuICAgIHR5cGU6IHpvZC56LmxpdGVyYWwoXCJpbnRcIiksXG4gICAgc2hhZGVyUGFyYW06IHpvZC56LnN0cmluZygpLFxuICAgIHZhbHVlOiB6b2Quei5udW1iZXIoKVxuICB9KSxcbiAgem9kLnoub2JqZWN0KHtcbiAgICB0eXBlOiB6b2Quei5saXRlcmFsKFwidmVjMlwiKSxcbiAgICBzaGFkZXJQYXJhbTogem9kLnouc3RyaW5nKCksXG4gICAgdmFsdWU6IHpvZC56LnR1cGxlKFt6b2Quei5udW1iZXIoKSwgem9kLnoubnVtYmVyKCldKVxuICB9KVxuXSk7XG5jb25zdCBGWFBhcmFtcyA9IHpvZC56Lm9iamVjdCh7XG4gIHVybDogem9kLnouc3RyaW5nKCkubWluKDEpLFxuICBoYXNHTEVmZmVjdDogem9kLnouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gIGZyYWdtZW50U2hhZGVyOiB6b2Quei5zdHJpbmcoKS5udWxsYWJsZSgpLFxuICBGWENvbnRyb2xzOiB6b2Quei5hcnJheShGWENvbnRyb2xTY2hlbWEpLm9wdGlvbmFsKClcbn0pO1xuY29uc3QgSW1hZ2VJdGVtU2NoZW1hID0gSXRlbUJhc2VTY2hlbWEuZXh0ZW5kKHtcbiAgdHlwZTogem9kLnoubGl0ZXJhbChBcnRpY2xlSXRlbVR5cGUuSW1hZ2UpLFxuICBjb21tb25QYXJhbXM6IHpvZC56Lm9iamVjdCh7XG4gICAgcG9pbnRlckV2ZW50c1xuICB9KS5tZXJnZShGWFBhcmFtcyksXG4gIHN0aWNreTogem9kLnoucmVjb3JkKFxuICAgIHpvZC56Lm9iamVjdCh7XG4gICAgICBmcm9tOiB6b2Quei5udW1iZXIoKSxcbiAgICAgIHRvOiB6b2Quei5udW1iZXIoKS5vcHRpb25hbCgpXG4gICAgfSkubnVsbGFibGUoKVxuICApLFxuICBsYXlvdXRQYXJhbXM6IHpvZC56LnJlY29yZChcbiAgICB6b2Quei5vYmplY3Qoe1xuICAgICAgb3BhY2l0eTogem9kLnoubnVtYmVyKCkubm9ubmVnYXRpdmUoKSxcbiAgICAgIHJhZGl1czogem9kLnoubnVtYmVyKCksXG4gICAgICBzdHJva2VXaWR0aDogem9kLnoubnVtYmVyKCksXG4gICAgICBzdHJva2VDb2xvcjogem9kLnouc3RyaW5nKCksXG4gICAgICBibHVyOiB6b2Quei5udW1iZXIoKSxcbiAgICAgIGlzRHJhZ2dhYmxlOiB6b2Quei5ib29sZWFuKCkub3B0aW9uYWwoKVxuICAgIH0pXG4gICksXG4gIHN0YXRlOiB6b2Quei5yZWNvcmQoTWVkaWFTdGF0ZVBhcmFtc1NjaGVtYSlcbn0pO1xuY29uc3QgVmlkZW9JdGVtU2NoZW1hID0gSXRlbUJhc2VTY2hlbWEuZXh0ZW5kKHtcbiAgdHlwZTogem9kLnoubGl0ZXJhbChBcnRpY2xlSXRlbVR5cGUuVmlkZW8pLFxuICBjb21tb25QYXJhbXM6IHpvZC56Lm9iamVjdCh7XG4gICAgY292ZXJVcmw6IHpvZC56LnN0cmluZygpLm51bGxhYmxlKCksXG4gICAgcG9pbnRlckV2ZW50c1xuICB9KS5tZXJnZShGWFBhcmFtcyksXG4gIHN0aWNreTogem9kLnoucmVjb3JkKFxuICAgIHpvZC56Lm9iamVjdCh7XG4gICAgICBmcm9tOiB6b2Quei5udW1iZXIoKSxcbiAgICAgIHRvOiB6b2Quei5udW1iZXIoKS5vcHRpb25hbCgpXG4gICAgfSkubnVsbGFibGUoKVxuICApLFxuICBsYXlvdXRQYXJhbXM6IHpvZC56LnJlY29yZChcbiAgICB6b2Quei5vYmplY3Qoe1xuICAgICAgYXV0b3BsYXk6IHpvZC56LmJvb2xlYW4oKSxcbiAgICAgIHNjcm9sbFBsYXliYWNrOiB6b2Quei5vYmplY3Qoe1xuICAgICAgICBmcm9tOiB6b2Quei5udW1iZXIoKSxcbiAgICAgICAgdG86IHpvZC56Lm51bWJlcigpXG4gICAgICB9KS5udWxsYWJsZSgpLFxuICAgICAgb3BhY2l0eTogem9kLnoubnVtYmVyKCkubm9ubmVnYXRpdmUoKSxcbiAgICAgIHJhZGl1czogem9kLnoubnVtYmVyKCksXG4gICAgICBzdHJva2VXaWR0aDogem9kLnoubnVtYmVyKCksXG4gICAgICBzdHJva2VDb2xvcjogem9kLnouc3RyaW5nKCksXG4gICAgICBibHVyOiB6b2Quei5udW1iZXIoKSxcbiAgICAgIGlzRHJhZ2dhYmxlOiB6b2Quei5ib29sZWFuKCkub3B0aW9uYWwoKVxuICAgIH0pXG4gICksXG4gIHN0YXRlOiB6b2Quei5yZWNvcmQoTWVkaWFTdGF0ZVBhcmFtc1NjaGVtYSlcbn0pO1xuY29uc3QgUmVjdGFuZ2xlSXRlbVNjaGVtYSA9IEl0ZW1CYXNlU2NoZW1hLmV4dGVuZCh7XG4gIHR5cGU6IHpvZC56LmxpdGVyYWwoQXJ0aWNsZUl0ZW1UeXBlLlJlY3RhbmdsZSksXG4gIGNvbW1vblBhcmFtczogem9kLnoub2JqZWN0KHtcbiAgICByYXRpb0xvY2s6IHpvZC56LmJvb2xlYW4oKSxcbiAgICBwb2ludGVyRXZlbnRzXG4gIH0pLFxuICBzdGlja3k6IHpvZC56LnJlY29yZChcbiAgICB6b2Quei5vYmplY3Qoe1xuICAgICAgZnJvbTogem9kLnoubnVtYmVyKCksXG4gICAgICB0bzogem9kLnoubnVtYmVyKCkub3B0aW9uYWwoKVxuICAgIH0pLm51bGxhYmxlKClcbiAgKSxcbiAgbGF5b3V0UGFyYW1zOiB6b2Quei5yZWNvcmQoXG4gICAgem9kLnoub2JqZWN0KHtcbiAgICAgIHJhZGl1czogem9kLnoubnVtYmVyKCksXG4gICAgICBzdHJva2VXaWR0aDogem9kLnoubnVtYmVyKCksXG4gICAgICBmaWxsQ29sb3I6IHpvZC56LnN0cmluZygpLm1pbigxKSxcbiAgICAgIHN0cm9rZUNvbG9yOiB6b2Quei5zdHJpbmcoKS5taW4oMSksXG4gICAgICBibHVyOiB6b2Quei5udW1iZXIoKSxcbiAgICAgIGJhY2tkcm9wQmx1cjogem9kLnoubnVtYmVyKCksXG4gICAgICBibHVyTW9kZTogem9kLnouZW51bShbXCJkZWZhdWx0XCIsIFwiYmFja2Ryb3BcIl0pLFxuICAgICAgaXNEcmFnZ2FibGU6IHpvZC56LmJvb2xlYW4oKS5vcHRpb25hbCgpXG4gICAgfSlcbiAgKSxcbiAgc3RhdGU6IHpvZC56LnJlY29yZChSZWN0YW5nbGVTdGF0ZVBhcmFtc1NjaGVtYSlcbn0pO1xuY29uc3QgQ3VzdG9tSXRlbVNjaGVtYSA9IEl0ZW1CYXNlU2NoZW1hLmV4dGVuZCh7XG4gIHR5cGU6IHpvZC56LmxpdGVyYWwoQXJ0aWNsZUl0ZW1UeXBlLkN1c3RvbSksXG4gIGNvbW1vblBhcmFtczogem9kLnoub2JqZWN0KHtcbiAgICBuYW1lOiB6b2Quei5zdHJpbmcoKSxcbiAgICBwb2ludGVyRXZlbnRzXG4gIH0pLFxuICBzdGlja3k6IHpvZC56LnJlY29yZChcbiAgICB6b2Quei5vYmplY3Qoe1xuICAgICAgZnJvbTogem9kLnoubnVtYmVyKCksXG4gICAgICB0bzogem9kLnoubnVtYmVyKCkub3B0aW9uYWwoKVxuICAgIH0pLm51bGxhYmxlKClcbiAgKSxcbiAgbGF5b3V0UGFyYW1zOiB6b2Quei5yZWNvcmQoem9kLnoub2JqZWN0KHtcbiAgICBpc0RyYWdnYWJsZTogem9kLnouYm9vbGVhbigpLm9wdGlvbmFsKClcbiAgfSkpLFxuICBzdGF0ZTogem9kLnoucmVjb3JkKEN1c3RvbUl0ZW1TdGF0ZVBhcmFtc1NjaGVtYSlcbn0pO1xuY29uc3QgVmltZW9FbWJlZEl0ZW1TY2hlbWEgPSBJdGVtQmFzZVNjaGVtYS5leHRlbmQoe1xuICB0eXBlOiB6b2Quei5saXRlcmFsKEFydGljbGVJdGVtVHlwZS5WaW1lb0VtYmVkKSxcbiAgY29tbW9uUGFyYW1zOiB6b2Quei5vYmplY3Qoe1xuICAgIHBsYXk6IHpvZC56LnVuaW9uKFt6b2Quei5saXRlcmFsKFwib24taG92ZXJcIiksIHpvZC56LmxpdGVyYWwoXCJvbi1jbGlja1wiKSwgem9kLnoubGl0ZXJhbChcImF1dG9cIildKSxcbiAgICBjb250cm9sczogem9kLnouYm9vbGVhbigpLFxuICAgIGxvb3A6IHpvZC56LmJvb2xlYW4oKSxcbiAgICBtdXRlZDogem9kLnouYm9vbGVhbigpLFxuICAgIHBpY3R1cmVJblBpY3R1cmU6IHpvZC56LmJvb2xlYW4oKSxcbiAgICB1cmw6IHpvZC56LnN0cmluZygpLm1pbigxKSxcbiAgICBjb3ZlclVybDogem9kLnouc3RyaW5nKCkubnVsbGFibGUoKSxcbiAgICByYXRpb0xvY2s6IHpvZC56LmJvb2xlYW4oKSxcbiAgICBwb2ludGVyRXZlbnRzXG4gIH0pLFxuICBzdGlja3k6IHpvZC56LnJlY29yZChcbiAgICB6b2Quei5vYmplY3Qoe1xuICAgICAgZnJvbTogem9kLnoubnVtYmVyKCksXG4gICAgICB0bzogem9kLnoubnVtYmVyKCkub3B0aW9uYWwoKVxuICAgIH0pLm51bGxhYmxlKClcbiAgKSxcbiAgbGF5b3V0UGFyYW1zOiB6b2Quei5yZWNvcmQoXG4gICAgem9kLnoub2JqZWN0KHtcbiAgICAgIHJhZGl1czogem9kLnoubnVtYmVyKCksXG4gICAgICBibHVyOiB6b2Quei5udW1iZXIoKSxcbiAgICAgIG9wYWNpdHk6IHpvZC56Lm51bWJlcigpLm5vbm5lZ2F0aXZlKClcbiAgICB9KVxuICApLFxuICBzdGF0ZTogem9kLnoucmVjb3JkKEVtYmVkU3RhdGVQYXJhbXNTY2hlbWEpXG59KTtcbmNvbnN0IFlvdXR1YmVFbWJlZEl0ZW1TY2hlbWEgPSBJdGVtQmFzZVNjaGVtYS5leHRlbmQoe1xuICB0eXBlOiB6b2Quei5saXRlcmFsKEFydGljbGVJdGVtVHlwZS5Zb3V0dWJlRW1iZWQpLFxuICBjb21tb25QYXJhbXM6IHpvZC56Lm9iamVjdCh7XG4gICAgcGxheTogem9kLnouZW51bShbXCJvbi1ob3ZlclwiLCBcIm9uLWNsaWNrXCIsIFwiYXV0b1wiXSksXG4gICAgY29udHJvbHM6IHpvZC56LmJvb2xlYW4oKSxcbiAgICBsb29wOiB6b2Quei5ib29sZWFuKCksXG4gICAgdXJsOiB6b2Quei5zdHJpbmcoKS5taW4oMSksXG4gICAgY292ZXJVcmw6IHpvZC56LnN0cmluZygpLm51bGxhYmxlKCksXG4gICAgcG9pbnRlckV2ZW50c1xuICB9KSxcbiAgc3RpY2t5OiB6b2Quei5yZWNvcmQoXG4gICAgem9kLnoub2JqZWN0KHtcbiAgICAgIGZyb206IHpvZC56Lm51bWJlcigpLFxuICAgICAgdG86IHpvZC56Lm51bWJlcigpLm9wdGlvbmFsKClcbiAgICB9KS5udWxsYWJsZSgpXG4gICksXG4gIGxheW91dFBhcmFtczogem9kLnoucmVjb3JkKFxuICAgIHpvZC56Lm9iamVjdCh7XG4gICAgICByYWRpdXM6IHpvZC56Lm51bWJlcigpLFxuICAgICAgYmx1cjogem9kLnoubnVtYmVyKCksXG4gICAgICBvcGFjaXR5OiB6b2Quei5udW1iZXIoKS5ub25uZWdhdGl2ZSgpXG4gICAgfSlcbiAgKSxcbiAgc3RhdGU6IHpvZC56LnJlY29yZChFbWJlZFN0YXRlUGFyYW1zU2NoZW1hKVxufSk7XG5jb25zdCBDb2RlRW1iZWRJdGVtU2NoZW1hID0gSXRlbUJhc2VTY2hlbWEuZXh0ZW5kKHtcbiAgdHlwZTogem9kLnoubGl0ZXJhbChBcnRpY2xlSXRlbVR5cGUuQ29kZUVtYmVkKSxcbiAgY29tbW9uUGFyYW1zOiB6b2Quei5vYmplY3Qoe1xuICAgIGh0bWw6IHpvZC56LnN0cmluZygpLFxuICAgIHNjYWxlOiB6b2Quei5ib29sZWFuKCksXG4gICAgaWZyYW1lOiB6b2Quei5ib29sZWFuKCksXG4gICAgcG9pbnRlckV2ZW50c1xuICB9KSxcbiAgc3RpY2t5OiB6b2Quei5yZWNvcmQoXG4gICAgem9kLnoub2JqZWN0KHtcbiAgICAgIGZyb206IHpvZC56Lm51bWJlcigpLFxuICAgICAgdG86IHpvZC56Lm51bWJlcigpLm9wdGlvbmFsKClcbiAgICB9KS5udWxsYWJsZSgpXG4gICksXG4gIGxheW91dFBhcmFtczogem9kLnoucmVjb3JkKFxuICAgIHpvZC56Lm9iamVjdCh7XG4gICAgICBhcmVhQW5jaG9yOiB6b2Quei5uYXRpdmVFbnVtKEFyZWFBbmNob3IpLFxuICAgICAgb3BhY2l0eTogem9kLnoubnVtYmVyKCkubm9ubmVnYXRpdmUoKSxcbiAgICAgIGJsdXI6IHpvZC56Lm51bWJlcigpLFxuICAgICAgaXNEcmFnZ2FibGU6IHpvZC56LmJvb2xlYW4oKS5vcHRpb25hbCgpXG4gICAgfSlcbiAgKSxcbiAgc3RhdGU6IHpvZC56LnJlY29yZChDb2RlRW1iZWRTdGF0ZVBhcmFtc1NjaGVtYSlcbn0pO1xuY29uc3QgQ29tcG9uZW50SXRlbVNjaGVtYSA9IEl0ZW1CYXNlU2NoZW1hLmV4dGVuZCh7XG4gIHR5cGU6IHpvZC56LmxpdGVyYWwoQXJ0aWNsZUl0ZW1UeXBlLkNvbXBvbmVudCksXG4gIGNvbW1vblBhcmFtczogem9kLnoub2JqZWN0KHtcbiAgICBjb21wb25lbnRJZDogem9kLnouc3RyaW5nKCksXG4gICAgY29udGVudDogem9kLnouYW55KCkub3B0aW9uYWwoKVxuICB9KSxcbiAgc3RpY2t5OiB6b2Quei5yZWNvcmQoXG4gICAgem9kLnoub2JqZWN0KHtcbiAgICAgIGZyb206IHpvZC56Lm51bWJlcigpLFxuICAgICAgdG86IHpvZC56Lm51bWJlcigpLm9wdGlvbmFsKClcbiAgICB9KS5udWxsYWJsZSgpXG4gICksXG4gIGxheW91dFBhcmFtczogem9kLnoucmVjb3JkKHpvZC56Lm9iamVjdCh7XG4gICAgcGFyYW1ldGVyczogem9kLnouYW55KCkub3B0aW9uYWwoKSxcbiAgICBvcGFjaXR5OiB6b2Quei5udW1iZXIoKS5ub25uZWdhdGl2ZSgpLFxuICAgIGJsdXI6IHpvZC56Lm51bWJlcigpXG4gIH0pKSxcbiAgc3RhdGU6IHpvZC56LnJlY29yZChDb21wb25lbnRTdGF0ZVBhcmFtc1NjaGVtYSlcbn0pO1xuY29uc3QgSXRlbVNjaGVtYSA9IHpvZC56LmxhenkoKCkgPT4gem9kLnouZGlzY3JpbWluYXRlZFVuaW9uKFwidHlwZVwiLCBbXG4gIEltYWdlSXRlbVNjaGVtYSxcbiAgVmlkZW9JdGVtU2NoZW1hLFxuICBSZWN0YW5nbGVJdGVtU2NoZW1hLFxuICBDdXN0b21JdGVtU2NoZW1hLFxuICBSaWNoVGV4dEl0ZW1TY2hlbWEsXG4gIFZpbWVvRW1iZWRJdGVtU2NoZW1hLFxuICBZb3V0dWJlRW1iZWRJdGVtU2NoZW1hLFxuICBDb2RlRW1iZWRJdGVtU2NoZW1hLFxuICBDb21wb25lbnRJdGVtU2NoZW1hLFxuICBJdGVtQmFzZVNjaGVtYS5leHRlbmQoe1xuICAgIHR5cGU6IHpvZC56LmxpdGVyYWwoQXJ0aWNsZUl0ZW1UeXBlLkdyb3VwKSxcbiAgICBjb21tb25QYXJhbXM6IHpvZC56Lm9iamVjdCh7XG4gICAgICBwb2ludGVyRXZlbnRzXG4gICAgfSksXG4gICAgaXRlbXM6IHpvZC56LmFycmF5KEl0ZW1TY2hlbWEpLFxuICAgIHN0aWNreTogem9kLnoucmVjb3JkKFxuICAgICAgem9kLnoub2JqZWN0KHtcbiAgICAgICAgZnJvbTogem9kLnoubnVtYmVyKCksXG4gICAgICAgIHRvOiB6b2Quei5udW1iZXIoKS5vcHRpb25hbCgpXG4gICAgICB9KS5udWxsYWJsZSgpXG4gICAgKSxcbiAgICBsYXlvdXRQYXJhbXM6IHpvZC56LnJlY29yZChcbiAgICAgIHpvZC56Lm9iamVjdCh7XG4gICAgICAgIG9wYWNpdHk6IHpvZC56Lm51bWJlcigpLm5vbm5lZ2F0aXZlKCksXG4gICAgICAgIGJsdXI6IHpvZC56Lm51bWJlcigpXG4gICAgICB9KVxuICAgICksXG4gICAgc3RhdGU6IHpvZC56LnJlY29yZChHcm91cFN0YXRlUGFyYW1zU2NoZW1hKVxuICB9KSxcbiAgSXRlbUJhc2VTY2hlbWEuZXh0ZW5kKHtcbiAgICB0eXBlOiB6b2Quei5saXRlcmFsKEFydGljbGVJdGVtVHlwZS5Db21wb3VuZCksXG4gICAgY29tbW9uUGFyYW1zOiB6b2Quei5vYmplY3Qoe1xuICAgICAgb3ZlcmZsb3c6IHpvZC56LmVudW0oW1wiaGlkZGVuXCIsIFwidmlzaWJsZVwiXSksXG4gICAgICBwb2ludGVyRXZlbnRzXG4gICAgfSksXG4gICAgaXRlbXM6IHpvZC56LmFycmF5KEl0ZW1TY2hlbWEpLFxuICAgIHN0aWNreTogem9kLnoucmVjb3JkKFxuICAgICAgem9kLnoub2JqZWN0KHtcbiAgICAgICAgZnJvbTogem9kLnoubnVtYmVyKCksXG4gICAgICAgIHRvOiB6b2Quei5udW1iZXIoKS5vcHRpb25hbCgpXG4gICAgICB9KS5udWxsYWJsZSgpXG4gICAgKSxcbiAgICBsYXlvdXRQYXJhbXM6IHpvZC56LnJlY29yZChcbiAgICAgIHpvZC56Lm9iamVjdCh7XG4gICAgICAgIG9wYWNpdHk6IHpvZC56Lm51bWJlcigpLm5vbm5lZ2F0aXZlKClcbiAgICAgIH0pXG4gICAgKSxcbiAgICBzdGF0ZTogem9kLnoucmVjb3JkKENvbXBvdW5kU3RhdGVQYXJhbXNTY2hlbWEpXG4gIH0pXG5dKSk7XG5jb25zdCBTZWN0aW9uSGVpZ2h0U2NoZW1hID0gem9kLnoub2JqZWN0KHtcbiAgbW9kZTogem9kLnoubmF0aXZlRW51bShTZWN0aW9uSGVpZ2h0TW9kZSksXG4gIHVuaXRzOiB6b2Quei5udW1iZXIoKS5ub25uZWdhdGl2ZSgpLFxuICB2aFVuaXRzOiB6b2Quei5udW1iZXIoKS5ub25uZWdhdGl2ZSgpLm9wdGlvbmFsKClcbn0pO1xuY29uc3QgU2VjdGlvblNjaGVtYSA9IHpvZC56Lm9iamVjdCh7XG4gIGlkOiB6b2Quei5zdHJpbmcoKS5taW4oMSksXG4gIGl0ZW1zOiB6b2Quei5hcnJheShJdGVtU2NoZW1hKSxcbiAgbmFtZTogem9kLnouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgaGVpZ2h0OiB6b2Quei5yZWNvcmQoU2VjdGlvbkhlaWdodFNjaGVtYSksXG4gIHBvc2l0aW9uOiB6b2Quei5yZWNvcmQoem9kLnoubnVtYmVyKCkpLFxuICBoaWRkZW46IHpvZC56LnJlY29yZCh6b2Quei5ib29sZWFuKCkpLFxuICBjb2xvcjogem9kLnoucmVjb3JkKHpvZC56Lm51bGxhYmxlKHpvZC56LnN0cmluZygpKSksXG4gIG1lZGlhOiB6b2Quei5yZWNvcmQoem9kLnoub2JqZWN0KHtcbiAgICB1cmw6IHpvZC56LnN0cmluZygpLFxuICAgIHNpemU6IHpvZC56LnN0cmluZygpLFxuICAgIHBvc2l0aW9uOiB6b2Quei5zdHJpbmcoKSxcbiAgICBvZmZzZXRYOiB6b2Quei5udW1iZXIoKS5udWxsYWJsZSgpXG4gIH0pKS5vcHRpb25hbCgpXG59KTtcbmNvbnN0IFRyaWdnZXJTY2hlbWEgPSB6b2Quei5vYmplY3Qoe1xuICBpdGVtSWQ6IHpvZC56LnN0cmluZygpLFxuICB0eXBlOiB6b2Quei5lbnVtKFtcImhvdmVyLWluXCIsIFwiaG92ZXItb3V0XCIsIFwiY2xpY2tcIl0pLFxuICBmcm9tOiB6b2Quei5zdHJpbmcoKSxcbiAgdG86IHpvZC56LnN0cmluZygpXG59KTtcbmNvbnN0IFZpZGVvSW50ZXJhY3Rpb25BY3Rpb25TY2hlbWEgPSB6b2Quei5vYmplY3Qoe1xuICB0eXBlOiB6b2Quei5lbnVtKFtcInBsYXlcIiwgXCJwYXVzZVwiXSksXG4gIGl0ZW1JZDogem9kLnouc3RyaW5nKClcbn0pO1xuY29uc3QgU3RhdGVTY2hlbWEgPSB6b2Quei5vYmplY3Qoe1xuICBpZDogem9kLnouc3RyaW5nKCksXG4gIGFjdGlvbnM6IHpvZC56LmFycmF5KFZpZGVvSW50ZXJhY3Rpb25BY3Rpb25TY2hlbWEpLm9wdGlvbmFsKClcbn0pO1xuY29uc3QgSW50ZXJhY3Rpb25TY2hlbWEgPSB6b2Quei5vYmplY3Qoe1xuICBpZDogem9kLnouc3RyaW5nKCksXG4gIHRyaWdnZXJzOiB6b2Quei5hcnJheShUcmlnZ2VyU2NoZW1hKSxcbiAgc3RhdGVzOiB6b2Quei5hcnJheShTdGF0ZVNjaGVtYSksXG4gIHN0YXJ0U3RhdGVJZDogem9kLnouc3RyaW5nKClcbn0pO1xuY29uc3QgQXJ0aWNsZVNjaGVtYSA9IHpvZC56Lm9iamVjdCh7XG4gIGlkOiB6b2Quei5zdHJpbmcoKS5taW4oMSksXG4gIHNlY3Rpb25zOiB6b2Quei5hcnJheShTZWN0aW9uU2NoZW1hKSxcbiAgaW50ZXJhY3Rpb25zOiB6b2Quei5yZWNvcmQoem9kLnouYXJyYXkoSW50ZXJhY3Rpb25TY2hlbWEpKVxufSk7XG5jb25zdCBMYXlvdXRTY2hlbWEgPSB6b2Quei5vYmplY3Qoe1xuICBpZDogem9kLnouc3RyaW5nKCksXG4gIHRpdGxlOiB6b2Quei5zdHJpbmcoKSxcbiAgc3RhcnRzV2l0aDogem9kLnoubnVtYmVyKCkubm9ubmVnYXRpdmUoKSxcbiAgZXhlbXBsYXJ5OiB6b2Quei5udW1iZXIoKS5wb3NpdGl2ZSgpXG59KTtcbnZhciBGb250RmlsZVR5cGVzID0gLyogQF9fUFVSRV9fICovICgoRm9udEZpbGVUeXBlczIpID0+IHtcbiAgRm9udEZpbGVUeXBlczJbXCJPVEZcIl0gPSBcIm90ZlwiO1xuICBGb250RmlsZVR5cGVzMltcIlRURlwiXSA9IFwidHRmXCI7XG4gIEZvbnRGaWxlVHlwZXMyW1wiV09GRlwiXSA9IFwid29mZlwiO1xuICBGb250RmlsZVR5cGVzMltcIldPRkYyXCJdID0gXCJ3b2ZmMlwiO1xuICBGb250RmlsZVR5cGVzMltcIkVPVFwiXSA9IFwiZW90XCI7XG4gIHJldHVybiBGb250RmlsZVR5cGVzMjtcbn0pKEZvbnRGaWxlVHlwZXMgfHwge30pO1xuY29uc3QgUHJvamVjdFNjaGVtYSA9IHpvZC56Lm9iamVjdCh7XG4gIGlkOiB6b2Quei5zdHJpbmcoKS5taW4oMSksXG4gIGh0bWw6IHpvZC56Lm9iamVjdCh7XG4gICAgaGVhZDogem9kLnouc3RyaW5nKCksXG4gICAgYWZ0ZXJCb2R5T3Blbjogem9kLnouc3RyaW5nKCksXG4gICAgYmVmb3JlQm9keUNsb3NlOiB6b2Quei5zdHJpbmcoKVxuICB9KSxcbiAgbWV0YTogem9kLnoub2JqZWN0KHtcbiAgICB0aXRsZTogem9kLnouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBkZXNjcmlwdGlvbjogem9kLnouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBvcGVuZ3JhcGhUaHVtYm5haWw6IHpvZC56LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAga2V5d29yZHM6IHpvZC56LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgZmF2aWNvbjogem9kLnouc3RyaW5nKCkub3B0aW9uYWwoKVxuICB9KSxcbiAgbGF5b3V0czogem9kLnouYXJyYXkoTGF5b3V0U2NoZW1hKSxcbiAgcGFnZXM6IHpvZC56LmFycmF5KHpvZC56Lm9iamVjdCh7XG4gICAgdGl0bGU6IHpvZC56LnN0cmluZygpLFxuICAgIGFydGljbGVJZDogem9kLnouc3RyaW5nKCkubWluKDEpLFxuICAgIHNsdWc6IHpvZC56LnN0cmluZygpLFxuICAgIG1ldGE6IHpvZC56Lm9iamVjdCh7XG4gICAgICB0aXRsZTogem9kLnouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgIGRlc2NyaXB0aW9uOiB6b2Quei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgb3BlbmdyYXBoVGh1bWJuYWlsOiB6b2Quei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAga2V5d29yZHM6IHpvZC56LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICBlbmFibGVkOiB6b2Quei5ib29sZWFuKClcbiAgICB9KS5vcHRpb25hbCgpLFxuICAgIGlkOiB6b2Quei5zdHJpbmcoKS5taW4oMSlcbiAgfSkpLFxuICBmb250czogem9kLnoub2JqZWN0KHtcbiAgICBnb29nbGU6IHpvZC56LnN0cmluZygpLFxuICAgIGFkb2JlOiB6b2Quei5zdHJpbmcoKSxcbiAgICBjdXN0b206IHpvZC56LmFycmF5KHpvZC56Lm9iamVjdCh7XG4gICAgICBuYW1lOiB6b2Quei5zdHJpbmcoKS5taW4oMSksXG4gICAgICBzdHlsZTogem9kLnouc3RyaW5nKCkubWluKDEpLFxuICAgICAgd2VpZ2h0OiB6b2Quei5udW1iZXIoKSxcbiAgICAgIGZpbGVzOiB6b2Quei5hcnJheShcbiAgICAgICAgem9kLnoub2JqZWN0KHtcbiAgICAgICAgICB0eXBlOiB6b2Quei5uYXRpdmVFbnVtKEZvbnRGaWxlVHlwZXMpLFxuICAgICAgICAgIHVybDogem9kLnouc3RyaW5nKCkudXJsKClcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICB9KSlcbiAgfSlcbn0pO1xudmFyIEtleWZyYW1lVHlwZSA9IC8qIEBfX1BVUkVfXyAqLyAoKEtleWZyYW1lVHlwZTIpID0+IHtcbiAgS2V5ZnJhbWVUeXBlMltcIkRpbWVuc2lvbnNcIl0gPSBcImRpbWVuc2lvbnNcIjtcbiAgS2V5ZnJhbWVUeXBlMltcIlBvc2l0aW9uXCJdID0gXCJwb3NpdGlvblwiO1xuICBLZXlmcmFtZVR5cGUyW1wiUm90YXRpb25cIl0gPSBcInJvdGF0aW9uXCI7XG4gIEtleWZyYW1lVHlwZTJbXCJCb3JkZXJSYWRpdXNcIl0gPSBcImJvcmRlci1yYWRpdXNcIjtcbiAgS2V5ZnJhbWVUeXBlMltcIkJvcmRlcldpZHRoXCJdID0gXCJib3JkZXItd2lkdGhcIjtcbiAgS2V5ZnJhbWVUeXBlMltcIkNvbG9yXCJdID0gXCJjb2xvclwiO1xuICBLZXlmcmFtZVR5cGUyW1wiQm9yZGVyQ29sb3JcIl0gPSBcImJvcmRlci1jb2xvclwiO1xuICBLZXlmcmFtZVR5cGUyW1wiT3BhY2l0eVwiXSA9IFwib3BhY2l0eVwiO1xuICBLZXlmcmFtZVR5cGUyW1wiU2NhbGVcIl0gPSBcInNjYWxlXCI7XG4gIEtleWZyYW1lVHlwZTJbXCJUZXh0Q29sb3JcIl0gPSBcInRleHQtY29sb3JcIjtcbiAgS2V5ZnJhbWVUeXBlMltcIkxldHRlclNwYWNpbmdcIl0gPSBcImxldHRlci1zcGFjaW5nXCI7XG4gIEtleWZyYW1lVHlwZTJbXCJXb3JkU3BhY2luZ1wiXSA9IFwid29yZC1zcGFjaW5nXCI7XG4gIEtleWZyYW1lVHlwZTJbXCJCbHVyXCJdID0gXCJibHVyXCI7XG4gIEtleWZyYW1lVHlwZTJbXCJCYWNrZHJvcEJsdXJcIl0gPSBcImJhY2tkcm9wLWJsdXJcIjtcbiAgS2V5ZnJhbWVUeXBlMltcIkZYUGFyYW1zXCJdID0gXCJmeC1wYXJhbXNcIjtcbiAgcmV0dXJuIEtleWZyYW1lVHlwZTI7XG59KShLZXlmcmFtZVR5cGUgfHwge30pO1xuY29uc3QgS2V5ZnJhbWVzQmFzZVNjaGVtYSA9IHpvZC56Lm9iamVjdCh7XG4gIGlkOiB6b2Quei5zdHJpbmcoKS5taW4oMSksXG4gIGxheW91dElkOiB6b2Quei5zdHJpbmcoKS5taW4oMSksXG4gIGl0ZW1JZDogem9kLnouc3RyaW5nKCkubWluKDEpLFxuICBwb3NpdGlvbjogem9kLnoubnVtYmVyKClcbn0pO1xuY29uc3QgRGltZW5zaW9uc0tleWZyYW1lU2NoZW1hID0gS2V5ZnJhbWVzQmFzZVNjaGVtYS5leHRlbmQoe1xuICB0eXBlOiB6b2Quei5saXRlcmFsKEtleWZyYW1lVHlwZS5EaW1lbnNpb25zKSxcbiAgdmFsdWU6IHpvZC56Lm9iamVjdCh7XG4gICAgd2lkdGg6IHpvZC56Lm51bWJlcigpLm5vbm5lZ2F0aXZlKCksXG4gICAgaGVpZ2h0OiB6b2Quei5udW1iZXIoKS5ub25uZWdhdGl2ZSgpXG4gIH0pXG59KTtcbmNvbnN0IFBvc2l0aW9uS2V5ZnJhbWVTY2hlbWEgPSBLZXlmcmFtZXNCYXNlU2NoZW1hLmV4dGVuZCh7XG4gIHR5cGU6IHpvZC56LmxpdGVyYWwoS2V5ZnJhbWVUeXBlLlBvc2l0aW9uKSxcbiAgdmFsdWU6IHpvZC56Lm9iamVjdCh7XG4gICAgdG9wOiB6b2Quei5udW1iZXIoKSxcbiAgICBsZWZ0OiB6b2Quei5udW1iZXIoKVxuICB9KVxufSk7XG5jb25zdCBSb3RhdGlvbktleWZyYW1lU2NoZW1hID0gS2V5ZnJhbWVzQmFzZVNjaGVtYS5leHRlbmQoe1xuICB0eXBlOiB6b2Quei5saXRlcmFsKEtleWZyYW1lVHlwZS5Sb3RhdGlvbiksXG4gIHZhbHVlOiB6b2Quei5vYmplY3Qoe1xuICAgIGFuZ2xlOiB6b2Quei5udW1iZXIoKVxuICB9KVxufSk7XG5jb25zdCBCb3JkZXJSYWRpdXNLZXlmcmFtZVNjaGVtYSA9IEtleWZyYW1lc0Jhc2VTY2hlbWEuZXh0ZW5kKHtcbiAgdHlwZTogem9kLnoubGl0ZXJhbChLZXlmcmFtZVR5cGUuQm9yZGVyUmFkaXVzKSxcbiAgdmFsdWU6IHpvZC56Lm9iamVjdCh7XG4gICAgcmFkaXVzOiB6b2Quei5udW1iZXIoKS5ub25uZWdhdGl2ZSgpXG4gIH0pXG59KTtcbmNvbnN0IEJvcmRlcldpZHRoS2V5ZnJhbWVTY2hlbWEgPSBLZXlmcmFtZXNCYXNlU2NoZW1hLmV4dGVuZCh7XG4gIHR5cGU6IHpvZC56LmxpdGVyYWwoS2V5ZnJhbWVUeXBlLkJvcmRlcldpZHRoKSxcbiAgdmFsdWU6IHpvZC56Lm9iamVjdCh7XG4gICAgYm9yZGVyV2lkdGg6IHpvZC56Lm51bWJlcigpLm5vbm5lZ2F0aXZlKClcbiAgfSlcbn0pO1xuY29uc3QgQ29sb3JLZXlmcmFtZVNjaGVtYSA9IEtleWZyYW1lc0Jhc2VTY2hlbWEuZXh0ZW5kKHtcbiAgdHlwZTogem9kLnoubGl0ZXJhbChLZXlmcmFtZVR5cGUuQ29sb3IpLFxuICB2YWx1ZTogem9kLnoub2JqZWN0KHtcbiAgICBjb2xvcjogem9kLnouc3RyaW5nKClcbiAgfSlcbn0pO1xuY29uc3QgQm9yZGVyQ29sb3JLZXlmcmFtZVNjaGVtYSA9IEtleWZyYW1lc0Jhc2VTY2hlbWEuZXh0ZW5kKHtcbiAgdHlwZTogem9kLnoubGl0ZXJhbChLZXlmcmFtZVR5cGUuQm9yZGVyQ29sb3IpLFxuICB2YWx1ZTogem9kLnoub2JqZWN0KHtcbiAgICBjb2xvcjogem9kLnouc3RyaW5nKClcbiAgfSlcbn0pO1xuY29uc3QgT3BhY2l0eUtleWZyYW1lU2NoZW1hID0gS2V5ZnJhbWVzQmFzZVNjaGVtYS5leHRlbmQoe1xuICB0eXBlOiB6b2Quei5saXRlcmFsKEtleWZyYW1lVHlwZS5PcGFjaXR5KSxcbiAgdmFsdWU6IHpvZC56Lm9iamVjdCh7XG4gICAgb3BhY2l0eTogem9kLnoubnVtYmVyKCkubm9ubmVnYXRpdmUoKVxuICB9KVxufSk7XG5jb25zdCBTY2FsZUtleWZyYW1lU2NoZW1hID0gS2V5ZnJhbWVzQmFzZVNjaGVtYS5leHRlbmQoe1xuICB0eXBlOiB6b2Quei5saXRlcmFsKEtleWZyYW1lVHlwZS5TY2FsZSksXG4gIHZhbHVlOiB6b2Quei5vYmplY3Qoe1xuICAgIHNjYWxlOiB6b2Quei5udW1iZXIoKS5ub25uZWdhdGl2ZSgpXG4gIH0pXG59KTtcbmNvbnN0IEJsdXJLZXlmcmFtZVNjaGVtYSA9IEtleWZyYW1lc0Jhc2VTY2hlbWEuZXh0ZW5kKHtcbiAgdHlwZTogem9kLnoubGl0ZXJhbChLZXlmcmFtZVR5cGUuQmx1ciksXG4gIHZhbHVlOiB6b2Quei5vYmplY3Qoe1xuICAgIGJsdXI6IHpvZC56Lm51bWJlcigpXG4gIH0pXG59KTtcbmNvbnN0IEJhY2tkcm9wQmx1cktleWZyYW1lU2NoZW1hID0gS2V5ZnJhbWVzQmFzZVNjaGVtYS5leHRlbmQoe1xuICB0eXBlOiB6b2Quei5saXRlcmFsKEtleWZyYW1lVHlwZS5CYWNrZHJvcEJsdXIpLFxuICB2YWx1ZTogem9kLnoub2JqZWN0KHtcbiAgICBiYWNrZHJvcEJsdXI6IHpvZC56Lm51bWJlcigpXG4gIH0pXG59KTtcbmNvbnN0IFRleHRDb2xvcktleWZyYW1lU2NoZW1hID0gS2V5ZnJhbWVzQmFzZVNjaGVtYS5leHRlbmQoe1xuICB0eXBlOiB6b2Quei5saXRlcmFsKEtleWZyYW1lVHlwZS5UZXh0Q29sb3IpLFxuICB2YWx1ZTogem9kLnoub2JqZWN0KHtcbiAgICBjb2xvcjogem9kLnouc3RyaW5nKClcbiAgfSlcbn0pO1xuY29uc3QgTGV0dGVyU3BhY2luZ0tleWZyYW1lU2NoZW1hID0gS2V5ZnJhbWVzQmFzZVNjaGVtYS5leHRlbmQoe1xuICB0eXBlOiB6b2Quei5saXRlcmFsKEtleWZyYW1lVHlwZS5MZXR0ZXJTcGFjaW5nKSxcbiAgdmFsdWU6IHpvZC56Lm9iamVjdCh7XG4gICAgbGV0dGVyU3BhY2luZzogem9kLnoubnVtYmVyKClcbiAgfSlcbn0pO1xuY29uc3QgV29yZFNwYWNpbmdLZXlmcmFtZVNjaGVtYSA9IEtleWZyYW1lc0Jhc2VTY2hlbWEuZXh0ZW5kKHtcbiAgdHlwZTogem9kLnoubGl0ZXJhbChLZXlmcmFtZVR5cGUuV29yZFNwYWNpbmcpLFxuICB2YWx1ZTogem9kLnoub2JqZWN0KHtcbiAgICB3b3JkU3BhY2luZzogem9kLnoubnVtYmVyKClcbiAgfSlcbn0pO1xuY29uc3QgRlhQYXJhbXNLZXlmcmFtZVNjaGVtYSA9IEtleWZyYW1lc0Jhc2VTY2hlbWEuZXh0ZW5kKHtcbiAgdHlwZTogem9kLnoubGl0ZXJhbChLZXlmcmFtZVR5cGUuRlhQYXJhbXMpLFxuICB2YWx1ZTogem9kLnoucmVjb3JkKHpvZC56LnN0cmluZygpLCB6b2Quei5udW1iZXIoKSlcbn0pO1xuY29uc3QgS2V5ZnJhbWVTY2hlbWEgPSB6b2Quei5kaXNjcmltaW5hdGVkVW5pb24oXCJ0eXBlXCIsIFtcbiAgRGltZW5zaW9uc0tleWZyYW1lU2NoZW1hLFxuICBQb3NpdGlvbktleWZyYW1lU2NoZW1hLFxuICBSb3RhdGlvbktleWZyYW1lU2NoZW1hLFxuICBCb3JkZXJSYWRpdXNLZXlmcmFtZVNjaGVtYSxcbiAgQm9yZGVyV2lkdGhLZXlmcmFtZVNjaGVtYSxcbiAgQ29sb3JLZXlmcmFtZVNjaGVtYSxcbiAgQm9yZGVyQ29sb3JLZXlmcmFtZVNjaGVtYSxcbiAgT3BhY2l0eUtleWZyYW1lU2NoZW1hLFxuICBTY2FsZUtleWZyYW1lU2NoZW1hLFxuICBCbHVyS2V5ZnJhbWVTY2hlbWEsXG4gIEJhY2tkcm9wQmx1cktleWZyYW1lU2NoZW1hLFxuICBUZXh0Q29sb3JLZXlmcmFtZVNjaGVtYSxcbiAgTGV0dGVyU3BhY2luZ0tleWZyYW1lU2NoZW1hLFxuICBXb3JkU3BhY2luZ0tleWZyYW1lU2NoZW1hLFxuICBGWFBhcmFtc0tleWZyYW1lU2NoZW1hXG5dKTtcbmNvbnN0IEtleWZyYW1lc1NjaGVtYSA9IHpvZC56LmFycmF5KEtleWZyYW1lU2NoZW1hKTtcbmNsYXNzIENsaWVudCB7XG4gIGNvbnN0cnVjdG9yKEFQSVVybCwgZmV0Y2hJbXBsID0gZmV0Y2gkMSkge1xuICAgIHRoaXMuZmV0Y2hJbXBsID0gZmV0Y2hJbXBsO1xuICAgIHRoaXMudXJsID0gbmV3IHVybC5VUkwoQVBJVXJsKTtcbiAgICBpZiAoIXRoaXMudXJsLnVzZXJuYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm9qZWN0IElEIGlzIG1pc3NpbmcgaW4gdGhlIFVSTC5cIik7XG4gICAgfVxuICAgIGlmICghdGhpcy51cmwucGFzc3dvcmQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkFQSSBrZXkgaXMgbWlzc2luZyBpbiB0aGUgVVJMLlwiKTtcbiAgICB9XG4gIH1cbiAgc3RhdGljIGdldFBhZ2VNZXRhKHByb2plY3RNZXRhLCBwYWdlTWV0YSkge1xuICAgIHJldHVybiBwYWdlTWV0YS5lbmFibGVkID8ge1xuICAgICAgdGl0bGU6IHBhZ2VNZXRhLnRpdGxlID8gcGFnZU1ldGEudGl0bGUgOiBwcm9qZWN0TWV0YS50aXRsZSA/PyBcIlwiLFxuICAgICAgZGVzY3JpcHRpb246IHBhZ2VNZXRhLmRlc2NyaXB0aW9uID8gcGFnZU1ldGEuZGVzY3JpcHRpb24gOiBwcm9qZWN0TWV0YS5kZXNjcmlwdGlvbiA/PyBcIlwiLFxuICAgICAga2V5d29yZHM6IHBhZ2VNZXRhLmtleXdvcmRzID8gcGFnZU1ldGEua2V5d29yZHMgOiBwcm9qZWN0TWV0YS5rZXl3b3JkcyA/PyBcIlwiLFxuICAgICAgb3BlbmdyYXBoVGh1bWJuYWlsOiBwYWdlTWV0YS5vcGVuZ3JhcGhUaHVtYm5haWwgPyBwYWdlTWV0YS5vcGVuZ3JhcGhUaHVtYm5haWwgOiBwcm9qZWN0TWV0YS5vcGVuZ3JhcGhUaHVtYm5haWwgPz8gXCJcIixcbiAgICAgIGZhdmljb246IHByb2plY3RNZXRhLmZhdmljb24gPz8gXCJcIlxuICAgIH0gOiBwcm9qZWN0TWV0YTtcbiAgfVxuICBhc3luYyBnZXRQYWdlRGF0YShwYWdlU2x1Zykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwcm9qZWN0ID0gYXdhaXQgdGhpcy5mZXRjaFByb2plY3QoKTtcbiAgICAgIGNvbnN0IGFydGljbGVJZCA9IHRoaXMuZmluZEFydGljbGVJZEJ5UGFnZVNsdWcocGFnZVNsdWcsIHByb2plY3QucGFnZXMpO1xuICAgICAgY29uc3QgeyBhcnRpY2xlLCBrZXlmcmFtZXMgfSA9IGF3YWl0IHRoaXMuZmV0Y2hBcnRpY2xlKGFydGljbGVJZCk7XG4gICAgICBjb25zdCBwYWdlID0gcHJvamVjdC5wYWdlcy5maW5kKChwYWdlMikgPT4gcGFnZTIuc2x1ZyA9PT0gcGFnZVNsdWcpO1xuICAgICAgY29uc3QgbWV0YSA9IENsaWVudC5nZXRQYWdlTWV0YShwcm9qZWN0Lm1ldGEsIHBhZ2UgPT0gbnVsbCA/IHZvaWQgMCA6IHBhZ2UubWV0YSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwcm9qZWN0LFxuICAgICAgICBhcnRpY2xlLFxuICAgICAgICBrZXlmcmFtZXMsXG4gICAgICAgIG1ldGFcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgZ2V0UHJvamVjdFBhZ2VzUGF0aHMoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgcGFnZXMgfSA9IGF3YWl0IHRoaXMuZmV0Y2hQcm9qZWN0KCk7XG4gICAgICByZXR1cm4gcGFnZXMubWFwKChwKSA9PiBwLnNsdWcpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG4gIGFzeW5jIGdldExheW91dHMoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgbGF5b3V0cyB9ID0gYXdhaXQgdGhpcy5mZXRjaFByb2plY3QoKTtcbiAgICAgIHJldHVybiBsYXlvdXRzO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG4gIGFzeW5jIGZldGNoUHJvamVjdCgpIHtcbiAgICBjb25zdCB7IHVzZXJuYW1lOiBwcm9qZWN0SWQsIHBhc3N3b3JkOiBhcGlLZXksIG9yaWdpbiB9ID0gdGhpcy51cmw7XG4gICAgY29uc3QgdXJsJDEgPSBuZXcgdXJsLlVSTChgL3Byb2plY3RzLyR7cHJvamVjdElkfWAsIG9yaWdpbik7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmZldGNoSW1wbCh1cmwkMS5ocmVmLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHthcGlLZXl9YFxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIHByb2plY3Qgd2l0aCBpZCAjJHtwcm9qZWN0SWR9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgY29uc3QgcHJvamVjdCA9IFByb2plY3RTY2hlbWEucGFyc2UoZGF0YSk7XG4gICAgcmV0dXJuIHByb2plY3Q7XG4gIH1cbiAgYXN5bmMgZmV0Y2hBcnRpY2xlKGFydGljbGVJZCkge1xuICAgIGNvbnN0IHsgdXNlcm5hbWU6IHByb2plY3RJZCwgcGFzc3dvcmQ6IGFwaUtleSwgb3JpZ2luIH0gPSB0aGlzLnVybDtcbiAgICBjb25zdCB1cmwkMSA9IG5ldyB1cmwuVVJMKGAvcHJvamVjdHMvJHtwcm9qZWN0SWR9L2FydGljbGVzLyR7YXJ0aWNsZUlkfWAsIG9yaWdpbik7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmZldGNoSW1wbCh1cmwkMS5ocmVmLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHthcGlLZXl9YFxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIGFydGljbGUgd2l0aCBpZCAjJHthcnRpY2xlSWR9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgY29uc3QgYXJ0aWNsZSA9IEFydGljbGVTY2hlbWEucGFyc2UoZGF0YS5hcnRpY2xlKTtcbiAgICBjb25zdCBrZXlmcmFtZXMgPSBLZXlmcmFtZXNTY2hlbWEucGFyc2UoZGF0YS5rZXlmcmFtZXMpO1xuICAgIHJldHVybiB7IGFydGljbGUsIGtleWZyYW1lcyB9O1xuICB9XG4gIGZpbmRBcnRpY2xlSWRCeVBhZ2VTbHVnKHNsdWcsIHBhZ2VzKSB7XG4gICAgY29uc3QgeyB1c2VybmFtZTogcHJvamVjdElkIH0gPSB0aGlzLnVybDtcbiAgICBjb25zdCBwYWdlID0gcGFnZXMuZmluZCgocGFnZTIpID0+IHBhZ2UyLnNsdWcgPT09IHNsdWcpO1xuICAgIGlmICghcGFnZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBQYWdlIHdpdGggYSBzbHVnICR7c2x1Z30gd2FzIG5vdCBmb3VuZCBpbiBwcm9qZWN0IHdpdGggaWQgIyR7cHJvamVjdElkfWApO1xuICAgIH1cbiAgICByZXR1cm4gcGFnZS5hcnRpY2xlSWQ7XG4gIH1cbn1cbmNvbnN0IEZJTEVfVFlQRVNfTUFQID0ge1xuICB0dGY6IFwidHJ1ZXR5cGVcIixcbiAgb3RmOiBcIm9wZW50eXBlXCJcbn07XG5jbGFzcyBGb250RmFjZUdlbmVyYXRvciB7XG4gIGNvbnN0cnVjdG9yKGZvbnRzKSB7XG4gICAgdGhpcy5mb250cyA9IGZvbnRzO1xuICB9XG4gIGdlbmVyYXRlKCkge1xuICAgIHJldHVybiB0aGlzLmZvbnRzLm1hcCgoZm9udCkgPT4ge1xuICAgICAgY29uc3QgZW90RmlsZSA9IGZvbnQuZmlsZXMuZmluZCgoZmlsZSkgPT4gZmlsZS50eXBlID09PSBcImVvdFwiKTtcbiAgICAgIGNvbnN0IG90aGVyRmlsZXMgPSBmb250LmZpbGVzLmZpbHRlcigoZmlsZSkgPT4gZmlsZS50eXBlICE9PSBcImVvdFwiKS5tYXAoKGZpbGUpID0+IGB1cmwoJyR7ZmlsZS51cmx9JykgZm9ybWF0KCcke0ZJTEVfVFlQRVNfTUFQW2ZpbGUudHlwZV0gfHwgZmlsZS50eXBlfScpYCk7XG4gICAgICByZXR1cm4gYFxuQGZvbnQtZmFjZSB7XG4gIGZvbnQtZmFtaWx5OiBcIiR7Zm9udC5uYW1lfVwiO1xuICBmb250LXdlaWdodDogJHtmb250LndlaWdodH07XG4gIGZvbnQtc3R5bGU6ICR7Zm9udC5zdHlsZX07XG4gICR7ZW90RmlsZSA/IGBzcmM6IHVybCgnJHtlb3RGaWxlLnVybH0nKTtcbiAgYCA6IFwiXCJ9c3JjOiAke290aGVyRmlsZXMuam9pbihcIiwgXCIpfTtcbn1gO1xuICAgIH0pLmpvaW4oXCJcXG5cIik7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldExheW91dFN0eWxlcyhsYXlvdXRzLCBsYXlvdXRWYWx1ZXMsIG1hcFRvU3R5bGVzKSB7XG4gIGNvbnN0IG1lZGlhUXVlcmllcyA9IGxheW91dHMuc29ydCgoYSwgYikgPT4gYS5zdGFydHNXaXRoIC0gYi5zdGFydHNXaXRoKS5yZWR1Y2UoXG4gICAgKGFjYywgbGF5b3V0KSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBsYXlvdXRWYWx1ZXMubWFwKChsdikgPT4gbHZbbGF5b3V0LmlkXSk7XG4gICAgICByZXR1cm4gYFxuICAgICAgICAke2FjY31cbiAgICAgICAgJHtsYXlvdXQuc3RhcnRzV2l0aCAhPT0gMCA/IGBAbWVkaWEgKG1pbi13aWR0aDogJHtsYXlvdXQuc3RhcnRzV2l0aH1weCkgeyR7bWFwVG9TdHlsZXModmFsdWVzLCBsYXlvdXQuZXhlbXBsYXJ5KX19YCA6IGAke21hcFRvU3R5bGVzKHZhbHVlcywgbGF5b3V0LmV4ZW1wbGFyeSl9YH1gO1xuICAgIH0sXG4gICAgXCJcIlxuICApO1xuICByZXR1cm4gbWVkaWFRdWVyaWVzO1xufVxuZnVuY3Rpb24gZ2V0TGF5b3V0TWVkaWFRdWVyeShsYXlvdXRJZCwgbGF5b3V0cykge1xuICBjb25zdCBzb3J0ZWQgPSBsYXlvdXRzLnNsaWNlKCkuc29ydCgoYSwgYikgPT4gYS5zdGFydHNXaXRoIC0gYi5zdGFydHNXaXRoKTtcbiAgY29uc3QgbGF5b3V0SW5kZXggPSBzb3J0ZWQuZmluZEluZGV4KChsKSA9PiBsLmlkID09PSBsYXlvdXRJZCk7XG4gIGlmIChsYXlvdXRJbmRleCA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGxheW91dCB3YXMgZm91bmQgYnkgdGhlIGdpdmVuIGlkICMke2xheW91dElkfWApO1xuICB9XG4gIGNvbnN0IGN1cnJlbnQgPSBzb3J0ZWRbbGF5b3V0SW5kZXhdO1xuICBjb25zdCBuZXh0ID0gc29ydGVkW2xheW91dEluZGV4ICsgMV07XG4gIGlmICghbmV4dCkge1xuICAgIHJldHVybiBgQG1lZGlhIChtaW4td2lkdGg6ICR7Y3VycmVudC5zdGFydHNXaXRofXB4KWA7XG4gIH1cbiAgcmV0dXJuIGBAbWVkaWEgKG1pbi13aWR0aDogJHtjdXJyZW50LnN0YXJ0c1dpdGh9cHgpIGFuZCAobWF4LXdpZHRoOiAke25leHQuc3RhcnRzV2l0aCAtIDF9cHgpYDtcbn1cbmNsYXNzIFdyaXRlciB7XG4gIGNvbnN0cnVjdG9yKHNpemUpIHtcbiAgICB0aGlzLmRhdGEgPSBuZXcgVWludDhBcnJheShzaXplKTtcbiAgICB0aGlzLmlkeCA9IDA7XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgfVxuICBnZXREYXRhKCkge1xuICAgIGlmICh0aGlzLmlkeCAhPT0gdGhpcy5zaXplKSB0aHJvdyBuZXcgRXJyb3IoXCJNaXNtYXRjaCBiZXR3ZWVuIHNpemUgcmVzZXJ2ZWQgYW5kIHNpemVkIHVzZWRcIik7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5zbGljZSgwLCB0aGlzLmlkeCk7XG4gIH1cbiAgd3JpdGVVaW50OCh2YWx1ZSkge1xuICAgIHRoaXMuZGF0YS5zZXQoW3ZhbHVlXSwgdGhpcy5pZHgpO1xuICAgIHRoaXMuaWR4ICs9IDE7XG4gIH1cbiAgd3JpdGVVaW50MTYodmFsdWUpIHtcbiAgICBjb25zdCBhcnIgPSBuZXcgVWludDE2QXJyYXkoMSk7XG4gICAgYXJyWzBdID0gdmFsdWU7XG4gICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoYXJyLmJ1ZmZlcik7XG4gICAgdGhpcy5kYXRhLnNldChbYnVmZmVyWzFdLCBidWZmZXJbMF1dLCB0aGlzLmlkeCk7XG4gICAgdGhpcy5pZHggKz0gMjtcbiAgfVxuICB3cml0ZVVpbnQ4QXJyYXkodmFsdWUpIHtcbiAgICB0aGlzLmRhdGEuc2V0KHZhbHVlLCB0aGlzLmlkeCk7XG4gICAgdGhpcy5pZHggKz0gdmFsdWUubGVuZ3RoO1xuICB9XG59XG5jb25zdCBnZXRFeHRyYWRhdGEgPSAoYXZjY0JveCkgPT4ge1xuICBsZXQgaTtcbiAgbGV0IHNpemUgPSA3O1xuICBmb3IgKGkgPSAwOyBpIDwgYXZjY0JveC5TUFMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBzaXplICs9IDIgKyBhdmNjQm94LlNQU1tpXS5sZW5ndGg7XG4gIH1cbiAgZm9yIChpID0gMDsgaSA8IGF2Y2NCb3guUFBTLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgc2l6ZSArPSAyICsgYXZjY0JveC5QUFNbaV0ubGVuZ3RoO1xuICB9XG4gIGNvbnN0IHdyaXRlciA9IG5ldyBXcml0ZXIoc2l6ZSk7XG4gIHdyaXRlci53cml0ZVVpbnQ4KGF2Y2NCb3guY29uZmlndXJhdGlvblZlcnNpb24pO1xuICB3cml0ZXIud3JpdGVVaW50OChhdmNjQm94LkFWQ1Byb2ZpbGVJbmRpY2F0aW9uKTtcbiAgd3JpdGVyLndyaXRlVWludDgoYXZjY0JveC5wcm9maWxlX2NvbXBhdGliaWxpdHkpO1xuICB3cml0ZXIud3JpdGVVaW50OChhdmNjQm94LkFWQ0xldmVsSW5kaWNhdGlvbik7XG4gIHdyaXRlci53cml0ZVVpbnQ4KGF2Y2NCb3gubGVuZ3RoU2l6ZU1pbnVzT25lICsgKDYzIDw8IDIpKTtcbiAgd3JpdGVyLndyaXRlVWludDgoYXZjY0JveC5uYl9TUFNfbmFsdXMgKyAoNyA8PCA1KSk7XG4gIGZvciAoaSA9IDA7IGkgPCBhdmNjQm94LlNQUy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHdyaXRlci53cml0ZVVpbnQxNihhdmNjQm94LlNQU1tpXS5sZW5ndGgpO1xuICAgIHdyaXRlci53cml0ZVVpbnQ4QXJyYXkoYXZjY0JveC5TUFNbaV0ubmFsdSk7XG4gIH1cbiAgd3JpdGVyLndyaXRlVWludDgoYXZjY0JveC5uYl9QUFNfbmFsdXMpO1xuICBmb3IgKGkgPSAwOyBpIDwgYXZjY0JveC5QUFMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB3cml0ZXIud3JpdGVVaW50MTYoYXZjY0JveC5QUFNbaV0ubGVuZ3RoKTtcbiAgICB3cml0ZXIud3JpdGVVaW50OEFycmF5KGF2Y2NCb3guUFBTW2ldLm5hbHUpO1xuICB9XG4gIHJldHVybiB3cml0ZXIuZ2V0RGF0YSgpO1xufTtcbmNvbnN0IGRlY29kZVZpZGVvID0gKHNyYywgZW1pdEZyYW1lLCB7IFZpZGVvRGVjb2RlcjogVmlkZW9EZWNvZGVyMiwgRW5jb2RlZFZpZGVvQ2h1bms6IEVuY29kZWRWaWRlb0NodW5rMiwgZGVidWcgfSkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICBpZiAoZGVidWcpIGNvbnNvbGUuaW5mbyhcIkRlY29kaW5nIHZpZGVvIGZyb21cIiwgc3JjKTtcbiAgdHJ5IHtcbiAgICBjb25zdCBtcDRib3hmaWxlID0gTVA0Qm94X19uYW1lc3BhY2UuY3JlYXRlRmlsZSgpO1xuICAgIGxldCBjb2RlYztcbiAgICBjb25zdCBkZWNvZGVyID0gbmV3IFZpZGVvRGVjb2RlcjIoe1xuICAgICAgb3V0cHV0OiAoZnJhbWUpID0+IHtcbiAgICAgICAgY3JlYXRlSW1hZ2VCaXRtYXAoZnJhbWUsIHsgcmVzaXplUXVhbGl0eTogXCJsb3dcIiB9KS50aGVuKChiaXRtYXApID0+IHtcbiAgICAgICAgICBlbWl0RnJhbWUoYml0bWFwKTtcbiAgICAgICAgICBmcmFtZS5jbG9zZSgpO1xuICAgICAgICAgIGlmIChkZWNvZGVyLmRlY29kZVF1ZXVlU2l6ZSA8PSAwKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGRlY29kZXIuc3RhdGUgIT09IFwiY2xvc2VkXCIpIHtcbiAgICAgICAgICAgICAgICBkZWNvZGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgZXJyb3I6IChlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBtcDRib3hmaWxlLm9uUmVhZHkgPSAoaW5mbykgPT4ge1xuICAgICAgaWYgKGluZm8gJiYgaW5mby52aWRlb1RyYWNrcyAmJiBpbmZvLnZpZGVvVHJhY2tzWzBdKSB7XG4gICAgICAgIFt7IGNvZGVjIH1dID0gaW5mby52aWRlb1RyYWNrcztcbiAgICAgICAgaWYgKGRlYnVnKSBjb25zb2xlLmluZm8oXCJWaWRlbyB3aXRoIGNvZGVjOlwiLCBjb2RlYyk7XG4gICAgICAgIGNvbnN0IGF2Y2NCb3ggPSBtcDRib3hmaWxlLm1vb3YudHJha3NbMF0ubWRpYS5taW5mLnN0Ymwuc3RzZC5lbnRyaWVzWzBdLmF2Y0M7XG4gICAgICAgIGNvbnN0IGV4dHJhZGF0YSA9IGdldEV4dHJhZGF0YShhdmNjQm94KTtcbiAgICAgICAgZGVjb2Rlci5jb25maWd1cmUoeyBjb2RlYywgZGVzY3JpcHRpb246IGV4dHJhZGF0YSB9KTtcbiAgICAgICAgbXA0Ym94ZmlsZS5zZXRFeHRyYWN0aW9uT3B0aW9ucyhpbmZvLnZpZGVvVHJhY2tzWzBdLmlkKTtcbiAgICAgICAgbXA0Ym94ZmlsZS5zdGFydCgpO1xuICAgICAgfSBlbHNlIHJlamVjdChuZXcgRXJyb3IoXCJVUkwgcHJvdmlkZWQgaXMgbm90IGEgdmFsaWQgbXA0IHZpZGVvIGZpbGUuXCIpKTtcbiAgICB9O1xuICAgIG1wNGJveGZpbGUub25TYW1wbGVzID0gKHRyYWNrX2lkLCByZWYsIHNhbXBsZXMpID0+IHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2FtcGxlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBzYW1wbGUgPSBzYW1wbGVzW2ldO1xuICAgICAgICBjb25zdCB0eXBlID0gc2FtcGxlLmlzX3N5bmMgPyBcImtleVwiIDogXCJkZWx0YVwiO1xuICAgICAgICBjb25zdCBjaHVuayA9IG5ldyBFbmNvZGVkVmlkZW9DaHVuazIoe1xuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgdGltZXN0YW1wOiBzYW1wbGUuY3RzLFxuICAgICAgICAgIGR1cmF0aW9uOiBzYW1wbGUuZHVyYXRpb24sXG4gICAgICAgICAgZGF0YTogc2FtcGxlLmRhdGFcbiAgICAgICAgfSk7XG4gICAgICAgIGRlY29kZXIuZGVjb2RlKGNodW5rKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGZldGNoKHNyYykudGhlbigocmVzKSA9PiB7XG4gICAgICBjb25zdCByZWFkZXIgPSByZXMuYm9keS5nZXRSZWFkZXIoKTtcbiAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgZnVuY3Rpb24gYXBwZW5kQnVmZmVycyh7IGRvbmUsIHZhbHVlIH0pIHtcbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICBtcDRib3hmaWxlLmZsdXNoKCk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYnVmID0gdmFsdWUuYnVmZmVyO1xuICAgICAgICBidWYuZmlsZVN0YXJ0ID0gb2Zmc2V0O1xuICAgICAgICBvZmZzZXQgKz0gYnVmLmJ5dGVMZW5ndGg7XG4gICAgICAgIG1wNGJveGZpbGUuYXBwZW5kQnVmZmVyKGJ1Zik7XG4gICAgICAgIHJldHVybiByZWFkZXIucmVhZCgpLnRoZW4oYXBwZW5kQnVmZmVycyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVhZGVyLnJlYWQoKS50aGVuKGFwcGVuZEJ1ZmZlcnMpO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmVqZWN0KGUpO1xuICB9XG59KTtcbmNvbnN0IHZpZGVvRGVjb2RlciA9IChzcmMsIGVtaXRGcmFtZSwgZGVidWcpID0+IHtcbiAgaWYgKHR5cGVvZiBWaWRlb0RlY29kZXIgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgRW5jb2RlZFZpZGVvQ2h1bmsgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGlmIChkZWJ1ZylcbiAgICAgIGNvbnNvbGUuaW5mbyhcIldlYkNvZGVjcyBpcyBuYXRpdmVseSBzdXBwb3J0ZWQsIHVzaW5nIG5hdGl2ZSB2ZXJzaW9uLi4uXCIpO1xuICAgIHJldHVybiBkZWNvZGVWaWRlbyhzcmMsIGVtaXRGcmFtZSwge1xuICAgICAgVmlkZW9EZWNvZGVyLFxuICAgICAgRW5jb2RlZFZpZGVvQ2h1bmssXG4gICAgICBkZWJ1Z1xuICAgIH0pO1xuICB9XG4gIGlmIChkZWJ1ZykgY29uc29sZS5pbmZvKFwiV2ViQ29kZWNzIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBicm93c2VyLlwiKTtcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xufTtcbmNsYXNzIFNjcm9sbFBsYXliYWNrVmlkZW9NYW5hZ2VyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuY3VycmVudFRpbWUgPSAwO1xuICAgIHRoaXMudGFyZ2V0VGltZSA9IDA7XG4gICAgdGhpcy5jYW52YXMgPSBudWxsO1xuICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgdGhpcy5mcmFtZXMgPSBbXTtcbiAgICB0aGlzLmZyYW1lUmF0ZSA9IDA7XG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gZmFsc2U7XG4gICAgdGhpcy5kZWJ1ZyA9IGZhbHNlO1xuICAgIHRoaXMuZnJhbWVUaHJlc2hvbGQgPSAwLjE7XG4gICAgdGhpcy50cmFuc2l0aW9uU3BlZWQgPSAxMDtcbiAgICB0aGlzLnVzZVdlYkNvZGVjcyA9IHRydWU7XG4gICAgdGhpcy5yZXNpemUgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5kZWJ1ZykgY29uc29sZS5pbmZvKFwiU2Nyb2xsVmlkZW8gcmVzaXppbmcuLi5cIik7XG4gICAgICBpZiAodGhpcy5jYW52YXMpIHtcbiAgICAgICAgdGhpcy5zZXRDb3ZlclN0eWxlKHRoaXMuY2FudmFzKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy52aWRlbykge1xuICAgICAgICB0aGlzLnNldENvdmVyU3R5bGUodGhpcy52aWRlbyk7XG4gICAgICB9XG4gICAgICB0aGlzLnBhaW50Q2FudmFzRnJhbWUoTWF0aC5mbG9vcih0aGlzLmN1cnJlbnRUaW1lICogdGhpcy5mcmFtZVJhdGUpKTtcbiAgICB9O1xuICAgIHRoaXMuZGVjb2RlVmlkZW8gPSAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMudmlkZW8pIHJldHVybjtcbiAgICAgIGlmICh0aGlzLnVzZVdlYkNvZGVjcyAmJiB0aGlzLnZpZGVvLnNyYykge1xuICAgICAgICB2aWRlb0RlY29kZXIoXG4gICAgICAgICAgdGhpcy52aWRlby5zcmMsXG4gICAgICAgICAgKGZyYW1lKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmZyYW1lcy5wdXNoKGZyYW1lKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRoaXMuZGVidWdcbiAgICAgICAgKS50aGVuKCgpID0+IHtcbiAgICAgICAgICBpZiAoIXRoaXMudmlkZW8gfHwgIXRoaXMuY29udGFpbmVyKSByZXR1cm47XG4gICAgICAgICAgaWYgKHRoaXMuZnJhbWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUuZXJyb3IoXCJObyBmcmFtZXMgd2VyZSByZWNlaXZlZCBmcm9tIHdlYkNvZGVjc1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5mcmFtZVJhdGUgPSB0aGlzLmZyYW1lcy5sZW5ndGggLyB0aGlzLnZpZGVvLmR1cmF0aW9uO1xuICAgICAgICAgIGlmICh0aGlzLmRlYnVnKSBjb25zb2xlLmluZm8oXCJSZWNlaXZlZFwiLCB0aGlzLmZyYW1lcy5sZW5ndGgsIFwiZnJhbWVzXCIpO1xuICAgICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgICAgdGhpcy52aWRlby5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpO1xuICAgICAgICAgIHRoaXMucGFpbnRDYW52YXNGcmFtZShNYXRoLmZsb29yKHRoaXMuY3VycmVudFRpbWUgKiB0aGlzLmZyYW1lUmF0ZSkpO1xuICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBlbmNvdW50ZXJlZCB3aGlsZSBkZWNvZGluZyB2aWRlb1wiKTtcbiAgICAgICAgICB0aGlzLmZyYW1lcyA9IFtdO1xuICAgICAgICAgIHRoaXMudmlkZW8ubG9hZCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICB9KTtcbiAgICBjb25zdCB7XG4gICAgICBzcmMsXG4gICAgICB2aWRlb0NvbnRhaW5lclxuICAgIH0gPSBvcHRpb25zO1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJTY3JvbGxWaWRlbyBtdXN0IGJlIGluaXRpYXRlZCBpbiBhIERPTSBjb250ZXh0XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXZpZGVvQ29udGFpbmVyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwic2Nyb2xsVmlkZW9Db250YWluZXIgbXVzdCBiZSBhIHZhbGlkIERPTSBvYmplY3RcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc3JjKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiTXVzdCBwcm92aWRlIHZhbGlkIHZpZGVvIHNyYyB0byBTY3JvbGxWaWRlb1wiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5jb250YWluZXIgPSB0eXBlb2YgdmlkZW9Db250YWluZXIgPT09IFwic3RyaW5nXCIgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh2aWRlb0NvbnRhaW5lcikgOiB2aWRlb0NvbnRhaW5lcjtcbiAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUodGhpcy5jb250YWluZXIpO1xuICAgIHRoaXMudmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7XG4gICAgdGhpcy52aWRlby5zcmMgPSBzcmM7XG4gICAgdGhpcy52aWRlby5wcmVsb2FkID0gXCJhdXRvXCI7XG4gICAgdGhpcy52aWRlby50YWJJbmRleCA9IDA7XG4gICAgdGhpcy52aWRlby5wbGF5c0lubGluZSA9IHRydWU7XG4gICAgdGhpcy52aWRlby5tdXRlZCA9IHRydWU7XG4gICAgdGhpcy52aWRlby5wYXVzZSgpO1xuICAgIHRoaXMudmlkZW8ubG9hZCgpO1xuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMudmlkZW8pO1xuICAgIGNvbnN0IGJyb3dzZXJFbmdpbmUgPSBuZXcgVUFQYXJzZXIoKS5nZXRFbmdpbmUoKTtcbiAgICB0aGlzLmlzU2FmYXJpID0gYnJvd3NlckVuZ2luZS5uYW1lID09PSBcIldlYktpdFwiO1xuICAgIGlmICh0aGlzLmRlYnVnICYmIHRoaXMuaXNTYWZhcmkpIGNvbnNvbGUuaW5mbyhcIlNhZmFyaSBicm93c2VyIGRldGVjdGVkXCIpO1xuICAgIHRoaXMudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRlZG1ldGFkYXRhXCIsICgpID0+IHRoaXMuc2V0VGFyZ2V0VGltZVBlcmNlbnQoMCwgdHJ1ZSksIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLCB0aGlzLnJlc2l6ZSk7XG4gICAgdGhpcy5kZWNvZGVWaWRlbygpO1xuICB9XG4gIHNldENvdmVyU3R5bGUoZWwpIHtcbiAgICBpZiAoZWwgJiYgdGhpcy5jb250YWluZXIpIHtcbiAgICAgIGVsLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgZWwuc3R5bGUudG9wID0gXCI1MCVcIjtcbiAgICAgIGVsLnN0eWxlLmxlZnQgPSBcIjUwJVwiO1xuICAgICAgZWwuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUoLTUwJSwgLTUwJSlcIjtcbiAgICAgIGNvbnN0IHsgd2lkdGg6IGNvbnRhaW5lcldpZHRoLCBoZWlnaHQ6IGNvbnRhaW5lckhlaWdodCB9ID0gdGhpcy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCB3aWR0aCA9IGVsLnZpZGVvV2lkdGggfHwgZWwud2lkdGg7XG4gICAgICBjb25zdCBoZWlnaHQgPSBlbC52aWRlb0hlaWdodCB8fCBlbC5oZWlnaHQ7XG4gICAgICBpZiAoY29udGFpbmVyV2lkdGggLyBjb250YWluZXJIZWlnaHQgPiB3aWR0aCAvIGhlaWdodCkge1xuICAgICAgICBlbC5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgICAgICBlbC5zdHlsZS5oZWlnaHQgPSBcImF1dG9cIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xuICAgICAgICBlbC5zdHlsZS53aWR0aCA9IFwiYXV0b1wiO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBwYWludENhbnZhc0ZyYW1lKGZyYW1lTnVtKSB7XG4gICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICBjb25zdCBmcmFtZUlkeCA9IE1hdGgubWluKGZyYW1lTnVtLCB0aGlzLmZyYW1lcy5sZW5ndGggLSAxKTtcbiAgICAgIGNvbnN0IGN1cnJGcmFtZSA9IHRoaXMuZnJhbWVzW2ZyYW1lSWR4XTtcbiAgICAgIGlmIChjdXJyRnJhbWUgJiYgdGhpcy5jb250YWluZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUuaW5mbyhcIlBhaW50aW5nIGZyYW1lXCIsIGZyYW1lSWR4KTtcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSBjdXJyRnJhbWUud2lkdGg7XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IGN1cnJGcmFtZS5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRoaXMucmVzZXRDYW52YXNEaW1lbnNpb25zKHdpZHRoLCBoZWlnaHQsIGN1cnJGcmFtZS53aWR0aCwgY3VyckZyYW1lLmhlaWdodCk7XG4gICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UoY3VyckZyYW1lLCAwLCAwLCBjdXJyRnJhbWUud2lkdGgsIGN1cnJGcmFtZS5oZWlnaHQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB0cmFuc2l0aW9uVG9UYXJnZXRUaW1lKGp1bXApIHtcbiAgICBpZiAoIXRoaXMudmlkZW8pIHJldHVybjtcbiAgICBpZiAodGhpcy5kZWJ1ZykgY29uc29sZS5pbmZvKFwiVHJhbnNpdGlvbmluZyB0YXJnZXRUaW1lOlwiLCB0aGlzLnRhcmdldFRpbWUsIFwiY3VycmVudFRpbWU6XCIsIHRoaXMuY3VycmVudFRpbWUpO1xuICAgIGlmIChpc05hTih0aGlzLnRhcmdldFRpbWUpIHx8IE1hdGguYWJzKHRoaXMuY3VycmVudFRpbWUgLSB0aGlzLnRhcmdldFRpbWUpIDwgdGhpcy5mcmFtZVRocmVzaG9sZCkge1xuICAgICAgdGhpcy52aWRlby5wYXVzZSgpO1xuICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLnRhcmdldFRpbWUgPiB0aGlzLnZpZGVvLmR1cmF0aW9uKSB7XG4gICAgICB0aGlzLnRhcmdldFRpbWUgPSB0aGlzLnZpZGVvLmR1cmF0aW9uO1xuICAgIH1cbiAgICBpZiAodGhpcy50YXJnZXRUaW1lIDwgMCkge1xuICAgICAgdGhpcy50YXJnZXRUaW1lID0gMDtcbiAgICB9XG4gICAgY29uc3QgdHJhbnNpdGlvbkZvcndhcmQgPSB0aGlzLnRhcmdldFRpbWUgLSB0aGlzLmN1cnJlbnRUaW1lO1xuICAgIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgdGhpcy5jdXJyZW50VGltZSArPSB0cmFuc2l0aW9uRm9yd2FyZCAvICgyNTYgLyB0aGlzLnRyYW5zaXRpb25TcGVlZCk7XG4gICAgICBpZiAoanVtcCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRUaW1lID0gdGhpcy50YXJnZXRUaW1lO1xuICAgICAgfVxuICAgICAgdGhpcy5wYWludENhbnZhc0ZyYW1lKE1hdGguZmxvb3IodGhpcy5jdXJyZW50VGltZSAqIHRoaXMuZnJhbWVSYXRlKSk7XG4gICAgfSBlbHNlIGlmIChqdW1wIHx8IHRoaXMuaXNTYWZhcmkgfHwgdGhpcy50YXJnZXRUaW1lIC0gdGhpcy5jdXJyZW50VGltZSA8IDApIHtcbiAgICAgIHRoaXMudmlkZW8ucGF1c2UoKTtcbiAgICAgIHRoaXMuY3VycmVudFRpbWUgKz0gdHJhbnNpdGlvbkZvcndhcmQgLyAoNjQgLyB0aGlzLnRyYW5zaXRpb25TcGVlZCk7XG4gICAgICBpZiAoanVtcCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRUaW1lID0gdGhpcy50YXJnZXRUaW1lO1xuICAgICAgfVxuICAgICAgdGhpcy52aWRlby5jdXJyZW50VGltZSA9IHRoaXMuY3VycmVudFRpbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHBsYXliYWNrUmF0ZSA9IE1hdGgubWF4KE1hdGgubWluKHRyYW5zaXRpb25Gb3J3YXJkICogNCwgdGhpcy50cmFuc2l0aW9uU3BlZWQsIDE2KSwgMSk7XG4gICAgICBpZiAodGhpcy5kZWJ1ZykgY29uc29sZS5pbmZvKFwiU2Nyb2xsVmlkZW8gcGxheWJhY2tSYXRlOlwiLCBwbGF5YmFja1JhdGUpO1xuICAgICAgaWYgKCFpc05hTihwbGF5YmFja1JhdGUpKSB7XG4gICAgICAgIHRoaXMudmlkZW8ucGxheWJhY2tSYXRlID0gcGxheWJhY2tSYXRlO1xuICAgICAgICB0aGlzLnZpZGVvLnBsYXkoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY3VycmVudFRpbWUgPSB0aGlzLnZpZGVvLmN1cnJlbnRUaW1lO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy50cmFuc2l0aW9uVG9UYXJnZXRUaW1lKGp1bXApKTtcbiAgICB9XG4gIH1cbiAgcmVzZXRDYW52YXNEaW1lbnNpb25zKHcsIGgsIGZyYW1lVywgZnJhbWVIKSB7XG4gICAgaWYgKCF0aGlzLmNhbnZhcykgcmV0dXJuO1xuICAgIGlmICh3IC8gaCA+IGZyYW1lVyAvIGZyYW1lSCkge1xuICAgICAgdGhpcy5jYW52YXMuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICAgIHRoaXMuY2FudmFzLnN0eWxlLmhlaWdodCA9IFwiYXV0b1wiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNhbnZhcy5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcbiAgICAgIHRoaXMuY2FudmFzLnN0eWxlLndpZHRoID0gXCJhdXRvXCI7XG4gICAgfVxuICB9XG4gIHNldFRhcmdldFRpbWVQZXJjZW50KHNldFBlcmNlbnRhZ2UsIGp1bXAgPSB0cnVlKSB7XG4gICAgaWYgKCF0aGlzLnZpZGVvKSByZXR1cm47XG4gICAgdGhpcy50YXJnZXRUaW1lID0gTWF0aC5tYXgoTWF0aC5taW4oc2V0UGVyY2VudGFnZSwgMSksIDApICogKHRoaXMuZnJhbWVzLmxlbmd0aCAmJiB0aGlzLmZyYW1lUmF0ZSA/IHRoaXMuZnJhbWVzLmxlbmd0aCAvIHRoaXMuZnJhbWVSYXRlIDogdGhpcy52aWRlby5kdXJhdGlvbik7XG4gICAgaWYgKCFqdW1wICYmIE1hdGguYWJzKHRoaXMuY3VycmVudFRpbWUgLSB0aGlzLnRhcmdldFRpbWUpIDwgdGhpcy5mcmFtZVRocmVzaG9sZCkgcmV0dXJuO1xuICAgIGlmICghanVtcCAmJiB0aGlzLnRyYW5zaXRpb25pbmcpIHJldHVybjtcbiAgICBpZiAoIXRoaXMuY2FudmFzICYmICF0aGlzLnZpZGVvLnBhdXNlZCkgdGhpcy52aWRlby5wbGF5KCk7XG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gdHJ1ZTtcbiAgICB0aGlzLnRyYW5zaXRpb25Ub1RhcmdldFRpbWUoanVtcCk7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB2YXIgX2E7XG4gICAgdGhpcy5yZXNpemVPYnNlcnZlci51bm9ic2VydmUodGhpcy5jb250YWluZXIpO1xuICAgIChfYSA9IHRoaXMudmlkZW8pID09IG51bGwgPyB2b2lkIDAgOiBfYS5yZW1vdmVFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIiwgdGhpcy5yZXNpemUpO1xuICAgIGlmICh0aGlzLmRlYnVnKSBjb25zb2xlLmluZm8oXCJEZXN0cm95aW5nIFNjcm9sbFZpZGVvXCIpO1xuICAgIGlmICh0aGlzLmNvbnRhaW5lcikgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgfVxufVxuY29uc3Qgd3JhcHBlciA9IFwiQ29udHJvbFNsaWRlci1tb2R1bGVfX3dyYXBwZXJfX19zSEVrZFwiO1xuY29uc3Qgc2xpZGVySXRlbSA9IFwiQ29udHJvbFNsaWRlci1tb2R1bGVfX3NsaWRlckl0ZW1fX19RUVNrUlwiO1xuY29uc3Qgc2xpZGVySW1hZ2UgPSBcIkNvbnRyb2xTbGlkZXItbW9kdWxlX19zbGlkZXJJbWFnZV9fXzloUmwtXCI7XG5jb25zdCBhcnJvdyA9IFwiQ29udHJvbFNsaWRlci1tb2R1bGVfX2Fycm93X19fMDVnaFlcIjtcbmNvbnN0IGFycm93VmVydGljYWwgPSBcIkNvbnRyb2xTbGlkZXItbW9kdWxlX19hcnJvd1ZlcnRpY2FsX19fdEJmVk5cIjtcbmNvbnN0IG5leHRBcnJvdyA9IFwiQ29udHJvbFNsaWRlci1tb2R1bGVfX25leHRBcnJvd19fXy0zMFljXCI7XG5jb25zdCBhcnJvd0lubmVyID0gXCJDb250cm9sU2xpZGVyLW1vZHVsZV9fYXJyb3dJbm5lcl9fX2FFcmEzXCI7XG5jb25zdCBhcnJvd0ljb24gPSBcIkNvbnRyb2xTbGlkZXItbW9kdWxlX19hcnJvd0ljb25fX19TNHp0RlwiO1xuY29uc3QgYXJyb3dJbWcgPSBcIkNvbnRyb2xTbGlkZXItbW9kdWxlX19hcnJvd0ltZ19fXzJkd0pXXCI7XG5jb25zdCBtaXJyb3IgPSBcIkNvbnRyb2xTbGlkZXItbW9kdWxlX19taXJyb3JfX19icmQ2VVwiO1xuY29uc3QgcGFnaW5hdGlvbiA9IFwiQ29udHJvbFNsaWRlci1tb2R1bGVfX3BhZ2luYXRpb25fX19iaWNMRlwiO1xuY29uc3QgcGFnaW5hdGlvbklubmVyID0gXCJDb250cm9sU2xpZGVyLW1vZHVsZV9fcGFnaW5hdGlvbklubmVyX19fYlQtUC1cIjtcbmNvbnN0IHBhZ2luYXRpb25WZXJ0aWNhbCA9IFwiQ29udHJvbFNsaWRlci1tb2R1bGVfX3BhZ2luYXRpb25WZXJ0aWNhbF9fX3pZcUt3XCI7XG5jb25zdCBwYWdpbmF0aW9uSXRlbSA9IFwiQ29udHJvbFNsaWRlci1tb2R1bGVfX3BhZ2luYXRpb25JdGVtX19fblRSYmtcIjtcbmNvbnN0IGRvdCA9IFwiQ29udHJvbFNsaWRlci1tb2R1bGVfX2RvdF9fX3AxUXVuXCI7XG5jb25zdCBhY3RpdmVEb3QgPSBcIkNvbnRyb2xTbGlkZXItbW9kdWxlX19hY3RpdmVEb3RfX19MSEZhalwiO1xuY29uc3QgcGFnaW5hdGlvbkluc2lkZUJvdHRvbSA9IFwiQ29udHJvbFNsaWRlci1tb2R1bGVfX3BhZ2luYXRpb25JbnNpZGVCb3R0b21fX19SM0ZXblwiO1xuY29uc3QgcGFnaW5hdGlvbkluc2lkZVRvcCA9IFwiQ29udHJvbFNsaWRlci1tb2R1bGVfX3BhZ2luYXRpb25JbnNpZGVUb3BfX19WLXFiLVwiO1xuY29uc3QgcGFnaW5hdGlvbk91dHNpZGVCb3R0b20gPSBcIkNvbnRyb2xTbGlkZXItbW9kdWxlX19wYWdpbmF0aW9uT3V0c2lkZUJvdHRvbV9fXzE0dzhEXCI7XG5jb25zdCBwYWdpbmF0aW9uT3V0c2lkZVRvcCA9IFwiQ29udHJvbFNsaWRlci1tb2R1bGVfX3BhZ2luYXRpb25PdXRzaWRlVG9wX19fU0NMcUJcIjtcbmNvbnN0IHBhZ2luYXRpb25JbnNpZGVMZWZ0ID0gXCJDb250cm9sU2xpZGVyLW1vZHVsZV9fcGFnaW5hdGlvbkluc2lkZUxlZnRfX195T0JSWlwiO1xuY29uc3QgcGFnaW5hdGlvbkluc2lkZVJpZ2h0ID0gXCJDb250cm9sU2xpZGVyLW1vZHVsZV9fcGFnaW5hdGlvbkluc2lkZVJpZ2h0X19fUnR0M29cIjtcbmNvbnN0IHBhZ2luYXRpb25PdXRzaWRlTGVmdCA9IFwiQ29udHJvbFNsaWRlci1tb2R1bGVfX3BhZ2luYXRpb25PdXRzaWRlTGVmdF9fX2xhaGF3XCI7XG5jb25zdCBwYWdpbmF0aW9uT3V0c2lkZVJpZ2h0ID0gXCJDb250cm9sU2xpZGVyLW1vZHVsZV9fcGFnaW5hdGlvbk91dHNpZGVSaWdodF9fX0V0dVFhXCI7XG5jb25zdCBpbWdXcmFwcGVyID0gXCJDb250cm9sU2xpZGVyLW1vZHVsZV9faW1nV3JhcHBlcl9fX1VqRWdCXCI7XG5jb25zdCBjYXB0aW9uQmxvY2sgPSBcIkNvbnRyb2xTbGlkZXItbW9kdWxlX19jYXB0aW9uQmxvY2tfX19kSjYtalwiO1xuY29uc3QgY2FwdGlvblRleHRXcmFwcGVyID0gXCJDb250cm9sU2xpZGVyLW1vZHVsZV9fY2FwdGlvblRleHRXcmFwcGVyX19fSEZscGZcIjtcbmNvbnN0IGNhcHRpb25UZXh0ID0gXCJDb250cm9sU2xpZGVyLW1vZHVsZV9fY2FwdGlvblRleHRfX191R0JWY1wiO1xuY29uc3QgYWN0aXZlID0gXCJDb250cm9sU2xpZGVyLW1vZHVsZV9fYWN0aXZlX19fV1pLNEdcIjtcbmNvbnN0IHdpdGhQb2ludGVyRXZlbnRzID0gXCJDb250cm9sU2xpZGVyLW1vZHVsZV9fd2l0aFBvaW50ZXJFdmVudHNfX190LTE4TVwiO1xuY29uc3QgdG9wTGVmdEFsaWdubWVudCA9IFwiQ29udHJvbFNsaWRlci1tb2R1bGVfX3RvcExlZnRBbGlnbm1lbnRfX196am5HTVwiO1xuY29uc3QgdG9wQ2VudGVyQWxpZ25tZW50ID0gXCJDb250cm9sU2xpZGVyLW1vZHVsZV9fdG9wQ2VudGVyQWxpZ25tZW50X19fZ0QxeFdcIjtcbmNvbnN0IHRvcFJpZ2h0QWxpZ25tZW50ID0gXCJDb250cm9sU2xpZGVyLW1vZHVsZV9fdG9wUmlnaHRBbGlnbm1lbnRfX19OTWFwU1wiO1xuY29uc3QgbWlkZGxlTGVmdEFsaWdubWVudCA9IFwiQ29udHJvbFNsaWRlci1tb2R1bGVfX21pZGRsZUxlZnRBbGlnbm1lbnRfX19PblVyWVwiO1xuY29uc3QgbWlkZGxlQ2VudGVyQWxpZ25tZW50ID0gXCJDb250cm9sU2xpZGVyLW1vZHVsZV9fbWlkZGxlQ2VudGVyQWxpZ25tZW50X19fVGRrbDBcIjtcbmNvbnN0IG1pZGRsZVJpZ2h0QWxpZ25tZW50ID0gXCJDb250cm9sU2xpZGVyLW1vZHVsZV9fbWlkZGxlUmlnaHRBbGlnbm1lbnRfX193RWJmWFwiO1xuY29uc3QgYm90dG9tTGVmdEFsaWdubWVudCA9IFwiQ29udHJvbFNsaWRlci1tb2R1bGVfX2JvdHRvbUxlZnRBbGlnbm1lbnRfX19jVFAyLVwiO1xuY29uc3QgYm90dG9tQ2VudGVyQWxpZ25tZW50ID0gXCJDb250cm9sU2xpZGVyLW1vZHVsZV9fYm90dG9tQ2VudGVyQWxpZ25tZW50X19fYzU0ZkJcIjtcbmNvbnN0IGJvdHRvbVJpZ2h0QWxpZ25tZW50ID0gXCJDb250cm9sU2xpZGVyLW1vZHVsZV9fYm90dG9tUmlnaHRBbGlnbm1lbnRfX19rRXdyelwiO1xuY29uc3QgY2xpY2tPdmVybGF5ID0gXCJDb250cm9sU2xpZGVyLW1vZHVsZV9fY2xpY2tPdmVybGF5X19fRFpBMjhcIjtcbmNvbnN0IGNvbnRhaW4gPSBcIkNvbnRyb2xTbGlkZXItbW9kdWxlX19jb250YWluX19fcEx5cTdcIjtcbmNvbnN0IGNvdmVyID0gXCJDb250cm9sU2xpZGVyLW1vZHVsZV9fY292ZXJfX19LZERhdFwiO1xuY29uc3Qgc3R5bGVzJDIgPSB7XG4gIHdyYXBwZXIsXG4gIHNsaWRlckl0ZW0sXG4gIHNsaWRlckltYWdlLFxuICBhcnJvdyxcbiAgYXJyb3dWZXJ0aWNhbCxcbiAgbmV4dEFycm93LFxuICBhcnJvd0lubmVyLFxuICBhcnJvd0ljb24sXG4gIGFycm93SW1nLFxuICBtaXJyb3IsXG4gIHBhZ2luYXRpb24sXG4gIHBhZ2luYXRpb25Jbm5lcixcbiAgcGFnaW5hdGlvblZlcnRpY2FsLFxuICBwYWdpbmF0aW9uSXRlbSxcbiAgZG90LFxuICBhY3RpdmVEb3QsXG4gIHBhZ2luYXRpb25JbnNpZGVCb3R0b20sXG4gIHBhZ2luYXRpb25JbnNpZGVUb3AsXG4gIHBhZ2luYXRpb25PdXRzaWRlQm90dG9tLFxuICBwYWdpbmF0aW9uT3V0c2lkZVRvcCxcbiAgcGFnaW5hdGlvbkluc2lkZUxlZnQsXG4gIHBhZ2luYXRpb25JbnNpZGVSaWdodCxcbiAgcGFnaW5hdGlvbk91dHNpZGVMZWZ0LFxuICBwYWdpbmF0aW9uT3V0c2lkZVJpZ2h0LFxuICBpbWdXcmFwcGVyLFxuICBjYXB0aW9uQmxvY2ssXG4gIGNhcHRpb25UZXh0V3JhcHBlcixcbiAgY2FwdGlvblRleHQsXG4gIGFjdGl2ZSxcbiAgd2l0aFBvaW50ZXJFdmVudHMsXG4gIHRvcExlZnRBbGlnbm1lbnQsXG4gIHRvcENlbnRlckFsaWdubWVudCxcbiAgdG9wUmlnaHRBbGlnbm1lbnQsXG4gIG1pZGRsZUxlZnRBbGlnbm1lbnQsXG4gIG1pZGRsZUNlbnRlckFsaWdubWVudCxcbiAgbWlkZGxlUmlnaHRBbGlnbm1lbnQsXG4gIGJvdHRvbUxlZnRBbGlnbm1lbnQsXG4gIGJvdHRvbUNlbnRlckFsaWdubWVudCxcbiAgYm90dG9tUmlnaHRBbGlnbm1lbnQsXG4gIGNsaWNrT3ZlcmxheSxcbiAgY29udGFpbixcbiAgY292ZXJcbn07XG5jb25zdCBsaW5rID0gXCJSaWNoVGV4dFJlbmRlcmVyLW1vZHVsZV9fbGlua19fX0JXZVoyXCI7XG5jb25zdCBzdHlsZXMkMSA9IHtcbiAgbGlua1xufTtcbmNvbnN0IFJpY2hUZXh0UmVuZGVyZXIgPSAoeyBjb250ZW50IH0pID0+IHtcbiAgY29uc3QgZ2V0Q2hpbGRyZW4gPSAoY2hpbGRyZW4pID0+IHtcbiAgICByZXR1cm4gY2hpbGRyZW4ubWFwKChjaGlsZCwgaSkgPT4ge1xuICAgICAgaWYgKGNoaWxkLnR5cGUgPT09IFwibGlua1wiKSB7XG4gICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4UnVudGltZS5qc3goXCJhXCIsIHsgY2xhc3NOYW1lOiBzdHlsZXMkMS5saW5rLCBocmVmOiBjaGlsZC52YWx1ZSwgdGFyZ2V0OiBjaGlsZC50YXJnZXQsIGNoaWxkcmVuOiBnZXRDaGlsZHJlbihjaGlsZC5jaGlsZHJlbikgfSwgaSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeFJ1bnRpbWUuanN4KFwic3BhblwiLCB7IHN0eWxlOiBnZXRMZWFmQ3NzKGNoaWxkKSwgY2hpbGRyZW46IGNoaWxkLnRleHQgfSwgaSk7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4UnVudGltZS5qc3goanN4UnVudGltZS5GcmFnbWVudCwgeyBjaGlsZHJlbjogY29udGVudC5tYXAoKGJsb2NrLCBpKSA9PiB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBibG9jay5jaGlsZHJlbjtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeFJ1bnRpbWUuanN4KFwiZGl2XCIsIHsgY2hpbGRyZW46IGdldENoaWxkcmVuKGNoaWxkcmVuKSB9LCBpKTtcbiAgfSkgfSk7XG59O1xuZnVuY3Rpb24gZ2V0TGVhZkNzcyhsZWFmKSB7XG4gIHJldHVybiB7XG4gICAgLi4ubGVhZi5mb250V2VpZ2h0ICYmIHsgZm9udFdlaWdodDogbGVhZi5mb250V2VpZ2h0IH0sXG4gICAgLi4ubGVhZi5mb250U3R5bGUgJiYgeyBmb250U3R5bGU6IGxlYWYuZm9udFN0eWxlIH0sXG4gICAgLi4ubGVhZi50ZXh0RGVjb3JhdGlvbiAmJiB7IHRleHREZWNvcmF0aW9uOiBsZWFmLnRleHREZWNvcmF0aW9uIH0sXG4gICAgLi4ubGVhZi50ZXh0VHJhbnNmb3JtICYmIHsgdGV4dFRyYW5zZm9ybTogbGVhZi50ZXh0VHJhbnNmb3JtIH0sXG4gICAgLi4ubGVhZi5mb250VmFyaWFudCAmJiB7IGZvbnRWYXJpYW50OiBsZWFmLmZvbnRWYXJpYW50IH0sXG4gICAgLi4ubGVhZi52ZXJ0aWNhbEFsaWduICYmIHtcbiAgICAgIHZlcnRpY2FsQWxpZ246IGxlYWYudmVydGljYWxBbGlnbixcbiAgICAgIGxpbmVIZWlnaHQ6IFwiMHB4XCJcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBzY2FsaW5nVmFsdWUodmFsdWUsIGlzRWRpdG9yID0gZmFsc2UpIHtcbiAgcmV0dXJuIGlzRWRpdG9yID8gYGNhbGModmFyKC0tY250cmwtYXJ0aWNsZS13aWR0aCkgKiAke3ZhbHVlfSlgIDogYCR7dmFsdWUgKiAxMDB9dndgO1xufVxuY29uc3Qgc3ZnID0gXCJTdmdJbWFnZS1tb2R1bGVfX3N2Z19fX3EzeEUtXCI7XG5jb25zdCBpbWcgPSBcIlN2Z0ltYWdlLW1vZHVsZV9faW1nX19fVnNUbS1cIjtcbmNvbnN0IHN0eWxlcyA9IHtcbiAgc3ZnLFxuICBpbWdcbn07XG5jb25zdCBTdmdJbWFnZSA9ICh7IHVybDogdXJsMiwgZmlsbCA9IFwiIzAwMDAwMFwiLCBob3ZlckZpbGwgPSBcIiNDQ0NDQ0NcIiwgY2xhc3NOYW1lID0gXCJcIiB9KSA9PiB7XG4gIGNvbnN0IFtzdXBwb3J0c01hc2ssIHNldFN1cHBvcnRzTWFza10gPSByZWFjdC51c2VTdGF0ZSh0cnVlKTtcbiAgcmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cuQ1NTKSB7XG4gICAgICBjb25zdCBzdXBwb3J0ZWQgPSBDU1Muc3VwcG9ydHMoXCJtYXNrLWltYWdlXCIsICd1cmwoXCJcIiknKSB8fCBDU1Muc3VwcG9ydHMoXCItd2Via2l0LW1hc2staW1hZ2VcIiwgJ3VybChcIlwiKScpO1xuICAgICAgc2V0U3VwcG9ydHNNYXNrKHN1cHBvcnRlZCk7XG4gICAgfVxuICB9LCBbXSk7XG4gIGlmICghdXJsMi5lbmRzV2l0aChcIi5zdmdcIikgfHwgIXN1cHBvcnRzTWFzaykge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4UnVudGltZS5qc3goXCJpbWdcIiwgeyBzcmM6IHVybDIsIGFsdDogXCJcIiwgY2xhc3NOYW1lOiBjbihzdHlsZXMuaW1nLCBjbGFzc05hbWUpIH0pO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4UnVudGltZS5qc3goXG4gICAgXCJzcGFuXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXN1cHBvcnRzLW1hc2tcIjogc3VwcG9ydHNNYXNrLFxuICAgICAgY2xhc3NOYW1lOiBjbihzdHlsZXMuc3ZnLCBjbGFzc05hbWUpLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgXCItLXN2Z1wiOiBgdXJsKCR7dXJsMn0pYCxcbiAgICAgICAgXCItLWZpbGxcIjogZmlsbCxcbiAgICAgICAgXCItLWhvdmVyLWZpbGxcIjogaG92ZXJGaWxsXG4gICAgICB9XG4gICAgfVxuICApO1xufTtcbmNvbnN0IGFsaWdubWVudENsYXNzTmFtZSA9IHtcbiAgXCJ0b3AtbGVmdFwiOiBzdHlsZXMkMi50b3BMZWZ0QWxpZ25tZW50LFxuICBcInRvcC1jZW50ZXJcIjogc3R5bGVzJDIudG9wQ2VudGVyQWxpZ25tZW50LFxuICBcInRvcC1yaWdodFwiOiBzdHlsZXMkMi50b3BSaWdodEFsaWdubWVudCxcbiAgXCJtaWRkbGUtbGVmdFwiOiBzdHlsZXMkMi5taWRkbGVMZWZ0QWxpZ25tZW50LFxuICBcIm1pZGRsZS1jZW50ZXJcIjogc3R5bGVzJDIubWlkZGxlQ2VudGVyQWxpZ25tZW50LFxuICBcIm1pZGRsZS1yaWdodFwiOiBzdHlsZXMkMi5taWRkbGVSaWdodEFsaWdubWVudCxcbiAgXCJib3R0b20tbGVmdFwiOiBzdHlsZXMkMi5ib3R0b21MZWZ0QWxpZ25tZW50LFxuICBcImJvdHRvbS1jZW50ZXJcIjogc3R5bGVzJDIuYm90dG9tQ2VudGVyQWxpZ25tZW50LFxuICBcImJvdHRvbS1yaWdodFwiOiBzdHlsZXMkMi5ib3R0b21SaWdodEFsaWdubWVudFxufTtcbmZ1bmN0aW9uIENvbnRyb2xTbGlkZXIoeyBzZXR0aW5ncywgY29udGVudCwgc3R5bGVzOiBzbGlkZXJTdHlsZXMsIGlzRWRpdG9yIH0pIHtcbiAgY29uc3QgW3NsaWRlclJlZiwgc2V0U2xpZGVyUmVmXSA9IHJlYWN0LnVzZVN0YXRlKG51bGwpO1xuICBjb25zdCB7IHdpZHRoU2V0dGluZ3MsIGZvbnRTZXR0aW5ncywgbGV0dGVyU3BhY2luZywgdGV4dEFsaWduLCB3b3JkU3BhY2luZywgZm9udFNpemVMaW5lSGVpZ2h0LCB0ZXh0QXBwZWFyYW5jZSwgY29sb3IgfSA9IHNsaWRlclN0eWxlcy5jYXB0aW9uO1xuICBjb25zdCBbc2xpZGVyRGltZW5zaW9ucywgc2V0U2xpZGVyRGltZW5zaW9uc10gPSByZWFjdC51c2VTdGF0ZSh2b2lkIDApO1xuICBjb25zdCBbd3JhcHBlclJlZiwgc2V0V3JhcHBlclJlZl0gPSByZWFjdC51c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2N1cnJlbnRTbGlkZUluZGV4LCBzZXRDdXJyZW50U2xpZGVJbmRleF0gPSByZWFjdC51c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2tleSwgc2V0S2V5XSA9IHJlYWN0LnVzZVN0YXRlKDApO1xuICBjb25zdCB7IGRpcmVjdGlvbiwgdHJhbnNpdGlvbiwgY29udHJvbHMsIHBhZ2luYXRpb246IHBhZ2luYXRpb24yLCBjYXB0aW9uLCB0cmlnZ2VycyB9ID0gc2V0dGluZ3M7XG4gIGNvbnN0IHByZXZTbGlkZXJUeXBlUmVmID0gcmVhY3QudXNlUmVmKHRyYW5zaXRpb24udHlwZSk7XG4gIGNvbnN0IHsgeDogY29udHJvbHNPZmZzZXRYLCB5OiBjb250cm9sc09mZnNldFkgfSA9IHNldHRpbmdzLmNvbnRyb2xzLm9mZnNldDtcbiAgY29uc3QgaGFuZGxlQXJyb3dDbGljayA9IChkaXIpID0+IHtcbiAgICBpZiAoc2xpZGVyUmVmKSB7XG4gICAgICBzbGlkZXJSZWYuZ28oZGlyKTtcbiAgICB9XG4gIH07XG4gIHJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF3cmFwcGVyUmVmKSByZXR1cm47XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcbiAgICAgIGlmICghc2xpZGVyUmVmKSByZXR1cm47XG4gICAgICBjb25zdCBbd3JhcHBlcjJdID0gZW50cmllcztcbiAgICAgIHNldFNsaWRlckRpbWVuc2lvbnMoe1xuICAgICAgICB3aWR0aDogTWF0aC5yb3VuZCh3cmFwcGVyMi5jb250ZW50UmVjdC53aWR0aCksXG4gICAgICAgIGhlaWdodDogTWF0aC5yb3VuZCh3cmFwcGVyMi5jb250ZW50UmVjdC5oZWlnaHQpXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKHdyYXBwZXJSZWYpO1xuICAgIHJldHVybiAoKSA9PiBvYnNlcnZlci51bm9ic2VydmUod3JhcHBlclJlZik7XG4gIH0sIFt3cmFwcGVyUmVmXSk7XG4gIHJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFzbGlkZXJSZWYgfHwgcHJldlNsaWRlclR5cGVSZWYuY3VycmVudCA9PT0gdHJhbnNpdGlvbi50eXBlKSByZXR1cm47XG4gICAgc2V0S2V5KChwcmV2KSA9PiBwcmV2ICsgMSk7XG4gICAgcHJldlNsaWRlclR5cGVSZWYuY3VycmVudCA9IHRyYW5zaXRpb24udHlwZTtcbiAgfSwgW3RyYW5zaXRpb24udHlwZV0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeFJ1bnRpbWUuanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbihzdHlsZXMkMi53cmFwcGVyLCB7IFtzdHlsZXMkMi5lZGl0b3JdOiBpc0VkaXRvciB9KSwgcmVmOiBzZXRXcmFwcGVyUmVmLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeFJ1bnRpbWUuanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogc3R5bGVzJDIuc2xpZGVySW5uZXIsIHN0eWxlOiB7XG4gICAgd2lkdGg6IHNsaWRlckRpbWVuc2lvbnMgPyBzbGlkZXJEaW1lbnNpb25zLndpZHRoIDogXCIxMDAlXCIsXG4gICAgaGVpZ2h0OiBzbGlkZXJEaW1lbnNpb25zID8gc2xpZGVyRGltZW5zaW9ucy5oZWlnaHQgOiBcIjEwMCVcIlxuICB9LCBjaGlsZHJlbjogW1xuICAgIHNldHRpbmdzLmNhcHRpb24uaXNBY3RpdmUgJiYgLyogQF9fUFVSRV9fICovIGpzeFJ1bnRpbWUuanN4KFxuICAgICAgXCJkaXZcIixcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbihzdHlsZXMkMi5jYXB0aW9uQmxvY2spLFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeFJ1bnRpbWUuanN4KFxuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBzdHlsZXMkMi5jYXB0aW9uVGV4dFdyYXBwZXIsXG4gICAgICAgICAgICBjaGlsZHJlbjogY29udGVudC5tYXAoKGl0ZW0sIGluZGV4KSA9PiAvKiBAX19QVVJFX18gKi8ganN4UnVudGltZS5qc3goXG4gICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNuKHN0eWxlcyQyLmNhcHRpb25UZXh0LCBhbGlnbm1lbnRDbGFzc05hbWVbY2FwdGlvbi5hbGlnbm1lbnRdLCB7XG4gICAgICAgICAgICAgICAgICBbc3R5bGVzJDIud2l0aFBvaW50ZXJFdmVudHNdOiBpbmRleCA9PT0gY3VycmVudFNsaWRlSW5kZXggJiYgaXNFZGl0b3IsXG4gICAgICAgICAgICAgICAgICBbc3R5bGVzJDIuYWN0aXZlXTogaW5kZXggPT09IGN1cnJlbnRTbGlkZUluZGV4XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IGZvbnRTZXR0aW5ncy5mb250RmFtaWx5LFxuICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogZm9udFNldHRpbmdzLmZvbnRXZWlnaHQsXG4gICAgICAgICAgICAgICAgICBmb250U3R5bGU6IGZvbnRTZXR0aW5ncy5mb250U3R5bGUsXG4gICAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGhTZXR0aW5ncy5zaXppbmcgPT09IFwiYXV0b1wiID8gXCJtYXgtY29udGVudFwiIDogc2NhbGluZ1ZhbHVlKHdpZHRoU2V0dGluZ3Mud2lkdGgsIGlzRWRpdG9yKSxcbiAgICAgICAgICAgICAgICAgIGxldHRlclNwYWNpbmc6IHNjYWxpbmdWYWx1ZShsZXR0ZXJTcGFjaW5nLCBpc0VkaXRvciksXG4gICAgICAgICAgICAgICAgICB3b3JkU3BhY2luZzogc2NhbGluZ1ZhbHVlKHdvcmRTcGFjaW5nLCBpc0VkaXRvciksXG4gICAgICAgICAgICAgICAgICB0ZXh0QWxpZ24sXG4gICAgICAgICAgICAgICAgICBmb250U2l6ZTogc2NhbGluZ1ZhbHVlKGZvbnRTaXplTGluZUhlaWdodC5mb250U2l6ZSwgaXNFZGl0b3IpLFxuICAgICAgICAgICAgICAgICAgbGluZUhlaWdodDogc2NhbGluZ1ZhbHVlKGZvbnRTaXplTGluZUhlaWdodC5saW5lSGVpZ2h0LCBpc0VkaXRvciksXG4gICAgICAgICAgICAgICAgICB0ZXh0VHJhbnNmb3JtOiB0ZXh0QXBwZWFyYW5jZS50ZXh0VHJhbnNmb3JtID8/IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgdGV4dERlY29yYXRpb246IHRleHRBcHBlYXJhbmNlLnRleHREZWNvcmF0aW9uID8/IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgZm9udFZhcmlhbnQ6IHRleHRBcHBlYXJhbmNlLmZvbnRWYXJpYW50ID8/IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgICBjb2xvcixcbiAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogdHJhbnNpdGlvbi5kdXJhdGlvbiA/IGAke01hdGgucm91bmQocGFyc2VJbnQodHJhbnNpdGlvbi5kdXJhdGlvbikgLyAyKX1tc2AgOiBcIjUwMG1zXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4UnVudGltZS5qc3goXG4gICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImRhdGEtc3R5bGVzXCI6IFwiY2FwdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHN0eWxlcyQyLmNhcHRpb25UZXh0SW5uZXIsXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgXCItLWxpbmstaG92ZXItY29sb3JcIjogY2FwdGlvbi5ob3ZlcixcbiAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHRvcDogc2NhbGluZ1ZhbHVlKGNhcHRpb24ub2Zmc2V0LnksIGlzRWRpdG9yKSxcbiAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBzY2FsaW5nVmFsdWUoY2FwdGlvbi5vZmZzZXQueCwgaXNFZGl0b3IpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4UnVudGltZS5qc3goUmljaFRleHRSZW5kZXJlciwgeyBjb250ZW50OiBpdGVtLmltYWdlQ2FwdGlvbiB9KVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgaW5kZXhcbiAgICAgICAgICAgICkpXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICB9XG4gICAgKSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4UnVudGltZS5qc3goXG4gICAgICByZWFjdFNwbGlkZS5TcGxpZGUsXG4gICAgICB7XG4gICAgICAgIG9uTW92ZTogKGUpID0+IHtcbiAgICAgICAgICBzZXRDdXJyZW50U2xpZGVJbmRleChlLmluZGV4KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVmOiBzZXRTbGlkZXJSZWYsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBhcnJvd3M6IGZhbHNlLFxuICAgICAgICAgIHNwZWVkOiB0cmFuc2l0aW9uLmR1cmF0aW9uID8gcGFyc2VJbnQodHJhbnNpdGlvbi5kdXJhdGlvbikgOiA1MDAsXG4gICAgICAgICAgYXV0b3BsYXk6IGlzRWRpdG9yID8gZmFsc2UgOiB0cmlnZ2Vycy5hdXRvUGxheSAhPT0gbnVsbCxcbiAgICAgICAgICAuLi50cmlnZ2Vycy5hdXRvUGxheSAhPT0gbnVsbCAmJiB7XG4gICAgICAgICAgICBpbnRlcnZhbDogcGFyc2VJbnQodHJpZ2dlcnMuYXV0b1BsYXkpICogMWUzXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkaXJlY3Rpb246IGRpcmVjdGlvbiA9PT0gXCJob3JpelwiIHx8IHRyYW5zaXRpb24udHlwZSA9PT0gXCJmYWRlIGluXCIgPyBcImx0clwiIDogXCJ0dGJcIixcbiAgICAgICAgICBwYWdpbmF0aW9uOiBmYWxzZSxcbiAgICAgICAgICBkcmFnOiB0cmlnZ2Vycy50cmlnZ2Vyc0xpc3QuZHJhZyxcbiAgICAgICAgICBwZXJQYWdlOiAxLFxuICAgICAgICAgIHdpZHRoOiBzbGlkZXJEaW1lbnNpb25zID8gc2xpZGVyRGltZW5zaW9ucy53aWR0aCA6IFwiMTAwJVwiLFxuICAgICAgICAgIGhlaWdodDogc2xpZGVyRGltZW5zaW9ucyA/IHNsaWRlckRpbWVuc2lvbnMuaGVpZ2h0IDogXCIxMDAlXCIsXG4gICAgICAgICAgdHlwZTogdHJhbnNpdGlvbi50eXBlID09PSBcImZhZGUgaW5cIiA/IFwiZmFkZVwiIDogXCJsb29wXCIsXG4gICAgICAgICAgcmV3aW5kOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGNoaWxkcmVuOiBjb250ZW50Lm1hcCgoaXRlbSwgaW5kZXgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3hSdW50aW1lLmpzeChyZWFjdFNwbGlkZS5TcGxpZGVTbGlkZSwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeFJ1bnRpbWUuanN4KFxuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBzdHlsZXMkMi5zbGlkZXJJdGVtLFxuICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hSdW50aW1lLmpzeChcbiAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogc3R5bGVzJDIuaW1nV3JhcHBlcixcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeFJ1bnRpbWUuanN4KFxuICAgICAgICAgICAgICAgICAgXCJpbWdcIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbihzdHlsZXMkMi5zbGlkZXJJbWFnZSwge1xuICAgICAgICAgICAgICAgICAgICAgIFtzdHlsZXMkMi5jb250YWluXTogaXRlbS5pbWFnZS5vYmplY3RGaXQgPT09IFwiY29udGFpblwiLFxuICAgICAgICAgICAgICAgICAgICAgIFtzdHlsZXMkMi5jb3Zlcl06IGl0ZW0uaW1hZ2Uub2JqZWN0Rml0ID09PSBcImNvdmVyXCJcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIHNyYzogaXRlbS5pbWFnZS51cmwsXG4gICAgICAgICAgICAgICAgICAgIGFsdDogaXRlbS5pbWFnZS5uYW1lID8/IFwiXCJcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgICkgfSwgaW5kZXgpKVxuICAgICAgfSxcbiAgICAgIGtleVxuICAgICksXG4gICAgY29udHJvbHMuaXNBY3RpdmUgJiYgLyogQF9fUFVSRV9fICovIGpzeFJ1bnRpbWUuanN4cyhqc3hSdW50aW1lLkZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4UnVudGltZS5qc3goXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBjbGFzc05hbWU6IGNuKHN0eWxlcyQyLmFycm93LCB7XG4gICAgICAgICAgICBbc3R5bGVzJDIuYXJyb3dWZXJ0aWNhbF06IGRpcmVjdGlvbiA9PT0gXCJ2ZXJ0XCJcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgY29sb3I6IGNvbnRyb2xzLmNvbG9yLFxuICAgICAgICAgICAgW1wiLS1hcnJvdy1ob3Zlci1jb2xvclwiXTogY29udHJvbHMuaG92ZXJcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4UnVudGltZS5qc3hzKFxuICAgICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGhhbmRsZUFycm93Q2xpY2soXCItMVwiKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBzdHlsZXMkMi5hcnJvd0lubmVyLFxuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke3NjYWxpbmdWYWx1ZShjb250cm9sc09mZnNldFgsIGlzRWRpdG9yKX0sICR7c2NhbGluZ1ZhbHVlKGNvbnRyb2xzT2Zmc2V0WSAqIChkaXJlY3Rpb24gPT09IFwiaG9yaXpcIiA/IDEgOiAtMSksIGlzRWRpdG9yKX0pIHNjYWxlKCR7c2V0dGluZ3MuY29udHJvbHMuc2NhbGUgLyAxMDB9KSByb3RhdGUoJHtkaXJlY3Rpb24gPT09IFwiaG9yaXpcIiA/IFwiMGRlZ1wiIDogXCI5MGRlZ1wifSlgXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgY29udHJvbHMuYXJyb3dzSW1nVXJsICYmIC8qIEBfX1BVUkVfXyAqLyBqc3hSdW50aW1lLmpzeChcbiAgICAgICAgICAgICAgICAgIFN2Z0ltYWdlLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB1cmw6IGNvbnRyb2xzLmFycm93c0ltZ1VybCxcbiAgICAgICAgICAgICAgICAgICAgZmlsbDogY29udHJvbHMuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGhvdmVyRmlsbDogY29udHJvbHMuaG92ZXIsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY24oc3R5bGVzJDIuYXJyb3dJbWcsIHN0eWxlcyQyLm1pcnJvcilcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICFjb250cm9scy5hcnJvd3NJbWdVcmwgJiYgLyogQF9fUFVSRV9fICovIGpzeFJ1bnRpbWUuanN4KEFycm93SWNvbiwgeyBjb2xvcjogY29udHJvbHMuY29sb3IsIGNsYXNzTmFtZTogY24oc3R5bGVzJDIuYXJyb3dJY29uLCBzdHlsZXMkMi5hcnJvd0ltZywgc3R5bGVzJDIubWlycm9yKSB9KVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICApLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeFJ1bnRpbWUuanN4KFxuICAgICAgICBcImRpdlwiLFxuICAgICAgICB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBjbihzdHlsZXMkMi5hcnJvdywgc3R5bGVzJDIubmV4dEFycm93LCB7XG4gICAgICAgICAgICBbc3R5bGVzJDIuYXJyb3dWZXJ0aWNhbF06IGRpcmVjdGlvbiA9PT0gXCJ2ZXJ0XCJcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgY29sb3I6IGNvbnRyb2xzLmNvbG9yLFxuICAgICAgICAgICAgW1wiLS1hcnJvdy1ob3Zlci1jb2xvclwiXTogY29udHJvbHMuaG92ZXJcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4UnVudGltZS5qc3hzKFxuICAgICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBzdHlsZXMkMi5hcnJvd0lubmVyLFxuICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBoYW5kbGVBcnJvd0NsaWNrKFwiKzFcIiksXG4gICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7c2NhbGluZ1ZhbHVlKGNvbnRyb2xzT2Zmc2V0WCAqIChkaXJlY3Rpb24gPT09IFwiaG9yaXpcIiA/IC0xIDogMSksIGlzRWRpdG9yKX0sICR7c2NhbGluZ1ZhbHVlKGNvbnRyb2xzT2Zmc2V0WSwgaXNFZGl0b3IpfSkgc2NhbGUoJHtzZXR0aW5ncy5jb250cm9scy5zY2FsZSAvIDEwMH0pIHJvdGF0ZSgke2RpcmVjdGlvbiA9PT0gXCJob3JpelwiID8gXCIwZGVnXCIgOiBcIjkwZGVnXCJ9KWBcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICBjb250cm9scy5hcnJvd3NJbWdVcmwgJiYgLyogQF9fUFVSRV9fICovIGpzeFJ1bnRpbWUuanN4KFxuICAgICAgICAgICAgICAgICAgU3ZnSW1hZ2UsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogY29udHJvbHMuYXJyb3dzSW1nVXJsLFxuICAgICAgICAgICAgICAgICAgICBmaWxsOiBjb250cm9scy5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgaG92ZXJGaWxsOiBjb250cm9scy5ob3ZlcixcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBzdHlsZXMkMi5hcnJvd0ltZ1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgIWNvbnRyb2xzLmFycm93c0ltZ1VybCAmJiAvKiBAX19QVVJFX18gKi8ganN4UnVudGltZS5qc3goQXJyb3dJY29uLCB7IGNvbG9yOiBjb250cm9scy5jb2xvciwgY2xhc3NOYW1lOiBjbihzdHlsZXMkMi5hcnJvd0ljb24sIHN0eWxlcyQyLmFycm93SW1nKSB9KVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICApXG4gICAgXSB9KSxcbiAgICB0cmlnZ2Vycy50cmlnZ2Vyc0xpc3QuY2xpY2sgJiYgLyogQF9fUFVSRV9fICovIGpzeFJ1bnRpbWUuanN4KFxuICAgICAgXCJkaXZcIixcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBzdHlsZXMkMi5jbGlja092ZXJsYXksXG4gICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICBpZiAoc2xpZGVyUmVmKSB7XG4gICAgICAgICAgICBzbGlkZXJSZWYuZ28oXCIrMVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApLFxuICAgIHBhZ2luYXRpb24yLmlzQWN0aXZlICYmIC8qIEBfX1BVUkVfXyAqLyBqc3hSdW50aW1lLmpzeChcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogY24oc3R5bGVzJDIucGFnaW5hdGlvbiwge1xuICAgICAgICAgIFtzdHlsZXMkMi5wYWdpbmF0aW9uSW5zaWRlQm90dG9tXTogcGFnaW5hdGlvbjIucG9zaXRpb24gPT09IFwiaW5zaWRlLTFcIiAmJiBkaXJlY3Rpb24gPT09IFwiaG9yaXpcIixcbiAgICAgICAgICBbc3R5bGVzJDIucGFnaW5hdGlvbkluc2lkZVRvcF06IHBhZ2luYXRpb24yLnBvc2l0aW9uID09PSBcImluc2lkZS0yXCIgJiYgZGlyZWN0aW9uID09PSBcImhvcml6XCIsXG4gICAgICAgICAgW3N0eWxlcyQyLnBhZ2luYXRpb25PdXRzaWRlQm90dG9tXTogcGFnaW5hdGlvbjIucG9zaXRpb24gPT09IFwib3V0c2lkZS0xXCIgJiYgZGlyZWN0aW9uID09PSBcImhvcml6XCIsXG4gICAgICAgICAgW3N0eWxlcyQyLnBhZ2luYXRpb25PdXRzaWRlVG9wXTogcGFnaW5hdGlvbjIucG9zaXRpb24gPT09IFwib3V0c2lkZS0yXCIgJiYgZGlyZWN0aW9uID09PSBcImhvcml6XCIsXG4gICAgICAgICAgW3N0eWxlcyQyLnBhZ2luYXRpb25JbnNpZGVMZWZ0XTogcGFnaW5hdGlvbjIucG9zaXRpb24gPT09IFwiaW5zaWRlLTFcIiAmJiBkaXJlY3Rpb24gPT09IFwidmVydFwiLFxuICAgICAgICAgIFtzdHlsZXMkMi5wYWdpbmF0aW9uSW5zaWRlUmlnaHRdOiBwYWdpbmF0aW9uMi5wb3NpdGlvbiA9PT0gXCJpbnNpZGUtMlwiICYmIGRpcmVjdGlvbiA9PT0gXCJ2ZXJ0XCIsXG4gICAgICAgICAgW3N0eWxlcyQyLnBhZ2luYXRpb25PdXRzaWRlTGVmdF06IHBhZ2luYXRpb24yLnBvc2l0aW9uID09PSBcIm91dHNpZGUtMVwiICYmIGRpcmVjdGlvbiA9PT0gXCJ2ZXJ0XCIsXG4gICAgICAgICAgW3N0eWxlcyQyLnBhZ2luYXRpb25PdXRzaWRlUmlnaHRdOiBwYWdpbmF0aW9uMi5wb3NpdGlvbiA9PT0gXCJvdXRzaWRlLTJcIiAmJiBkaXJlY3Rpb24gPT09IFwidmVydFwiLFxuICAgICAgICAgIFtzdHlsZXMkMi5wYWdpbmF0aW9uVmVydGljYWxdOiBkaXJlY3Rpb24gPT09IFwidmVydFwiXG4gICAgICAgIH0pLFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeFJ1bnRpbWUuanN4KFxuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBzdHlsZXMkMi5wYWdpbmF0aW9uSW5uZXIsXG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHBhZ2luYXRpb24yLmNvbG9yc1syXSxcbiAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgc2NhbGUoJHtwYWdpbmF0aW9uMi5zY2FsZSAvIDEwMH0pIHRyYW5zbGF0ZSgke3NjYWxpbmdWYWx1ZShwYWdpbmF0aW9uMi5vZmZzZXQueCwgaXNFZGl0b3IpfSwgJHtzY2FsaW5nVmFsdWUocGFnaW5hdGlvbjIub2Zmc2V0LnksIGlzRWRpdG9yKX0pIHJvdGF0ZSgke2RpcmVjdGlvbiA9PT0gXCJob3JpelwiID8gXCIwZGVnXCIgOiBcIjkwZGVnXCJ9KWBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGlsZHJlbjogY29udGVudC5tYXAoKF8sIGluZGV4KSA9PiAvKiBAX19QVVJFX18gKi8ganN4UnVudGltZS5qc3goXG4gICAgICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoc2xpZGVyUmVmKSB7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlclJlZi5nbyhpbmRleCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNuKHN0eWxlcyQyLnBhZ2luYXRpb25JdGVtKSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeFJ1bnRpbWUuanN4KFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbihzdHlsZXMkMi5kb3QsIHtcbiAgICAgICAgICAgICAgICAgICAgICBbc3R5bGVzJDIuYWN0aXZlRG90XTogaW5kZXggPT09IGN1cnJlbnRTbGlkZUluZGV4XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogaW5kZXggPT09IGN1cnJlbnRTbGlkZUluZGV4ID8gcGFnaW5hdGlvbjIuY29sb3JzWzBdIDogcGFnaW5hdGlvbjIuY29sb3JzWzFdLFxuICAgICAgICAgICAgICAgICAgICAgIFtcIi0tcGFnaW5hdGlvbi1ob3Zlci1jb2xvclwiXTogcGFnaW5hdGlvbjIuaG92ZXJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgaW5kZXhcbiAgICAgICAgICAgICkpXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICB9XG4gICAgKVxuICBdIH0pIH0pO1xufVxuZnVuY3Rpb24gQXJyb3dJY29uKHsgY29sb3IsIGNsYXNzTmFtZSB9KSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4UnVudGltZS5qc3goXCJzdmdcIiwgeyB2aWV3Qm94OiBcIjAgMCAxMCAxOFwiLCBjbGFzc05hbWUsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4UnVudGltZS5qc3goXCJnXCIsIHsgaWQ6IFwiU3ltYm9sc1wiLCBzdHJva2U6IFwibm9uZVwiLCBzdHJva2VXaWR0aDogXCIxXCIsIGZpbGxSdWxlOiBcImV2ZW5vZGRcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hSdW50aW1lLmpzeChcInBhdGhcIiwgeyBkOiBcIk0tMy43MDcxMDY3OCw0LjI5Mjg5MzIyIEMtMy4zNDY2MjI4MiwzLjkzMjQwOTI2IC0yLjc3OTM5MTc2LDMuOTA0Njc5NzIgLTIuMzg3MTAwNTYsNC4yMDk3MDQ2MSBMLTIuMjkyODkzMjIsNC4yOTI4OTMyMiBMNSwxMS41ODUgTDEyLjI5Mjg5MzIsNC4yOTI4OTMyMiBDMTIuNjUzMzc3MiwzLjkzMjQwOTI2IDEzLjIyMDYwODIsMy45MDQ2Nzk3MiAxMy42MTI4OTk0LDQuMjA5NzA0NjEgTDEzLjcwNzEwNjgsNC4yOTI4OTMyMiBDMTQuMDY3NTkwNyw0LjY1MzM3NzE4IDE0LjA5NTMyMDMsNS4yMjA2MDgyNCAxMy43OTAyOTU0LDUuNjEyODk5NDQgTDEzLjcwNzEwNjgsNS43MDcxMDY3OCBMNS43MDcxMDY3OCwxMy43MDcxMDY4IEM1LjM0NjYyMjgyLDE0LjA2NzU5MDcgNC43NzkzOTE3NiwxNC4wOTUzMjAzIDQuMzg3MTAwNTYsMTMuNzkwMjk1NCBMNC4yOTI4OTMyMiwxMy43MDcxMDY4IEwtMy43MDcxMDY3OCw1LjcwNzEwNjc4IEMtNC4wOTc2MzEwNyw1LjMxNjU4MjQ5IC00LjA5NzYzMTA3LDQuNjgzNDE3NTEgLTMuNzA3MTA2NzgsNC4yOTI4OTMyMiBaXCIsIGlkOiBcIlNoYXBlLUNvcHlcIiwgZmlsbDogY29sb3IsIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoNSwgOSkgcm90YXRlKC05MCkgdHJhbnNsYXRlKC01LCAtOSlcIiB9KSB9KSB9KTtcbn1cbmNvbnN0IENvbnRyb2xTbGlkZXJDb21wb25lbnQgPSB7XG4gIGVsZW1lbnQ6IENvbnRyb2xTbGlkZXIsXG4gIGlkOiBcImNvbnRyb2wtc2xpZGVyXCIsXG4gIG5hbWU6IFwiU2xpZGVyXCIsXG4gIHByZXZpZXc6IHtcbiAgICB0eXBlOiBcInZpZGVvXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2RuLmNudHJsLnNpdGUvcHJvamVjdHMvMDFHSjJTTVBQQ1E3SlNOR1ZYWjJESFdYV0YvYXJ0aWNsZXMtYXNzZXRzLzAxSlRGWFg1TTg5OVJHMkpBMkdUSkcxV05YLm1wNFwiXG4gIH0sXG4gIGRlZmF1bHRTaXplOiB7XG4gICAgd2lkdGg6IDQwMCxcbiAgICBoZWlnaHQ6IDQwMFxuICB9LFxuICBzY2hlbWE6IHtcbiAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgIHByb3BlcnRpZXM6IHtcbiAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgIGxheW91dEJhc2VkOiB0cnVlLFxuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgdHJpZ2dlcnM6IHtcbiAgICAgICAgICAgIG5hbWU6IFwidHJpZ2dlcnNcIixcbiAgICAgICAgICAgIGljb246IFwidGFyZ2V0XCIsXG4gICAgICAgICAgICB0b29sdGlwOiBcIlRyaWdnZXJzXCIsXG4gICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICB0cmlnZ2Vyc0xpc3Q6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwidG9nZ2xlLXJhdGlvLWdyb3VwXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgIGNsaWNrOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYm9vbGVhblwiXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZHJhZzoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImJvb2xlYW5cIlxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgYXV0b1BsYXk6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBbXCJzdHJpbmdcIiwgXCJudWxsXCJdLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkF1dG9cIixcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcInN0ZXAtc2VsZWN0b3JcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bTogW251bGwsIFwiMXNcIiwgXCIyc1wiLCBcIjNzXCIsIFwiNHNcIiwgXCI1c1wiXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBkaXJlY3Rpb246IHtcbiAgICAgICAgICAgIG5hbWU6IFwiZGlyZWN0aW9uXCIsXG4gICAgICAgICAgICBpY29uOiBcImhvcml6b250YWwtcmVzaXplXCIsXG4gICAgICAgICAgICB0b29sdGlwOiBcIkRpcmVjdGlvblwiLFxuICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgICAgdHlwZTogXCJyYXRpby1ncm91cFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW51bTogW1wiaG9yaXpcIiwgXCJ2ZXJ0XCJdXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cmFuc2l0aW9uOiB7XG4gICAgICAgICAgICBuYW1lOiBcInRyYW5zaXRcIixcbiAgICAgICAgICAgIGljb246IFwidHJhbnNpdGlvblwiLFxuICAgICAgICAgICAgdG9vbHRpcDogXCJUcmFuc2l0aW9uXCIsXG4gICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICB0eXBlOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcInJhdGlvLWdyb3VwXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW06IFtcInNsaWRlXCIsIFwiZmFkZSBpblwiXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBkdXJhdGlvbjoge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiaG91cmdsYXNzLWljb25cIixcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcInN0ZXAtc2VsZWN0b3JcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bTogW1wiMTAwbXNcIiwgXCIyNTBtc1wiLCBcIjUwMG1zXCIsIFwiMTAwMG1zXCJdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbnRyb2xzOiB7XG4gICAgICAgICAgICBuYW1lOiBcImNvbnRyb2xzXCIsXG4gICAgICAgICAgICBpY29uOiBcImNvbnRyb2xzXCIsXG4gICAgICAgICAgICB0b29sdGlwOiBcIkNvbnRyb2xzXCIsXG4gICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICBpc0FjdGl2ZToge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiYm9vbGVhblwiLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0dGluZy10b2dnbGVcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgYXJyb3dzSW1nVXJsOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogW1wic3RyaW5nXCIsIFwibnVsbFwiXSxcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcInNldHRpbmdzLWltYWdlLWlucHV0XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIG9mZnNldDoge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJvZmZzZXQtY29udHJvbHNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgeDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgeToge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzY2FsZToge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJzY2FsZVwiLFxuICAgICAgICAgICAgICAgIG1pbjogNTAsXG4gICAgICAgICAgICAgICAgbWF4OiA2MDAsXG4gICAgICAgICAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJyYW5nZS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGNvbG9yOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJjb2xvclwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJzZXR0aW5ncy1jb2xvci1waWNrZXJcIixcbiAgICAgICAgICAgICAgICAgIGZvcm1hdDogXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgaG92ZXI6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImhvdmVyXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcInNldHRpbmdzLWNvbG9yLXBpY2tlclwiLFxuICAgICAgICAgICAgICAgICAgZm9ybWF0OiBcInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgICBuYW1lOiBcIm5hdlwiLFxuICAgICAgICAgICAgaWNvbjogXCJwYWdpbmF0aW9uXCIsXG4gICAgICAgICAgICB0b29sdGlwOiBcIk5hdmlnYXRpb25cIixcbiAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgIGlzQWN0aXZlOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJib29sZWFuXCIsXG4gICAgICAgICAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJzZXR0aW5nLXRvZ2dsZVwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwibmF2IHBvc2l0aW9uXCIsXG4gICAgICAgICAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJzb2NrZXRcIixcbiAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogXCJob3Jpem9udGFsXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgZW51bTogW1wib3V0c2lkZS0xXCIsIFwib3V0c2lkZS0yXCIsIFwiaW5zaWRlLTFcIiwgXCJpbnNpZGUtMlwiXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwib2Zmc2V0LWNvbnRyb2xzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgIHg6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHk6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgc2NhbGU6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2NhbGVcIixcbiAgICAgICAgICAgICAgICBtaW46IDEwLFxuICAgICAgICAgICAgICAgIG1heDogNDAwLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwicmFuZ2UtY29udHJvbFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjb2xvcnM6IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcInNldHRpbmdzLWNvbG9yLXBpY2tlclwiLFxuICAgICAgICAgICAgICAgICAgZm9ybWF0OiBcIm11bHRpcGxlXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiY29sb3JcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGhvdmVyOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJob3ZlclwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJzZXR0aW5ncy1jb2xvci1waWNrZXJcIixcbiAgICAgICAgICAgICAgICAgIGZvcm1hdDogXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgY2FwdGlvbjoge1xuICAgICAgICAgICAgbmFtZTogXCJDYXB0aW9uXCIsXG4gICAgICAgICAgICBpY29uOiBcInRleHQtaWNvblwiLFxuICAgICAgICAgICAgdG9vbHRpcDogXCJDYXB0aW9uXCIsXG4gICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICBpc0FjdGl2ZToge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiYm9vbGVhblwiLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0dGluZy10b2dnbGVcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgYWxpZ25tZW50OiB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJBbGlnbm1lbnRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYWxpZ24tZ3JpZFwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtOiBbXCJ0b3AtbGVmdFwiLCBcInRvcC1jZW50ZXJcIiwgXCJ0b3AtcmlnaHRcIiwgXCJtaWRkbGUtbGVmdFwiLCBcIm1pZGRsZS1jZW50ZXJcIiwgXCJtaWRkbGUtcmlnaHRcIiwgXCJib3R0b20tbGVmdFwiLCBcImJvdHRvbS1jZW50ZXJcIiwgXCJib3R0b20tcmlnaHRcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgb2Zmc2V0OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcIm9mZnNldC1jb250cm9sc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICB4OiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB5OiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGhvdmVyOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJob3ZlclwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJzZXR0aW5ncy1jb2xvci1waWNrZXJcIixcbiAgICAgICAgICAgICAgICAgIGZvcm1hdDogXCJzaW5nbGVcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIHRyaWdnZXJzOiB7XG4gICAgICAgICAgICB0cmlnZ2Vyc0xpc3Q6IHtcbiAgICAgICAgICAgICAgY2xpY2s6IGZhbHNlLFxuICAgICAgICAgICAgICBkcmFnOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXV0b1BsYXk6IG51bGxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbnRyb2xzOiB7XG4gICAgICAgICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGFycm93c0ltZ1VybDogbnVsbCxcbiAgICAgICAgICAgIG9mZnNldDoge1xuICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2NhbGU6IDEwMCxcbiAgICAgICAgICAgIGNvbG9yOiBcIiMwMDAwMDBcIixcbiAgICAgICAgICAgIGhvdmVyOiBcIiNjY2NjY2NcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJhbnNpdGlvbjoge1xuICAgICAgICAgICAgdHlwZTogXCJzbGlkZVwiLFxuICAgICAgICAgICAgZHVyYXRpb246IFwiNTAwbXNcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICAgICAgaXNBY3RpdmU6IHRydWUsXG4gICAgICAgICAgICBzY2FsZTogNTAsXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJvdXRzaWRlLTFcIixcbiAgICAgICAgICAgIG9mZnNldDoge1xuICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29sb3JzOiBbXCIjY2NjY2NjXCIsIFwiI2NjY2NjY1wiLCBcIiMwMDAwMDBcIl0sXG4gICAgICAgICAgICBob3ZlcjogXCIjY2NjY2NjXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRpcmVjdGlvbjogXCJob3JpelwiLFxuICAgICAgICAgIGNhcHRpb246IHtcbiAgICAgICAgICAgIG9mZnNldDoge1xuICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNBY3RpdmU6IHRydWUsXG4gICAgICAgICAgICBhbGlnbm1lbnQ6IFwibWlkZGxlLWNlbnRlclwiLFxuICAgICAgICAgICAgaG92ZXI6IFwiI2NjY2NjY1wiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkaXNwbGF5UnVsZXM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZjoge1xuICAgICAgICAgICAgICBuYW1lOiBcImRpcmVjdGlvblwiLFxuICAgICAgICAgICAgICB2YWx1ZTogXCJ2ZXJ0XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aGVuOiB7XG4gICAgICAgICAgICAgIG5hbWU6IFwicHJvcGVydGllcy5wYWdpbmF0aW9uLnByb3BlcnRpZXMucG9zaXRpb24uZGlzcGxheS5kaXJlY3Rpb25cIixcbiAgICAgICAgICAgICAgdmFsdWU6IFwidmVydGljYWxcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgbGF5b3V0QmFzZWQ6IGZhbHNlLFxuICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgIGl0ZW1zOiB7XG4gICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICBpbWFnZToge1xuICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJtZWRpYS1pbnB1dFwiXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICB1cmw6IHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9iamVjdEZpdDoge1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgIGVudW06IFtcImNvdmVyXCIsIFwiY29udGFpblwiXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcmVxdWlyZWQ6IFtcInVybFwiLCBcIm5hbWVcIl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbWFnZUNhcHRpb246IHtcbiAgICAgICAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwicmljaC10ZXh0XCIsXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiQWRkIENhcHRpb24uLi5cIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGluazoge1xuICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0LWlucHV0XCIsXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiQWRkIENhcHRpb24uLi5cIlxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVxdWlyZWQ6IFtcImltYWdlXCJdXG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHQ6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpbWFnZToge1xuICAgICAgICAgICAgICBvYmplY3RGaXQ6IFwiY292ZXJcIixcbiAgICAgICAgICAgICAgdXJsOiBcImh0dHBzOi8vY2RuLmNudHJsLnNpdGUvcHJvamVjdHMvMDFHSjJTTVBQQ1E3SlNOR1ZYWjJESFdYV0YvYXJ0aWNsZXMtYXNzZXRzLzAxSlJaMTVUMjQ3MzkyNjIxRk5UVFJDVzlELmpwZWdcIixcbiAgICAgICAgICAgICAgbmFtZTogXCJTbGlkZXItMS5qcGVnXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbWFnZUNhcHRpb246IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwicGFyYWdyYXBoXCIsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IFt7IHRleHQ6IFwiXCIgfV1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgaW1hZ2U6IHtcbiAgICAgICAgICAgICAgb2JqZWN0Rml0OiBcImNvdmVyXCIsXG4gICAgICAgICAgICAgIHVybDogXCJodHRwczovL2Nkbi5jbnRybC5zaXRlL3Byb2plY3RzLzAxR0oyU01QUENRN0pTTkdWWFoyREhXWFdGL2FydGljbGVzLWFzc2V0cy8wMUpSWjE3UzhUUzlUNjJQN05LVE5ORUI2NC5qcGVnXCIsXG4gICAgICAgICAgICAgIG5hbWU6IFwiU2xpZGVyLTIuanBlZ1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW1hZ2VDYXB0aW9uOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInBhcmFncmFwaFwiLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbeyB0ZXh0OiBcIlwiIH1dXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGltYWdlOiB7XG4gICAgICAgICAgICAgIG9iamVjdEZpdDogXCJjb3ZlclwiLFxuICAgICAgICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jZG4uY250cmwuc2l0ZS9wcm9qZWN0cy8wMUdKMlNNUFBDUTdKU05HVlhaMkRIV1hXRi9hcnRpY2xlcy1hc3NldHMvMDFKUloxOTdTODlSTlQ2UkE3WkpTWDNaMzguanBlZ1wiLFxuICAgICAgICAgICAgICBuYW1lOiBcIlNsaWRlci0zLmpwZWdcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGltYWdlQ2FwdGlvbjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJwYXJhZ3JhcGhcIixcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogW3sgdGV4dDogXCJcIiB9XVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgc3R5bGVzOiB7XG4gICAgICAgIGxheW91dEJhc2VkOiB0cnVlLFxuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgY2FwdGlvbjoge1xuICAgICAgICAgICAgZGF0YU5hbWU6IFwiY2FwdGlvblwiLFxuICAgICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgZm9udFNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcImZvbnQtc2V0dGluZ3NcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgZm9udEZhbWlseToge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZm9udFN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHdpZHRoU2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcInRleHQtd2lkdGgtY29udHJvbFwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBzaXppbmc6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgZW51bTogW1wiYXV0b1wiLCBcIm1hbnVhbFwiXVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZm9udFNpemVMaW5lSGVpZ2h0OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcImZvbnQtc2l6ZS1saW5lLWhlaWdodFwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICBmb250U2l6ZToge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgbGluZUhlaWdodDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBsZXR0ZXJTcGFjaW5nOiB7XG4gICAgICAgICAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJsZXR0ZXItc3BhY2luZy1pbnB1dFwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHdvcmRTcGFjaW5nOiB7XG4gICAgICAgICAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJ3b3JkLXNwYWNpbmctaW5wdXRcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIlxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB0ZXh0QWxpZ246IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcInRleHQtYWxpZ24tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgIGVudW06IFtcImxlZnRcIiwgXCJjZW50ZXJcIiwgXCJyaWdodFwiLCBcImp1c3RpZnlcIl1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgdGV4dEFwcGVhcmFuY2U6IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcInRleHQtYXBwZWFyYW5jZVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICB0ZXh0VHJhbnNmb3JtOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgIGVudW06IFtcIm5vbmVcIiwgXCJ1cHBlcmNhc2VcIiwgXCJsb3dlcmNhc2VcIiwgXCJjYXBpdGFsaXplXCJdXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgdGV4dERlY29yYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgZW51bTogW1wibm9uZVwiLCBcInVuZGVybGluZVwiXVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGZvbnRWYXJpYW50OiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgIGVudW06IFtcIm5vcm1hbFwiLCBcInNtYWxsLWNhcHNcIl1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGNvbG9yOiB7XG4gICAgICAgICAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHlsZS1wYW5lbC1jb2xvci1waWNrZXJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgY2FwdGlvbjoge1xuICAgICAgICAgICAgd2lkdGhTZXR0aW5nczoge1xuICAgICAgICAgICAgICB3aWR0aDogMC4xMyxcbiAgICAgICAgICAgICAgc2l6aW5nOiBcImF1dG9cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZvbnRTZXR0aW5nczoge1xuICAgICAgICAgICAgICBmb250RmFtaWx5OiBcIkFyaWFsXCIsXG4gICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IDQwMCxcbiAgICAgICAgICAgICAgZm9udFN0eWxlOiBcIm5vcm1hbFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9udFNpemVMaW5lSGVpZ2h0OiB7XG4gICAgICAgICAgICAgIGZvbnRTaXplOiAwLjAyLFxuICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiAwLjAyXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGV0dGVyU3BhY2luZzogMCxcbiAgICAgICAgICAgIHdvcmRTcGFjaW5nOiAwLFxuICAgICAgICAgICAgdGV4dEFsaWduOiBcImxlZnRcIixcbiAgICAgICAgICAgIHRleHRBcHBlYXJhbmNlOiB7XG4gICAgICAgICAgICAgIHRleHRUcmFuc2Zvcm06IFwibm9uZVwiLFxuICAgICAgICAgICAgICB0ZXh0RGVjb3JhdGlvbjogXCJub25lXCIsXG4gICAgICAgICAgICAgIGZvbnRWYXJpYW50OiBcIm5vcm1hbFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29sb3I6IFwiIzAwMDAwMFwiXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICByZXF1aXJlZDogW1wic2V0dGluZ3NcIiwgXCJjb250ZW50XCIsIFwic3R5bGVzXCJdXG4gIH1cbn07XG5jb25zdCBjb21wb25lbnRzID0gW1xuICBDb250cm9sU2xpZGVyQ29tcG9uZW50XG5dO1xuZXhwb3J0cy5BbmNob3JTaWRlID0gQW5jaG9yU2lkZTtcbmV4cG9ydHMuQXJlYUFuY2hvciA9IEFyZWFBbmNob3I7XG5leHBvcnRzLkFydGljbGVJdGVtVHlwZSA9IEFydGljbGVJdGVtVHlwZTtcbmV4cG9ydHMuQ250cmxDbGllbnQgPSBDbGllbnQ7XG5leHBvcnRzLkRpbWVuc2lvbk1vZGUgPSBEaW1lbnNpb25Nb2RlO1xuZXhwb3J0cy5Gb250RmFjZUdlbmVyYXRvciA9IEZvbnRGYWNlR2VuZXJhdG9yO1xuZXhwb3J0cy5LZXlmcmFtZVR5cGUgPSBLZXlmcmFtZVR5cGU7XG5leHBvcnRzLlBvc2l0aW9uVHlwZSA9IFBvc2l0aW9uVHlwZTtcbmV4cG9ydHMuU2Nyb2xsUGxheWJhY2tWaWRlb01hbmFnZXIgPSBTY3JvbGxQbGF5YmFja1ZpZGVvTWFuYWdlcjtcbmV4cG9ydHMuU2VjdGlvbkhlaWdodE1vZGUgPSBTZWN0aW9uSGVpZ2h0TW9kZTtcbmV4cG9ydHMuVGV4dEFsaWduID0gVGV4dEFsaWduO1xuZXhwb3J0cy5UZXh0RGVjb3JhdGlvbiA9IFRleHREZWNvcmF0aW9uO1xuZXhwb3J0cy5UZXh0VHJhbnNmb3JtID0gVGV4dFRyYW5zZm9ybTtcbmV4cG9ydHMuVmVydGljYWxBbGlnbiA9IFZlcnRpY2FsQWxpZ247XG5leHBvcnRzLmNvbXBvbmVudHMgPSBjb21wb25lbnRzO1xuZXhwb3J0cy5nZXRMYXlvdXRNZWRpYVF1ZXJ5ID0gZ2V0TGF5b3V0TWVkaWFRdWVyeTtcbmV4cG9ydHMuZ2V0TGF5b3V0U3R5bGVzID0gZ2V0TGF5b3V0U3R5bGVzO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk/dist/index.js\n"));

/***/ }),

/***/ "./node_modules/@splidejs/react-splide/dist/js/react-splide.cjs.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@splidejs/react-splide/dist/js/react-splide.cjs.js ***!
  \*************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/js/index.ts\nvar js_exports = {};\n__export(js_exports, {\n  Splide: () => Splide2,\n  SplideSlide: () => SplideSlide,\n  SplideTrack: () => SplideTrack\n});\nmodule.exports = __toCommonJS(js_exports);\n\n// node_modules/@splidejs/splide/dist/js/splide.esm.js\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", { writable: false });\n  return Constructor;\n}\nvar MEDIA_PREFERS_REDUCED_MOTION = \"(prefers-reduced-motion: reduce)\";\nvar CREATED = 1;\nvar MOUNTED = 2;\nvar IDLE = 3;\nvar MOVING = 4;\nvar SCROLLING = 5;\nvar DRAGGING = 6;\nvar DESTROYED = 7;\nvar STATES = {\n  CREATED,\n  MOUNTED,\n  IDLE,\n  MOVING,\n  SCROLLING,\n  DRAGGING,\n  DESTROYED\n};\nfunction empty(array) {\n  array.length = 0;\n}\nfunction slice(arrayLike, start, end) {\n  return Array.prototype.slice.call(arrayLike, start, end);\n}\nfunction apply(func) {\n  return func.bind.apply(func, [null].concat(slice(arguments, 1)));\n}\nvar nextTick = setTimeout;\nvar noop = function noop2() {\n};\nfunction raf(func) {\n  return requestAnimationFrame(func);\n}\nfunction typeOf(type, subject) {\n  return typeof subject === type;\n}\nfunction isObject(subject) {\n  return !isNull(subject) && typeOf(\"object\", subject);\n}\nvar isArray = Array.isArray;\nvar isFunction = apply(typeOf, \"function\");\nvar isString = apply(typeOf, \"string\");\nvar isUndefined = apply(typeOf, \"undefined\");\nfunction isNull(subject) {\n  return subject === null;\n}\nfunction isHTMLElement(subject) {\n  try {\n    return subject instanceof (subject.ownerDocument.defaultView || window).HTMLElement;\n  } catch (e) {\n    return false;\n  }\n}\nfunction toArray(value) {\n  return isArray(value) ? value : [value];\n}\nfunction forEach(values, iteratee) {\n  toArray(values).forEach(iteratee);\n}\nfunction includes(array, value) {\n  return array.indexOf(value) > -1;\n}\nfunction push(array, items) {\n  array.push.apply(array, toArray(items));\n  return array;\n}\nfunction toggleClass(elm, classes, add) {\n  if (elm) {\n    forEach(classes, function(name) {\n      if (name) {\n        elm.classList[add ? \"add\" : \"remove\"](name);\n      }\n    });\n  }\n}\nfunction addClass(elm, classes) {\n  toggleClass(elm, isString(classes) ? classes.split(\" \") : classes, true);\n}\nfunction append(parent, children2) {\n  forEach(children2, parent.appendChild.bind(parent));\n}\nfunction before(nodes, ref) {\n  forEach(nodes, function(node) {\n    var parent = (ref || node).parentNode;\n    if (parent) {\n      parent.insertBefore(node, ref);\n    }\n  });\n}\nfunction matches(elm, selector) {\n  return isHTMLElement(elm) && (elm[\"msMatchesSelector\"] || elm.matches).call(elm, selector);\n}\nfunction children(parent, selector) {\n  var children2 = parent ? slice(parent.children) : [];\n  return selector ? children2.filter(function(child2) {\n    return matches(child2, selector);\n  }) : children2;\n}\nfunction child(parent, selector) {\n  return selector ? children(parent, selector)[0] : parent.firstElementChild;\n}\nvar ownKeys = Object.keys;\nfunction forOwn(object, iteratee, right) {\n  if (object) {\n    (right ? ownKeys(object).reverse() : ownKeys(object)).forEach(function(key) {\n      key !== \"__proto__\" && iteratee(object[key], key);\n    });\n  }\n  return object;\n}\nfunction assign(object) {\n  slice(arguments, 1).forEach(function(source) {\n    forOwn(source, function(value, key) {\n      object[key] = source[key];\n    });\n  });\n  return object;\n}\nfunction merge(object) {\n  slice(arguments, 1).forEach(function(source) {\n    forOwn(source, function(value, key) {\n      if (isArray(value)) {\n        object[key] = value.slice();\n      } else if (isObject(value)) {\n        object[key] = merge({}, isObject(object[key]) ? object[key] : {}, value);\n      } else {\n        object[key] = value;\n      }\n    });\n  });\n  return object;\n}\nfunction omit(object, keys) {\n  forEach(keys || ownKeys(object), function(key) {\n    delete object[key];\n  });\n}\nfunction removeAttribute(elms, attrs) {\n  forEach(elms, function(elm) {\n    forEach(attrs, function(attr) {\n      elm && elm.removeAttribute(attr);\n    });\n  });\n}\nfunction setAttribute(elms, attrs, value) {\n  if (isObject(attrs)) {\n    forOwn(attrs, function(value2, name) {\n      setAttribute(elms, name, value2);\n    });\n  } else {\n    forEach(elms, function(elm) {\n      isNull(value) || value === \"\" ? removeAttribute(elm, attrs) : elm.setAttribute(attrs, String(value));\n    });\n  }\n}\nfunction create(tag, attrs, parent) {\n  var elm = document.createElement(tag);\n  if (attrs) {\n    isString(attrs) ? addClass(elm, attrs) : setAttribute(elm, attrs);\n  }\n  parent && append(parent, elm);\n  return elm;\n}\nfunction style(elm, prop, value) {\n  if (isUndefined(value)) {\n    return getComputedStyle(elm)[prop];\n  }\n  if (!isNull(value)) {\n    elm.style[prop] = \"\" + value;\n  }\n}\nfunction display(elm, display2) {\n  style(elm, \"display\", display2);\n}\nfunction focus(elm) {\n  elm[\"setActive\"] && elm[\"setActive\"]() || elm.focus({\n    preventScroll: true\n  });\n}\nfunction getAttribute(elm, attr) {\n  return elm.getAttribute(attr);\n}\nfunction hasClass(elm, className) {\n  return elm && elm.classList.contains(className);\n}\nfunction rect(target) {\n  return target.getBoundingClientRect();\n}\nfunction remove(nodes) {\n  forEach(nodes, function(node) {\n    if (node && node.parentNode) {\n      node.parentNode.removeChild(node);\n    }\n  });\n}\nfunction parseHtml(html) {\n  return child(new DOMParser().parseFromString(html, \"text/html\").body);\n}\nfunction prevent(e, stopPropagation) {\n  e.preventDefault();\n  if (stopPropagation) {\n    e.stopPropagation();\n    e.stopImmediatePropagation();\n  }\n}\nfunction query(parent, selector) {\n  return parent && parent.querySelector(selector);\n}\nfunction queryAll(parent, selector) {\n  return selector ? slice(parent.querySelectorAll(selector)) : [];\n}\nfunction removeClass(elm, classes) {\n  toggleClass(elm, classes, false);\n}\nfunction timeOf(e) {\n  return e.timeStamp;\n}\nfunction unit(value) {\n  return isString(value) ? value : value ? value + \"px\" : \"\";\n}\nvar PROJECT_CODE = \"splide\";\nvar DATA_ATTRIBUTE = \"data-\" + PROJECT_CODE;\nfunction assert(condition, message) {\n  if (!condition) {\n    throw new Error(\"[\" + PROJECT_CODE + \"] \" + (message || \"\"));\n  }\n}\nvar min = Math.min;\nvar max = Math.max;\nvar floor = Math.floor;\nvar ceil = Math.ceil;\nvar abs = Math.abs;\nfunction approximatelyEqual(x, y, epsilon) {\n  return abs(x - y) < epsilon;\n}\nfunction between(number, x, y, exclusive) {\n  var minimum = min(x, y);\n  var maximum = max(x, y);\n  return exclusive ? minimum < number && number < maximum : minimum <= number && number <= maximum;\n}\nfunction clamp(number, x, y) {\n  var minimum = min(x, y);\n  var maximum = max(x, y);\n  return min(max(minimum, number), maximum);\n}\nfunction sign(x) {\n  return +(x > 0) - +(x < 0);\n}\nfunction format(string, replacements) {\n  forEach(replacements, function(replacement) {\n    string = string.replace(\"%s\", \"\" + replacement);\n  });\n  return string;\n}\nfunction pad(number) {\n  return number < 10 ? \"0\" + number : \"\" + number;\n}\nvar ids = {};\nfunction uniqueId(prefix) {\n  return \"\" + prefix + pad(ids[prefix] = (ids[prefix] || 0) + 1);\n}\nfunction EventBinder() {\n  var listeners = [];\n  function bind(targets, events, callback, options) {\n    forEachEvent(targets, events, function(target, event, namespace) {\n      var isEventTarget = \"addEventListener\" in target;\n      var remover = isEventTarget ? target.removeEventListener.bind(target, event, callback, options) : target[\"removeListener\"].bind(target, callback);\n      isEventTarget ? target.addEventListener(event, callback, options) : target[\"addListener\"](callback);\n      listeners.push([target, event, namespace, callback, remover]);\n    });\n  }\n  function unbind(targets, events, callback) {\n    forEachEvent(targets, events, function(target, event, namespace) {\n      listeners = listeners.filter(function(listener) {\n        if (listener[0] === target && listener[1] === event && listener[2] === namespace && (!callback || listener[3] === callback)) {\n          listener[4]();\n          return false;\n        }\n        return true;\n      });\n    });\n  }\n  function dispatch(target, type, detail) {\n    var e;\n    var bubbles = true;\n    if (typeof CustomEvent === \"function\") {\n      e = new CustomEvent(type, {\n        bubbles,\n        detail\n      });\n    } else {\n      e = document.createEvent(\"CustomEvent\");\n      e.initCustomEvent(type, bubbles, false, detail);\n    }\n    target.dispatchEvent(e);\n    return e;\n  }\n  function forEachEvent(targets, events, iteratee) {\n    forEach(targets, function(target) {\n      target && forEach(events, function(events2) {\n        events2.split(\" \").forEach(function(eventNS) {\n          var fragment = eventNS.split(\".\");\n          iteratee(target, fragment[0], fragment[1]);\n        });\n      });\n    });\n  }\n  function destroy() {\n    listeners.forEach(function(data) {\n      data[4]();\n    });\n    empty(listeners);\n  }\n  return {\n    bind,\n    unbind,\n    dispatch,\n    destroy\n  };\n}\nvar EVENT_MOUNTED = \"mounted\";\nvar EVENT_READY = \"ready\";\nvar EVENT_MOVE = \"move\";\nvar EVENT_MOVED = \"moved\";\nvar EVENT_CLICK = \"click\";\nvar EVENT_ACTIVE = \"active\";\nvar EVENT_INACTIVE = \"inactive\";\nvar EVENT_VISIBLE = \"visible\";\nvar EVENT_HIDDEN = \"hidden\";\nvar EVENT_REFRESH = \"refresh\";\nvar EVENT_UPDATED = \"updated\";\nvar EVENT_RESIZE = \"resize\";\nvar EVENT_RESIZED = \"resized\";\nvar EVENT_DRAG = \"drag\";\nvar EVENT_DRAGGING = \"dragging\";\nvar EVENT_DRAGGED = \"dragged\";\nvar EVENT_SCROLL = \"scroll\";\nvar EVENT_SCROLLED = \"scrolled\";\nvar EVENT_OVERFLOW = \"overflow\";\nvar EVENT_DESTROY = \"destroy\";\nvar EVENT_ARROWS_MOUNTED = \"arrows:mounted\";\nvar EVENT_ARROWS_UPDATED = \"arrows:updated\";\nvar EVENT_PAGINATION_MOUNTED = \"pagination:mounted\";\nvar EVENT_PAGINATION_UPDATED = \"pagination:updated\";\nvar EVENT_NAVIGATION_MOUNTED = \"navigation:mounted\";\nvar EVENT_AUTOPLAY_PLAY = \"autoplay:play\";\nvar EVENT_AUTOPLAY_PLAYING = \"autoplay:playing\";\nvar EVENT_AUTOPLAY_PAUSE = \"autoplay:pause\";\nvar EVENT_LAZYLOAD_LOADED = \"lazyload:loaded\";\nvar EVENT_SLIDE_KEYDOWN = \"sk\";\nvar EVENT_SHIFTED = \"sh\";\nvar EVENT_END_INDEX_CHANGED = \"ei\";\nfunction EventInterface(Splide22) {\n  var bus = Splide22 ? Splide22.event.bus : document.createDocumentFragment();\n  var binder = EventBinder();\n  function on(events, callback) {\n    binder.bind(bus, toArray(events).join(\" \"), function(e) {\n      callback.apply(callback, isArray(e.detail) ? e.detail : []);\n    });\n  }\n  function emit(event) {\n    binder.dispatch(bus, event, slice(arguments, 1));\n  }\n  if (Splide22) {\n    Splide22.event.on(EVENT_DESTROY, binder.destroy);\n  }\n  return assign(binder, {\n    bus,\n    on,\n    off: apply(binder.unbind, bus),\n    emit\n  });\n}\nfunction RequestInterval(interval, onInterval, onUpdate, limit) {\n  var now = Date.now;\n  var startTime;\n  var rate = 0;\n  var id;\n  var paused = true;\n  var count = 0;\n  function update() {\n    if (!paused) {\n      rate = interval ? min((now() - startTime) / interval, 1) : 1;\n      onUpdate && onUpdate(rate);\n      if (rate >= 1) {\n        onInterval();\n        startTime = now();\n        if (limit && ++count >= limit) {\n          return pause();\n        }\n      }\n      id = raf(update);\n    }\n  }\n  function start(resume) {\n    resume || cancel();\n    startTime = now() - (resume ? rate * interval : 0);\n    paused = false;\n    id = raf(update);\n  }\n  function pause() {\n    paused = true;\n  }\n  function rewind() {\n    startTime = now();\n    rate = 0;\n    if (onUpdate) {\n      onUpdate(rate);\n    }\n  }\n  function cancel() {\n    id && cancelAnimationFrame(id);\n    rate = 0;\n    id = 0;\n    paused = true;\n  }\n  function set(time) {\n    interval = time;\n  }\n  function isPaused() {\n    return paused;\n  }\n  return {\n    start,\n    rewind,\n    pause,\n    cancel,\n    set,\n    isPaused\n  };\n}\nfunction State(initialState) {\n  var state = initialState;\n  function set(value) {\n    state = value;\n  }\n  function is(states) {\n    return includes(toArray(states), state);\n  }\n  return {\n    set,\n    is\n  };\n}\nfunction Throttle(func, duration) {\n  var interval = RequestInterval(duration || 0, func, null, 1);\n  return function() {\n    interval.isPaused() && interval.start();\n  };\n}\nfunction Media(Splide22, Components2, options) {\n  var state = Splide22.state;\n  var breakpoints = options.breakpoints || {};\n  var reducedMotion = options.reducedMotion || {};\n  var binder = EventBinder();\n  var queries = [];\n  function setup() {\n    var isMin = options.mediaQuery === \"min\";\n    ownKeys(breakpoints).sort(function(n, m) {\n      return isMin ? +n - +m : +m - +n;\n    }).forEach(function(key) {\n      register(breakpoints[key], \"(\" + (isMin ? \"min\" : \"max\") + \"-width:\" + key + \"px)\");\n    });\n    register(reducedMotion, MEDIA_PREFERS_REDUCED_MOTION);\n    update();\n  }\n  function destroy(completely) {\n    if (completely) {\n      binder.destroy();\n    }\n  }\n  function register(options2, query2) {\n    var queryList = matchMedia(query2);\n    binder.bind(queryList, \"change\", update);\n    queries.push([options2, queryList]);\n  }\n  function update() {\n    var destroyed = state.is(DESTROYED);\n    var direction = options.direction;\n    var merged = queries.reduce(function(merged2, entry) {\n      return merge(merged2, entry[1].matches ? entry[0] : {});\n    }, {});\n    omit(options);\n    set(merged);\n    if (options.destroy) {\n      Splide22.destroy(options.destroy === \"completely\");\n    } else if (destroyed) {\n      destroy(true);\n      Splide22.mount();\n    } else {\n      direction !== options.direction && Splide22.refresh();\n    }\n  }\n  function reduce(enable) {\n    if (matchMedia(MEDIA_PREFERS_REDUCED_MOTION).matches) {\n      enable ? merge(options, reducedMotion) : omit(options, ownKeys(reducedMotion));\n    }\n  }\n  function set(opts, base, notify) {\n    merge(options, opts);\n    base && merge(Object.getPrototypeOf(options), opts);\n    if (notify || !state.is(CREATED)) {\n      Splide22.emit(EVENT_UPDATED, options);\n    }\n  }\n  return {\n    setup,\n    destroy,\n    reduce,\n    set\n  };\n}\nvar ARROW = \"Arrow\";\nvar ARROW_LEFT = ARROW + \"Left\";\nvar ARROW_RIGHT = ARROW + \"Right\";\nvar ARROW_UP = ARROW + \"Up\";\nvar ARROW_DOWN = ARROW + \"Down\";\nvar RTL = \"rtl\";\nvar TTB = \"ttb\";\nvar ORIENTATION_MAP = {\n  width: [\"height\"],\n  left: [\"top\", \"right\"],\n  right: [\"bottom\", \"left\"],\n  x: [\"y\"],\n  X: [\"Y\"],\n  Y: [\"X\"],\n  ArrowLeft: [ARROW_UP, ARROW_RIGHT],\n  ArrowRight: [ARROW_DOWN, ARROW_LEFT]\n};\nfunction Direction(Splide22, Components2, options) {\n  function resolve(prop, axisOnly, direction) {\n    direction = direction || options.direction;\n    var index = direction === RTL && !axisOnly ? 1 : direction === TTB ? 0 : -1;\n    return ORIENTATION_MAP[prop] && ORIENTATION_MAP[prop][index] || prop.replace(/width|left|right/i, function(match, offset) {\n      var replacement = ORIENTATION_MAP[match.toLowerCase()][index] || match;\n      return offset > 0 ? replacement.charAt(0).toUpperCase() + replacement.slice(1) : replacement;\n    });\n  }\n  function orient(value) {\n    return value * (options.direction === RTL ? 1 : -1);\n  }\n  return {\n    resolve,\n    orient\n  };\n}\nvar ROLE = \"role\";\nvar TAB_INDEX = \"tabindex\";\nvar DISABLED = \"disabled\";\nvar ARIA_PREFIX = \"aria-\";\nvar ARIA_CONTROLS = ARIA_PREFIX + \"controls\";\nvar ARIA_CURRENT = ARIA_PREFIX + \"current\";\nvar ARIA_SELECTED = ARIA_PREFIX + \"selected\";\nvar ARIA_LABEL = ARIA_PREFIX + \"label\";\nvar ARIA_LABELLEDBY = ARIA_PREFIX + \"labelledby\";\nvar ARIA_HIDDEN = ARIA_PREFIX + \"hidden\";\nvar ARIA_ORIENTATION = ARIA_PREFIX + \"orientation\";\nvar ARIA_ROLEDESCRIPTION = ARIA_PREFIX + \"roledescription\";\nvar ARIA_LIVE = ARIA_PREFIX + \"live\";\nvar ARIA_BUSY = ARIA_PREFIX + \"busy\";\nvar ARIA_ATOMIC = ARIA_PREFIX + \"atomic\";\nvar ALL_ATTRIBUTES = [ROLE, TAB_INDEX, DISABLED, ARIA_CONTROLS, ARIA_CURRENT, ARIA_LABEL, ARIA_LABELLEDBY, ARIA_HIDDEN, ARIA_ORIENTATION, ARIA_ROLEDESCRIPTION];\nvar CLASS_PREFIX = PROJECT_CODE + \"__\";\nvar STATUS_CLASS_PREFIX = \"is-\";\nvar CLASS_ROOT = PROJECT_CODE;\nvar CLASS_TRACK = CLASS_PREFIX + \"track\";\nvar CLASS_LIST = CLASS_PREFIX + \"list\";\nvar CLASS_SLIDE = CLASS_PREFIX + \"slide\";\nvar CLASS_CLONE = CLASS_SLIDE + \"--clone\";\nvar CLASS_CONTAINER = CLASS_SLIDE + \"__container\";\nvar CLASS_ARROWS = CLASS_PREFIX + \"arrows\";\nvar CLASS_ARROW = CLASS_PREFIX + \"arrow\";\nvar CLASS_ARROW_PREV = CLASS_ARROW + \"--prev\";\nvar CLASS_ARROW_NEXT = CLASS_ARROW + \"--next\";\nvar CLASS_PAGINATION = CLASS_PREFIX + \"pagination\";\nvar CLASS_PAGINATION_PAGE = CLASS_PAGINATION + \"__page\";\nvar CLASS_PROGRESS = CLASS_PREFIX + \"progress\";\nvar CLASS_PROGRESS_BAR = CLASS_PROGRESS + \"__bar\";\nvar CLASS_TOGGLE = CLASS_PREFIX + \"toggle\";\nvar CLASS_TOGGLE_PLAY = CLASS_TOGGLE + \"__play\";\nvar CLASS_TOGGLE_PAUSE = CLASS_TOGGLE + \"__pause\";\nvar CLASS_SPINNER = CLASS_PREFIX + \"spinner\";\nvar CLASS_SR = CLASS_PREFIX + \"sr\";\nvar CLASS_INITIALIZED = STATUS_CLASS_PREFIX + \"initialized\";\nvar CLASS_ACTIVE = STATUS_CLASS_PREFIX + \"active\";\nvar CLASS_PREV = STATUS_CLASS_PREFIX + \"prev\";\nvar CLASS_NEXT = STATUS_CLASS_PREFIX + \"next\";\nvar CLASS_VISIBLE = STATUS_CLASS_PREFIX + \"visible\";\nvar CLASS_LOADING = STATUS_CLASS_PREFIX + \"loading\";\nvar CLASS_FOCUS_IN = STATUS_CLASS_PREFIX + \"focus-in\";\nvar CLASS_OVERFLOW = STATUS_CLASS_PREFIX + \"overflow\";\nvar STATUS_CLASSES = [CLASS_ACTIVE, CLASS_VISIBLE, CLASS_PREV, CLASS_NEXT, CLASS_LOADING, CLASS_FOCUS_IN, CLASS_OVERFLOW];\nvar CLASSES = {\n  slide: CLASS_SLIDE,\n  clone: CLASS_CLONE,\n  arrows: CLASS_ARROWS,\n  arrow: CLASS_ARROW,\n  prev: CLASS_ARROW_PREV,\n  next: CLASS_ARROW_NEXT,\n  pagination: CLASS_PAGINATION,\n  page: CLASS_PAGINATION_PAGE,\n  spinner: CLASS_SPINNER\n};\nfunction closest(from, selector) {\n  if (isFunction(from.closest)) {\n    return from.closest(selector);\n  }\n  var elm = from;\n  while (elm && elm.nodeType === 1) {\n    if (matches(elm, selector)) {\n      break;\n    }\n    elm = elm.parentElement;\n  }\n  return elm;\n}\nvar FRICTION = 5;\nvar LOG_INTERVAL = 200;\nvar POINTER_DOWN_EVENTS = \"touchstart mousedown\";\nvar POINTER_MOVE_EVENTS = \"touchmove mousemove\";\nvar POINTER_UP_EVENTS = \"touchend touchcancel mouseup click\";\nfunction Elements(Splide22, Components2, options) {\n  var _EventInterface = EventInterface(Splide22), on = _EventInterface.on, bind = _EventInterface.bind;\n  var root = Splide22.root;\n  var i18n = options.i18n;\n  var elements = {};\n  var slides = [];\n  var rootClasses = [];\n  var trackClasses = [];\n  var track;\n  var list;\n  var isUsingKey;\n  function setup() {\n    collect();\n    init();\n    update();\n  }\n  function mount() {\n    on(EVENT_REFRESH, destroy);\n    on(EVENT_REFRESH, setup);\n    on(EVENT_UPDATED, update);\n    bind(document, POINTER_DOWN_EVENTS + \" keydown\", function(e) {\n      isUsingKey = e.type === \"keydown\";\n    }, {\n      capture: true\n    });\n    bind(root, \"focusin\", function() {\n      toggleClass(root, CLASS_FOCUS_IN, !!isUsingKey);\n    });\n  }\n  function destroy(completely) {\n    var attrs = ALL_ATTRIBUTES.concat(\"style\");\n    empty(slides);\n    removeClass(root, rootClasses);\n    removeClass(track, trackClasses);\n    removeAttribute([track, list], attrs);\n    removeAttribute(root, completely ? attrs : [\"style\", ARIA_ROLEDESCRIPTION]);\n  }\n  function update() {\n    removeClass(root, rootClasses);\n    removeClass(track, trackClasses);\n    rootClasses = getClasses(CLASS_ROOT);\n    trackClasses = getClasses(CLASS_TRACK);\n    addClass(root, rootClasses);\n    addClass(track, trackClasses);\n    setAttribute(root, ARIA_LABEL, options.label);\n    setAttribute(root, ARIA_LABELLEDBY, options.labelledby);\n  }\n  function collect() {\n    track = find(\".\" + CLASS_TRACK);\n    list = child(track, \".\" + CLASS_LIST);\n    assert(track && list, \"A track/list element is missing.\");\n    push(slides, children(list, \".\" + CLASS_SLIDE + \":not(.\" + CLASS_CLONE + \")\"));\n    forOwn({\n      arrows: CLASS_ARROWS,\n      pagination: CLASS_PAGINATION,\n      prev: CLASS_ARROW_PREV,\n      next: CLASS_ARROW_NEXT,\n      bar: CLASS_PROGRESS_BAR,\n      toggle: CLASS_TOGGLE\n    }, function(className, key) {\n      elements[key] = find(\".\" + className);\n    });\n    assign(elements, {\n      root,\n      track,\n      list,\n      slides\n    });\n  }\n  function init() {\n    var id = root.id || uniqueId(PROJECT_CODE);\n    var role = options.role;\n    root.id = id;\n    track.id = track.id || id + \"-track\";\n    list.id = list.id || id + \"-list\";\n    if (!getAttribute(root, ROLE) && root.tagName !== \"SECTION\" && role) {\n      setAttribute(root, ROLE, role);\n    }\n    setAttribute(root, ARIA_ROLEDESCRIPTION, i18n.carousel);\n    setAttribute(list, ROLE, \"presentation\");\n  }\n  function find(selector) {\n    var elm = query(root, selector);\n    return elm && closest(elm, \".\" + CLASS_ROOT) === root ? elm : void 0;\n  }\n  function getClasses(base) {\n    return [base + \"--\" + options.type, base + \"--\" + options.direction, options.drag && base + \"--draggable\", options.isNavigation && base + \"--nav\", base === CLASS_ROOT && CLASS_ACTIVE];\n  }\n  return assign(elements, {\n    setup,\n    mount,\n    destroy\n  });\n}\nvar SLIDE = \"slide\";\nvar LOOP = \"loop\";\nvar FADE = \"fade\";\nfunction Slide$1(Splide22, index, slideIndex, slide) {\n  var event = EventInterface(Splide22);\n  var on = event.on, emit = event.emit, bind = event.bind;\n  var Components = Splide22.Components, root = Splide22.root, options = Splide22.options;\n  var isNavigation = options.isNavigation, updateOnMove = options.updateOnMove, i18n = options.i18n, pagination = options.pagination, slideFocus = options.slideFocus;\n  var resolve = Components.Direction.resolve;\n  var styles = getAttribute(slide, \"style\");\n  var label = getAttribute(slide, ARIA_LABEL);\n  var isClone = slideIndex > -1;\n  var container = child(slide, \".\" + CLASS_CONTAINER);\n  var destroyed;\n  function mount() {\n    if (!isClone) {\n      slide.id = root.id + \"-slide\" + pad(index + 1);\n      setAttribute(slide, ROLE, pagination ? \"tabpanel\" : \"group\");\n      setAttribute(slide, ARIA_ROLEDESCRIPTION, i18n.slide);\n      setAttribute(slide, ARIA_LABEL, label || format(i18n.slideLabel, [index + 1, Splide22.length]));\n    }\n    listen();\n  }\n  function listen() {\n    bind(slide, \"click\", apply(emit, EVENT_CLICK, self));\n    bind(slide, \"keydown\", apply(emit, EVENT_SLIDE_KEYDOWN, self));\n    on([EVENT_MOVED, EVENT_SHIFTED, EVENT_SCROLLED], update);\n    on(EVENT_NAVIGATION_MOUNTED, initNavigation);\n    if (updateOnMove) {\n      on(EVENT_MOVE, onMove);\n    }\n  }\n  function destroy() {\n    destroyed = true;\n    event.destroy();\n    removeClass(slide, STATUS_CLASSES);\n    removeAttribute(slide, ALL_ATTRIBUTES);\n    setAttribute(slide, \"style\", styles);\n    setAttribute(slide, ARIA_LABEL, label || \"\");\n  }\n  function initNavigation() {\n    var controls = Splide22.splides.map(function(target) {\n      var Slide2 = target.splide.Components.Slides.getAt(index);\n      return Slide2 ? Slide2.slide.id : \"\";\n    }).join(\" \");\n    setAttribute(slide, ARIA_LABEL, format(i18n.slideX, (isClone ? slideIndex : index) + 1));\n    setAttribute(slide, ARIA_CONTROLS, controls);\n    setAttribute(slide, ROLE, slideFocus ? \"button\" : \"\");\n    slideFocus && removeAttribute(slide, ARIA_ROLEDESCRIPTION);\n  }\n  function onMove() {\n    if (!destroyed) {\n      update();\n    }\n  }\n  function update() {\n    if (!destroyed) {\n      var curr = Splide22.index;\n      updateActivity();\n      updateVisibility();\n      toggleClass(slide, CLASS_PREV, index === curr - 1);\n      toggleClass(slide, CLASS_NEXT, index === curr + 1);\n    }\n  }\n  function updateActivity() {\n    var active = isActive();\n    if (active !== hasClass(slide, CLASS_ACTIVE)) {\n      toggleClass(slide, CLASS_ACTIVE, active);\n      setAttribute(slide, ARIA_CURRENT, isNavigation && active || \"\");\n      emit(active ? EVENT_ACTIVE : EVENT_INACTIVE, self);\n    }\n  }\n  function updateVisibility() {\n    var visible = isVisible();\n    var hidden = !visible && (!isActive() || isClone);\n    if (!Splide22.state.is([MOVING, SCROLLING])) {\n      setAttribute(slide, ARIA_HIDDEN, hidden || \"\");\n    }\n    setAttribute(queryAll(slide, options.focusableNodes || \"\"), TAB_INDEX, hidden ? -1 : \"\");\n    if (slideFocus) {\n      setAttribute(slide, TAB_INDEX, hidden ? -1 : 0);\n    }\n    if (visible !== hasClass(slide, CLASS_VISIBLE)) {\n      toggleClass(slide, CLASS_VISIBLE, visible);\n      emit(visible ? EVENT_VISIBLE : EVENT_HIDDEN, self);\n    }\n    if (!visible && document.activeElement === slide) {\n      var Slide2 = Components.Slides.getAt(Splide22.index);\n      Slide2 && focus(Slide2.slide);\n    }\n  }\n  function style$1(prop, value, useContainer) {\n    style(useContainer && container || slide, prop, value);\n  }\n  function isActive() {\n    var curr = Splide22.index;\n    return curr === index || options.cloneStatus && curr === slideIndex;\n  }\n  function isVisible() {\n    if (Splide22.is(FADE)) {\n      return isActive();\n    }\n    var trackRect = rect(Components.Elements.track);\n    var slideRect = rect(slide);\n    var left = resolve(\"left\", true);\n    var right = resolve(\"right\", true);\n    return floor(trackRect[left]) <= ceil(slideRect[left]) && floor(slideRect[right]) <= ceil(trackRect[right]);\n  }\n  function isWithin(from, distance) {\n    var diff = abs(from - index);\n    if (!isClone && (options.rewind || Splide22.is(LOOP))) {\n      diff = min(diff, Splide22.length - diff);\n    }\n    return diff <= distance;\n  }\n  var self = {\n    index,\n    slideIndex,\n    slide,\n    container,\n    isClone,\n    mount,\n    destroy,\n    update,\n    style: style$1,\n    isWithin\n  };\n  return self;\n}\nfunction Slides(Splide22, Components2, options) {\n  var _EventInterface2 = EventInterface(Splide22), on = _EventInterface2.on, emit = _EventInterface2.emit, bind = _EventInterface2.bind;\n  var _Components2$Elements = Components2.Elements, slides = _Components2$Elements.slides, list = _Components2$Elements.list;\n  var Slides2 = [];\n  function mount() {\n    init();\n    on(EVENT_REFRESH, destroy);\n    on(EVENT_REFRESH, init);\n  }\n  function init() {\n    slides.forEach(function(slide, index) {\n      register(slide, index, -1);\n    });\n  }\n  function destroy() {\n    forEach$1(function(Slide2) {\n      Slide2.destroy();\n    });\n    empty(Slides2);\n  }\n  function update() {\n    forEach$1(function(Slide2) {\n      Slide2.update();\n    });\n  }\n  function register(slide, index, slideIndex) {\n    var object = Slide$1(Splide22, index, slideIndex, slide);\n    object.mount();\n    Slides2.push(object);\n    Slides2.sort(function(Slide1, Slide2) {\n      return Slide1.index - Slide2.index;\n    });\n  }\n  function get(excludeClones) {\n    return excludeClones ? filter(function(Slide2) {\n      return !Slide2.isClone;\n    }) : Slides2;\n  }\n  function getIn(page) {\n    var Controller2 = Components2.Controller;\n    var index = Controller2.toIndex(page);\n    var max2 = Controller2.hasFocus() ? 1 : options.perPage;\n    return filter(function(Slide2) {\n      return between(Slide2.index, index, index + max2 - 1);\n    });\n  }\n  function getAt(index) {\n    return filter(index)[0];\n  }\n  function add(items, index) {\n    forEach(items, function(slide) {\n      if (isString(slide)) {\n        slide = parseHtml(slide);\n      }\n      if (isHTMLElement(slide)) {\n        var ref = slides[index];\n        ref ? before(slide, ref) : append(list, slide);\n        addClass(slide, options.classes.slide);\n        observeImages(slide, apply(emit, EVENT_RESIZE));\n      }\n    });\n    emit(EVENT_REFRESH);\n  }\n  function remove$1(matcher) {\n    remove(filter(matcher).map(function(Slide2) {\n      return Slide2.slide;\n    }));\n    emit(EVENT_REFRESH);\n  }\n  function forEach$1(iteratee, excludeClones) {\n    get(excludeClones).forEach(iteratee);\n  }\n  function filter(matcher) {\n    return Slides2.filter(isFunction(matcher) ? matcher : function(Slide2) {\n      return isString(matcher) ? matches(Slide2.slide, matcher) : includes(toArray(matcher), Slide2.index);\n    });\n  }\n  function style2(prop, value, useContainer) {\n    forEach$1(function(Slide2) {\n      Slide2.style(prop, value, useContainer);\n    });\n  }\n  function observeImages(elm, callback) {\n    var images = queryAll(elm, \"img\");\n    var length = images.length;\n    if (length) {\n      images.forEach(function(img) {\n        bind(img, \"load error\", function() {\n          if (!--length) {\n            callback();\n          }\n        });\n      });\n    } else {\n      callback();\n    }\n  }\n  function getLength(excludeClones) {\n    return excludeClones ? slides.length : Slides2.length;\n  }\n  function isEnough() {\n    return Slides2.length > options.perPage;\n  }\n  return {\n    mount,\n    destroy,\n    update,\n    register,\n    get,\n    getIn,\n    getAt,\n    add,\n    remove: remove$1,\n    forEach: forEach$1,\n    filter,\n    style: style2,\n    getLength,\n    isEnough\n  };\n}\nfunction Layout(Splide22, Components2, options) {\n  var _EventInterface3 = EventInterface(Splide22), on = _EventInterface3.on, bind = _EventInterface3.bind, emit = _EventInterface3.emit;\n  var Slides2 = Components2.Slides;\n  var resolve = Components2.Direction.resolve;\n  var _Components2$Elements2 = Components2.Elements, root = _Components2$Elements2.root, track = _Components2$Elements2.track, list = _Components2$Elements2.list;\n  var getAt = Slides2.getAt, styleSlides = Slides2.style;\n  var vertical;\n  var rootRect;\n  var overflow;\n  function mount() {\n    init();\n    bind(window, \"resize load\", Throttle(apply(emit, EVENT_RESIZE)));\n    on([EVENT_UPDATED, EVENT_REFRESH], init);\n    on(EVENT_RESIZE, resize);\n  }\n  function init() {\n    vertical = options.direction === TTB;\n    style(root, \"maxWidth\", unit(options.width));\n    style(track, resolve(\"paddingLeft\"), cssPadding(false));\n    style(track, resolve(\"paddingRight\"), cssPadding(true));\n    resize(true);\n  }\n  function resize(force) {\n    var newRect = rect(root);\n    if (force || rootRect.width !== newRect.width || rootRect.height !== newRect.height) {\n      style(track, \"height\", cssTrackHeight());\n      styleSlides(resolve(\"marginRight\"), unit(options.gap));\n      styleSlides(\"width\", cssSlideWidth());\n      styleSlides(\"height\", cssSlideHeight(), true);\n      rootRect = newRect;\n      emit(EVENT_RESIZED);\n      if (overflow !== (overflow = isOverflow())) {\n        toggleClass(root, CLASS_OVERFLOW, overflow);\n        emit(EVENT_OVERFLOW, overflow);\n      }\n    }\n  }\n  function cssPadding(right) {\n    var padding = options.padding;\n    var prop = resolve(right ? \"right\" : \"left\");\n    return padding && unit(padding[prop] || (isObject(padding) ? 0 : padding)) || \"0px\";\n  }\n  function cssTrackHeight() {\n    var height = \"\";\n    if (vertical) {\n      height = cssHeight();\n      assert(height, \"height or heightRatio is missing.\");\n      height = \"calc(\" + height + \" - \" + cssPadding(false) + \" - \" + cssPadding(true) + \")\";\n    }\n    return height;\n  }\n  function cssHeight() {\n    return unit(options.height || rect(list).width * options.heightRatio);\n  }\n  function cssSlideWidth() {\n    return options.autoWidth ? null : unit(options.fixedWidth) || (vertical ? \"\" : cssSlideSize());\n  }\n  function cssSlideHeight() {\n    return unit(options.fixedHeight) || (vertical ? options.autoHeight ? null : cssSlideSize() : cssHeight());\n  }\n  function cssSlideSize() {\n    var gap = unit(options.gap);\n    return \"calc((100%\" + (gap && \" + \" + gap) + \")/\" + (options.perPage || 1) + (gap && \" - \" + gap) + \")\";\n  }\n  function listSize() {\n    return rect(list)[resolve(\"width\")];\n  }\n  function slideSize(index, withoutGap) {\n    var Slide2 = getAt(index || 0);\n    return Slide2 ? rect(Slide2.slide)[resolve(\"width\")] + (withoutGap ? 0 : getGap()) : 0;\n  }\n  function totalSize(index, withoutGap) {\n    var Slide2 = getAt(index);\n    if (Slide2) {\n      var right = rect(Slide2.slide)[resolve(\"right\")];\n      var left = rect(list)[resolve(\"left\")];\n      return abs(right - left) + (withoutGap ? 0 : getGap());\n    }\n    return 0;\n  }\n  function sliderSize(withoutGap) {\n    return totalSize(Splide22.length - 1) - totalSize(0) + slideSize(0, withoutGap);\n  }\n  function getGap() {\n    var Slide2 = getAt(0);\n    return Slide2 && parseFloat(style(Slide2.slide, resolve(\"marginRight\"))) || 0;\n  }\n  function getPadding(right) {\n    return parseFloat(style(track, resolve(\"padding\" + (right ? \"Right\" : \"Left\")))) || 0;\n  }\n  function isOverflow() {\n    return Splide22.is(FADE) || sliderSize(true) > listSize();\n  }\n  return {\n    mount,\n    resize,\n    listSize,\n    slideSize,\n    sliderSize,\n    totalSize,\n    getPadding,\n    isOverflow\n  };\n}\nvar MULTIPLIER = 2;\nfunction Clones(Splide22, Components2, options) {\n  var event = EventInterface(Splide22);\n  var on = event.on;\n  var Elements2 = Components2.Elements, Slides2 = Components2.Slides;\n  var resolve = Components2.Direction.resolve;\n  var clones = [];\n  var cloneCount;\n  function mount() {\n    on(EVENT_REFRESH, remount);\n    on([EVENT_UPDATED, EVENT_RESIZE], observe);\n    if (cloneCount = computeCloneCount()) {\n      generate(cloneCount);\n      Components2.Layout.resize(true);\n    }\n  }\n  function remount() {\n    destroy();\n    mount();\n  }\n  function destroy() {\n    remove(clones);\n    empty(clones);\n    event.destroy();\n  }\n  function observe() {\n    var count = computeCloneCount();\n    if (cloneCount !== count) {\n      if (cloneCount < count || !count) {\n        event.emit(EVENT_REFRESH);\n      }\n    }\n  }\n  function generate(count) {\n    var slides = Slides2.get().slice();\n    var length = slides.length;\n    if (length) {\n      while (slides.length < count) {\n        push(slides, slides);\n      }\n      push(slides.slice(-count), slides.slice(0, count)).forEach(function(Slide2, index) {\n        var isHead = index < count;\n        var clone = cloneDeep(Slide2.slide, index);\n        isHead ? before(clone, slides[0].slide) : append(Elements2.list, clone);\n        push(clones, clone);\n        Slides2.register(clone, index - count + (isHead ? 0 : length), Slide2.index);\n      });\n    }\n  }\n  function cloneDeep(elm, index) {\n    var clone = elm.cloneNode(true);\n    addClass(clone, options.classes.clone);\n    clone.id = Splide22.root.id + \"-clone\" + pad(index + 1);\n    return clone;\n  }\n  function computeCloneCount() {\n    var clones2 = options.clones;\n    if (!Splide22.is(LOOP)) {\n      clones2 = 0;\n    } else if (isUndefined(clones2)) {\n      var fixedSize = options[resolve(\"fixedWidth\")] && Components2.Layout.slideSize(0);\n      var fixedCount = fixedSize && ceil(rect(Elements2.track)[resolve(\"width\")] / fixedSize);\n      clones2 = fixedCount || options[resolve(\"autoWidth\")] && Splide22.length || options.perPage * MULTIPLIER;\n    }\n    return clones2;\n  }\n  return {\n    mount,\n    destroy\n  };\n}\nfunction Move(Splide22, Components2, options) {\n  var _EventInterface4 = EventInterface(Splide22), on = _EventInterface4.on, emit = _EventInterface4.emit;\n  var set = Splide22.state.set;\n  var _Components2$Layout = Components2.Layout, slideSize = _Components2$Layout.slideSize, getPadding = _Components2$Layout.getPadding, totalSize = _Components2$Layout.totalSize, listSize = _Components2$Layout.listSize, sliderSize = _Components2$Layout.sliderSize;\n  var _Components2$Directio = Components2.Direction, resolve = _Components2$Directio.resolve, orient = _Components2$Directio.orient;\n  var _Components2$Elements3 = Components2.Elements, list = _Components2$Elements3.list, track = _Components2$Elements3.track;\n  var Transition;\n  function mount() {\n    Transition = Components2.Transition;\n    on([EVENT_MOUNTED, EVENT_RESIZED, EVENT_UPDATED, EVENT_REFRESH], reposition);\n  }\n  function reposition() {\n    if (!Components2.Controller.isBusy()) {\n      Components2.Scroll.cancel();\n      jump(Splide22.index);\n      Components2.Slides.update();\n    }\n  }\n  function move(dest, index, prev, callback) {\n    if (dest !== index && canShift(dest > prev)) {\n      cancel();\n      translate(shift(getPosition(), dest > prev), true);\n    }\n    set(MOVING);\n    emit(EVENT_MOVE, index, prev, dest);\n    Transition.start(index, function() {\n      set(IDLE);\n      emit(EVENT_MOVED, index, prev, dest);\n      callback && callback();\n    });\n  }\n  function jump(index) {\n    translate(toPosition(index, true));\n  }\n  function translate(position, preventLoop) {\n    if (!Splide22.is(FADE)) {\n      var destination = preventLoop ? position : loop(position);\n      style(list, \"transform\", \"translate\" + resolve(\"X\") + \"(\" + destination + \"px)\");\n      position !== destination && emit(EVENT_SHIFTED);\n    }\n  }\n  function loop(position) {\n    if (Splide22.is(LOOP)) {\n      var index = toIndex(position);\n      var exceededMax = index > Components2.Controller.getEnd();\n      var exceededMin = index < 0;\n      if (exceededMin || exceededMax) {\n        position = shift(position, exceededMax);\n      }\n    }\n    return position;\n  }\n  function shift(position, backwards) {\n    var excess = position - getLimit(backwards);\n    var size = sliderSize();\n    position -= orient(size * (ceil(abs(excess) / size) || 1)) * (backwards ? 1 : -1);\n    return position;\n  }\n  function cancel() {\n    translate(getPosition(), true);\n    Transition.cancel();\n  }\n  function toIndex(position) {\n    var Slides2 = Components2.Slides.get();\n    var index = 0;\n    var minDistance = Infinity;\n    for (var i = 0; i < Slides2.length; i++) {\n      var slideIndex = Slides2[i].index;\n      var distance = abs(toPosition(slideIndex, true) - position);\n      if (distance <= minDistance) {\n        minDistance = distance;\n        index = slideIndex;\n      } else {\n        break;\n      }\n    }\n    return index;\n  }\n  function toPosition(index, trimming) {\n    var position = orient(totalSize(index - 1) - offset(index));\n    return trimming ? trim(position) : position;\n  }\n  function getPosition() {\n    var left = resolve(\"left\");\n    return rect(list)[left] - rect(track)[left] + orient(getPadding(false));\n  }\n  function trim(position) {\n    if (options.trimSpace && Splide22.is(SLIDE)) {\n      position = clamp(position, 0, orient(sliderSize(true) - listSize()));\n    }\n    return position;\n  }\n  function offset(index) {\n    var focus2 = options.focus;\n    return focus2 === \"center\" ? (listSize() - slideSize(index, true)) / 2 : +focus2 * slideSize(index) || 0;\n  }\n  function getLimit(max2) {\n    return toPosition(max2 ? Components2.Controller.getEnd() : 0, !!options.trimSpace);\n  }\n  function canShift(backwards) {\n    var shifted = orient(shift(getPosition(), backwards));\n    return backwards ? shifted >= 0 : shifted <= list[resolve(\"scrollWidth\")] - rect(track)[resolve(\"width\")];\n  }\n  function exceededLimit(max2, position) {\n    position = isUndefined(position) ? getPosition() : position;\n    var exceededMin = max2 !== true && orient(position) < orient(getLimit(false));\n    var exceededMax = max2 !== false && orient(position) > orient(getLimit(true));\n    return exceededMin || exceededMax;\n  }\n  return {\n    mount,\n    move,\n    jump,\n    translate,\n    shift,\n    cancel,\n    toIndex,\n    toPosition,\n    getPosition,\n    getLimit,\n    exceededLimit,\n    reposition\n  };\n}\nfunction Controller(Splide22, Components2, options) {\n  var _EventInterface5 = EventInterface(Splide22), on = _EventInterface5.on, emit = _EventInterface5.emit;\n  var Move2 = Components2.Move;\n  var getPosition = Move2.getPosition, getLimit = Move2.getLimit, toPosition = Move2.toPosition;\n  var _Components2$Slides = Components2.Slides, isEnough = _Components2$Slides.isEnough, getLength = _Components2$Slides.getLength;\n  var omitEnd = options.omitEnd;\n  var isLoop = Splide22.is(LOOP);\n  var isSlide = Splide22.is(SLIDE);\n  var getNext = apply(getAdjacent, false);\n  var getPrev = apply(getAdjacent, true);\n  var currIndex = options.start || 0;\n  var endIndex;\n  var prevIndex = currIndex;\n  var slideCount;\n  var perMove;\n  var perPage;\n  function mount() {\n    init();\n    on([EVENT_UPDATED, EVENT_REFRESH, EVENT_END_INDEX_CHANGED], init);\n    on(EVENT_RESIZED, onResized);\n  }\n  function init() {\n    slideCount = getLength(true);\n    perMove = options.perMove;\n    perPage = options.perPage;\n    endIndex = getEnd();\n    var index = clamp(currIndex, 0, omitEnd ? endIndex : slideCount - 1);\n    if (index !== currIndex) {\n      currIndex = index;\n      Move2.reposition();\n    }\n  }\n  function onResized() {\n    if (endIndex !== getEnd()) {\n      emit(EVENT_END_INDEX_CHANGED);\n    }\n  }\n  function go(control, allowSameIndex, callback) {\n    if (!isBusy()) {\n      var dest = parse(control);\n      var index = loop(dest);\n      if (index > -1 && (allowSameIndex || index !== currIndex)) {\n        setIndex(index);\n        Move2.move(dest, index, prevIndex, callback);\n      }\n    }\n  }\n  function scroll(destination, duration, snap, callback) {\n    Components2.Scroll.scroll(destination, duration, snap, function() {\n      var index = loop(Move2.toIndex(getPosition()));\n      setIndex(omitEnd ? min(index, endIndex) : index);\n      callback && callback();\n    });\n  }\n  function parse(control) {\n    var index = currIndex;\n    if (isString(control)) {\n      var _ref = control.match(/([+\\-<>])(\\d+)?/) || [], indicator = _ref[1], number = _ref[2];\n      if (indicator === \"+\" || indicator === \"-\") {\n        index = computeDestIndex(currIndex + +(\"\" + indicator + (+number || 1)), currIndex);\n      } else if (indicator === \">\") {\n        index = number ? toIndex(+number) : getNext(true);\n      } else if (indicator === \"<\") {\n        index = getPrev(true);\n      }\n    } else {\n      index = isLoop ? control : clamp(control, 0, endIndex);\n    }\n    return index;\n  }\n  function getAdjacent(prev, destination) {\n    var number = perMove || (hasFocus() ? 1 : perPage);\n    var dest = computeDestIndex(currIndex + number * (prev ? -1 : 1), currIndex, !(perMove || hasFocus()));\n    if (dest === -1 && isSlide) {\n      if (!approximatelyEqual(getPosition(), getLimit(!prev), 1)) {\n        return prev ? 0 : endIndex;\n      }\n    }\n    return destination ? dest : loop(dest);\n  }\n  function computeDestIndex(dest, from, snapPage) {\n    if (isEnough() || hasFocus()) {\n      var index = computeMovableDestIndex(dest);\n      if (index !== dest) {\n        from = dest;\n        dest = index;\n        snapPage = false;\n      }\n      if (dest < 0 || dest > endIndex) {\n        if (!perMove && (between(0, dest, from, true) || between(endIndex, from, dest, true))) {\n          dest = toIndex(toPage(dest));\n        } else {\n          if (isLoop) {\n            dest = snapPage ? dest < 0 ? -(slideCount % perPage || perPage) : slideCount : dest;\n          } else if (options.rewind) {\n            dest = dest < 0 ? endIndex : 0;\n          } else {\n            dest = -1;\n          }\n        }\n      } else {\n        if (snapPage && dest !== from) {\n          dest = toIndex(toPage(from) + (dest < from ? -1 : 1));\n        }\n      }\n    } else {\n      dest = -1;\n    }\n    return dest;\n  }\n  function computeMovableDestIndex(dest) {\n    if (isSlide && options.trimSpace === \"move\" && dest !== currIndex) {\n      var position = getPosition();\n      while (position === toPosition(dest, true) && between(dest, 0, Splide22.length - 1, !options.rewind)) {\n        dest < currIndex ? --dest : ++dest;\n      }\n    }\n    return dest;\n  }\n  function loop(index) {\n    return isLoop ? (index + slideCount) % slideCount || 0 : index;\n  }\n  function getEnd() {\n    var end = slideCount - (hasFocus() || isLoop && perMove ? 1 : perPage);\n    while (omitEnd && end-- > 0) {\n      if (toPosition(slideCount - 1, true) !== toPosition(end, true)) {\n        end++;\n        break;\n      }\n    }\n    return clamp(end, 0, slideCount - 1);\n  }\n  function toIndex(page) {\n    return clamp(hasFocus() ? page : perPage * page, 0, endIndex);\n  }\n  function toPage(index) {\n    return hasFocus() ? min(index, endIndex) : floor((index >= endIndex ? slideCount - 1 : index) / perPage);\n  }\n  function toDest(destination) {\n    var closest2 = Move2.toIndex(destination);\n    return isSlide ? clamp(closest2, 0, endIndex) : closest2;\n  }\n  function setIndex(index) {\n    if (index !== currIndex) {\n      prevIndex = currIndex;\n      currIndex = index;\n    }\n  }\n  function getIndex(prev) {\n    return prev ? prevIndex : currIndex;\n  }\n  function hasFocus() {\n    return !isUndefined(options.focus) || options.isNavigation;\n  }\n  function isBusy() {\n    return Splide22.state.is([MOVING, SCROLLING]) && !!options.waitForTransition;\n  }\n  return {\n    mount,\n    go,\n    scroll,\n    getNext,\n    getPrev,\n    getAdjacent,\n    getEnd,\n    setIndex,\n    getIndex,\n    toIndex,\n    toPage,\n    toDest,\n    hasFocus,\n    isBusy\n  };\n}\nvar XML_NAME_SPACE = \"http://www.w3.org/2000/svg\";\nvar PATH = \"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z\";\nvar SIZE = 40;\nfunction Arrows(Splide22, Components2, options) {\n  var event = EventInterface(Splide22);\n  var on = event.on, bind = event.bind, emit = event.emit;\n  var classes = options.classes, i18n = options.i18n;\n  var Elements2 = Components2.Elements, Controller2 = Components2.Controller;\n  var placeholder = Elements2.arrows, track = Elements2.track;\n  var wrapper = placeholder;\n  var prev = Elements2.prev;\n  var next = Elements2.next;\n  var created;\n  var wrapperClasses;\n  var arrows = {};\n  function mount() {\n    init();\n    on(EVENT_UPDATED, remount);\n  }\n  function remount() {\n    destroy();\n    mount();\n  }\n  function init() {\n    var enabled = options.arrows;\n    if (enabled && !(prev && next)) {\n      createArrows();\n    }\n    if (prev && next) {\n      assign(arrows, {\n        prev,\n        next\n      });\n      display(wrapper, enabled ? \"\" : \"none\");\n      addClass(wrapper, wrapperClasses = CLASS_ARROWS + \"--\" + options.direction);\n      if (enabled) {\n        listen();\n        update();\n        setAttribute([prev, next], ARIA_CONTROLS, track.id);\n        emit(EVENT_ARROWS_MOUNTED, prev, next);\n      }\n    }\n  }\n  function destroy() {\n    event.destroy();\n    removeClass(wrapper, wrapperClasses);\n    if (created) {\n      remove(placeholder ? [prev, next] : wrapper);\n      prev = next = null;\n    } else {\n      removeAttribute([prev, next], ALL_ATTRIBUTES);\n    }\n  }\n  function listen() {\n    on([EVENT_MOUNTED, EVENT_MOVED, EVENT_REFRESH, EVENT_SCROLLED, EVENT_END_INDEX_CHANGED], update);\n    bind(next, \"click\", apply(go, \">\"));\n    bind(prev, \"click\", apply(go, \"<\"));\n  }\n  function go(control) {\n    Controller2.go(control, true);\n  }\n  function createArrows() {\n    wrapper = placeholder || create(\"div\", classes.arrows);\n    prev = createArrow(true);\n    next = createArrow(false);\n    created = true;\n    append(wrapper, [prev, next]);\n    !placeholder && before(wrapper, track);\n  }\n  function createArrow(prev2) {\n    var arrow = '<button class=\"' + classes.arrow + \" \" + (prev2 ? classes.prev : classes.next) + '\" type=\"button\"><svg xmlns=\"' + XML_NAME_SPACE + '\" viewBox=\"0 0 ' + SIZE + \" \" + SIZE + '\" width=\"' + SIZE + '\" height=\"' + SIZE + '\" focusable=\"false\"><path d=\"' + (options.arrowPath || PATH) + '\" />';\n    return parseHtml(arrow);\n  }\n  function update() {\n    if (prev && next) {\n      var index = Splide22.index;\n      var prevIndex = Controller2.getPrev();\n      var nextIndex = Controller2.getNext();\n      var prevLabel = prevIndex > -1 && index < prevIndex ? i18n.last : i18n.prev;\n      var nextLabel = nextIndex > -1 && index > nextIndex ? i18n.first : i18n.next;\n      prev.disabled = prevIndex < 0;\n      next.disabled = nextIndex < 0;\n      setAttribute(prev, ARIA_LABEL, prevLabel);\n      setAttribute(next, ARIA_LABEL, nextLabel);\n      emit(EVENT_ARROWS_UPDATED, prev, next, prevIndex, nextIndex);\n    }\n  }\n  return {\n    arrows,\n    mount,\n    destroy,\n    update\n  };\n}\nvar INTERVAL_DATA_ATTRIBUTE = DATA_ATTRIBUTE + \"-interval\";\nfunction Autoplay(Splide22, Components2, options) {\n  var _EventInterface6 = EventInterface(Splide22), on = _EventInterface6.on, bind = _EventInterface6.bind, emit = _EventInterface6.emit;\n  var interval = RequestInterval(options.interval, Splide22.go.bind(Splide22, \">\"), onAnimationFrame);\n  var isPaused = interval.isPaused;\n  var Elements2 = Components2.Elements, _Components2$Elements4 = Components2.Elements, root = _Components2$Elements4.root, toggle = _Components2$Elements4.toggle;\n  var autoplay = options.autoplay;\n  var hovered;\n  var focused;\n  var stopped = autoplay === \"pause\";\n  function mount() {\n    if (autoplay) {\n      listen();\n      toggle && setAttribute(toggle, ARIA_CONTROLS, Elements2.track.id);\n      stopped || play();\n      update();\n    }\n  }\n  function listen() {\n    if (options.pauseOnHover) {\n      bind(root, \"mouseenter mouseleave\", function(e) {\n        hovered = e.type === \"mouseenter\";\n        autoToggle();\n      });\n    }\n    if (options.pauseOnFocus) {\n      bind(root, \"focusin focusout\", function(e) {\n        focused = e.type === \"focusin\";\n        autoToggle();\n      });\n    }\n    if (toggle) {\n      bind(toggle, \"click\", function() {\n        stopped ? play() : pause(true);\n      });\n    }\n    on([EVENT_MOVE, EVENT_SCROLL, EVENT_REFRESH], interval.rewind);\n    on(EVENT_MOVE, onMove);\n  }\n  function play() {\n    if (isPaused() && Components2.Slides.isEnough()) {\n      interval.start(!options.resetProgress);\n      focused = hovered = stopped = false;\n      update();\n      emit(EVENT_AUTOPLAY_PLAY);\n    }\n  }\n  function pause(stop) {\n    if (stop === void 0) {\n      stop = true;\n    }\n    stopped = !!stop;\n    update();\n    if (!isPaused()) {\n      interval.pause();\n      emit(EVENT_AUTOPLAY_PAUSE);\n    }\n  }\n  function autoToggle() {\n    if (!stopped) {\n      hovered || focused ? pause(false) : play();\n    }\n  }\n  function update() {\n    if (toggle) {\n      toggleClass(toggle, CLASS_ACTIVE, !stopped);\n      setAttribute(toggle, ARIA_LABEL, options.i18n[stopped ? \"play\" : \"pause\"]);\n    }\n  }\n  function onAnimationFrame(rate) {\n    var bar = Elements2.bar;\n    bar && style(bar, \"width\", rate * 100 + \"%\");\n    emit(EVENT_AUTOPLAY_PLAYING, rate);\n  }\n  function onMove(index) {\n    var Slide2 = Components2.Slides.getAt(index);\n    interval.set(Slide2 && +getAttribute(Slide2.slide, INTERVAL_DATA_ATTRIBUTE) || options.interval);\n  }\n  return {\n    mount,\n    destroy: interval.cancel,\n    play,\n    pause,\n    isPaused\n  };\n}\nfunction Cover(Splide22, Components2, options) {\n  var _EventInterface7 = EventInterface(Splide22), on = _EventInterface7.on;\n  function mount() {\n    if (options.cover) {\n      on(EVENT_LAZYLOAD_LOADED, apply(toggle, true));\n      on([EVENT_MOUNTED, EVENT_UPDATED, EVENT_REFRESH], apply(cover, true));\n    }\n  }\n  function cover(cover2) {\n    Components2.Slides.forEach(function(Slide2) {\n      var img = child(Slide2.container || Slide2.slide, \"img\");\n      if (img && img.src) {\n        toggle(cover2, img, Slide2);\n      }\n    });\n  }\n  function toggle(cover2, img, Slide2) {\n    Slide2.style(\"background\", cover2 ? 'center/cover no-repeat url(\"' + img.src + '\")' : \"\", true);\n    display(img, cover2 ? \"none\" : \"\");\n  }\n  return {\n    mount,\n    destroy: apply(cover, false)\n  };\n}\nvar BOUNCE_DIFF_THRESHOLD = 10;\nvar BOUNCE_DURATION = 600;\nvar FRICTION_FACTOR = 0.6;\nvar BASE_VELOCITY = 1.5;\nvar MIN_DURATION = 800;\nfunction Scroll(Splide22, Components2, options) {\n  var _EventInterface8 = EventInterface(Splide22), on = _EventInterface8.on, emit = _EventInterface8.emit;\n  var set = Splide22.state.set;\n  var Move2 = Components2.Move;\n  var getPosition = Move2.getPosition, getLimit = Move2.getLimit, exceededLimit = Move2.exceededLimit, translate = Move2.translate;\n  var isSlide = Splide22.is(SLIDE);\n  var interval;\n  var callback;\n  var friction = 1;\n  function mount() {\n    on(EVENT_MOVE, clear);\n    on([EVENT_UPDATED, EVENT_REFRESH], cancel);\n  }\n  function scroll(destination, duration, snap, onScrolled, noConstrain) {\n    var from = getPosition();\n    clear();\n    if (snap && (!isSlide || !exceededLimit())) {\n      var size = Components2.Layout.sliderSize();\n      var offset = sign(destination) * size * floor(abs(destination) / size) || 0;\n      destination = Move2.toPosition(Components2.Controller.toDest(destination % size)) + offset;\n    }\n    var noDistance = approximatelyEqual(from, destination, 1);\n    friction = 1;\n    duration = noDistance ? 0 : duration || max(abs(destination - from) / BASE_VELOCITY, MIN_DURATION);\n    callback = onScrolled;\n    interval = RequestInterval(duration, onEnd, apply(update, from, destination, noConstrain), 1);\n    set(SCROLLING);\n    emit(EVENT_SCROLL);\n    interval.start();\n  }\n  function onEnd() {\n    set(IDLE);\n    callback && callback();\n    emit(EVENT_SCROLLED);\n  }\n  function update(from, to, noConstrain, rate) {\n    var position = getPosition();\n    var target = from + (to - from) * easing(rate);\n    var diff = (target - position) * friction;\n    translate(position + diff);\n    if (isSlide && !noConstrain && exceededLimit()) {\n      friction *= FRICTION_FACTOR;\n      if (abs(diff) < BOUNCE_DIFF_THRESHOLD) {\n        scroll(getLimit(exceededLimit(true)), BOUNCE_DURATION, false, callback, true);\n      }\n    }\n  }\n  function clear() {\n    if (interval) {\n      interval.cancel();\n    }\n  }\n  function cancel() {\n    if (interval && !interval.isPaused()) {\n      clear();\n      onEnd();\n    }\n  }\n  function easing(t) {\n    var easingFunc = options.easingFunc;\n    return easingFunc ? easingFunc(t) : 1 - Math.pow(1 - t, 4);\n  }\n  return {\n    mount,\n    destroy: clear,\n    scroll,\n    cancel\n  };\n}\nvar SCROLL_LISTENER_OPTIONS = {\n  passive: false,\n  capture: true\n};\nfunction Drag(Splide22, Components2, options) {\n  var _EventInterface9 = EventInterface(Splide22), on = _EventInterface9.on, emit = _EventInterface9.emit, bind = _EventInterface9.bind, unbind = _EventInterface9.unbind;\n  var state = Splide22.state;\n  var Move2 = Components2.Move, Scroll2 = Components2.Scroll, Controller2 = Components2.Controller, track = Components2.Elements.track, reduce = Components2.Media.reduce;\n  var _Components2$Directio2 = Components2.Direction, resolve = _Components2$Directio2.resolve, orient = _Components2$Directio2.orient;\n  var getPosition = Move2.getPosition, exceededLimit = Move2.exceededLimit;\n  var basePosition;\n  var baseEvent;\n  var prevBaseEvent;\n  var isFree;\n  var dragging;\n  var exceeded = false;\n  var clickPrevented;\n  var disabled;\n  var target;\n  function mount() {\n    bind(track, POINTER_MOVE_EVENTS, noop, SCROLL_LISTENER_OPTIONS);\n    bind(track, POINTER_UP_EVENTS, noop, SCROLL_LISTENER_OPTIONS);\n    bind(track, POINTER_DOWN_EVENTS, onPointerDown, SCROLL_LISTENER_OPTIONS);\n    bind(track, \"click\", onClick, {\n      capture: true\n    });\n    bind(track, \"dragstart\", prevent);\n    on([EVENT_MOUNTED, EVENT_UPDATED], init);\n  }\n  function init() {\n    var drag = options.drag;\n    disable(!drag);\n    isFree = drag === \"free\";\n  }\n  function onPointerDown(e) {\n    clickPrevented = false;\n    if (!disabled) {\n      var isTouch = isTouchEvent(e);\n      if (isDraggable(e.target) && (isTouch || !e.button)) {\n        if (!Controller2.isBusy()) {\n          target = isTouch ? track : window;\n          dragging = state.is([MOVING, SCROLLING]);\n          prevBaseEvent = null;\n          bind(target, POINTER_MOVE_EVENTS, onPointerMove, SCROLL_LISTENER_OPTIONS);\n          bind(target, POINTER_UP_EVENTS, onPointerUp, SCROLL_LISTENER_OPTIONS);\n          Move2.cancel();\n          Scroll2.cancel();\n          save(e);\n        } else {\n          prevent(e, true);\n        }\n      }\n    }\n  }\n  function onPointerMove(e) {\n    if (!state.is(DRAGGING)) {\n      state.set(DRAGGING);\n      emit(EVENT_DRAG);\n    }\n    if (e.cancelable) {\n      if (dragging) {\n        Move2.translate(basePosition + constrain(diffCoord(e)));\n        var expired = diffTime(e) > LOG_INTERVAL;\n        var hasExceeded = exceeded !== (exceeded = exceededLimit());\n        if (expired || hasExceeded) {\n          save(e);\n        }\n        clickPrevented = true;\n        emit(EVENT_DRAGGING);\n        prevent(e);\n      } else if (isSliderDirection(e)) {\n        dragging = shouldStart(e);\n        prevent(e);\n      }\n    }\n  }\n  function onPointerUp(e) {\n    if (state.is(DRAGGING)) {\n      state.set(IDLE);\n      emit(EVENT_DRAGGED);\n    }\n    if (dragging) {\n      move(e);\n      prevent(e);\n    }\n    unbind(target, POINTER_MOVE_EVENTS, onPointerMove);\n    unbind(target, POINTER_UP_EVENTS, onPointerUp);\n    dragging = false;\n  }\n  function onClick(e) {\n    if (!disabled && clickPrevented) {\n      prevent(e, true);\n    }\n  }\n  function save(e) {\n    prevBaseEvent = baseEvent;\n    baseEvent = e;\n    basePosition = getPosition();\n  }\n  function move(e) {\n    var velocity = computeVelocity(e);\n    var destination = computeDestination(velocity);\n    var rewind = options.rewind && options.rewindByDrag;\n    reduce(false);\n    if (isFree) {\n      Controller2.scroll(destination, 0, options.snap);\n    } else if (Splide22.is(FADE)) {\n      Controller2.go(orient(sign(velocity)) < 0 ? rewind ? \"<\" : \"-\" : rewind ? \">\" : \"+\");\n    } else if (Splide22.is(SLIDE) && exceeded && rewind) {\n      Controller2.go(exceededLimit(true) ? \">\" : \"<\");\n    } else {\n      Controller2.go(Controller2.toDest(destination), true);\n    }\n    reduce(true);\n  }\n  function shouldStart(e) {\n    var thresholds = options.dragMinThreshold;\n    var isObj = isObject(thresholds);\n    var mouse = isObj && thresholds.mouse || 0;\n    var touch = (isObj ? thresholds.touch : +thresholds) || 10;\n    return abs(diffCoord(e)) > (isTouchEvent(e) ? touch : mouse);\n  }\n  function isSliderDirection(e) {\n    return abs(diffCoord(e)) > abs(diffCoord(e, true));\n  }\n  function computeVelocity(e) {\n    if (Splide22.is(LOOP) || !exceeded) {\n      var time = diffTime(e);\n      if (time && time < LOG_INTERVAL) {\n        return diffCoord(e) / time;\n      }\n    }\n    return 0;\n  }\n  function computeDestination(velocity) {\n    return getPosition() + sign(velocity) * min(abs(velocity) * (options.flickPower || 600), isFree ? Infinity : Components2.Layout.listSize() * (options.flickMaxPages || 1));\n  }\n  function diffCoord(e, orthogonal) {\n    return coordOf(e, orthogonal) - coordOf(getBaseEvent(e), orthogonal);\n  }\n  function diffTime(e) {\n    return timeOf(e) - timeOf(getBaseEvent(e));\n  }\n  function getBaseEvent(e) {\n    return baseEvent === e && prevBaseEvent || baseEvent;\n  }\n  function coordOf(e, orthogonal) {\n    return (isTouchEvent(e) ? e.changedTouches[0] : e)[\"page\" + resolve(orthogonal ? \"Y\" : \"X\")];\n  }\n  function constrain(diff) {\n    return diff / (exceeded && Splide22.is(SLIDE) ? FRICTION : 1);\n  }\n  function isDraggable(target2) {\n    var noDrag = options.noDrag;\n    return !matches(target2, \".\" + CLASS_PAGINATION_PAGE + \", .\" + CLASS_ARROW) && (!noDrag || !matches(target2, noDrag));\n  }\n  function isTouchEvent(e) {\n    return typeof TouchEvent !== \"undefined\" && e instanceof TouchEvent;\n  }\n  function isDragging() {\n    return dragging;\n  }\n  function disable(value) {\n    disabled = value;\n  }\n  return {\n    mount,\n    disable,\n    isDragging\n  };\n}\nvar NORMALIZATION_MAP = {\n  Spacebar: \" \",\n  Right: ARROW_RIGHT,\n  Left: ARROW_LEFT,\n  Up: ARROW_UP,\n  Down: ARROW_DOWN\n};\nfunction normalizeKey(key) {\n  key = isString(key) ? key : key.key;\n  return NORMALIZATION_MAP[key] || key;\n}\nvar KEYBOARD_EVENT = \"keydown\";\nfunction Keyboard(Splide22, Components2, options) {\n  var _EventInterface10 = EventInterface(Splide22), on = _EventInterface10.on, bind = _EventInterface10.bind, unbind = _EventInterface10.unbind;\n  var root = Splide22.root;\n  var resolve = Components2.Direction.resolve;\n  var target;\n  var disabled;\n  function mount() {\n    init();\n    on(EVENT_UPDATED, destroy);\n    on(EVENT_UPDATED, init);\n    on(EVENT_MOVE, onMove);\n  }\n  function init() {\n    var keyboard = options.keyboard;\n    if (keyboard) {\n      target = keyboard === \"global\" ? window : root;\n      bind(target, KEYBOARD_EVENT, onKeydown);\n    }\n  }\n  function destroy() {\n    unbind(target, KEYBOARD_EVENT);\n  }\n  function disable(value) {\n    disabled = value;\n  }\n  function onMove() {\n    var _disabled = disabled;\n    disabled = true;\n    nextTick(function() {\n      disabled = _disabled;\n    });\n  }\n  function onKeydown(e) {\n    if (!disabled) {\n      var key = normalizeKey(e);\n      if (key === resolve(ARROW_LEFT)) {\n        Splide22.go(\"<\");\n      } else if (key === resolve(ARROW_RIGHT)) {\n        Splide22.go(\">\");\n      }\n    }\n  }\n  return {\n    mount,\n    destroy,\n    disable\n  };\n}\nvar SRC_DATA_ATTRIBUTE = DATA_ATTRIBUTE + \"-lazy\";\nvar SRCSET_DATA_ATTRIBUTE = SRC_DATA_ATTRIBUTE + \"-srcset\";\nvar IMAGE_SELECTOR = \"[\" + SRC_DATA_ATTRIBUTE + \"], [\" + SRCSET_DATA_ATTRIBUTE + \"]\";\nfunction LazyLoad(Splide22, Components2, options) {\n  var _EventInterface11 = EventInterface(Splide22), on = _EventInterface11.on, off = _EventInterface11.off, bind = _EventInterface11.bind, emit = _EventInterface11.emit;\n  var isSequential = options.lazyLoad === \"sequential\";\n  var events = [EVENT_MOVED, EVENT_SCROLLED];\n  var entries = [];\n  function mount() {\n    if (options.lazyLoad) {\n      init();\n      on(EVENT_REFRESH, init);\n    }\n  }\n  function init() {\n    empty(entries);\n    register();\n    if (isSequential) {\n      loadNext();\n    } else {\n      off(events);\n      on(events, check);\n      check();\n    }\n  }\n  function register() {\n    Components2.Slides.forEach(function(Slide2) {\n      queryAll(Slide2.slide, IMAGE_SELECTOR).forEach(function(img) {\n        var src = getAttribute(img, SRC_DATA_ATTRIBUTE);\n        var srcset = getAttribute(img, SRCSET_DATA_ATTRIBUTE);\n        if (src !== img.src || srcset !== img.srcset) {\n          var className = options.classes.spinner;\n          var parent = img.parentElement;\n          var spinner = child(parent, \".\" + className) || create(\"span\", className, parent);\n          entries.push([img, Slide2, spinner]);\n          img.src || display(img, \"none\");\n        }\n      });\n    });\n  }\n  function check() {\n    entries = entries.filter(function(data) {\n      var distance = options.perPage * ((options.preloadPages || 1) + 1) - 1;\n      return data[1].isWithin(Splide22.index, distance) ? load(data) : true;\n    });\n    entries.length || off(events);\n  }\n  function load(data) {\n    var img = data[0];\n    addClass(data[1].slide, CLASS_LOADING);\n    bind(img, \"load error\", apply(onLoad, data));\n    setAttribute(img, \"src\", getAttribute(img, SRC_DATA_ATTRIBUTE));\n    setAttribute(img, \"srcset\", getAttribute(img, SRCSET_DATA_ATTRIBUTE));\n    removeAttribute(img, SRC_DATA_ATTRIBUTE);\n    removeAttribute(img, SRCSET_DATA_ATTRIBUTE);\n  }\n  function onLoad(data, e) {\n    var img = data[0], Slide2 = data[1];\n    removeClass(Slide2.slide, CLASS_LOADING);\n    if (e.type !== \"error\") {\n      remove(data[2]);\n      display(img, \"\");\n      emit(EVENT_LAZYLOAD_LOADED, img, Slide2);\n      emit(EVENT_RESIZE);\n    }\n    isSequential && loadNext();\n  }\n  function loadNext() {\n    entries.length && load(entries.shift());\n  }\n  return {\n    mount,\n    destroy: apply(empty, entries),\n    check\n  };\n}\nfunction Pagination(Splide22, Components2, options) {\n  var event = EventInterface(Splide22);\n  var on = event.on, emit = event.emit, bind = event.bind;\n  var Slides2 = Components2.Slides, Elements2 = Components2.Elements, Controller2 = Components2.Controller;\n  var hasFocus = Controller2.hasFocus, getIndex = Controller2.getIndex, go = Controller2.go;\n  var resolve = Components2.Direction.resolve;\n  var placeholder = Elements2.pagination;\n  var items = [];\n  var list;\n  var paginationClasses;\n  function mount() {\n    destroy();\n    on([EVENT_UPDATED, EVENT_REFRESH, EVENT_END_INDEX_CHANGED], mount);\n    var enabled = options.pagination;\n    placeholder && display(placeholder, enabled ? \"\" : \"none\");\n    if (enabled) {\n      on([EVENT_MOVE, EVENT_SCROLL, EVENT_SCROLLED], update);\n      createPagination();\n      update();\n      emit(EVENT_PAGINATION_MOUNTED, {\n        list,\n        items\n      }, getAt(Splide22.index));\n    }\n  }\n  function destroy() {\n    if (list) {\n      remove(placeholder ? slice(list.children) : list);\n      removeClass(list, paginationClasses);\n      empty(items);\n      list = null;\n    }\n    event.destroy();\n  }\n  function createPagination() {\n    var length = Splide22.length;\n    var classes = options.classes, i18n = options.i18n, perPage = options.perPage;\n    var max2 = hasFocus() ? Controller2.getEnd() + 1 : ceil(length / perPage);\n    list = placeholder || create(\"ul\", classes.pagination, Elements2.track.parentElement);\n    addClass(list, paginationClasses = CLASS_PAGINATION + \"--\" + getDirection());\n    setAttribute(list, ROLE, \"tablist\");\n    setAttribute(list, ARIA_LABEL, i18n.select);\n    setAttribute(list, ARIA_ORIENTATION, getDirection() === TTB ? \"vertical\" : \"\");\n    for (var i = 0; i < max2; i++) {\n      var li = create(\"li\", null, list);\n      var button = create(\"button\", {\n        class: classes.page,\n        type: \"button\"\n      }, li);\n      var controls = Slides2.getIn(i).map(function(Slide2) {\n        return Slide2.slide.id;\n      });\n      var text = !hasFocus() && perPage > 1 ? i18n.pageX : i18n.slideX;\n      bind(button, \"click\", apply(onClick, i));\n      if (options.paginationKeyboard) {\n        bind(button, \"keydown\", apply(onKeydown, i));\n      }\n      setAttribute(li, ROLE, \"presentation\");\n      setAttribute(button, ROLE, \"tab\");\n      setAttribute(button, ARIA_CONTROLS, controls.join(\" \"));\n      setAttribute(button, ARIA_LABEL, format(text, i + 1));\n      setAttribute(button, TAB_INDEX, -1);\n      items.push({\n        li,\n        button,\n        page: i\n      });\n    }\n  }\n  function onClick(page) {\n    go(\">\" + page, true);\n  }\n  function onKeydown(page, e) {\n    var length = items.length;\n    var key = normalizeKey(e);\n    var dir = getDirection();\n    var nextPage = -1;\n    if (key === resolve(ARROW_RIGHT, false, dir)) {\n      nextPage = ++page % length;\n    } else if (key === resolve(ARROW_LEFT, false, dir)) {\n      nextPage = (--page + length) % length;\n    } else if (key === \"Home\") {\n      nextPage = 0;\n    } else if (key === \"End\") {\n      nextPage = length - 1;\n    }\n    var item = items[nextPage];\n    if (item) {\n      focus(item.button);\n      go(\">\" + nextPage);\n      prevent(e, true);\n    }\n  }\n  function getDirection() {\n    return options.paginationDirection || options.direction;\n  }\n  function getAt(index) {\n    return items[Controller2.toPage(index)];\n  }\n  function update() {\n    var prev = getAt(getIndex(true));\n    var curr = getAt(getIndex());\n    if (prev) {\n      var button = prev.button;\n      removeClass(button, CLASS_ACTIVE);\n      removeAttribute(button, ARIA_SELECTED);\n      setAttribute(button, TAB_INDEX, -1);\n    }\n    if (curr) {\n      var _button = curr.button;\n      addClass(_button, CLASS_ACTIVE);\n      setAttribute(_button, ARIA_SELECTED, true);\n      setAttribute(_button, TAB_INDEX, \"\");\n    }\n    emit(EVENT_PAGINATION_UPDATED, {\n      list,\n      items\n    }, prev, curr);\n  }\n  return {\n    items,\n    mount,\n    destroy,\n    getAt,\n    update\n  };\n}\nvar TRIGGER_KEYS = [\" \", \"Enter\"];\nfunction Sync(Splide22, Components2, options) {\n  var isNavigation = options.isNavigation, slideFocus = options.slideFocus;\n  var events = [];\n  function mount() {\n    Splide22.splides.forEach(function(target) {\n      if (!target.isParent) {\n        sync(Splide22, target.splide);\n        sync(target.splide, Splide22);\n      }\n    });\n    if (isNavigation) {\n      navigate();\n    }\n  }\n  function destroy() {\n    events.forEach(function(event) {\n      event.destroy();\n    });\n    empty(events);\n  }\n  function remount() {\n    destroy();\n    mount();\n  }\n  function sync(splide, target) {\n    var event = EventInterface(splide);\n    event.on(EVENT_MOVE, function(index, prev, dest) {\n      target.go(target.is(LOOP) ? dest : index);\n    });\n    events.push(event);\n  }\n  function navigate() {\n    var event = EventInterface(Splide22);\n    var on = event.on;\n    on(EVENT_CLICK, onClick);\n    on(EVENT_SLIDE_KEYDOWN, onKeydown);\n    on([EVENT_MOUNTED, EVENT_UPDATED], update);\n    events.push(event);\n    event.emit(EVENT_NAVIGATION_MOUNTED, Splide22.splides);\n  }\n  function update() {\n    setAttribute(Components2.Elements.list, ARIA_ORIENTATION, options.direction === TTB ? \"vertical\" : \"\");\n  }\n  function onClick(Slide2) {\n    Splide22.go(Slide2.index);\n  }\n  function onKeydown(Slide2, e) {\n    if (includes(TRIGGER_KEYS, normalizeKey(e))) {\n      onClick(Slide2);\n      prevent(e);\n    }\n  }\n  return {\n    setup: apply(Components2.Media.set, {\n      slideFocus: isUndefined(slideFocus) ? isNavigation : slideFocus\n    }, true),\n    mount,\n    destroy,\n    remount\n  };\n}\nfunction Wheel(Splide22, Components2, options) {\n  var _EventInterface12 = EventInterface(Splide22), bind = _EventInterface12.bind;\n  var lastTime = 0;\n  function mount() {\n    if (options.wheel) {\n      bind(Components2.Elements.track, \"wheel\", onWheel, SCROLL_LISTENER_OPTIONS);\n    }\n  }\n  function onWheel(e) {\n    if (e.cancelable) {\n      var deltaY = e.deltaY;\n      var backwards = deltaY < 0;\n      var timeStamp = timeOf(e);\n      var _min = options.wheelMinThreshold || 0;\n      var sleep = options.wheelSleep || 0;\n      if (abs(deltaY) > _min && timeStamp - lastTime > sleep) {\n        Splide22.go(backwards ? \"<\" : \">\");\n        lastTime = timeStamp;\n      }\n      shouldPrevent(backwards) && prevent(e);\n    }\n  }\n  function shouldPrevent(backwards) {\n    return !options.releaseWheel || Splide22.state.is(MOVING) || Components2.Controller.getAdjacent(backwards) !== -1;\n  }\n  return {\n    mount\n  };\n}\nvar SR_REMOVAL_DELAY = 90;\nfunction Live(Splide22, Components2, options) {\n  var _EventInterface13 = EventInterface(Splide22), on = _EventInterface13.on;\n  var track = Components2.Elements.track;\n  var enabled = options.live && !options.isNavigation;\n  var sr = create(\"span\", CLASS_SR);\n  var interval = RequestInterval(SR_REMOVAL_DELAY, apply(toggle, false));\n  function mount() {\n    if (enabled) {\n      disable(!Components2.Autoplay.isPaused());\n      setAttribute(track, ARIA_ATOMIC, true);\n      sr.textContent = \"\\u2026\";\n      on(EVENT_AUTOPLAY_PLAY, apply(disable, true));\n      on(EVENT_AUTOPLAY_PAUSE, apply(disable, false));\n      on([EVENT_MOVED, EVENT_SCROLLED], apply(toggle, true));\n    }\n  }\n  function toggle(active) {\n    setAttribute(track, ARIA_BUSY, active);\n    if (active) {\n      append(track, sr);\n      interval.start();\n    } else {\n      remove(sr);\n      interval.cancel();\n    }\n  }\n  function destroy() {\n    removeAttribute(track, [ARIA_LIVE, ARIA_ATOMIC, ARIA_BUSY]);\n    remove(sr);\n  }\n  function disable(disabled) {\n    if (enabled) {\n      setAttribute(track, ARIA_LIVE, disabled ? \"off\" : \"polite\");\n    }\n  }\n  return {\n    mount,\n    disable,\n    destroy\n  };\n}\nvar ComponentConstructors = /* @__PURE__ */ Object.freeze({\n  __proto__: null,\n  Media,\n  Direction,\n  Elements,\n  Slides,\n  Layout,\n  Clones,\n  Move,\n  Controller,\n  Arrows,\n  Autoplay,\n  Cover,\n  Scroll,\n  Drag,\n  Keyboard,\n  LazyLoad,\n  Pagination,\n  Sync,\n  Wheel,\n  Live\n});\nvar I18N = {\n  prev: \"Previous slide\",\n  next: \"Next slide\",\n  first: \"Go to first slide\",\n  last: \"Go to last slide\",\n  slideX: \"Go to slide %s\",\n  pageX: \"Go to page %s\",\n  play: \"Start autoplay\",\n  pause: \"Pause autoplay\",\n  carousel: \"carousel\",\n  slide: \"slide\",\n  select: \"Select a slide to show\",\n  slideLabel: \"%s of %s\"\n};\nvar DEFAULTS = {\n  type: \"slide\",\n  role: \"region\",\n  speed: 400,\n  perPage: 1,\n  cloneStatus: true,\n  arrows: true,\n  pagination: true,\n  paginationKeyboard: true,\n  interval: 5e3,\n  pauseOnHover: true,\n  pauseOnFocus: true,\n  resetProgress: true,\n  easing: \"cubic-bezier(0.25, 1, 0.5, 1)\",\n  drag: true,\n  direction: \"ltr\",\n  trimSpace: true,\n  focusableNodes: \"a, button, textarea, input, select, iframe\",\n  live: true,\n  classes: CLASSES,\n  i18n: I18N,\n  reducedMotion: {\n    speed: 0,\n    rewindSpeed: 0,\n    autoplay: \"pause\"\n  }\n};\nfunction Fade(Splide22, Components2, options) {\n  var Slides2 = Components2.Slides;\n  function mount() {\n    EventInterface(Splide22).on([EVENT_MOUNTED, EVENT_REFRESH], init);\n  }\n  function init() {\n    Slides2.forEach(function(Slide2) {\n      Slide2.style(\"transform\", \"translateX(-\" + 100 * Slide2.index + \"%)\");\n    });\n  }\n  function start(index, done) {\n    Slides2.style(\"transition\", \"opacity \" + options.speed + \"ms \" + options.easing);\n    nextTick(done);\n  }\n  return {\n    mount,\n    start,\n    cancel: noop\n  };\n}\nfunction Slide(Splide22, Components2, options) {\n  var Move2 = Components2.Move, Controller2 = Components2.Controller, Scroll2 = Components2.Scroll;\n  var list = Components2.Elements.list;\n  var transition = apply(style, list, \"transition\");\n  var endCallback;\n  function mount() {\n    EventInterface(Splide22).bind(list, \"transitionend\", function(e) {\n      if (e.target === list && endCallback) {\n        cancel();\n        endCallback();\n      }\n    });\n  }\n  function start(index, done) {\n    var destination = Move2.toPosition(index, true);\n    var position = Move2.getPosition();\n    var speed = getSpeed(index);\n    if (abs(destination - position) >= 1 && speed >= 1) {\n      if (options.useScroll) {\n        Scroll2.scroll(destination, speed, false, done);\n      } else {\n        transition(\"transform \" + speed + \"ms \" + options.easing);\n        Move2.translate(destination, true);\n        endCallback = done;\n      }\n    } else {\n      Move2.jump(index);\n      done();\n    }\n  }\n  function cancel() {\n    transition(\"\");\n    Scroll2.cancel();\n  }\n  function getSpeed(index) {\n    var rewindSpeed = options.rewindSpeed;\n    if (Splide22.is(SLIDE) && rewindSpeed) {\n      var prev = Controller2.getIndex(true);\n      var end = Controller2.getEnd();\n      if (prev === 0 && index >= end || prev >= end && index === 0) {\n        return rewindSpeed;\n      }\n    }\n    return options.speed;\n  }\n  return {\n    mount,\n    start,\n    cancel\n  };\n}\nvar _Splide = /* @__PURE__ */ function() {\n  function _Splide2(target, options) {\n    this.event = EventInterface();\n    this.Components = {};\n    this.state = State(CREATED);\n    this.splides = [];\n    this._o = {};\n    this._E = {};\n    var root = isString(target) ? query(document, target) : target;\n    assert(root, root + \" is invalid.\");\n    this.root = root;\n    options = merge({\n      label: getAttribute(root, ARIA_LABEL) || \"\",\n      labelledby: getAttribute(root, ARIA_LABELLEDBY) || \"\"\n    }, DEFAULTS, _Splide2.defaults, options || {});\n    try {\n      merge(options, JSON.parse(getAttribute(root, DATA_ATTRIBUTE)));\n    } catch (e) {\n      assert(false, \"Invalid JSON\");\n    }\n    this._o = Object.create(merge({}, options));\n  }\n  var _proto = _Splide2.prototype;\n  _proto.mount = function mount(Extensions, Transition) {\n    var _this = this;\n    var state = this.state, Components2 = this.Components;\n    assert(state.is([CREATED, DESTROYED]), \"Already mounted!\");\n    state.set(CREATED);\n    this._C = Components2;\n    this._T = Transition || this._T || (this.is(FADE) ? Fade : Slide);\n    this._E = Extensions || this._E;\n    var Constructors = assign({}, ComponentConstructors, this._E, {\n      Transition: this._T\n    });\n    forOwn(Constructors, function(Component, key) {\n      var component = Component(_this, Components2, _this._o);\n      Components2[key] = component;\n      component.setup && component.setup();\n    });\n    forOwn(Components2, function(component) {\n      component.mount && component.mount();\n    });\n    this.emit(EVENT_MOUNTED);\n    addClass(this.root, CLASS_INITIALIZED);\n    state.set(IDLE);\n    this.emit(EVENT_READY);\n    return this;\n  };\n  _proto.sync = function sync(splide) {\n    this.splides.push({\n      splide\n    });\n    splide.splides.push({\n      splide: this,\n      isParent: true\n    });\n    if (this.state.is(IDLE)) {\n      this._C.Sync.remount();\n      splide.Components.Sync.remount();\n    }\n    return this;\n  };\n  _proto.go = function go(control) {\n    this._C.Controller.go(control);\n    return this;\n  };\n  _proto.on = function on(events, callback) {\n    this.event.on(events, callback);\n    return this;\n  };\n  _proto.off = function off(events) {\n    this.event.off(events);\n    return this;\n  };\n  _proto.emit = function emit(event) {\n    var _this$event;\n    (_this$event = this.event).emit.apply(_this$event, [event].concat(slice(arguments, 1)));\n    return this;\n  };\n  _proto.add = function add(slides, index) {\n    this._C.Slides.add(slides, index);\n    return this;\n  };\n  _proto.remove = function remove2(matcher) {\n    this._C.Slides.remove(matcher);\n    return this;\n  };\n  _proto.is = function is(type) {\n    return this._o.type === type;\n  };\n  _proto.refresh = function refresh() {\n    this.emit(EVENT_REFRESH);\n    return this;\n  };\n  _proto.destroy = function destroy(completely) {\n    if (completely === void 0) {\n      completely = true;\n    }\n    var event = this.event, state = this.state;\n    if (state.is(CREATED)) {\n      EventInterface(this).on(EVENT_READY, this.destroy.bind(this, completely));\n    } else {\n      forOwn(this._C, function(component) {\n        component.destroy && component.destroy(completely);\n      }, true);\n      event.emit(EVENT_DESTROY);\n      event.destroy();\n      completely && empty(this.splides);\n      state.set(DESTROYED);\n    }\n    return this;\n  };\n  _createClass(_Splide2, [{\n    key: \"options\",\n    get: function get() {\n      return this._o;\n    },\n    set: function set(options) {\n      this._C.Media.set(options, true, true);\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this._C.Slides.getLength(true);\n    }\n  }, {\n    key: \"index\",\n    get: function get() {\n      return this._C.Controller.getIndex();\n    }\n  }]);\n  return _Splide2;\n}();\nvar Splide = _Splide;\nSplide.defaults = {};\nSplide.STATES = STATES;\n\n// src/js/components/Splide/Splide.tsx\nvar import_react2 = __toESM(__webpack_require__(/*! react */ \"./node_modules/react/index.js\"));\n\n// src/js/constants/events.ts\nvar EVENTS = [\n  [EVENT_MOUNTED, \"onMounted\"],\n  [EVENT_READY, \"onReady\"],\n  [EVENT_MOVE, \"onMove\"],\n  [EVENT_MOVED, \"onMoved\"],\n  [EVENT_CLICK, \"onClick\"],\n  [EVENT_ACTIVE, \"onActive\"],\n  [EVENT_INACTIVE, \"onInactive\"],\n  [EVENT_VISIBLE, \"onVisible\"],\n  [EVENT_HIDDEN, \"onHidden\"],\n  [EVENT_REFRESH, \"onRefresh\"],\n  [EVENT_UPDATED, \"onUpdated\"],\n  [EVENT_RESIZE, \"onResize\"],\n  [EVENT_RESIZED, \"onResized\"],\n  [EVENT_DRAG, \"onDrag\"],\n  [EVENT_DRAGGING, \"onDragging\"],\n  [EVENT_DRAGGED, \"onDragged\"],\n  [EVENT_SCROLL, \"onScroll\"],\n  [EVENT_SCROLLED, \"onScrolled\"],\n  [EVENT_DESTROY, \"onDestroy\"],\n  [EVENT_ARROWS_MOUNTED, \"onArrowsMounted\"],\n  [EVENT_ARROWS_UPDATED, \"onArrowsUpdated\"],\n  [EVENT_PAGINATION_MOUNTED, \"onPaginationMounted\"],\n  [EVENT_PAGINATION_UPDATED, \"onPaginationUpdated\"],\n  [EVENT_NAVIGATION_MOUNTED, \"onNavigationMounted\"],\n  [EVENT_AUTOPLAY_PLAY, \"onAutoplayPlay\"],\n  [EVENT_AUTOPLAY_PLAYING, \"onAutoplayPlaying\"],\n  [EVENT_AUTOPLAY_PAUSE, \"onAutoplayPause\"],\n  [EVENT_LAZYLOAD_LOADED, \"onLazyLoadLoaded\"]\n];\n\n// src/js/utils/classNames/classNames.ts\nfunction classNames(...classes) {\n  return classes.filter(Boolean).join(\" \");\n}\n\n// src/js/utils/isObject/isObject.ts\nfunction isObject2(subject) {\n  return subject !== null && typeof subject === \"object\";\n}\n\n// src/js/utils/isEqualDeep/isEqualDeep.ts\nfunction isEqualDeep(subject1, subject2) {\n  if (Array.isArray(subject1) && Array.isArray(subject2)) {\n    return subject1.length === subject2.length && !subject1.some((elm, index) => !isEqualDeep(elm, subject2[index]));\n  }\n  if (isObject2(subject1) && isObject2(subject2)) {\n    const keys1 = Object.keys(subject1);\n    const keys2 = Object.keys(subject2);\n    return keys1.length === keys2.length && !keys1.some((key) => {\n      return !Object.prototype.hasOwnProperty.call(subject2, key) || !isEqualDeep(subject1[key], subject2[key]);\n    });\n  }\n  return subject1 === subject2;\n}\n\n// src/js/utils/isEqualShallow/isEqualShallow.ts\nfunction isEqualShallow(array1, array2) {\n  return array1.length === array2.length && !array1.some((elm, index) => elm !== array2[index]);\n}\n\n// src/js/utils/forOwn/forOwn.ts\nfunction forOwn2(object, iteratee) {\n  if (object) {\n    const keys = Object.keys(object);\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n      if (key !== \"__proto__\") {\n        if (iteratee(object[key], key) === false) {\n          break;\n        }\n      }\n    }\n  }\n  return object;\n}\n\n// src/js/utils/merge/merge.ts\nfunction merge2(object, source) {\n  const merged = object;\n  forOwn2(source, (value, key) => {\n    if (Array.isArray(value)) {\n      merged[key] = value.slice();\n    } else if (isObject2(value)) {\n      merged[key] = merge2(isObject2(merged[key]) ? merged[key] : {}, value);\n    } else {\n      merged[key] = value;\n    }\n  });\n  return merged;\n}\n\n// src/js/components/SplideTrack/SplideTrack.tsx\nvar import_react = __toESM(__webpack_require__(/*! react */ \"./node_modules/react/index.js\"));\nvar SplideTrack = ({ children: children2, className, ...props }) => {\n  return /* @__PURE__ */ import_react.default.createElement(\"div\", {\n    className: classNames(\"splide__track\", className),\n    ...props\n  }, /* @__PURE__ */ import_react.default.createElement(\"ul\", {\n    className: \"splide__list\"\n  }, children2));\n};\n\n// src/js/components/Splide/Splide.tsx\nvar Splide2 = class extends import_react2.default.Component {\n  constructor() {\n    super(...arguments);\n    this.splideRef = import_react2.default.createRef();\n    this.slides = [];\n  }\n  componentDidMount() {\n    const { options, extensions, transition } = this.props;\n    const { current } = this.splideRef;\n    if (current) {\n      this.splide = new Splide(current, options);\n      this.bind(this.splide);\n      this.splide.mount(extensions, transition);\n      this.options = merge2({}, options || {});\n      this.slides = this.getSlides();\n    }\n  }\n  componentWillUnmount() {\n    if (this.splide) {\n      this.splide.destroy();\n      this.splide = void 0;\n    }\n    this.options = void 0;\n    this.slides.length = 0;\n  }\n  componentDidUpdate() {\n    if (!this.splide) {\n      return;\n    }\n    const { options } = this.props;\n    if (options && !isEqualDeep(this.options, options)) {\n      this.splide.options = options;\n      this.options = merge2({}, options);\n    }\n    const newSlides = this.getSlides();\n    if (!isEqualShallow(this.slides, newSlides)) {\n      this.splide.refresh();\n      this.slides = newSlides;\n    }\n  }\n  sync(splide) {\n    var _a;\n    (_a = this.splide) == null ? void 0 : _a.sync(splide);\n  }\n  go(control) {\n    var _a;\n    (_a = this.splide) == null ? void 0 : _a.go(control);\n  }\n  getSlides() {\n    var _a;\n    if (this.splide) {\n      const children2 = (_a = this.splide.Components.Elements) == null ? void 0 : _a.list.children;\n      return children2 && Array.prototype.slice.call(children2) || [];\n    }\n    return [];\n  }\n  bind(splide) {\n    EVENTS.forEach(([event, name]) => {\n      const handler = this.props[name];\n      if (typeof handler === \"function\") {\n        splide.on(event, (...args) => {\n          handler(splide, ...args);\n        });\n      }\n    });\n  }\n  omit(props, keys) {\n    keys.forEach((key) => {\n      if (Object.prototype.hasOwnProperty.call(props, key)) {\n        delete props[key];\n      }\n    });\n    return props;\n  }\n  render() {\n    const { className, tag: Root = \"div\", hasTrack = true, children: children2, ...props } = this.props;\n    return /* @__PURE__ */ import_react2.default.createElement(Root, {\n      className: classNames(\"splide\", className),\n      ref: this.splideRef,\n      ...this.omit(props, [\"options\", ...EVENTS.map((event) => event[1])])\n    }, hasTrack ? /* @__PURE__ */ import_react2.default.createElement(SplideTrack, null, children2) : children2);\n  }\n};\n\n// src/js/components/SplideSlide/SplideSlide.tsx\nvar import_react3 = __toESM(__webpack_require__(/*! react */ \"./node_modules/react/index.js\"));\nvar SplideSlide = ({ children: children2, className, ...props }) => {\n  return /* @__PURE__ */ import_react3.default.createElement(\"li\", {\n    className: classNames(\"splide__slide\", className),\n    ...props\n  }, children2);\n};\n/*!\n * Splide.js\n * Version  : 4.1.3\n * License  : MIT\n * Copyright: 2022 Naotoshi Fujita\n */\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHNwbGlkZWpzL3JlYWN0LXNwbGlkZS9kaXN0L2pzL3JlYWN0LXNwbGlkZS5janMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGtDQUFrQztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDRGQUE0RjtBQUN6SDtBQUNBO0FBQ0E7QUFDQSxtR0FBbUc7QUFDbkcseUVBQXlFLDhCQUE4QjtBQUN2RztBQUNBO0FBQ0Esb0RBQW9ELGtCQUFrQixhQUFhOztBQUVuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixrQkFBa0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsaUJBQWlCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsOEJBQThCLDBDQUEwQztBQUN4RSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTREO0FBQzVELEtBQUssSUFBSTtBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixvQkFBb0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDRDQUE0QztBQUNqRDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRCQUE0QixtQkFBTyxDQUFDLDRDQUFPOztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaUJBQWlCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixvRUFBb0U7QUFDcEUsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBLDJCQUEyQixtQkFBTyxDQUFDLDRDQUFPO0FBQzFDLHFCQUFxQiwwQ0FBMEM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtDQUFrQztBQUM5QyxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsZUFBZTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxZQUFZLCtFQUErRTtBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsNEJBQTRCLG1CQUFPLENBQUMsNENBQU87QUFDM0MscUJBQXFCLDBDQUEwQztBQUMvRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BzcGxpZGVqcy9yZWFjdC1zcGxpZGUvZGlzdC9qcy9yZWFjdC1zcGxpZGUuY2pzLmpzP2MxZTYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGUgPSBPYmplY3QuY3JlYXRlO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2dldE93blByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xudmFyIF9fZ2V0UHJvdG9PZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fZXhwb3J0ID0gKHRhcmdldCwgYWxsKSA9PiB7XG4gIGZvciAodmFyIG5hbWUgaW4gYWxsKVxuICAgIF9fZGVmUHJvcCh0YXJnZXQsIG5hbWUsIHsgZ2V0OiBhbGxbbmFtZV0sIGVudW1lcmFibGU6IHRydWUgfSk7XG59O1xudmFyIF9fY29weVByb3BzID0gKHRvLCBmcm9tLCBleGNlcHQsIGRlc2MpID0+IHtcbiAgaWYgKGZyb20gJiYgdHlwZW9mIGZyb20gPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGZyb20gPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGZvciAobGV0IGtleSBvZiBfX2dldE93blByb3BOYW1lcyhmcm9tKSlcbiAgICAgIGlmICghX19oYXNPd25Qcm9wLmNhbGwodG8sIGtleSkgJiYga2V5ICE9PSBleGNlcHQpXG4gICAgICAgIF9fZGVmUHJvcCh0bywga2V5LCB7IGdldDogKCkgPT4gZnJvbVtrZXldLCBlbnVtZXJhYmxlOiAhKGRlc2MgPSBfX2dldE93blByb3BEZXNjKGZyb20sIGtleSkpIHx8IGRlc2MuZW51bWVyYWJsZSB9KTtcbiAgfVxuICByZXR1cm4gdG87XG59O1xudmFyIF9fdG9FU00gPSAobW9kLCBpc05vZGVNb2RlLCB0YXJnZXQpID0+ICh0YXJnZXQgPSBtb2QgIT0gbnVsbCA/IF9fY3JlYXRlKF9fZ2V0UHJvdG9PZihtb2QpKSA6IHt9LCBfX2NvcHlQcm9wcyhcbiAgaXNOb2RlTW9kZSB8fCAhbW9kIHx8ICFtb2QuX19lc01vZHVsZSA/IF9fZGVmUHJvcCh0YXJnZXQsIFwiZGVmYXVsdFwiLCB7IHZhbHVlOiBtb2QsIGVudW1lcmFibGU6IHRydWUgfSkgOiB0YXJnZXQsXG4gIG1vZFxuKSk7XG52YXIgX190b0NvbW1vbkpTID0gKG1vZCkgPT4gX19jb3B5UHJvcHMoX19kZWZQcm9wKHt9LCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KSwgbW9kKTtcblxuLy8gc3JjL2pzL2luZGV4LnRzXG52YXIganNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoanNfZXhwb3J0cywge1xuICBTcGxpZGU6ICgpID0+IFNwbGlkZTIsXG4gIFNwbGlkZVNsaWRlOiAoKSA9PiBTcGxpZGVTbGlkZSxcbiAgU3BsaWRlVHJhY2s6ICgpID0+IFNwbGlkZVRyYWNrXG59KTtcbm1vZHVsZS5leHBvcnRzID0gX190b0NvbW1vbkpTKGpzX2V4cG9ydHMpO1xuXG4vLyBub2RlX21vZHVsZXMvQHNwbGlkZWpzL3NwbGlkZS9kaXN0L2pzL3NwbGlkZS5lc20uanNcbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpXG4gICAgICBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpXG4gICAgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKVxuICAgIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cbnZhciBNRURJQV9QUkVGRVJTX1JFRFVDRURfTU9USU9OID0gXCIocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlKVwiO1xudmFyIENSRUFURUQgPSAxO1xudmFyIE1PVU5URUQgPSAyO1xudmFyIElETEUgPSAzO1xudmFyIE1PVklORyA9IDQ7XG52YXIgU0NST0xMSU5HID0gNTtcbnZhciBEUkFHR0lORyA9IDY7XG52YXIgREVTVFJPWUVEID0gNztcbnZhciBTVEFURVMgPSB7XG4gIENSRUFURUQsXG4gIE1PVU5URUQsXG4gIElETEUsXG4gIE1PVklORyxcbiAgU0NST0xMSU5HLFxuICBEUkFHR0lORyxcbiAgREVTVFJPWUVEXG59O1xuZnVuY3Rpb24gZW1wdHkoYXJyYXkpIHtcbiAgYXJyYXkubGVuZ3RoID0gMDtcbn1cbmZ1bmN0aW9uIHNsaWNlKGFycmF5TGlrZSwgc3RhcnQsIGVuZCkge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJyYXlMaWtlLCBzdGFydCwgZW5kKTtcbn1cbmZ1bmN0aW9uIGFwcGx5KGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmMuYmluZC5hcHBseShmdW5jLCBbbnVsbF0uY29uY2F0KHNsaWNlKGFyZ3VtZW50cywgMSkpKTtcbn1cbnZhciBuZXh0VGljayA9IHNldFRpbWVvdXQ7XG52YXIgbm9vcCA9IGZ1bmN0aW9uIG5vb3AyKCkge1xufTtcbmZ1bmN0aW9uIHJhZihmdW5jKSB7XG4gIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuYyk7XG59XG5mdW5jdGlvbiB0eXBlT2YodHlwZSwgc3ViamVjdCkge1xuICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IHR5cGU7XG59XG5mdW5jdGlvbiBpc09iamVjdChzdWJqZWN0KSB7XG4gIHJldHVybiAhaXNOdWxsKHN1YmplY3QpICYmIHR5cGVPZihcIm9iamVjdFwiLCBzdWJqZWN0KTtcbn1cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbnZhciBpc0Z1bmN0aW9uID0gYXBwbHkodHlwZU9mLCBcImZ1bmN0aW9uXCIpO1xudmFyIGlzU3RyaW5nID0gYXBwbHkodHlwZU9mLCBcInN0cmluZ1wiKTtcbnZhciBpc1VuZGVmaW5lZCA9IGFwcGx5KHR5cGVPZiwgXCJ1bmRlZmluZWRcIik7XG5mdW5jdGlvbiBpc051bGwoc3ViamVjdCkge1xuICByZXR1cm4gc3ViamVjdCA9PT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzSFRNTEVsZW1lbnQoc3ViamVjdCkge1xuICB0cnkge1xuICAgIHJldHVybiBzdWJqZWN0IGluc3RhbmNlb2YgKHN1YmplY3Qub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyB8fCB3aW5kb3cpLkhUTUxFbGVtZW50O1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5mdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG4gIHJldHVybiBpc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcbn1cbmZ1bmN0aW9uIGZvckVhY2godmFsdWVzLCBpdGVyYXRlZSkge1xuICB0b0FycmF5KHZhbHVlcykuZm9yRWFjaChpdGVyYXRlZSk7XG59XG5mdW5jdGlvbiBpbmNsdWRlcyhhcnJheSwgdmFsdWUpIHtcbiAgcmV0dXJuIGFycmF5LmluZGV4T2YodmFsdWUpID4gLTE7XG59XG5mdW5jdGlvbiBwdXNoKGFycmF5LCBpdGVtcykge1xuICBhcnJheS5wdXNoLmFwcGx5KGFycmF5LCB0b0FycmF5KGl0ZW1zKSk7XG4gIHJldHVybiBhcnJheTtcbn1cbmZ1bmN0aW9uIHRvZ2dsZUNsYXNzKGVsbSwgY2xhc3NlcywgYWRkKSB7XG4gIGlmIChlbG0pIHtcbiAgICBmb3JFYWNoKGNsYXNzZXMsIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgIGVsbS5jbGFzc0xpc3RbYWRkID8gXCJhZGRcIiA6IFwicmVtb3ZlXCJdKG5hbWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBhZGRDbGFzcyhlbG0sIGNsYXNzZXMpIHtcbiAgdG9nZ2xlQ2xhc3MoZWxtLCBpc1N0cmluZyhjbGFzc2VzKSA/IGNsYXNzZXMuc3BsaXQoXCIgXCIpIDogY2xhc3NlcywgdHJ1ZSk7XG59XG5mdW5jdGlvbiBhcHBlbmQocGFyZW50LCBjaGlsZHJlbjIpIHtcbiAgZm9yRWFjaChjaGlsZHJlbjIsIHBhcmVudC5hcHBlbmRDaGlsZC5iaW5kKHBhcmVudCkpO1xufVxuZnVuY3Rpb24gYmVmb3JlKG5vZGVzLCByZWYpIHtcbiAgZm9yRWFjaChub2RlcywgZnVuY3Rpb24obm9kZSkge1xuICAgIHZhciBwYXJlbnQgPSAocmVmIHx8IG5vZGUpLnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShub2RlLCByZWYpO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBtYXRjaGVzKGVsbSwgc2VsZWN0b3IpIHtcbiAgcmV0dXJuIGlzSFRNTEVsZW1lbnQoZWxtKSAmJiAoZWxtW1wibXNNYXRjaGVzU2VsZWN0b3JcIl0gfHwgZWxtLm1hdGNoZXMpLmNhbGwoZWxtLCBzZWxlY3Rvcik7XG59XG5mdW5jdGlvbiBjaGlsZHJlbihwYXJlbnQsIHNlbGVjdG9yKSB7XG4gIHZhciBjaGlsZHJlbjIgPSBwYXJlbnQgPyBzbGljZShwYXJlbnQuY2hpbGRyZW4pIDogW107XG4gIHJldHVybiBzZWxlY3RvciA/IGNoaWxkcmVuMi5maWx0ZXIoZnVuY3Rpb24oY2hpbGQyKSB7XG4gICAgcmV0dXJuIG1hdGNoZXMoY2hpbGQyLCBzZWxlY3Rvcik7XG4gIH0pIDogY2hpbGRyZW4yO1xufVxuZnVuY3Rpb24gY2hpbGQocGFyZW50LCBzZWxlY3Rvcikge1xuICByZXR1cm4gc2VsZWN0b3IgPyBjaGlsZHJlbihwYXJlbnQsIHNlbGVjdG9yKVswXSA6IHBhcmVudC5maXJzdEVsZW1lbnRDaGlsZDtcbn1cbnZhciBvd25LZXlzID0gT2JqZWN0LmtleXM7XG5mdW5jdGlvbiBmb3JPd24ob2JqZWN0LCBpdGVyYXRlZSwgcmlnaHQpIHtcbiAgaWYgKG9iamVjdCkge1xuICAgIChyaWdodCA/IG93bktleXMob2JqZWN0KS5yZXZlcnNlKCkgOiBvd25LZXlzKG9iamVjdCkpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICBrZXkgIT09IFwiX19wcm90b19fXCIgJiYgaXRlcmF0ZWUob2JqZWN0W2tleV0sIGtleSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG9iamVjdDtcbn1cbmZ1bmN0aW9uIGFzc2lnbihvYmplY3QpIHtcbiAgc2xpY2UoYXJndW1lbnRzLCAxKS5mb3JFYWNoKGZ1bmN0aW9uKHNvdXJjZSkge1xuICAgIGZvck93bihzb3VyY2UsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgIG9iamVjdFtrZXldID0gc291cmNlW2tleV07XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gb2JqZWN0O1xufVxuZnVuY3Rpb24gbWVyZ2Uob2JqZWN0KSB7XG4gIHNsaWNlKGFyZ3VtZW50cywgMSkuZm9yRWFjaChmdW5jdGlvbihzb3VyY2UpIHtcbiAgICBmb3JPd24oc291cmNlLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZS5zbGljZSgpO1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSBtZXJnZSh7fSwgaXNPYmplY3Qob2JqZWN0W2tleV0pID8gb2JqZWN0W2tleV0gOiB7fSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBvYmplY3Q7XG59XG5mdW5jdGlvbiBvbWl0KG9iamVjdCwga2V5cykge1xuICBmb3JFYWNoKGtleXMgfHwgb3duS2V5cyhvYmplY3QpLCBmdW5jdGlvbihrZXkpIHtcbiAgICBkZWxldGUgb2JqZWN0W2tleV07XG4gIH0pO1xufVxuZnVuY3Rpb24gcmVtb3ZlQXR0cmlidXRlKGVsbXMsIGF0dHJzKSB7XG4gIGZvckVhY2goZWxtcywgZnVuY3Rpb24oZWxtKSB7XG4gICAgZm9yRWFjaChhdHRycywgZnVuY3Rpb24oYXR0cikge1xuICAgICAgZWxtICYmIGVsbS5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XG4gICAgfSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gc2V0QXR0cmlidXRlKGVsbXMsIGF0dHJzLCB2YWx1ZSkge1xuICBpZiAoaXNPYmplY3QoYXR0cnMpKSB7XG4gICAgZm9yT3duKGF0dHJzLCBmdW5jdGlvbih2YWx1ZTIsIG5hbWUpIHtcbiAgICAgIHNldEF0dHJpYnV0ZShlbG1zLCBuYW1lLCB2YWx1ZTIpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGZvckVhY2goZWxtcywgZnVuY3Rpb24oZWxtKSB7XG4gICAgICBpc051bGwodmFsdWUpIHx8IHZhbHVlID09PSBcIlwiID8gcmVtb3ZlQXR0cmlidXRlKGVsbSwgYXR0cnMpIDogZWxtLnNldEF0dHJpYnV0ZShhdHRycywgU3RyaW5nKHZhbHVlKSk7XG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZSh0YWcsIGF0dHJzLCBwYXJlbnQpIHtcbiAgdmFyIGVsbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgaWYgKGF0dHJzKSB7XG4gICAgaXNTdHJpbmcoYXR0cnMpID8gYWRkQ2xhc3MoZWxtLCBhdHRycykgOiBzZXRBdHRyaWJ1dGUoZWxtLCBhdHRycyk7XG4gIH1cbiAgcGFyZW50ICYmIGFwcGVuZChwYXJlbnQsIGVsbSk7XG4gIHJldHVybiBlbG07XG59XG5mdW5jdGlvbiBzdHlsZShlbG0sIHByb3AsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShlbG0pW3Byb3BdO1xuICB9XG4gIGlmICghaXNOdWxsKHZhbHVlKSkge1xuICAgIGVsbS5zdHlsZVtwcm9wXSA9IFwiXCIgKyB2YWx1ZTtcbiAgfVxufVxuZnVuY3Rpb24gZGlzcGxheShlbG0sIGRpc3BsYXkyKSB7XG4gIHN0eWxlKGVsbSwgXCJkaXNwbGF5XCIsIGRpc3BsYXkyKTtcbn1cbmZ1bmN0aW9uIGZvY3VzKGVsbSkge1xuICBlbG1bXCJzZXRBY3RpdmVcIl0gJiYgZWxtW1wic2V0QWN0aXZlXCJdKCkgfHwgZWxtLmZvY3VzKHtcbiAgICBwcmV2ZW50U2Nyb2xsOiB0cnVlXG4gIH0pO1xufVxuZnVuY3Rpb24gZ2V0QXR0cmlidXRlKGVsbSwgYXR0cikge1xuICByZXR1cm4gZWxtLmdldEF0dHJpYnV0ZShhdHRyKTtcbn1cbmZ1bmN0aW9uIGhhc0NsYXNzKGVsbSwgY2xhc3NOYW1lKSB7XG4gIHJldHVybiBlbG0gJiYgZWxtLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpO1xufVxuZnVuY3Rpb24gcmVjdCh0YXJnZXQpIHtcbiAgcmV0dXJuIHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZShub2Rlcykge1xuICBmb3JFYWNoKG5vZGVzLCBmdW5jdGlvbihub2RlKSB7XG4gICAgaWYgKG5vZGUgJiYgbm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIHBhcnNlSHRtbChodG1sKSB7XG4gIHJldHVybiBjaGlsZChuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKGh0bWwsIFwidGV4dC9odG1sXCIpLmJvZHkpO1xufVxuZnVuY3Rpb24gcHJldmVudChlLCBzdG9wUHJvcGFnYXRpb24pIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBpZiAoc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICB9XG59XG5mdW5jdGlvbiBxdWVyeShwYXJlbnQsIHNlbGVjdG9yKSB7XG4gIHJldHVybiBwYXJlbnQgJiYgcGFyZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xufVxuZnVuY3Rpb24gcXVlcnlBbGwocGFyZW50LCBzZWxlY3Rvcikge1xuICByZXR1cm4gc2VsZWN0b3IgPyBzbGljZShwYXJlbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpIDogW107XG59XG5mdW5jdGlvbiByZW1vdmVDbGFzcyhlbG0sIGNsYXNzZXMpIHtcbiAgdG9nZ2xlQ2xhc3MoZWxtLCBjbGFzc2VzLCBmYWxzZSk7XG59XG5mdW5jdGlvbiB0aW1lT2YoZSkge1xuICByZXR1cm4gZS50aW1lU3RhbXA7XG59XG5mdW5jdGlvbiB1bml0KHZhbHVlKSB7XG4gIHJldHVybiBpc1N0cmluZyh2YWx1ZSkgPyB2YWx1ZSA6IHZhbHVlID8gdmFsdWUgKyBcInB4XCIgOiBcIlwiO1xufVxudmFyIFBST0pFQ1RfQ09ERSA9IFwic3BsaWRlXCI7XG52YXIgREFUQV9BVFRSSUJVVEUgPSBcImRhdGEtXCIgKyBQUk9KRUNUX0NPREU7XG5mdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiW1wiICsgUFJPSkVDVF9DT0RFICsgXCJdIFwiICsgKG1lc3NhZ2UgfHwgXCJcIikpO1xuICB9XG59XG52YXIgbWluID0gTWF0aC5taW47XG52YXIgbWF4ID0gTWF0aC5tYXg7XG52YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xudmFyIGNlaWwgPSBNYXRoLmNlaWw7XG52YXIgYWJzID0gTWF0aC5hYnM7XG5mdW5jdGlvbiBhcHByb3hpbWF0ZWx5RXF1YWwoeCwgeSwgZXBzaWxvbikge1xuICByZXR1cm4gYWJzKHggLSB5KSA8IGVwc2lsb247XG59XG5mdW5jdGlvbiBiZXR3ZWVuKG51bWJlciwgeCwgeSwgZXhjbHVzaXZlKSB7XG4gIHZhciBtaW5pbXVtID0gbWluKHgsIHkpO1xuICB2YXIgbWF4aW11bSA9IG1heCh4LCB5KTtcbiAgcmV0dXJuIGV4Y2x1c2l2ZSA/IG1pbmltdW0gPCBudW1iZXIgJiYgbnVtYmVyIDwgbWF4aW11bSA6IG1pbmltdW0gPD0gbnVtYmVyICYmIG51bWJlciA8PSBtYXhpbXVtO1xufVxuZnVuY3Rpb24gY2xhbXAobnVtYmVyLCB4LCB5KSB7XG4gIHZhciBtaW5pbXVtID0gbWluKHgsIHkpO1xuICB2YXIgbWF4aW11bSA9IG1heCh4LCB5KTtcbiAgcmV0dXJuIG1pbihtYXgobWluaW11bSwgbnVtYmVyKSwgbWF4aW11bSk7XG59XG5mdW5jdGlvbiBzaWduKHgpIHtcbiAgcmV0dXJuICsoeCA+IDApIC0gKyh4IDwgMCk7XG59XG5mdW5jdGlvbiBmb3JtYXQoc3RyaW5nLCByZXBsYWNlbWVudHMpIHtcbiAgZm9yRWFjaChyZXBsYWNlbWVudHMsIGZ1bmN0aW9uKHJlcGxhY2VtZW50KSB7XG4gICAgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UoXCIlc1wiLCBcIlwiICsgcmVwbGFjZW1lbnQpO1xuICB9KTtcbiAgcmV0dXJuIHN0cmluZztcbn1cbmZ1bmN0aW9uIHBhZChudW1iZXIpIHtcbiAgcmV0dXJuIG51bWJlciA8IDEwID8gXCIwXCIgKyBudW1iZXIgOiBcIlwiICsgbnVtYmVyO1xufVxudmFyIGlkcyA9IHt9O1xuZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XG4gIHJldHVybiBcIlwiICsgcHJlZml4ICsgcGFkKGlkc1twcmVmaXhdID0gKGlkc1twcmVmaXhdIHx8IDApICsgMSk7XG59XG5mdW5jdGlvbiBFdmVudEJpbmRlcigpIHtcbiAgdmFyIGxpc3RlbmVycyA9IFtdO1xuICBmdW5jdGlvbiBiaW5kKHRhcmdldHMsIGV2ZW50cywgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICBmb3JFYWNoRXZlbnQodGFyZ2V0cywgZXZlbnRzLCBmdW5jdGlvbih0YXJnZXQsIGV2ZW50LCBuYW1lc3BhY2UpIHtcbiAgICAgIHZhciBpc0V2ZW50VGFyZ2V0ID0gXCJhZGRFdmVudExpc3RlbmVyXCIgaW4gdGFyZ2V0O1xuICAgICAgdmFyIHJlbW92ZXIgPSBpc0V2ZW50VGFyZ2V0ID8gdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIuYmluZCh0YXJnZXQsIGV2ZW50LCBjYWxsYmFjaywgb3B0aW9ucykgOiB0YXJnZXRbXCJyZW1vdmVMaXN0ZW5lclwiXS5iaW5kKHRhcmdldCwgY2FsbGJhY2spO1xuICAgICAgaXNFdmVudFRhcmdldCA/IHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBjYWxsYmFjaywgb3B0aW9ucykgOiB0YXJnZXRbXCJhZGRMaXN0ZW5lclwiXShjYWxsYmFjayk7XG4gICAgICBsaXN0ZW5lcnMucHVzaChbdGFyZ2V0LCBldmVudCwgbmFtZXNwYWNlLCBjYWxsYmFjaywgcmVtb3Zlcl0pO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHVuYmluZCh0YXJnZXRzLCBldmVudHMsIGNhbGxiYWNrKSB7XG4gICAgZm9yRWFjaEV2ZW50KHRhcmdldHMsIGV2ZW50cywgZnVuY3Rpb24odGFyZ2V0LCBldmVudCwgbmFtZXNwYWNlKSB7XG4gICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uKGxpc3RlbmVyKSB7XG4gICAgICAgIGlmIChsaXN0ZW5lclswXSA9PT0gdGFyZ2V0ICYmIGxpc3RlbmVyWzFdID09PSBldmVudCAmJiBsaXN0ZW5lclsyXSA9PT0gbmFtZXNwYWNlICYmICghY2FsbGJhY2sgfHwgbGlzdGVuZXJbM10gPT09IGNhbGxiYWNrKSkge1xuICAgICAgICAgIGxpc3RlbmVyWzRdKCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gZGlzcGF0Y2godGFyZ2V0LCB0eXBlLCBkZXRhaWwpIHtcbiAgICB2YXIgZTtcbiAgICB2YXIgYnViYmxlcyA9IHRydWU7XG4gICAgaWYgKHR5cGVvZiBDdXN0b21FdmVudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBlID0gbmV3IEN1c3RvbUV2ZW50KHR5cGUsIHtcbiAgICAgICAgYnViYmxlcyxcbiAgICAgICAgZGV0YWlsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7XG4gICAgICBlLmluaXRDdXN0b21FdmVudCh0eXBlLCBidWJibGVzLCBmYWxzZSwgZGV0YWlsKTtcbiAgICB9XG4gICAgdGFyZ2V0LmRpc3BhdGNoRXZlbnQoZSk7XG4gICAgcmV0dXJuIGU7XG4gIH1cbiAgZnVuY3Rpb24gZm9yRWFjaEV2ZW50KHRhcmdldHMsIGV2ZW50cywgaXRlcmF0ZWUpIHtcbiAgICBmb3JFYWNoKHRhcmdldHMsIGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgdGFyZ2V0ICYmIGZvckVhY2goZXZlbnRzLCBmdW5jdGlvbihldmVudHMyKSB7XG4gICAgICAgIGV2ZW50czIuc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24oZXZlbnROUykge1xuICAgICAgICAgIHZhciBmcmFnbWVudCA9IGV2ZW50TlMuc3BsaXQoXCIuXCIpO1xuICAgICAgICAgIGl0ZXJhdGVlKHRhcmdldCwgZnJhZ21lbnRbMF0sIGZyYWdtZW50WzFdKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIGRhdGFbNF0oKTtcbiAgICB9KTtcbiAgICBlbXB0eShsaXN0ZW5lcnMpO1xuICB9XG4gIHJldHVybiB7XG4gICAgYmluZCxcbiAgICB1bmJpbmQsXG4gICAgZGlzcGF0Y2gsXG4gICAgZGVzdHJveVxuICB9O1xufVxudmFyIEVWRU5UX01PVU5URUQgPSBcIm1vdW50ZWRcIjtcbnZhciBFVkVOVF9SRUFEWSA9IFwicmVhZHlcIjtcbnZhciBFVkVOVF9NT1ZFID0gXCJtb3ZlXCI7XG52YXIgRVZFTlRfTU9WRUQgPSBcIm1vdmVkXCI7XG52YXIgRVZFTlRfQ0xJQ0sgPSBcImNsaWNrXCI7XG52YXIgRVZFTlRfQUNUSVZFID0gXCJhY3RpdmVcIjtcbnZhciBFVkVOVF9JTkFDVElWRSA9IFwiaW5hY3RpdmVcIjtcbnZhciBFVkVOVF9WSVNJQkxFID0gXCJ2aXNpYmxlXCI7XG52YXIgRVZFTlRfSElEREVOID0gXCJoaWRkZW5cIjtcbnZhciBFVkVOVF9SRUZSRVNIID0gXCJyZWZyZXNoXCI7XG52YXIgRVZFTlRfVVBEQVRFRCA9IFwidXBkYXRlZFwiO1xudmFyIEVWRU5UX1JFU0laRSA9IFwicmVzaXplXCI7XG52YXIgRVZFTlRfUkVTSVpFRCA9IFwicmVzaXplZFwiO1xudmFyIEVWRU5UX0RSQUcgPSBcImRyYWdcIjtcbnZhciBFVkVOVF9EUkFHR0lORyA9IFwiZHJhZ2dpbmdcIjtcbnZhciBFVkVOVF9EUkFHR0VEID0gXCJkcmFnZ2VkXCI7XG52YXIgRVZFTlRfU0NST0xMID0gXCJzY3JvbGxcIjtcbnZhciBFVkVOVF9TQ1JPTExFRCA9IFwic2Nyb2xsZWRcIjtcbnZhciBFVkVOVF9PVkVSRkxPVyA9IFwib3ZlcmZsb3dcIjtcbnZhciBFVkVOVF9ERVNUUk9ZID0gXCJkZXN0cm95XCI7XG52YXIgRVZFTlRfQVJST1dTX01PVU5URUQgPSBcImFycm93czptb3VudGVkXCI7XG52YXIgRVZFTlRfQVJST1dTX1VQREFURUQgPSBcImFycm93czp1cGRhdGVkXCI7XG52YXIgRVZFTlRfUEFHSU5BVElPTl9NT1VOVEVEID0gXCJwYWdpbmF0aW9uOm1vdW50ZWRcIjtcbnZhciBFVkVOVF9QQUdJTkFUSU9OX1VQREFURUQgPSBcInBhZ2luYXRpb246dXBkYXRlZFwiO1xudmFyIEVWRU5UX05BVklHQVRJT05fTU9VTlRFRCA9IFwibmF2aWdhdGlvbjptb3VudGVkXCI7XG52YXIgRVZFTlRfQVVUT1BMQVlfUExBWSA9IFwiYXV0b3BsYXk6cGxheVwiO1xudmFyIEVWRU5UX0FVVE9QTEFZX1BMQVlJTkcgPSBcImF1dG9wbGF5OnBsYXlpbmdcIjtcbnZhciBFVkVOVF9BVVRPUExBWV9QQVVTRSA9IFwiYXV0b3BsYXk6cGF1c2VcIjtcbnZhciBFVkVOVF9MQVpZTE9BRF9MT0FERUQgPSBcImxhenlsb2FkOmxvYWRlZFwiO1xudmFyIEVWRU5UX1NMSURFX0tFWURPV04gPSBcInNrXCI7XG52YXIgRVZFTlRfU0hJRlRFRCA9IFwic2hcIjtcbnZhciBFVkVOVF9FTkRfSU5ERVhfQ0hBTkdFRCA9IFwiZWlcIjtcbmZ1bmN0aW9uIEV2ZW50SW50ZXJmYWNlKFNwbGlkZTIyKSB7XG4gIHZhciBidXMgPSBTcGxpZGUyMiA/IFNwbGlkZTIyLmV2ZW50LmJ1cyA6IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgdmFyIGJpbmRlciA9IEV2ZW50QmluZGVyKCk7XG4gIGZ1bmN0aW9uIG9uKGV2ZW50cywgY2FsbGJhY2spIHtcbiAgICBiaW5kZXIuYmluZChidXMsIHRvQXJyYXkoZXZlbnRzKS5qb2luKFwiIFwiKSwgZnVuY3Rpb24oZSkge1xuICAgICAgY2FsbGJhY2suYXBwbHkoY2FsbGJhY2ssIGlzQXJyYXkoZS5kZXRhaWwpID8gZS5kZXRhaWwgOiBbXSk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gZW1pdChldmVudCkge1xuICAgIGJpbmRlci5kaXNwYXRjaChidXMsIGV2ZW50LCBzbGljZShhcmd1bWVudHMsIDEpKTtcbiAgfVxuICBpZiAoU3BsaWRlMjIpIHtcbiAgICBTcGxpZGUyMi5ldmVudC5vbihFVkVOVF9ERVNUUk9ZLCBiaW5kZXIuZGVzdHJveSk7XG4gIH1cbiAgcmV0dXJuIGFzc2lnbihiaW5kZXIsIHtcbiAgICBidXMsXG4gICAgb24sXG4gICAgb2ZmOiBhcHBseShiaW5kZXIudW5iaW5kLCBidXMpLFxuICAgIGVtaXRcbiAgfSk7XG59XG5mdW5jdGlvbiBSZXF1ZXN0SW50ZXJ2YWwoaW50ZXJ2YWwsIG9uSW50ZXJ2YWwsIG9uVXBkYXRlLCBsaW1pdCkge1xuICB2YXIgbm93ID0gRGF0ZS5ub3c7XG4gIHZhciBzdGFydFRpbWU7XG4gIHZhciByYXRlID0gMDtcbiAgdmFyIGlkO1xuICB2YXIgcGF1c2VkID0gdHJ1ZTtcbiAgdmFyIGNvdW50ID0gMDtcbiAgZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgIGlmICghcGF1c2VkKSB7XG4gICAgICByYXRlID0gaW50ZXJ2YWwgPyBtaW4oKG5vdygpIC0gc3RhcnRUaW1lKSAvIGludGVydmFsLCAxKSA6IDE7XG4gICAgICBvblVwZGF0ZSAmJiBvblVwZGF0ZShyYXRlKTtcbiAgICAgIGlmIChyYXRlID49IDEpIHtcbiAgICAgICAgb25JbnRlcnZhbCgpO1xuICAgICAgICBzdGFydFRpbWUgPSBub3coKTtcbiAgICAgICAgaWYgKGxpbWl0ICYmICsrY291bnQgPj0gbGltaXQpIHtcbiAgICAgICAgICByZXR1cm4gcGF1c2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWQgPSByYWYodXBkYXRlKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gc3RhcnQocmVzdW1lKSB7XG4gICAgcmVzdW1lIHx8IGNhbmNlbCgpO1xuICAgIHN0YXJ0VGltZSA9IG5vdygpIC0gKHJlc3VtZSA/IHJhdGUgKiBpbnRlcnZhbCA6IDApO1xuICAgIHBhdXNlZCA9IGZhbHNlO1xuICAgIGlkID0gcmFmKHVwZGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgcGF1c2VkID0gdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiByZXdpbmQoKSB7XG4gICAgc3RhcnRUaW1lID0gbm93KCk7XG4gICAgcmF0ZSA9IDA7XG4gICAgaWYgKG9uVXBkYXRlKSB7XG4gICAgICBvblVwZGF0ZShyYXRlKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgIGlkICYmIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKTtcbiAgICByYXRlID0gMDtcbiAgICBpZCA9IDA7XG4gICAgcGF1c2VkID0gdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiBzZXQodGltZSkge1xuICAgIGludGVydmFsID0gdGltZTtcbiAgfVxuICBmdW5jdGlvbiBpc1BhdXNlZCgpIHtcbiAgICByZXR1cm4gcGF1c2VkO1xuICB9XG4gIHJldHVybiB7XG4gICAgc3RhcnQsXG4gICAgcmV3aW5kLFxuICAgIHBhdXNlLFxuICAgIGNhbmNlbCxcbiAgICBzZXQsXG4gICAgaXNQYXVzZWRcbiAgfTtcbn1cbmZ1bmN0aW9uIFN0YXRlKGluaXRpYWxTdGF0ZSkge1xuICB2YXIgc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gIGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgIHN0YXRlID0gdmFsdWU7XG4gIH1cbiAgZnVuY3Rpb24gaXMoc3RhdGVzKSB7XG4gICAgcmV0dXJuIGluY2x1ZGVzKHRvQXJyYXkoc3RhdGVzKSwgc3RhdGUpO1xuICB9XG4gIHJldHVybiB7XG4gICAgc2V0LFxuICAgIGlzXG4gIH07XG59XG5mdW5jdGlvbiBUaHJvdHRsZShmdW5jLCBkdXJhdGlvbikge1xuICB2YXIgaW50ZXJ2YWwgPSBSZXF1ZXN0SW50ZXJ2YWwoZHVyYXRpb24gfHwgMCwgZnVuYywgbnVsbCwgMSk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBpbnRlcnZhbC5pc1BhdXNlZCgpICYmIGludGVydmFsLnN0YXJ0KCk7XG4gIH07XG59XG5mdW5jdGlvbiBNZWRpYShTcGxpZGUyMiwgQ29tcG9uZW50czIsIG9wdGlvbnMpIHtcbiAgdmFyIHN0YXRlID0gU3BsaWRlMjIuc3RhdGU7XG4gIHZhciBicmVha3BvaW50cyA9IG9wdGlvbnMuYnJlYWtwb2ludHMgfHwge307XG4gIHZhciByZWR1Y2VkTW90aW9uID0gb3B0aW9ucy5yZWR1Y2VkTW90aW9uIHx8IHt9O1xuICB2YXIgYmluZGVyID0gRXZlbnRCaW5kZXIoKTtcbiAgdmFyIHF1ZXJpZXMgPSBbXTtcbiAgZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgdmFyIGlzTWluID0gb3B0aW9ucy5tZWRpYVF1ZXJ5ID09PSBcIm1pblwiO1xuICAgIG93bktleXMoYnJlYWtwb2ludHMpLnNvcnQoZnVuY3Rpb24obiwgbSkge1xuICAgICAgcmV0dXJuIGlzTWluID8gK24gLSArbSA6ICttIC0gK247XG4gICAgfSkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJlZ2lzdGVyKGJyZWFrcG9pbnRzW2tleV0sIFwiKFwiICsgKGlzTWluID8gXCJtaW5cIiA6IFwibWF4XCIpICsgXCItd2lkdGg6XCIgKyBrZXkgKyBcInB4KVwiKTtcbiAgICB9KTtcbiAgICByZWdpc3RlcihyZWR1Y2VkTW90aW9uLCBNRURJQV9QUkVGRVJTX1JFRFVDRURfTU9USU9OKTtcbiAgICB1cGRhdGUoKTtcbiAgfVxuICBmdW5jdGlvbiBkZXN0cm95KGNvbXBsZXRlbHkpIHtcbiAgICBpZiAoY29tcGxldGVseSkge1xuICAgICAgYmluZGVyLmRlc3Ryb3koKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVnaXN0ZXIob3B0aW9uczIsIHF1ZXJ5Mikge1xuICAgIHZhciBxdWVyeUxpc3QgPSBtYXRjaE1lZGlhKHF1ZXJ5Mik7XG4gICAgYmluZGVyLmJpbmQocXVlcnlMaXN0LCBcImNoYW5nZVwiLCB1cGRhdGUpO1xuICAgIHF1ZXJpZXMucHVzaChbb3B0aW9uczIsIHF1ZXJ5TGlzdF0pO1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICB2YXIgZGVzdHJveWVkID0gc3RhdGUuaXMoREVTVFJPWUVEKTtcbiAgICB2YXIgZGlyZWN0aW9uID0gb3B0aW9ucy5kaXJlY3Rpb247XG4gICAgdmFyIG1lcmdlZCA9IHF1ZXJpZXMucmVkdWNlKGZ1bmN0aW9uKG1lcmdlZDIsIGVudHJ5KSB7XG4gICAgICByZXR1cm4gbWVyZ2UobWVyZ2VkMiwgZW50cnlbMV0ubWF0Y2hlcyA/IGVudHJ5WzBdIDoge30pO1xuICAgIH0sIHt9KTtcbiAgICBvbWl0KG9wdGlvbnMpO1xuICAgIHNldChtZXJnZWQpO1xuICAgIGlmIChvcHRpb25zLmRlc3Ryb3kpIHtcbiAgICAgIFNwbGlkZTIyLmRlc3Ryb3kob3B0aW9ucy5kZXN0cm95ID09PSBcImNvbXBsZXRlbHlcIik7XG4gICAgfSBlbHNlIGlmIChkZXN0cm95ZWQpIHtcbiAgICAgIGRlc3Ryb3kodHJ1ZSk7XG4gICAgICBTcGxpZGUyMi5tb3VudCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkaXJlY3Rpb24gIT09IG9wdGlvbnMuZGlyZWN0aW9uICYmIFNwbGlkZTIyLnJlZnJlc2goKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVkdWNlKGVuYWJsZSkge1xuICAgIGlmIChtYXRjaE1lZGlhKE1FRElBX1BSRUZFUlNfUkVEVUNFRF9NT1RJT04pLm1hdGNoZXMpIHtcbiAgICAgIGVuYWJsZSA/IG1lcmdlKG9wdGlvbnMsIHJlZHVjZWRNb3Rpb24pIDogb21pdChvcHRpb25zLCBvd25LZXlzKHJlZHVjZWRNb3Rpb24pKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gc2V0KG9wdHMsIGJhc2UsIG5vdGlmeSkge1xuICAgIG1lcmdlKG9wdGlvbnMsIG9wdHMpO1xuICAgIGJhc2UgJiYgbWVyZ2UoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9wdGlvbnMpLCBvcHRzKTtcbiAgICBpZiAobm90aWZ5IHx8ICFzdGF0ZS5pcyhDUkVBVEVEKSkge1xuICAgICAgU3BsaWRlMjIuZW1pdChFVkVOVF9VUERBVEVELCBvcHRpb25zKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBzZXR1cCxcbiAgICBkZXN0cm95LFxuICAgIHJlZHVjZSxcbiAgICBzZXRcbiAgfTtcbn1cbnZhciBBUlJPVyA9IFwiQXJyb3dcIjtcbnZhciBBUlJPV19MRUZUID0gQVJST1cgKyBcIkxlZnRcIjtcbnZhciBBUlJPV19SSUdIVCA9IEFSUk9XICsgXCJSaWdodFwiO1xudmFyIEFSUk9XX1VQID0gQVJST1cgKyBcIlVwXCI7XG52YXIgQVJST1dfRE9XTiA9IEFSUk9XICsgXCJEb3duXCI7XG52YXIgUlRMID0gXCJydGxcIjtcbnZhciBUVEIgPSBcInR0YlwiO1xudmFyIE9SSUVOVEFUSU9OX01BUCA9IHtcbiAgd2lkdGg6IFtcImhlaWdodFwiXSxcbiAgbGVmdDogW1widG9wXCIsIFwicmlnaHRcIl0sXG4gIHJpZ2h0OiBbXCJib3R0b21cIiwgXCJsZWZ0XCJdLFxuICB4OiBbXCJ5XCJdLFxuICBYOiBbXCJZXCJdLFxuICBZOiBbXCJYXCJdLFxuICBBcnJvd0xlZnQ6IFtBUlJPV19VUCwgQVJST1dfUklHSFRdLFxuICBBcnJvd1JpZ2h0OiBbQVJST1dfRE9XTiwgQVJST1dfTEVGVF1cbn07XG5mdW5jdGlvbiBEaXJlY3Rpb24oU3BsaWRlMjIsIENvbXBvbmVudHMyLCBvcHRpb25zKSB7XG4gIGZ1bmN0aW9uIHJlc29sdmUocHJvcCwgYXhpc09ubHksIGRpcmVjdGlvbikge1xuICAgIGRpcmVjdGlvbiA9IGRpcmVjdGlvbiB8fCBvcHRpb25zLmRpcmVjdGlvbjtcbiAgICB2YXIgaW5kZXggPSBkaXJlY3Rpb24gPT09IFJUTCAmJiAhYXhpc09ubHkgPyAxIDogZGlyZWN0aW9uID09PSBUVEIgPyAwIDogLTE7XG4gICAgcmV0dXJuIE9SSUVOVEFUSU9OX01BUFtwcm9wXSAmJiBPUklFTlRBVElPTl9NQVBbcHJvcF1baW5kZXhdIHx8IHByb3AucmVwbGFjZSgvd2lkdGh8bGVmdHxyaWdodC9pLCBmdW5jdGlvbihtYXRjaCwgb2Zmc2V0KSB7XG4gICAgICB2YXIgcmVwbGFjZW1lbnQgPSBPUklFTlRBVElPTl9NQVBbbWF0Y2gudG9Mb3dlckNhc2UoKV1baW5kZXhdIHx8IG1hdGNoO1xuICAgICAgcmV0dXJuIG9mZnNldCA+IDAgPyByZXBsYWNlbWVudC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHJlcGxhY2VtZW50LnNsaWNlKDEpIDogcmVwbGFjZW1lbnQ7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gb3JpZW50KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICogKG9wdGlvbnMuZGlyZWN0aW9uID09PSBSVEwgPyAxIDogLTEpO1xuICB9XG4gIHJldHVybiB7XG4gICAgcmVzb2x2ZSxcbiAgICBvcmllbnRcbiAgfTtcbn1cbnZhciBST0xFID0gXCJyb2xlXCI7XG52YXIgVEFCX0lOREVYID0gXCJ0YWJpbmRleFwiO1xudmFyIERJU0FCTEVEID0gXCJkaXNhYmxlZFwiO1xudmFyIEFSSUFfUFJFRklYID0gXCJhcmlhLVwiO1xudmFyIEFSSUFfQ09OVFJPTFMgPSBBUklBX1BSRUZJWCArIFwiY29udHJvbHNcIjtcbnZhciBBUklBX0NVUlJFTlQgPSBBUklBX1BSRUZJWCArIFwiY3VycmVudFwiO1xudmFyIEFSSUFfU0VMRUNURUQgPSBBUklBX1BSRUZJWCArIFwic2VsZWN0ZWRcIjtcbnZhciBBUklBX0xBQkVMID0gQVJJQV9QUkVGSVggKyBcImxhYmVsXCI7XG52YXIgQVJJQV9MQUJFTExFREJZID0gQVJJQV9QUkVGSVggKyBcImxhYmVsbGVkYnlcIjtcbnZhciBBUklBX0hJRERFTiA9IEFSSUFfUFJFRklYICsgXCJoaWRkZW5cIjtcbnZhciBBUklBX09SSUVOVEFUSU9OID0gQVJJQV9QUkVGSVggKyBcIm9yaWVudGF0aW9uXCI7XG52YXIgQVJJQV9ST0xFREVTQ1JJUFRJT04gPSBBUklBX1BSRUZJWCArIFwicm9sZWRlc2NyaXB0aW9uXCI7XG52YXIgQVJJQV9MSVZFID0gQVJJQV9QUkVGSVggKyBcImxpdmVcIjtcbnZhciBBUklBX0JVU1kgPSBBUklBX1BSRUZJWCArIFwiYnVzeVwiO1xudmFyIEFSSUFfQVRPTUlDID0gQVJJQV9QUkVGSVggKyBcImF0b21pY1wiO1xudmFyIEFMTF9BVFRSSUJVVEVTID0gW1JPTEUsIFRBQl9JTkRFWCwgRElTQUJMRUQsIEFSSUFfQ09OVFJPTFMsIEFSSUFfQ1VSUkVOVCwgQVJJQV9MQUJFTCwgQVJJQV9MQUJFTExFREJZLCBBUklBX0hJRERFTiwgQVJJQV9PUklFTlRBVElPTiwgQVJJQV9ST0xFREVTQ1JJUFRJT05dO1xudmFyIENMQVNTX1BSRUZJWCA9IFBST0pFQ1RfQ09ERSArIFwiX19cIjtcbnZhciBTVEFUVVNfQ0xBU1NfUFJFRklYID0gXCJpcy1cIjtcbnZhciBDTEFTU19ST09UID0gUFJPSkVDVF9DT0RFO1xudmFyIENMQVNTX1RSQUNLID0gQ0xBU1NfUFJFRklYICsgXCJ0cmFja1wiO1xudmFyIENMQVNTX0xJU1QgPSBDTEFTU19QUkVGSVggKyBcImxpc3RcIjtcbnZhciBDTEFTU19TTElERSA9IENMQVNTX1BSRUZJWCArIFwic2xpZGVcIjtcbnZhciBDTEFTU19DTE9ORSA9IENMQVNTX1NMSURFICsgXCItLWNsb25lXCI7XG52YXIgQ0xBU1NfQ09OVEFJTkVSID0gQ0xBU1NfU0xJREUgKyBcIl9fY29udGFpbmVyXCI7XG52YXIgQ0xBU1NfQVJST1dTID0gQ0xBU1NfUFJFRklYICsgXCJhcnJvd3NcIjtcbnZhciBDTEFTU19BUlJPVyA9IENMQVNTX1BSRUZJWCArIFwiYXJyb3dcIjtcbnZhciBDTEFTU19BUlJPV19QUkVWID0gQ0xBU1NfQVJST1cgKyBcIi0tcHJldlwiO1xudmFyIENMQVNTX0FSUk9XX05FWFQgPSBDTEFTU19BUlJPVyArIFwiLS1uZXh0XCI7XG52YXIgQ0xBU1NfUEFHSU5BVElPTiA9IENMQVNTX1BSRUZJWCArIFwicGFnaW5hdGlvblwiO1xudmFyIENMQVNTX1BBR0lOQVRJT05fUEFHRSA9IENMQVNTX1BBR0lOQVRJT04gKyBcIl9fcGFnZVwiO1xudmFyIENMQVNTX1BST0dSRVNTID0gQ0xBU1NfUFJFRklYICsgXCJwcm9ncmVzc1wiO1xudmFyIENMQVNTX1BST0dSRVNTX0JBUiA9IENMQVNTX1BST0dSRVNTICsgXCJfX2JhclwiO1xudmFyIENMQVNTX1RPR0dMRSA9IENMQVNTX1BSRUZJWCArIFwidG9nZ2xlXCI7XG52YXIgQ0xBU1NfVE9HR0xFX1BMQVkgPSBDTEFTU19UT0dHTEUgKyBcIl9fcGxheVwiO1xudmFyIENMQVNTX1RPR0dMRV9QQVVTRSA9IENMQVNTX1RPR0dMRSArIFwiX19wYXVzZVwiO1xudmFyIENMQVNTX1NQSU5ORVIgPSBDTEFTU19QUkVGSVggKyBcInNwaW5uZXJcIjtcbnZhciBDTEFTU19TUiA9IENMQVNTX1BSRUZJWCArIFwic3JcIjtcbnZhciBDTEFTU19JTklUSUFMSVpFRCA9IFNUQVRVU19DTEFTU19QUkVGSVggKyBcImluaXRpYWxpemVkXCI7XG52YXIgQ0xBU1NfQUNUSVZFID0gU1RBVFVTX0NMQVNTX1BSRUZJWCArIFwiYWN0aXZlXCI7XG52YXIgQ0xBU1NfUFJFViA9IFNUQVRVU19DTEFTU19QUkVGSVggKyBcInByZXZcIjtcbnZhciBDTEFTU19ORVhUID0gU1RBVFVTX0NMQVNTX1BSRUZJWCArIFwibmV4dFwiO1xudmFyIENMQVNTX1ZJU0lCTEUgPSBTVEFUVVNfQ0xBU1NfUFJFRklYICsgXCJ2aXNpYmxlXCI7XG52YXIgQ0xBU1NfTE9BRElORyA9IFNUQVRVU19DTEFTU19QUkVGSVggKyBcImxvYWRpbmdcIjtcbnZhciBDTEFTU19GT0NVU19JTiA9IFNUQVRVU19DTEFTU19QUkVGSVggKyBcImZvY3VzLWluXCI7XG52YXIgQ0xBU1NfT1ZFUkZMT1cgPSBTVEFUVVNfQ0xBU1NfUFJFRklYICsgXCJvdmVyZmxvd1wiO1xudmFyIFNUQVRVU19DTEFTU0VTID0gW0NMQVNTX0FDVElWRSwgQ0xBU1NfVklTSUJMRSwgQ0xBU1NfUFJFViwgQ0xBU1NfTkVYVCwgQ0xBU1NfTE9BRElORywgQ0xBU1NfRk9DVVNfSU4sIENMQVNTX09WRVJGTE9XXTtcbnZhciBDTEFTU0VTID0ge1xuICBzbGlkZTogQ0xBU1NfU0xJREUsXG4gIGNsb25lOiBDTEFTU19DTE9ORSxcbiAgYXJyb3dzOiBDTEFTU19BUlJPV1MsXG4gIGFycm93OiBDTEFTU19BUlJPVyxcbiAgcHJldjogQ0xBU1NfQVJST1dfUFJFVixcbiAgbmV4dDogQ0xBU1NfQVJST1dfTkVYVCxcbiAgcGFnaW5hdGlvbjogQ0xBU1NfUEFHSU5BVElPTixcbiAgcGFnZTogQ0xBU1NfUEFHSU5BVElPTl9QQUdFLFxuICBzcGlubmVyOiBDTEFTU19TUElOTkVSXG59O1xuZnVuY3Rpb24gY2xvc2VzdChmcm9tLCBzZWxlY3Rvcikge1xuICBpZiAoaXNGdW5jdGlvbihmcm9tLmNsb3Nlc3QpKSB7XG4gICAgcmV0dXJuIGZyb20uY2xvc2VzdChzZWxlY3Rvcik7XG4gIH1cbiAgdmFyIGVsbSA9IGZyb207XG4gIHdoaWxlIChlbG0gJiYgZWxtLm5vZGVUeXBlID09PSAxKSB7XG4gICAgaWYgKG1hdGNoZXMoZWxtLCBzZWxlY3RvcikpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBlbG0gPSBlbG0ucGFyZW50RWxlbWVudDtcbiAgfVxuICByZXR1cm4gZWxtO1xufVxudmFyIEZSSUNUSU9OID0gNTtcbnZhciBMT0dfSU5URVJWQUwgPSAyMDA7XG52YXIgUE9JTlRFUl9ET1dOX0VWRU5UUyA9IFwidG91Y2hzdGFydCBtb3VzZWRvd25cIjtcbnZhciBQT0lOVEVSX01PVkVfRVZFTlRTID0gXCJ0b3VjaG1vdmUgbW91c2Vtb3ZlXCI7XG52YXIgUE9JTlRFUl9VUF9FVkVOVFMgPSBcInRvdWNoZW5kIHRvdWNoY2FuY2VsIG1vdXNldXAgY2xpY2tcIjtcbmZ1bmN0aW9uIEVsZW1lbnRzKFNwbGlkZTIyLCBDb21wb25lbnRzMiwgb3B0aW9ucykge1xuICB2YXIgX0V2ZW50SW50ZXJmYWNlID0gRXZlbnRJbnRlcmZhY2UoU3BsaWRlMjIpLCBvbiA9IF9FdmVudEludGVyZmFjZS5vbiwgYmluZCA9IF9FdmVudEludGVyZmFjZS5iaW5kO1xuICB2YXIgcm9vdCA9IFNwbGlkZTIyLnJvb3Q7XG4gIHZhciBpMThuID0gb3B0aW9ucy5pMThuO1xuICB2YXIgZWxlbWVudHMgPSB7fTtcbiAgdmFyIHNsaWRlcyA9IFtdO1xuICB2YXIgcm9vdENsYXNzZXMgPSBbXTtcbiAgdmFyIHRyYWNrQ2xhc3NlcyA9IFtdO1xuICB2YXIgdHJhY2s7XG4gIHZhciBsaXN0O1xuICB2YXIgaXNVc2luZ0tleTtcbiAgZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgY29sbGVjdCgpO1xuICAgIGluaXQoKTtcbiAgICB1cGRhdGUoKTtcbiAgfVxuICBmdW5jdGlvbiBtb3VudCgpIHtcbiAgICBvbihFVkVOVF9SRUZSRVNILCBkZXN0cm95KTtcbiAgICBvbihFVkVOVF9SRUZSRVNILCBzZXR1cCk7XG4gICAgb24oRVZFTlRfVVBEQVRFRCwgdXBkYXRlKTtcbiAgICBiaW5kKGRvY3VtZW50LCBQT0lOVEVSX0RPV05fRVZFTlRTICsgXCIga2V5ZG93blwiLCBmdW5jdGlvbihlKSB7XG4gICAgICBpc1VzaW5nS2V5ID0gZS50eXBlID09PSBcImtleWRvd25cIjtcbiAgICB9LCB7XG4gICAgICBjYXB0dXJlOiB0cnVlXG4gICAgfSk7XG4gICAgYmluZChyb290LCBcImZvY3VzaW5cIiwgZnVuY3Rpb24oKSB7XG4gICAgICB0b2dnbGVDbGFzcyhyb290LCBDTEFTU19GT0NVU19JTiwgISFpc1VzaW5nS2V5KTtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBkZXN0cm95KGNvbXBsZXRlbHkpIHtcbiAgICB2YXIgYXR0cnMgPSBBTExfQVRUUklCVVRFUy5jb25jYXQoXCJzdHlsZVwiKTtcbiAgICBlbXB0eShzbGlkZXMpO1xuICAgIHJlbW92ZUNsYXNzKHJvb3QsIHJvb3RDbGFzc2VzKTtcbiAgICByZW1vdmVDbGFzcyh0cmFjaywgdHJhY2tDbGFzc2VzKTtcbiAgICByZW1vdmVBdHRyaWJ1dGUoW3RyYWNrLCBsaXN0XSwgYXR0cnMpO1xuICAgIHJlbW92ZUF0dHJpYnV0ZShyb290LCBjb21wbGV0ZWx5ID8gYXR0cnMgOiBbXCJzdHlsZVwiLCBBUklBX1JPTEVERVNDUklQVElPTl0pO1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICByZW1vdmVDbGFzcyhyb290LCByb290Q2xhc3Nlcyk7XG4gICAgcmVtb3ZlQ2xhc3ModHJhY2ssIHRyYWNrQ2xhc3Nlcyk7XG4gICAgcm9vdENsYXNzZXMgPSBnZXRDbGFzc2VzKENMQVNTX1JPT1QpO1xuICAgIHRyYWNrQ2xhc3NlcyA9IGdldENsYXNzZXMoQ0xBU1NfVFJBQ0spO1xuICAgIGFkZENsYXNzKHJvb3QsIHJvb3RDbGFzc2VzKTtcbiAgICBhZGRDbGFzcyh0cmFjaywgdHJhY2tDbGFzc2VzKTtcbiAgICBzZXRBdHRyaWJ1dGUocm9vdCwgQVJJQV9MQUJFTCwgb3B0aW9ucy5sYWJlbCk7XG4gICAgc2V0QXR0cmlidXRlKHJvb3QsIEFSSUFfTEFCRUxMRURCWSwgb3B0aW9ucy5sYWJlbGxlZGJ5KTtcbiAgfVxuICBmdW5jdGlvbiBjb2xsZWN0KCkge1xuICAgIHRyYWNrID0gZmluZChcIi5cIiArIENMQVNTX1RSQUNLKTtcbiAgICBsaXN0ID0gY2hpbGQodHJhY2ssIFwiLlwiICsgQ0xBU1NfTElTVCk7XG4gICAgYXNzZXJ0KHRyYWNrICYmIGxpc3QsIFwiQSB0cmFjay9saXN0IGVsZW1lbnQgaXMgbWlzc2luZy5cIik7XG4gICAgcHVzaChzbGlkZXMsIGNoaWxkcmVuKGxpc3QsIFwiLlwiICsgQ0xBU1NfU0xJREUgKyBcIjpub3QoLlwiICsgQ0xBU1NfQ0xPTkUgKyBcIilcIikpO1xuICAgIGZvck93bih7XG4gICAgICBhcnJvd3M6IENMQVNTX0FSUk9XUyxcbiAgICAgIHBhZ2luYXRpb246IENMQVNTX1BBR0lOQVRJT04sXG4gICAgICBwcmV2OiBDTEFTU19BUlJPV19QUkVWLFxuICAgICAgbmV4dDogQ0xBU1NfQVJST1dfTkVYVCxcbiAgICAgIGJhcjogQ0xBU1NfUFJPR1JFU1NfQkFSLFxuICAgICAgdG9nZ2xlOiBDTEFTU19UT0dHTEVcbiAgICB9LCBmdW5jdGlvbihjbGFzc05hbWUsIGtleSkge1xuICAgICAgZWxlbWVudHNba2V5XSA9IGZpbmQoXCIuXCIgKyBjbGFzc05hbWUpO1xuICAgIH0pO1xuICAgIGFzc2lnbihlbGVtZW50cywge1xuICAgICAgcm9vdCxcbiAgICAgIHRyYWNrLFxuICAgICAgbGlzdCxcbiAgICAgIHNsaWRlc1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIGlkID0gcm9vdC5pZCB8fCB1bmlxdWVJZChQUk9KRUNUX0NPREUpO1xuICAgIHZhciByb2xlID0gb3B0aW9ucy5yb2xlO1xuICAgIHJvb3QuaWQgPSBpZDtcbiAgICB0cmFjay5pZCA9IHRyYWNrLmlkIHx8IGlkICsgXCItdHJhY2tcIjtcbiAgICBsaXN0LmlkID0gbGlzdC5pZCB8fCBpZCArIFwiLWxpc3RcIjtcbiAgICBpZiAoIWdldEF0dHJpYnV0ZShyb290LCBST0xFKSAmJiByb290LnRhZ05hbWUgIT09IFwiU0VDVElPTlwiICYmIHJvbGUpIHtcbiAgICAgIHNldEF0dHJpYnV0ZShyb290LCBST0xFLCByb2xlKTtcbiAgICB9XG4gICAgc2V0QXR0cmlidXRlKHJvb3QsIEFSSUFfUk9MRURFU0NSSVBUSU9OLCBpMThuLmNhcm91c2VsKTtcbiAgICBzZXRBdHRyaWJ1dGUobGlzdCwgUk9MRSwgXCJwcmVzZW50YXRpb25cIik7XG4gIH1cbiAgZnVuY3Rpb24gZmluZChzZWxlY3Rvcikge1xuICAgIHZhciBlbG0gPSBxdWVyeShyb290LCBzZWxlY3Rvcik7XG4gICAgcmV0dXJuIGVsbSAmJiBjbG9zZXN0KGVsbSwgXCIuXCIgKyBDTEFTU19ST09UKSA9PT0gcm9vdCA/IGVsbSA6IHZvaWQgMDtcbiAgfVxuICBmdW5jdGlvbiBnZXRDbGFzc2VzKGJhc2UpIHtcbiAgICByZXR1cm4gW2Jhc2UgKyBcIi0tXCIgKyBvcHRpb25zLnR5cGUsIGJhc2UgKyBcIi0tXCIgKyBvcHRpb25zLmRpcmVjdGlvbiwgb3B0aW9ucy5kcmFnICYmIGJhc2UgKyBcIi0tZHJhZ2dhYmxlXCIsIG9wdGlvbnMuaXNOYXZpZ2F0aW9uICYmIGJhc2UgKyBcIi0tbmF2XCIsIGJhc2UgPT09IENMQVNTX1JPT1QgJiYgQ0xBU1NfQUNUSVZFXTtcbiAgfVxuICByZXR1cm4gYXNzaWduKGVsZW1lbnRzLCB7XG4gICAgc2V0dXAsXG4gICAgbW91bnQsXG4gICAgZGVzdHJveVxuICB9KTtcbn1cbnZhciBTTElERSA9IFwic2xpZGVcIjtcbnZhciBMT09QID0gXCJsb29wXCI7XG52YXIgRkFERSA9IFwiZmFkZVwiO1xuZnVuY3Rpb24gU2xpZGUkMShTcGxpZGUyMiwgaW5kZXgsIHNsaWRlSW5kZXgsIHNsaWRlKSB7XG4gIHZhciBldmVudCA9IEV2ZW50SW50ZXJmYWNlKFNwbGlkZTIyKTtcbiAgdmFyIG9uID0gZXZlbnQub24sIGVtaXQgPSBldmVudC5lbWl0LCBiaW5kID0gZXZlbnQuYmluZDtcbiAgdmFyIENvbXBvbmVudHMgPSBTcGxpZGUyMi5Db21wb25lbnRzLCByb290ID0gU3BsaWRlMjIucm9vdCwgb3B0aW9ucyA9IFNwbGlkZTIyLm9wdGlvbnM7XG4gIHZhciBpc05hdmlnYXRpb24gPSBvcHRpb25zLmlzTmF2aWdhdGlvbiwgdXBkYXRlT25Nb3ZlID0gb3B0aW9ucy51cGRhdGVPbk1vdmUsIGkxOG4gPSBvcHRpb25zLmkxOG4sIHBhZ2luYXRpb24gPSBvcHRpb25zLnBhZ2luYXRpb24sIHNsaWRlRm9jdXMgPSBvcHRpb25zLnNsaWRlRm9jdXM7XG4gIHZhciByZXNvbHZlID0gQ29tcG9uZW50cy5EaXJlY3Rpb24ucmVzb2x2ZTtcbiAgdmFyIHN0eWxlcyA9IGdldEF0dHJpYnV0ZShzbGlkZSwgXCJzdHlsZVwiKTtcbiAgdmFyIGxhYmVsID0gZ2V0QXR0cmlidXRlKHNsaWRlLCBBUklBX0xBQkVMKTtcbiAgdmFyIGlzQ2xvbmUgPSBzbGlkZUluZGV4ID4gLTE7XG4gIHZhciBjb250YWluZXIgPSBjaGlsZChzbGlkZSwgXCIuXCIgKyBDTEFTU19DT05UQUlORVIpO1xuICB2YXIgZGVzdHJveWVkO1xuICBmdW5jdGlvbiBtb3VudCgpIHtcbiAgICBpZiAoIWlzQ2xvbmUpIHtcbiAgICAgIHNsaWRlLmlkID0gcm9vdC5pZCArIFwiLXNsaWRlXCIgKyBwYWQoaW5kZXggKyAxKTtcbiAgICAgIHNldEF0dHJpYnV0ZShzbGlkZSwgUk9MRSwgcGFnaW5hdGlvbiA/IFwidGFicGFuZWxcIiA6IFwiZ3JvdXBcIik7XG4gICAgICBzZXRBdHRyaWJ1dGUoc2xpZGUsIEFSSUFfUk9MRURFU0NSSVBUSU9OLCBpMThuLnNsaWRlKTtcbiAgICAgIHNldEF0dHJpYnV0ZShzbGlkZSwgQVJJQV9MQUJFTCwgbGFiZWwgfHwgZm9ybWF0KGkxOG4uc2xpZGVMYWJlbCwgW2luZGV4ICsgMSwgU3BsaWRlMjIubGVuZ3RoXSkpO1xuICAgIH1cbiAgICBsaXN0ZW4oKTtcbiAgfVxuICBmdW5jdGlvbiBsaXN0ZW4oKSB7XG4gICAgYmluZChzbGlkZSwgXCJjbGlja1wiLCBhcHBseShlbWl0LCBFVkVOVF9DTElDSywgc2VsZikpO1xuICAgIGJpbmQoc2xpZGUsIFwia2V5ZG93blwiLCBhcHBseShlbWl0LCBFVkVOVF9TTElERV9LRVlET1dOLCBzZWxmKSk7XG4gICAgb24oW0VWRU5UX01PVkVELCBFVkVOVF9TSElGVEVELCBFVkVOVF9TQ1JPTExFRF0sIHVwZGF0ZSk7XG4gICAgb24oRVZFTlRfTkFWSUdBVElPTl9NT1VOVEVELCBpbml0TmF2aWdhdGlvbik7XG4gICAgaWYgKHVwZGF0ZU9uTW92ZSkge1xuICAgICAgb24oRVZFTlRfTU9WRSwgb25Nb3ZlKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBkZXN0cm95ZWQgPSB0cnVlO1xuICAgIGV2ZW50LmRlc3Ryb3koKTtcbiAgICByZW1vdmVDbGFzcyhzbGlkZSwgU1RBVFVTX0NMQVNTRVMpO1xuICAgIHJlbW92ZUF0dHJpYnV0ZShzbGlkZSwgQUxMX0FUVFJJQlVURVMpO1xuICAgIHNldEF0dHJpYnV0ZShzbGlkZSwgXCJzdHlsZVwiLCBzdHlsZXMpO1xuICAgIHNldEF0dHJpYnV0ZShzbGlkZSwgQVJJQV9MQUJFTCwgbGFiZWwgfHwgXCJcIik7XG4gIH1cbiAgZnVuY3Rpb24gaW5pdE5hdmlnYXRpb24oKSB7XG4gICAgdmFyIGNvbnRyb2xzID0gU3BsaWRlMjIuc3BsaWRlcy5tYXAoZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICB2YXIgU2xpZGUyID0gdGFyZ2V0LnNwbGlkZS5Db21wb25lbnRzLlNsaWRlcy5nZXRBdChpbmRleCk7XG4gICAgICByZXR1cm4gU2xpZGUyID8gU2xpZGUyLnNsaWRlLmlkIDogXCJcIjtcbiAgICB9KS5qb2luKFwiIFwiKTtcbiAgICBzZXRBdHRyaWJ1dGUoc2xpZGUsIEFSSUFfTEFCRUwsIGZvcm1hdChpMThuLnNsaWRlWCwgKGlzQ2xvbmUgPyBzbGlkZUluZGV4IDogaW5kZXgpICsgMSkpO1xuICAgIHNldEF0dHJpYnV0ZShzbGlkZSwgQVJJQV9DT05UUk9MUywgY29udHJvbHMpO1xuICAgIHNldEF0dHJpYnV0ZShzbGlkZSwgUk9MRSwgc2xpZGVGb2N1cyA/IFwiYnV0dG9uXCIgOiBcIlwiKTtcbiAgICBzbGlkZUZvY3VzICYmIHJlbW92ZUF0dHJpYnV0ZShzbGlkZSwgQVJJQV9ST0xFREVTQ1JJUFRJT04pO1xuICB9XG4gIGZ1bmN0aW9uIG9uTW92ZSgpIHtcbiAgICBpZiAoIWRlc3Ryb3llZCkge1xuICAgICAgdXBkYXRlKCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICBpZiAoIWRlc3Ryb3llZCkge1xuICAgICAgdmFyIGN1cnIgPSBTcGxpZGUyMi5pbmRleDtcbiAgICAgIHVwZGF0ZUFjdGl2aXR5KCk7XG4gICAgICB1cGRhdGVWaXNpYmlsaXR5KCk7XG4gICAgICB0b2dnbGVDbGFzcyhzbGlkZSwgQ0xBU1NfUFJFViwgaW5kZXggPT09IGN1cnIgLSAxKTtcbiAgICAgIHRvZ2dsZUNsYXNzKHNsaWRlLCBDTEFTU19ORVhULCBpbmRleCA9PT0gY3VyciArIDEpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVBY3Rpdml0eSgpIHtcbiAgICB2YXIgYWN0aXZlID0gaXNBY3RpdmUoKTtcbiAgICBpZiAoYWN0aXZlICE9PSBoYXNDbGFzcyhzbGlkZSwgQ0xBU1NfQUNUSVZFKSkge1xuICAgICAgdG9nZ2xlQ2xhc3Moc2xpZGUsIENMQVNTX0FDVElWRSwgYWN0aXZlKTtcbiAgICAgIHNldEF0dHJpYnV0ZShzbGlkZSwgQVJJQV9DVVJSRU5ULCBpc05hdmlnYXRpb24gJiYgYWN0aXZlIHx8IFwiXCIpO1xuICAgICAgZW1pdChhY3RpdmUgPyBFVkVOVF9BQ1RJVkUgOiBFVkVOVF9JTkFDVElWRSwgc2VsZik7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZVZpc2liaWxpdHkoKSB7XG4gICAgdmFyIHZpc2libGUgPSBpc1Zpc2libGUoKTtcbiAgICB2YXIgaGlkZGVuID0gIXZpc2libGUgJiYgKCFpc0FjdGl2ZSgpIHx8IGlzQ2xvbmUpO1xuICAgIGlmICghU3BsaWRlMjIuc3RhdGUuaXMoW01PVklORywgU0NST0xMSU5HXSkpIHtcbiAgICAgIHNldEF0dHJpYnV0ZShzbGlkZSwgQVJJQV9ISURERU4sIGhpZGRlbiB8fCBcIlwiKTtcbiAgICB9XG4gICAgc2V0QXR0cmlidXRlKHF1ZXJ5QWxsKHNsaWRlLCBvcHRpb25zLmZvY3VzYWJsZU5vZGVzIHx8IFwiXCIpLCBUQUJfSU5ERVgsIGhpZGRlbiA/IC0xIDogXCJcIik7XG4gICAgaWYgKHNsaWRlRm9jdXMpIHtcbiAgICAgIHNldEF0dHJpYnV0ZShzbGlkZSwgVEFCX0lOREVYLCBoaWRkZW4gPyAtMSA6IDApO1xuICAgIH1cbiAgICBpZiAodmlzaWJsZSAhPT0gaGFzQ2xhc3Moc2xpZGUsIENMQVNTX1ZJU0lCTEUpKSB7XG4gICAgICB0b2dnbGVDbGFzcyhzbGlkZSwgQ0xBU1NfVklTSUJMRSwgdmlzaWJsZSk7XG4gICAgICBlbWl0KHZpc2libGUgPyBFVkVOVF9WSVNJQkxFIDogRVZFTlRfSElEREVOLCBzZWxmKTtcbiAgICB9XG4gICAgaWYgKCF2aXNpYmxlICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IHNsaWRlKSB7XG4gICAgICB2YXIgU2xpZGUyID0gQ29tcG9uZW50cy5TbGlkZXMuZ2V0QXQoU3BsaWRlMjIuaW5kZXgpO1xuICAgICAgU2xpZGUyICYmIGZvY3VzKFNsaWRlMi5zbGlkZSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHN0eWxlJDEocHJvcCwgdmFsdWUsIHVzZUNvbnRhaW5lcikge1xuICAgIHN0eWxlKHVzZUNvbnRhaW5lciAmJiBjb250YWluZXIgfHwgc2xpZGUsIHByb3AsIHZhbHVlKTtcbiAgfVxuICBmdW5jdGlvbiBpc0FjdGl2ZSgpIHtcbiAgICB2YXIgY3VyciA9IFNwbGlkZTIyLmluZGV4O1xuICAgIHJldHVybiBjdXJyID09PSBpbmRleCB8fCBvcHRpb25zLmNsb25lU3RhdHVzICYmIGN1cnIgPT09IHNsaWRlSW5kZXg7XG4gIH1cbiAgZnVuY3Rpb24gaXNWaXNpYmxlKCkge1xuICAgIGlmIChTcGxpZGUyMi5pcyhGQURFKSkge1xuICAgICAgcmV0dXJuIGlzQWN0aXZlKCk7XG4gICAgfVxuICAgIHZhciB0cmFja1JlY3QgPSByZWN0KENvbXBvbmVudHMuRWxlbWVudHMudHJhY2spO1xuICAgIHZhciBzbGlkZVJlY3QgPSByZWN0KHNsaWRlKTtcbiAgICB2YXIgbGVmdCA9IHJlc29sdmUoXCJsZWZ0XCIsIHRydWUpO1xuICAgIHZhciByaWdodCA9IHJlc29sdmUoXCJyaWdodFwiLCB0cnVlKTtcbiAgICByZXR1cm4gZmxvb3IodHJhY2tSZWN0W2xlZnRdKSA8PSBjZWlsKHNsaWRlUmVjdFtsZWZ0XSkgJiYgZmxvb3Ioc2xpZGVSZWN0W3JpZ2h0XSkgPD0gY2VpbCh0cmFja1JlY3RbcmlnaHRdKTtcbiAgfVxuICBmdW5jdGlvbiBpc1dpdGhpbihmcm9tLCBkaXN0YW5jZSkge1xuICAgIHZhciBkaWZmID0gYWJzKGZyb20gLSBpbmRleCk7XG4gICAgaWYgKCFpc0Nsb25lICYmIChvcHRpb25zLnJld2luZCB8fCBTcGxpZGUyMi5pcyhMT09QKSkpIHtcbiAgICAgIGRpZmYgPSBtaW4oZGlmZiwgU3BsaWRlMjIubGVuZ3RoIC0gZGlmZik7XG4gICAgfVxuICAgIHJldHVybiBkaWZmIDw9IGRpc3RhbmNlO1xuICB9XG4gIHZhciBzZWxmID0ge1xuICAgIGluZGV4LFxuICAgIHNsaWRlSW5kZXgsXG4gICAgc2xpZGUsXG4gICAgY29udGFpbmVyLFxuICAgIGlzQ2xvbmUsXG4gICAgbW91bnQsXG4gICAgZGVzdHJveSxcbiAgICB1cGRhdGUsXG4gICAgc3R5bGU6IHN0eWxlJDEsXG4gICAgaXNXaXRoaW5cbiAgfTtcbiAgcmV0dXJuIHNlbGY7XG59XG5mdW5jdGlvbiBTbGlkZXMoU3BsaWRlMjIsIENvbXBvbmVudHMyLCBvcHRpb25zKSB7XG4gIHZhciBfRXZlbnRJbnRlcmZhY2UyID0gRXZlbnRJbnRlcmZhY2UoU3BsaWRlMjIpLCBvbiA9IF9FdmVudEludGVyZmFjZTIub24sIGVtaXQgPSBfRXZlbnRJbnRlcmZhY2UyLmVtaXQsIGJpbmQgPSBfRXZlbnRJbnRlcmZhY2UyLmJpbmQ7XG4gIHZhciBfQ29tcG9uZW50czIkRWxlbWVudHMgPSBDb21wb25lbnRzMi5FbGVtZW50cywgc2xpZGVzID0gX0NvbXBvbmVudHMyJEVsZW1lbnRzLnNsaWRlcywgbGlzdCA9IF9Db21wb25lbnRzMiRFbGVtZW50cy5saXN0O1xuICB2YXIgU2xpZGVzMiA9IFtdO1xuICBmdW5jdGlvbiBtb3VudCgpIHtcbiAgICBpbml0KCk7XG4gICAgb24oRVZFTlRfUkVGUkVTSCwgZGVzdHJveSk7XG4gICAgb24oRVZFTlRfUkVGUkVTSCwgaW5pdCk7XG4gIH1cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBzbGlkZXMuZm9yRWFjaChmdW5jdGlvbihzbGlkZSwgaW5kZXgpIHtcbiAgICAgIHJlZ2lzdGVyKHNsaWRlLCBpbmRleCwgLTEpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgZm9yRWFjaCQxKGZ1bmN0aW9uKFNsaWRlMikge1xuICAgICAgU2xpZGUyLmRlc3Ryb3koKTtcbiAgICB9KTtcbiAgICBlbXB0eShTbGlkZXMyKTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgZm9yRWFjaCQxKGZ1bmN0aW9uKFNsaWRlMikge1xuICAgICAgU2xpZGUyLnVwZGF0ZSgpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHJlZ2lzdGVyKHNsaWRlLCBpbmRleCwgc2xpZGVJbmRleCkge1xuICAgIHZhciBvYmplY3QgPSBTbGlkZSQxKFNwbGlkZTIyLCBpbmRleCwgc2xpZGVJbmRleCwgc2xpZGUpO1xuICAgIG9iamVjdC5tb3VudCgpO1xuICAgIFNsaWRlczIucHVzaChvYmplY3QpO1xuICAgIFNsaWRlczIuc29ydChmdW5jdGlvbihTbGlkZTEsIFNsaWRlMikge1xuICAgICAgcmV0dXJuIFNsaWRlMS5pbmRleCAtIFNsaWRlMi5pbmRleDtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBnZXQoZXhjbHVkZUNsb25lcykge1xuICAgIHJldHVybiBleGNsdWRlQ2xvbmVzID8gZmlsdGVyKGZ1bmN0aW9uKFNsaWRlMikge1xuICAgICAgcmV0dXJuICFTbGlkZTIuaXNDbG9uZTtcbiAgICB9KSA6IFNsaWRlczI7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0SW4ocGFnZSkge1xuICAgIHZhciBDb250cm9sbGVyMiA9IENvbXBvbmVudHMyLkNvbnRyb2xsZXI7XG4gICAgdmFyIGluZGV4ID0gQ29udHJvbGxlcjIudG9JbmRleChwYWdlKTtcbiAgICB2YXIgbWF4MiA9IENvbnRyb2xsZXIyLmhhc0ZvY3VzKCkgPyAxIDogb3B0aW9ucy5wZXJQYWdlO1xuICAgIHJldHVybiBmaWx0ZXIoZnVuY3Rpb24oU2xpZGUyKSB7XG4gICAgICByZXR1cm4gYmV0d2VlbihTbGlkZTIuaW5kZXgsIGluZGV4LCBpbmRleCArIG1heDIgLSAxKTtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBnZXRBdChpbmRleCkge1xuICAgIHJldHVybiBmaWx0ZXIoaW5kZXgpWzBdO1xuICB9XG4gIGZ1bmN0aW9uIGFkZChpdGVtcywgaW5kZXgpIHtcbiAgICBmb3JFYWNoKGl0ZW1zLCBmdW5jdGlvbihzbGlkZSkge1xuICAgICAgaWYgKGlzU3RyaW5nKHNsaWRlKSkge1xuICAgICAgICBzbGlkZSA9IHBhcnNlSHRtbChzbGlkZSk7XG4gICAgICB9XG4gICAgICBpZiAoaXNIVE1MRWxlbWVudChzbGlkZSkpIHtcbiAgICAgICAgdmFyIHJlZiA9IHNsaWRlc1tpbmRleF07XG4gICAgICAgIHJlZiA/IGJlZm9yZShzbGlkZSwgcmVmKSA6IGFwcGVuZChsaXN0LCBzbGlkZSk7XG4gICAgICAgIGFkZENsYXNzKHNsaWRlLCBvcHRpb25zLmNsYXNzZXMuc2xpZGUpO1xuICAgICAgICBvYnNlcnZlSW1hZ2VzKHNsaWRlLCBhcHBseShlbWl0LCBFVkVOVF9SRVNJWkUpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBlbWl0KEVWRU5UX1JFRlJFU0gpO1xuICB9XG4gIGZ1bmN0aW9uIHJlbW92ZSQxKG1hdGNoZXIpIHtcbiAgICByZW1vdmUoZmlsdGVyKG1hdGNoZXIpLm1hcChmdW5jdGlvbihTbGlkZTIpIHtcbiAgICAgIHJldHVybiBTbGlkZTIuc2xpZGU7XG4gICAgfSkpO1xuICAgIGVtaXQoRVZFTlRfUkVGUkVTSCk7XG4gIH1cbiAgZnVuY3Rpb24gZm9yRWFjaCQxKGl0ZXJhdGVlLCBleGNsdWRlQ2xvbmVzKSB7XG4gICAgZ2V0KGV4Y2x1ZGVDbG9uZXMpLmZvckVhY2goaXRlcmF0ZWUpO1xuICB9XG4gIGZ1bmN0aW9uIGZpbHRlcihtYXRjaGVyKSB7XG4gICAgcmV0dXJuIFNsaWRlczIuZmlsdGVyKGlzRnVuY3Rpb24obWF0Y2hlcikgPyBtYXRjaGVyIDogZnVuY3Rpb24oU2xpZGUyKSB7XG4gICAgICByZXR1cm4gaXNTdHJpbmcobWF0Y2hlcikgPyBtYXRjaGVzKFNsaWRlMi5zbGlkZSwgbWF0Y2hlcikgOiBpbmNsdWRlcyh0b0FycmF5KG1hdGNoZXIpLCBTbGlkZTIuaW5kZXgpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHN0eWxlMihwcm9wLCB2YWx1ZSwgdXNlQ29udGFpbmVyKSB7XG4gICAgZm9yRWFjaCQxKGZ1bmN0aW9uKFNsaWRlMikge1xuICAgICAgU2xpZGUyLnN0eWxlKHByb3AsIHZhbHVlLCB1c2VDb250YWluZXIpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIG9ic2VydmVJbWFnZXMoZWxtLCBjYWxsYmFjaykge1xuICAgIHZhciBpbWFnZXMgPSBxdWVyeUFsbChlbG0sIFwiaW1nXCIpO1xuICAgIHZhciBsZW5ndGggPSBpbWFnZXMubGVuZ3RoO1xuICAgIGlmIChsZW5ndGgpIHtcbiAgICAgIGltYWdlcy5mb3JFYWNoKGZ1bmN0aW9uKGltZykge1xuICAgICAgICBiaW5kKGltZywgXCJsb2FkIGVycm9yXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICghLS1sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZXRMZW5ndGgoZXhjbHVkZUNsb25lcykge1xuICAgIHJldHVybiBleGNsdWRlQ2xvbmVzID8gc2xpZGVzLmxlbmd0aCA6IFNsaWRlczIubGVuZ3RoO1xuICB9XG4gIGZ1bmN0aW9uIGlzRW5vdWdoKCkge1xuICAgIHJldHVybiBTbGlkZXMyLmxlbmd0aCA+IG9wdGlvbnMucGVyUGFnZTtcbiAgfVxuICByZXR1cm4ge1xuICAgIG1vdW50LFxuICAgIGRlc3Ryb3ksXG4gICAgdXBkYXRlLFxuICAgIHJlZ2lzdGVyLFxuICAgIGdldCxcbiAgICBnZXRJbixcbiAgICBnZXRBdCxcbiAgICBhZGQsXG4gICAgcmVtb3ZlOiByZW1vdmUkMSxcbiAgICBmb3JFYWNoOiBmb3JFYWNoJDEsXG4gICAgZmlsdGVyLFxuICAgIHN0eWxlOiBzdHlsZTIsXG4gICAgZ2V0TGVuZ3RoLFxuICAgIGlzRW5vdWdoXG4gIH07XG59XG5mdW5jdGlvbiBMYXlvdXQoU3BsaWRlMjIsIENvbXBvbmVudHMyLCBvcHRpb25zKSB7XG4gIHZhciBfRXZlbnRJbnRlcmZhY2UzID0gRXZlbnRJbnRlcmZhY2UoU3BsaWRlMjIpLCBvbiA9IF9FdmVudEludGVyZmFjZTMub24sIGJpbmQgPSBfRXZlbnRJbnRlcmZhY2UzLmJpbmQsIGVtaXQgPSBfRXZlbnRJbnRlcmZhY2UzLmVtaXQ7XG4gIHZhciBTbGlkZXMyID0gQ29tcG9uZW50czIuU2xpZGVzO1xuICB2YXIgcmVzb2x2ZSA9IENvbXBvbmVudHMyLkRpcmVjdGlvbi5yZXNvbHZlO1xuICB2YXIgX0NvbXBvbmVudHMyJEVsZW1lbnRzMiA9IENvbXBvbmVudHMyLkVsZW1lbnRzLCByb290ID0gX0NvbXBvbmVudHMyJEVsZW1lbnRzMi5yb290LCB0cmFjayA9IF9Db21wb25lbnRzMiRFbGVtZW50czIudHJhY2ssIGxpc3QgPSBfQ29tcG9uZW50czIkRWxlbWVudHMyLmxpc3Q7XG4gIHZhciBnZXRBdCA9IFNsaWRlczIuZ2V0QXQsIHN0eWxlU2xpZGVzID0gU2xpZGVzMi5zdHlsZTtcbiAgdmFyIHZlcnRpY2FsO1xuICB2YXIgcm9vdFJlY3Q7XG4gIHZhciBvdmVyZmxvdztcbiAgZnVuY3Rpb24gbW91bnQoKSB7XG4gICAgaW5pdCgpO1xuICAgIGJpbmQod2luZG93LCBcInJlc2l6ZSBsb2FkXCIsIFRocm90dGxlKGFwcGx5KGVtaXQsIEVWRU5UX1JFU0laRSkpKTtcbiAgICBvbihbRVZFTlRfVVBEQVRFRCwgRVZFTlRfUkVGUkVTSF0sIGluaXQpO1xuICAgIG9uKEVWRU5UX1JFU0laRSwgcmVzaXplKTtcbiAgfVxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZlcnRpY2FsID0gb3B0aW9ucy5kaXJlY3Rpb24gPT09IFRUQjtcbiAgICBzdHlsZShyb290LCBcIm1heFdpZHRoXCIsIHVuaXQob3B0aW9ucy53aWR0aCkpO1xuICAgIHN0eWxlKHRyYWNrLCByZXNvbHZlKFwicGFkZGluZ0xlZnRcIiksIGNzc1BhZGRpbmcoZmFsc2UpKTtcbiAgICBzdHlsZSh0cmFjaywgcmVzb2x2ZShcInBhZGRpbmdSaWdodFwiKSwgY3NzUGFkZGluZyh0cnVlKSk7XG4gICAgcmVzaXplKHRydWUpO1xuICB9XG4gIGZ1bmN0aW9uIHJlc2l6ZShmb3JjZSkge1xuICAgIHZhciBuZXdSZWN0ID0gcmVjdChyb290KTtcbiAgICBpZiAoZm9yY2UgfHwgcm9vdFJlY3Qud2lkdGggIT09IG5ld1JlY3Qud2lkdGggfHwgcm9vdFJlY3QuaGVpZ2h0ICE9PSBuZXdSZWN0LmhlaWdodCkge1xuICAgICAgc3R5bGUodHJhY2ssIFwiaGVpZ2h0XCIsIGNzc1RyYWNrSGVpZ2h0KCkpO1xuICAgICAgc3R5bGVTbGlkZXMocmVzb2x2ZShcIm1hcmdpblJpZ2h0XCIpLCB1bml0KG9wdGlvbnMuZ2FwKSk7XG4gICAgICBzdHlsZVNsaWRlcyhcIndpZHRoXCIsIGNzc1NsaWRlV2lkdGgoKSk7XG4gICAgICBzdHlsZVNsaWRlcyhcImhlaWdodFwiLCBjc3NTbGlkZUhlaWdodCgpLCB0cnVlKTtcbiAgICAgIHJvb3RSZWN0ID0gbmV3UmVjdDtcbiAgICAgIGVtaXQoRVZFTlRfUkVTSVpFRCk7XG4gICAgICBpZiAob3ZlcmZsb3cgIT09IChvdmVyZmxvdyA9IGlzT3ZlcmZsb3coKSkpIHtcbiAgICAgICAgdG9nZ2xlQ2xhc3Mocm9vdCwgQ0xBU1NfT1ZFUkZMT1csIG92ZXJmbG93KTtcbiAgICAgICAgZW1pdChFVkVOVF9PVkVSRkxPVywgb3ZlcmZsb3cpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBjc3NQYWRkaW5nKHJpZ2h0KSB7XG4gICAgdmFyIHBhZGRpbmcgPSBvcHRpb25zLnBhZGRpbmc7XG4gICAgdmFyIHByb3AgPSByZXNvbHZlKHJpZ2h0ID8gXCJyaWdodFwiIDogXCJsZWZ0XCIpO1xuICAgIHJldHVybiBwYWRkaW5nICYmIHVuaXQocGFkZGluZ1twcm9wXSB8fCAoaXNPYmplY3QocGFkZGluZykgPyAwIDogcGFkZGluZykpIHx8IFwiMHB4XCI7XG4gIH1cbiAgZnVuY3Rpb24gY3NzVHJhY2tIZWlnaHQoKSB7XG4gICAgdmFyIGhlaWdodCA9IFwiXCI7XG4gICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICBoZWlnaHQgPSBjc3NIZWlnaHQoKTtcbiAgICAgIGFzc2VydChoZWlnaHQsIFwiaGVpZ2h0IG9yIGhlaWdodFJhdGlvIGlzIG1pc3NpbmcuXCIpO1xuICAgICAgaGVpZ2h0ID0gXCJjYWxjKFwiICsgaGVpZ2h0ICsgXCIgLSBcIiArIGNzc1BhZGRpbmcoZmFsc2UpICsgXCIgLSBcIiArIGNzc1BhZGRpbmcodHJ1ZSkgKyBcIilcIjtcbiAgICB9XG4gICAgcmV0dXJuIGhlaWdodDtcbiAgfVxuICBmdW5jdGlvbiBjc3NIZWlnaHQoKSB7XG4gICAgcmV0dXJuIHVuaXQob3B0aW9ucy5oZWlnaHQgfHwgcmVjdChsaXN0KS53aWR0aCAqIG9wdGlvbnMuaGVpZ2h0UmF0aW8pO1xuICB9XG4gIGZ1bmN0aW9uIGNzc1NsaWRlV2lkdGgoKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMuYXV0b1dpZHRoID8gbnVsbCA6IHVuaXQob3B0aW9ucy5maXhlZFdpZHRoKSB8fCAodmVydGljYWwgPyBcIlwiIDogY3NzU2xpZGVTaXplKCkpO1xuICB9XG4gIGZ1bmN0aW9uIGNzc1NsaWRlSGVpZ2h0KCkge1xuICAgIHJldHVybiB1bml0KG9wdGlvbnMuZml4ZWRIZWlnaHQpIHx8ICh2ZXJ0aWNhbCA/IG9wdGlvbnMuYXV0b0hlaWdodCA/IG51bGwgOiBjc3NTbGlkZVNpemUoKSA6IGNzc0hlaWdodCgpKTtcbiAgfVxuICBmdW5jdGlvbiBjc3NTbGlkZVNpemUoKSB7XG4gICAgdmFyIGdhcCA9IHVuaXQob3B0aW9ucy5nYXApO1xuICAgIHJldHVybiBcImNhbGMoKDEwMCVcIiArIChnYXAgJiYgXCIgKyBcIiArIGdhcCkgKyBcIikvXCIgKyAob3B0aW9ucy5wZXJQYWdlIHx8IDEpICsgKGdhcCAmJiBcIiAtIFwiICsgZ2FwKSArIFwiKVwiO1xuICB9XG4gIGZ1bmN0aW9uIGxpc3RTaXplKCkge1xuICAgIHJldHVybiByZWN0KGxpc3QpW3Jlc29sdmUoXCJ3aWR0aFwiKV07XG4gIH1cbiAgZnVuY3Rpb24gc2xpZGVTaXplKGluZGV4LCB3aXRob3V0R2FwKSB7XG4gICAgdmFyIFNsaWRlMiA9IGdldEF0KGluZGV4IHx8IDApO1xuICAgIHJldHVybiBTbGlkZTIgPyByZWN0KFNsaWRlMi5zbGlkZSlbcmVzb2x2ZShcIndpZHRoXCIpXSArICh3aXRob3V0R2FwID8gMCA6IGdldEdhcCgpKSA6IDA7XG4gIH1cbiAgZnVuY3Rpb24gdG90YWxTaXplKGluZGV4LCB3aXRob3V0R2FwKSB7XG4gICAgdmFyIFNsaWRlMiA9IGdldEF0KGluZGV4KTtcbiAgICBpZiAoU2xpZGUyKSB7XG4gICAgICB2YXIgcmlnaHQgPSByZWN0KFNsaWRlMi5zbGlkZSlbcmVzb2x2ZShcInJpZ2h0XCIpXTtcbiAgICAgIHZhciBsZWZ0ID0gcmVjdChsaXN0KVtyZXNvbHZlKFwibGVmdFwiKV07XG4gICAgICByZXR1cm4gYWJzKHJpZ2h0IC0gbGVmdCkgKyAod2l0aG91dEdhcCA/IDAgOiBnZXRHYXAoKSk7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG4gIGZ1bmN0aW9uIHNsaWRlclNpemUod2l0aG91dEdhcCkge1xuICAgIHJldHVybiB0b3RhbFNpemUoU3BsaWRlMjIubGVuZ3RoIC0gMSkgLSB0b3RhbFNpemUoMCkgKyBzbGlkZVNpemUoMCwgd2l0aG91dEdhcCk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0R2FwKCkge1xuICAgIHZhciBTbGlkZTIgPSBnZXRBdCgwKTtcbiAgICByZXR1cm4gU2xpZGUyICYmIHBhcnNlRmxvYXQoc3R5bGUoU2xpZGUyLnNsaWRlLCByZXNvbHZlKFwibWFyZ2luUmlnaHRcIikpKSB8fCAwO1xuICB9XG4gIGZ1bmN0aW9uIGdldFBhZGRpbmcocmlnaHQpIHtcbiAgICByZXR1cm4gcGFyc2VGbG9hdChzdHlsZSh0cmFjaywgcmVzb2x2ZShcInBhZGRpbmdcIiArIChyaWdodCA/IFwiUmlnaHRcIiA6IFwiTGVmdFwiKSkpKSB8fCAwO1xuICB9XG4gIGZ1bmN0aW9uIGlzT3ZlcmZsb3coKSB7XG4gICAgcmV0dXJuIFNwbGlkZTIyLmlzKEZBREUpIHx8IHNsaWRlclNpemUodHJ1ZSkgPiBsaXN0U2l6ZSgpO1xuICB9XG4gIHJldHVybiB7XG4gICAgbW91bnQsXG4gICAgcmVzaXplLFxuICAgIGxpc3RTaXplLFxuICAgIHNsaWRlU2l6ZSxcbiAgICBzbGlkZXJTaXplLFxuICAgIHRvdGFsU2l6ZSxcbiAgICBnZXRQYWRkaW5nLFxuICAgIGlzT3ZlcmZsb3dcbiAgfTtcbn1cbnZhciBNVUxUSVBMSUVSID0gMjtcbmZ1bmN0aW9uIENsb25lcyhTcGxpZGUyMiwgQ29tcG9uZW50czIsIG9wdGlvbnMpIHtcbiAgdmFyIGV2ZW50ID0gRXZlbnRJbnRlcmZhY2UoU3BsaWRlMjIpO1xuICB2YXIgb24gPSBldmVudC5vbjtcbiAgdmFyIEVsZW1lbnRzMiA9IENvbXBvbmVudHMyLkVsZW1lbnRzLCBTbGlkZXMyID0gQ29tcG9uZW50czIuU2xpZGVzO1xuICB2YXIgcmVzb2x2ZSA9IENvbXBvbmVudHMyLkRpcmVjdGlvbi5yZXNvbHZlO1xuICB2YXIgY2xvbmVzID0gW107XG4gIHZhciBjbG9uZUNvdW50O1xuICBmdW5jdGlvbiBtb3VudCgpIHtcbiAgICBvbihFVkVOVF9SRUZSRVNILCByZW1vdW50KTtcbiAgICBvbihbRVZFTlRfVVBEQVRFRCwgRVZFTlRfUkVTSVpFXSwgb2JzZXJ2ZSk7XG4gICAgaWYgKGNsb25lQ291bnQgPSBjb21wdXRlQ2xvbmVDb3VudCgpKSB7XG4gICAgICBnZW5lcmF0ZShjbG9uZUNvdW50KTtcbiAgICAgIENvbXBvbmVudHMyLkxheW91dC5yZXNpemUodHJ1ZSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHJlbW91bnQoKSB7XG4gICAgZGVzdHJveSgpO1xuICAgIG1vdW50KCk7XG4gIH1cbiAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICByZW1vdmUoY2xvbmVzKTtcbiAgICBlbXB0eShjbG9uZXMpO1xuICAgIGV2ZW50LmRlc3Ryb3koKTtcbiAgfVxuICBmdW5jdGlvbiBvYnNlcnZlKCkge1xuICAgIHZhciBjb3VudCA9IGNvbXB1dGVDbG9uZUNvdW50KCk7XG4gICAgaWYgKGNsb25lQ291bnQgIT09IGNvdW50KSB7XG4gICAgICBpZiAoY2xvbmVDb3VudCA8IGNvdW50IHx8ICFjb3VudCkge1xuICAgICAgICBldmVudC5lbWl0KEVWRU5UX1JFRlJFU0gpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZW5lcmF0ZShjb3VudCkge1xuICAgIHZhciBzbGlkZXMgPSBTbGlkZXMyLmdldCgpLnNsaWNlKCk7XG4gICAgdmFyIGxlbmd0aCA9IHNsaWRlcy5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCkge1xuICAgICAgd2hpbGUgKHNsaWRlcy5sZW5ndGggPCBjb3VudCkge1xuICAgICAgICBwdXNoKHNsaWRlcywgc2xpZGVzKTtcbiAgICAgIH1cbiAgICAgIHB1c2goc2xpZGVzLnNsaWNlKC1jb3VudCksIHNsaWRlcy5zbGljZSgwLCBjb3VudCkpLmZvckVhY2goZnVuY3Rpb24oU2xpZGUyLCBpbmRleCkge1xuICAgICAgICB2YXIgaXNIZWFkID0gaW5kZXggPCBjb3VudDtcbiAgICAgICAgdmFyIGNsb25lID0gY2xvbmVEZWVwKFNsaWRlMi5zbGlkZSwgaW5kZXgpO1xuICAgICAgICBpc0hlYWQgPyBiZWZvcmUoY2xvbmUsIHNsaWRlc1swXS5zbGlkZSkgOiBhcHBlbmQoRWxlbWVudHMyLmxpc3QsIGNsb25lKTtcbiAgICAgICAgcHVzaChjbG9uZXMsIGNsb25lKTtcbiAgICAgICAgU2xpZGVzMi5yZWdpc3RlcihjbG9uZSwgaW5kZXggLSBjb3VudCArIChpc0hlYWQgPyAwIDogbGVuZ3RoKSwgU2xpZGUyLmluZGV4KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBjbG9uZURlZXAoZWxtLCBpbmRleCkge1xuICAgIHZhciBjbG9uZSA9IGVsbS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgYWRkQ2xhc3MoY2xvbmUsIG9wdGlvbnMuY2xhc3Nlcy5jbG9uZSk7XG4gICAgY2xvbmUuaWQgPSBTcGxpZGUyMi5yb290LmlkICsgXCItY2xvbmVcIiArIHBhZChpbmRleCArIDEpO1xuICAgIHJldHVybiBjbG9uZTtcbiAgfVxuICBmdW5jdGlvbiBjb21wdXRlQ2xvbmVDb3VudCgpIHtcbiAgICB2YXIgY2xvbmVzMiA9IG9wdGlvbnMuY2xvbmVzO1xuICAgIGlmICghU3BsaWRlMjIuaXMoTE9PUCkpIHtcbiAgICAgIGNsb25lczIgPSAwO1xuICAgIH0gZWxzZSBpZiAoaXNVbmRlZmluZWQoY2xvbmVzMikpIHtcbiAgICAgIHZhciBmaXhlZFNpemUgPSBvcHRpb25zW3Jlc29sdmUoXCJmaXhlZFdpZHRoXCIpXSAmJiBDb21wb25lbnRzMi5MYXlvdXQuc2xpZGVTaXplKDApO1xuICAgICAgdmFyIGZpeGVkQ291bnQgPSBmaXhlZFNpemUgJiYgY2VpbChyZWN0KEVsZW1lbnRzMi50cmFjaylbcmVzb2x2ZShcIndpZHRoXCIpXSAvIGZpeGVkU2l6ZSk7XG4gICAgICBjbG9uZXMyID0gZml4ZWRDb3VudCB8fCBvcHRpb25zW3Jlc29sdmUoXCJhdXRvV2lkdGhcIildICYmIFNwbGlkZTIyLmxlbmd0aCB8fCBvcHRpb25zLnBlclBhZ2UgKiBNVUxUSVBMSUVSO1xuICAgIH1cbiAgICByZXR1cm4gY2xvbmVzMjtcbiAgfVxuICByZXR1cm4ge1xuICAgIG1vdW50LFxuICAgIGRlc3Ryb3lcbiAgfTtcbn1cbmZ1bmN0aW9uIE1vdmUoU3BsaWRlMjIsIENvbXBvbmVudHMyLCBvcHRpb25zKSB7XG4gIHZhciBfRXZlbnRJbnRlcmZhY2U0ID0gRXZlbnRJbnRlcmZhY2UoU3BsaWRlMjIpLCBvbiA9IF9FdmVudEludGVyZmFjZTQub24sIGVtaXQgPSBfRXZlbnRJbnRlcmZhY2U0LmVtaXQ7XG4gIHZhciBzZXQgPSBTcGxpZGUyMi5zdGF0ZS5zZXQ7XG4gIHZhciBfQ29tcG9uZW50czIkTGF5b3V0ID0gQ29tcG9uZW50czIuTGF5b3V0LCBzbGlkZVNpemUgPSBfQ29tcG9uZW50czIkTGF5b3V0LnNsaWRlU2l6ZSwgZ2V0UGFkZGluZyA9IF9Db21wb25lbnRzMiRMYXlvdXQuZ2V0UGFkZGluZywgdG90YWxTaXplID0gX0NvbXBvbmVudHMyJExheW91dC50b3RhbFNpemUsIGxpc3RTaXplID0gX0NvbXBvbmVudHMyJExheW91dC5saXN0U2l6ZSwgc2xpZGVyU2l6ZSA9IF9Db21wb25lbnRzMiRMYXlvdXQuc2xpZGVyU2l6ZTtcbiAgdmFyIF9Db21wb25lbnRzMiREaXJlY3RpbyA9IENvbXBvbmVudHMyLkRpcmVjdGlvbiwgcmVzb2x2ZSA9IF9Db21wb25lbnRzMiREaXJlY3Rpby5yZXNvbHZlLCBvcmllbnQgPSBfQ29tcG9uZW50czIkRGlyZWN0aW8ub3JpZW50O1xuICB2YXIgX0NvbXBvbmVudHMyJEVsZW1lbnRzMyA9IENvbXBvbmVudHMyLkVsZW1lbnRzLCBsaXN0ID0gX0NvbXBvbmVudHMyJEVsZW1lbnRzMy5saXN0LCB0cmFjayA9IF9Db21wb25lbnRzMiRFbGVtZW50czMudHJhY2s7XG4gIHZhciBUcmFuc2l0aW9uO1xuICBmdW5jdGlvbiBtb3VudCgpIHtcbiAgICBUcmFuc2l0aW9uID0gQ29tcG9uZW50czIuVHJhbnNpdGlvbjtcbiAgICBvbihbRVZFTlRfTU9VTlRFRCwgRVZFTlRfUkVTSVpFRCwgRVZFTlRfVVBEQVRFRCwgRVZFTlRfUkVGUkVTSF0sIHJlcG9zaXRpb24pO1xuICB9XG4gIGZ1bmN0aW9uIHJlcG9zaXRpb24oKSB7XG4gICAgaWYgKCFDb21wb25lbnRzMi5Db250cm9sbGVyLmlzQnVzeSgpKSB7XG4gICAgICBDb21wb25lbnRzMi5TY3JvbGwuY2FuY2VsKCk7XG4gICAgICBqdW1wKFNwbGlkZTIyLmluZGV4KTtcbiAgICAgIENvbXBvbmVudHMyLlNsaWRlcy51cGRhdGUoKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbW92ZShkZXN0LCBpbmRleCwgcHJldiwgY2FsbGJhY2spIHtcbiAgICBpZiAoZGVzdCAhPT0gaW5kZXggJiYgY2FuU2hpZnQoZGVzdCA+IHByZXYpKSB7XG4gICAgICBjYW5jZWwoKTtcbiAgICAgIHRyYW5zbGF0ZShzaGlmdChnZXRQb3NpdGlvbigpLCBkZXN0ID4gcHJldiksIHRydWUpO1xuICAgIH1cbiAgICBzZXQoTU9WSU5HKTtcbiAgICBlbWl0KEVWRU5UX01PVkUsIGluZGV4LCBwcmV2LCBkZXN0KTtcbiAgICBUcmFuc2l0aW9uLnN0YXJ0KGluZGV4LCBmdW5jdGlvbigpIHtcbiAgICAgIHNldChJRExFKTtcbiAgICAgIGVtaXQoRVZFTlRfTU9WRUQsIGluZGV4LCBwcmV2LCBkZXN0KTtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24ganVtcChpbmRleCkge1xuICAgIHRyYW5zbGF0ZSh0b1Bvc2l0aW9uKGluZGV4LCB0cnVlKSk7XG4gIH1cbiAgZnVuY3Rpb24gdHJhbnNsYXRlKHBvc2l0aW9uLCBwcmV2ZW50TG9vcCkge1xuICAgIGlmICghU3BsaWRlMjIuaXMoRkFERSkpIHtcbiAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHByZXZlbnRMb29wID8gcG9zaXRpb24gOiBsb29wKHBvc2l0aW9uKTtcbiAgICAgIHN0eWxlKGxpc3QsIFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlXCIgKyByZXNvbHZlKFwiWFwiKSArIFwiKFwiICsgZGVzdGluYXRpb24gKyBcInB4KVwiKTtcbiAgICAgIHBvc2l0aW9uICE9PSBkZXN0aW5hdGlvbiAmJiBlbWl0KEVWRU5UX1NISUZURUQpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBsb29wKHBvc2l0aW9uKSB7XG4gICAgaWYgKFNwbGlkZTIyLmlzKExPT1ApKSB7XG4gICAgICB2YXIgaW5kZXggPSB0b0luZGV4KHBvc2l0aW9uKTtcbiAgICAgIHZhciBleGNlZWRlZE1heCA9IGluZGV4ID4gQ29tcG9uZW50czIuQ29udHJvbGxlci5nZXRFbmQoKTtcbiAgICAgIHZhciBleGNlZWRlZE1pbiA9IGluZGV4IDwgMDtcbiAgICAgIGlmIChleGNlZWRlZE1pbiB8fCBleGNlZWRlZE1heCkge1xuICAgICAgICBwb3NpdGlvbiA9IHNoaWZ0KHBvc2l0aW9uLCBleGNlZWRlZE1heCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwb3NpdGlvbjtcbiAgfVxuICBmdW5jdGlvbiBzaGlmdChwb3NpdGlvbiwgYmFja3dhcmRzKSB7XG4gICAgdmFyIGV4Y2VzcyA9IHBvc2l0aW9uIC0gZ2V0TGltaXQoYmFja3dhcmRzKTtcbiAgICB2YXIgc2l6ZSA9IHNsaWRlclNpemUoKTtcbiAgICBwb3NpdGlvbiAtPSBvcmllbnQoc2l6ZSAqIChjZWlsKGFicyhleGNlc3MpIC8gc2l6ZSkgfHwgMSkpICogKGJhY2t3YXJkcyA/IDEgOiAtMSk7XG4gICAgcmV0dXJuIHBvc2l0aW9uO1xuICB9XG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICB0cmFuc2xhdGUoZ2V0UG9zaXRpb24oKSwgdHJ1ZSk7XG4gICAgVHJhbnNpdGlvbi5jYW5jZWwoKTtcbiAgfVxuICBmdW5jdGlvbiB0b0luZGV4KHBvc2l0aW9uKSB7XG4gICAgdmFyIFNsaWRlczIgPSBDb21wb25lbnRzMi5TbGlkZXMuZ2V0KCk7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgbWluRGlzdGFuY2UgPSBJbmZpbml0eTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IFNsaWRlczIubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzbGlkZUluZGV4ID0gU2xpZGVzMltpXS5pbmRleDtcbiAgICAgIHZhciBkaXN0YW5jZSA9IGFicyh0b1Bvc2l0aW9uKHNsaWRlSW5kZXgsIHRydWUpIC0gcG9zaXRpb24pO1xuICAgICAgaWYgKGRpc3RhbmNlIDw9IG1pbkRpc3RhbmNlKSB7XG4gICAgICAgIG1pbkRpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgICAgIGluZGV4ID0gc2xpZGVJbmRleDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cbiAgZnVuY3Rpb24gdG9Qb3NpdGlvbihpbmRleCwgdHJpbW1pbmcpIHtcbiAgICB2YXIgcG9zaXRpb24gPSBvcmllbnQodG90YWxTaXplKGluZGV4IC0gMSkgLSBvZmZzZXQoaW5kZXgpKTtcbiAgICByZXR1cm4gdHJpbW1pbmcgPyB0cmltKHBvc2l0aW9uKSA6IHBvc2l0aW9uO1xuICB9XG4gIGZ1bmN0aW9uIGdldFBvc2l0aW9uKCkge1xuICAgIHZhciBsZWZ0ID0gcmVzb2x2ZShcImxlZnRcIik7XG4gICAgcmV0dXJuIHJlY3QobGlzdClbbGVmdF0gLSByZWN0KHRyYWNrKVtsZWZ0XSArIG9yaWVudChnZXRQYWRkaW5nKGZhbHNlKSk7XG4gIH1cbiAgZnVuY3Rpb24gdHJpbShwb3NpdGlvbikge1xuICAgIGlmIChvcHRpb25zLnRyaW1TcGFjZSAmJiBTcGxpZGUyMi5pcyhTTElERSkpIHtcbiAgICAgIHBvc2l0aW9uID0gY2xhbXAocG9zaXRpb24sIDAsIG9yaWVudChzbGlkZXJTaXplKHRydWUpIC0gbGlzdFNpemUoKSkpO1xuICAgIH1cbiAgICByZXR1cm4gcG9zaXRpb247XG4gIH1cbiAgZnVuY3Rpb24gb2Zmc2V0KGluZGV4KSB7XG4gICAgdmFyIGZvY3VzMiA9IG9wdGlvbnMuZm9jdXM7XG4gICAgcmV0dXJuIGZvY3VzMiA9PT0gXCJjZW50ZXJcIiA/IChsaXN0U2l6ZSgpIC0gc2xpZGVTaXplKGluZGV4LCB0cnVlKSkgLyAyIDogK2ZvY3VzMiAqIHNsaWRlU2l6ZShpbmRleCkgfHwgMDtcbiAgfVxuICBmdW5jdGlvbiBnZXRMaW1pdChtYXgyKSB7XG4gICAgcmV0dXJuIHRvUG9zaXRpb24obWF4MiA/IENvbXBvbmVudHMyLkNvbnRyb2xsZXIuZ2V0RW5kKCkgOiAwLCAhIW9wdGlvbnMudHJpbVNwYWNlKTtcbiAgfVxuICBmdW5jdGlvbiBjYW5TaGlmdChiYWNrd2FyZHMpIHtcbiAgICB2YXIgc2hpZnRlZCA9IG9yaWVudChzaGlmdChnZXRQb3NpdGlvbigpLCBiYWNrd2FyZHMpKTtcbiAgICByZXR1cm4gYmFja3dhcmRzID8gc2hpZnRlZCA+PSAwIDogc2hpZnRlZCA8PSBsaXN0W3Jlc29sdmUoXCJzY3JvbGxXaWR0aFwiKV0gLSByZWN0KHRyYWNrKVtyZXNvbHZlKFwid2lkdGhcIildO1xuICB9XG4gIGZ1bmN0aW9uIGV4Y2VlZGVkTGltaXQobWF4MiwgcG9zaXRpb24pIHtcbiAgICBwb3NpdGlvbiA9IGlzVW5kZWZpbmVkKHBvc2l0aW9uKSA/IGdldFBvc2l0aW9uKCkgOiBwb3NpdGlvbjtcbiAgICB2YXIgZXhjZWVkZWRNaW4gPSBtYXgyICE9PSB0cnVlICYmIG9yaWVudChwb3NpdGlvbikgPCBvcmllbnQoZ2V0TGltaXQoZmFsc2UpKTtcbiAgICB2YXIgZXhjZWVkZWRNYXggPSBtYXgyICE9PSBmYWxzZSAmJiBvcmllbnQocG9zaXRpb24pID4gb3JpZW50KGdldExpbWl0KHRydWUpKTtcbiAgICByZXR1cm4gZXhjZWVkZWRNaW4gfHwgZXhjZWVkZWRNYXg7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBtb3VudCxcbiAgICBtb3ZlLFxuICAgIGp1bXAsXG4gICAgdHJhbnNsYXRlLFxuICAgIHNoaWZ0LFxuICAgIGNhbmNlbCxcbiAgICB0b0luZGV4LFxuICAgIHRvUG9zaXRpb24sXG4gICAgZ2V0UG9zaXRpb24sXG4gICAgZ2V0TGltaXQsXG4gICAgZXhjZWVkZWRMaW1pdCxcbiAgICByZXBvc2l0aW9uXG4gIH07XG59XG5mdW5jdGlvbiBDb250cm9sbGVyKFNwbGlkZTIyLCBDb21wb25lbnRzMiwgb3B0aW9ucykge1xuICB2YXIgX0V2ZW50SW50ZXJmYWNlNSA9IEV2ZW50SW50ZXJmYWNlKFNwbGlkZTIyKSwgb24gPSBfRXZlbnRJbnRlcmZhY2U1Lm9uLCBlbWl0ID0gX0V2ZW50SW50ZXJmYWNlNS5lbWl0O1xuICB2YXIgTW92ZTIgPSBDb21wb25lbnRzMi5Nb3ZlO1xuICB2YXIgZ2V0UG9zaXRpb24gPSBNb3ZlMi5nZXRQb3NpdGlvbiwgZ2V0TGltaXQgPSBNb3ZlMi5nZXRMaW1pdCwgdG9Qb3NpdGlvbiA9IE1vdmUyLnRvUG9zaXRpb247XG4gIHZhciBfQ29tcG9uZW50czIkU2xpZGVzID0gQ29tcG9uZW50czIuU2xpZGVzLCBpc0Vub3VnaCA9IF9Db21wb25lbnRzMiRTbGlkZXMuaXNFbm91Z2gsIGdldExlbmd0aCA9IF9Db21wb25lbnRzMiRTbGlkZXMuZ2V0TGVuZ3RoO1xuICB2YXIgb21pdEVuZCA9IG9wdGlvbnMub21pdEVuZDtcbiAgdmFyIGlzTG9vcCA9IFNwbGlkZTIyLmlzKExPT1ApO1xuICB2YXIgaXNTbGlkZSA9IFNwbGlkZTIyLmlzKFNMSURFKTtcbiAgdmFyIGdldE5leHQgPSBhcHBseShnZXRBZGphY2VudCwgZmFsc2UpO1xuICB2YXIgZ2V0UHJldiA9IGFwcGx5KGdldEFkamFjZW50LCB0cnVlKTtcbiAgdmFyIGN1cnJJbmRleCA9IG9wdGlvbnMuc3RhcnQgfHwgMDtcbiAgdmFyIGVuZEluZGV4O1xuICB2YXIgcHJldkluZGV4ID0gY3VyckluZGV4O1xuICB2YXIgc2xpZGVDb3VudDtcbiAgdmFyIHBlck1vdmU7XG4gIHZhciBwZXJQYWdlO1xuICBmdW5jdGlvbiBtb3VudCgpIHtcbiAgICBpbml0KCk7XG4gICAgb24oW0VWRU5UX1VQREFURUQsIEVWRU5UX1JFRlJFU0gsIEVWRU5UX0VORF9JTkRFWF9DSEFOR0VEXSwgaW5pdCk7XG4gICAgb24oRVZFTlRfUkVTSVpFRCwgb25SZXNpemVkKTtcbiAgfVxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHNsaWRlQ291bnQgPSBnZXRMZW5ndGgodHJ1ZSk7XG4gICAgcGVyTW92ZSA9IG9wdGlvbnMucGVyTW92ZTtcbiAgICBwZXJQYWdlID0gb3B0aW9ucy5wZXJQYWdlO1xuICAgIGVuZEluZGV4ID0gZ2V0RW5kKCk7XG4gICAgdmFyIGluZGV4ID0gY2xhbXAoY3VyckluZGV4LCAwLCBvbWl0RW5kID8gZW5kSW5kZXggOiBzbGlkZUNvdW50IC0gMSk7XG4gICAgaWYgKGluZGV4ICE9PSBjdXJySW5kZXgpIHtcbiAgICAgIGN1cnJJbmRleCA9IGluZGV4O1xuICAgICAgTW92ZTIucmVwb3NpdGlvbigpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBvblJlc2l6ZWQoKSB7XG4gICAgaWYgKGVuZEluZGV4ICE9PSBnZXRFbmQoKSkge1xuICAgICAgZW1pdChFVkVOVF9FTkRfSU5ERVhfQ0hBTkdFRCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdvKGNvbnRyb2wsIGFsbG93U2FtZUluZGV4LCBjYWxsYmFjaykge1xuICAgIGlmICghaXNCdXN5KCkpIHtcbiAgICAgIHZhciBkZXN0ID0gcGFyc2UoY29udHJvbCk7XG4gICAgICB2YXIgaW5kZXggPSBsb29wKGRlc3QpO1xuICAgICAgaWYgKGluZGV4ID4gLTEgJiYgKGFsbG93U2FtZUluZGV4IHx8IGluZGV4ICE9PSBjdXJySW5kZXgpKSB7XG4gICAgICAgIHNldEluZGV4KGluZGV4KTtcbiAgICAgICAgTW92ZTIubW92ZShkZXN0LCBpbmRleCwgcHJldkluZGV4LCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHNjcm9sbChkZXN0aW5hdGlvbiwgZHVyYXRpb24sIHNuYXAsIGNhbGxiYWNrKSB7XG4gICAgQ29tcG9uZW50czIuU2Nyb2xsLnNjcm9sbChkZXN0aW5hdGlvbiwgZHVyYXRpb24sIHNuYXAsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGluZGV4ID0gbG9vcChNb3ZlMi50b0luZGV4KGdldFBvc2l0aW9uKCkpKTtcbiAgICAgIHNldEluZGV4KG9taXRFbmQgPyBtaW4oaW5kZXgsIGVuZEluZGV4KSA6IGluZGV4KTtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gcGFyc2UoY29udHJvbCkge1xuICAgIHZhciBpbmRleCA9IGN1cnJJbmRleDtcbiAgICBpZiAoaXNTdHJpbmcoY29udHJvbCkpIHtcbiAgICAgIHZhciBfcmVmID0gY29udHJvbC5tYXRjaCgvKFsrXFwtPD5dKShcXGQrKT8vKSB8fCBbXSwgaW5kaWNhdG9yID0gX3JlZlsxXSwgbnVtYmVyID0gX3JlZlsyXTtcbiAgICAgIGlmIChpbmRpY2F0b3IgPT09IFwiK1wiIHx8IGluZGljYXRvciA9PT0gXCItXCIpIHtcbiAgICAgICAgaW5kZXggPSBjb21wdXRlRGVzdEluZGV4KGN1cnJJbmRleCArICsoXCJcIiArIGluZGljYXRvciArICgrbnVtYmVyIHx8IDEpKSwgY3VyckluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAoaW5kaWNhdG9yID09PSBcIj5cIikge1xuICAgICAgICBpbmRleCA9IG51bWJlciA/IHRvSW5kZXgoK251bWJlcikgOiBnZXROZXh0KHRydWUpO1xuICAgICAgfSBlbHNlIGlmIChpbmRpY2F0b3IgPT09IFwiPFwiKSB7XG4gICAgICAgIGluZGV4ID0gZ2V0UHJldih0cnVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaW5kZXggPSBpc0xvb3AgPyBjb250cm9sIDogY2xhbXAoY29udHJvbCwgMCwgZW5kSW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0QWRqYWNlbnQocHJldiwgZGVzdGluYXRpb24pIHtcbiAgICB2YXIgbnVtYmVyID0gcGVyTW92ZSB8fCAoaGFzRm9jdXMoKSA/IDEgOiBwZXJQYWdlKTtcbiAgICB2YXIgZGVzdCA9IGNvbXB1dGVEZXN0SW5kZXgoY3VyckluZGV4ICsgbnVtYmVyICogKHByZXYgPyAtMSA6IDEpLCBjdXJySW5kZXgsICEocGVyTW92ZSB8fCBoYXNGb2N1cygpKSk7XG4gICAgaWYgKGRlc3QgPT09IC0xICYmIGlzU2xpZGUpIHtcbiAgICAgIGlmICghYXBwcm94aW1hdGVseUVxdWFsKGdldFBvc2l0aW9uKCksIGdldExpbWl0KCFwcmV2KSwgMSkpIHtcbiAgICAgICAgcmV0dXJuIHByZXYgPyAwIDogZW5kSW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkZXN0aW5hdGlvbiA/IGRlc3QgOiBsb29wKGRlc3QpO1xuICB9XG4gIGZ1bmN0aW9uIGNvbXB1dGVEZXN0SW5kZXgoZGVzdCwgZnJvbSwgc25hcFBhZ2UpIHtcbiAgICBpZiAoaXNFbm91Z2goKSB8fCBoYXNGb2N1cygpKSB7XG4gICAgICB2YXIgaW5kZXggPSBjb21wdXRlTW92YWJsZURlc3RJbmRleChkZXN0KTtcbiAgICAgIGlmIChpbmRleCAhPT0gZGVzdCkge1xuICAgICAgICBmcm9tID0gZGVzdDtcbiAgICAgICAgZGVzdCA9IGluZGV4O1xuICAgICAgICBzbmFwUGFnZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGRlc3QgPCAwIHx8IGRlc3QgPiBlbmRJbmRleCkge1xuICAgICAgICBpZiAoIXBlck1vdmUgJiYgKGJldHdlZW4oMCwgZGVzdCwgZnJvbSwgdHJ1ZSkgfHwgYmV0d2VlbihlbmRJbmRleCwgZnJvbSwgZGVzdCwgdHJ1ZSkpKSB7XG4gICAgICAgICAgZGVzdCA9IHRvSW5kZXgodG9QYWdlKGRlc3QpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoaXNMb29wKSB7XG4gICAgICAgICAgICBkZXN0ID0gc25hcFBhZ2UgPyBkZXN0IDwgMCA/IC0oc2xpZGVDb3VudCAlIHBlclBhZ2UgfHwgcGVyUGFnZSkgOiBzbGlkZUNvdW50IDogZGVzdDtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMucmV3aW5kKSB7XG4gICAgICAgICAgICBkZXN0ID0gZGVzdCA8IDAgPyBlbmRJbmRleCA6IDA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlc3QgPSAtMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzbmFwUGFnZSAmJiBkZXN0ICE9PSBmcm9tKSB7XG4gICAgICAgICAgZGVzdCA9IHRvSW5kZXgodG9QYWdlKGZyb20pICsgKGRlc3QgPCBmcm9tID8gLTEgOiAxKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGVzdCA9IC0xO1xuICAgIH1cbiAgICByZXR1cm4gZGVzdDtcbiAgfVxuICBmdW5jdGlvbiBjb21wdXRlTW92YWJsZURlc3RJbmRleChkZXN0KSB7XG4gICAgaWYgKGlzU2xpZGUgJiYgb3B0aW9ucy50cmltU3BhY2UgPT09IFwibW92ZVwiICYmIGRlc3QgIT09IGN1cnJJbmRleCkge1xuICAgICAgdmFyIHBvc2l0aW9uID0gZ2V0UG9zaXRpb24oKTtcbiAgICAgIHdoaWxlIChwb3NpdGlvbiA9PT0gdG9Qb3NpdGlvbihkZXN0LCB0cnVlKSAmJiBiZXR3ZWVuKGRlc3QsIDAsIFNwbGlkZTIyLmxlbmd0aCAtIDEsICFvcHRpb25zLnJld2luZCkpIHtcbiAgICAgICAgZGVzdCA8IGN1cnJJbmRleCA/IC0tZGVzdCA6ICsrZGVzdDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRlc3Q7XG4gIH1cbiAgZnVuY3Rpb24gbG9vcChpbmRleCkge1xuICAgIHJldHVybiBpc0xvb3AgPyAoaW5kZXggKyBzbGlkZUNvdW50KSAlIHNsaWRlQ291bnQgfHwgMCA6IGluZGV4O1xuICB9XG4gIGZ1bmN0aW9uIGdldEVuZCgpIHtcbiAgICB2YXIgZW5kID0gc2xpZGVDb3VudCAtIChoYXNGb2N1cygpIHx8IGlzTG9vcCAmJiBwZXJNb3ZlID8gMSA6IHBlclBhZ2UpO1xuICAgIHdoaWxlIChvbWl0RW5kICYmIGVuZC0tID4gMCkge1xuICAgICAgaWYgKHRvUG9zaXRpb24oc2xpZGVDb3VudCAtIDEsIHRydWUpICE9PSB0b1Bvc2l0aW9uKGVuZCwgdHJ1ZSkpIHtcbiAgICAgICAgZW5kKys7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2xhbXAoZW5kLCAwLCBzbGlkZUNvdW50IC0gMSk7XG4gIH1cbiAgZnVuY3Rpb24gdG9JbmRleChwYWdlKSB7XG4gICAgcmV0dXJuIGNsYW1wKGhhc0ZvY3VzKCkgPyBwYWdlIDogcGVyUGFnZSAqIHBhZ2UsIDAsIGVuZEluZGV4KTtcbiAgfVxuICBmdW5jdGlvbiB0b1BhZ2UoaW5kZXgpIHtcbiAgICByZXR1cm4gaGFzRm9jdXMoKSA/IG1pbihpbmRleCwgZW5kSW5kZXgpIDogZmxvb3IoKGluZGV4ID49IGVuZEluZGV4ID8gc2xpZGVDb3VudCAtIDEgOiBpbmRleCkgLyBwZXJQYWdlKTtcbiAgfVxuICBmdW5jdGlvbiB0b0Rlc3QoZGVzdGluYXRpb24pIHtcbiAgICB2YXIgY2xvc2VzdDIgPSBNb3ZlMi50b0luZGV4KGRlc3RpbmF0aW9uKTtcbiAgICByZXR1cm4gaXNTbGlkZSA/IGNsYW1wKGNsb3Nlc3QyLCAwLCBlbmRJbmRleCkgOiBjbG9zZXN0MjtcbiAgfVxuICBmdW5jdGlvbiBzZXRJbmRleChpbmRleCkge1xuICAgIGlmIChpbmRleCAhPT0gY3VyckluZGV4KSB7XG4gICAgICBwcmV2SW5kZXggPSBjdXJySW5kZXg7XG4gICAgICBjdXJySW5kZXggPSBpbmRleDtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZ2V0SW5kZXgocHJldikge1xuICAgIHJldHVybiBwcmV2ID8gcHJldkluZGV4IDogY3VyckluZGV4O1xuICB9XG4gIGZ1bmN0aW9uIGhhc0ZvY3VzKCkge1xuICAgIHJldHVybiAhaXNVbmRlZmluZWQob3B0aW9ucy5mb2N1cykgfHwgb3B0aW9ucy5pc05hdmlnYXRpb247XG4gIH1cbiAgZnVuY3Rpb24gaXNCdXN5KCkge1xuICAgIHJldHVybiBTcGxpZGUyMi5zdGF0ZS5pcyhbTU9WSU5HLCBTQ1JPTExJTkddKSAmJiAhIW9wdGlvbnMud2FpdEZvclRyYW5zaXRpb247XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBtb3VudCxcbiAgICBnbyxcbiAgICBzY3JvbGwsXG4gICAgZ2V0TmV4dCxcbiAgICBnZXRQcmV2LFxuICAgIGdldEFkamFjZW50LFxuICAgIGdldEVuZCxcbiAgICBzZXRJbmRleCxcbiAgICBnZXRJbmRleCxcbiAgICB0b0luZGV4LFxuICAgIHRvUGFnZSxcbiAgICB0b0Rlc3QsXG4gICAgaGFzRm9jdXMsXG4gICAgaXNCdXN5XG4gIH07XG59XG52YXIgWE1MX05BTUVfU1BBQ0UgPSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7XG52YXIgUEFUSCA9IFwibTE1LjUgMC45MzItNC4zIDQuMzggMTQuNSAxNC42LTE0LjUgMTQuNSA0LjMgNC40IDE0LjYtMTQuNiA0LjQtNC4zLTQuNC00LjQtMTQuNi0xNC42elwiO1xudmFyIFNJWkUgPSA0MDtcbmZ1bmN0aW9uIEFycm93cyhTcGxpZGUyMiwgQ29tcG9uZW50czIsIG9wdGlvbnMpIHtcbiAgdmFyIGV2ZW50ID0gRXZlbnRJbnRlcmZhY2UoU3BsaWRlMjIpO1xuICB2YXIgb24gPSBldmVudC5vbiwgYmluZCA9IGV2ZW50LmJpbmQsIGVtaXQgPSBldmVudC5lbWl0O1xuICB2YXIgY2xhc3NlcyA9IG9wdGlvbnMuY2xhc3NlcywgaTE4biA9IG9wdGlvbnMuaTE4bjtcbiAgdmFyIEVsZW1lbnRzMiA9IENvbXBvbmVudHMyLkVsZW1lbnRzLCBDb250cm9sbGVyMiA9IENvbXBvbmVudHMyLkNvbnRyb2xsZXI7XG4gIHZhciBwbGFjZWhvbGRlciA9IEVsZW1lbnRzMi5hcnJvd3MsIHRyYWNrID0gRWxlbWVudHMyLnRyYWNrO1xuICB2YXIgd3JhcHBlciA9IHBsYWNlaG9sZGVyO1xuICB2YXIgcHJldiA9IEVsZW1lbnRzMi5wcmV2O1xuICB2YXIgbmV4dCA9IEVsZW1lbnRzMi5uZXh0O1xuICB2YXIgY3JlYXRlZDtcbiAgdmFyIHdyYXBwZXJDbGFzc2VzO1xuICB2YXIgYXJyb3dzID0ge307XG4gIGZ1bmN0aW9uIG1vdW50KCkge1xuICAgIGluaXQoKTtcbiAgICBvbihFVkVOVF9VUERBVEVELCByZW1vdW50KTtcbiAgfVxuICBmdW5jdGlvbiByZW1vdW50KCkge1xuICAgIGRlc3Ryb3koKTtcbiAgICBtb3VudCgpO1xuICB9XG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIGVuYWJsZWQgPSBvcHRpb25zLmFycm93cztcbiAgICBpZiAoZW5hYmxlZCAmJiAhKHByZXYgJiYgbmV4dCkpIHtcbiAgICAgIGNyZWF0ZUFycm93cygpO1xuICAgIH1cbiAgICBpZiAocHJldiAmJiBuZXh0KSB7XG4gICAgICBhc3NpZ24oYXJyb3dzLCB7XG4gICAgICAgIHByZXYsXG4gICAgICAgIG5leHRcbiAgICAgIH0pO1xuICAgICAgZGlzcGxheSh3cmFwcGVyLCBlbmFibGVkID8gXCJcIiA6IFwibm9uZVwiKTtcbiAgICAgIGFkZENsYXNzKHdyYXBwZXIsIHdyYXBwZXJDbGFzc2VzID0gQ0xBU1NfQVJST1dTICsgXCItLVwiICsgb3B0aW9ucy5kaXJlY3Rpb24pO1xuICAgICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgICAgbGlzdGVuKCk7XG4gICAgICAgIHVwZGF0ZSgpO1xuICAgICAgICBzZXRBdHRyaWJ1dGUoW3ByZXYsIG5leHRdLCBBUklBX0NPTlRST0xTLCB0cmFjay5pZCk7XG4gICAgICAgIGVtaXQoRVZFTlRfQVJST1dTX01PVU5URUQsIHByZXYsIG5leHQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGV2ZW50LmRlc3Ryb3koKTtcbiAgICByZW1vdmVDbGFzcyh3cmFwcGVyLCB3cmFwcGVyQ2xhc3Nlcyk7XG4gICAgaWYgKGNyZWF0ZWQpIHtcbiAgICAgIHJlbW92ZShwbGFjZWhvbGRlciA/IFtwcmV2LCBuZXh0XSA6IHdyYXBwZXIpO1xuICAgICAgcHJldiA9IG5leHQgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmVBdHRyaWJ1dGUoW3ByZXYsIG5leHRdLCBBTExfQVRUUklCVVRFUyk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGxpc3RlbigpIHtcbiAgICBvbihbRVZFTlRfTU9VTlRFRCwgRVZFTlRfTU9WRUQsIEVWRU5UX1JFRlJFU0gsIEVWRU5UX1NDUk9MTEVELCBFVkVOVF9FTkRfSU5ERVhfQ0hBTkdFRF0sIHVwZGF0ZSk7XG4gICAgYmluZChuZXh0LCBcImNsaWNrXCIsIGFwcGx5KGdvLCBcIj5cIikpO1xuICAgIGJpbmQocHJldiwgXCJjbGlja1wiLCBhcHBseShnbywgXCI8XCIpKTtcbiAgfVxuICBmdW5jdGlvbiBnbyhjb250cm9sKSB7XG4gICAgQ29udHJvbGxlcjIuZ28oY29udHJvbCwgdHJ1ZSk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlQXJyb3dzKCkge1xuICAgIHdyYXBwZXIgPSBwbGFjZWhvbGRlciB8fCBjcmVhdGUoXCJkaXZcIiwgY2xhc3Nlcy5hcnJvd3MpO1xuICAgIHByZXYgPSBjcmVhdGVBcnJvdyh0cnVlKTtcbiAgICBuZXh0ID0gY3JlYXRlQXJyb3coZmFsc2UpO1xuICAgIGNyZWF0ZWQgPSB0cnVlO1xuICAgIGFwcGVuZCh3cmFwcGVyLCBbcHJldiwgbmV4dF0pO1xuICAgICFwbGFjZWhvbGRlciAmJiBiZWZvcmUod3JhcHBlciwgdHJhY2spO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUFycm93KHByZXYyKSB7XG4gICAgdmFyIGFycm93ID0gJzxidXR0b24gY2xhc3M9XCInICsgY2xhc3Nlcy5hcnJvdyArIFwiIFwiICsgKHByZXYyID8gY2xhc3Nlcy5wcmV2IDogY2xhc3Nlcy5uZXh0KSArICdcIiB0eXBlPVwiYnV0dG9uXCI+PHN2ZyB4bWxucz1cIicgKyBYTUxfTkFNRV9TUEFDRSArICdcIiB2aWV3Qm94PVwiMCAwICcgKyBTSVpFICsgXCIgXCIgKyBTSVpFICsgJ1wiIHdpZHRoPVwiJyArIFNJWkUgKyAnXCIgaGVpZ2h0PVwiJyArIFNJWkUgKyAnXCIgZm9jdXNhYmxlPVwiZmFsc2VcIj48cGF0aCBkPVwiJyArIChvcHRpb25zLmFycm93UGF0aCB8fCBQQVRIKSArICdcIiAvPic7XG4gICAgcmV0dXJuIHBhcnNlSHRtbChhcnJvdyk7XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgIGlmIChwcmV2ICYmIG5leHQpIHtcbiAgICAgIHZhciBpbmRleCA9IFNwbGlkZTIyLmluZGV4O1xuICAgICAgdmFyIHByZXZJbmRleCA9IENvbnRyb2xsZXIyLmdldFByZXYoKTtcbiAgICAgIHZhciBuZXh0SW5kZXggPSBDb250cm9sbGVyMi5nZXROZXh0KCk7XG4gICAgICB2YXIgcHJldkxhYmVsID0gcHJldkluZGV4ID4gLTEgJiYgaW5kZXggPCBwcmV2SW5kZXggPyBpMThuLmxhc3QgOiBpMThuLnByZXY7XG4gICAgICB2YXIgbmV4dExhYmVsID0gbmV4dEluZGV4ID4gLTEgJiYgaW5kZXggPiBuZXh0SW5kZXggPyBpMThuLmZpcnN0IDogaTE4bi5uZXh0O1xuICAgICAgcHJldi5kaXNhYmxlZCA9IHByZXZJbmRleCA8IDA7XG4gICAgICBuZXh0LmRpc2FibGVkID0gbmV4dEluZGV4IDwgMDtcbiAgICAgIHNldEF0dHJpYnV0ZShwcmV2LCBBUklBX0xBQkVMLCBwcmV2TGFiZWwpO1xuICAgICAgc2V0QXR0cmlidXRlKG5leHQsIEFSSUFfTEFCRUwsIG5leHRMYWJlbCk7XG4gICAgICBlbWl0KEVWRU5UX0FSUk9XU19VUERBVEVELCBwcmV2LCBuZXh0LCBwcmV2SW5kZXgsIG5leHRJbmRleCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgYXJyb3dzLFxuICAgIG1vdW50LFxuICAgIGRlc3Ryb3ksXG4gICAgdXBkYXRlXG4gIH07XG59XG52YXIgSU5URVJWQUxfREFUQV9BVFRSSUJVVEUgPSBEQVRBX0FUVFJJQlVURSArIFwiLWludGVydmFsXCI7XG5mdW5jdGlvbiBBdXRvcGxheShTcGxpZGUyMiwgQ29tcG9uZW50czIsIG9wdGlvbnMpIHtcbiAgdmFyIF9FdmVudEludGVyZmFjZTYgPSBFdmVudEludGVyZmFjZShTcGxpZGUyMiksIG9uID0gX0V2ZW50SW50ZXJmYWNlNi5vbiwgYmluZCA9IF9FdmVudEludGVyZmFjZTYuYmluZCwgZW1pdCA9IF9FdmVudEludGVyZmFjZTYuZW1pdDtcbiAgdmFyIGludGVydmFsID0gUmVxdWVzdEludGVydmFsKG9wdGlvbnMuaW50ZXJ2YWwsIFNwbGlkZTIyLmdvLmJpbmQoU3BsaWRlMjIsIFwiPlwiKSwgb25BbmltYXRpb25GcmFtZSk7XG4gIHZhciBpc1BhdXNlZCA9IGludGVydmFsLmlzUGF1c2VkO1xuICB2YXIgRWxlbWVudHMyID0gQ29tcG9uZW50czIuRWxlbWVudHMsIF9Db21wb25lbnRzMiRFbGVtZW50czQgPSBDb21wb25lbnRzMi5FbGVtZW50cywgcm9vdCA9IF9Db21wb25lbnRzMiRFbGVtZW50czQucm9vdCwgdG9nZ2xlID0gX0NvbXBvbmVudHMyJEVsZW1lbnRzNC50b2dnbGU7XG4gIHZhciBhdXRvcGxheSA9IG9wdGlvbnMuYXV0b3BsYXk7XG4gIHZhciBob3ZlcmVkO1xuICB2YXIgZm9jdXNlZDtcbiAgdmFyIHN0b3BwZWQgPSBhdXRvcGxheSA9PT0gXCJwYXVzZVwiO1xuICBmdW5jdGlvbiBtb3VudCgpIHtcbiAgICBpZiAoYXV0b3BsYXkpIHtcbiAgICAgIGxpc3RlbigpO1xuICAgICAgdG9nZ2xlICYmIHNldEF0dHJpYnV0ZSh0b2dnbGUsIEFSSUFfQ09OVFJPTFMsIEVsZW1lbnRzMi50cmFjay5pZCk7XG4gICAgICBzdG9wcGVkIHx8IHBsYXkoKTtcbiAgICAgIHVwZGF0ZSgpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBsaXN0ZW4oKSB7XG4gICAgaWYgKG9wdGlvbnMucGF1c2VPbkhvdmVyKSB7XG4gICAgICBiaW5kKHJvb3QsIFwibW91c2VlbnRlciBtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaG92ZXJlZCA9IGUudHlwZSA9PT0gXCJtb3VzZWVudGVyXCI7XG4gICAgICAgIGF1dG9Ub2dnbGUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5wYXVzZU9uRm9jdXMpIHtcbiAgICAgIGJpbmQocm9vdCwgXCJmb2N1c2luIGZvY3Vzb3V0XCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZm9jdXNlZCA9IGUudHlwZSA9PT0gXCJmb2N1c2luXCI7XG4gICAgICAgIGF1dG9Ub2dnbGUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodG9nZ2xlKSB7XG4gICAgICBiaW5kKHRvZ2dsZSwgXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc3RvcHBlZCA/IHBsYXkoKSA6IHBhdXNlKHRydWUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIG9uKFtFVkVOVF9NT1ZFLCBFVkVOVF9TQ1JPTEwsIEVWRU5UX1JFRlJFU0hdLCBpbnRlcnZhbC5yZXdpbmQpO1xuICAgIG9uKEVWRU5UX01PVkUsIG9uTW92ZSk7XG4gIH1cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBpZiAoaXNQYXVzZWQoKSAmJiBDb21wb25lbnRzMi5TbGlkZXMuaXNFbm91Z2goKSkge1xuICAgICAgaW50ZXJ2YWwuc3RhcnQoIW9wdGlvbnMucmVzZXRQcm9ncmVzcyk7XG4gICAgICBmb2N1c2VkID0gaG92ZXJlZCA9IHN0b3BwZWQgPSBmYWxzZTtcbiAgICAgIHVwZGF0ZSgpO1xuICAgICAgZW1pdChFVkVOVF9BVVRPUExBWV9QTEFZKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcGF1c2Uoc3RvcCkge1xuICAgIGlmIChzdG9wID09PSB2b2lkIDApIHtcbiAgICAgIHN0b3AgPSB0cnVlO1xuICAgIH1cbiAgICBzdG9wcGVkID0gISFzdG9wO1xuICAgIHVwZGF0ZSgpO1xuICAgIGlmICghaXNQYXVzZWQoKSkge1xuICAgICAgaW50ZXJ2YWwucGF1c2UoKTtcbiAgICAgIGVtaXQoRVZFTlRfQVVUT1BMQVlfUEFVU0UpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBhdXRvVG9nZ2xlKCkge1xuICAgIGlmICghc3RvcHBlZCkge1xuICAgICAgaG92ZXJlZCB8fCBmb2N1c2VkID8gcGF1c2UoZmFsc2UpIDogcGxheSgpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgaWYgKHRvZ2dsZSkge1xuICAgICAgdG9nZ2xlQ2xhc3ModG9nZ2xlLCBDTEFTU19BQ1RJVkUsICFzdG9wcGVkKTtcbiAgICAgIHNldEF0dHJpYnV0ZSh0b2dnbGUsIEFSSUFfTEFCRUwsIG9wdGlvbnMuaTE4bltzdG9wcGVkID8gXCJwbGF5XCIgOiBcInBhdXNlXCJdKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gb25BbmltYXRpb25GcmFtZShyYXRlKSB7XG4gICAgdmFyIGJhciA9IEVsZW1lbnRzMi5iYXI7XG4gICAgYmFyICYmIHN0eWxlKGJhciwgXCJ3aWR0aFwiLCByYXRlICogMTAwICsgXCIlXCIpO1xuICAgIGVtaXQoRVZFTlRfQVVUT1BMQVlfUExBWUlORywgcmF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gb25Nb3ZlKGluZGV4KSB7XG4gICAgdmFyIFNsaWRlMiA9IENvbXBvbmVudHMyLlNsaWRlcy5nZXRBdChpbmRleCk7XG4gICAgaW50ZXJ2YWwuc2V0KFNsaWRlMiAmJiArZ2V0QXR0cmlidXRlKFNsaWRlMi5zbGlkZSwgSU5URVJWQUxfREFUQV9BVFRSSUJVVEUpIHx8IG9wdGlvbnMuaW50ZXJ2YWwpO1xuICB9XG4gIHJldHVybiB7XG4gICAgbW91bnQsXG4gICAgZGVzdHJveTogaW50ZXJ2YWwuY2FuY2VsLFxuICAgIHBsYXksXG4gICAgcGF1c2UsXG4gICAgaXNQYXVzZWRcbiAgfTtcbn1cbmZ1bmN0aW9uIENvdmVyKFNwbGlkZTIyLCBDb21wb25lbnRzMiwgb3B0aW9ucykge1xuICB2YXIgX0V2ZW50SW50ZXJmYWNlNyA9IEV2ZW50SW50ZXJmYWNlKFNwbGlkZTIyKSwgb24gPSBfRXZlbnRJbnRlcmZhY2U3Lm9uO1xuICBmdW5jdGlvbiBtb3VudCgpIHtcbiAgICBpZiAob3B0aW9ucy5jb3Zlcikge1xuICAgICAgb24oRVZFTlRfTEFaWUxPQURfTE9BREVELCBhcHBseSh0b2dnbGUsIHRydWUpKTtcbiAgICAgIG9uKFtFVkVOVF9NT1VOVEVELCBFVkVOVF9VUERBVEVELCBFVkVOVF9SRUZSRVNIXSwgYXBwbHkoY292ZXIsIHRydWUpKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gY292ZXIoY292ZXIyKSB7XG4gICAgQ29tcG9uZW50czIuU2xpZGVzLmZvckVhY2goZnVuY3Rpb24oU2xpZGUyKSB7XG4gICAgICB2YXIgaW1nID0gY2hpbGQoU2xpZGUyLmNvbnRhaW5lciB8fCBTbGlkZTIuc2xpZGUsIFwiaW1nXCIpO1xuICAgICAgaWYgKGltZyAmJiBpbWcuc3JjKSB7XG4gICAgICAgIHRvZ2dsZShjb3ZlcjIsIGltZywgU2xpZGUyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiB0b2dnbGUoY292ZXIyLCBpbWcsIFNsaWRlMikge1xuICAgIFNsaWRlMi5zdHlsZShcImJhY2tncm91bmRcIiwgY292ZXIyID8gJ2NlbnRlci9jb3ZlciBuby1yZXBlYXQgdXJsKFwiJyArIGltZy5zcmMgKyAnXCIpJyA6IFwiXCIsIHRydWUpO1xuICAgIGRpc3BsYXkoaW1nLCBjb3ZlcjIgPyBcIm5vbmVcIiA6IFwiXCIpO1xuICB9XG4gIHJldHVybiB7XG4gICAgbW91bnQsXG4gICAgZGVzdHJveTogYXBwbHkoY292ZXIsIGZhbHNlKVxuICB9O1xufVxudmFyIEJPVU5DRV9ESUZGX1RIUkVTSE9MRCA9IDEwO1xudmFyIEJPVU5DRV9EVVJBVElPTiA9IDYwMDtcbnZhciBGUklDVElPTl9GQUNUT1IgPSAwLjY7XG52YXIgQkFTRV9WRUxPQ0lUWSA9IDEuNTtcbnZhciBNSU5fRFVSQVRJT04gPSA4MDA7XG5mdW5jdGlvbiBTY3JvbGwoU3BsaWRlMjIsIENvbXBvbmVudHMyLCBvcHRpb25zKSB7XG4gIHZhciBfRXZlbnRJbnRlcmZhY2U4ID0gRXZlbnRJbnRlcmZhY2UoU3BsaWRlMjIpLCBvbiA9IF9FdmVudEludGVyZmFjZTgub24sIGVtaXQgPSBfRXZlbnRJbnRlcmZhY2U4LmVtaXQ7XG4gIHZhciBzZXQgPSBTcGxpZGUyMi5zdGF0ZS5zZXQ7XG4gIHZhciBNb3ZlMiA9IENvbXBvbmVudHMyLk1vdmU7XG4gIHZhciBnZXRQb3NpdGlvbiA9IE1vdmUyLmdldFBvc2l0aW9uLCBnZXRMaW1pdCA9IE1vdmUyLmdldExpbWl0LCBleGNlZWRlZExpbWl0ID0gTW92ZTIuZXhjZWVkZWRMaW1pdCwgdHJhbnNsYXRlID0gTW92ZTIudHJhbnNsYXRlO1xuICB2YXIgaXNTbGlkZSA9IFNwbGlkZTIyLmlzKFNMSURFKTtcbiAgdmFyIGludGVydmFsO1xuICB2YXIgY2FsbGJhY2s7XG4gIHZhciBmcmljdGlvbiA9IDE7XG4gIGZ1bmN0aW9uIG1vdW50KCkge1xuICAgIG9uKEVWRU5UX01PVkUsIGNsZWFyKTtcbiAgICBvbihbRVZFTlRfVVBEQVRFRCwgRVZFTlRfUkVGUkVTSF0sIGNhbmNlbCk7XG4gIH1cbiAgZnVuY3Rpb24gc2Nyb2xsKGRlc3RpbmF0aW9uLCBkdXJhdGlvbiwgc25hcCwgb25TY3JvbGxlZCwgbm9Db25zdHJhaW4pIHtcbiAgICB2YXIgZnJvbSA9IGdldFBvc2l0aW9uKCk7XG4gICAgY2xlYXIoKTtcbiAgICBpZiAoc25hcCAmJiAoIWlzU2xpZGUgfHwgIWV4Y2VlZGVkTGltaXQoKSkpIHtcbiAgICAgIHZhciBzaXplID0gQ29tcG9uZW50czIuTGF5b3V0LnNsaWRlclNpemUoKTtcbiAgICAgIHZhciBvZmZzZXQgPSBzaWduKGRlc3RpbmF0aW9uKSAqIHNpemUgKiBmbG9vcihhYnMoZGVzdGluYXRpb24pIC8gc2l6ZSkgfHwgMDtcbiAgICAgIGRlc3RpbmF0aW9uID0gTW92ZTIudG9Qb3NpdGlvbihDb21wb25lbnRzMi5Db250cm9sbGVyLnRvRGVzdChkZXN0aW5hdGlvbiAlIHNpemUpKSArIG9mZnNldDtcbiAgICB9XG4gICAgdmFyIG5vRGlzdGFuY2UgPSBhcHByb3hpbWF0ZWx5RXF1YWwoZnJvbSwgZGVzdGluYXRpb24sIDEpO1xuICAgIGZyaWN0aW9uID0gMTtcbiAgICBkdXJhdGlvbiA9IG5vRGlzdGFuY2UgPyAwIDogZHVyYXRpb24gfHwgbWF4KGFicyhkZXN0aW5hdGlvbiAtIGZyb20pIC8gQkFTRV9WRUxPQ0lUWSwgTUlOX0RVUkFUSU9OKTtcbiAgICBjYWxsYmFjayA9IG9uU2Nyb2xsZWQ7XG4gICAgaW50ZXJ2YWwgPSBSZXF1ZXN0SW50ZXJ2YWwoZHVyYXRpb24sIG9uRW5kLCBhcHBseSh1cGRhdGUsIGZyb20sIGRlc3RpbmF0aW9uLCBub0NvbnN0cmFpbiksIDEpO1xuICAgIHNldChTQ1JPTExJTkcpO1xuICAgIGVtaXQoRVZFTlRfU0NST0xMKTtcbiAgICBpbnRlcnZhbC5zdGFydCgpO1xuICB9XG4gIGZ1bmN0aW9uIG9uRW5kKCkge1xuICAgIHNldChJRExFKTtcbiAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgIGVtaXQoRVZFTlRfU0NST0xMRUQpO1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZShmcm9tLCB0bywgbm9Db25zdHJhaW4sIHJhdGUpIHtcbiAgICB2YXIgcG9zaXRpb24gPSBnZXRQb3NpdGlvbigpO1xuICAgIHZhciB0YXJnZXQgPSBmcm9tICsgKHRvIC0gZnJvbSkgKiBlYXNpbmcocmF0ZSk7XG4gICAgdmFyIGRpZmYgPSAodGFyZ2V0IC0gcG9zaXRpb24pICogZnJpY3Rpb247XG4gICAgdHJhbnNsYXRlKHBvc2l0aW9uICsgZGlmZik7XG4gICAgaWYgKGlzU2xpZGUgJiYgIW5vQ29uc3RyYWluICYmIGV4Y2VlZGVkTGltaXQoKSkge1xuICAgICAgZnJpY3Rpb24gKj0gRlJJQ1RJT05fRkFDVE9SO1xuICAgICAgaWYgKGFicyhkaWZmKSA8IEJPVU5DRV9ESUZGX1RIUkVTSE9MRCkge1xuICAgICAgICBzY3JvbGwoZ2V0TGltaXQoZXhjZWVkZWRMaW1pdCh0cnVlKSksIEJPVU5DRV9EVVJBVElPTiwgZmFsc2UsIGNhbGxiYWNrLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgaWYgKGludGVydmFsKSB7XG4gICAgICBpbnRlcnZhbC5jYW5jZWwoKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgIGlmIChpbnRlcnZhbCAmJiAhaW50ZXJ2YWwuaXNQYXVzZWQoKSkge1xuICAgICAgY2xlYXIoKTtcbiAgICAgIG9uRW5kKCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGVhc2luZyh0KSB7XG4gICAgdmFyIGVhc2luZ0Z1bmMgPSBvcHRpb25zLmVhc2luZ0Z1bmM7XG4gICAgcmV0dXJuIGVhc2luZ0Z1bmMgPyBlYXNpbmdGdW5jKHQpIDogMSAtIE1hdGgucG93KDEgLSB0LCA0KTtcbiAgfVxuICByZXR1cm4ge1xuICAgIG1vdW50LFxuICAgIGRlc3Ryb3k6IGNsZWFyLFxuICAgIHNjcm9sbCxcbiAgICBjYW5jZWxcbiAgfTtcbn1cbnZhciBTQ1JPTExfTElTVEVORVJfT1BUSU9OUyA9IHtcbiAgcGFzc2l2ZTogZmFsc2UsXG4gIGNhcHR1cmU6IHRydWVcbn07XG5mdW5jdGlvbiBEcmFnKFNwbGlkZTIyLCBDb21wb25lbnRzMiwgb3B0aW9ucykge1xuICB2YXIgX0V2ZW50SW50ZXJmYWNlOSA9IEV2ZW50SW50ZXJmYWNlKFNwbGlkZTIyKSwgb24gPSBfRXZlbnRJbnRlcmZhY2U5Lm9uLCBlbWl0ID0gX0V2ZW50SW50ZXJmYWNlOS5lbWl0LCBiaW5kID0gX0V2ZW50SW50ZXJmYWNlOS5iaW5kLCB1bmJpbmQgPSBfRXZlbnRJbnRlcmZhY2U5LnVuYmluZDtcbiAgdmFyIHN0YXRlID0gU3BsaWRlMjIuc3RhdGU7XG4gIHZhciBNb3ZlMiA9IENvbXBvbmVudHMyLk1vdmUsIFNjcm9sbDIgPSBDb21wb25lbnRzMi5TY3JvbGwsIENvbnRyb2xsZXIyID0gQ29tcG9uZW50czIuQ29udHJvbGxlciwgdHJhY2sgPSBDb21wb25lbnRzMi5FbGVtZW50cy50cmFjaywgcmVkdWNlID0gQ29tcG9uZW50czIuTWVkaWEucmVkdWNlO1xuICB2YXIgX0NvbXBvbmVudHMyJERpcmVjdGlvMiA9IENvbXBvbmVudHMyLkRpcmVjdGlvbiwgcmVzb2x2ZSA9IF9Db21wb25lbnRzMiREaXJlY3RpbzIucmVzb2x2ZSwgb3JpZW50ID0gX0NvbXBvbmVudHMyJERpcmVjdGlvMi5vcmllbnQ7XG4gIHZhciBnZXRQb3NpdGlvbiA9IE1vdmUyLmdldFBvc2l0aW9uLCBleGNlZWRlZExpbWl0ID0gTW92ZTIuZXhjZWVkZWRMaW1pdDtcbiAgdmFyIGJhc2VQb3NpdGlvbjtcbiAgdmFyIGJhc2VFdmVudDtcbiAgdmFyIHByZXZCYXNlRXZlbnQ7XG4gIHZhciBpc0ZyZWU7XG4gIHZhciBkcmFnZ2luZztcbiAgdmFyIGV4Y2VlZGVkID0gZmFsc2U7XG4gIHZhciBjbGlja1ByZXZlbnRlZDtcbiAgdmFyIGRpc2FibGVkO1xuICB2YXIgdGFyZ2V0O1xuICBmdW5jdGlvbiBtb3VudCgpIHtcbiAgICBiaW5kKHRyYWNrLCBQT0lOVEVSX01PVkVfRVZFTlRTLCBub29wLCBTQ1JPTExfTElTVEVORVJfT1BUSU9OUyk7XG4gICAgYmluZCh0cmFjaywgUE9JTlRFUl9VUF9FVkVOVFMsIG5vb3AsIFNDUk9MTF9MSVNURU5FUl9PUFRJT05TKTtcbiAgICBiaW5kKHRyYWNrLCBQT0lOVEVSX0RPV05fRVZFTlRTLCBvblBvaW50ZXJEb3duLCBTQ1JPTExfTElTVEVORVJfT1BUSU9OUyk7XG4gICAgYmluZCh0cmFjaywgXCJjbGlja1wiLCBvbkNsaWNrLCB7XG4gICAgICBjYXB0dXJlOiB0cnVlXG4gICAgfSk7XG4gICAgYmluZCh0cmFjaywgXCJkcmFnc3RhcnRcIiwgcHJldmVudCk7XG4gICAgb24oW0VWRU5UX01PVU5URUQsIEVWRU5UX1VQREFURURdLCBpbml0KTtcbiAgfVxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBkcmFnID0gb3B0aW9ucy5kcmFnO1xuICAgIGRpc2FibGUoIWRyYWcpO1xuICAgIGlzRnJlZSA9IGRyYWcgPT09IFwiZnJlZVwiO1xuICB9XG4gIGZ1bmN0aW9uIG9uUG9pbnRlckRvd24oZSkge1xuICAgIGNsaWNrUHJldmVudGVkID0gZmFsc2U7XG4gICAgaWYgKCFkaXNhYmxlZCkge1xuICAgICAgdmFyIGlzVG91Y2ggPSBpc1RvdWNoRXZlbnQoZSk7XG4gICAgICBpZiAoaXNEcmFnZ2FibGUoZS50YXJnZXQpICYmIChpc1RvdWNoIHx8ICFlLmJ1dHRvbikpIHtcbiAgICAgICAgaWYgKCFDb250cm9sbGVyMi5pc0J1c3koKSkge1xuICAgICAgICAgIHRhcmdldCA9IGlzVG91Y2ggPyB0cmFjayA6IHdpbmRvdztcbiAgICAgICAgICBkcmFnZ2luZyA9IHN0YXRlLmlzKFtNT1ZJTkcsIFNDUk9MTElOR10pO1xuICAgICAgICAgIHByZXZCYXNlRXZlbnQgPSBudWxsO1xuICAgICAgICAgIGJpbmQodGFyZ2V0LCBQT0lOVEVSX01PVkVfRVZFTlRTLCBvblBvaW50ZXJNb3ZlLCBTQ1JPTExfTElTVEVORVJfT1BUSU9OUyk7XG4gICAgICAgICAgYmluZCh0YXJnZXQsIFBPSU5URVJfVVBfRVZFTlRTLCBvblBvaW50ZXJVcCwgU0NST0xMX0xJU1RFTkVSX09QVElPTlMpO1xuICAgICAgICAgIE1vdmUyLmNhbmNlbCgpO1xuICAgICAgICAgIFNjcm9sbDIuY2FuY2VsKCk7XG4gICAgICAgICAgc2F2ZShlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcmV2ZW50KGUsIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG9uUG9pbnRlck1vdmUoZSkge1xuICAgIGlmICghc3RhdGUuaXMoRFJBR0dJTkcpKSB7XG4gICAgICBzdGF0ZS5zZXQoRFJBR0dJTkcpO1xuICAgICAgZW1pdChFVkVOVF9EUkFHKTtcbiAgICB9XG4gICAgaWYgKGUuY2FuY2VsYWJsZSkge1xuICAgICAgaWYgKGRyYWdnaW5nKSB7XG4gICAgICAgIE1vdmUyLnRyYW5zbGF0ZShiYXNlUG9zaXRpb24gKyBjb25zdHJhaW4oZGlmZkNvb3JkKGUpKSk7XG4gICAgICAgIHZhciBleHBpcmVkID0gZGlmZlRpbWUoZSkgPiBMT0dfSU5URVJWQUw7XG4gICAgICAgIHZhciBoYXNFeGNlZWRlZCA9IGV4Y2VlZGVkICE9PSAoZXhjZWVkZWQgPSBleGNlZWRlZExpbWl0KCkpO1xuICAgICAgICBpZiAoZXhwaXJlZCB8fCBoYXNFeGNlZWRlZCkge1xuICAgICAgICAgIHNhdmUoZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2xpY2tQcmV2ZW50ZWQgPSB0cnVlO1xuICAgICAgICBlbWl0KEVWRU5UX0RSQUdHSU5HKTtcbiAgICAgICAgcHJldmVudChlKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNTbGlkZXJEaXJlY3Rpb24oZSkpIHtcbiAgICAgICAgZHJhZ2dpbmcgPSBzaG91bGRTdGFydChlKTtcbiAgICAgICAgcHJldmVudChlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gb25Qb2ludGVyVXAoZSkge1xuICAgIGlmIChzdGF0ZS5pcyhEUkFHR0lORykpIHtcbiAgICAgIHN0YXRlLnNldChJRExFKTtcbiAgICAgIGVtaXQoRVZFTlRfRFJBR0dFRCk7XG4gICAgfVxuICAgIGlmIChkcmFnZ2luZykge1xuICAgICAgbW92ZShlKTtcbiAgICAgIHByZXZlbnQoZSk7XG4gICAgfVxuICAgIHVuYmluZCh0YXJnZXQsIFBPSU5URVJfTU9WRV9FVkVOVFMsIG9uUG9pbnRlck1vdmUpO1xuICAgIHVuYmluZCh0YXJnZXQsIFBPSU5URVJfVVBfRVZFTlRTLCBvblBvaW50ZXJVcCk7XG4gICAgZHJhZ2dpbmcgPSBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgICBpZiAoIWRpc2FibGVkICYmIGNsaWNrUHJldmVudGVkKSB7XG4gICAgICBwcmV2ZW50KGUsIHRydWUpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBzYXZlKGUpIHtcbiAgICBwcmV2QmFzZUV2ZW50ID0gYmFzZUV2ZW50O1xuICAgIGJhc2VFdmVudCA9IGU7XG4gICAgYmFzZVBvc2l0aW9uID0gZ2V0UG9zaXRpb24oKTtcbiAgfVxuICBmdW5jdGlvbiBtb3ZlKGUpIHtcbiAgICB2YXIgdmVsb2NpdHkgPSBjb21wdXRlVmVsb2NpdHkoZSk7XG4gICAgdmFyIGRlc3RpbmF0aW9uID0gY29tcHV0ZURlc3RpbmF0aW9uKHZlbG9jaXR5KTtcbiAgICB2YXIgcmV3aW5kID0gb3B0aW9ucy5yZXdpbmQgJiYgb3B0aW9ucy5yZXdpbmRCeURyYWc7XG4gICAgcmVkdWNlKGZhbHNlKTtcbiAgICBpZiAoaXNGcmVlKSB7XG4gICAgICBDb250cm9sbGVyMi5zY3JvbGwoZGVzdGluYXRpb24sIDAsIG9wdGlvbnMuc25hcCk7XG4gICAgfSBlbHNlIGlmIChTcGxpZGUyMi5pcyhGQURFKSkge1xuICAgICAgQ29udHJvbGxlcjIuZ28ob3JpZW50KHNpZ24odmVsb2NpdHkpKSA8IDAgPyByZXdpbmQgPyBcIjxcIiA6IFwiLVwiIDogcmV3aW5kID8gXCI+XCIgOiBcIitcIik7XG4gICAgfSBlbHNlIGlmIChTcGxpZGUyMi5pcyhTTElERSkgJiYgZXhjZWVkZWQgJiYgcmV3aW5kKSB7XG4gICAgICBDb250cm9sbGVyMi5nbyhleGNlZWRlZExpbWl0KHRydWUpID8gXCI+XCIgOiBcIjxcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIENvbnRyb2xsZXIyLmdvKENvbnRyb2xsZXIyLnRvRGVzdChkZXN0aW5hdGlvbiksIHRydWUpO1xuICAgIH1cbiAgICByZWR1Y2UodHJ1ZSk7XG4gIH1cbiAgZnVuY3Rpb24gc2hvdWxkU3RhcnQoZSkge1xuICAgIHZhciB0aHJlc2hvbGRzID0gb3B0aW9ucy5kcmFnTWluVGhyZXNob2xkO1xuICAgIHZhciBpc09iaiA9IGlzT2JqZWN0KHRocmVzaG9sZHMpO1xuICAgIHZhciBtb3VzZSA9IGlzT2JqICYmIHRocmVzaG9sZHMubW91c2UgfHwgMDtcbiAgICB2YXIgdG91Y2ggPSAoaXNPYmogPyB0aHJlc2hvbGRzLnRvdWNoIDogK3RocmVzaG9sZHMpIHx8IDEwO1xuICAgIHJldHVybiBhYnMoZGlmZkNvb3JkKGUpKSA+IChpc1RvdWNoRXZlbnQoZSkgPyB0b3VjaCA6IG1vdXNlKTtcbiAgfVxuICBmdW5jdGlvbiBpc1NsaWRlckRpcmVjdGlvbihlKSB7XG4gICAgcmV0dXJuIGFicyhkaWZmQ29vcmQoZSkpID4gYWJzKGRpZmZDb29yZChlLCB0cnVlKSk7XG4gIH1cbiAgZnVuY3Rpb24gY29tcHV0ZVZlbG9jaXR5KGUpIHtcbiAgICBpZiAoU3BsaWRlMjIuaXMoTE9PUCkgfHwgIWV4Y2VlZGVkKSB7XG4gICAgICB2YXIgdGltZSA9IGRpZmZUaW1lKGUpO1xuICAgICAgaWYgKHRpbWUgJiYgdGltZSA8IExPR19JTlRFUlZBTCkge1xuICAgICAgICByZXR1cm4gZGlmZkNvb3JkKGUpIC8gdGltZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgZnVuY3Rpb24gY29tcHV0ZURlc3RpbmF0aW9uKHZlbG9jaXR5KSB7XG4gICAgcmV0dXJuIGdldFBvc2l0aW9uKCkgKyBzaWduKHZlbG9jaXR5KSAqIG1pbihhYnModmVsb2NpdHkpICogKG9wdGlvbnMuZmxpY2tQb3dlciB8fCA2MDApLCBpc0ZyZWUgPyBJbmZpbml0eSA6IENvbXBvbmVudHMyLkxheW91dC5saXN0U2l6ZSgpICogKG9wdGlvbnMuZmxpY2tNYXhQYWdlcyB8fCAxKSk7XG4gIH1cbiAgZnVuY3Rpb24gZGlmZkNvb3JkKGUsIG9ydGhvZ29uYWwpIHtcbiAgICByZXR1cm4gY29vcmRPZihlLCBvcnRob2dvbmFsKSAtIGNvb3JkT2YoZ2V0QmFzZUV2ZW50KGUpLCBvcnRob2dvbmFsKTtcbiAgfVxuICBmdW5jdGlvbiBkaWZmVGltZShlKSB7XG4gICAgcmV0dXJuIHRpbWVPZihlKSAtIHRpbWVPZihnZXRCYXNlRXZlbnQoZSkpO1xuICB9XG4gIGZ1bmN0aW9uIGdldEJhc2VFdmVudChlKSB7XG4gICAgcmV0dXJuIGJhc2VFdmVudCA9PT0gZSAmJiBwcmV2QmFzZUV2ZW50IHx8IGJhc2VFdmVudDtcbiAgfVxuICBmdW5jdGlvbiBjb29yZE9mKGUsIG9ydGhvZ29uYWwpIHtcbiAgICByZXR1cm4gKGlzVG91Y2hFdmVudChlKSA/IGUuY2hhbmdlZFRvdWNoZXNbMF0gOiBlKVtcInBhZ2VcIiArIHJlc29sdmUob3J0aG9nb25hbCA/IFwiWVwiIDogXCJYXCIpXTtcbiAgfVxuICBmdW5jdGlvbiBjb25zdHJhaW4oZGlmZikge1xuICAgIHJldHVybiBkaWZmIC8gKGV4Y2VlZGVkICYmIFNwbGlkZTIyLmlzKFNMSURFKSA/IEZSSUNUSU9OIDogMSk7XG4gIH1cbiAgZnVuY3Rpb24gaXNEcmFnZ2FibGUodGFyZ2V0Mikge1xuICAgIHZhciBub0RyYWcgPSBvcHRpb25zLm5vRHJhZztcbiAgICByZXR1cm4gIW1hdGNoZXModGFyZ2V0MiwgXCIuXCIgKyBDTEFTU19QQUdJTkFUSU9OX1BBR0UgKyBcIiwgLlwiICsgQ0xBU1NfQVJST1cpICYmICghbm9EcmFnIHx8ICFtYXRjaGVzKHRhcmdldDIsIG5vRHJhZykpO1xuICB9XG4gIGZ1bmN0aW9uIGlzVG91Y2hFdmVudChlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBUb3VjaEV2ZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIGUgaW5zdGFuY2VvZiBUb3VjaEV2ZW50O1xuICB9XG4gIGZ1bmN0aW9uIGlzRHJhZ2dpbmcoKSB7XG4gICAgcmV0dXJuIGRyYWdnaW5nO1xuICB9XG4gIGZ1bmN0aW9uIGRpc2FibGUodmFsdWUpIHtcbiAgICBkaXNhYmxlZCA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB7XG4gICAgbW91bnQsXG4gICAgZGlzYWJsZSxcbiAgICBpc0RyYWdnaW5nXG4gIH07XG59XG52YXIgTk9STUFMSVpBVElPTl9NQVAgPSB7XG4gIFNwYWNlYmFyOiBcIiBcIixcbiAgUmlnaHQ6IEFSUk9XX1JJR0hULFxuICBMZWZ0OiBBUlJPV19MRUZULFxuICBVcDogQVJST1dfVVAsXG4gIERvd246IEFSUk9XX0RPV05cbn07XG5mdW5jdGlvbiBub3JtYWxpemVLZXkoa2V5KSB7XG4gIGtleSA9IGlzU3RyaW5nKGtleSkgPyBrZXkgOiBrZXkua2V5O1xuICByZXR1cm4gTk9STUFMSVpBVElPTl9NQVBba2V5XSB8fCBrZXk7XG59XG52YXIgS0VZQk9BUkRfRVZFTlQgPSBcImtleWRvd25cIjtcbmZ1bmN0aW9uIEtleWJvYXJkKFNwbGlkZTIyLCBDb21wb25lbnRzMiwgb3B0aW9ucykge1xuICB2YXIgX0V2ZW50SW50ZXJmYWNlMTAgPSBFdmVudEludGVyZmFjZShTcGxpZGUyMiksIG9uID0gX0V2ZW50SW50ZXJmYWNlMTAub24sIGJpbmQgPSBfRXZlbnRJbnRlcmZhY2UxMC5iaW5kLCB1bmJpbmQgPSBfRXZlbnRJbnRlcmZhY2UxMC51bmJpbmQ7XG4gIHZhciByb290ID0gU3BsaWRlMjIucm9vdDtcbiAgdmFyIHJlc29sdmUgPSBDb21wb25lbnRzMi5EaXJlY3Rpb24ucmVzb2x2ZTtcbiAgdmFyIHRhcmdldDtcbiAgdmFyIGRpc2FibGVkO1xuICBmdW5jdGlvbiBtb3VudCgpIHtcbiAgICBpbml0KCk7XG4gICAgb24oRVZFTlRfVVBEQVRFRCwgZGVzdHJveSk7XG4gICAgb24oRVZFTlRfVVBEQVRFRCwgaW5pdCk7XG4gICAgb24oRVZFTlRfTU9WRSwgb25Nb3ZlKTtcbiAgfVxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBrZXlib2FyZCA9IG9wdGlvbnMua2V5Ym9hcmQ7XG4gICAgaWYgKGtleWJvYXJkKSB7XG4gICAgICB0YXJnZXQgPSBrZXlib2FyZCA9PT0gXCJnbG9iYWxcIiA/IHdpbmRvdyA6IHJvb3Q7XG4gICAgICBiaW5kKHRhcmdldCwgS0VZQk9BUkRfRVZFTlQsIG9uS2V5ZG93bik7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdW5iaW5kKHRhcmdldCwgS0VZQk9BUkRfRVZFTlQpO1xuICB9XG4gIGZ1bmN0aW9uIGRpc2FibGUodmFsdWUpIHtcbiAgICBkaXNhYmxlZCA9IHZhbHVlO1xuICB9XG4gIGZ1bmN0aW9uIG9uTW92ZSgpIHtcbiAgICB2YXIgX2Rpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgZGlzYWJsZWQgPSB0cnVlO1xuICAgIG5leHRUaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgZGlzYWJsZWQgPSBfZGlzYWJsZWQ7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gb25LZXlkb3duKGUpIHtcbiAgICBpZiAoIWRpc2FibGVkKSB7XG4gICAgICB2YXIga2V5ID0gbm9ybWFsaXplS2V5KGUpO1xuICAgICAgaWYgKGtleSA9PT0gcmVzb2x2ZShBUlJPV19MRUZUKSkge1xuICAgICAgICBTcGxpZGUyMi5nbyhcIjxcIik7XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gcmVzb2x2ZShBUlJPV19SSUdIVCkpIHtcbiAgICAgICAgU3BsaWRlMjIuZ28oXCI+XCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIG1vdW50LFxuICAgIGRlc3Ryb3ksXG4gICAgZGlzYWJsZVxuICB9O1xufVxudmFyIFNSQ19EQVRBX0FUVFJJQlVURSA9IERBVEFfQVRUUklCVVRFICsgXCItbGF6eVwiO1xudmFyIFNSQ1NFVF9EQVRBX0FUVFJJQlVURSA9IFNSQ19EQVRBX0FUVFJJQlVURSArIFwiLXNyY3NldFwiO1xudmFyIElNQUdFX1NFTEVDVE9SID0gXCJbXCIgKyBTUkNfREFUQV9BVFRSSUJVVEUgKyBcIl0sIFtcIiArIFNSQ1NFVF9EQVRBX0FUVFJJQlVURSArIFwiXVwiO1xuZnVuY3Rpb24gTGF6eUxvYWQoU3BsaWRlMjIsIENvbXBvbmVudHMyLCBvcHRpb25zKSB7XG4gIHZhciBfRXZlbnRJbnRlcmZhY2UxMSA9IEV2ZW50SW50ZXJmYWNlKFNwbGlkZTIyKSwgb24gPSBfRXZlbnRJbnRlcmZhY2UxMS5vbiwgb2ZmID0gX0V2ZW50SW50ZXJmYWNlMTEub2ZmLCBiaW5kID0gX0V2ZW50SW50ZXJmYWNlMTEuYmluZCwgZW1pdCA9IF9FdmVudEludGVyZmFjZTExLmVtaXQ7XG4gIHZhciBpc1NlcXVlbnRpYWwgPSBvcHRpb25zLmxhenlMb2FkID09PSBcInNlcXVlbnRpYWxcIjtcbiAgdmFyIGV2ZW50cyA9IFtFVkVOVF9NT1ZFRCwgRVZFTlRfU0NST0xMRURdO1xuICB2YXIgZW50cmllcyA9IFtdO1xuICBmdW5jdGlvbiBtb3VudCgpIHtcbiAgICBpZiAob3B0aW9ucy5sYXp5TG9hZCkge1xuICAgICAgaW5pdCgpO1xuICAgICAgb24oRVZFTlRfUkVGUkVTSCwgaW5pdCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgZW1wdHkoZW50cmllcyk7XG4gICAgcmVnaXN0ZXIoKTtcbiAgICBpZiAoaXNTZXF1ZW50aWFsKSB7XG4gICAgICBsb2FkTmV4dCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvZmYoZXZlbnRzKTtcbiAgICAgIG9uKGV2ZW50cywgY2hlY2spO1xuICAgICAgY2hlY2soKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVnaXN0ZXIoKSB7XG4gICAgQ29tcG9uZW50czIuU2xpZGVzLmZvckVhY2goZnVuY3Rpb24oU2xpZGUyKSB7XG4gICAgICBxdWVyeUFsbChTbGlkZTIuc2xpZGUsIElNQUdFX1NFTEVDVE9SKS5mb3JFYWNoKGZ1bmN0aW9uKGltZykge1xuICAgICAgICB2YXIgc3JjID0gZ2V0QXR0cmlidXRlKGltZywgU1JDX0RBVEFfQVRUUklCVVRFKTtcbiAgICAgICAgdmFyIHNyY3NldCA9IGdldEF0dHJpYnV0ZShpbWcsIFNSQ1NFVF9EQVRBX0FUVFJJQlVURSk7XG4gICAgICAgIGlmIChzcmMgIT09IGltZy5zcmMgfHwgc3Jjc2V0ICE9PSBpbWcuc3Jjc2V0KSB7XG4gICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IG9wdGlvbnMuY2xhc3Nlcy5zcGlubmVyO1xuICAgICAgICAgIHZhciBwYXJlbnQgPSBpbWcucGFyZW50RWxlbWVudDtcbiAgICAgICAgICB2YXIgc3Bpbm5lciA9IGNoaWxkKHBhcmVudCwgXCIuXCIgKyBjbGFzc05hbWUpIHx8IGNyZWF0ZShcInNwYW5cIiwgY2xhc3NOYW1lLCBwYXJlbnQpO1xuICAgICAgICAgIGVudHJpZXMucHVzaChbaW1nLCBTbGlkZTIsIHNwaW5uZXJdKTtcbiAgICAgICAgICBpbWcuc3JjIHx8IGRpc3BsYXkoaW1nLCBcIm5vbmVcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGNoZWNrKCkge1xuICAgIGVudHJpZXMgPSBlbnRyaWVzLmZpbHRlcihmdW5jdGlvbihkYXRhKSB7XG4gICAgICB2YXIgZGlzdGFuY2UgPSBvcHRpb25zLnBlclBhZ2UgKiAoKG9wdGlvbnMucHJlbG9hZFBhZ2VzIHx8IDEpICsgMSkgLSAxO1xuICAgICAgcmV0dXJuIGRhdGFbMV0uaXNXaXRoaW4oU3BsaWRlMjIuaW5kZXgsIGRpc3RhbmNlKSA/IGxvYWQoZGF0YSkgOiB0cnVlO1xuICAgIH0pO1xuICAgIGVudHJpZXMubGVuZ3RoIHx8IG9mZihldmVudHMpO1xuICB9XG4gIGZ1bmN0aW9uIGxvYWQoZGF0YSkge1xuICAgIHZhciBpbWcgPSBkYXRhWzBdO1xuICAgIGFkZENsYXNzKGRhdGFbMV0uc2xpZGUsIENMQVNTX0xPQURJTkcpO1xuICAgIGJpbmQoaW1nLCBcImxvYWQgZXJyb3JcIiwgYXBwbHkob25Mb2FkLCBkYXRhKSk7XG4gICAgc2V0QXR0cmlidXRlKGltZywgXCJzcmNcIiwgZ2V0QXR0cmlidXRlKGltZywgU1JDX0RBVEFfQVRUUklCVVRFKSk7XG4gICAgc2V0QXR0cmlidXRlKGltZywgXCJzcmNzZXRcIiwgZ2V0QXR0cmlidXRlKGltZywgU1JDU0VUX0RBVEFfQVRUUklCVVRFKSk7XG4gICAgcmVtb3ZlQXR0cmlidXRlKGltZywgU1JDX0RBVEFfQVRUUklCVVRFKTtcbiAgICByZW1vdmVBdHRyaWJ1dGUoaW1nLCBTUkNTRVRfREFUQV9BVFRSSUJVVEUpO1xuICB9XG4gIGZ1bmN0aW9uIG9uTG9hZChkYXRhLCBlKSB7XG4gICAgdmFyIGltZyA9IGRhdGFbMF0sIFNsaWRlMiA9IGRhdGFbMV07XG4gICAgcmVtb3ZlQ2xhc3MoU2xpZGUyLnNsaWRlLCBDTEFTU19MT0FESU5HKTtcbiAgICBpZiAoZS50eXBlICE9PSBcImVycm9yXCIpIHtcbiAgICAgIHJlbW92ZShkYXRhWzJdKTtcbiAgICAgIGRpc3BsYXkoaW1nLCBcIlwiKTtcbiAgICAgIGVtaXQoRVZFTlRfTEFaWUxPQURfTE9BREVELCBpbWcsIFNsaWRlMik7XG4gICAgICBlbWl0KEVWRU5UX1JFU0laRSk7XG4gICAgfVxuICAgIGlzU2VxdWVudGlhbCAmJiBsb2FkTmV4dCgpO1xuICB9XG4gIGZ1bmN0aW9uIGxvYWROZXh0KCkge1xuICAgIGVudHJpZXMubGVuZ3RoICYmIGxvYWQoZW50cmllcy5zaGlmdCgpKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIG1vdW50LFxuICAgIGRlc3Ryb3k6IGFwcGx5KGVtcHR5LCBlbnRyaWVzKSxcbiAgICBjaGVja1xuICB9O1xufVxuZnVuY3Rpb24gUGFnaW5hdGlvbihTcGxpZGUyMiwgQ29tcG9uZW50czIsIG9wdGlvbnMpIHtcbiAgdmFyIGV2ZW50ID0gRXZlbnRJbnRlcmZhY2UoU3BsaWRlMjIpO1xuICB2YXIgb24gPSBldmVudC5vbiwgZW1pdCA9IGV2ZW50LmVtaXQsIGJpbmQgPSBldmVudC5iaW5kO1xuICB2YXIgU2xpZGVzMiA9IENvbXBvbmVudHMyLlNsaWRlcywgRWxlbWVudHMyID0gQ29tcG9uZW50czIuRWxlbWVudHMsIENvbnRyb2xsZXIyID0gQ29tcG9uZW50czIuQ29udHJvbGxlcjtcbiAgdmFyIGhhc0ZvY3VzID0gQ29udHJvbGxlcjIuaGFzRm9jdXMsIGdldEluZGV4ID0gQ29udHJvbGxlcjIuZ2V0SW5kZXgsIGdvID0gQ29udHJvbGxlcjIuZ287XG4gIHZhciByZXNvbHZlID0gQ29tcG9uZW50czIuRGlyZWN0aW9uLnJlc29sdmU7XG4gIHZhciBwbGFjZWhvbGRlciA9IEVsZW1lbnRzMi5wYWdpbmF0aW9uO1xuICB2YXIgaXRlbXMgPSBbXTtcbiAgdmFyIGxpc3Q7XG4gIHZhciBwYWdpbmF0aW9uQ2xhc3NlcztcbiAgZnVuY3Rpb24gbW91bnQoKSB7XG4gICAgZGVzdHJveSgpO1xuICAgIG9uKFtFVkVOVF9VUERBVEVELCBFVkVOVF9SRUZSRVNILCBFVkVOVF9FTkRfSU5ERVhfQ0hBTkdFRF0sIG1vdW50KTtcbiAgICB2YXIgZW5hYmxlZCA9IG9wdGlvbnMucGFnaW5hdGlvbjtcbiAgICBwbGFjZWhvbGRlciAmJiBkaXNwbGF5KHBsYWNlaG9sZGVyLCBlbmFibGVkID8gXCJcIiA6IFwibm9uZVwiKTtcbiAgICBpZiAoZW5hYmxlZCkge1xuICAgICAgb24oW0VWRU5UX01PVkUsIEVWRU5UX1NDUk9MTCwgRVZFTlRfU0NST0xMRURdLCB1cGRhdGUpO1xuICAgICAgY3JlYXRlUGFnaW5hdGlvbigpO1xuICAgICAgdXBkYXRlKCk7XG4gICAgICBlbWl0KEVWRU5UX1BBR0lOQVRJT05fTU9VTlRFRCwge1xuICAgICAgICBsaXN0LFxuICAgICAgICBpdGVtc1xuICAgICAgfSwgZ2V0QXQoU3BsaWRlMjIuaW5kZXgpKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBpZiAobGlzdCkge1xuICAgICAgcmVtb3ZlKHBsYWNlaG9sZGVyID8gc2xpY2UobGlzdC5jaGlsZHJlbikgOiBsaXN0KTtcbiAgICAgIHJlbW92ZUNsYXNzKGxpc3QsIHBhZ2luYXRpb25DbGFzc2VzKTtcbiAgICAgIGVtcHR5KGl0ZW1zKTtcbiAgICAgIGxpc3QgPSBudWxsO1xuICAgIH1cbiAgICBldmVudC5kZXN0cm95KCk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlUGFnaW5hdGlvbigpIHtcbiAgICB2YXIgbGVuZ3RoID0gU3BsaWRlMjIubGVuZ3RoO1xuICAgIHZhciBjbGFzc2VzID0gb3B0aW9ucy5jbGFzc2VzLCBpMThuID0gb3B0aW9ucy5pMThuLCBwZXJQYWdlID0gb3B0aW9ucy5wZXJQYWdlO1xuICAgIHZhciBtYXgyID0gaGFzRm9jdXMoKSA/IENvbnRyb2xsZXIyLmdldEVuZCgpICsgMSA6IGNlaWwobGVuZ3RoIC8gcGVyUGFnZSk7XG4gICAgbGlzdCA9IHBsYWNlaG9sZGVyIHx8IGNyZWF0ZShcInVsXCIsIGNsYXNzZXMucGFnaW5hdGlvbiwgRWxlbWVudHMyLnRyYWNrLnBhcmVudEVsZW1lbnQpO1xuICAgIGFkZENsYXNzKGxpc3QsIHBhZ2luYXRpb25DbGFzc2VzID0gQ0xBU1NfUEFHSU5BVElPTiArIFwiLS1cIiArIGdldERpcmVjdGlvbigpKTtcbiAgICBzZXRBdHRyaWJ1dGUobGlzdCwgUk9MRSwgXCJ0YWJsaXN0XCIpO1xuICAgIHNldEF0dHJpYnV0ZShsaXN0LCBBUklBX0xBQkVMLCBpMThuLnNlbGVjdCk7XG4gICAgc2V0QXR0cmlidXRlKGxpc3QsIEFSSUFfT1JJRU5UQVRJT04sIGdldERpcmVjdGlvbigpID09PSBUVEIgPyBcInZlcnRpY2FsXCIgOiBcIlwiKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heDI7IGkrKykge1xuICAgICAgdmFyIGxpID0gY3JlYXRlKFwibGlcIiwgbnVsbCwgbGlzdCk7XG4gICAgICB2YXIgYnV0dG9uID0gY3JlYXRlKFwiYnV0dG9uXCIsIHtcbiAgICAgICAgY2xhc3M6IGNsYXNzZXMucGFnZSxcbiAgICAgICAgdHlwZTogXCJidXR0b25cIlxuICAgICAgfSwgbGkpO1xuICAgICAgdmFyIGNvbnRyb2xzID0gU2xpZGVzMi5nZXRJbihpKS5tYXAoZnVuY3Rpb24oU2xpZGUyKSB7XG4gICAgICAgIHJldHVybiBTbGlkZTIuc2xpZGUuaWQ7XG4gICAgICB9KTtcbiAgICAgIHZhciB0ZXh0ID0gIWhhc0ZvY3VzKCkgJiYgcGVyUGFnZSA+IDEgPyBpMThuLnBhZ2VYIDogaTE4bi5zbGlkZVg7XG4gICAgICBiaW5kKGJ1dHRvbiwgXCJjbGlja1wiLCBhcHBseShvbkNsaWNrLCBpKSk7XG4gICAgICBpZiAob3B0aW9ucy5wYWdpbmF0aW9uS2V5Ym9hcmQpIHtcbiAgICAgICAgYmluZChidXR0b24sIFwia2V5ZG93blwiLCBhcHBseShvbktleWRvd24sIGkpKTtcbiAgICAgIH1cbiAgICAgIHNldEF0dHJpYnV0ZShsaSwgUk9MRSwgXCJwcmVzZW50YXRpb25cIik7XG4gICAgICBzZXRBdHRyaWJ1dGUoYnV0dG9uLCBST0xFLCBcInRhYlwiKTtcbiAgICAgIHNldEF0dHJpYnV0ZShidXR0b24sIEFSSUFfQ09OVFJPTFMsIGNvbnRyb2xzLmpvaW4oXCIgXCIpKTtcbiAgICAgIHNldEF0dHJpYnV0ZShidXR0b24sIEFSSUFfTEFCRUwsIGZvcm1hdCh0ZXh0LCBpICsgMSkpO1xuICAgICAgc2V0QXR0cmlidXRlKGJ1dHRvbiwgVEFCX0lOREVYLCAtMSk7XG4gICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgbGksXG4gICAgICAgIGJ1dHRvbixcbiAgICAgICAgcGFnZTogaVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG9uQ2xpY2socGFnZSkge1xuICAgIGdvKFwiPlwiICsgcGFnZSwgdHJ1ZSk7XG4gIH1cbiAgZnVuY3Rpb24gb25LZXlkb3duKHBhZ2UsIGUpIHtcbiAgICB2YXIgbGVuZ3RoID0gaXRlbXMubGVuZ3RoO1xuICAgIHZhciBrZXkgPSBub3JtYWxpemVLZXkoZSk7XG4gICAgdmFyIGRpciA9IGdldERpcmVjdGlvbigpO1xuICAgIHZhciBuZXh0UGFnZSA9IC0xO1xuICAgIGlmIChrZXkgPT09IHJlc29sdmUoQVJST1dfUklHSFQsIGZhbHNlLCBkaXIpKSB7XG4gICAgICBuZXh0UGFnZSA9ICsrcGFnZSAlIGxlbmd0aDtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gcmVzb2x2ZShBUlJPV19MRUZULCBmYWxzZSwgZGlyKSkge1xuICAgICAgbmV4dFBhZ2UgPSAoLS1wYWdlICsgbGVuZ3RoKSAlIGxlbmd0aDtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJIb21lXCIpIHtcbiAgICAgIG5leHRQYWdlID0gMDtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJFbmRcIikge1xuICAgICAgbmV4dFBhZ2UgPSBsZW5ndGggLSAxO1xuICAgIH1cbiAgICB2YXIgaXRlbSA9IGl0ZW1zW25leHRQYWdlXTtcbiAgICBpZiAoaXRlbSkge1xuICAgICAgZm9jdXMoaXRlbS5idXR0b24pO1xuICAgICAgZ28oXCI+XCIgKyBuZXh0UGFnZSk7XG4gICAgICBwcmV2ZW50KGUsIHRydWUpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZXREaXJlY3Rpb24oKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMucGFnaW5hdGlvbkRpcmVjdGlvbiB8fCBvcHRpb25zLmRpcmVjdGlvbjtcbiAgfVxuICBmdW5jdGlvbiBnZXRBdChpbmRleCkge1xuICAgIHJldHVybiBpdGVtc1tDb250cm9sbGVyMi50b1BhZ2UoaW5kZXgpXTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgdmFyIHByZXYgPSBnZXRBdChnZXRJbmRleCh0cnVlKSk7XG4gICAgdmFyIGN1cnIgPSBnZXRBdChnZXRJbmRleCgpKTtcbiAgICBpZiAocHJldikge1xuICAgICAgdmFyIGJ1dHRvbiA9IHByZXYuYnV0dG9uO1xuICAgICAgcmVtb3ZlQ2xhc3MoYnV0dG9uLCBDTEFTU19BQ1RJVkUpO1xuICAgICAgcmVtb3ZlQXR0cmlidXRlKGJ1dHRvbiwgQVJJQV9TRUxFQ1RFRCk7XG4gICAgICBzZXRBdHRyaWJ1dGUoYnV0dG9uLCBUQUJfSU5ERVgsIC0xKTtcbiAgICB9XG4gICAgaWYgKGN1cnIpIHtcbiAgICAgIHZhciBfYnV0dG9uID0gY3Vyci5idXR0b247XG4gICAgICBhZGRDbGFzcyhfYnV0dG9uLCBDTEFTU19BQ1RJVkUpO1xuICAgICAgc2V0QXR0cmlidXRlKF9idXR0b24sIEFSSUFfU0VMRUNURUQsIHRydWUpO1xuICAgICAgc2V0QXR0cmlidXRlKF9idXR0b24sIFRBQl9JTkRFWCwgXCJcIik7XG4gICAgfVxuICAgIGVtaXQoRVZFTlRfUEFHSU5BVElPTl9VUERBVEVELCB7XG4gICAgICBsaXN0LFxuICAgICAgaXRlbXNcbiAgICB9LCBwcmV2LCBjdXJyKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGl0ZW1zLFxuICAgIG1vdW50LFxuICAgIGRlc3Ryb3ksXG4gICAgZ2V0QXQsXG4gICAgdXBkYXRlXG4gIH07XG59XG52YXIgVFJJR0dFUl9LRVlTID0gW1wiIFwiLCBcIkVudGVyXCJdO1xuZnVuY3Rpb24gU3luYyhTcGxpZGUyMiwgQ29tcG9uZW50czIsIG9wdGlvbnMpIHtcbiAgdmFyIGlzTmF2aWdhdGlvbiA9IG9wdGlvbnMuaXNOYXZpZ2F0aW9uLCBzbGlkZUZvY3VzID0gb3B0aW9ucy5zbGlkZUZvY3VzO1xuICB2YXIgZXZlbnRzID0gW107XG4gIGZ1bmN0aW9uIG1vdW50KCkge1xuICAgIFNwbGlkZTIyLnNwbGlkZXMuZm9yRWFjaChmdW5jdGlvbih0YXJnZXQpIHtcbiAgICAgIGlmICghdGFyZ2V0LmlzUGFyZW50KSB7XG4gICAgICAgIHN5bmMoU3BsaWRlMjIsIHRhcmdldC5zcGxpZGUpO1xuICAgICAgICBzeW5jKHRhcmdldC5zcGxpZGUsIFNwbGlkZTIyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoaXNOYXZpZ2F0aW9uKSB7XG4gICAgICBuYXZpZ2F0ZSgpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBldmVudC5kZXN0cm95KCk7XG4gICAgfSk7XG4gICAgZW1wdHkoZXZlbnRzKTtcbiAgfVxuICBmdW5jdGlvbiByZW1vdW50KCkge1xuICAgIGRlc3Ryb3koKTtcbiAgICBtb3VudCgpO1xuICB9XG4gIGZ1bmN0aW9uIHN5bmMoc3BsaWRlLCB0YXJnZXQpIHtcbiAgICB2YXIgZXZlbnQgPSBFdmVudEludGVyZmFjZShzcGxpZGUpO1xuICAgIGV2ZW50Lm9uKEVWRU5UX01PVkUsIGZ1bmN0aW9uKGluZGV4LCBwcmV2LCBkZXN0KSB7XG4gICAgICB0YXJnZXQuZ28odGFyZ2V0LmlzKExPT1ApID8gZGVzdCA6IGluZGV4KTtcbiAgICB9KTtcbiAgICBldmVudHMucHVzaChldmVudCk7XG4gIH1cbiAgZnVuY3Rpb24gbmF2aWdhdGUoKSB7XG4gICAgdmFyIGV2ZW50ID0gRXZlbnRJbnRlcmZhY2UoU3BsaWRlMjIpO1xuICAgIHZhciBvbiA9IGV2ZW50Lm9uO1xuICAgIG9uKEVWRU5UX0NMSUNLLCBvbkNsaWNrKTtcbiAgICBvbihFVkVOVF9TTElERV9LRVlET1dOLCBvbktleWRvd24pO1xuICAgIG9uKFtFVkVOVF9NT1VOVEVELCBFVkVOVF9VUERBVEVEXSwgdXBkYXRlKTtcbiAgICBldmVudHMucHVzaChldmVudCk7XG4gICAgZXZlbnQuZW1pdChFVkVOVF9OQVZJR0FUSU9OX01PVU5URUQsIFNwbGlkZTIyLnNwbGlkZXMpO1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICBzZXRBdHRyaWJ1dGUoQ29tcG9uZW50czIuRWxlbWVudHMubGlzdCwgQVJJQV9PUklFTlRBVElPTiwgb3B0aW9ucy5kaXJlY3Rpb24gPT09IFRUQiA/IFwidmVydGljYWxcIiA6IFwiXCIpO1xuICB9XG4gIGZ1bmN0aW9uIG9uQ2xpY2soU2xpZGUyKSB7XG4gICAgU3BsaWRlMjIuZ28oU2xpZGUyLmluZGV4KTtcbiAgfVxuICBmdW5jdGlvbiBvbktleWRvd24oU2xpZGUyLCBlKSB7XG4gICAgaWYgKGluY2x1ZGVzKFRSSUdHRVJfS0VZUywgbm9ybWFsaXplS2V5KGUpKSkge1xuICAgICAgb25DbGljayhTbGlkZTIpO1xuICAgICAgcHJldmVudChlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBzZXR1cDogYXBwbHkoQ29tcG9uZW50czIuTWVkaWEuc2V0LCB7XG4gICAgICBzbGlkZUZvY3VzOiBpc1VuZGVmaW5lZChzbGlkZUZvY3VzKSA/IGlzTmF2aWdhdGlvbiA6IHNsaWRlRm9jdXNcbiAgICB9LCB0cnVlKSxcbiAgICBtb3VudCxcbiAgICBkZXN0cm95LFxuICAgIHJlbW91bnRcbiAgfTtcbn1cbmZ1bmN0aW9uIFdoZWVsKFNwbGlkZTIyLCBDb21wb25lbnRzMiwgb3B0aW9ucykge1xuICB2YXIgX0V2ZW50SW50ZXJmYWNlMTIgPSBFdmVudEludGVyZmFjZShTcGxpZGUyMiksIGJpbmQgPSBfRXZlbnRJbnRlcmZhY2UxMi5iaW5kO1xuICB2YXIgbGFzdFRpbWUgPSAwO1xuICBmdW5jdGlvbiBtb3VudCgpIHtcbiAgICBpZiAob3B0aW9ucy53aGVlbCkge1xuICAgICAgYmluZChDb21wb25lbnRzMi5FbGVtZW50cy50cmFjaywgXCJ3aGVlbFwiLCBvbldoZWVsLCBTQ1JPTExfTElTVEVORVJfT1BUSU9OUyk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG9uV2hlZWwoZSkge1xuICAgIGlmIChlLmNhbmNlbGFibGUpIHtcbiAgICAgIHZhciBkZWx0YVkgPSBlLmRlbHRhWTtcbiAgICAgIHZhciBiYWNrd2FyZHMgPSBkZWx0YVkgPCAwO1xuICAgICAgdmFyIHRpbWVTdGFtcCA9IHRpbWVPZihlKTtcbiAgICAgIHZhciBfbWluID0gb3B0aW9ucy53aGVlbE1pblRocmVzaG9sZCB8fCAwO1xuICAgICAgdmFyIHNsZWVwID0gb3B0aW9ucy53aGVlbFNsZWVwIHx8IDA7XG4gICAgICBpZiAoYWJzKGRlbHRhWSkgPiBfbWluICYmIHRpbWVTdGFtcCAtIGxhc3RUaW1lID4gc2xlZXApIHtcbiAgICAgICAgU3BsaWRlMjIuZ28oYmFja3dhcmRzID8gXCI8XCIgOiBcIj5cIik7XG4gICAgICAgIGxhc3RUaW1lID0gdGltZVN0YW1wO1xuICAgICAgfVxuICAgICAgc2hvdWxkUHJldmVudChiYWNrd2FyZHMpICYmIHByZXZlbnQoZSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHNob3VsZFByZXZlbnQoYmFja3dhcmRzKSB7XG4gICAgcmV0dXJuICFvcHRpb25zLnJlbGVhc2VXaGVlbCB8fCBTcGxpZGUyMi5zdGF0ZS5pcyhNT1ZJTkcpIHx8IENvbXBvbmVudHMyLkNvbnRyb2xsZXIuZ2V0QWRqYWNlbnQoYmFja3dhcmRzKSAhPT0gLTE7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBtb3VudFxuICB9O1xufVxudmFyIFNSX1JFTU9WQUxfREVMQVkgPSA5MDtcbmZ1bmN0aW9uIExpdmUoU3BsaWRlMjIsIENvbXBvbmVudHMyLCBvcHRpb25zKSB7XG4gIHZhciBfRXZlbnRJbnRlcmZhY2UxMyA9IEV2ZW50SW50ZXJmYWNlKFNwbGlkZTIyKSwgb24gPSBfRXZlbnRJbnRlcmZhY2UxMy5vbjtcbiAgdmFyIHRyYWNrID0gQ29tcG9uZW50czIuRWxlbWVudHMudHJhY2s7XG4gIHZhciBlbmFibGVkID0gb3B0aW9ucy5saXZlICYmICFvcHRpb25zLmlzTmF2aWdhdGlvbjtcbiAgdmFyIHNyID0gY3JlYXRlKFwic3BhblwiLCBDTEFTU19TUik7XG4gIHZhciBpbnRlcnZhbCA9IFJlcXVlc3RJbnRlcnZhbChTUl9SRU1PVkFMX0RFTEFZLCBhcHBseSh0b2dnbGUsIGZhbHNlKSk7XG4gIGZ1bmN0aW9uIG1vdW50KCkge1xuICAgIGlmIChlbmFibGVkKSB7XG4gICAgICBkaXNhYmxlKCFDb21wb25lbnRzMi5BdXRvcGxheS5pc1BhdXNlZCgpKTtcbiAgICAgIHNldEF0dHJpYnV0ZSh0cmFjaywgQVJJQV9BVE9NSUMsIHRydWUpO1xuICAgICAgc3IudGV4dENvbnRlbnQgPSBcIlxcdTIwMjZcIjtcbiAgICAgIG9uKEVWRU5UX0FVVE9QTEFZX1BMQVksIGFwcGx5KGRpc2FibGUsIHRydWUpKTtcbiAgICAgIG9uKEVWRU5UX0FVVE9QTEFZX1BBVVNFLCBhcHBseShkaXNhYmxlLCBmYWxzZSkpO1xuICAgICAgb24oW0VWRU5UX01PVkVELCBFVkVOVF9TQ1JPTExFRF0sIGFwcGx5KHRvZ2dsZSwgdHJ1ZSkpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB0b2dnbGUoYWN0aXZlKSB7XG4gICAgc2V0QXR0cmlidXRlKHRyYWNrLCBBUklBX0JVU1ksIGFjdGl2ZSk7XG4gICAgaWYgKGFjdGl2ZSkge1xuICAgICAgYXBwZW5kKHRyYWNrLCBzcik7XG4gICAgICBpbnRlcnZhbC5zdGFydCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoc3IpO1xuICAgICAgaW50ZXJ2YWwuY2FuY2VsKCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgcmVtb3ZlQXR0cmlidXRlKHRyYWNrLCBbQVJJQV9MSVZFLCBBUklBX0FUT01JQywgQVJJQV9CVVNZXSk7XG4gICAgcmVtb3ZlKHNyKTtcbiAgfVxuICBmdW5jdGlvbiBkaXNhYmxlKGRpc2FibGVkKSB7XG4gICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgIHNldEF0dHJpYnV0ZSh0cmFjaywgQVJJQV9MSVZFLCBkaXNhYmxlZCA/IFwib2ZmXCIgOiBcInBvbGl0ZVwiKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBtb3VudCxcbiAgICBkaXNhYmxlLFxuICAgIGRlc3Ryb3lcbiAgfTtcbn1cbnZhciBDb21wb25lbnRDb25zdHJ1Y3RvcnMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgTWVkaWEsXG4gIERpcmVjdGlvbixcbiAgRWxlbWVudHMsXG4gIFNsaWRlcyxcbiAgTGF5b3V0LFxuICBDbG9uZXMsXG4gIE1vdmUsXG4gIENvbnRyb2xsZXIsXG4gIEFycm93cyxcbiAgQXV0b3BsYXksXG4gIENvdmVyLFxuICBTY3JvbGwsXG4gIERyYWcsXG4gIEtleWJvYXJkLFxuICBMYXp5TG9hZCxcbiAgUGFnaW5hdGlvbixcbiAgU3luYyxcbiAgV2hlZWwsXG4gIExpdmVcbn0pO1xudmFyIEkxOE4gPSB7XG4gIHByZXY6IFwiUHJldmlvdXMgc2xpZGVcIixcbiAgbmV4dDogXCJOZXh0IHNsaWRlXCIsXG4gIGZpcnN0OiBcIkdvIHRvIGZpcnN0IHNsaWRlXCIsXG4gIGxhc3Q6IFwiR28gdG8gbGFzdCBzbGlkZVwiLFxuICBzbGlkZVg6IFwiR28gdG8gc2xpZGUgJXNcIixcbiAgcGFnZVg6IFwiR28gdG8gcGFnZSAlc1wiLFxuICBwbGF5OiBcIlN0YXJ0IGF1dG9wbGF5XCIsXG4gIHBhdXNlOiBcIlBhdXNlIGF1dG9wbGF5XCIsXG4gIGNhcm91c2VsOiBcImNhcm91c2VsXCIsXG4gIHNsaWRlOiBcInNsaWRlXCIsXG4gIHNlbGVjdDogXCJTZWxlY3QgYSBzbGlkZSB0byBzaG93XCIsXG4gIHNsaWRlTGFiZWw6IFwiJXMgb2YgJXNcIlxufTtcbnZhciBERUZBVUxUUyA9IHtcbiAgdHlwZTogXCJzbGlkZVwiLFxuICByb2xlOiBcInJlZ2lvblwiLFxuICBzcGVlZDogNDAwLFxuICBwZXJQYWdlOiAxLFxuICBjbG9uZVN0YXR1czogdHJ1ZSxcbiAgYXJyb3dzOiB0cnVlLFxuICBwYWdpbmF0aW9uOiB0cnVlLFxuICBwYWdpbmF0aW9uS2V5Ym9hcmQ6IHRydWUsXG4gIGludGVydmFsOiA1ZTMsXG4gIHBhdXNlT25Ib3ZlcjogdHJ1ZSxcbiAgcGF1c2VPbkZvY3VzOiB0cnVlLFxuICByZXNldFByb2dyZXNzOiB0cnVlLFxuICBlYXNpbmc6IFwiY3ViaWMtYmV6aWVyKDAuMjUsIDEsIDAuNSwgMSlcIixcbiAgZHJhZzogdHJ1ZSxcbiAgZGlyZWN0aW9uOiBcImx0clwiLFxuICB0cmltU3BhY2U6IHRydWUsXG4gIGZvY3VzYWJsZU5vZGVzOiBcImEsIGJ1dHRvbiwgdGV4dGFyZWEsIGlucHV0LCBzZWxlY3QsIGlmcmFtZVwiLFxuICBsaXZlOiB0cnVlLFxuICBjbGFzc2VzOiBDTEFTU0VTLFxuICBpMThuOiBJMThOLFxuICByZWR1Y2VkTW90aW9uOiB7XG4gICAgc3BlZWQ6IDAsXG4gICAgcmV3aW5kU3BlZWQ6IDAsXG4gICAgYXV0b3BsYXk6IFwicGF1c2VcIlxuICB9XG59O1xuZnVuY3Rpb24gRmFkZShTcGxpZGUyMiwgQ29tcG9uZW50czIsIG9wdGlvbnMpIHtcbiAgdmFyIFNsaWRlczIgPSBDb21wb25lbnRzMi5TbGlkZXM7XG4gIGZ1bmN0aW9uIG1vdW50KCkge1xuICAgIEV2ZW50SW50ZXJmYWNlKFNwbGlkZTIyKS5vbihbRVZFTlRfTU9VTlRFRCwgRVZFTlRfUkVGUkVTSF0sIGluaXQpO1xuICB9XG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgU2xpZGVzMi5mb3JFYWNoKGZ1bmN0aW9uKFNsaWRlMikge1xuICAgICAgU2xpZGUyLnN0eWxlKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlWCgtXCIgKyAxMDAgKiBTbGlkZTIuaW5kZXggKyBcIiUpXCIpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHN0YXJ0KGluZGV4LCBkb25lKSB7XG4gICAgU2xpZGVzMi5zdHlsZShcInRyYW5zaXRpb25cIiwgXCJvcGFjaXR5IFwiICsgb3B0aW9ucy5zcGVlZCArIFwibXMgXCIgKyBvcHRpb25zLmVhc2luZyk7XG4gICAgbmV4dFRpY2soZG9uZSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBtb3VudCxcbiAgICBzdGFydCxcbiAgICBjYW5jZWw6IG5vb3BcbiAgfTtcbn1cbmZ1bmN0aW9uIFNsaWRlKFNwbGlkZTIyLCBDb21wb25lbnRzMiwgb3B0aW9ucykge1xuICB2YXIgTW92ZTIgPSBDb21wb25lbnRzMi5Nb3ZlLCBDb250cm9sbGVyMiA9IENvbXBvbmVudHMyLkNvbnRyb2xsZXIsIFNjcm9sbDIgPSBDb21wb25lbnRzMi5TY3JvbGw7XG4gIHZhciBsaXN0ID0gQ29tcG9uZW50czIuRWxlbWVudHMubGlzdDtcbiAgdmFyIHRyYW5zaXRpb24gPSBhcHBseShzdHlsZSwgbGlzdCwgXCJ0cmFuc2l0aW9uXCIpO1xuICB2YXIgZW5kQ2FsbGJhY2s7XG4gIGZ1bmN0aW9uIG1vdW50KCkge1xuICAgIEV2ZW50SW50ZXJmYWNlKFNwbGlkZTIyKS5iaW5kKGxpc3QsIFwidHJhbnNpdGlvbmVuZFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS50YXJnZXQgPT09IGxpc3QgJiYgZW5kQ2FsbGJhY2spIHtcbiAgICAgICAgY2FuY2VsKCk7XG4gICAgICAgIGVuZENhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gc3RhcnQoaW5kZXgsIGRvbmUpIHtcbiAgICB2YXIgZGVzdGluYXRpb24gPSBNb3ZlMi50b1Bvc2l0aW9uKGluZGV4LCB0cnVlKTtcbiAgICB2YXIgcG9zaXRpb24gPSBNb3ZlMi5nZXRQb3NpdGlvbigpO1xuICAgIHZhciBzcGVlZCA9IGdldFNwZWVkKGluZGV4KTtcbiAgICBpZiAoYWJzKGRlc3RpbmF0aW9uIC0gcG9zaXRpb24pID49IDEgJiYgc3BlZWQgPj0gMSkge1xuICAgICAgaWYgKG9wdGlvbnMudXNlU2Nyb2xsKSB7XG4gICAgICAgIFNjcm9sbDIuc2Nyb2xsKGRlc3RpbmF0aW9uLCBzcGVlZCwgZmFsc2UsIGRvbmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNpdGlvbihcInRyYW5zZm9ybSBcIiArIHNwZWVkICsgXCJtcyBcIiArIG9wdGlvbnMuZWFzaW5nKTtcbiAgICAgICAgTW92ZTIudHJhbnNsYXRlKGRlc3RpbmF0aW9uLCB0cnVlKTtcbiAgICAgICAgZW5kQ2FsbGJhY2sgPSBkb25lO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBNb3ZlMi5qdW1wKGluZGV4KTtcbiAgICAgIGRvbmUoKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgIHRyYW5zaXRpb24oXCJcIik7XG4gICAgU2Nyb2xsMi5jYW5jZWwoKTtcbiAgfVxuICBmdW5jdGlvbiBnZXRTcGVlZChpbmRleCkge1xuICAgIHZhciByZXdpbmRTcGVlZCA9IG9wdGlvbnMucmV3aW5kU3BlZWQ7XG4gICAgaWYgKFNwbGlkZTIyLmlzKFNMSURFKSAmJiByZXdpbmRTcGVlZCkge1xuICAgICAgdmFyIHByZXYgPSBDb250cm9sbGVyMi5nZXRJbmRleCh0cnVlKTtcbiAgICAgIHZhciBlbmQgPSBDb250cm9sbGVyMi5nZXRFbmQoKTtcbiAgICAgIGlmIChwcmV2ID09PSAwICYmIGluZGV4ID49IGVuZCB8fCBwcmV2ID49IGVuZCAmJiBpbmRleCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gcmV3aW5kU3BlZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zLnNwZWVkO1xuICB9XG4gIHJldHVybiB7XG4gICAgbW91bnQsXG4gICAgc3RhcnQsXG4gICAgY2FuY2VsXG4gIH07XG59XG52YXIgX1NwbGlkZSA9IC8qIEBfX1BVUkVfXyAqLyBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gX1NwbGlkZTIodGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgdGhpcy5ldmVudCA9IEV2ZW50SW50ZXJmYWNlKCk7XG4gICAgdGhpcy5Db21wb25lbnRzID0ge307XG4gICAgdGhpcy5zdGF0ZSA9IFN0YXRlKENSRUFURUQpO1xuICAgIHRoaXMuc3BsaWRlcyA9IFtdO1xuICAgIHRoaXMuX28gPSB7fTtcbiAgICB0aGlzLl9FID0ge307XG4gICAgdmFyIHJvb3QgPSBpc1N0cmluZyh0YXJnZXQpID8gcXVlcnkoZG9jdW1lbnQsIHRhcmdldCkgOiB0YXJnZXQ7XG4gICAgYXNzZXJ0KHJvb3QsIHJvb3QgKyBcIiBpcyBpbnZhbGlkLlwiKTtcbiAgICB0aGlzLnJvb3QgPSByb290O1xuICAgIG9wdGlvbnMgPSBtZXJnZSh7XG4gICAgICBsYWJlbDogZ2V0QXR0cmlidXRlKHJvb3QsIEFSSUFfTEFCRUwpIHx8IFwiXCIsXG4gICAgICBsYWJlbGxlZGJ5OiBnZXRBdHRyaWJ1dGUocm9vdCwgQVJJQV9MQUJFTExFREJZKSB8fCBcIlwiXG4gICAgfSwgREVGQVVMVFMsIF9TcGxpZGUyLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTtcbiAgICB0cnkge1xuICAgICAgbWVyZ2Uob3B0aW9ucywgSlNPTi5wYXJzZShnZXRBdHRyaWJ1dGUocm9vdCwgREFUQV9BVFRSSUJVVEUpKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgYXNzZXJ0KGZhbHNlLCBcIkludmFsaWQgSlNPTlwiKTtcbiAgICB9XG4gICAgdGhpcy5fbyA9IE9iamVjdC5jcmVhdGUobWVyZ2Uoe30sIG9wdGlvbnMpKTtcbiAgfVxuICB2YXIgX3Byb3RvID0gX1NwbGlkZTIucHJvdG90eXBlO1xuICBfcHJvdG8ubW91bnQgPSBmdW5jdGlvbiBtb3VudChFeHRlbnNpb25zLCBUcmFuc2l0aW9uKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlLCBDb21wb25lbnRzMiA9IHRoaXMuQ29tcG9uZW50cztcbiAgICBhc3NlcnQoc3RhdGUuaXMoW0NSRUFURUQsIERFU1RST1lFRF0pLCBcIkFscmVhZHkgbW91bnRlZCFcIik7XG4gICAgc3RhdGUuc2V0KENSRUFURUQpO1xuICAgIHRoaXMuX0MgPSBDb21wb25lbnRzMjtcbiAgICB0aGlzLl9UID0gVHJhbnNpdGlvbiB8fCB0aGlzLl9UIHx8ICh0aGlzLmlzKEZBREUpID8gRmFkZSA6IFNsaWRlKTtcbiAgICB0aGlzLl9FID0gRXh0ZW5zaW9ucyB8fCB0aGlzLl9FO1xuICAgIHZhciBDb25zdHJ1Y3RvcnMgPSBhc3NpZ24oe30sIENvbXBvbmVudENvbnN0cnVjdG9ycywgdGhpcy5fRSwge1xuICAgICAgVHJhbnNpdGlvbjogdGhpcy5fVFxuICAgIH0pO1xuICAgIGZvck93bihDb25zdHJ1Y3RvcnMsIGZ1bmN0aW9uKENvbXBvbmVudCwga2V5KSB7XG4gICAgICB2YXIgY29tcG9uZW50ID0gQ29tcG9uZW50KF90aGlzLCBDb21wb25lbnRzMiwgX3RoaXMuX28pO1xuICAgICAgQ29tcG9uZW50czJba2V5XSA9IGNvbXBvbmVudDtcbiAgICAgIGNvbXBvbmVudC5zZXR1cCAmJiBjb21wb25lbnQuc2V0dXAoKTtcbiAgICB9KTtcbiAgICBmb3JPd24oQ29tcG9uZW50czIsIGZ1bmN0aW9uKGNvbXBvbmVudCkge1xuICAgICAgY29tcG9uZW50Lm1vdW50ICYmIGNvbXBvbmVudC5tb3VudCgpO1xuICAgIH0pO1xuICAgIHRoaXMuZW1pdChFVkVOVF9NT1VOVEVEKTtcbiAgICBhZGRDbGFzcyh0aGlzLnJvb3QsIENMQVNTX0lOSVRJQUxJWkVEKTtcbiAgICBzdGF0ZS5zZXQoSURMRSk7XG4gICAgdGhpcy5lbWl0KEVWRU5UX1JFQURZKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgX3Byb3RvLnN5bmMgPSBmdW5jdGlvbiBzeW5jKHNwbGlkZSkge1xuICAgIHRoaXMuc3BsaWRlcy5wdXNoKHtcbiAgICAgIHNwbGlkZVxuICAgIH0pO1xuICAgIHNwbGlkZS5zcGxpZGVzLnB1c2goe1xuICAgICAgc3BsaWRlOiB0aGlzLFxuICAgICAgaXNQYXJlbnQ6IHRydWVcbiAgICB9KTtcbiAgICBpZiAodGhpcy5zdGF0ZS5pcyhJRExFKSkge1xuICAgICAgdGhpcy5fQy5TeW5jLnJlbW91bnQoKTtcbiAgICAgIHNwbGlkZS5Db21wb25lbnRzLlN5bmMucmVtb3VudCgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgX3Byb3RvLmdvID0gZnVuY3Rpb24gZ28oY29udHJvbCkge1xuICAgIHRoaXMuX0MuQ29udHJvbGxlci5nbyhjb250cm9sKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgX3Byb3RvLm9uID0gZnVuY3Rpb24gb24oZXZlbnRzLCBjYWxsYmFjaykge1xuICAgIHRoaXMuZXZlbnQub24oZXZlbnRzLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIF9wcm90by5vZmYgPSBmdW5jdGlvbiBvZmYoZXZlbnRzKSB7XG4gICAgdGhpcy5ldmVudC5vZmYoZXZlbnRzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgX3Byb3RvLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50KSB7XG4gICAgdmFyIF90aGlzJGV2ZW50O1xuICAgIChfdGhpcyRldmVudCA9IHRoaXMuZXZlbnQpLmVtaXQuYXBwbHkoX3RoaXMkZXZlbnQsIFtldmVudF0uY29uY2F0KHNsaWNlKGFyZ3VtZW50cywgMSkpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgX3Byb3RvLmFkZCA9IGZ1bmN0aW9uIGFkZChzbGlkZXMsIGluZGV4KSB7XG4gICAgdGhpcy5fQy5TbGlkZXMuYWRkKHNsaWRlcywgaW5kZXgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBfcHJvdG8ucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlMihtYXRjaGVyKSB7XG4gICAgdGhpcy5fQy5TbGlkZXMucmVtb3ZlKG1hdGNoZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBfcHJvdG8uaXMgPSBmdW5jdGlvbiBpcyh0eXBlKSB7XG4gICAgcmV0dXJuIHRoaXMuX28udHlwZSA9PT0gdHlwZTtcbiAgfTtcbiAgX3Byb3RvLnJlZnJlc2ggPSBmdW5jdGlvbiByZWZyZXNoKCkge1xuICAgIHRoaXMuZW1pdChFVkVOVF9SRUZSRVNIKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgX3Byb3RvLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KGNvbXBsZXRlbHkpIHtcbiAgICBpZiAoY29tcGxldGVseSA9PT0gdm9pZCAwKSB7XG4gICAgICBjb21wbGV0ZWx5ID0gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIGV2ZW50ID0gdGhpcy5ldmVudCwgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIGlmIChzdGF0ZS5pcyhDUkVBVEVEKSkge1xuICAgICAgRXZlbnRJbnRlcmZhY2UodGhpcykub24oRVZFTlRfUkVBRFksIHRoaXMuZGVzdHJveS5iaW5kKHRoaXMsIGNvbXBsZXRlbHkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yT3duKHRoaXMuX0MsIGZ1bmN0aW9uKGNvbXBvbmVudCkge1xuICAgICAgICBjb21wb25lbnQuZGVzdHJveSAmJiBjb21wb25lbnQuZGVzdHJveShjb21wbGV0ZWx5KTtcbiAgICAgIH0sIHRydWUpO1xuICAgICAgZXZlbnQuZW1pdChFVkVOVF9ERVNUUk9ZKTtcbiAgICAgIGV2ZW50LmRlc3Ryb3koKTtcbiAgICAgIGNvbXBsZXRlbHkgJiYgZW1wdHkodGhpcy5zcGxpZGVzKTtcbiAgICAgIHN0YXRlLnNldChERVNUUk9ZRUQpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgX2NyZWF0ZUNsYXNzKF9TcGxpZGUyLCBbe1xuICAgIGtleTogXCJvcHRpb25zXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbztcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuX0MuTWVkaWEuc2V0KG9wdGlvbnMsIHRydWUsIHRydWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsZW5ndGhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9DLlNsaWRlcy5nZXRMZW5ndGgodHJ1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImluZGV4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fQy5Db250cm9sbGVyLmdldEluZGV4KCk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBfU3BsaWRlMjtcbn0oKTtcbnZhciBTcGxpZGUgPSBfU3BsaWRlO1xuU3BsaWRlLmRlZmF1bHRzID0ge307XG5TcGxpZGUuU1RBVEVTID0gU1RBVEVTO1xuXG4vLyBzcmMvanMvY29tcG9uZW50cy9TcGxpZGUvU3BsaWRlLnRzeFxudmFyIGltcG9ydF9yZWFjdDIgPSBfX3RvRVNNKHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbi8vIHNyYy9qcy9jb25zdGFudHMvZXZlbnRzLnRzXG52YXIgRVZFTlRTID0gW1xuICBbRVZFTlRfTU9VTlRFRCwgXCJvbk1vdW50ZWRcIl0sXG4gIFtFVkVOVF9SRUFEWSwgXCJvblJlYWR5XCJdLFxuICBbRVZFTlRfTU9WRSwgXCJvbk1vdmVcIl0sXG4gIFtFVkVOVF9NT1ZFRCwgXCJvbk1vdmVkXCJdLFxuICBbRVZFTlRfQ0xJQ0ssIFwib25DbGlja1wiXSxcbiAgW0VWRU5UX0FDVElWRSwgXCJvbkFjdGl2ZVwiXSxcbiAgW0VWRU5UX0lOQUNUSVZFLCBcIm9uSW5hY3RpdmVcIl0sXG4gIFtFVkVOVF9WSVNJQkxFLCBcIm9uVmlzaWJsZVwiXSxcbiAgW0VWRU5UX0hJRERFTiwgXCJvbkhpZGRlblwiXSxcbiAgW0VWRU5UX1JFRlJFU0gsIFwib25SZWZyZXNoXCJdLFxuICBbRVZFTlRfVVBEQVRFRCwgXCJvblVwZGF0ZWRcIl0sXG4gIFtFVkVOVF9SRVNJWkUsIFwib25SZXNpemVcIl0sXG4gIFtFVkVOVF9SRVNJWkVELCBcIm9uUmVzaXplZFwiXSxcbiAgW0VWRU5UX0RSQUcsIFwib25EcmFnXCJdLFxuICBbRVZFTlRfRFJBR0dJTkcsIFwib25EcmFnZ2luZ1wiXSxcbiAgW0VWRU5UX0RSQUdHRUQsIFwib25EcmFnZ2VkXCJdLFxuICBbRVZFTlRfU0NST0xMLCBcIm9uU2Nyb2xsXCJdLFxuICBbRVZFTlRfU0NST0xMRUQsIFwib25TY3JvbGxlZFwiXSxcbiAgW0VWRU5UX0RFU1RST1ksIFwib25EZXN0cm95XCJdLFxuICBbRVZFTlRfQVJST1dTX01PVU5URUQsIFwib25BcnJvd3NNb3VudGVkXCJdLFxuICBbRVZFTlRfQVJST1dTX1VQREFURUQsIFwib25BcnJvd3NVcGRhdGVkXCJdLFxuICBbRVZFTlRfUEFHSU5BVElPTl9NT1VOVEVELCBcIm9uUGFnaW5hdGlvbk1vdW50ZWRcIl0sXG4gIFtFVkVOVF9QQUdJTkFUSU9OX1VQREFURUQsIFwib25QYWdpbmF0aW9uVXBkYXRlZFwiXSxcbiAgW0VWRU5UX05BVklHQVRJT05fTU9VTlRFRCwgXCJvbk5hdmlnYXRpb25Nb3VudGVkXCJdLFxuICBbRVZFTlRfQVVUT1BMQVlfUExBWSwgXCJvbkF1dG9wbGF5UGxheVwiXSxcbiAgW0VWRU5UX0FVVE9QTEFZX1BMQVlJTkcsIFwib25BdXRvcGxheVBsYXlpbmdcIl0sXG4gIFtFVkVOVF9BVVRPUExBWV9QQVVTRSwgXCJvbkF1dG9wbGF5UGF1c2VcIl0sXG4gIFtFVkVOVF9MQVpZTE9BRF9MT0FERUQsIFwib25MYXp5TG9hZExvYWRlZFwiXVxuXTtcblxuLy8gc3JjL2pzL3V0aWxzL2NsYXNzTmFtZXMvY2xhc3NOYW1lcy50c1xuZnVuY3Rpb24gY2xhc3NOYW1lcyguLi5jbGFzc2VzKSB7XG4gIHJldHVybiBjbGFzc2VzLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIFwiKTtcbn1cblxuLy8gc3JjL2pzL3V0aWxzL2lzT2JqZWN0L2lzT2JqZWN0LnRzXG5mdW5jdGlvbiBpc09iamVjdDIoc3ViamVjdCkge1xuICByZXR1cm4gc3ViamVjdCAhPT0gbnVsbCAmJiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJvYmplY3RcIjtcbn1cblxuLy8gc3JjL2pzL3V0aWxzL2lzRXF1YWxEZWVwL2lzRXF1YWxEZWVwLnRzXG5mdW5jdGlvbiBpc0VxdWFsRGVlcChzdWJqZWN0MSwgc3ViamVjdDIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoc3ViamVjdDEpICYmIEFycmF5LmlzQXJyYXkoc3ViamVjdDIpKSB7XG4gICAgcmV0dXJuIHN1YmplY3QxLmxlbmd0aCA9PT0gc3ViamVjdDIubGVuZ3RoICYmICFzdWJqZWN0MS5zb21lKChlbG0sIGluZGV4KSA9PiAhaXNFcXVhbERlZXAoZWxtLCBzdWJqZWN0MltpbmRleF0pKTtcbiAgfVxuICBpZiAoaXNPYmplY3QyKHN1YmplY3QxKSAmJiBpc09iamVjdDIoc3ViamVjdDIpKSB7XG4gICAgY29uc3Qga2V5czEgPSBPYmplY3Qua2V5cyhzdWJqZWN0MSk7XG4gICAgY29uc3Qga2V5czIgPSBPYmplY3Qua2V5cyhzdWJqZWN0Mik7XG4gICAgcmV0dXJuIGtleXMxLmxlbmd0aCA9PT0ga2V5czIubGVuZ3RoICYmICFrZXlzMS5zb21lKChrZXkpID0+IHtcbiAgICAgIHJldHVybiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHN1YmplY3QyLCBrZXkpIHx8ICFpc0VxdWFsRGVlcChzdWJqZWN0MVtrZXldLCBzdWJqZWN0MltrZXldKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gc3ViamVjdDEgPT09IHN1YmplY3QyO1xufVxuXG4vLyBzcmMvanMvdXRpbHMvaXNFcXVhbFNoYWxsb3cvaXNFcXVhbFNoYWxsb3cudHNcbmZ1bmN0aW9uIGlzRXF1YWxTaGFsbG93KGFycmF5MSwgYXJyYXkyKSB7XG4gIHJldHVybiBhcnJheTEubGVuZ3RoID09PSBhcnJheTIubGVuZ3RoICYmICFhcnJheTEuc29tZSgoZWxtLCBpbmRleCkgPT4gZWxtICE9PSBhcnJheTJbaW5kZXhdKTtcbn1cblxuLy8gc3JjL2pzL3V0aWxzL2Zvck93bi9mb3JPd24udHNcbmZ1bmN0aW9uIGZvck93bjIob2JqZWN0LCBpdGVyYXRlZSkge1xuICBpZiAob2JqZWN0KSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYgKGtleSAhPT0gXCJfX3Byb3RvX19cIikge1xuICAgICAgICBpZiAoaXRlcmF0ZWUob2JqZWN0W2tleV0sIGtleSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9iamVjdDtcbn1cblxuLy8gc3JjL2pzL3V0aWxzL21lcmdlL21lcmdlLnRzXG5mdW5jdGlvbiBtZXJnZTIob2JqZWN0LCBzb3VyY2UpIHtcbiAgY29uc3QgbWVyZ2VkID0gb2JqZWN0O1xuICBmb3JPd24yKHNvdXJjZSwgKHZhbHVlLCBrZXkpID0+IHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIG1lcmdlZFtrZXldID0gdmFsdWUuc2xpY2UoKTtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0Mih2YWx1ZSkpIHtcbiAgICAgIG1lcmdlZFtrZXldID0gbWVyZ2UyKGlzT2JqZWN0MihtZXJnZWRba2V5XSkgPyBtZXJnZWRba2V5XSA6IHt9LCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lcmdlZFtrZXldID0gdmFsdWU7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG1lcmdlZDtcbn1cblxuLy8gc3JjL2pzL2NvbXBvbmVudHMvU3BsaWRlVHJhY2svU3BsaWRlVHJhY2sudHN4XG52YXIgaW1wb3J0X3JlYWN0ID0gX190b0VTTShyZXF1aXJlKFwicmVhY3RcIikpO1xudmFyIFNwbGlkZVRyYWNrID0gKHsgY2hpbGRyZW46IGNoaWxkcmVuMiwgY2xhc3NOYW1lLCAuLi5wcm9wcyB9KSA9PiB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gaW1wb3J0X3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKFwic3BsaWRlX190cmFja1wiLCBjbGFzc05hbWUpLFxuICAgIC4uLnByb3BzXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBpbXBvcnRfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwidWxcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzcGxpZGVfX2xpc3RcIlxuICB9LCBjaGlsZHJlbjIpKTtcbn07XG5cbi8vIHNyYy9qcy9jb21wb25lbnRzL1NwbGlkZS9TcGxpZGUudHN4XG52YXIgU3BsaWRlMiA9IGNsYXNzIGV4dGVuZHMgaW1wb3J0X3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5zcGxpZGVSZWYgPSBpbXBvcnRfcmVhY3QyLmRlZmF1bHQuY3JlYXRlUmVmKCk7XG4gICAgdGhpcy5zbGlkZXMgPSBbXTtcbiAgfVxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBjb25zdCB7IG9wdGlvbnMsIGV4dGVuc2lvbnMsIHRyYW5zaXRpb24gfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBjdXJyZW50IH0gPSB0aGlzLnNwbGlkZVJlZjtcbiAgICBpZiAoY3VycmVudCkge1xuICAgICAgdGhpcy5zcGxpZGUgPSBuZXcgU3BsaWRlKGN1cnJlbnQsIG9wdGlvbnMpO1xuICAgICAgdGhpcy5iaW5kKHRoaXMuc3BsaWRlKTtcbiAgICAgIHRoaXMuc3BsaWRlLm1vdW50KGV4dGVuc2lvbnMsIHRyYW5zaXRpb24pO1xuICAgICAgdGhpcy5vcHRpb25zID0gbWVyZ2UyKHt9LCBvcHRpb25zIHx8IHt9KTtcbiAgICAgIHRoaXMuc2xpZGVzID0gdGhpcy5nZXRTbGlkZXMoKTtcbiAgICB9XG4gIH1cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuc3BsaWRlKSB7XG4gICAgICB0aGlzLnNwbGlkZS5kZXN0cm95KCk7XG4gICAgICB0aGlzLnNwbGlkZSA9IHZvaWQgMDtcbiAgICB9XG4gICAgdGhpcy5vcHRpb25zID0gdm9pZCAwO1xuICAgIHRoaXMuc2xpZGVzLmxlbmd0aCA9IDA7XG4gIH1cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIGlmICghdGhpcy5zcGxpZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyBvcHRpb25zIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmIChvcHRpb25zICYmICFpc0VxdWFsRGVlcCh0aGlzLm9wdGlvbnMsIG9wdGlvbnMpKSB7XG4gICAgICB0aGlzLnNwbGlkZS5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgIHRoaXMub3B0aW9ucyA9IG1lcmdlMih7fSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGNvbnN0IG5ld1NsaWRlcyA9IHRoaXMuZ2V0U2xpZGVzKCk7XG4gICAgaWYgKCFpc0VxdWFsU2hhbGxvdyh0aGlzLnNsaWRlcywgbmV3U2xpZGVzKSkge1xuICAgICAgdGhpcy5zcGxpZGUucmVmcmVzaCgpO1xuICAgICAgdGhpcy5zbGlkZXMgPSBuZXdTbGlkZXM7XG4gICAgfVxuICB9XG4gIHN5bmMoc3BsaWRlKSB7XG4gICAgdmFyIF9hO1xuICAgIChfYSA9IHRoaXMuc3BsaWRlKSA9PSBudWxsID8gdm9pZCAwIDogX2Euc3luYyhzcGxpZGUpO1xuICB9XG4gIGdvKGNvbnRyb2wpIHtcbiAgICB2YXIgX2E7XG4gICAgKF9hID0gdGhpcy5zcGxpZGUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5nbyhjb250cm9sKTtcbiAgfVxuICBnZXRTbGlkZXMoKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICh0aGlzLnNwbGlkZSkge1xuICAgICAgY29uc3QgY2hpbGRyZW4yID0gKF9hID0gdGhpcy5zcGxpZGUuQ29tcG9uZW50cy5FbGVtZW50cykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmxpc3QuY2hpbGRyZW47XG4gICAgICByZXR1cm4gY2hpbGRyZW4yICYmIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGNoaWxkcmVuMikgfHwgW107XG4gICAgfVxuICAgIHJldHVybiBbXTtcbiAgfVxuICBiaW5kKHNwbGlkZSkge1xuICAgIEVWRU5UUy5mb3JFYWNoKChbZXZlbnQsIG5hbWVdKSA9PiB7XG4gICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5wcm9wc1tuYW1lXTtcbiAgICAgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHNwbGlkZS5vbihldmVudCwgKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICBoYW5kbGVyKHNwbGlkZSwgLi4uYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIG9taXQocHJvcHMsIGtleXMpIHtcbiAgICBrZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywga2V5KSkge1xuICAgICAgICBkZWxldGUgcHJvcHNba2V5XTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcHJvcHM7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgY2xhc3NOYW1lLCB0YWc6IFJvb3QgPSBcImRpdlwiLCBoYXNUcmFjayA9IHRydWUsIGNoaWxkcmVuOiBjaGlsZHJlbjIsIC4uLnByb3BzIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gaW1wb3J0X3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUm9vdCwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKFwic3BsaWRlXCIsIGNsYXNzTmFtZSksXG4gICAgICByZWY6IHRoaXMuc3BsaWRlUmVmLFxuICAgICAgLi4udGhpcy5vbWl0KHByb3BzLCBbXCJvcHRpb25zXCIsIC4uLkVWRU5UUy5tYXAoKGV2ZW50KSA9PiBldmVudFsxXSldKVxuICAgIH0sIGhhc1RyYWNrID8gLyogQF9fUFVSRV9fICovIGltcG9ydF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFNwbGlkZVRyYWNrLCBudWxsLCBjaGlsZHJlbjIpIDogY2hpbGRyZW4yKTtcbiAgfVxufTtcblxuLy8gc3JjL2pzL2NvbXBvbmVudHMvU3BsaWRlU2xpZGUvU3BsaWRlU2xpZGUudHN4XG52YXIgaW1wb3J0X3JlYWN0MyA9IF9fdG9FU00ocmVxdWlyZShcInJlYWN0XCIpKTtcbnZhciBTcGxpZGVTbGlkZSA9ICh7IGNoaWxkcmVuOiBjaGlsZHJlbjIsIGNsYXNzTmFtZSwgLi4ucHJvcHMgfSkgPT4ge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGltcG9ydF9yZWFjdDMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwibGlcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhcInNwbGlkZV9fc2xpZGVcIiwgY2xhc3NOYW1lKSxcbiAgICAuLi5wcm9wc1xuICB9LCBjaGlsZHJlbjIpO1xufTtcbi8qIVxuICogU3BsaWRlLmpzXG4gKiBWZXJzaW9uICA6IDQuMS4zXG4gKiBMaWNlbnNlICA6IE1JVFxuICogQ29weXJpZ2h0OiAyMDIyIE5hb3Rvc2hpIEZ1aml0YVxuICovXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@splidejs/react-splide/dist/js/react-splide.cjs.js\n"));

/***/ }),

/***/ "./node_modules/@vimeo/player/dist/player.es.js":
/*!******************************************************!*\
  !*** ./node_modules/@vimeo/player/dist/player.es.js ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/*! @vimeo/player v2.29.1 | (c) 2025 Vimeo | MIT License | https://github.com/vimeo/player.js */\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function () {\n    return exports;\n  };\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function (obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function (method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function (skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n    },\n    stop: function () {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function (exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function (type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function (record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function (finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function (tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function (iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n      _cache.set(Class, Wrapper);\n    }\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n  return _wrapNativeSuper(Class);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\n/**\n * @module lib/functions\n */\n\n/**\n * Check to see this is a Node environment.\n * @type {boolean}\n */\n/* global global */\nvar isNode = typeof __webpack_require__.g !== 'undefined' && {}.toString.call(__webpack_require__.g) === '[object global]';\n\n/**\n * Check to see if this is a Bun environment.\n * @see https://bun.sh/guides/util/detect-bun\n * @type {boolean}\n */\nvar isBun = typeof Bun !== 'undefined';\n\n/**\n * Check to see if this is a Deno environment.\n * @see https://docs.deno.com/api/deno/~/Deno\n * @type {boolean}\n */\nvar isDeno = typeof Deno !== 'undefined';\n\n/**\n * Check if this is a server runtime\n * @type {boolean}\n */\nvar isServerRuntime = isNode || isBun || isDeno;\n\n/**\n * Get the name of the method for a given getter or setter.\n *\n * @param {string} prop The name of the property.\n * @param {string} type Either get or set.\n * @return {string}\n */\nfunction getMethodName(prop, type) {\n  if (prop.indexOf(type.toLowerCase()) === 0) {\n    return prop;\n  }\n  return \"\".concat(type.toLowerCase()).concat(prop.substr(0, 1).toUpperCase()).concat(prop.substr(1));\n}\n\n/**\n * Check to see if the object is a DOM Element.\n *\n * @param {*} element The object to check.\n * @return {boolean}\n */\nfunction isDomElement(element) {\n  return Boolean(element && element.nodeType === 1 && 'nodeName' in element && element.ownerDocument && element.ownerDocument.defaultView);\n}\n\n/**\n * Check to see whether the value is a number.\n *\n * @see http://dl.dropboxusercontent.com/u/35146/js/tests/isNumber.html\n * @param {*} value The value to check.\n * @param {boolean} integer Check if the value is an integer.\n * @return {boolean}\n */\nfunction isInteger(value) {\n  // eslint-disable-next-line eqeqeq\n  return !isNaN(parseFloat(value)) && isFinite(value) && Math.floor(value) == value;\n}\n\n/**\n * Check to see if the URL is a Vimeo url.\n *\n * @param {string} url The url string.\n * @return {boolean}\n */\nfunction isVimeoUrl(url) {\n  return /^(https?:)?\\/\\/((((player|www)\\.)?vimeo\\.com)|((player\\.)?[a-zA-Z0-9-]+\\.(videoji\\.(hk|cn)|vimeo\\.work)))(?=$|\\/)/.test(url);\n}\n\n/**\n * Check to see if the URL is for a Vimeo embed.\n *\n * @param {string} url The url string.\n * @return {boolean}\n */\nfunction isVimeoEmbed(url) {\n  var expr = /^https:\\/\\/player\\.((vimeo\\.com)|([a-zA-Z0-9-]+\\.(videoji\\.(hk|cn)|vimeo\\.work)))\\/video\\/\\d+/;\n  return expr.test(url);\n}\nfunction getOembedDomain(url) {\n  var match = (url || '').match(/^(?:https?:)?(?:\\/\\/)?([^/?]+)/);\n  var domain = (match && match[1] || '').replace('player.', '');\n  var customDomains = ['.videoji.hk', '.vimeo.work', '.videoji.cn'];\n  for (var _i = 0, _customDomains = customDomains; _i < _customDomains.length; _i++) {\n    var customDomain = _customDomains[_i];\n    if (domain.endsWith(customDomain)) {\n      return domain;\n    }\n  }\n  return 'vimeo.com';\n}\n\n/**\n * Get the Vimeo URL from an element.\n * The element must have either a data-vimeo-id or data-vimeo-url attribute.\n *\n * @param {object} oEmbedParameters The oEmbed parameters.\n * @return {string}\n */\nfunction getVimeoUrl() {\n  var oEmbedParameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var id = oEmbedParameters.id;\n  var url = oEmbedParameters.url;\n  var idOrUrl = id || url;\n  if (!idOrUrl) {\n    throw new Error('An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.');\n  }\n  if (isInteger(idOrUrl)) {\n    return \"https://vimeo.com/\".concat(idOrUrl);\n  }\n  if (isVimeoUrl(idOrUrl)) {\n    return idOrUrl.replace('http:', 'https:');\n  }\n  if (id) {\n    throw new TypeError(\"\\u201C\".concat(id, \"\\u201D is not a valid video id.\"));\n  }\n  throw new TypeError(\"\\u201C\".concat(idOrUrl, \"\\u201D is not a vimeo.com url.\"));\n}\n\n/* eslint-disable max-params */\n/**\n * A utility method for attaching and detaching event handlers\n *\n * @param {EventTarget} target\n * @param {string | string[]} eventName\n * @param {function} callback\n * @param {'addEventListener' | 'on'} onName\n * @param {'removeEventListener' | 'off'} offName\n * @return {{cancel: (function(): void)}}\n */\nvar subscribe = function subscribe(target, eventName, callback) {\n  var onName = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'addEventListener';\n  var offName = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 'removeEventListener';\n  var eventNames = typeof eventName === 'string' ? [eventName] : eventName;\n  eventNames.forEach(function (evName) {\n    target[onName](evName, callback);\n  });\n  return {\n    cancel: function cancel() {\n      return eventNames.forEach(function (evName) {\n        return target[offName](evName, callback);\n      });\n    }\n  };\n};\nvar logSurveyLink = function logSurveyLink() {\n  console.log('\\n%cVimeo is looking for feedback!\\n%cComplete our survey about the Player SDK: https://t.maze.co/393567477', 'color:#00adef;font-size:1.2em;', 'color:#aaa;font-size:0.8em;');\n};\n\n/**\n * Find the iframe element that contains a specific source window\n *\n * @param {Window} sourceWindow The source window to find the iframe for\n * @param {Document} [doc=document] The document to search within\n * @return {HTMLIFrameElement|null} The iframe element if found, otherwise null\n */\nfunction findIframeBySourceWindow(sourceWindow) {\n  var doc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n  if (!sourceWindow || !doc || typeof doc.querySelectorAll !== 'function') {\n    return null;\n  }\n  var iframes = doc.querySelectorAll('iframe');\n  for (var i = 0; i < iframes.length; i++) {\n    if (iframes[i] && iframes[i].contentWindow === sourceWindow) {\n      return iframes[i];\n    }\n  }\n  return null;\n}\n\nvar arrayIndexOfSupport = typeof Array.prototype.indexOf !== 'undefined';\nvar postMessageSupport = typeof window !== 'undefined' && typeof window.postMessage !== 'undefined';\nif (!isServerRuntime && (!arrayIndexOfSupport || !postMessageSupport)) {\n  throw new Error('Sorry, the Vimeo Player API is not available in this browser.');\n}\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof __webpack_require__.g !== 'undefined' ? __webpack_require__.g : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n/*!\n * weakmap-polyfill v2.0.4 - ECMAScript6 WeakMap polyfill\n * https://github.com/polygonplanet/weakmap-polyfill\n * Copyright (c) 2015-2021 polygonplanet <polygon.planet.aqua@gmail.com>\n * @license MIT\n */\n\n(function (self) {\n\n  if (self.WeakMap) {\n    return;\n  }\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n  var hasDefine = Object.defineProperty && function () {\n    try {\n      // Avoid IE8's broken Object.defineProperty\n      return Object.defineProperty({}, 'x', {\n        value: 1\n      }).x === 1;\n    } catch (e) {}\n  }();\n  var defineProperty = function (object, name, value) {\n    if (hasDefine) {\n      Object.defineProperty(object, name, {\n        configurable: true,\n        writable: true,\n        value: value\n      });\n    } else {\n      object[name] = value;\n    }\n  };\n  self.WeakMap = function () {\n    // ECMA-262 23.3 WeakMap Objects\n    function WeakMap() {\n      if (this === void 0) {\n        throw new TypeError(\"Constructor WeakMap requires 'new'\");\n      }\n      defineProperty(this, '_id', genId('_WeakMap'));\n\n      // ECMA-262 23.3.1.1 WeakMap([iterable])\n      if (arguments.length > 0) {\n        // Currently, WeakMap `iterable` argument is not supported\n        throw new TypeError('WeakMap iterable is not supported');\n      }\n    }\n\n    // ECMA-262 23.3.3.2 WeakMap.prototype.delete(key)\n    defineProperty(WeakMap.prototype, 'delete', function (key) {\n      checkInstance(this, 'delete');\n      if (!isObject(key)) {\n        return false;\n      }\n      var entry = key[this._id];\n      if (entry && entry[0] === key) {\n        delete key[this._id];\n        return true;\n      }\n      return false;\n    });\n\n    // ECMA-262 23.3.3.3 WeakMap.prototype.get(key)\n    defineProperty(WeakMap.prototype, 'get', function (key) {\n      checkInstance(this, 'get');\n      if (!isObject(key)) {\n        return void 0;\n      }\n      var entry = key[this._id];\n      if (entry && entry[0] === key) {\n        return entry[1];\n      }\n      return void 0;\n    });\n\n    // ECMA-262 23.3.3.4 WeakMap.prototype.has(key)\n    defineProperty(WeakMap.prototype, 'has', function (key) {\n      checkInstance(this, 'has');\n      if (!isObject(key)) {\n        return false;\n      }\n      var entry = key[this._id];\n      if (entry && entry[0] === key) {\n        return true;\n      }\n      return false;\n    });\n\n    // ECMA-262 23.3.3.5 WeakMap.prototype.set(key, value)\n    defineProperty(WeakMap.prototype, 'set', function (key, value) {\n      checkInstance(this, 'set');\n      if (!isObject(key)) {\n        throw new TypeError('Invalid value used as weak map key');\n      }\n      var entry = key[this._id];\n      if (entry && entry[0] === key) {\n        entry[1] = value;\n        return this;\n      }\n      defineProperty(key, this._id, [key, value]);\n      return this;\n    });\n    function checkInstance(x, methodName) {\n      if (!isObject(x) || !hasOwnProperty.call(x, '_id')) {\n        throw new TypeError(methodName + ' method called on incompatible receiver ' + typeof x);\n      }\n    }\n    function genId(prefix) {\n      return prefix + '_' + rand() + '.' + rand();\n    }\n    function rand() {\n      return Math.random().toString().substring(2);\n    }\n    defineProperty(WeakMap, '_polyfill', true);\n    return WeakMap;\n  }();\n  function isObject(x) {\n    return Object(x) === x;\n  }\n})(typeof globalThis !== 'undefined' ? globalThis : typeof self !== 'undefined' ? self : typeof window !== 'undefined' ? window : typeof commonjsGlobal !== 'undefined' ? commonjsGlobal : commonjsGlobal);\n\nvar npo_src = createCommonjsModule(function (module) {\n/*! Native Promise Only\n    v0.8.1 (c) Kyle Simpson\n    MIT License: http://getify.mit-license.org\n*/\n\n(function UMD(name, context, definition) {\n  // special form of UMD for polyfilling across evironments\n  context[name] = context[name] || definition();\n  if (module.exports) {\n    module.exports = context[name];\n  }\n})(\"Promise\", typeof commonjsGlobal != \"undefined\" ? commonjsGlobal : commonjsGlobal, function DEF() {\n\n  var builtInProp,\n    cycle,\n    scheduling_queue,\n    ToString = Object.prototype.toString,\n    timer = typeof setImmediate != \"undefined\" ? function timer(fn) {\n      return setImmediate(fn);\n    } : setTimeout;\n\n  // dammit, IE8.\n  try {\n    Object.defineProperty({}, \"x\", {});\n    builtInProp = function builtInProp(obj, name, val, config) {\n      return Object.defineProperty(obj, name, {\n        value: val,\n        writable: true,\n        configurable: config !== false\n      });\n    };\n  } catch (err) {\n    builtInProp = function builtInProp(obj, name, val) {\n      obj[name] = val;\n      return obj;\n    };\n  }\n\n  // Note: using a queue instead of array for efficiency\n  scheduling_queue = function Queue() {\n    var first, last, item;\n    function Item(fn, self) {\n      this.fn = fn;\n      this.self = self;\n      this.next = void 0;\n    }\n    return {\n      add: function add(fn, self) {\n        item = new Item(fn, self);\n        if (last) {\n          last.next = item;\n        } else {\n          first = item;\n        }\n        last = item;\n        item = void 0;\n      },\n      drain: function drain() {\n        var f = first;\n        first = last = cycle = void 0;\n        while (f) {\n          f.fn.call(f.self);\n          f = f.next;\n        }\n      }\n    };\n  }();\n  function schedule(fn, self) {\n    scheduling_queue.add(fn, self);\n    if (!cycle) {\n      cycle = timer(scheduling_queue.drain);\n    }\n  }\n\n  // promise duck typing\n  function isThenable(o) {\n    var _then,\n      o_type = typeof o;\n    if (o != null && (o_type == \"object\" || o_type == \"function\")) {\n      _then = o.then;\n    }\n    return typeof _then == \"function\" ? _then : false;\n  }\n  function notify() {\n    for (var i = 0; i < this.chain.length; i++) {\n      notifyIsolated(this, this.state === 1 ? this.chain[i].success : this.chain[i].failure, this.chain[i]);\n    }\n    this.chain.length = 0;\n  }\n\n  // NOTE: This is a separate function to isolate\n  // the `try..catch` so that other code can be\n  // optimized better\n  function notifyIsolated(self, cb, chain) {\n    var ret, _then;\n    try {\n      if (cb === false) {\n        chain.reject(self.msg);\n      } else {\n        if (cb === true) {\n          ret = self.msg;\n        } else {\n          ret = cb.call(void 0, self.msg);\n        }\n        if (ret === chain.promise) {\n          chain.reject(TypeError(\"Promise-chain cycle\"));\n        } else if (_then = isThenable(ret)) {\n          _then.call(ret, chain.resolve, chain.reject);\n        } else {\n          chain.resolve(ret);\n        }\n      }\n    } catch (err) {\n      chain.reject(err);\n    }\n  }\n  function resolve(msg) {\n    var _then,\n      self = this;\n\n    // already triggered?\n    if (self.triggered) {\n      return;\n    }\n    self.triggered = true;\n\n    // unwrap\n    if (self.def) {\n      self = self.def;\n    }\n    try {\n      if (_then = isThenable(msg)) {\n        schedule(function () {\n          var def_wrapper = new MakeDefWrapper(self);\n          try {\n            _then.call(msg, function $resolve$() {\n              resolve.apply(def_wrapper, arguments);\n            }, function $reject$() {\n              reject.apply(def_wrapper, arguments);\n            });\n          } catch (err) {\n            reject.call(def_wrapper, err);\n          }\n        });\n      } else {\n        self.msg = msg;\n        self.state = 1;\n        if (self.chain.length > 0) {\n          schedule(notify, self);\n        }\n      }\n    } catch (err) {\n      reject.call(new MakeDefWrapper(self), err);\n    }\n  }\n  function reject(msg) {\n    var self = this;\n\n    // already triggered?\n    if (self.triggered) {\n      return;\n    }\n    self.triggered = true;\n\n    // unwrap\n    if (self.def) {\n      self = self.def;\n    }\n    self.msg = msg;\n    self.state = 2;\n    if (self.chain.length > 0) {\n      schedule(notify, self);\n    }\n  }\n  function iteratePromises(Constructor, arr, resolver, rejecter) {\n    for (var idx = 0; idx < arr.length; idx++) {\n      (function IIFE(idx) {\n        Constructor.resolve(arr[idx]).then(function $resolver$(msg) {\n          resolver(idx, msg);\n        }, rejecter);\n      })(idx);\n    }\n  }\n  function MakeDefWrapper(self) {\n    this.def = self;\n    this.triggered = false;\n  }\n  function MakeDef(self) {\n    this.promise = self;\n    this.state = 0;\n    this.triggered = false;\n    this.chain = [];\n    this.msg = void 0;\n  }\n  function Promise(executor) {\n    if (typeof executor != \"function\") {\n      throw TypeError(\"Not a function\");\n    }\n    if (this.__NPO__ !== 0) {\n      throw TypeError(\"Not a promise\");\n    }\n\n    // instance shadowing the inherited \"brand\"\n    // to signal an already \"initialized\" promise\n    this.__NPO__ = 1;\n    var def = new MakeDef(this);\n    this[\"then\"] = function then(success, failure) {\n      var o = {\n        success: typeof success == \"function\" ? success : true,\n        failure: typeof failure == \"function\" ? failure : false\n      };\n      // Note: `then(..)` itself can be borrowed to be used against\n      // a different promise constructor for making the chained promise,\n      // by substituting a different `this` binding.\n      o.promise = new this.constructor(function extractChain(resolve, reject) {\n        if (typeof resolve != \"function\" || typeof reject != \"function\") {\n          throw TypeError(\"Not a function\");\n        }\n        o.resolve = resolve;\n        o.reject = reject;\n      });\n      def.chain.push(o);\n      if (def.state !== 0) {\n        schedule(notify, def);\n      }\n      return o.promise;\n    };\n    this[\"catch\"] = function $catch$(failure) {\n      return this.then(void 0, failure);\n    };\n    try {\n      executor.call(void 0, function publicResolve(msg) {\n        resolve.call(def, msg);\n      }, function publicReject(msg) {\n        reject.call(def, msg);\n      });\n    } catch (err) {\n      reject.call(def, err);\n    }\n  }\n  var PromisePrototype = builtInProp({}, \"constructor\", Promise, /*configurable=*/false);\n\n  // Note: Android 4 cannot use `Object.defineProperty(..)` here\n  Promise.prototype = PromisePrototype;\n\n  // built-in \"brand\" to signal an \"uninitialized\" promise\n  builtInProp(PromisePrototype, \"__NPO__\", 0, /*configurable=*/false);\n  builtInProp(Promise, \"resolve\", function Promise$resolve(msg) {\n    var Constructor = this;\n\n    // spec mandated checks\n    // note: best \"isPromise\" check that's practical for now\n    if (msg && typeof msg == \"object\" && msg.__NPO__ === 1) {\n      return msg;\n    }\n    return new Constructor(function executor(resolve, reject) {\n      if (typeof resolve != \"function\" || typeof reject != \"function\") {\n        throw TypeError(\"Not a function\");\n      }\n      resolve(msg);\n    });\n  });\n  builtInProp(Promise, \"reject\", function Promise$reject(msg) {\n    return new this(function executor(resolve, reject) {\n      if (typeof resolve != \"function\" || typeof reject != \"function\") {\n        throw TypeError(\"Not a function\");\n      }\n      reject(msg);\n    });\n  });\n  builtInProp(Promise, \"all\", function Promise$all(arr) {\n    var Constructor = this;\n\n    // spec mandated checks\n    if (ToString.call(arr) != \"[object Array]\") {\n      return Constructor.reject(TypeError(\"Not an array\"));\n    }\n    if (arr.length === 0) {\n      return Constructor.resolve([]);\n    }\n    return new Constructor(function executor(resolve, reject) {\n      if (typeof resolve != \"function\" || typeof reject != \"function\") {\n        throw TypeError(\"Not a function\");\n      }\n      var len = arr.length,\n        msgs = Array(len),\n        count = 0;\n      iteratePromises(Constructor, arr, function resolver(idx, msg) {\n        msgs[idx] = msg;\n        if (++count === len) {\n          resolve(msgs);\n        }\n      }, reject);\n    });\n  });\n  builtInProp(Promise, \"race\", function Promise$race(arr) {\n    var Constructor = this;\n\n    // spec mandated checks\n    if (ToString.call(arr) != \"[object Array]\") {\n      return Constructor.reject(TypeError(\"Not an array\"));\n    }\n    return new Constructor(function executor(resolve, reject) {\n      if (typeof resolve != \"function\" || typeof reject != \"function\") {\n        throw TypeError(\"Not a function\");\n      }\n      iteratePromises(Constructor, arr, function resolver(idx, msg) {\n        resolve(msg);\n      }, reject);\n    });\n  });\n  return Promise;\n});\n});\n\n/**\n * @module lib/callbacks\n */\n\nvar callbackMap = new WeakMap();\n\n/**\n * Store a callback for a method or event for a player.\n *\n * @param {Player} player The player object.\n * @param {string} name The method or event name.\n * @param {(function(this:Player, *): void|{resolve: function, reject: function})} callback\n *        The callback to call or an object with resolve and reject functions for a promise.\n * @return {void}\n */\nfunction storeCallback(player, name, callback) {\n  var playerCallbacks = callbackMap.get(player.element) || {};\n  if (!(name in playerCallbacks)) {\n    playerCallbacks[name] = [];\n  }\n  playerCallbacks[name].push(callback);\n  callbackMap.set(player.element, playerCallbacks);\n}\n\n/**\n * Get the callbacks for a player and event or method.\n *\n * @param {Player} player The player object.\n * @param {string} name The method or event name\n * @return {function[]}\n */\nfunction getCallbacks(player, name) {\n  var playerCallbacks = callbackMap.get(player.element) || {};\n  return playerCallbacks[name] || [];\n}\n\n/**\n * Remove a stored callback for a method or event for a player.\n *\n * @param {Player} player The player object.\n * @param {string} name The method or event name\n * @param {function} [callback] The specific callback to remove.\n * @return {boolean} Was this the last callback?\n */\nfunction removeCallback(player, name, callback) {\n  var playerCallbacks = callbackMap.get(player.element) || {};\n  if (!playerCallbacks[name]) {\n    return true;\n  }\n\n  // If no callback is passed, remove all callbacks for the event\n  if (!callback) {\n    playerCallbacks[name] = [];\n    callbackMap.set(player.element, playerCallbacks);\n    return true;\n  }\n  var index = playerCallbacks[name].indexOf(callback);\n  if (index !== -1) {\n    playerCallbacks[name].splice(index, 1);\n  }\n  callbackMap.set(player.element, playerCallbacks);\n  return playerCallbacks[name] && playerCallbacks[name].length === 0;\n}\n\n/**\n * Return the first stored callback for a player and event or method.\n *\n * @param {Player} player The player object.\n * @param {string} name The method or event name.\n * @return {function} The callback, or false if there were none\n */\nfunction shiftCallbacks(player, name) {\n  var playerCallbacks = getCallbacks(player, name);\n  if (playerCallbacks.length < 1) {\n    return false;\n  }\n  var callback = playerCallbacks.shift();\n  removeCallback(player, name, callback);\n  return callback;\n}\n\n/**\n * Move callbacks associated with an element to another element.\n *\n * @param {HTMLElement} oldElement The old element.\n * @param {HTMLElement} newElement The new element.\n * @return {void}\n */\nfunction swapCallbacks(oldElement, newElement) {\n  var playerCallbacks = callbackMap.get(oldElement);\n  callbackMap.set(newElement, playerCallbacks);\n  callbackMap.delete(oldElement);\n}\n\n/**\n * @module lib/postmessage\n */\n\n/**\n * Parse a message received from postMessage.\n *\n * @param {*} data The data received from postMessage.\n * @return {object}\n */\nfunction parseMessageData(data) {\n  if (typeof data === 'string') {\n    try {\n      data = JSON.parse(data);\n    } catch (error) {\n      // If the message cannot be parsed, throw the error as a warning\n      console.warn(error);\n      return {};\n    }\n  }\n  return data;\n}\n\n/**\n * Post a message to the specified target.\n *\n * @param {Player} player The player object to use.\n * @param {string} method The API method to call.\n * @param {string|number|object|Array|undefined} params The parameters to send to the player.\n * @return {void}\n */\nfunction postMessage(player, method, params) {\n  if (!player.element.contentWindow || !player.element.contentWindow.postMessage) {\n    return;\n  }\n  var message = {\n    method: method\n  };\n  if (params !== undefined) {\n    message.value = params;\n  }\n\n  // IE 8 and 9 do not support passing messages, so stringify them\n  var ieVersion = parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\\d+).*$/, '$1'));\n  if (ieVersion >= 8 && ieVersion < 10) {\n    message = JSON.stringify(message);\n  }\n  player.element.contentWindow.postMessage(message, player.origin);\n}\n\n/**\n * Parse the data received from a message event.\n *\n * @param {Player} player The player that received the message.\n * @param {(Object|string)} data The message data. Strings will be parsed into JSON.\n * @return {void}\n */\nfunction processData(player, data) {\n  data = parseMessageData(data);\n  var callbacks = [];\n  var param;\n  if (data.event) {\n    if (data.event === 'error') {\n      var promises = getCallbacks(player, data.data.method);\n      promises.forEach(function (promise) {\n        var error = new Error(data.data.message);\n        error.name = data.data.name;\n        promise.reject(error);\n        removeCallback(player, data.data.method, promise);\n      });\n    }\n    callbacks = getCallbacks(player, \"event:\".concat(data.event));\n    param = data.data;\n  } else if (data.method) {\n    var callback = shiftCallbacks(player, data.method);\n    if (callback) {\n      callbacks.push(callback);\n      param = data.value;\n    }\n  }\n  callbacks.forEach(function (callback) {\n    try {\n      if (typeof callback === 'function') {\n        callback.call(player, param);\n        return;\n      }\n      callback.resolve(param);\n    } catch (e) {\n      // empty\n    }\n  });\n}\n\n/**\n * @module lib/embed\n */\nvar oEmbedParameters = ['airplay', 'audio_tracks', 'audiotrack', 'autopause', 'autoplay', 'background', 'byline', 'cc', 'chapter_id', 'chapters', 'chromecast', 'color', 'colors', 'controls', 'dnt', 'end_time', 'fullscreen', 'height', 'id', 'initial_quality', 'interactive_params', 'keyboard', 'loop', 'maxheight', 'max_quality', 'maxwidth', 'min_quality', 'muted', 'play_button_position', 'playsinline', 'portrait', 'preload', 'progress_bar', 'quality', 'quality_selector', 'responsive', 'skipping_forward', 'speed', 'start_time', 'texttrack', 'thumbnail_id', 'title', 'transcript', 'transparent', 'unmute_button', 'url', 'vimeo_logo', 'volume', 'watch_full_video', 'width'];\n\n/**\n * Get the 'data-vimeo'-prefixed attributes from an element as an object.\n *\n * @param {HTMLElement} element The element.\n * @param {Object} [defaults={}] The default values to use.\n * @return {Object<string, string>}\n */\nfunction getOEmbedParameters(element) {\n  var defaults = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return oEmbedParameters.reduce(function (params, param) {\n    var value = element.getAttribute(\"data-vimeo-\".concat(param));\n    if (value || value === '') {\n      params[param] = value === '' ? 1 : value;\n    }\n    return params;\n  }, defaults);\n}\n\n/**\n * Create an embed from oEmbed data inside an element.\n *\n * @param {object} data The oEmbed data.\n * @param {HTMLElement} element The element to put the iframe in.\n * @return {HTMLIFrameElement} The iframe embed.\n */\nfunction createEmbed(_ref, element) {\n  var html = _ref.html;\n  if (!element) {\n    throw new TypeError('An element must be provided');\n  }\n  if (element.getAttribute('data-vimeo-initialized') !== null) {\n    return element.querySelector('iframe');\n  }\n  var div = document.createElement('div');\n  div.innerHTML = html;\n  element.appendChild(div.firstChild);\n  element.setAttribute('data-vimeo-initialized', 'true');\n  return element.querySelector('iframe');\n}\n\n/**\n * Make an oEmbed call for the specified URL.\n *\n * @param {string} videoUrl The vimeo.com url for the video.\n * @param {Object} [params] Parameters to pass to oEmbed.\n * @param {HTMLElement} element The element.\n * @return {Promise}\n */\nfunction getOEmbedData(videoUrl) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var element = arguments.length > 2 ? arguments[2] : undefined;\n  return new Promise(function (resolve, reject) {\n    if (!isVimeoUrl(videoUrl)) {\n      throw new TypeError(\"\\u201C\".concat(videoUrl, \"\\u201D is not a vimeo.com url.\"));\n    }\n    var domain = getOembedDomain(videoUrl);\n    var url = \"https://\".concat(domain, \"/api/oembed.json?url=\").concat(encodeURIComponent(videoUrl));\n    for (var param in params) {\n      if (params.hasOwnProperty(param)) {\n        url += \"&\".concat(param, \"=\").concat(encodeURIComponent(params[param]));\n      }\n    }\n    var xhr = 'XDomainRequest' in window ? new XDomainRequest() : new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.onload = function () {\n      if (xhr.status === 404) {\n        reject(new Error(\"\\u201C\".concat(videoUrl, \"\\u201D was not found.\")));\n        return;\n      }\n      if (xhr.status === 403) {\n        reject(new Error(\"\\u201C\".concat(videoUrl, \"\\u201D is not embeddable.\")));\n        return;\n      }\n      try {\n        var json = JSON.parse(xhr.responseText);\n        // Check api response for 403 on oembed\n        if (json.domain_status_code === 403) {\n          // We still want to create the embed to give users visual feedback\n          createEmbed(json, element);\n          reject(new Error(\"\\u201C\".concat(videoUrl, \"\\u201D is not embeddable.\")));\n          return;\n        }\n        resolve(json);\n      } catch (error) {\n        reject(error);\n      }\n    };\n    xhr.onerror = function () {\n      var status = xhr.status ? \" (\".concat(xhr.status, \")\") : '';\n      reject(new Error(\"There was an error fetching the embed code from Vimeo\".concat(status, \".\")));\n    };\n    xhr.send();\n  });\n}\n\n/**\n * Initialize all embeds within a specific element\n *\n * @param {HTMLElement} [parent=document] The parent element.\n * @return {void}\n */\nfunction initializeEmbeds() {\n  var parent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n  var elements = [].slice.call(parent.querySelectorAll('[data-vimeo-id], [data-vimeo-url]'));\n  var handleError = function handleError(error) {\n    if ('console' in window && console.error) {\n      console.error(\"There was an error creating an embed: \".concat(error));\n    }\n  };\n  elements.forEach(function (element) {\n    try {\n      // Skip any that have data-vimeo-defer\n      if (element.getAttribute('data-vimeo-defer') !== null) {\n        return;\n      }\n      var params = getOEmbedParameters(element);\n      var url = getVimeoUrl(params);\n      getOEmbedData(url, params, element).then(function (data) {\n        return createEmbed(data, element);\n      }).catch(handleError);\n    } catch (error) {\n      handleError(error);\n    }\n  });\n}\n\n/**\n * Resize embeds when messaged by the player.\n *\n * @param {HTMLElement} [parent=document] The parent element.\n * @return {void}\n */\nfunction resizeEmbeds() {\n  var parent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n  // Prevent execution if users include the player.js script multiple times.\n  if (window.VimeoPlayerResizeEmbeds_) {\n    return;\n  }\n  window.VimeoPlayerResizeEmbeds_ = true;\n  var onMessage = function onMessage(event) {\n    if (!isVimeoUrl(event.origin)) {\n      return;\n    }\n\n    // 'spacechange' is fired only on embeds with cards\n    if (!event.data || event.data.event !== 'spacechange') {\n      return;\n    }\n    var senderIFrame = event.source ? findIframeBySourceWindow(event.source, parent) : null;\n    if (senderIFrame) {\n      // Change padding-bottom of the enclosing div to accommodate\n      // card carousel without distorting aspect ratio\n      var space = senderIFrame.parentElement;\n      space.style.paddingBottom = \"\".concat(event.data.data[0].bottom, \"px\");\n    }\n  };\n  window.addEventListener('message', onMessage);\n}\n\n/**\n * Add chapters to existing metadata for Google SEO\n *\n * @param {HTMLElement} [parent=document] The parent element.\n * @return {void}\n */\nfunction initAppendVideoMetadata() {\n  var parent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n  //  Prevent execution if users include the player.js script multiple times.\n  if (window.VimeoSeoMetadataAppended) {\n    return;\n  }\n  window.VimeoSeoMetadataAppended = true;\n  var onMessage = function onMessage(event) {\n    if (!isVimeoUrl(event.origin)) {\n      return;\n    }\n    var data = parseMessageData(event.data);\n    if (!data || data.event !== 'ready') {\n      return;\n    }\n    var senderIFrame = event.source ? findIframeBySourceWindow(event.source, parent) : null;\n\n    // Initiate appendVideoMetadata if iframe is a Vimeo embed\n    if (senderIFrame && isVimeoEmbed(senderIFrame.src)) {\n      var player = new Player(senderIFrame);\n      player.callMethod('appendVideoMetadata', window.location.href);\n    }\n  };\n  window.addEventListener('message', onMessage);\n}\n\n/**\n * Seek to time indicated by vimeo_t query parameter if present in URL\n *\n * @param {HTMLElement} [parent=document] The parent element.\n * @return {void}\n */\nfunction checkUrlTimeParam() {\n  var parent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n  //  Prevent execution if users include the player.js script multiple times.\n  if (window.VimeoCheckedUrlTimeParam) {\n    return;\n  }\n  window.VimeoCheckedUrlTimeParam = true;\n  var handleError = function handleError(error) {\n    if ('console' in window && console.error) {\n      console.error(\"There was an error getting video Id: \".concat(error));\n    }\n  };\n  var onMessage = function onMessage(event) {\n    if (!isVimeoUrl(event.origin)) {\n      return;\n    }\n    var data = parseMessageData(event.data);\n    if (!data || data.event !== 'ready') {\n      return;\n    }\n    var senderIFrame = event.source ? findIframeBySourceWindow(event.source, parent) : null;\n    if (senderIFrame && isVimeoEmbed(senderIFrame.src)) {\n      var player = new Player(senderIFrame);\n      player.getVideoId().then(function (videoId) {\n        var matches = new RegExp(\"[?&]vimeo_t_\".concat(videoId, \"=([^&#]*)\")).exec(window.location.href);\n        if (matches && matches[1]) {\n          var sec = decodeURI(matches[1]);\n          player.setCurrentTime(sec);\n        }\n        return;\n      }).catch(handleError);\n    }\n  };\n  window.addEventListener('message', onMessage);\n}\n\n/**\n * Updates iframe embeds to support DRM content playback by adding the 'encrypted-media' permission\n * to the iframe's allow attribute when DRM initialization fails. This function acts as a fallback\n * mechanism to enable playback of DRM-protected content in embeds that weren't properly configured.\n *\n * @return {void}\n */\nfunction updateDRMEmbeds() {\n  if (window.VimeoDRMEmbedsUpdated) {\n    return;\n  }\n  window.VimeoDRMEmbedsUpdated = true;\n\n  /**\n   * Handle message events for DRM initialization failures\n   * @param {MessageEvent} event - The message event from the iframe\n   */\n  var onMessage = function onMessage(event) {\n    if (!isVimeoUrl(event.origin)) {\n      return;\n    }\n    var data = parseMessageData(event.data);\n    if (!data || data.event !== 'drminitfailed') {\n      return;\n    }\n    var senderIFrame = event.source ? findIframeBySourceWindow(event.source) : null;\n    if (!senderIFrame) {\n      return;\n    }\n    var currentAllow = senderIFrame.getAttribute('allow') || '';\n    var allowSupportsDRM = currentAllow.includes('encrypted-media');\n    if (!allowSupportsDRM) {\n      // For DRM playback to successfully occur, the iframe `allow` attribute must include 'encrypted-media'.\n      // If the video requires DRM but doesn't have the attribute, we try to add on behalf of the embed owner\n      // as a temporary measure to enable playback until they're able to update their embeds.\n      senderIFrame.setAttribute('allow', \"\".concat(currentAllow, \"; encrypted-media\"));\n      var currentUrl = new URL(senderIFrame.getAttribute('src'));\n\n      // Adding this forces the embed to reload once `allow` has been updated with `encrypted-media`.\n      currentUrl.searchParams.set('forcereload', 'drm');\n      senderIFrame.setAttribute('src', currentUrl.toString());\n      return;\n    }\n  };\n  window.addEventListener('message', onMessage);\n}\n\n/* MIT License\n\nCopyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\nTerms */\n\nfunction initializeScreenfull() {\n  var fn = function () {\n    var val;\n    var fnMap = [['requestFullscreen', 'exitFullscreen', 'fullscreenElement', 'fullscreenEnabled', 'fullscreenchange', 'fullscreenerror'],\n    // New WebKit\n    ['webkitRequestFullscreen', 'webkitExitFullscreen', 'webkitFullscreenElement', 'webkitFullscreenEnabled', 'webkitfullscreenchange', 'webkitfullscreenerror'],\n    // Old WebKit\n    ['webkitRequestFullScreen', 'webkitCancelFullScreen', 'webkitCurrentFullScreenElement', 'webkitCancelFullScreen', 'webkitfullscreenchange', 'webkitfullscreenerror'], ['mozRequestFullScreen', 'mozCancelFullScreen', 'mozFullScreenElement', 'mozFullScreenEnabled', 'mozfullscreenchange', 'mozfullscreenerror'], ['msRequestFullscreen', 'msExitFullscreen', 'msFullscreenElement', 'msFullscreenEnabled', 'MSFullscreenChange', 'MSFullscreenError']];\n    var i = 0;\n    var l = fnMap.length;\n    var ret = {};\n    for (; i < l; i++) {\n      val = fnMap[i];\n      if (val && val[1] in document) {\n        for (i = 0; i < val.length; i++) {\n          ret[fnMap[0][i]] = val[i];\n        }\n        return ret;\n      }\n    }\n    return false;\n  }();\n  var eventNameMap = {\n    fullscreenchange: fn.fullscreenchange,\n    fullscreenerror: fn.fullscreenerror\n  };\n  var screenfull = {\n    request: function request(element) {\n      return new Promise(function (resolve, reject) {\n        var onFullScreenEntered = function onFullScreenEntered() {\n          screenfull.off('fullscreenchange', onFullScreenEntered);\n          resolve();\n        };\n        screenfull.on('fullscreenchange', onFullScreenEntered);\n        element = element || document.documentElement;\n        var returnPromise = element[fn.requestFullscreen]();\n        if (returnPromise instanceof Promise) {\n          returnPromise.then(onFullScreenEntered).catch(reject);\n        }\n      });\n    },\n    exit: function exit() {\n      return new Promise(function (resolve, reject) {\n        if (!screenfull.isFullscreen) {\n          resolve();\n          return;\n        }\n        var onFullScreenExit = function onFullScreenExit() {\n          screenfull.off('fullscreenchange', onFullScreenExit);\n          resolve();\n        };\n        screenfull.on('fullscreenchange', onFullScreenExit);\n        var returnPromise = document[fn.exitFullscreen]();\n        if (returnPromise instanceof Promise) {\n          returnPromise.then(onFullScreenExit).catch(reject);\n        }\n      });\n    },\n    on: function on(event, callback) {\n      var eventName = eventNameMap[event];\n      if (eventName) {\n        document.addEventListener(eventName, callback);\n      }\n    },\n    off: function off(event, callback) {\n      var eventName = eventNameMap[event];\n      if (eventName) {\n        document.removeEventListener(eventName, callback);\n      }\n    }\n  };\n  Object.defineProperties(screenfull, {\n    isFullscreen: {\n      get: function get() {\n        return Boolean(document[fn.fullscreenElement]);\n      }\n    },\n    element: {\n      enumerable: true,\n      get: function get() {\n        return document[fn.fullscreenElement];\n      }\n    },\n    isEnabled: {\n      enumerable: true,\n      get: function get() {\n        // Coerce to boolean in case of old WebKit\n        return Boolean(document[fn.fullscreenEnabled]);\n      }\n    }\n  });\n  return screenfull;\n}\n\n/** @typedef {import('./timing-src-connector.types').PlayerControls} PlayerControls */\n/** @typedef {import('timing-object').ITimingObject} TimingObject */\n/** @typedef {import('./timing-src-connector.types').TimingSrcConnectorOptions} TimingSrcConnectorOptions */\n/** @typedef {(msg: string) => any} Logger */\n/** @typedef {import('timing-object').TConnectionState} TConnectionState */\n\n/**\n * @type {TimingSrcConnectorOptions}\n *\n * For details on these properties and their effects, see the typescript definition referenced above.\n */\nvar defaultOptions = {\n  role: 'viewer',\n  autoPlayMuted: true,\n  allowedDrift: 0.3,\n  maxAllowedDrift: 1,\n  minCheckInterval: 0.1,\n  maxRateAdjustment: 0.2,\n  maxTimeToCatchUp: 1\n};\n\n/**\n * There's a proposed W3C spec for the Timing Object which would introduce a new set of APIs that would simplify time-synchronization tasks for browser applications.\n *\n * Proposed spec: https://webtiming.github.io/timingobject/\n * V3 Spec: https://timingsrc.readthedocs.io/en/latest/\n * Demuxed talk: https://www.youtube.com/watch?v=cZSjDaGDmX8\n *\n * This class makes it easy to connect Vimeo.Player to a provided TimingObject via Vimeo.Player.setTimingSrc(myTimingObject, options) and the synchronization will be handled automatically.\n *\n * There are 5 general responsibilities in TimingSrcConnector:\n *\n * 1. `updatePlayer()` which sets the player's currentTime, playbackRate and pause/play state based on current state of the TimingObject.\n * 2. `updateTimingObject()` which sets the TimingObject's position and velocity from the player's state.\n * 3. `playerUpdater` which listens for change events on the TimingObject and will respond by calling updatePlayer.\n * 4. `timingObjectUpdater` which listens to the player events of seeked, play and pause and will respond by calling `updateTimingObject()`.\n * 5. `maintainPlaybackPosition` this is code that constantly monitors the player to make sure it's always in sync with the TimingObject. This is needed because videos will generally not play with precise time accuracy and there will be some drift which becomes more noticeable over longer periods (as noted in the timing-object spec). More details on this method below.\n */\nvar TimingSrcConnector = /*#__PURE__*/function (_EventTarget) {\n  _inherits(TimingSrcConnector, _EventTarget);\n  var _super = _createSuper(TimingSrcConnector);\n  /**\n   * @param {PlayerControls} player\n   * @param {TimingObject} timingObject\n   * @param {TimingSrcConnectorOptions} options\n   * @param {Logger} logger\n   */\n  function TimingSrcConnector(_player, timingObject) {\n    var _this;\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var logger = arguments.length > 3 ? arguments[3] : undefined;\n    _classCallCheck(this, TimingSrcConnector);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"logger\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"speedAdjustment\", 0);\n    /**\n     * @param {PlayerControls} player\n     * @param {number} newAdjustment\n     * @return {Promise<void>}\n     */\n    _defineProperty(_assertThisInitialized(_this), \"adjustSpeed\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(player, newAdjustment) {\n        var newPlaybackRate;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (!(_this.speedAdjustment === newAdjustment)) {\n                _context.next = 2;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 2:\n              _context.next = 4;\n              return player.getPlaybackRate();\n            case 4:\n              _context.t0 = _context.sent;\n              _context.t1 = _this.speedAdjustment;\n              _context.t2 = _context.t0 - _context.t1;\n              _context.t3 = newAdjustment;\n              newPlaybackRate = _context.t2 + _context.t3;\n              _this.log(\"New playbackRate:  \".concat(newPlaybackRate));\n              _context.next = 12;\n              return player.setPlaybackRate(newPlaybackRate);\n            case 12:\n              _this.speedAdjustment = newAdjustment;\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n    _this.logger = logger;\n    _this.init(timingObject, _player, _objectSpread2(_objectSpread2({}, defaultOptions), options));\n    return _this;\n  }\n  _createClass(TimingSrcConnector, [{\n    key: \"disconnect\",\n    value: function disconnect() {\n      this.dispatchEvent(new Event('disconnect'));\n    }\n\n    /**\n     * @param {TimingObject} timingObject\n     * @param {PlayerControls} player\n     * @param {TimingSrcConnectorOptions} options\n     * @return {Promise<void>}\n     */\n  }, {\n    key: \"init\",\n    value: function () {\n      var _init = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(timingObject, player, options) {\n        var _this2 = this;\n        var playerUpdater, positionSync, timingObjectUpdater;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.waitForTOReadyState(timingObject, 'open');\n            case 2:\n              if (!(options.role === 'viewer')) {\n                _context2.next = 10;\n                break;\n              }\n              _context2.next = 5;\n              return this.updatePlayer(timingObject, player, options);\n            case 5:\n              playerUpdater = subscribe(timingObject, 'change', function () {\n                return _this2.updatePlayer(timingObject, player, options);\n              });\n              positionSync = this.maintainPlaybackPosition(timingObject, player, options);\n              this.addEventListener('disconnect', function () {\n                positionSync.cancel();\n                playerUpdater.cancel();\n              });\n              _context2.next = 14;\n              break;\n            case 10:\n              _context2.next = 12;\n              return this.updateTimingObject(timingObject, player);\n            case 12:\n              timingObjectUpdater = subscribe(player, ['seeked', 'play', 'pause', 'ratechange'], function () {\n                return _this2.updateTimingObject(timingObject, player);\n              }, 'on', 'off');\n              this.addEventListener('disconnect', function () {\n                return timingObjectUpdater.cancel();\n              });\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function init(_x3, _x4, _x5) {\n        return _init.apply(this, arguments);\n      }\n      return init;\n    }()\n    /**\n     * Sets the TimingObject's state to reflect that of the player\n     *\n     * @param {TimingObject} timingObject\n     * @param {PlayerControls} player\n     * @return {Promise<void>}\n     */\n  }, {\n    key: \"updateTimingObject\",\n    value: function () {\n      var _updateTimingObject = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(timingObject, player) {\n        var _yield$Promise$all, _yield$Promise$all2, position, isPaused, playbackRate;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return Promise.all([player.getCurrentTime(), player.getPaused(), player.getPlaybackRate()]);\n            case 2:\n              _yield$Promise$all = _context3.sent;\n              _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 3);\n              position = _yield$Promise$all2[0];\n              isPaused = _yield$Promise$all2[1];\n              playbackRate = _yield$Promise$all2[2];\n              timingObject.update({\n                position: position,\n                velocity: isPaused ? 0 : playbackRate\n              });\n            case 8:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3);\n      }));\n      function updateTimingObject(_x6, _x7) {\n        return _updateTimingObject.apply(this, arguments);\n      }\n      return updateTimingObject;\n    }()\n    /**\n     * Sets the player's timing state to reflect that of the TimingObject\n     *\n     * @param {TimingObject} timingObject\n     * @param {PlayerControls} player\n     * @param {TimingSrcConnectorOptions} options\n     * @return {Promise<void>}\n     */\n  }, {\n    key: \"updatePlayer\",\n    value: function () {\n      var _updatePlayer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(timingObject, player, options) {\n        var _timingObject$query, position, velocity;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              _timingObject$query = timingObject.query(), position = _timingObject$query.position, velocity = _timingObject$query.velocity;\n              if (typeof position === 'number') {\n                player.setCurrentTime(position);\n              }\n              if (!(typeof velocity === 'number')) {\n                _context5.next = 25;\n                break;\n              }\n              if (!(velocity === 0)) {\n                _context5.next = 11;\n                break;\n              }\n              _context5.next = 6;\n              return player.getPaused();\n            case 6:\n              _context5.t0 = _context5.sent;\n              if (!(_context5.t0 === false)) {\n                _context5.next = 9;\n                break;\n              }\n              player.pause();\n            case 9:\n              _context5.next = 25;\n              break;\n            case 11:\n              if (!(velocity > 0)) {\n                _context5.next = 25;\n                break;\n              }\n              _context5.next = 14;\n              return player.getPaused();\n            case 14:\n              _context5.t1 = _context5.sent;\n              if (!(_context5.t1 === true)) {\n                _context5.next = 19;\n                break;\n              }\n              _context5.next = 18;\n              return player.play().catch( /*#__PURE__*/function () {\n                var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(err) {\n                  return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n                    while (1) switch (_context4.prev = _context4.next) {\n                      case 0:\n                        if (!(err.name === 'NotAllowedError' && options.autoPlayMuted)) {\n                          _context4.next = 5;\n                          break;\n                        }\n                        _context4.next = 3;\n                        return player.setMuted(true);\n                      case 3:\n                        _context4.next = 5;\n                        return player.play().catch(function (err2) {\n                          return console.error('Couldn\\'t play the video from TimingSrcConnector. Error:', err2);\n                        });\n                      case 5:\n                      case \"end\":\n                        return _context4.stop();\n                    }\n                  }, _callee4);\n                }));\n                return function (_x11) {\n                  return _ref2.apply(this, arguments);\n                };\n              }());\n            case 18:\n              this.updatePlayer(timingObject, player, options);\n            case 19:\n              _context5.next = 21;\n              return player.getPlaybackRate();\n            case 21:\n              _context5.t2 = _context5.sent;\n              _context5.t3 = velocity;\n              if (!(_context5.t2 !== _context5.t3)) {\n                _context5.next = 25;\n                break;\n              }\n              player.setPlaybackRate(velocity);\n            case 25:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5, this);\n      }));\n      function updatePlayer(_x8, _x9, _x10) {\n        return _updatePlayer.apply(this, arguments);\n      }\n      return updatePlayer;\n    }()\n    /**\n     * Since video players do not play with 100% time precision, we need to closely monitor\n     * our player to be sure it remains in sync with the TimingObject.\n     *\n     * If out of sync, we use the current conditions and the options provided to determine\n     * whether to re-sync via setting currentTime or adjusting the playbackRate\n     *\n     * @param {TimingObject} timingObject\n     * @param {PlayerControls} player\n     * @param {TimingSrcConnectorOptions} options\n     * @return {{cancel: (function(): void)}}\n     */\n  }, {\n    key: \"maintainPlaybackPosition\",\n    value: function maintainPlaybackPosition(timingObject, player, options) {\n      var _this3 = this;\n      var allowedDrift = options.allowedDrift,\n        maxAllowedDrift = options.maxAllowedDrift,\n        minCheckInterval = options.minCheckInterval,\n        maxRateAdjustment = options.maxRateAdjustment,\n        maxTimeToCatchUp = options.maxTimeToCatchUp;\n      var syncInterval = Math.min(maxTimeToCatchUp, Math.max(minCheckInterval, maxAllowedDrift)) * 1000;\n      var check = /*#__PURE__*/function () {\n        var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n          var diff, diffAbs, min, max, adjustment;\n          return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n            while (1) switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.t0 = timingObject.query().velocity === 0;\n                if (_context6.t0) {\n                  _context6.next = 6;\n                  break;\n                }\n                _context6.next = 4;\n                return player.getPaused();\n              case 4:\n                _context6.t1 = _context6.sent;\n                _context6.t0 = _context6.t1 === true;\n              case 6:\n                if (!_context6.t0) {\n                  _context6.next = 8;\n                  break;\n                }\n                return _context6.abrupt(\"return\");\n              case 8:\n                _context6.t2 = timingObject.query().position;\n                _context6.next = 11;\n                return player.getCurrentTime();\n              case 11:\n                _context6.t3 = _context6.sent;\n                diff = _context6.t2 - _context6.t3;\n                diffAbs = Math.abs(diff);\n                _this3.log(\"Drift: \".concat(diff));\n                if (!(diffAbs > maxAllowedDrift)) {\n                  _context6.next = 22;\n                  break;\n                }\n                _context6.next = 18;\n                return _this3.adjustSpeed(player, 0);\n              case 18:\n                player.setCurrentTime(timingObject.query().position);\n                _this3.log('Resync by currentTime');\n                _context6.next = 29;\n                break;\n              case 22:\n                if (!(diffAbs > allowedDrift)) {\n                  _context6.next = 29;\n                  break;\n                }\n                min = diffAbs / maxTimeToCatchUp;\n                max = maxRateAdjustment;\n                adjustment = min < max ? (max - min) / 2 : max;\n                _context6.next = 28;\n                return _this3.adjustSpeed(player, adjustment * Math.sign(diff));\n              case 28:\n                _this3.log('Resync by playbackRate');\n              case 29:\n              case \"end\":\n                return _context6.stop();\n            }\n          }, _callee6);\n        }));\n        return function check() {\n          return _ref3.apply(this, arguments);\n        };\n      }();\n      var interval = setInterval(function () {\n        return check();\n      }, syncInterval);\n      return {\n        cancel: function cancel() {\n          return clearInterval(interval);\n        }\n      };\n    }\n\n    /**\n     * @param {string} msg\n     */\n  }, {\n    key: \"log\",\n    value: function log(msg) {\n      var _this$logger;\n      (_this$logger = this.logger) === null || _this$logger === void 0 ? void 0 : _this$logger.call(this, \"TimingSrcConnector: \".concat(msg));\n    }\n  }, {\n    key: \"waitForTOReadyState\",\n    value:\n    /**\n     * @param {TimingObject} timingObject\n     * @param {TConnectionState} state\n     * @return {Promise<void>}\n     */\n    function waitForTOReadyState(timingObject, state) {\n      return new Promise(function (resolve) {\n        var check = function check() {\n          if (timingObject.readyState === state) {\n            resolve();\n          } else {\n            timingObject.addEventListener('readystatechange', check, {\n              once: true\n            });\n          }\n        };\n        check();\n      });\n    }\n  }]);\n  return TimingSrcConnector;\n}( /*#__PURE__*/_wrapNativeSuper(EventTarget));\n\nvar playerMap = new WeakMap();\nvar readyMap = new WeakMap();\nvar screenfull = {};\nvar Player = /*#__PURE__*/function () {\n  /**\n   * Create a Player.\n   *\n   * @param {(HTMLIFrameElement|HTMLElement|string|jQuery)} element A reference to the Vimeo\n   *        player iframe, and id, or a jQuery object.\n   * @param {object} [options] oEmbed parameters to use when creating an embed in the element.\n   * @return {Player}\n   */\n  function Player(element) {\n    var _this = this;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    _classCallCheck(this, Player);\n    /* global jQuery */\n    if (window.jQuery && element instanceof jQuery) {\n      if (element.length > 1 && window.console && console.warn) {\n        console.warn('A jQuery object with multiple elements was passed, using the first element.');\n      }\n      element = element[0];\n    }\n\n    // Find an element by ID\n    if (typeof document !== 'undefined' && typeof element === 'string') {\n      element = document.getElementById(element);\n    }\n\n    // Not an element!\n    if (!isDomElement(element)) {\n      throw new TypeError('You must pass either a valid element or a valid id.');\n    }\n\n    // Already initialized an embed in this div, so grab the iframe\n    if (element.nodeName !== 'IFRAME') {\n      var iframe = element.querySelector('iframe');\n      if (iframe) {\n        element = iframe;\n      }\n    }\n\n    // iframe url is not a Vimeo url\n    if (element.nodeName === 'IFRAME' && !isVimeoUrl(element.getAttribute('src') || '')) {\n      throw new Error('The player element passed isnt a Vimeo embed.');\n    }\n\n    // If there is already a player object in the map, return that\n    if (playerMap.has(element)) {\n      return playerMap.get(element);\n    }\n    this._window = element.ownerDocument.defaultView;\n    this.element = element;\n    this.origin = '*';\n    var readyPromise = new npo_src(function (resolve, reject) {\n      _this._onMessage = function (event) {\n        if (!isVimeoUrl(event.origin) || _this.element.contentWindow !== event.source) {\n          return;\n        }\n        if (_this.origin === '*') {\n          _this.origin = event.origin;\n        }\n        var data = parseMessageData(event.data);\n        var isError = data && data.event === 'error';\n        var isReadyError = isError && data.data && data.data.method === 'ready';\n        if (isReadyError) {\n          var error = new Error(data.data.message);\n          error.name = data.data.name;\n          reject(error);\n          return;\n        }\n        var isReadyEvent = data && data.event === 'ready';\n        var isPingResponse = data && data.method === 'ping';\n        if (isReadyEvent || isPingResponse) {\n          _this.element.setAttribute('data-ready', 'true');\n          resolve();\n          return;\n        }\n        processData(_this, data);\n      };\n      _this._window.addEventListener('message', _this._onMessage);\n      if (_this.element.nodeName !== 'IFRAME') {\n        var params = getOEmbedParameters(element, options);\n        var url = getVimeoUrl(params);\n        getOEmbedData(url, params, element).then(function (data) {\n          var iframe = createEmbed(data, element);\n          // Overwrite element with the new iframe,\n          // but store reference to the original element\n          _this.element = iframe;\n          _this._originalElement = element;\n          swapCallbacks(element, iframe);\n          playerMap.set(_this.element, _this);\n          return data;\n        }).catch(reject);\n      }\n    });\n\n    // Store a copy of this Player in the map\n    readyMap.set(this, readyPromise);\n    playerMap.set(this.element, this);\n\n    // Send a ping to the iframe so the ready promise will be resolved if\n    // the player is already ready.\n    if (this.element.nodeName === 'IFRAME') {\n      postMessage(this, 'ping');\n    }\n    if (screenfull.isEnabled) {\n      var exitFullscreen = function exitFullscreen() {\n        return screenfull.exit();\n      };\n      this.fullscreenchangeHandler = function () {\n        if (screenfull.isFullscreen) {\n          storeCallback(_this, 'event:exitFullscreen', exitFullscreen);\n        } else {\n          removeCallback(_this, 'event:exitFullscreen', exitFullscreen);\n        }\n        // eslint-disable-next-line\n        _this.ready().then(function () {\n          postMessage(_this, 'fullscreenchange', screenfull.isFullscreen);\n        });\n      };\n      screenfull.on('fullscreenchange', this.fullscreenchangeHandler);\n    }\n    return this;\n  }\n\n  /**\n   * Check to see if the URL is a Vimeo URL.\n   *\n   * @param {string} url The URL string.\n   * @return {boolean}\n   */\n  _createClass(Player, [{\n    key: \"callMethod\",\n    value:\n    /**\n     * Get a promise for a method.\n     *\n     * @param {string} name The API method to call.\n     * @param {...(string|number|object|Array)} args Arguments to send via postMessage.\n     * @return {Promise}\n     */\n    function callMethod(name) {\n      var _this2 = this;\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      if (name === undefined || name === null) {\n        throw new TypeError('You must pass a method name.');\n      }\n      return new npo_src(function (resolve, reject) {\n        // We are storing the resolve/reject handlers to call later, so we\n        // cant return here.\n        return _this2.ready().then(function () {\n          storeCallback(_this2, name, {\n            resolve: resolve,\n            reject: reject\n          });\n          if (args.length === 0) {\n            args = {};\n          } else if (args.length === 1) {\n            args = args[0];\n          }\n          postMessage(_this2, name, args);\n        }).catch(reject);\n      });\n    }\n    /**\n     * Get a promise for the value of a player property.\n     *\n     * @param {string} name The property name\n     * @return {Promise}\n     */\n  }, {\n    key: \"get\",\n    value: function get(name) {\n      var _this3 = this;\n      return new npo_src(function (resolve, reject) {\n        name = getMethodName(name, 'get');\n\n        // We are storing the resolve/reject handlers to call later, so we\n        // cant return here.\n        return _this3.ready().then(function () {\n          storeCallback(_this3, name, {\n            resolve: resolve,\n            reject: reject\n          });\n          postMessage(_this3, name);\n        }).catch(reject);\n      });\n    }\n\n    /**\n     * Get a promise for setting the value of a player property.\n     *\n     * @param {string} name The API method to call.\n     * @param {mixed} value The value to set.\n     * @return {Promise}\n     */\n  }, {\n    key: \"set\",\n    value: function set(name, value) {\n      var _this4 = this;\n      return new npo_src(function (resolve, reject) {\n        name = getMethodName(name, 'set');\n        if (value === undefined || value === null) {\n          throw new TypeError('There must be a value to set.');\n        }\n\n        // We are storing the resolve/reject handlers to call later, so we\n        // cant return here.\n        return _this4.ready().then(function () {\n          storeCallback(_this4, name, {\n            resolve: resolve,\n            reject: reject\n          });\n          postMessage(_this4, name, value);\n        }).catch(reject);\n      });\n    }\n\n    /**\n     * Add an event listener for the specified event. Will call the\n     * callback with a single parameter, `data`, that contains the data for\n     * that event.\n     *\n     * @param {string} eventName The name of the event.\n     * @param {function(*)} callback The function to call when the event fires.\n     * @return {void}\n     */\n  }, {\n    key: \"on\",\n    value: function on(eventName, callback) {\n      if (!eventName) {\n        throw new TypeError('You must pass an event name.');\n      }\n      if (!callback) {\n        throw new TypeError('You must pass a callback function.');\n      }\n      if (typeof callback !== 'function') {\n        throw new TypeError('The callback must be a function.');\n      }\n      var callbacks = getCallbacks(this, \"event:\".concat(eventName));\n      if (callbacks.length === 0) {\n        this.callMethod('addEventListener', eventName).catch(function () {\n          // Ignore the error. There will be an error event fired that\n          // will trigger the error callback if they are listening.\n        });\n      }\n      storeCallback(this, \"event:\".concat(eventName), callback);\n    }\n\n    /**\n     * Remove an event listener for the specified event. Will remove all\n     * listeners for that event if a `callback` isnt passed, or only that\n     * specific callback if it is passed.\n     *\n     * @param {string} eventName The name of the event.\n     * @param {function} [callback] The specific callback to remove.\n     * @return {void}\n     */\n  }, {\n    key: \"off\",\n    value: function off(eventName, callback) {\n      if (!eventName) {\n        throw new TypeError('You must pass an event name.');\n      }\n      if (callback && typeof callback !== 'function') {\n        throw new TypeError('The callback must be a function.');\n      }\n      var lastCallback = removeCallback(this, \"event:\".concat(eventName), callback);\n\n      // If there are no callbacks left, remove the listener\n      if (lastCallback) {\n        this.callMethod('removeEventListener', eventName).catch(function (e) {\n          // Ignore the error. There will be an error event fired that\n          // will trigger the error callback if they are listening.\n        });\n      }\n    }\n\n    /**\n     * A promise to load a new video.\n     *\n     * @promise LoadVideoPromise\n     * @fulfill {number} The video with this id or url successfully loaded.\n     * @reject {TypeError} The id was not a number.\n     */\n    /**\n     * Load a new video into this embed. The promise will be resolved if\n     * the video is successfully loaded, or it will be rejected if it could\n     * not be loaded.\n     *\n     * @param {number|string|object} options The id of the video, the url of the video, or an object with embed options.\n     * @return {LoadVideoPromise}\n     */\n  }, {\n    key: \"loadVideo\",\n    value: function loadVideo(options) {\n      return this.callMethod('loadVideo', options);\n    }\n\n    /**\n     * A promise to perform an action when the Player is ready.\n     *\n     * @todo document errors\n     * @promise LoadVideoPromise\n     * @fulfill {void}\n     */\n    /**\n     * Trigger a function when the player iframe has initialized. You do not\n     * need to wait for `ready` to trigger to begin adding event listeners\n     * or calling other methods.\n     *\n     * @return {ReadyPromise}\n     */\n  }, {\n    key: \"ready\",\n    value: function ready() {\n      var readyPromise = readyMap.get(this) || new npo_src(function (resolve, reject) {\n        reject(new Error('Unknown player. Probably unloaded.'));\n      });\n      return npo_src.resolve(readyPromise);\n    }\n\n    /**\n     * A promise to add a cue point to the player.\n     *\n     * @promise AddCuePointPromise\n     * @fulfill {string} The id of the cue point to use for removeCuePoint.\n     * @reject {RangeError} the time was less than 0 or greater than the\n     *         videos duration.\n     * @reject {UnsupportedError} Cue points are not supported with the current\n     *         player or browser.\n     */\n    /**\n     * Add a cue point to the player.\n     *\n     * @param {number} time The time for the cue point.\n     * @param {object} [data] Arbitrary data to be returned with the cue point.\n     * @return {AddCuePointPromise}\n     */\n  }, {\n    key: \"addCuePoint\",\n    value: function addCuePoint(time) {\n      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this.callMethod('addCuePoint', {\n        time: time,\n        data: data\n      });\n    }\n\n    /**\n     * A promise to remove a cue point from the player.\n     *\n     * @promise AddCuePointPromise\n     * @fulfill {string} The id of the cue point that was removed.\n     * @reject {InvalidCuePoint} The cue point with the specified id was not\n     *         found.\n     * @reject {UnsupportedError} Cue points are not supported with the current\n     *         player or browser.\n     */\n    /**\n     * Remove a cue point from the video.\n     *\n     * @param {string} id The id of the cue point to remove.\n     * @return {RemoveCuePointPromise}\n     */\n  }, {\n    key: \"removeCuePoint\",\n    value: function removeCuePoint(id) {\n      return this.callMethod('removeCuePoint', id);\n    }\n\n    /**\n     * A representation of a text track on a video.\n     *\n     * @typedef {Object} VimeoTextTrack\n     * @property {string} language The ISO language code.\n     * @property {string} kind The kind of track it is (captions or subtitles).\n     * @property {string} label The humanreadable label for the track.\n     */\n    /**\n     * A promise to enable a text track.\n     *\n     * @promise EnableTextTrackPromise\n     * @fulfill {VimeoTextTrack} The text track that was enabled.\n     * @reject {InvalidTrackLanguageError} No track was available with the\n     *         specified language.\n     * @reject {InvalidTrackError} No track was available with the specified\n     *         language and kind.\n     */\n    /**\n     * Enable the text track with the specified language, and optionally the\n     * specified kind (captions or subtitles).\n     *\n     * When set via the API, the track language will not change the viewers\n     * stored preference.\n     *\n     * @param {string} language The twoletter language code.\n     * @param {string} [kind] The kind of track to enable (captions or subtitles).\n     * @return {EnableTextTrackPromise}\n     */\n  }, {\n    key: \"enableTextTrack\",\n    value: function enableTextTrack(language, kind) {\n      if (!language) {\n        throw new TypeError('You must pass a language.');\n      }\n      return this.callMethod('enableTextTrack', {\n        language: language,\n        kind: kind\n      });\n    }\n\n    /**\n     * A promise to disable the active text track.\n     *\n     * @promise DisableTextTrackPromise\n     * @fulfill {void} The track was disabled.\n     */\n    /**\n     * Disable the currently-active text track.\n     *\n     * @return {DisableTextTrackPromise}\n     */\n  }, {\n    key: \"disableTextTrack\",\n    value: function disableTextTrack() {\n      return this.callMethod('disableTextTrack');\n    }\n\n    /**\n     * A promise to pause the video.\n     *\n     * @promise PausePromise\n     * @fulfill {void} The video was paused.\n     */\n    /**\n     * Pause the video if its playing.\n     *\n     * @return {PausePromise}\n     */\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      return this.callMethod('pause');\n    }\n\n    /**\n     * A promise to play the video.\n     *\n     * @promise PlayPromise\n     * @fulfill {void} The video was played.\n     */\n    /**\n     * Play the video if its paused. **Note:** on iOS and some other\n     * mobile devices, you cannot programmatically trigger play. Once the\n     * viewer has tapped on the play button in the player, however, you\n     * will be able to use this function.\n     *\n     * @return {PlayPromise}\n     */\n  }, {\n    key: \"play\",\n    value: function play() {\n      return this.callMethod('play');\n    }\n\n    /**\n     * Request that the player enters fullscreen.\n     * @return {Promise}\n     */\n  }, {\n    key: \"requestFullscreen\",\n    value: function requestFullscreen() {\n      if (screenfull.isEnabled) {\n        return screenfull.request(this.element);\n      }\n      return this.callMethod('requestFullscreen');\n    }\n\n    /**\n     * Request that the player exits fullscreen.\n     * @return {Promise}\n     */\n  }, {\n    key: \"exitFullscreen\",\n    value: function exitFullscreen() {\n      if (screenfull.isEnabled) {\n        return screenfull.exit();\n      }\n      return this.callMethod('exitFullscreen');\n    }\n\n    /**\n     * Returns true if the player is currently fullscreen.\n     * @return {Promise}\n     */\n  }, {\n    key: \"getFullscreen\",\n    value: function getFullscreen() {\n      if (screenfull.isEnabled) {\n        return npo_src.resolve(screenfull.isFullscreen);\n      }\n      return this.get('fullscreen');\n    }\n\n    /**\n     * Request that the player enters picture-in-picture.\n     * @return {Promise}\n     */\n  }, {\n    key: \"requestPictureInPicture\",\n    value: function requestPictureInPicture() {\n      return this.callMethod('requestPictureInPicture');\n    }\n\n    /**\n     * Request that the player exits picture-in-picture.\n     * @return {Promise}\n     */\n  }, {\n    key: \"exitPictureInPicture\",\n    value: function exitPictureInPicture() {\n      return this.callMethod('exitPictureInPicture');\n    }\n\n    /**\n     * Returns true if the player is currently picture-in-picture.\n     * @return {Promise}\n     */\n  }, {\n    key: \"getPictureInPicture\",\n    value: function getPictureInPicture() {\n      return this.get('pictureInPicture');\n    }\n\n    /**\n     * A promise to prompt the viewer to initiate remote playback.\n     *\n     * @promise RemotePlaybackPromptPromise\n     * @fulfill {void}\n     * @reject {NotFoundError} No remote playback device is available.\n     */\n    /**\n     * Request to prompt the user to initiate remote playback.\n     *\n     * @return {RemotePlaybackPromptPromise}\n     */\n  }, {\n    key: \"remotePlaybackPrompt\",\n    value: function remotePlaybackPrompt() {\n      return this.callMethod('remotePlaybackPrompt');\n    }\n\n    /**\n     * A promise to unload the video.\n     *\n     * @promise UnloadPromise\n     * @fulfill {void} The video was unloaded.\n     */\n    /**\n     * Return the player to its initial state.\n     *\n     * @return {UnloadPromise}\n     */\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      return this.callMethod('unload');\n    }\n\n    /**\n     * Cleanup the player and remove it from the DOM\n     *\n     * It won't be usable and a new one should be constructed\n     *  in order to do any operations.\n     *\n     * @return {Promise}\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this5 = this;\n      return new npo_src(function (resolve) {\n        readyMap.delete(_this5);\n        playerMap.delete(_this5.element);\n        if (_this5._originalElement) {\n          playerMap.delete(_this5._originalElement);\n          _this5._originalElement.removeAttribute('data-vimeo-initialized');\n        }\n        if (_this5.element && _this5.element.nodeName === 'IFRAME' && _this5.element.parentNode) {\n          // If we've added an additional wrapper div, remove that from the DOM.\n          // If not, just remove the iframe element.\n          if (_this5.element.parentNode.parentNode && _this5._originalElement && _this5._originalElement !== _this5.element.parentNode) {\n            _this5.element.parentNode.parentNode.removeChild(_this5.element.parentNode);\n          } else {\n            _this5.element.parentNode.removeChild(_this5.element);\n          }\n        }\n\n        // If the clip is private there is a case where the element stays the\n        // div element. Destroy should reset the div and remove the iframe child.\n        if (_this5.element && _this5.element.nodeName === 'DIV' && _this5.element.parentNode) {\n          _this5.element.removeAttribute('data-vimeo-initialized');\n          var iframe = _this5.element.querySelector('iframe');\n          if (iframe && iframe.parentNode) {\n            // If we've added an additional wrapper div, remove that from the DOM.\n            // If not, just remove the iframe element.\n            if (iframe.parentNode.parentNode && _this5._originalElement && _this5._originalElement !== iframe.parentNode) {\n              iframe.parentNode.parentNode.removeChild(iframe.parentNode);\n            } else {\n              iframe.parentNode.removeChild(iframe);\n            }\n          }\n        }\n        _this5._window.removeEventListener('message', _this5._onMessage);\n        if (screenfull.isEnabled) {\n          screenfull.off('fullscreenchange', _this5.fullscreenchangeHandler);\n        }\n        resolve();\n      });\n    }\n\n    /**\n     * A promise to get the autopause behavior of the video.\n     *\n     * @promise GetAutopausePromise\n     * @fulfill {boolean} Whether autopause is turned on or off.\n     * @reject {UnsupportedError} Autopause is not supported with the current\n     *         player or browser.\n     */\n    /**\n     * Get the autopause behavior for this player.\n     *\n     * @return {GetAutopausePromise}\n     */\n  }, {\n    key: \"getAutopause\",\n    value: function getAutopause() {\n      return this.get('autopause');\n    }\n\n    /**\n     * A promise to set the autopause behavior of the video.\n     *\n     * @promise SetAutopausePromise\n     * @fulfill {boolean} Whether autopause is turned on or off.\n     * @reject {UnsupportedError} Autopause is not supported with the current\n     *         player or browser.\n     */\n    /**\n     * Enable or disable the autopause behavior of this player.\n     *\n     * By default, when another video is played in the same browser, this\n     * player will automatically pause. Unless you have a specific reason\n     * for doing so, we recommend that you leave autopause set to the\n     * default (`true`).\n     *\n     * @param {boolean} autopause\n     * @return {SetAutopausePromise}\n     */\n  }, {\n    key: \"setAutopause\",\n    value: function setAutopause(autopause) {\n      return this.set('autopause', autopause);\n    }\n\n    /**\n     * A promise to get the buffered property of the video.\n     *\n     * @promise GetBufferedPromise\n     * @fulfill {Array} Buffered Timeranges converted to an Array.\n     */\n    /**\n     * Get the buffered property of the video.\n     *\n     * @return {GetBufferedPromise}\n     */\n  }, {\n    key: \"getBuffered\",\n    value: function getBuffered() {\n      return this.get('buffered');\n    }\n\n    /**\n     * @typedef {Object} CameraProperties\n     * @prop {number} props.yaw - Number between 0 and 360.\n     * @prop {number} props.pitch - Number between -90 and 90.\n     * @prop {number} props.roll - Number between -180 and 180.\n     * @prop {number} props.fov - The field of view in degrees.\n     */\n    /**\n     * A promise to get the camera properties of the player.\n     *\n     * @promise GetCameraPromise\n     * @fulfill {CameraProperties} The camera properties.\n     */\n    /**\n     * For 360 videos get the camera properties for this player.\n     *\n     * @return {GetCameraPromise}\n     */\n  }, {\n    key: \"getCameraProps\",\n    value: function getCameraProps() {\n      return this.get('cameraProps');\n    }\n\n    /**\n     * A promise to set the camera properties of the player.\n     *\n     * @promise SetCameraPromise\n     * @fulfill {Object} The camera was successfully set.\n     * @reject {RangeError} The range was out of bounds.\n     */\n    /**\n     * For 360 videos set the camera properties for this player.\n     *\n     * @param {CameraProperties} camera The camera properties\n     * @return {SetCameraPromise}\n     */\n  }, {\n    key: \"setCameraProps\",\n    value: function setCameraProps(camera) {\n      return this.set('cameraProps', camera);\n    }\n\n    /**\n     * A representation of a chapter.\n     *\n     * @typedef {Object} VimeoChapter\n     * @property {number} startTime The start time of the chapter.\n     * @property {object} title The title of the chapter.\n     * @property {number} index The place in the order of Chapters. Starts at 1.\n     */\n    /**\n     * A promise to get chapters for the video.\n     *\n     * @promise GetChaptersPromise\n     * @fulfill {VimeoChapter[]} The chapters for the video.\n     */\n    /**\n     * Get an array of all the chapters for the video.\n     *\n     * @return {GetChaptersPromise}\n     */\n  }, {\n    key: \"getChapters\",\n    value: function getChapters() {\n      return this.get('chapters');\n    }\n\n    /**\n     * A promise to get the currently active chapter.\n     *\n     * @promise GetCurrentChaptersPromise\n     * @fulfill {VimeoChapter|undefined} The current chapter for the video.\n     */\n    /**\n     * Get the currently active chapter for the video.\n     *\n     * @return {GetCurrentChaptersPromise}\n     */\n  }, {\n    key: \"getCurrentChapter\",\n    value: function getCurrentChapter() {\n      return this.get('currentChapter');\n    }\n\n    /**\n     * A promise to get the accent color of the player.\n     *\n     * @promise GetColorPromise\n     * @fulfill {string} The hex color of the player.\n     */\n    /**\n     * Get the accent color for this player. Note this is deprecated in place of `getColorTwo`.\n     *\n     * @return {GetColorPromise}\n     */\n  }, {\n    key: \"getColor\",\n    value: function getColor() {\n      return this.get('color');\n    }\n\n    /**\n     * A promise to get all colors for the player in an array.\n     *\n     * @promise GetColorsPromise\n     * @fulfill {string[]} The hex colors of the player.\n     */\n    /**\n     * Get all the colors for this player in an array: [colorOne, colorTwo, colorThree, colorFour]\n     *\n     * @return {GetColorPromise}\n     */\n  }, {\n    key: \"getColors\",\n    value: function getColors() {\n      return npo_src.all([this.get('colorOne'), this.get('colorTwo'), this.get('colorThree'), this.get('colorFour')]);\n    }\n\n    /**\n     * A promise to set the accent color of the player.\n     *\n     * @promise SetColorPromise\n     * @fulfill {string} The color was successfully set.\n     * @reject {TypeError} The string was not a valid hex or rgb color.\n     * @reject {ContrastError} The color was set, but the contrast is\n     *         outside of the acceptable range.\n     * @reject {EmbedSettingsError} The owner of the player has chosen to\n     *         use a specific color.\n     */\n    /**\n     * Set the accent color of this player to a hex or rgb string. Setting the\n     * color may fail if the owner of the video has set their embed\n     * preferences to force a specific color.\n     * Note this is deprecated in place of `setColorTwo`.\n     *\n     * @param {string} color The hex or rgb color string to set.\n     * @return {SetColorPromise}\n     */\n  }, {\n    key: \"setColor\",\n    value: function setColor(color) {\n      return this.set('color', color);\n    }\n\n    /**\n     * A promise to set all colors for the player.\n     *\n     * @promise SetColorsPromise\n     * @fulfill {string[]} The colors were successfully set.\n     * @reject {TypeError} The string was not a valid hex or rgb color.\n     * @reject {ContrastError} The color was set, but the contrast is\n     *         outside of the acceptable range.\n     * @reject {EmbedSettingsError} The owner of the player has chosen to\n     *         use a specific color.\n     */\n    /**\n     * Set the colors of this player to a hex or rgb string. Setting the\n     * color may fail if the owner of the video has set their embed\n     * preferences to force a specific color.\n     * The colors should be passed in as an array: [colorOne, colorTwo, colorThree, colorFour].\n     * If a color should not be set, the index in the array can be left as null.\n     *\n     * @param {string[]} colors Array of the hex or rgb color strings to set.\n     * @return {SetColorsPromise}\n     */\n  }, {\n    key: \"setColors\",\n    value: function setColors(colors) {\n      if (!Array.isArray(colors)) {\n        return new npo_src(function (resolve, reject) {\n          return reject(new TypeError('Argument must be an array.'));\n        });\n      }\n      var nullPromise = new npo_src(function (resolve) {\n        return resolve(null);\n      });\n      var colorPromises = [colors[0] ? this.set('colorOne', colors[0]) : nullPromise, colors[1] ? this.set('colorTwo', colors[1]) : nullPromise, colors[2] ? this.set('colorThree', colors[2]) : nullPromise, colors[3] ? this.set('colorFour', colors[3]) : nullPromise];\n      return npo_src.all(colorPromises);\n    }\n\n    /**\n     * A representation of a cue point.\n     *\n     * @typedef {Object} VimeoCuePoint\n     * @property {number} time The time of the cue point.\n     * @property {object} data The data passed when adding the cue point.\n     * @property {string} id The unique id for use with removeCuePoint.\n     */\n    /**\n     * A promise to get the cue points of a video.\n     *\n     * @promise GetCuePointsPromise\n     * @fulfill {VimeoCuePoint[]} The cue points added to the video.\n     * @reject {UnsupportedError} Cue points are not supported with the current\n     *         player or browser.\n     */\n    /**\n     * Get an array of the cue points added to the video.\n     *\n     * @return {GetCuePointsPromise}\n     */\n  }, {\n    key: \"getCuePoints\",\n    value: function getCuePoints() {\n      return this.get('cuePoints');\n    }\n\n    /**\n     * A promise to get the current time of the video.\n     *\n     * @promise GetCurrentTimePromise\n     * @fulfill {number} The current time in seconds.\n     */\n    /**\n     * Get the current playback position in seconds.\n     *\n     * @return {GetCurrentTimePromise}\n     */\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      return this.get('currentTime');\n    }\n\n    /**\n     * A promise to set the current time of the video.\n     *\n     * @promise SetCurrentTimePromise\n     * @fulfill {number} The actual current time that was set.\n     * @reject {RangeError} the time was less than 0 or greater than the\n     *         videos duration.\n     */\n    /**\n     * Set the current playback position in seconds. If the player was\n     * paused, it will remain paused. Likewise, if the player was playing,\n     * it will resume playing once the video has buffered.\n     *\n     * You can provide an accurate time and the player will attempt to seek\n     * to as close to that time as possible. The exact time will be the\n     * fulfilled value of the promise.\n     *\n     * @param {number} currentTime\n     * @return {SetCurrentTimePromise}\n     */\n  }, {\n    key: \"setCurrentTime\",\n    value: function setCurrentTime(currentTime) {\n      return this.set('currentTime', currentTime);\n    }\n\n    /**\n     * A promise to get the duration of the video.\n     *\n     * @promise GetDurationPromise\n     * @fulfill {number} The duration in seconds.\n     */\n    /**\n     * Get the duration of the video in seconds. It will be rounded to the\n     * nearest second before playback begins, and to the nearest thousandth\n     * of a second after playback begins.\n     *\n     * @return {GetDurationPromise}\n     */\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      return this.get('duration');\n    }\n\n    /**\n     * A promise to get the ended state of the video.\n     *\n     * @promise GetEndedPromise\n     * @fulfill {boolean} Whether or not the video has ended.\n     */\n    /**\n     * Get the ended state of the video. The video has ended if\n     * `currentTime === duration`.\n     *\n     * @return {GetEndedPromise}\n     */\n  }, {\n    key: \"getEnded\",\n    value: function getEnded() {\n      return this.get('ended');\n    }\n\n    /**\n     * A promise to get the loop state of the player.\n     *\n     * @promise GetLoopPromise\n     * @fulfill {boolean} Whether or not the player is set to loop.\n     */\n    /**\n     * Get the loop state of the player.\n     *\n     * @return {GetLoopPromise}\n     */\n  }, {\n    key: \"getLoop\",\n    value: function getLoop() {\n      return this.get('loop');\n    }\n\n    /**\n     * A promise to set the loop state of the player.\n     *\n     * @promise SetLoopPromise\n     * @fulfill {boolean} The loop state that was set.\n     */\n    /**\n     * Set the loop state of the player. When set to `true`, the player\n     * will start over immediately once playback ends.\n     *\n     * @param {boolean} loop\n     * @return {SetLoopPromise}\n     */\n  }, {\n    key: \"setLoop\",\n    value: function setLoop(loop) {\n      return this.set('loop', loop);\n    }\n\n    /**\n     * A promise to set the muted state of the player.\n     *\n     * @promise SetMutedPromise\n     * @fulfill {boolean} The muted state that was set.\n     */\n    /**\n     * Set the muted state of the player. When set to `true`, the player\n     * volume will be muted.\n     *\n     * @param {boolean} muted\n     * @return {SetMutedPromise}\n     */\n  }, {\n    key: \"setMuted\",\n    value: function setMuted(muted) {\n      return this.set('muted', muted);\n    }\n\n    /**\n     * A promise to get the muted state of the player.\n     *\n     * @promise GetMutedPromise\n     * @fulfill {boolean} Whether or not the player is muted.\n     */\n    /**\n     * Get the muted state of the player.\n     *\n     * @return {GetMutedPromise}\n     */\n  }, {\n    key: \"getMuted\",\n    value: function getMuted() {\n      return this.get('muted');\n    }\n\n    /**\n     * A promise to get the paused state of the player.\n     *\n     * @promise GetLoopPromise\n     * @fulfill {boolean} Whether or not the video is paused.\n     */\n    /**\n     * Get the paused state of the player.\n     *\n     * @return {GetLoopPromise}\n     */\n  }, {\n    key: \"getPaused\",\n    value: function getPaused() {\n      return this.get('paused');\n    }\n\n    /**\n     * A promise to get the playback rate of the player.\n     *\n     * @promise GetPlaybackRatePromise\n     * @fulfill {number} The playback rate of the player on a scale from 0 to 2.\n     */\n    /**\n     * Get the playback rate of the player on a scale from `0` to `2`.\n     *\n     * @return {GetPlaybackRatePromise}\n     */\n  }, {\n    key: \"getPlaybackRate\",\n    value: function getPlaybackRate() {\n      return this.get('playbackRate');\n    }\n\n    /**\n     * A promise to set the playbackrate of the player.\n     *\n     * @promise SetPlaybackRatePromise\n     * @fulfill {number} The playback rate was set.\n     * @reject {RangeError} The playback rate was less than 0 or greater than 2.\n     */\n    /**\n     * Set the playback rate of the player on a scale from `0` to `2`. When set\n     * via the API, the playback rate will not be synchronized to other\n     * players or stored as the viewer's preference.\n     *\n     * @param {number} playbackRate\n     * @return {SetPlaybackRatePromise}\n     */\n  }, {\n    key: \"setPlaybackRate\",\n    value: function setPlaybackRate(playbackRate) {\n      return this.set('playbackRate', playbackRate);\n    }\n\n    /**\n     * A promise to get the played property of the video.\n     *\n     * @promise GetPlayedPromise\n     * @fulfill {Array} Played Timeranges converted to an Array.\n     */\n    /**\n     * Get the played property of the video.\n     *\n     * @return {GetPlayedPromise}\n     */\n  }, {\n    key: \"getPlayed\",\n    value: function getPlayed() {\n      return this.get('played');\n    }\n\n    /**\n     * A promise to get the qualities available of the current video.\n     *\n     * @promise GetQualitiesPromise\n     * @fulfill {Array} The qualities of the video.\n     */\n    /**\n     * Get the qualities of the current video.\n     *\n     * @return {GetQualitiesPromise}\n     */\n  }, {\n    key: \"getQualities\",\n    value: function getQualities() {\n      return this.get('qualities');\n    }\n\n    /**\n     * A promise to get the current set quality of the video.\n     *\n     * @promise GetQualityPromise\n     * @fulfill {string} The current set quality.\n     */\n    /**\n     * Get the current set quality of the video.\n     *\n     * @return {GetQualityPromise}\n     */\n  }, {\n    key: \"getQuality\",\n    value: function getQuality() {\n      return this.get('quality');\n    }\n\n    /**\n     * A promise to set the video quality.\n     *\n     * @promise SetQualityPromise\n     * @fulfill {number} The quality was set.\n     * @reject {RangeError} The quality is not available.\n     */\n    /**\n     * Set a video quality.\n     *\n     * @param {string} quality\n     * @return {SetQualityPromise}\n     */\n  }, {\n    key: \"setQuality\",\n    value: function setQuality(quality) {\n      return this.set('quality', quality);\n    }\n\n    /**\n     * A promise to get the remote playback availability.\n     *\n     * @promise RemotePlaybackAvailabilityPromise\n     * @fulfill {boolean} Whether remote playback is available.\n     */\n    /**\n     * Get the availability of remote playback.\n     *\n     * @return {RemotePlaybackAvailabilityPromise}\n     */\n  }, {\n    key: \"getRemotePlaybackAvailability\",\n    value: function getRemotePlaybackAvailability() {\n      return this.get('remotePlaybackAvailability');\n    }\n\n    /**\n     * A promise to get the current remote playback state.\n     *\n     * @promise RemotePlaybackStatePromise\n     * @fulfill {string} The state of the remote playback: connecting, connected, or disconnected.\n     */\n    /**\n     * Get the current remote playback state.\n     *\n     * @return {RemotePlaybackStatePromise}\n     */\n  }, {\n    key: \"getRemotePlaybackState\",\n    value: function getRemotePlaybackState() {\n      return this.get('remotePlaybackState');\n    }\n\n    /**\n     * A promise to get the seekable property of the video.\n     *\n     * @promise GetSeekablePromise\n     * @fulfill {Array} Seekable Timeranges converted to an Array.\n     */\n    /**\n     * Get the seekable property of the video.\n     *\n     * @return {GetSeekablePromise}\n     */\n  }, {\n    key: \"getSeekable\",\n    value: function getSeekable() {\n      return this.get('seekable');\n    }\n\n    /**\n     * A promise to get the seeking property of the player.\n     *\n     * @promise GetSeekingPromise\n     * @fulfill {boolean} Whether or not the player is currently seeking.\n     */\n    /**\n     * Get if the player is currently seeking.\n     *\n     * @return {GetSeekingPromise}\n     */\n  }, {\n    key: \"getSeeking\",\n    value: function getSeeking() {\n      return this.get('seeking');\n    }\n\n    /**\n     * A promise to get the text tracks of a video.\n     *\n     * @promise GetTextTracksPromise\n     * @fulfill {VimeoTextTrack[]} The text tracks associated with the video.\n     */\n    /**\n     * Get an array of the text tracks that exist for the video.\n     *\n     * @return {GetTextTracksPromise}\n     */\n  }, {\n    key: \"getTextTracks\",\n    value: function getTextTracks() {\n      return this.get('textTracks');\n    }\n\n    /**\n     * A promise to get the embed code for the video.\n     *\n     * @promise GetVideoEmbedCodePromise\n     * @fulfill {string} The `<iframe>` embed code for the video.\n     */\n    /**\n     * Get the `<iframe>` embed code for the video.\n     *\n     * @return {GetVideoEmbedCodePromise}\n     */\n  }, {\n    key: \"getVideoEmbedCode\",\n    value: function getVideoEmbedCode() {\n      return this.get('videoEmbedCode');\n    }\n\n    /**\n     * A promise to get the id of the video.\n     *\n     * @promise GetVideoIdPromise\n     * @fulfill {number} The id of the video.\n     */\n    /**\n     * Get the id of the video.\n     *\n     * @return {GetVideoIdPromise}\n     */\n  }, {\n    key: \"getVideoId\",\n    value: function getVideoId() {\n      return this.get('videoId');\n    }\n\n    /**\n     * A promise to get the title of the video.\n     *\n     * @promise GetVideoTitlePromise\n     * @fulfill {number} The title of the video.\n     */\n    /**\n     * Get the title of the video.\n     *\n     * @return {GetVideoTitlePromise}\n     */\n  }, {\n    key: \"getVideoTitle\",\n    value: function getVideoTitle() {\n      return this.get('videoTitle');\n    }\n\n    /**\n     * A promise to get the native width of the video.\n     *\n     * @promise GetVideoWidthPromise\n     * @fulfill {number} The native width of the video.\n     */\n    /**\n     * Get the native width of the currentlyplaying video. The width of\n     * the highestresolution available will be used before playback begins.\n     *\n     * @return {GetVideoWidthPromise}\n     */\n  }, {\n    key: \"getVideoWidth\",\n    value: function getVideoWidth() {\n      return this.get('videoWidth');\n    }\n\n    /**\n     * A promise to get the native height of the video.\n     *\n     * @promise GetVideoHeightPromise\n     * @fulfill {number} The native height of the video.\n     */\n    /**\n     * Get the native height of the currentlyplaying video. The height of\n     * the highestresolution available will be used before playback begins.\n     *\n     * @return {GetVideoHeightPromise}\n     */\n  }, {\n    key: \"getVideoHeight\",\n    value: function getVideoHeight() {\n      return this.get('videoHeight');\n    }\n\n    /**\n     * A promise to get the vimeo.com url for the video.\n     *\n     * @promise GetVideoUrlPromise\n     * @fulfill {number} The vimeo.com url for the video.\n     * @reject {PrivacyError} The url isnt available because of the videos privacy setting.\n     */\n    /**\n     * Get the vimeo.com url for the video.\n     *\n     * @return {GetVideoUrlPromise}\n     */\n  }, {\n    key: \"getVideoUrl\",\n    value: function getVideoUrl() {\n      return this.get('videoUrl');\n    }\n\n    /**\n     * A promise to get the volume level of the player.\n     *\n     * @promise GetVolumePromise\n     * @fulfill {number} The volume level of the player on a scale from 0 to 1.\n     */\n    /**\n     * Get the current volume level of the player on a scale from `0` to `1`.\n     *\n     * Most mobile devices do not support an independent volume from the\n     * system volume. In those cases, this method will always return `1`.\n     *\n     * @return {GetVolumePromise}\n     */\n  }, {\n    key: \"getVolume\",\n    value: function getVolume() {\n      return this.get('volume');\n    }\n\n    /**\n     * A promise to set the volume level of the player.\n     *\n     * @promise SetVolumePromise\n     * @fulfill {number} The volume was set.\n     * @reject {RangeError} The volume was less than 0 or greater than 1.\n     */\n    /**\n     * Set the volume of the player on a scale from `0` to `1`. When set\n     * via the API, the volume level will not be synchronized to other\n     * players or stored as the viewers preference.\n     *\n     * Most mobile devices do not support setting the volume. An error will\n     * *not* be triggered in that situation.\n     *\n     * @param {number} volume\n     * @return {SetVolumePromise}\n     */\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(volume) {\n      return this.set('volume', volume);\n    }\n\n    /** @typedef {import('timing-object').ITimingObject} TimingObject */\n    /** @typedef {import('./lib/timing-src-connector.types').TimingSrcConnectorOptions} TimingSrcConnectorOptions */\n    /** @typedef {import('./lib/timing-src-connector').TimingSrcConnector} TimingSrcConnector */\n\n    /**\n     * Connects a TimingObject to the video player (https://webtiming.github.io/timingobject/)\n     *\n     * @param {TimingObject} timingObject\n     * @param {TimingSrcConnectorOptions} options\n     *\n     * @return {Promise<TimingSrcConnector>}\n     */\n  }, {\n    key: \"setTimingSrc\",\n    value: function () {\n      var _setTimingSrc = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(timingObject, options) {\n        var _this6 = this;\n        var connector;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (timingObject) {\n                _context.next = 2;\n                break;\n              }\n              throw new TypeError('A Timing Object must be provided.');\n            case 2:\n              _context.next = 4;\n              return this.ready();\n            case 4:\n              connector = new TimingSrcConnector(this, timingObject, options);\n              postMessage(this, 'notifyTimingObjectConnect');\n              connector.addEventListener('disconnect', function () {\n                return postMessage(_this6, 'notifyTimingObjectDisconnect');\n              });\n              return _context.abrupt(\"return\", connector);\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function setTimingSrc(_x, _x2) {\n        return _setTimingSrc.apply(this, arguments);\n      }\n      return setTimingSrc;\n    }()\n  }], [{\n    key: \"isVimeoUrl\",\n    value: function isVimeoUrl$1(url) {\n      return isVimeoUrl(url);\n    }\n  }]);\n  return Player;\n}(); // Setup embed only if this is not a server runtime\nif (!isServerRuntime) {\n  screenfull = initializeScreenfull();\n  initializeEmbeds();\n  resizeEmbeds();\n  initAppendVideoMetadata();\n  checkUrlTimeParam();\n  logSurveyLink();\n  updateDRMEmbeds();\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Player);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWVvL3BsYXllci9kaXN0L3BsYXllci5lcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxZQUFZLDZFQUE2RTtBQUNqRyxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isc0JBQXNCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCx1REFBdUQ7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRkFBa0Y7QUFDbEY7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixzQkFBc0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxZQUFZO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0ZBQWdGO0FBQ2hGO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsU0FBUztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0Esb0JBQW9CLHFCQUFNLHNCQUFzQixlQUFlLHFCQUFNOztBQUVyRTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsV0FBVyxTQUFTO0FBQ3BCLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsNEJBQTRCO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCLFdBQVcsbUJBQW1CO0FBQzlCLFdBQVcsVUFBVTtBQUNyQixXQUFXLDJCQUEyQjtBQUN0QyxXQUFXLCtCQUErQjtBQUMxQyxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0SUFBNEksZ0JBQWdCLGVBQWUsZ0JBQWdCO0FBQzNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckIsWUFBWSx3QkFBd0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isb0JBQW9CO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNIQUFzSCxxQkFBTSxtQkFBbUIscUJBQU07O0FBRXJKO0FBQ0EsbUJBQW1CLGFBQWE7QUFDaEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQSw0QkFBNEIsU0FBUztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix1QkFBdUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiLFlBQVk7QUFDWjtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isa0JBQWtCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7O0FBRXZDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBLENBQUM7QUFDRCxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsaUNBQWlDLG9DQUFvQyxHQUFHO0FBQ25GO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCLFdBQVcsYUFBYTtBQUN4QixZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsc0NBQXNDO0FBQ2pELFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLGlCQUFpQjtBQUM1QixZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCLFdBQVcsUUFBUSxZQUFZO0FBQy9CLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsYUFBYTtBQUN4QixZQUFZLG1CQUFtQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLGFBQWE7QUFDeEIsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4QixZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGFBQWE7QUFDeEIsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGFBQWE7QUFDeEIsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLGNBQWM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0U7QUFDcEU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBLG9CQUFvQixnQkFBZ0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBLGNBQWMsdURBQXVEO0FBQ3JFLGNBQWMsdUNBQXVDO0FBQ3JELGNBQWMsa0VBQWtFO0FBQ2hGLGNBQWMsc0JBQXNCO0FBQ3BDLGNBQWMsMENBQTBDOztBQUV4RDtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxnQkFBZ0I7QUFDN0IsYUFBYSxjQUFjO0FBQzNCLGFBQWEsMkJBQTJCO0FBQ3hDLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCO0FBQy9CLGVBQWUsUUFBUTtBQUN2QixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxzRUFBc0U7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLGNBQWM7QUFDN0IsZUFBZSxnQkFBZ0I7QUFDL0IsZUFBZSwyQkFBMkI7QUFDMUMsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxlQUFlLGNBQWM7QUFDN0IsZUFBZSxnQkFBZ0I7QUFDL0IsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsZUFBZSxjQUFjO0FBQzdCLGVBQWUsZ0JBQWdCO0FBQy9CLGVBQWUsMkJBQTJCO0FBQzFDLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsY0FBYztBQUM3QixlQUFlLGdCQUFnQjtBQUMvQixlQUFlLDJCQUEyQjtBQUMxQyxpQkFBaUI7QUFDakI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLGVBQWUsY0FBYztBQUM3QixlQUFlLGtCQUFrQjtBQUNqQyxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsK0NBQStDO0FBQzVEO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxpQ0FBaUM7QUFDaEQsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLDZGQUE2RixhQUFhO0FBQzFHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxPQUFPO0FBQ3RCLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLGFBQWE7QUFDNUIsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsVUFBVTtBQUN6QixnQkFBZ0I7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCLGdCQUFnQixXQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsc0JBQXNCO0FBQ3JDLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekIsZ0JBQWdCLFlBQVk7QUFDNUI7QUFDQSxnQkFBZ0Isa0JBQWtCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QixnQkFBZ0IsaUJBQWlCO0FBQ2pDO0FBQ0EsZ0JBQWdCLGtCQUFrQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QixrQkFBa0IsUUFBUTtBQUMxQixrQkFBa0IsUUFBUTtBQUMxQixrQkFBa0IsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGdCQUFnQjtBQUNqQyxnQkFBZ0IsMkJBQTJCO0FBQzNDO0FBQ0EsZ0JBQWdCLG1CQUFtQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE1BQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixNQUFNO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGdCQUFnQixlQUFlO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE1BQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUIsZ0JBQWdCLGtCQUFrQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUIsZ0JBQWdCLGtCQUFrQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsU0FBUztBQUN4QixnQkFBZ0I7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGtCQUFrQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCLGdCQUFnQixZQUFZO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrQkFBa0I7QUFDakMsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCLGtCQUFrQixRQUFRO0FBQzFCLGtCQUFrQixRQUFRO0FBQzFCLGtCQUFrQixRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsZ0JBQWdCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdCQUF3QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFVBQVU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QixnQkFBZ0IsV0FBVztBQUMzQixnQkFBZ0IsZUFBZTtBQUMvQjtBQUNBLGdCQUFnQixvQkFBb0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixnQkFBZ0I7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsVUFBVTtBQUMzQixnQkFBZ0IsV0FBVztBQUMzQixnQkFBZ0IsZUFBZTtBQUMvQjtBQUNBLGdCQUFnQixvQkFBb0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxVQUFVO0FBQ3pCLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekIsa0JBQWtCLFFBQVE7QUFDMUIsa0JBQWtCLFFBQVE7QUFDMUIsa0JBQWtCLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixpQkFBaUI7QUFDbEMsZ0JBQWdCLGtCQUFrQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QixnQkFBZ0IsWUFBWTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEIsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsU0FBUztBQUN4QixnQkFBZ0I7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QixnQkFBZ0IsWUFBWTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekIsZ0JBQWdCLFlBQVk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsa0JBQWtCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QixnQkFBZ0IsY0FBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekIsZ0JBQWdCLFlBQVk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IsdUNBQXVDO0FBQ3pELGtCQUFrQixzRUFBc0U7QUFDeEYsa0JBQWtCLHlEQUF5RDs7QUFFM0U7QUFDQTtBQUNBO0FBQ0EsZUFBZSxjQUFjO0FBQzdCLGVBQWUsMkJBQTJCO0FBQzFDO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDLElBQUk7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsK0RBQWUsTUFBTSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AdmltZW8vcGxheWVyL2Rpc3QvcGxheWVyLmVzLmpzP2QzMGQiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEB2aW1lby9wbGF5ZXIgdjIuMjkuMSB8IChjKSAyMDI1IFZpbWVvIHwgTUlUIExpY2Vuc2UgfCBodHRwczovL2dpdGh1Yi5jb20vdmltZW8vcGxheWVyLmpzICovXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IG51bGwgPT0gYXJyID8gbnVsbCA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdO1xuICBpZiAobnVsbCAhPSBfaSkge1xuICAgIHZhciBfcyxcbiAgICAgIF9lLFxuICAgICAgX3gsXG4gICAgICBfcixcbiAgICAgIF9hcnIgPSBbXSxcbiAgICAgIF9uID0gITAsXG4gICAgICBfZCA9ICExO1xuICAgIHRyeSB7XG4gICAgICBpZiAoX3ggPSAoX2kgPSBfaS5jYWxsKGFycikpLm5leHQsIDAgPT09IGkpIHtcbiAgICAgICAgaWYgKE9iamVjdChfaSkgIT09IF9pKSByZXR1cm47XG4gICAgICAgIF9uID0gITE7XG4gICAgICB9IGVsc2UgZm9yICg7ICEoX24gPSAoX3MgPSBfeC5jYWxsKF9pKSkuZG9uZSkgJiYgKF9hcnIucHVzaChfcy52YWx1ZSksIF9hcnIubGVuZ3RoICE9PSBpKTsgX24gPSAhMCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfZCA9ICEwLCBfZSA9IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFfbiAmJiBudWxsICE9IF9pLnJldHVybiAmJiAoX3IgPSBfaS5yZXR1cm4oKSwgT2JqZWN0KF9yKSAhPT0gX3IpKSByZXR1cm47XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX2FycjtcbiAgfVxufVxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTtcbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTtcbiAgICBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHtcbiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlO1xuICAgIH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpO1xuICB9XG4gIHJldHVybiBrZXlzO1xufVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZDIodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307XG4gICAgaSAlIDIgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIF9yZWdlbmVyYXRvclJ1bnRpbWUoKSB7XG4gIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGV4cG9ydHM7XG4gIH07XG4gIHZhciBleHBvcnRzID0ge30sXG4gICAgT3AgPSBPYmplY3QucHJvdG90eXBlLFxuICAgIGhhc093biA9IE9wLmhhc093blByb3BlcnR5LFxuICAgIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5IHx8IGZ1bmN0aW9uIChvYmosIGtleSwgZGVzYykge1xuICAgICAgb2JqW2tleV0gPSBkZXNjLnZhbHVlO1xuICAgIH0sXG4gICAgJFN5bWJvbCA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sID8gU3ltYm9sIDoge30sXG4gICAgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiLFxuICAgIGFzeW5jSXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIixcbiAgICB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG4gIGZ1bmN0aW9uIGRlZmluZShvYmosIGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiAhMCxcbiAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICB3cml0YWJsZTogITBcbiAgICB9KSwgb2JqW2tleV07XG4gIH1cbiAgdHJ5IHtcbiAgICBkZWZpbmUoe30sIFwiXCIpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBkZWZpbmUgPSBmdW5jdGlvbiAob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICB2YXIgcHJvdG9HZW5lcmF0b3IgPSBvdXRlckZuICYmIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gb3V0ZXJGbiA6IEdlbmVyYXRvcixcbiAgICAgIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKSxcbiAgICAgIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG4gICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGdlbmVyYXRvciwgXCJfaW52b2tlXCIsIHtcbiAgICAgIHZhbHVlOiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpXG4gICAgfSksIGdlbmVyYXRvcjtcbiAgfVxuICBmdW5jdGlvbiB0cnlDYXRjaChmbiwgb2JqLCBhcmcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJub3JtYWxcIixcbiAgICAgICAgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwidGhyb3dcIixcbiAgICAgICAgYXJnOiBlcnJcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIGV4cG9ydHMud3JhcCA9IHdyYXA7XG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG4gIGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fVxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgZGVmaW5lKEl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcbiAgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mLFxuICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAmJiBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAhPT0gT3AgJiYgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSAmJiAoSXRlcmF0b3JQcm90b3R5cGUgPSBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSk7XG4gIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9IEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICAgIGRlZmluZShwcm90b3R5cGUsIG1ldGhvZCwgZnVuY3Rpb24gKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yLCBQcm9taXNlSW1wbCkge1xuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcbiAgICAgIGlmIChcInRocm93XCIgIT09IHJlY29yZC50eXBlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnLFxuICAgICAgICAgIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICByZXR1cm4gdmFsdWUgJiYgXCJvYmplY3RcIiA9PSB0eXBlb2YgdmFsdWUgJiYgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKSA/IFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICBpbnZva2UoXCJuZXh0XCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KSA6IFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24gKHVud3JhcHBlZCkge1xuICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZCwgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgZXJyb3IsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgIH1cbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuICAgIGRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2ludm9rZVwiLCB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24gKG1ldGhvZCwgYXJnKSB7XG4gICAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkge1xuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZUltcGwoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPSBwcmV2aW91c1Byb21pc2UgPyBwcmV2aW91c1Byb21pc2UudGhlbihjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZywgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcpIDogY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcbiAgICB2YXIgc3RhdGUgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChtZXRob2QsIGFyZykge1xuICAgICAgaWYgKFwiZXhlY3V0aW5nXCIgPT09IHN0YXRlKSB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO1xuICAgICAgaWYgKFwiY29tcGxldGVkXCIgPT09IHN0YXRlKSB7XG4gICAgICAgIGlmIChcInRocm93XCIgPT09IG1ldGhvZCkgdGhyb3cgYXJnO1xuICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgfVxuICAgICAgZm9yIChjb250ZXh0Lm1ldGhvZCA9IG1ldGhvZCwgY29udGV4dC5hcmcgPSBhcmc7Oykge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcbiAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7XG4gICAgICAgICAgICByZXR1cm4gZGVsZWdhdGVSZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChcIm5leHRcIiA9PT0gY29udGV4dC5tZXRob2QpIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztlbHNlIGlmIChcInRocm93XCIgPT09IGNvbnRleHQubWV0aG9kKSB7XG4gICAgICAgICAgaWYgKFwic3VzcGVuZGVkU3RhcnRcIiA9PT0gc3RhdGUpIHRocm93IHN0YXRlID0gXCJjb21wbGV0ZWRcIiwgY29udGV4dC5hcmc7XG4gICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7XG4gICAgICAgIH0gZWxzZSBcInJldHVyblwiID09PSBjb250ZXh0Lm1ldGhvZCAmJiBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LmFyZyk7XG4gICAgICAgIHN0YXRlID0gXCJleGVjdXRpbmdcIjtcbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAoXCJub3JtYWxcIiA9PT0gcmVjb3JkLnR5cGUpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPSBjb250ZXh0LmRvbmUgPyBcImNvbXBsZXRlZFwiIDogXCJzdXNwZW5kZWRZaWVsZFwiLCByZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIFwidGhyb3dcIiA9PT0gcmVjb3JkLnR5cGUgJiYgKHN0YXRlID0gXCJjb21wbGV0ZWRcIiwgY29udGV4dC5tZXRob2QgPSBcInRocm93XCIsIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZyk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIG1ldGhvZE5hbWUgPSBjb250ZXh0Lm1ldGhvZCxcbiAgICAgIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW21ldGhvZE5hbWVdO1xuICAgIGlmICh1bmRlZmluZWQgPT09IG1ldGhvZCkgcmV0dXJuIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsLCBcInRocm93XCIgPT09IG1ldGhvZE5hbWUgJiYgZGVsZWdhdGUuaXRlcmF0b3IucmV0dXJuICYmIChjb250ZXh0Lm1ldGhvZCA9IFwicmV0dXJuXCIsIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkLCBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSwgXCJ0aHJvd1wiID09PSBjb250ZXh0Lm1ldGhvZCkgfHwgXCJyZXR1cm5cIiAhPT0gbWV0aG9kTmFtZSAmJiAoY29udGV4dC5tZXRob2QgPSBcInRocm93XCIsIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ1wiICsgbWV0aG9kTmFtZSArIFwiJyBtZXRob2RcIikpLCBDb250aW51ZVNlbnRpbmVsO1xuICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7XG4gICAgaWYgKFwidGhyb3dcIiA9PT0gcmVjb3JkLnR5cGUpIHJldHVybiBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIiwgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnLCBjb250ZXh0LmRlbGVnYXRlID0gbnVsbCwgQ29udGludWVTZW50aW5lbDtcbiAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG4gICAgcmV0dXJuIGluZm8gPyBpbmZvLmRvbmUgPyAoY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWUsIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2MsIFwicmV0dXJuXCIgIT09IGNvbnRleHQubWV0aG9kICYmIChjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiLCBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCksIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsLCBDb250aW51ZVNlbnRpbmVsKSA6IGluZm8gOiAoY29udGV4dC5tZXRob2QgPSBcInRocm93XCIsIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpLCBjb250ZXh0LmRlbGVnYXRlID0gbnVsbCwgQ29udGludWVTZW50aW5lbCk7XG4gIH1cbiAgZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGxvY3MpIHtcbiAgICB2YXIgZW50cnkgPSB7XG4gICAgICB0cnlMb2M6IGxvY3NbMF1cbiAgICB9O1xuICAgIDEgaW4gbG9jcyAmJiAoZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdKSwgMiBpbiBsb2NzICYmIChlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXSwgZW50cnkuYWZ0ZXJMb2MgPSBsb2NzWzNdKSwgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG4gIGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZW50cnkpIHtcbiAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbiB8fCB7fTtcbiAgICByZWNvcmQudHlwZSA9IFwibm9ybWFsXCIsIGRlbGV0ZSByZWNvcmQuYXJnLCBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG4gIGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHtcbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbe1xuICAgICAgdHJ5TG9jOiBcInJvb3RcIlxuICAgIH1dLCB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyksIHRoaXMucmVzZXQoITApO1xuICB9XG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBpdGVyYWJsZS5uZXh0KSByZXR1cm4gaXRlcmFibGU7XG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSxcbiAgICAgICAgICBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICAgIGZvciAoOyArK2kgPCBpdGVyYWJsZS5sZW5ndGg7KSBpZiAoaGFzT3duLmNhbGwoaXRlcmFibGUsIGkpKSByZXR1cm4gbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldLCBuZXh0LmRvbmUgPSAhMSwgbmV4dDtcbiAgICAgICAgICAgIHJldHVybiBuZXh0LnZhbHVlID0gdW5kZWZpbmVkLCBuZXh0LmRvbmUgPSAhMCwgbmV4dDtcbiAgICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIG5leHQ6IGRvbmVSZXN1bHRcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgICBkb25lOiAhMFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBkZWZpbmVQcm9wZXJ0eShHcCwgXCJjb25zdHJ1Y3RvclwiLCB7XG4gICAgdmFsdWU6IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLFxuICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgfSksIGRlZmluZVByb3BlcnR5KEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBcImNvbnN0cnVjdG9yXCIsIHtcbiAgICB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb24sXG4gICAgY29uZmlndXJhYmxlOiAhMFxuICB9KSwgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBkZWZpbmUoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpLCBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbiAoZ2VuRnVuKSB7XG4gICAgdmFyIGN0b3IgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGdlbkZ1biAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuICEhY3RvciAmJiAoY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHwgXCJHZW5lcmF0b3JGdW5jdGlvblwiID09PSAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpKTtcbiAgfSwgZXhwb3J0cy5tYXJrID0gZnVuY3Rpb24gKGdlbkZ1bikge1xuICAgIHJldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSkgOiAoZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBkZWZpbmUoZ2VuRnVuLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSksIGdlbkZ1bi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdwKSwgZ2VuRnVuO1xuICB9LCBleHBvcnRzLmF3cmFwID0gZnVuY3Rpb24gKGFyZykge1xuICAgIHJldHVybiB7XG4gICAgICBfX2F3YWl0OiBhcmdcbiAgICB9O1xuICB9LCBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpLCBkZWZpbmUoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUsIGFzeW5jSXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSksIGV4cG9ydHMuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3IsIGV4cG9ydHMuYXN5bmMgPSBmdW5jdGlvbiAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QsIFByb21pc2VJbXBsKSB7XG4gICAgdm9pZCAwID09PSBQcm9taXNlSW1wbCAmJiAoUHJvbWlzZUltcGwgPSBQcm9taXNlKTtcbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpLCBQcm9taXNlSW1wbCk7XG4gICAgcmV0dXJuIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKSA/IGl0ZXIgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpO1xuICAgIH0pO1xuICB9LCBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApLCBkZWZpbmUoR3AsIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvclwiKSwgZGVmaW5lKEdwLCBpdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KSwgZGVmaW5lKEdwLCBcInRvU3RyaW5nXCIsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfSksIGV4cG9ydHMua2V5cyA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICB2YXIgb2JqZWN0ID0gT2JqZWN0KHZhbCksXG4gICAgICBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkga2V5cy5wdXNoKGtleSk7XG4gICAgcmV0dXJuIGtleXMucmV2ZXJzZSgpLCBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgZm9yICg7IGtleXMubGVuZ3RoOykge1xuICAgICAgICB2YXIga2V5ID0ga2V5cy5wb3AoKTtcbiAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHJldHVybiBuZXh0LnZhbHVlID0ga2V5LCBuZXh0LmRvbmUgPSAhMSwgbmV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXh0LmRvbmUgPSAhMCwgbmV4dDtcbiAgICB9O1xuICB9LCBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcywgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG4gICAgcmVzZXQ6IGZ1bmN0aW9uIChza2lwVGVtcFJlc2V0KSB7XG4gICAgICBpZiAodGhpcy5wcmV2ID0gMCwgdGhpcy5uZXh0ID0gMCwgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHVuZGVmaW5lZCwgdGhpcy5kb25lID0gITEsIHRoaXMuZGVsZWdhdGUgPSBudWxsLCB0aGlzLm1ldGhvZCA9IFwibmV4dFwiLCB0aGlzLmFyZyA9IHVuZGVmaW5lZCwgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSksICFza2lwVGVtcFJlc2V0KSBmb3IgKHZhciBuYW1lIGluIHRoaXMpIFwidFwiID09PSBuYW1lLmNoYXJBdCgwKSAmJiBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJiAhaXNOYU4oK25hbWUuc2xpY2UoMSkpICYmICh0aGlzW25hbWVdID0gdW5kZWZpbmVkKTtcbiAgICB9LFxuICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuZG9uZSA9ICEwO1xuICAgICAgdmFyIHJvb3RSZWNvcmQgPSB0aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtcbiAgICAgIGlmIChcInRocm93XCIgPT09IHJvb3RSZWNvcmQudHlwZSkgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG4gICAgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uIChleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkge1xuICAgICAgICByZXR1cm4gcmVjb3JkLnR5cGUgPSBcInRocm93XCIsIHJlY29yZC5hcmcgPSBleGNlcHRpb24sIGNvbnRleHQubmV4dCA9IGxvYywgY2F1Z2h0ICYmIChjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiLCBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCksICEhY2F1Z2h0O1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV0sXG4gICAgICAgICAgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcbiAgICAgICAgaWYgKFwicm9vdFwiID09PSBlbnRyeS50cnlMb2MpIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIiksXG4gICAgICAgICAgICBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcbiAgICAgICAgICBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCAhMCk7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NhdGNoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsICEwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFoYXNGaW5hbGx5KSB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgYWJydXB0OiBmdW5jdGlvbiAodHlwZSwgYXJnKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiYgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJiB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmaW5hbGx5RW50cnkgJiYgKFwiYnJlYWtcIiA9PT0gdHlwZSB8fCBcImNvbnRpbnVlXCIgPT09IHR5cGUpICYmIGZpbmFsbHlFbnRyeS50cnlMb2MgPD0gYXJnICYmIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYyAmJiAoZmluYWxseUVudHJ5ID0gbnVsbCk7XG4gICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTtcbiAgICAgIHJldHVybiByZWNvcmQudHlwZSA9IHR5cGUsIHJlY29yZC5hcmcgPSBhcmcsIGZpbmFsbHlFbnRyeSA/ICh0aGlzLm1ldGhvZCA9IFwibmV4dFwiLCB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYywgQ29udGludWVTZW50aW5lbCkgOiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcbiAgICBjb21wbGV0ZTogZnVuY3Rpb24gKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChcInRocm93XCIgPT09IHJlY29yZC50eXBlKSB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgcmV0dXJuIFwiYnJlYWtcIiA9PT0gcmVjb3JkLnR5cGUgfHwgXCJjb250aW51ZVwiID09PSByZWNvcmQudHlwZSA/IHRoaXMubmV4dCA9IHJlY29yZC5hcmcgOiBcInJldHVyblwiID09PSByZWNvcmQudHlwZSA/ICh0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmcsIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIiwgdGhpcy5uZXh0ID0gXCJlbmRcIikgOiBcIm5vcm1hbFwiID09PSByZWNvcmQudHlwZSAmJiBhZnRlckxvYyAmJiAodGhpcy5uZXh0ID0gYWZ0ZXJMb2MpLCBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG4gICAgZmluaXNoOiBmdW5jdGlvbiAoZmluYWxseUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS5maW5hbGx5TG9jID09PSBmaW5hbGx5TG9jKSByZXR1cm4gdGhpcy5jb21wbGV0ZShlbnRyeS5jb21wbGV0aW9uLCBlbnRyeS5hZnRlckxvYyksIHJlc2V0VHJ5RW50cnkoZW50cnkpLCBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2F0Y2g6IGZ1bmN0aW9uICh0cnlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSB0cnlMb2MpIHtcbiAgICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcbiAgICAgICAgICBpZiAoXCJ0aHJvd1wiID09PSByZWNvcmQudHlwZSkge1xuICAgICAgICAgICAgdmFyIHRocm93biA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRocm93bjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG4gICAgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24gKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH0sIFwibmV4dFwiID09PSB0aGlzLm1ldGhvZCAmJiAodGhpcy5hcmcgPSB1bmRlZmluZWQpLCBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cbiAgfSwgZXhwb3J0cztcbn1cbmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHtcbiAgdHJ5IHtcbiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoaW5mby5kb25lKSB7XG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpO1xuICB9XG59XG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgIGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7XG4gICAgICB9XG4gICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9O1xufVxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIF90b1Byb3BlcnR5S2V5KGRlc2NyaXB0b3Iua2V5KSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7XG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGtleSA9IF90b1Byb3BlcnR5S2V5KGtleSk7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgfVxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3ViQ2xhc3MsIFwicHJvdG90eXBlXCIsIHtcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpO1xufVxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTtcbiAgfTtcbiAgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTtcbn1cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIG8uX19wcm90b19fID0gcDtcbiAgICByZXR1cm4gbztcbiAgfTtcbiAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbn1cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTtcbiAgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTtcbiAgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTtcbiAgdHJ5IHtcbiAgICBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbmZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykge1xuICBpZiAoX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpKSB7XG4gICAgX2NvbnN0cnVjdCA9IFJlZmxlY3QuY29uc3RydWN0LmJpbmQoKTtcbiAgfSBlbHNlIHtcbiAgICBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gICAgICB2YXIgYSA9IFtudWxsXTtcbiAgICAgIGEucHVzaC5hcHBseShhLCBhcmdzKTtcbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTtcbiAgICAgIHZhciBpbnN0YW5jZSA9IG5ldyBDb25zdHJ1Y3RvcigpO1xuICAgICAgaWYgKENsYXNzKSBfc2V0UHJvdG90eXBlT2YoaW5zdGFuY2UsIENsYXNzLnByb3RvdHlwZSk7XG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gX2NvbnN0cnVjdC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufVxuZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24oZm4pIHtcbiAgcmV0dXJuIEZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwoZm4pLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpICE9PSAtMTtcbn1cbmZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHtcbiAgdmFyIF9jYWNoZSA9IHR5cGVvZiBNYXAgPT09IFwiZnVuY3Rpb25cIiA/IG5ldyBNYXAoKSA6IHVuZGVmaW5lZDtcbiAgX3dyYXBOYXRpdmVTdXBlciA9IGZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHtcbiAgICBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIV9pc05hdGl2ZUZ1bmN0aW9uKENsYXNzKSkgcmV0dXJuIENsYXNzO1xuICAgIGlmICh0eXBlb2YgQ2xhc3MgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIF9jYWNoZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7XG4gICAgICBfY2FjaGUuc2V0KENsYXNzLCBXcmFwcGVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gV3JhcHBlcigpIHtcbiAgICAgIHJldHVybiBfY29uc3RydWN0KENsYXNzLCBhcmd1bWVudHMsIF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvcik7XG4gICAgfVxuICAgIFdyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBXcmFwcGVyLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpO1xuICB9O1xuICByZXR1cm4gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyk7XG59XG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHtcbiAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuICByZXR1cm4gc2VsZjtcbn1cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcbiAgaWYgKGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7XG4gICAgcmV0dXJuIGNhbGw7XG4gIH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO1xuICB9XG4gIHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpO1xufVxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHtcbiAgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7XG4gIHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHtcbiAgICB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksXG4gICAgICByZXN1bHQ7XG4gICAgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHtcbiAgICAgIHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7XG4gICAgICByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTtcbiAgfTtcbn1cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpO1xufVxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTtcbiAgcmV0dXJuIGFycjI7XG59XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7XG4gIGlmICh0eXBlb2YgaW5wdXQgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDtcbiAgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdO1xuICBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCBcImRlZmF1bHRcIik7XG4gICAgaWYgKHR5cGVvZiByZXMgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpO1xuICB9XG4gIHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpO1xufVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7XG4gIHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTtcbiAgcmV0dXJuIHR5cGVvZiBrZXkgPT09IFwic3ltYm9sXCIgPyBrZXkgOiBTdHJpbmcoa2V5KTtcbn1cblxuLyoqXG4gKiBAbW9kdWxlIGxpYi9mdW5jdGlvbnNcbiAqL1xuXG4vKipcbiAqIENoZWNrIHRvIHNlZSB0aGlzIGlzIGEgTm9kZSBlbnZpcm9ubWVudC5cbiAqIEB0eXBlIHtib29sZWFufVxuICovXG4vKiBnbG9iYWwgZ2xvYmFsICovXG52YXIgaXNOb2RlID0gdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgJiYge30udG9TdHJpbmcuY2FsbChnbG9iYWwpID09PSAnW29iamVjdCBnbG9iYWxdJztcblxuLyoqXG4gKiBDaGVjayB0byBzZWUgaWYgdGhpcyBpcyBhIEJ1biBlbnZpcm9ubWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9idW4uc2gvZ3VpZGVzL3V0aWwvZGV0ZWN0LWJ1blxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbnZhciBpc0J1biA9IHR5cGVvZiBCdW4gIT09ICd1bmRlZmluZWQnO1xuXG4vKipcbiAqIENoZWNrIHRvIHNlZSBpZiB0aGlzIGlzIGEgRGVubyBlbnZpcm9ubWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9kb2NzLmRlbm8uY29tL2FwaS9kZW5vL34vRGVub1xuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbnZhciBpc0Rlbm8gPSB0eXBlb2YgRGVubyAhPT0gJ3VuZGVmaW5lZCc7XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhpcyBpcyBhIHNlcnZlciBydW50aW1lXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xudmFyIGlzU2VydmVyUnVudGltZSA9IGlzTm9kZSB8fCBpc0J1biB8fCBpc0Rlbm87XG5cbi8qKlxuICogR2V0IHRoZSBuYW1lIG9mIHRoZSBtZXRob2QgZm9yIGEgZ2l2ZW4gZ2V0dGVyIG9yIHNldHRlci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcCBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkuXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBFaXRoZXIg4oCcZ2V04oCdIG9yIOKAnHNldOKAnS5cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZ2V0TWV0aG9kTmFtZShwcm9wLCB0eXBlKSB7XG4gIGlmIChwcm9wLmluZGV4T2YodHlwZS50b0xvd2VyQ2FzZSgpKSA9PT0gMCkge1xuICAgIHJldHVybiBwcm9wO1xuICB9XG4gIHJldHVybiBcIlwiLmNvbmNhdCh0eXBlLnRvTG93ZXJDYXNlKCkpLmNvbmNhdChwcm9wLnN1YnN0cigwLCAxKS50b1VwcGVyQ2FzZSgpKS5jb25jYXQocHJvcC5zdWJzdHIoMSkpO1xufVxuXG4vKipcbiAqIENoZWNrIHRvIHNlZSBpZiB0aGUgb2JqZWN0IGlzIGEgRE9NIEVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHsqfSBlbGVtZW50IFRoZSBvYmplY3QgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0RvbUVsZW1lbnQoZWxlbWVudCkge1xuICByZXR1cm4gQm9vbGVhbihlbGVtZW50ICYmIGVsZW1lbnQubm9kZVR5cGUgPT09IDEgJiYgJ25vZGVOYW1lJyBpbiBlbGVtZW50ICYmIGVsZW1lbnQub3duZXJEb2N1bWVudCAmJiBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpO1xufVxuXG4vKipcbiAqIENoZWNrIHRvIHNlZSB3aGV0aGVyIHRoZSB2YWx1ZSBpcyBhIG51bWJlci5cbiAqXG4gKiBAc2VlIGh0dHA6Ly9kbC5kcm9wYm94dXNlcmNvbnRlbnQuY29tL3UvMzUxNDYvanMvdGVzdHMvaXNOdW1iZXIuaHRtbFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGludGVnZXIgQ2hlY2sgaWYgdGhlIHZhbHVlIGlzIGFuIGludGVnZXIuXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0ludGVnZXIodmFsdWUpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICByZXR1cm4gIWlzTmFOKHBhcnNlRmxvYXQodmFsdWUpKSAmJiBpc0Zpbml0ZSh2YWx1ZSkgJiYgTWF0aC5mbG9vcih2YWx1ZSkgPT0gdmFsdWU7XG59XG5cbi8qKlxuICogQ2hlY2sgdG8gc2VlIGlmIHRoZSBVUkwgaXMgYSBWaW1lbyB1cmwuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgdXJsIHN0cmluZy5cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzVmltZW9VcmwodXJsKSB7XG4gIHJldHVybiAvXihodHRwcz86KT9cXC9cXC8oKCgocGxheWVyfHd3dylcXC4pP3ZpbWVvXFwuY29tKXwoKHBsYXllclxcLik/W2EtekEtWjAtOS1dK1xcLih2aWRlb2ppXFwuKGhrfGNuKXx2aW1lb1xcLndvcmspKSkoPz0kfFxcLykvLnRlc3QodXJsKTtcbn1cblxuLyoqXG4gKiBDaGVjayB0byBzZWUgaWYgdGhlIFVSTCBpcyBmb3IgYSBWaW1lbyBlbWJlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSB1cmwgc3RyaW5nLlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNWaW1lb0VtYmVkKHVybCkge1xuICB2YXIgZXhwciA9IC9eaHR0cHM6XFwvXFwvcGxheWVyXFwuKCh2aW1lb1xcLmNvbSl8KFthLXpBLVowLTktXStcXC4odmlkZW9qaVxcLihoa3xjbil8dmltZW9cXC53b3JrKSkpXFwvdmlkZW9cXC9cXGQrLztcbiAgcmV0dXJuIGV4cHIudGVzdCh1cmwpO1xufVxuZnVuY3Rpb24gZ2V0T2VtYmVkRG9tYWluKHVybCkge1xuICB2YXIgbWF0Y2ggPSAodXJsIHx8ICcnKS5tYXRjaCgvXig/Omh0dHBzPzopPyg/OlxcL1xcLyk/KFteLz9dKykvKTtcbiAgdmFyIGRvbWFpbiA9IChtYXRjaCAmJiBtYXRjaFsxXSB8fCAnJykucmVwbGFjZSgncGxheWVyLicsICcnKTtcbiAgdmFyIGN1c3RvbURvbWFpbnMgPSBbJy52aWRlb2ppLmhrJywgJy52aW1lby53b3JrJywgJy52aWRlb2ppLmNuJ107XG4gIGZvciAodmFyIF9pID0gMCwgX2N1c3RvbURvbWFpbnMgPSBjdXN0b21Eb21haW5zOyBfaSA8IF9jdXN0b21Eb21haW5zLmxlbmd0aDsgX2krKykge1xuICAgIHZhciBjdXN0b21Eb21haW4gPSBfY3VzdG9tRG9tYWluc1tfaV07XG4gICAgaWYgKGRvbWFpbi5lbmRzV2l0aChjdXN0b21Eb21haW4pKSB7XG4gICAgICByZXR1cm4gZG9tYWluO1xuICAgIH1cbiAgfVxuICByZXR1cm4gJ3ZpbWVvLmNvbSc7XG59XG5cbi8qKlxuICogR2V0IHRoZSBWaW1lbyBVUkwgZnJvbSBhbiBlbGVtZW50LlxuICogVGhlIGVsZW1lbnQgbXVzdCBoYXZlIGVpdGhlciBhIGRhdGEtdmltZW8taWQgb3IgZGF0YS12aW1lby11cmwgYXR0cmlidXRlLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvRW1iZWRQYXJhbWV0ZXJzIFRoZSBvRW1iZWQgcGFyYW1ldGVycy5cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZ2V0VmltZW9VcmwoKSB7XG4gIHZhciBvRW1iZWRQYXJhbWV0ZXJzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgdmFyIGlkID0gb0VtYmVkUGFyYW1ldGVycy5pZDtcbiAgdmFyIHVybCA9IG9FbWJlZFBhcmFtZXRlcnMudXJsO1xuICB2YXIgaWRPclVybCA9IGlkIHx8IHVybDtcbiAgaWYgKCFpZE9yVXJsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBbiBpZCBvciB1cmwgbXVzdCBiZSBwYXNzZWQsIGVpdGhlciBpbiBhbiBvcHRpb25zIG9iamVjdCBvciBhcyBhIGRhdGEtdmltZW8taWQgb3IgZGF0YS12aW1lby11cmwgYXR0cmlidXRlLicpO1xuICB9XG4gIGlmIChpc0ludGVnZXIoaWRPclVybCkpIHtcbiAgICByZXR1cm4gXCJodHRwczovL3ZpbWVvLmNvbS9cIi5jb25jYXQoaWRPclVybCk7XG4gIH1cbiAgaWYgKGlzVmltZW9VcmwoaWRPclVybCkpIHtcbiAgICByZXR1cm4gaWRPclVybC5yZXBsYWNlKCdodHRwOicsICdodHRwczonKTtcbiAgfVxuICBpZiAoaWQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiXFx1MjAxQ1wiLmNvbmNhdChpZCwgXCJcXHUyMDFEIGlzIG5vdCBhIHZhbGlkIHZpZGVvIGlkLlwiKSk7XG4gIH1cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlxcdTIwMUNcIi5jb25jYXQoaWRPclVybCwgXCJcXHUyMDFEIGlzIG5vdCBhIHZpbWVvLmNvbSB1cmwuXCIpKTtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgbWF4LXBhcmFtcyAqL1xuLyoqXG4gKiBBIHV0aWxpdHkgbWV0aG9kIGZvciBhdHRhY2hpbmcgYW5kIGRldGFjaGluZyBldmVudCBoYW5kbGVyc1xuICpcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuICogQHBhcmFtIHtzdHJpbmcgfCBzdHJpbmdbXX0gZXZlbnROYW1lXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHBhcmFtIHsnYWRkRXZlbnRMaXN0ZW5lcicgfCAnb24nfSBvbk5hbWVcbiAqIEBwYXJhbSB7J3JlbW92ZUV2ZW50TGlzdGVuZXInIHwgJ29mZid9IG9mZk5hbWVcbiAqIEByZXR1cm4ge3tjYW5jZWw6IChmdW5jdGlvbigpOiB2b2lkKX19XG4gKi9cbnZhciBzdWJzY3JpYmUgPSBmdW5jdGlvbiBzdWJzY3JpYmUodGFyZ2V0LCBldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gIHZhciBvbk5hbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6ICdhZGRFdmVudExpc3RlbmVyJztcbiAgdmFyIG9mZk5hbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6ICdyZW1vdmVFdmVudExpc3RlbmVyJztcbiAgdmFyIGV2ZW50TmFtZXMgPSB0eXBlb2YgZXZlbnROYW1lID09PSAnc3RyaW5nJyA/IFtldmVudE5hbWVdIDogZXZlbnROYW1lO1xuICBldmVudE5hbWVzLmZvckVhY2goZnVuY3Rpb24gKGV2TmFtZSkge1xuICAgIHRhcmdldFtvbk5hbWVdKGV2TmFtZSwgY2FsbGJhY2spO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICAgIHJldHVybiBldmVudE5hbWVzLmZvckVhY2goZnVuY3Rpb24gKGV2TmFtZSkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0W29mZk5hbWVdKGV2TmFtZSwgY2FsbGJhY2spO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufTtcbnZhciBsb2dTdXJ2ZXlMaW5rID0gZnVuY3Rpb24gbG9nU3VydmV5TGluaygpIHtcbiAgY29uc29sZS5sb2coJ1xcbiVjVmltZW8gaXMgbG9va2luZyBmb3IgZmVlZGJhY2shXFxuJWNDb21wbGV0ZSBvdXIgc3VydmV5IGFib3V0IHRoZSBQbGF5ZXIgU0RLOiBodHRwczovL3QubWF6ZS5jby8zOTM1Njc0NzcnLCAnY29sb3I6IzAwYWRlZjtmb250LXNpemU6MS4yZW07JywgJ2NvbG9yOiNhYWE7Zm9udC1zaXplOjAuOGVtOycpO1xufTtcblxuLyoqXG4gKiBGaW5kIHRoZSBpZnJhbWUgZWxlbWVudCB0aGF0IGNvbnRhaW5zIGEgc3BlY2lmaWMgc291cmNlIHdpbmRvd1xuICpcbiAqIEBwYXJhbSB7V2luZG93fSBzb3VyY2VXaW5kb3cgVGhlIHNvdXJjZSB3aW5kb3cgdG8gZmluZCB0aGUgaWZyYW1lIGZvclxuICogQHBhcmFtIHtEb2N1bWVudH0gW2RvYz1kb2N1bWVudF0gVGhlIGRvY3VtZW50IHRvIHNlYXJjaCB3aXRoaW5cbiAqIEByZXR1cm4ge0hUTUxJRnJhbWVFbGVtZW50fG51bGx9IFRoZSBpZnJhbWUgZWxlbWVudCBpZiBmb3VuZCwgb3RoZXJ3aXNlIG51bGxcbiAqL1xuZnVuY3Rpb24gZmluZElmcmFtZUJ5U291cmNlV2luZG93KHNvdXJjZVdpbmRvdykge1xuICB2YXIgZG9jID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBkb2N1bWVudDtcbiAgaWYgKCFzb3VyY2VXaW5kb3cgfHwgIWRvYyB8fCB0eXBlb2YgZG9jLnF1ZXJ5U2VsZWN0b3JBbGwgIT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgaWZyYW1lcyA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKCdpZnJhbWUnKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpZnJhbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGlmcmFtZXNbaV0gJiYgaWZyYW1lc1tpXS5jb250ZW50V2luZG93ID09PSBzb3VyY2VXaW5kb3cpIHtcbiAgICAgIHJldHVybiBpZnJhbWVzW2ldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxudmFyIGFycmF5SW5kZXhPZlN1cHBvcnQgPSB0eXBlb2YgQXJyYXkucHJvdG90eXBlLmluZGV4T2YgIT09ICd1bmRlZmluZWQnO1xudmFyIHBvc3RNZXNzYWdlU3VwcG9ydCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cucG9zdE1lc3NhZ2UgIT09ICd1bmRlZmluZWQnO1xuaWYgKCFpc1NlcnZlclJ1bnRpbWUgJiYgKCFhcnJheUluZGV4T2ZTdXBwb3J0IHx8ICFwb3N0TWVzc2FnZVN1cHBvcnQpKSB7XG4gIHRocm93IG5ldyBFcnJvcignU29ycnksIHRoZSBWaW1lbyBQbGF5ZXIgQVBJIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBicm93c2VyLicpO1xufVxuXG52YXIgY29tbW9uanNHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB7fTtcblxuZnVuY3Rpb24gY3JlYXRlQ29tbW9uanNNb2R1bGUoZm4sIG1vZHVsZSkge1xuXHRyZXR1cm4gbW9kdWxlID0geyBleHBvcnRzOiB7fSB9LCBmbihtb2R1bGUsIG1vZHVsZS5leHBvcnRzKSwgbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8qIVxuICogd2Vha21hcC1wb2x5ZmlsbCB2Mi4wLjQgLSBFQ01BU2NyaXB0NiBXZWFrTWFwIHBvbHlmaWxsXG4gKiBodHRwczovL2dpdGh1Yi5jb20vcG9seWdvbnBsYW5ldC93ZWFrbWFwLXBvbHlmaWxsXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtMjAyMSBwb2x5Z29ucGxhbmV0IDxwb2x5Z29uLnBsYW5ldC5hcXVhQGdtYWlsLmNvbT5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbihmdW5jdGlvbiAoc2VsZikge1xuXG4gIGlmIChzZWxmLldlYWtNYXApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIGhhc0RlZmluZSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEF2b2lkIElFOCdzIGJyb2tlbiBPYmplY3QuZGVmaW5lUHJvcGVydHlcbiAgICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICd4Jywge1xuICAgICAgICB2YWx1ZTogMVxuICAgICAgfSkueCA9PT0gMTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9KCk7XG4gIHZhciBkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKGhhc0RlZmluZSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgbmFtZSwge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmplY3RbbmFtZV0gPSB2YWx1ZTtcbiAgICB9XG4gIH07XG4gIHNlbGYuV2Vha01hcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBFQ01BLTI2MiAyMy4zIFdlYWtNYXAgT2JqZWN0c1xuICAgIGZ1bmN0aW9uIFdlYWtNYXAoKSB7XG4gICAgICBpZiAodGhpcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDb25zdHJ1Y3RvciBXZWFrTWFwIHJlcXVpcmVzICduZXcnXCIpO1xuICAgICAgfVxuICAgICAgZGVmaW5lUHJvcGVydHkodGhpcywgJ19pZCcsIGdlbklkKCdfV2Vha01hcCcpKTtcblxuICAgICAgLy8gRUNNQS0yNjIgMjMuMy4xLjEgV2Vha01hcChbaXRlcmFibGVdKVxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIEN1cnJlbnRseSwgV2Vha01hcCBgaXRlcmFibGVgIGFyZ3VtZW50IGlzIG5vdCBzdXBwb3J0ZWRcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignV2Vha01hcCBpdGVyYWJsZSBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRUNNQS0yNjIgMjMuMy4zLjIgV2Vha01hcC5wcm90b3R5cGUuZGVsZXRlKGtleSlcbiAgICBkZWZpbmVQcm9wZXJ0eShXZWFrTWFwLnByb3RvdHlwZSwgJ2RlbGV0ZScsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGNoZWNrSW5zdGFuY2UodGhpcywgJ2RlbGV0ZScpO1xuICAgICAgaWYgKCFpc09iamVjdChrZXkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBlbnRyeSA9IGtleVt0aGlzLl9pZF07XG4gICAgICBpZiAoZW50cnkgJiYgZW50cnlbMF0gPT09IGtleSkge1xuICAgICAgICBkZWxldGUga2V5W3RoaXMuX2lkXTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG5cbiAgICAvLyBFQ01BLTI2MiAyMy4zLjMuMyBXZWFrTWFwLnByb3RvdHlwZS5nZXQoa2V5KVxuICAgIGRlZmluZVByb3BlcnR5KFdlYWtNYXAucHJvdG90eXBlLCAnZ2V0JywgZnVuY3Rpb24gKGtleSkge1xuICAgICAgY2hlY2tJbnN0YW5jZSh0aGlzLCAnZ2V0Jyk7XG4gICAgICBpZiAoIWlzT2JqZWN0KGtleSkpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIHZhciBlbnRyeSA9IGtleVt0aGlzLl9pZF07XG4gICAgICBpZiAoZW50cnkgJiYgZW50cnlbMF0gPT09IGtleSkge1xuICAgICAgICByZXR1cm4gZW50cnlbMV07XG4gICAgICB9XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH0pO1xuXG4gICAgLy8gRUNNQS0yNjIgMjMuMy4zLjQgV2Vha01hcC5wcm90b3R5cGUuaGFzKGtleSlcbiAgICBkZWZpbmVQcm9wZXJ0eShXZWFrTWFwLnByb3RvdHlwZSwgJ2hhcycsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGNoZWNrSW5zdGFuY2UodGhpcywgJ2hhcycpO1xuICAgICAgaWYgKCFpc09iamVjdChrZXkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBlbnRyeSA9IGtleVt0aGlzLl9pZF07XG4gICAgICBpZiAoZW50cnkgJiYgZW50cnlbMF0gPT09IGtleSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgIC8vIEVDTUEtMjYyIDIzLjMuMy41IFdlYWtNYXAucHJvdG90eXBlLnNldChrZXksIHZhbHVlKVxuICAgIGRlZmluZVByb3BlcnR5KFdlYWtNYXAucHJvdG90eXBlLCAnc2V0JywgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIGNoZWNrSW5zdGFuY2UodGhpcywgJ3NldCcpO1xuICAgICAgaWYgKCFpc09iamVjdChrZXkpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgdmFsdWUgdXNlZCBhcyB3ZWFrIG1hcCBrZXknKTtcbiAgICAgIH1cbiAgICAgIHZhciBlbnRyeSA9IGtleVt0aGlzLl9pZF07XG4gICAgICBpZiAoZW50cnkgJiYgZW50cnlbMF0gPT09IGtleSkge1xuICAgICAgICBlbnRyeVsxXSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGRlZmluZVByb3BlcnR5KGtleSwgdGhpcy5faWQsIFtrZXksIHZhbHVlXSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9KTtcbiAgICBmdW5jdGlvbiBjaGVja0luc3RhbmNlKHgsIG1ldGhvZE5hbWUpIHtcbiAgICAgIGlmICghaXNPYmplY3QoeCkgfHwgIWhhc093blByb3BlcnR5LmNhbGwoeCwgJ19pZCcpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IobWV0aG9kTmFtZSArICcgbWV0aG9kIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgcmVjZWl2ZXIgJyArIHR5cGVvZiB4KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2VuSWQocHJlZml4KSB7XG4gICAgICByZXR1cm4gcHJlZml4ICsgJ18nICsgcmFuZCgpICsgJy4nICsgcmFuZCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByYW5kKCkge1xuICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMik7XG4gICAgfVxuICAgIGRlZmluZVByb3BlcnR5KFdlYWtNYXAsICdfcG9seWZpbGwnLCB0cnVlKTtcbiAgICByZXR1cm4gV2Vha01hcDtcbiAgfSgpO1xuICBmdW5jdGlvbiBpc09iamVjdCh4KSB7XG4gICAgcmV0dXJuIE9iamVjdCh4KSA9PT0geDtcbiAgfVxufSkodHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBjb21tb25qc0dsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBjb21tb25qc0dsb2JhbCA6IGNvbW1vbmpzR2xvYmFsKTtcblxudmFyIG5wb19zcmMgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG4vKiEgTmF0aXZlIFByb21pc2UgT25seVxuICAgIHYwLjguMSAoYykgS3lsZSBTaW1wc29uXG4gICAgTUlUIExpY2Vuc2U6IGh0dHA6Ly9nZXRpZnkubWl0LWxpY2Vuc2Uub3JnXG4qL1xuXG4oZnVuY3Rpb24gVU1EKG5hbWUsIGNvbnRleHQsIGRlZmluaXRpb24pIHtcbiAgLy8gc3BlY2lhbCBmb3JtIG9mIFVNRCBmb3IgcG9seWZpbGxpbmcgYWNyb3NzIGV2aXJvbm1lbnRzXG4gIGNvbnRleHRbbmFtZV0gPSBjb250ZXh0W25hbWVdIHx8IGRlZmluaXRpb24oKTtcbiAgaWYgKG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBjb250ZXh0W25hbWVdO1xuICB9XG59KShcIlByb21pc2VcIiwgdHlwZW9mIGNvbW1vbmpzR2xvYmFsICE9IFwidW5kZWZpbmVkXCIgPyBjb21tb25qc0dsb2JhbCA6IGNvbW1vbmpzR2xvYmFsLCBmdW5jdGlvbiBERUYoKSB7XG5cbiAgdmFyIGJ1aWx0SW5Qcm9wLFxuICAgIGN5Y2xlLFxuICAgIHNjaGVkdWxpbmdfcXVldWUsXG4gICAgVG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLFxuICAgIHRpbWVyID0gdHlwZW9mIHNldEltbWVkaWF0ZSAhPSBcInVuZGVmaW5lZFwiID8gZnVuY3Rpb24gdGltZXIoZm4pIHtcbiAgICAgIHJldHVybiBzZXRJbW1lZGlhdGUoZm4pO1xuICAgIH0gOiBzZXRUaW1lb3V0O1xuXG4gIC8vIGRhbW1pdCwgSUU4LlxuICB0cnkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgXCJ4XCIsIHt9KTtcbiAgICBidWlsdEluUHJvcCA9IGZ1bmN0aW9uIGJ1aWx0SW5Qcm9wKG9iaiwgbmFtZSwgdmFsLCBjb25maWcpIHtcbiAgICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBuYW1lLCB7XG4gICAgICAgIHZhbHVlOiB2YWwsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IGNvbmZpZyAhPT0gZmFsc2VcbiAgICAgIH0pO1xuICAgIH07XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGJ1aWx0SW5Qcm9wID0gZnVuY3Rpb24gYnVpbHRJblByb3Aob2JqLCBuYW1lLCB2YWwpIHtcbiAgICAgIG9ialtuYW1lXSA9IHZhbDtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgfVxuXG4gIC8vIE5vdGU6IHVzaW5nIGEgcXVldWUgaW5zdGVhZCBvZiBhcnJheSBmb3IgZWZmaWNpZW5jeVxuICBzY2hlZHVsaW5nX3F1ZXVlID0gZnVuY3Rpb24gUXVldWUoKSB7XG4gICAgdmFyIGZpcnN0LCBsYXN0LCBpdGVtO1xuICAgIGZ1bmN0aW9uIEl0ZW0oZm4sIHNlbGYpIHtcbiAgICAgIHRoaXMuZm4gPSBmbjtcbiAgICAgIHRoaXMuc2VsZiA9IHNlbGY7XG4gICAgICB0aGlzLm5leHQgPSB2b2lkIDA7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBhZGQ6IGZ1bmN0aW9uIGFkZChmbiwgc2VsZikge1xuICAgICAgICBpdGVtID0gbmV3IEl0ZW0oZm4sIHNlbGYpO1xuICAgICAgICBpZiAobGFzdCkge1xuICAgICAgICAgIGxhc3QubmV4dCA9IGl0ZW07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmlyc3QgPSBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIGxhc3QgPSBpdGVtO1xuICAgICAgICBpdGVtID0gdm9pZCAwO1xuICAgICAgfSxcbiAgICAgIGRyYWluOiBmdW5jdGlvbiBkcmFpbigpIHtcbiAgICAgICAgdmFyIGYgPSBmaXJzdDtcbiAgICAgICAgZmlyc3QgPSBsYXN0ID0gY3ljbGUgPSB2b2lkIDA7XG4gICAgICAgIHdoaWxlIChmKSB7XG4gICAgICAgICAgZi5mbi5jYWxsKGYuc2VsZik7XG4gICAgICAgICAgZiA9IGYubmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH0oKTtcbiAgZnVuY3Rpb24gc2NoZWR1bGUoZm4sIHNlbGYpIHtcbiAgICBzY2hlZHVsaW5nX3F1ZXVlLmFkZChmbiwgc2VsZik7XG4gICAgaWYgKCFjeWNsZSkge1xuICAgICAgY3ljbGUgPSB0aW1lcihzY2hlZHVsaW5nX3F1ZXVlLmRyYWluKTtcbiAgICB9XG4gIH1cblxuICAvLyBwcm9taXNlIGR1Y2sgdHlwaW5nXG4gIGZ1bmN0aW9uIGlzVGhlbmFibGUobykge1xuICAgIHZhciBfdGhlbixcbiAgICAgIG9fdHlwZSA9IHR5cGVvZiBvO1xuICAgIGlmIChvICE9IG51bGwgJiYgKG9fdHlwZSA9PSBcIm9iamVjdFwiIHx8IG9fdHlwZSA9PSBcImZ1bmN0aW9uXCIpKSB7XG4gICAgICBfdGhlbiA9IG8udGhlbjtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGVvZiBfdGhlbiA9PSBcImZ1bmN0aW9uXCIgPyBfdGhlbiA6IGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIG5vdGlmeSgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hhaW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIG5vdGlmeUlzb2xhdGVkKHRoaXMsIHRoaXMuc3RhdGUgPT09IDEgPyB0aGlzLmNoYWluW2ldLnN1Y2Nlc3MgOiB0aGlzLmNoYWluW2ldLmZhaWx1cmUsIHRoaXMuY2hhaW5baV0pO1xuICAgIH1cbiAgICB0aGlzLmNoYWluLmxlbmd0aCA9IDA7XG4gIH1cblxuICAvLyBOT1RFOiBUaGlzIGlzIGEgc2VwYXJhdGUgZnVuY3Rpb24gdG8gaXNvbGF0ZVxuICAvLyB0aGUgYHRyeS4uY2F0Y2hgIHNvIHRoYXQgb3RoZXIgY29kZSBjYW4gYmVcbiAgLy8gb3B0aW1pemVkIGJldHRlclxuICBmdW5jdGlvbiBub3RpZnlJc29sYXRlZChzZWxmLCBjYiwgY2hhaW4pIHtcbiAgICB2YXIgcmV0LCBfdGhlbjtcbiAgICB0cnkge1xuICAgICAgaWYgKGNiID09PSBmYWxzZSkge1xuICAgICAgICBjaGFpbi5yZWplY3Qoc2VsZi5tc2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGNiID09PSB0cnVlKSB7XG4gICAgICAgICAgcmV0ID0gc2VsZi5tc2c7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0ID0gY2IuY2FsbCh2b2lkIDAsIHNlbGYubXNnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmV0ID09PSBjaGFpbi5wcm9taXNlKSB7XG4gICAgICAgICAgY2hhaW4ucmVqZWN0KFR5cGVFcnJvcihcIlByb21pc2UtY2hhaW4gY3ljbGVcIikpO1xuICAgICAgICB9IGVsc2UgaWYgKF90aGVuID0gaXNUaGVuYWJsZShyZXQpKSB7XG4gICAgICAgICAgX3RoZW4uY2FsbChyZXQsIGNoYWluLnJlc29sdmUsIGNoYWluLnJlamVjdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hhaW4ucmVzb2x2ZShyZXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjaGFpbi5yZWplY3QoZXJyKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVzb2x2ZShtc2cpIHtcbiAgICB2YXIgX3RoZW4sXG4gICAgICBzZWxmID0gdGhpcztcblxuICAgIC8vIGFscmVhZHkgdHJpZ2dlcmVkP1xuICAgIGlmIChzZWxmLnRyaWdnZXJlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZWxmLnRyaWdnZXJlZCA9IHRydWU7XG5cbiAgICAvLyB1bndyYXBcbiAgICBpZiAoc2VsZi5kZWYpIHtcbiAgICAgIHNlbGYgPSBzZWxmLmRlZjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGlmIChfdGhlbiA9IGlzVGhlbmFibGUobXNnKSkge1xuICAgICAgICBzY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGRlZl93cmFwcGVyID0gbmV3IE1ha2VEZWZXcmFwcGVyKHNlbGYpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBfdGhlbi5jYWxsKG1zZywgZnVuY3Rpb24gJHJlc29sdmUkKCkge1xuICAgICAgICAgICAgICByZXNvbHZlLmFwcGx5KGRlZl93cmFwcGVyLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gJHJlamVjdCQoKSB7XG4gICAgICAgICAgICAgIHJlamVjdC5hcHBseShkZWZfd3JhcHBlciwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmVqZWN0LmNhbGwoZGVmX3dyYXBwZXIsIGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYubXNnID0gbXNnO1xuICAgICAgICBzZWxmLnN0YXRlID0gMTtcbiAgICAgICAgaWYgKHNlbGYuY2hhaW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHNjaGVkdWxlKG5vdGlmeSwgc2VsZik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJlamVjdC5jYWxsKG5ldyBNYWtlRGVmV3JhcHBlcihzZWxmKSwgZXJyKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVqZWN0KG1zZykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIGFscmVhZHkgdHJpZ2dlcmVkP1xuICAgIGlmIChzZWxmLnRyaWdnZXJlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZWxmLnRyaWdnZXJlZCA9IHRydWU7XG5cbiAgICAvLyB1bndyYXBcbiAgICBpZiAoc2VsZi5kZWYpIHtcbiAgICAgIHNlbGYgPSBzZWxmLmRlZjtcbiAgICB9XG4gICAgc2VsZi5tc2cgPSBtc2c7XG4gICAgc2VsZi5zdGF0ZSA9IDI7XG4gICAgaWYgKHNlbGYuY2hhaW4ubGVuZ3RoID4gMCkge1xuICAgICAgc2NoZWR1bGUobm90aWZ5LCBzZWxmKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gaXRlcmF0ZVByb21pc2VzKENvbnN0cnVjdG9yLCBhcnIsIHJlc29sdmVyLCByZWplY3Rlcikge1xuICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGFyci5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAoZnVuY3Rpb24gSUlGRShpZHgpIHtcbiAgICAgICAgQ29uc3RydWN0b3IucmVzb2x2ZShhcnJbaWR4XSkudGhlbihmdW5jdGlvbiAkcmVzb2x2ZXIkKG1zZykge1xuICAgICAgICAgIHJlc29sdmVyKGlkeCwgbXNnKTtcbiAgICAgICAgfSwgcmVqZWN0ZXIpO1xuICAgICAgfSkoaWR4KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gTWFrZURlZldyYXBwZXIoc2VsZikge1xuICAgIHRoaXMuZGVmID0gc2VsZjtcbiAgICB0aGlzLnRyaWdnZXJlZCA9IGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIE1ha2VEZWYoc2VsZikge1xuICAgIHRoaXMucHJvbWlzZSA9IHNlbGY7XG4gICAgdGhpcy5zdGF0ZSA9IDA7XG4gICAgdGhpcy50cmlnZ2VyZWQgPSBmYWxzZTtcbiAgICB0aGlzLmNoYWluID0gW107XG4gICAgdGhpcy5tc2cgPSB2b2lkIDA7XG4gIH1cbiAgZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcikge1xuICAgIGlmICh0eXBlb2YgZXhlY3V0b3IgIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoXCJOb3QgYSBmdW5jdGlvblwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX19OUE9fXyAhPT0gMCkge1xuICAgICAgdGhyb3cgVHlwZUVycm9yKFwiTm90IGEgcHJvbWlzZVwiKTtcbiAgICB9XG5cbiAgICAvLyBpbnN0YW5jZSBzaGFkb3dpbmcgdGhlIGluaGVyaXRlZCBcImJyYW5kXCJcbiAgICAvLyB0byBzaWduYWwgYW4gYWxyZWFkeSBcImluaXRpYWxpemVkXCIgcHJvbWlzZVxuICAgIHRoaXMuX19OUE9fXyA9IDE7XG4gICAgdmFyIGRlZiA9IG5ldyBNYWtlRGVmKHRoaXMpO1xuICAgIHRoaXNbXCJ0aGVuXCJdID0gZnVuY3Rpb24gdGhlbihzdWNjZXNzLCBmYWlsdXJlKSB7XG4gICAgICB2YXIgbyA9IHtcbiAgICAgICAgc3VjY2VzczogdHlwZW9mIHN1Y2Nlc3MgPT0gXCJmdW5jdGlvblwiID8gc3VjY2VzcyA6IHRydWUsXG4gICAgICAgIGZhaWx1cmU6IHR5cGVvZiBmYWlsdXJlID09IFwiZnVuY3Rpb25cIiA/IGZhaWx1cmUgOiBmYWxzZVxuICAgICAgfTtcbiAgICAgIC8vIE5vdGU6IGB0aGVuKC4uKWAgaXRzZWxmIGNhbiBiZSBib3Jyb3dlZCB0byBiZSB1c2VkIGFnYWluc3RcbiAgICAgIC8vIGEgZGlmZmVyZW50IHByb21pc2UgY29uc3RydWN0b3IgZm9yIG1ha2luZyB0aGUgY2hhaW5lZCBwcm9taXNlLFxuICAgICAgLy8gYnkgc3Vic3RpdHV0aW5nIGEgZGlmZmVyZW50IGB0aGlzYCBiaW5kaW5nLlxuICAgICAgby5wcm9taXNlID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZnVuY3Rpb24gZXh0cmFjdENoYWluKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBpZiAodHlwZW9mIHJlc29sdmUgIT0gXCJmdW5jdGlvblwiIHx8IHR5cGVvZiByZWplY3QgIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiTm90IGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgby5yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgby5yZWplY3QgPSByZWplY3Q7XG4gICAgICB9KTtcbiAgICAgIGRlZi5jaGFpbi5wdXNoKG8pO1xuICAgICAgaWYgKGRlZi5zdGF0ZSAhPT0gMCkge1xuICAgICAgICBzY2hlZHVsZShub3RpZnksIGRlZik7XG4gICAgICB9XG4gICAgICByZXR1cm4gby5wcm9taXNlO1xuICAgIH07XG4gICAgdGhpc1tcImNhdGNoXCJdID0gZnVuY3Rpb24gJGNhdGNoJChmYWlsdXJlKSB7XG4gICAgICByZXR1cm4gdGhpcy50aGVuKHZvaWQgMCwgZmFpbHVyZSk7XG4gICAgfTtcbiAgICB0cnkge1xuICAgICAgZXhlY3V0b3IuY2FsbCh2b2lkIDAsIGZ1bmN0aW9uIHB1YmxpY1Jlc29sdmUobXNnKSB7XG4gICAgICAgIHJlc29sdmUuY2FsbChkZWYsIG1zZyk7XG4gICAgICB9LCBmdW5jdGlvbiBwdWJsaWNSZWplY3QobXNnKSB7XG4gICAgICAgIHJlamVjdC5jYWxsKGRlZiwgbXNnKTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmVqZWN0LmNhbGwoZGVmLCBlcnIpO1xuICAgIH1cbiAgfVxuICB2YXIgUHJvbWlzZVByb3RvdHlwZSA9IGJ1aWx0SW5Qcm9wKHt9LCBcImNvbnN0cnVjdG9yXCIsIFByb21pc2UsIC8qY29uZmlndXJhYmxlPSovZmFsc2UpO1xuXG4gIC8vIE5vdGU6IEFuZHJvaWQgNCBjYW5ub3QgdXNlIGBPYmplY3QuZGVmaW5lUHJvcGVydHkoLi4pYCBoZXJlXG4gIFByb21pc2UucHJvdG90eXBlID0gUHJvbWlzZVByb3RvdHlwZTtcblxuICAvLyBidWlsdC1pbiBcImJyYW5kXCIgdG8gc2lnbmFsIGFuIFwidW5pbml0aWFsaXplZFwiIHByb21pc2VcbiAgYnVpbHRJblByb3AoUHJvbWlzZVByb3RvdHlwZSwgXCJfX05QT19fXCIsIDAsIC8qY29uZmlndXJhYmxlPSovZmFsc2UpO1xuICBidWlsdEluUHJvcChQcm9taXNlLCBcInJlc29sdmVcIiwgZnVuY3Rpb24gUHJvbWlzZSRyZXNvbHZlKG1zZykge1xuICAgIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgICAvLyBzcGVjIG1hbmRhdGVkIGNoZWNrc1xuICAgIC8vIG5vdGU6IGJlc3QgXCJpc1Byb21pc2VcIiBjaGVjayB0aGF0J3MgcHJhY3RpY2FsIGZvciBub3dcbiAgICBpZiAobXNnICYmIHR5cGVvZiBtc2cgPT0gXCJvYmplY3RcIiAmJiBtc2cuX19OUE9fXyA9PT0gMSkge1xuICAgICAgcmV0dXJuIG1zZztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiBleGVjdXRvcihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGlmICh0eXBlb2YgcmVzb2x2ZSAhPSBcImZ1bmN0aW9uXCIgfHwgdHlwZW9mIHJlamVjdCAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiTm90IGEgZnVuY3Rpb25cIik7XG4gICAgICB9XG4gICAgICByZXNvbHZlKG1zZyk7XG4gICAgfSk7XG4gIH0pO1xuICBidWlsdEluUHJvcChQcm9taXNlLCBcInJlamVjdFwiLCBmdW5jdGlvbiBQcm9taXNlJHJlamVjdChtc2cpIHtcbiAgICByZXR1cm4gbmV3IHRoaXMoZnVuY3Rpb24gZXhlY3V0b3IocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBpZiAodHlwZW9mIHJlc29sdmUgIT0gXCJmdW5jdGlvblwiIHx8IHR5cGVvZiByZWplY3QgIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IFR5cGVFcnJvcihcIk5vdCBhIGZ1bmN0aW9uXCIpO1xuICAgICAgfVxuICAgICAgcmVqZWN0KG1zZyk7XG4gICAgfSk7XG4gIH0pO1xuICBidWlsdEluUHJvcChQcm9taXNlLCBcImFsbFwiLCBmdW5jdGlvbiBQcm9taXNlJGFsbChhcnIpIHtcbiAgICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuXG4gICAgLy8gc3BlYyBtYW5kYXRlZCBjaGVja3NcbiAgICBpZiAoVG9TdHJpbmcuY2FsbChhcnIpICE9IFwiW29iamVjdCBBcnJheV1cIikge1xuICAgICAgcmV0dXJuIENvbnN0cnVjdG9yLnJlamVjdChUeXBlRXJyb3IoXCJOb3QgYW4gYXJyYXlcIikpO1xuICAgIH1cbiAgICBpZiAoYXJyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIENvbnN0cnVjdG9yLnJlc29sdmUoW10pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKGZ1bmN0aW9uIGV4ZWN1dG9yKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgaWYgKHR5cGVvZiByZXNvbHZlICE9IFwiZnVuY3Rpb25cIiB8fCB0eXBlb2YgcmVqZWN0ICE9IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJOb3QgYSBmdW5jdGlvblwiKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW4gPSBhcnIubGVuZ3RoLFxuICAgICAgICBtc2dzID0gQXJyYXkobGVuKSxcbiAgICAgICAgY291bnQgPSAwO1xuICAgICAgaXRlcmF0ZVByb21pc2VzKENvbnN0cnVjdG9yLCBhcnIsIGZ1bmN0aW9uIHJlc29sdmVyKGlkeCwgbXNnKSB7XG4gICAgICAgIG1zZ3NbaWR4XSA9IG1zZztcbiAgICAgICAgaWYgKCsrY291bnQgPT09IGxlbikge1xuICAgICAgICAgIHJlc29sdmUobXNncyk7XG4gICAgICAgIH1cbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH0pO1xuICBidWlsdEluUHJvcChQcm9taXNlLCBcInJhY2VcIiwgZnVuY3Rpb24gUHJvbWlzZSRyYWNlKGFycikge1xuICAgIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgICAvLyBzcGVjIG1hbmRhdGVkIGNoZWNrc1xuICAgIGlmIChUb1N0cmluZy5jYWxsKGFycikgIT0gXCJbb2JqZWN0IEFycmF5XVwiKSB7XG4gICAgICByZXR1cm4gQ29uc3RydWN0b3IucmVqZWN0KFR5cGVFcnJvcihcIk5vdCBhbiBhcnJheVwiKSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IoZnVuY3Rpb24gZXhlY3V0b3IocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBpZiAodHlwZW9mIHJlc29sdmUgIT0gXCJmdW5jdGlvblwiIHx8IHR5cGVvZiByZWplY3QgIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IFR5cGVFcnJvcihcIk5vdCBhIGZ1bmN0aW9uXCIpO1xuICAgICAgfVxuICAgICAgaXRlcmF0ZVByb21pc2VzKENvbnN0cnVjdG9yLCBhcnIsIGZ1bmN0aW9uIHJlc29sdmVyKGlkeCwgbXNnKSB7XG4gICAgICAgIHJlc29sdmUobXNnKTtcbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gUHJvbWlzZTtcbn0pO1xufSk7XG5cbi8qKlxuICogQG1vZHVsZSBsaWIvY2FsbGJhY2tzXG4gKi9cblxudmFyIGNhbGxiYWNrTWFwID0gbmV3IFdlYWtNYXAoKTtcblxuLyoqXG4gKiBTdG9yZSBhIGNhbGxiYWNrIGZvciBhIG1ldGhvZCBvciBldmVudCBmb3IgYSBwbGF5ZXIuXG4gKlxuICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllciBUaGUgcGxheWVyIG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBtZXRob2Qgb3IgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7KGZ1bmN0aW9uKHRoaXM6UGxheWVyLCAqKTogdm9pZHx7cmVzb2x2ZTogZnVuY3Rpb24sIHJlamVjdDogZnVuY3Rpb259KX0gY2FsbGJhY2tcbiAqICAgICAgICBUaGUgY2FsbGJhY2sgdG8gY2FsbCBvciBhbiBvYmplY3Qgd2l0aCByZXNvbHZlIGFuZCByZWplY3QgZnVuY3Rpb25zIGZvciBhIHByb21pc2UuXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5mdW5jdGlvbiBzdG9yZUNhbGxiYWNrKHBsYXllciwgbmFtZSwgY2FsbGJhY2spIHtcbiAgdmFyIHBsYXllckNhbGxiYWNrcyA9IGNhbGxiYWNrTWFwLmdldChwbGF5ZXIuZWxlbWVudCkgfHwge307XG4gIGlmICghKG5hbWUgaW4gcGxheWVyQ2FsbGJhY2tzKSkge1xuICAgIHBsYXllckNhbGxiYWNrc1tuYW1lXSA9IFtdO1xuICB9XG4gIHBsYXllckNhbGxiYWNrc1tuYW1lXS5wdXNoKGNhbGxiYWNrKTtcbiAgY2FsbGJhY2tNYXAuc2V0KHBsYXllci5lbGVtZW50LCBwbGF5ZXJDYWxsYmFja3MpO1xufVxuXG4vKipcbiAqIEdldCB0aGUgY2FsbGJhY2tzIGZvciBhIHBsYXllciBhbmQgZXZlbnQgb3IgbWV0aG9kLlxuICpcbiAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXIgVGhlIHBsYXllciBvYmplY3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbWV0aG9kIG9yIGV2ZW50IG5hbWVcbiAqIEByZXR1cm4ge2Z1bmN0aW9uW119XG4gKi9cbmZ1bmN0aW9uIGdldENhbGxiYWNrcyhwbGF5ZXIsIG5hbWUpIHtcbiAgdmFyIHBsYXllckNhbGxiYWNrcyA9IGNhbGxiYWNrTWFwLmdldChwbGF5ZXIuZWxlbWVudCkgfHwge307XG4gIHJldHVybiBwbGF5ZXJDYWxsYmFja3NbbmFtZV0gfHwgW107XG59XG5cbi8qKlxuICogUmVtb3ZlIGEgc3RvcmVkIGNhbGxiYWNrIGZvciBhIG1ldGhvZCBvciBldmVudCBmb3IgYSBwbGF5ZXIuXG4gKlxuICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllciBUaGUgcGxheWVyIG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBtZXRob2Qgb3IgZXZlbnQgbmFtZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSBUaGUgc3BlY2lmaWMgY2FsbGJhY2sgdG8gcmVtb3ZlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2FzIHRoaXMgdGhlIGxhc3QgY2FsbGJhY2s/XG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUNhbGxiYWNrKHBsYXllciwgbmFtZSwgY2FsbGJhY2spIHtcbiAgdmFyIHBsYXllckNhbGxiYWNrcyA9IGNhbGxiYWNrTWFwLmdldChwbGF5ZXIuZWxlbWVudCkgfHwge307XG4gIGlmICghcGxheWVyQ2FsbGJhY2tzW25hbWVdKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBJZiBubyBjYWxsYmFjayBpcyBwYXNzZWQsIHJlbW92ZSBhbGwgY2FsbGJhY2tzIGZvciB0aGUgZXZlbnRcbiAgaWYgKCFjYWxsYmFjaykge1xuICAgIHBsYXllckNhbGxiYWNrc1tuYW1lXSA9IFtdO1xuICAgIGNhbGxiYWNrTWFwLnNldChwbGF5ZXIuZWxlbWVudCwgcGxheWVyQ2FsbGJhY2tzKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgaW5kZXggPSBwbGF5ZXJDYWxsYmFja3NbbmFtZV0uaW5kZXhPZihjYWxsYmFjayk7XG4gIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICBwbGF5ZXJDYWxsYmFja3NbbmFtZV0uc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxuICBjYWxsYmFja01hcC5zZXQocGxheWVyLmVsZW1lbnQsIHBsYXllckNhbGxiYWNrcyk7XG4gIHJldHVybiBwbGF5ZXJDYWxsYmFja3NbbmFtZV0gJiYgcGxheWVyQ2FsbGJhY2tzW25hbWVdLmxlbmd0aCA9PT0gMDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIGZpcnN0IHN0b3JlZCBjYWxsYmFjayBmb3IgYSBwbGF5ZXIgYW5kIGV2ZW50IG9yIG1ldGhvZC5cbiAqXG4gKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyIFRoZSBwbGF5ZXIgb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG1ldGhvZCBvciBldmVudCBuYW1lLlxuICogQHJldHVybiB7ZnVuY3Rpb259IFRoZSBjYWxsYmFjaywgb3IgZmFsc2UgaWYgdGhlcmUgd2VyZSBub25lXG4gKi9cbmZ1bmN0aW9uIHNoaWZ0Q2FsbGJhY2tzKHBsYXllciwgbmFtZSkge1xuICB2YXIgcGxheWVyQ2FsbGJhY2tzID0gZ2V0Q2FsbGJhY2tzKHBsYXllciwgbmFtZSk7XG4gIGlmIChwbGF5ZXJDYWxsYmFja3MubGVuZ3RoIDwgMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgY2FsbGJhY2sgPSBwbGF5ZXJDYWxsYmFja3Muc2hpZnQoKTtcbiAgcmVtb3ZlQ2FsbGJhY2socGxheWVyLCBuYW1lLCBjYWxsYmFjayk7XG4gIHJldHVybiBjYWxsYmFjaztcbn1cblxuLyoqXG4gKiBNb3ZlIGNhbGxiYWNrcyBhc3NvY2lhdGVkIHdpdGggYW4gZWxlbWVudCB0byBhbm90aGVyIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gb2xkRWxlbWVudCBUaGUgb2xkIGVsZW1lbnQuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBuZXdFbGVtZW50IFRoZSBuZXcgZWxlbWVudC5cbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHN3YXBDYWxsYmFja3Mob2xkRWxlbWVudCwgbmV3RWxlbWVudCkge1xuICB2YXIgcGxheWVyQ2FsbGJhY2tzID0gY2FsbGJhY2tNYXAuZ2V0KG9sZEVsZW1lbnQpO1xuICBjYWxsYmFja01hcC5zZXQobmV3RWxlbWVudCwgcGxheWVyQ2FsbGJhY2tzKTtcbiAgY2FsbGJhY2tNYXAuZGVsZXRlKG9sZEVsZW1lbnQpO1xufVxuXG4vKipcbiAqIEBtb2R1bGUgbGliL3Bvc3RtZXNzYWdlXG4gKi9cblxuLyoqXG4gKiBQYXJzZSBhIG1lc3NhZ2UgcmVjZWl2ZWQgZnJvbSBwb3N0TWVzc2FnZS5cbiAqXG4gKiBAcGFyYW0geyp9IGRhdGEgVGhlIGRhdGEgcmVjZWl2ZWQgZnJvbSBwb3N0TWVzc2FnZS5cbiAqIEByZXR1cm4ge29iamVjdH1cbiAqL1xuZnVuY3Rpb24gcGFyc2VNZXNzYWdlRGF0YShkYXRhKSB7XG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICB0cnkge1xuICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIElmIHRoZSBtZXNzYWdlIGNhbm5vdCBiZSBwYXJzZWQsIHRocm93IHRoZSBlcnJvciBhcyBhIHdhcm5pbmdcbiAgICAgIGNvbnNvbGUud2FybihlcnJvcik7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9XG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIFBvc3QgYSBtZXNzYWdlIHRvIHRoZSBzcGVjaWZpZWQgdGFyZ2V0LlxuICpcbiAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXIgVGhlIHBsYXllciBvYmplY3QgdG8gdXNlLlxuICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCBUaGUgQVBJIG1ldGhvZCB0byBjYWxsLlxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfG9iamVjdHxBcnJheXx1bmRlZmluZWR9IHBhcmFtcyBUaGUgcGFyYW1ldGVycyB0byBzZW5kIHRvIHRoZSBwbGF5ZXIuXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5mdW5jdGlvbiBwb3N0TWVzc2FnZShwbGF5ZXIsIG1ldGhvZCwgcGFyYW1zKSB7XG4gIGlmICghcGxheWVyLmVsZW1lbnQuY29udGVudFdpbmRvdyB8fCAhcGxheWVyLmVsZW1lbnQuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbWVzc2FnZSA9IHtcbiAgICBtZXRob2Q6IG1ldGhvZFxuICB9O1xuICBpZiAocGFyYW1zICE9PSB1bmRlZmluZWQpIHtcbiAgICBtZXNzYWdlLnZhbHVlID0gcGFyYW1zO1xuICB9XG5cbiAgLy8gSUUgOCBhbmQgOSBkbyBub3Qgc3VwcG9ydCBwYXNzaW5nIG1lc3NhZ2VzLCBzbyBzdHJpbmdpZnkgdGhlbVxuICB2YXIgaWVWZXJzaW9uID0gcGFyc2VGbG9hdChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXi4qbXNpZSAoXFxkKykuKiQvLCAnJDEnKSk7XG4gIGlmIChpZVZlcnNpb24gPj0gOCAmJiBpZVZlcnNpb24gPCAxMCkge1xuICAgIG1lc3NhZ2UgPSBKU09OLnN0cmluZ2lmeShtZXNzYWdlKTtcbiAgfVxuICBwbGF5ZXIuZWxlbWVudC5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKG1lc3NhZ2UsIHBsYXllci5vcmlnaW4pO1xufVxuXG4vKipcbiAqIFBhcnNlIHRoZSBkYXRhIHJlY2VpdmVkIGZyb20gYSBtZXNzYWdlIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXIgVGhlIHBsYXllciB0aGF0IHJlY2VpdmVkIHRoZSBtZXNzYWdlLlxuICogQHBhcmFtIHsoT2JqZWN0fHN0cmluZyl9IGRhdGEgVGhlIG1lc3NhZ2UgZGF0YS4gU3RyaW5ncyB3aWxsIGJlIHBhcnNlZCBpbnRvIEpTT04uXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5mdW5jdGlvbiBwcm9jZXNzRGF0YShwbGF5ZXIsIGRhdGEpIHtcbiAgZGF0YSA9IHBhcnNlTWVzc2FnZURhdGEoZGF0YSk7XG4gIHZhciBjYWxsYmFja3MgPSBbXTtcbiAgdmFyIHBhcmFtO1xuICBpZiAoZGF0YS5ldmVudCkge1xuICAgIGlmIChkYXRhLmV2ZW50ID09PSAnZXJyb3InKSB7XG4gICAgICB2YXIgcHJvbWlzZXMgPSBnZXRDYWxsYmFja3MocGxheWVyLCBkYXRhLmRhdGEubWV0aG9kKTtcbiAgICAgIHByb21pc2VzLmZvckVhY2goZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKGRhdGEuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgZXJyb3IubmFtZSA9IGRhdGEuZGF0YS5uYW1lO1xuICAgICAgICBwcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgIHJlbW92ZUNhbGxiYWNrKHBsYXllciwgZGF0YS5kYXRhLm1ldGhvZCwgcHJvbWlzZSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY2FsbGJhY2tzID0gZ2V0Q2FsbGJhY2tzKHBsYXllciwgXCJldmVudDpcIi5jb25jYXQoZGF0YS5ldmVudCkpO1xuICAgIHBhcmFtID0gZGF0YS5kYXRhO1xuICB9IGVsc2UgaWYgKGRhdGEubWV0aG9kKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gc2hpZnRDYWxsYmFja3MocGxheWVyLCBkYXRhLm1ldGhvZCk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICBwYXJhbSA9IGRhdGEudmFsdWU7XG4gICAgfVxuICB9XG4gIGNhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwocGxheWVyLCBwYXJhbSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrLnJlc29sdmUocGFyYW0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIGVtcHR5XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBAbW9kdWxlIGxpYi9lbWJlZFxuICovXG52YXIgb0VtYmVkUGFyYW1ldGVycyA9IFsnYWlycGxheScsICdhdWRpb190cmFja3MnLCAnYXVkaW90cmFjaycsICdhdXRvcGF1c2UnLCAnYXV0b3BsYXknLCAnYmFja2dyb3VuZCcsICdieWxpbmUnLCAnY2MnLCAnY2hhcHRlcl9pZCcsICdjaGFwdGVycycsICdjaHJvbWVjYXN0JywgJ2NvbG9yJywgJ2NvbG9ycycsICdjb250cm9scycsICdkbnQnLCAnZW5kX3RpbWUnLCAnZnVsbHNjcmVlbicsICdoZWlnaHQnLCAnaWQnLCAnaW5pdGlhbF9xdWFsaXR5JywgJ2ludGVyYWN0aXZlX3BhcmFtcycsICdrZXlib2FyZCcsICdsb29wJywgJ21heGhlaWdodCcsICdtYXhfcXVhbGl0eScsICdtYXh3aWR0aCcsICdtaW5fcXVhbGl0eScsICdtdXRlZCcsICdwbGF5X2J1dHRvbl9wb3NpdGlvbicsICdwbGF5c2lubGluZScsICdwb3J0cmFpdCcsICdwcmVsb2FkJywgJ3Byb2dyZXNzX2JhcicsICdxdWFsaXR5JywgJ3F1YWxpdHlfc2VsZWN0b3InLCAncmVzcG9uc2l2ZScsICdza2lwcGluZ19mb3J3YXJkJywgJ3NwZWVkJywgJ3N0YXJ0X3RpbWUnLCAndGV4dHRyYWNrJywgJ3RodW1ibmFpbF9pZCcsICd0aXRsZScsICd0cmFuc2NyaXB0JywgJ3RyYW5zcGFyZW50JywgJ3VubXV0ZV9idXR0b24nLCAndXJsJywgJ3ZpbWVvX2xvZ28nLCAndm9sdW1lJywgJ3dhdGNoX2Z1bGxfdmlkZW8nLCAnd2lkdGgnXTtcblxuLyoqXG4gKiBHZXQgdGhlICdkYXRhLXZpbWVvJy1wcmVmaXhlZCBhdHRyaWJ1dGVzIGZyb20gYW4gZWxlbWVudCBhcyBhbiBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbZGVmYXVsdHM9e31dIFRoZSBkZWZhdWx0IHZhbHVlcyB0byB1c2UuXG4gKiBAcmV0dXJuIHtPYmplY3Q8c3RyaW5nLCBzdHJpbmc+fVxuICovXG5mdW5jdGlvbiBnZXRPRW1iZWRQYXJhbWV0ZXJzKGVsZW1lbnQpIHtcbiAgdmFyIGRlZmF1bHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgcmV0dXJuIG9FbWJlZFBhcmFtZXRlcnMucmVkdWNlKGZ1bmN0aW9uIChwYXJhbXMsIHBhcmFtKSB7XG4gICAgdmFyIHZhbHVlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXZpbWVvLVwiLmNvbmNhdChwYXJhbSkpO1xuICAgIGlmICh2YWx1ZSB8fCB2YWx1ZSA9PT0gJycpIHtcbiAgICAgIHBhcmFtc1twYXJhbV0gPSB2YWx1ZSA9PT0gJycgPyAxIDogdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBwYXJhbXM7XG4gIH0sIGRlZmF1bHRzKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYW4gZW1iZWQgZnJvbSBvRW1iZWQgZGF0YSBpbnNpZGUgYW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gZGF0YSBUaGUgb0VtYmVkIGRhdGEuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIHB1dCB0aGUgaWZyYW1lIGluLlxuICogQHJldHVybiB7SFRNTElGcmFtZUVsZW1lbnR9IFRoZSBpZnJhbWUgZW1iZWQuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVtYmVkKF9yZWYsIGVsZW1lbnQpIHtcbiAgdmFyIGh0bWwgPSBfcmVmLmh0bWw7XG4gIGlmICghZWxlbWVudCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FuIGVsZW1lbnQgbXVzdCBiZSBwcm92aWRlZCcpO1xuICB9XG4gIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS12aW1lby1pbml0aWFsaXplZCcpICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQucXVlcnlTZWxlY3RvcignaWZyYW1lJyk7XG4gIH1cbiAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkaXYuaW5uZXJIVE1MID0gaHRtbDtcbiAgZWxlbWVudC5hcHBlbmRDaGlsZChkaXYuZmlyc3RDaGlsZCk7XG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXZpbWVvLWluaXRpYWxpemVkJywgJ3RydWUnKTtcbiAgcmV0dXJuIGVsZW1lbnQucXVlcnlTZWxlY3RvcignaWZyYW1lJyk7XG59XG5cbi8qKlxuICogTWFrZSBhbiBvRW1iZWQgY2FsbCBmb3IgdGhlIHNwZWNpZmllZCBVUkwuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHZpZGVvVXJsIFRoZSB2aW1lby5jb20gdXJsIGZvciB0aGUgdmlkZW8uXG4gKiBAcGFyYW0ge09iamVjdH0gW3BhcmFtc10gUGFyYW1ldGVycyB0byBwYXNzIHRvIG9FbWJlZC5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQuXG4gKiBAcmV0dXJuIHtQcm9taXNlfVxuICovXG5mdW5jdGlvbiBnZXRPRW1iZWREYXRhKHZpZGVvVXJsKSB7XG4gIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICB2YXIgZWxlbWVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkO1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGlmICghaXNWaW1lb1VybCh2aWRlb1VybCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJcXHUyMDFDXCIuY29uY2F0KHZpZGVvVXJsLCBcIlxcdTIwMUQgaXMgbm90IGEgdmltZW8uY29tIHVybC5cIikpO1xuICAgIH1cbiAgICB2YXIgZG9tYWluID0gZ2V0T2VtYmVkRG9tYWluKHZpZGVvVXJsKTtcbiAgICB2YXIgdXJsID0gXCJodHRwczovL1wiLmNvbmNhdChkb21haW4sIFwiL2FwaS9vZW1iZWQuanNvbj91cmw9XCIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQodmlkZW9VcmwpKTtcbiAgICBmb3IgKHZhciBwYXJhbSBpbiBwYXJhbXMpIHtcbiAgICAgIGlmIChwYXJhbXMuaGFzT3duUHJvcGVydHkocGFyYW0pKSB7XG4gICAgICAgIHVybCArPSBcIiZcIi5jb25jYXQocGFyYW0sIFwiPVwiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtc1twYXJhbV0pKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHhociA9ICdYRG9tYWluUmVxdWVzdCcgaW4gd2luZG93ID8gbmV3IFhEb21haW5SZXF1ZXN0KCkgOiBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB4aHIub3BlbignR0VUJywgdXJsLCB0cnVlKTtcbiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICByZWplY3QobmV3IEVycm9yKFwiXFx1MjAxQ1wiLmNvbmNhdCh2aWRlb1VybCwgXCJcXHUyMDFEIHdhcyBub3QgZm91bmQuXCIpKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh4aHIuc3RhdHVzID09PSA0MDMpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIlxcdTIwMUNcIi5jb25jYXQodmlkZW9VcmwsIFwiXFx1MjAxRCBpcyBub3QgZW1iZWRkYWJsZS5cIikpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAvLyBDaGVjayBhcGkgcmVzcG9uc2UgZm9yIDQwMyBvbiBvZW1iZWRcbiAgICAgICAgaWYgKGpzb24uZG9tYWluX3N0YXR1c19jb2RlID09PSA0MDMpIHtcbiAgICAgICAgICAvLyBXZSBzdGlsbCB3YW50IHRvIGNyZWF0ZSB0aGUgZW1iZWQgdG8gZ2l2ZSB1c2VycyB2aXN1YWwgZmVlZGJhY2tcbiAgICAgICAgICBjcmVhdGVFbWJlZChqc29uLCBlbGVtZW50KTtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiXFx1MjAxQ1wiLmNvbmNhdCh2aWRlb1VybCwgXCJcXHUyMDFEIGlzIG5vdCBlbWJlZGRhYmxlLlwiKSkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKGpzb24pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN0YXR1cyA9IHhoci5zdGF0dXMgPyBcIiAoXCIuY29uY2F0KHhoci5zdGF0dXMsIFwiKVwiKSA6ICcnO1xuICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIlRoZXJlIHdhcyBhbiBlcnJvciBmZXRjaGluZyB0aGUgZW1iZWQgY29kZSBmcm9tIFZpbWVvXCIuY29uY2F0KHN0YXR1cywgXCIuXCIpKSk7XG4gICAgfTtcbiAgICB4aHIuc2VuZCgpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIGFsbCBlbWJlZHMgd2l0aGluIGEgc3BlY2lmaWMgZWxlbWVudFxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFtwYXJlbnQ9ZG9jdW1lbnRdIFRoZSBwYXJlbnQgZWxlbWVudC5cbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGluaXRpYWxpemVFbWJlZHMoKSB7XG4gIHZhciBwYXJlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGRvY3VtZW50O1xuICB2YXIgZWxlbWVudHMgPSBbXS5zbGljZS5jYWxsKHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS12aW1lby1pZF0sIFtkYXRhLXZpbWVvLXVybF0nKSk7XG4gIHZhciBoYW5kbGVFcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUVycm9yKGVycm9yKSB7XG4gICAgaWYgKCdjb25zb2xlJyBpbiB3aW5kb3cgJiYgY29uc29sZS5lcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIlRoZXJlIHdhcyBhbiBlcnJvciBjcmVhdGluZyBhbiBlbWJlZDogXCIuY29uY2F0KGVycm9yKSk7XG4gICAgfVxuICB9O1xuICBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFNraXAgYW55IHRoYXQgaGF2ZSBkYXRhLXZpbWVvLWRlZmVyXG4gICAgICBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmltZW8tZGVmZXInKSAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgcGFyYW1zID0gZ2V0T0VtYmVkUGFyYW1ldGVycyhlbGVtZW50KTtcbiAgICAgIHZhciB1cmwgPSBnZXRWaW1lb1VybChwYXJhbXMpO1xuICAgICAgZ2V0T0VtYmVkRGF0YSh1cmwsIHBhcmFtcywgZWxlbWVudCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRW1iZWQoZGF0YSwgZWxlbWVudCk7XG4gICAgICB9KS5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGhhbmRsZUVycm9yKGVycm9yKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFJlc2l6ZSBlbWJlZHMgd2hlbiBtZXNzYWdlZCBieSB0aGUgcGxheWVyLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFtwYXJlbnQ9ZG9jdW1lbnRdIFRoZSBwYXJlbnQgZWxlbWVudC5cbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHJlc2l6ZUVtYmVkcygpIHtcbiAgdmFyIHBhcmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZG9jdW1lbnQ7XG4gIC8vIFByZXZlbnQgZXhlY3V0aW9uIGlmIHVzZXJzIGluY2x1ZGUgdGhlIHBsYXllci5qcyBzY3JpcHQgbXVsdGlwbGUgdGltZXMuXG4gIGlmICh3aW5kb3cuVmltZW9QbGF5ZXJSZXNpemVFbWJlZHNfKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHdpbmRvdy5WaW1lb1BsYXllclJlc2l6ZUVtYmVkc18gPSB0cnVlO1xuICB2YXIgb25NZXNzYWdlID0gZnVuY3Rpb24gb25NZXNzYWdlKGV2ZW50KSB7XG4gICAgaWYgKCFpc1ZpbWVvVXJsKGV2ZW50Lm9yaWdpbikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyAnc3BhY2VjaGFuZ2UnIGlzIGZpcmVkIG9ubHkgb24gZW1iZWRzIHdpdGggY2FyZHNcbiAgICBpZiAoIWV2ZW50LmRhdGEgfHwgZXZlbnQuZGF0YS5ldmVudCAhPT0gJ3NwYWNlY2hhbmdlJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgc2VuZGVySUZyYW1lID0gZXZlbnQuc291cmNlID8gZmluZElmcmFtZUJ5U291cmNlV2luZG93KGV2ZW50LnNvdXJjZSwgcGFyZW50KSA6IG51bGw7XG4gICAgaWYgKHNlbmRlcklGcmFtZSkge1xuICAgICAgLy8gQ2hhbmdlIHBhZGRpbmctYm90dG9tIG9mIHRoZSBlbmNsb3NpbmcgZGl2IHRvIGFjY29tbW9kYXRlXG4gICAgICAvLyBjYXJkIGNhcm91c2VsIHdpdGhvdXQgZGlzdG9ydGluZyBhc3BlY3QgcmF0aW9cbiAgICAgIHZhciBzcGFjZSA9IHNlbmRlcklGcmFtZS5wYXJlbnRFbGVtZW50O1xuICAgICAgc3BhY2Uuc3R5bGUucGFkZGluZ0JvdHRvbSA9IFwiXCIuY29uY2F0KGV2ZW50LmRhdGEuZGF0YVswXS5ib3R0b20sIFwicHhcIik7XG4gICAgfVxuICB9O1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG9uTWVzc2FnZSk7XG59XG5cbi8qKlxuICogQWRkIGNoYXB0ZXJzIHRvIGV4aXN0aW5nIG1ldGFkYXRhIGZvciBHb29nbGUgU0VPXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW3BhcmVudD1kb2N1bWVudF0gVGhlIHBhcmVudCBlbGVtZW50LlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gaW5pdEFwcGVuZFZpZGVvTWV0YWRhdGEoKSB7XG4gIHZhciBwYXJlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGRvY3VtZW50O1xuICAvLyAgUHJldmVudCBleGVjdXRpb24gaWYgdXNlcnMgaW5jbHVkZSB0aGUgcGxheWVyLmpzIHNjcmlwdCBtdWx0aXBsZSB0aW1lcy5cbiAgaWYgKHdpbmRvdy5WaW1lb1Nlb01ldGFkYXRhQXBwZW5kZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgd2luZG93LlZpbWVvU2VvTWV0YWRhdGFBcHBlbmRlZCA9IHRydWU7XG4gIHZhciBvbk1lc3NhZ2UgPSBmdW5jdGlvbiBvbk1lc3NhZ2UoZXZlbnQpIHtcbiAgICBpZiAoIWlzVmltZW9VcmwoZXZlbnQub3JpZ2luKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZGF0YSA9IHBhcnNlTWVzc2FnZURhdGEoZXZlbnQuZGF0YSk7XG4gICAgaWYgKCFkYXRhIHx8IGRhdGEuZXZlbnQgIT09ICdyZWFkeScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHNlbmRlcklGcmFtZSA9IGV2ZW50LnNvdXJjZSA/IGZpbmRJZnJhbWVCeVNvdXJjZVdpbmRvdyhldmVudC5zb3VyY2UsIHBhcmVudCkgOiBudWxsO1xuXG4gICAgLy8gSW5pdGlhdGUgYXBwZW5kVmlkZW9NZXRhZGF0YSBpZiBpZnJhbWUgaXMgYSBWaW1lbyBlbWJlZFxuICAgIGlmIChzZW5kZXJJRnJhbWUgJiYgaXNWaW1lb0VtYmVkKHNlbmRlcklGcmFtZS5zcmMpKSB7XG4gICAgICB2YXIgcGxheWVyID0gbmV3IFBsYXllcihzZW5kZXJJRnJhbWUpO1xuICAgICAgcGxheWVyLmNhbGxNZXRob2QoJ2FwcGVuZFZpZGVvTWV0YWRhdGEnLCB3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgfVxuICB9O1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG9uTWVzc2FnZSk7XG59XG5cbi8qKlxuICogU2VlayB0byB0aW1lIGluZGljYXRlZCBieSB2aW1lb190IHF1ZXJ5IHBhcmFtZXRlciBpZiBwcmVzZW50IGluIFVSTFxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFtwYXJlbnQ9ZG9jdW1lbnRdIFRoZSBwYXJlbnQgZWxlbWVudC5cbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGNoZWNrVXJsVGltZVBhcmFtKCkge1xuICB2YXIgcGFyZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBkb2N1bWVudDtcbiAgLy8gIFByZXZlbnQgZXhlY3V0aW9uIGlmIHVzZXJzIGluY2x1ZGUgdGhlIHBsYXllci5qcyBzY3JpcHQgbXVsdGlwbGUgdGltZXMuXG4gIGlmICh3aW5kb3cuVmltZW9DaGVja2VkVXJsVGltZVBhcmFtKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHdpbmRvdy5WaW1lb0NoZWNrZWRVcmxUaW1lUGFyYW0gPSB0cnVlO1xuICB2YXIgaGFuZGxlRXJyb3IgPSBmdW5jdGlvbiBoYW5kbGVFcnJvcihlcnJvcikge1xuICAgIGlmICgnY29uc29sZScgaW4gd2luZG93ICYmIGNvbnNvbGUuZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJUaGVyZSB3YXMgYW4gZXJyb3IgZ2V0dGluZyB2aWRlbyBJZDogXCIuY29uY2F0KGVycm9yKSk7XG4gICAgfVxuICB9O1xuICB2YXIgb25NZXNzYWdlID0gZnVuY3Rpb24gb25NZXNzYWdlKGV2ZW50KSB7XG4gICAgaWYgKCFpc1ZpbWVvVXJsKGV2ZW50Lm9yaWdpbikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGRhdGEgPSBwYXJzZU1lc3NhZ2VEYXRhKGV2ZW50LmRhdGEpO1xuICAgIGlmICghZGF0YSB8fCBkYXRhLmV2ZW50ICE9PSAncmVhZHknKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBzZW5kZXJJRnJhbWUgPSBldmVudC5zb3VyY2UgPyBmaW5kSWZyYW1lQnlTb3VyY2VXaW5kb3coZXZlbnQuc291cmNlLCBwYXJlbnQpIDogbnVsbDtcbiAgICBpZiAoc2VuZGVySUZyYW1lICYmIGlzVmltZW9FbWJlZChzZW5kZXJJRnJhbWUuc3JjKSkge1xuICAgICAgdmFyIHBsYXllciA9IG5ldyBQbGF5ZXIoc2VuZGVySUZyYW1lKTtcbiAgICAgIHBsYXllci5nZXRWaWRlb0lkKCkudGhlbihmdW5jdGlvbiAodmlkZW9JZCkge1xuICAgICAgICB2YXIgbWF0Y2hlcyA9IG5ldyBSZWdFeHAoXCJbPyZddmltZW9fdF9cIi5jb25jYXQodmlkZW9JZCwgXCI9KFteJiNdKilcIikpLmV4ZWMod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzWzFdKSB7XG4gICAgICAgICAgdmFyIHNlYyA9IGRlY29kZVVSSShtYXRjaGVzWzFdKTtcbiAgICAgICAgICBwbGF5ZXIuc2V0Q3VycmVudFRpbWUoc2VjKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9KS5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgfVxuICB9O1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG9uTWVzc2FnZSk7XG59XG5cbi8qKlxuICogVXBkYXRlcyBpZnJhbWUgZW1iZWRzIHRvIHN1cHBvcnQgRFJNIGNvbnRlbnQgcGxheWJhY2sgYnkgYWRkaW5nIHRoZSAnZW5jcnlwdGVkLW1lZGlhJyBwZXJtaXNzaW9uXG4gKiB0byB0aGUgaWZyYW1lJ3MgYWxsb3cgYXR0cmlidXRlIHdoZW4gRFJNIGluaXRpYWxpemF0aW9uIGZhaWxzLiBUaGlzIGZ1bmN0aW9uIGFjdHMgYXMgYSBmYWxsYmFja1xuICogbWVjaGFuaXNtIHRvIGVuYWJsZSBwbGF5YmFjayBvZiBEUk0tcHJvdGVjdGVkIGNvbnRlbnQgaW4gZW1iZWRzIHRoYXQgd2VyZW4ndCBwcm9wZXJseSBjb25maWd1cmVkLlxuICpcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZURSTUVtYmVkcygpIHtcbiAgaWYgKHdpbmRvdy5WaW1lb0RSTUVtYmVkc1VwZGF0ZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgd2luZG93LlZpbWVvRFJNRW1iZWRzVXBkYXRlZCA9IHRydWU7XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBtZXNzYWdlIGV2ZW50cyBmb3IgRFJNIGluaXRpYWxpemF0aW9uIGZhaWx1cmVzXG4gICAqIEBwYXJhbSB7TWVzc2FnZUV2ZW50fSBldmVudCAtIFRoZSBtZXNzYWdlIGV2ZW50IGZyb20gdGhlIGlmcmFtZVxuICAgKi9cbiAgdmFyIG9uTWVzc2FnZSA9IGZ1bmN0aW9uIG9uTWVzc2FnZShldmVudCkge1xuICAgIGlmICghaXNWaW1lb1VybChldmVudC5vcmlnaW4pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBkYXRhID0gcGFyc2VNZXNzYWdlRGF0YShldmVudC5kYXRhKTtcbiAgICBpZiAoIWRhdGEgfHwgZGF0YS5ldmVudCAhPT0gJ2RybWluaXRmYWlsZWQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBzZW5kZXJJRnJhbWUgPSBldmVudC5zb3VyY2UgPyBmaW5kSWZyYW1lQnlTb3VyY2VXaW5kb3coZXZlbnQuc291cmNlKSA6IG51bGw7XG4gICAgaWYgKCFzZW5kZXJJRnJhbWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGN1cnJlbnRBbGxvdyA9IHNlbmRlcklGcmFtZS5nZXRBdHRyaWJ1dGUoJ2FsbG93JykgfHwgJyc7XG4gICAgdmFyIGFsbG93U3VwcG9ydHNEUk0gPSBjdXJyZW50QWxsb3cuaW5jbHVkZXMoJ2VuY3J5cHRlZC1tZWRpYScpO1xuICAgIGlmICghYWxsb3dTdXBwb3J0c0RSTSkge1xuICAgICAgLy8gRm9yIERSTSBwbGF5YmFjayB0byBzdWNjZXNzZnVsbHkgb2NjdXIsIHRoZSBpZnJhbWUgYGFsbG93YCBhdHRyaWJ1dGUgbXVzdCBpbmNsdWRlICdlbmNyeXB0ZWQtbWVkaWEnLlxuICAgICAgLy8gSWYgdGhlIHZpZGVvIHJlcXVpcmVzIERSTSBidXQgZG9lc24ndCBoYXZlIHRoZSBhdHRyaWJ1dGUsIHdlIHRyeSB0byBhZGQgb24gYmVoYWxmIG9mIHRoZSBlbWJlZCBvd25lclxuICAgICAgLy8gYXMgYSB0ZW1wb3JhcnkgbWVhc3VyZSB0byBlbmFibGUgcGxheWJhY2sgdW50aWwgdGhleSdyZSBhYmxlIHRvIHVwZGF0ZSB0aGVpciBlbWJlZHMuXG4gICAgICBzZW5kZXJJRnJhbWUuc2V0QXR0cmlidXRlKCdhbGxvdycsIFwiXCIuY29uY2F0KGN1cnJlbnRBbGxvdywgXCI7IGVuY3J5cHRlZC1tZWRpYVwiKSk7XG4gICAgICB2YXIgY3VycmVudFVybCA9IG5ldyBVUkwoc2VuZGVySUZyYW1lLmdldEF0dHJpYnV0ZSgnc3JjJykpO1xuXG4gICAgICAvLyBBZGRpbmcgdGhpcyBmb3JjZXMgdGhlIGVtYmVkIHRvIHJlbG9hZCBvbmNlIGBhbGxvd2AgaGFzIGJlZW4gdXBkYXRlZCB3aXRoIGBlbmNyeXB0ZWQtbWVkaWFgLlxuICAgICAgY3VycmVudFVybC5zZWFyY2hQYXJhbXMuc2V0KCdmb3JjZXJlbG9hZCcsICdkcm0nKTtcbiAgICAgIHNlbmRlcklGcmFtZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGN1cnJlbnRVcmwudG9TdHJpbmcoKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG9uTWVzc2FnZSk7XG59XG5cbi8qIE1JVCBMaWNlbnNlXG5cbkNvcHlyaWdodCAoYykgU2luZHJlIFNvcmh1cyA8c2luZHJlc29yaHVzQGdtYWlsLmNvbT4gKHNpbmRyZXNvcmh1cy5jb20pXG5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblRlcm1zICovXG5cbmZ1bmN0aW9uIGluaXRpYWxpemVTY3JlZW5mdWxsKCkge1xuICB2YXIgZm4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHZhbDtcbiAgICB2YXIgZm5NYXAgPSBbWydyZXF1ZXN0RnVsbHNjcmVlbicsICdleGl0RnVsbHNjcmVlbicsICdmdWxsc2NyZWVuRWxlbWVudCcsICdmdWxsc2NyZWVuRW5hYmxlZCcsICdmdWxsc2NyZWVuY2hhbmdlJywgJ2Z1bGxzY3JlZW5lcnJvciddLFxuICAgIC8vIE5ldyBXZWJLaXRcbiAgICBbJ3dlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJywgJ3dlYmtpdEV4aXRGdWxsc2NyZWVuJywgJ3dlYmtpdEZ1bGxzY3JlZW5FbGVtZW50JywgJ3dlYmtpdEZ1bGxzY3JlZW5FbmFibGVkJywgJ3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnLCAnd2Via2l0ZnVsbHNjcmVlbmVycm9yJ10sXG4gICAgLy8gT2xkIFdlYktpdFxuICAgIFsnd2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4nLCAnd2Via2l0Q2FuY2VsRnVsbFNjcmVlbicsICd3ZWJraXRDdXJyZW50RnVsbFNjcmVlbkVsZW1lbnQnLCAnd2Via2l0Q2FuY2VsRnVsbFNjcmVlbicsICd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJywgJ3dlYmtpdGZ1bGxzY3JlZW5lcnJvciddLCBbJ21velJlcXVlc3RGdWxsU2NyZWVuJywgJ21vekNhbmNlbEZ1bGxTY3JlZW4nLCAnbW96RnVsbFNjcmVlbkVsZW1lbnQnLCAnbW96RnVsbFNjcmVlbkVuYWJsZWQnLCAnbW96ZnVsbHNjcmVlbmNoYW5nZScsICdtb3pmdWxsc2NyZWVuZXJyb3InXSwgWydtc1JlcXVlc3RGdWxsc2NyZWVuJywgJ21zRXhpdEZ1bGxzY3JlZW4nLCAnbXNGdWxsc2NyZWVuRWxlbWVudCcsICdtc0Z1bGxzY3JlZW5FbmFibGVkJywgJ01TRnVsbHNjcmVlbkNoYW5nZScsICdNU0Z1bGxzY3JlZW5FcnJvciddXTtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGwgPSBmbk1hcC5sZW5ndGg7XG4gICAgdmFyIHJldCA9IHt9O1xuICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YWwgPSBmbk1hcFtpXTtcbiAgICAgIGlmICh2YWwgJiYgdmFsWzFdIGluIGRvY3VtZW50KSB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB2YWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICByZXRbZm5NYXBbMF1baV1dID0gdmFsW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSgpO1xuICB2YXIgZXZlbnROYW1lTWFwID0ge1xuICAgIGZ1bGxzY3JlZW5jaGFuZ2U6IGZuLmZ1bGxzY3JlZW5jaGFuZ2UsXG4gICAgZnVsbHNjcmVlbmVycm9yOiBmbi5mdWxsc2NyZWVuZXJyb3JcbiAgfTtcbiAgdmFyIHNjcmVlbmZ1bGwgPSB7XG4gICAgcmVxdWVzdDogZnVuY3Rpb24gcmVxdWVzdChlbGVtZW50KSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgb25GdWxsU2NyZWVuRW50ZXJlZCA9IGZ1bmN0aW9uIG9uRnVsbFNjcmVlbkVudGVyZWQoKSB7XG4gICAgICAgICAgc2NyZWVuZnVsbC5vZmYoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBvbkZ1bGxTY3JlZW5FbnRlcmVkKTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHNjcmVlbmZ1bGwub24oJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBvbkZ1bGxTY3JlZW5FbnRlcmVkKTtcbiAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICB2YXIgcmV0dXJuUHJvbWlzZSA9IGVsZW1lbnRbZm4ucmVxdWVzdEZ1bGxzY3JlZW5dKCk7XG4gICAgICAgIGlmIChyZXR1cm5Qcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgIHJldHVyblByb21pc2UudGhlbihvbkZ1bGxTY3JlZW5FbnRlcmVkKS5jYXRjaChyZWplY3QpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGV4aXQ6IGZ1bmN0aW9uIGV4aXQoKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBpZiAoIXNjcmVlbmZ1bGwuaXNGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb25GdWxsU2NyZWVuRXhpdCA9IGZ1bmN0aW9uIG9uRnVsbFNjcmVlbkV4aXQoKSB7XG4gICAgICAgICAgc2NyZWVuZnVsbC5vZmYoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBvbkZ1bGxTY3JlZW5FeGl0KTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHNjcmVlbmZ1bGwub24oJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBvbkZ1bGxTY3JlZW5FeGl0KTtcbiAgICAgICAgdmFyIHJldHVyblByb21pc2UgPSBkb2N1bWVudFtmbi5leGl0RnVsbHNjcmVlbl0oKTtcbiAgICAgICAgaWYgKHJldHVyblByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgcmV0dXJuUHJvbWlzZS50aGVuKG9uRnVsbFNjcmVlbkV4aXQpLmNhdGNoKHJlamVjdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb246IGZ1bmN0aW9uIG9uKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgdmFyIGV2ZW50TmFtZSA9IGV2ZW50TmFtZU1hcFtldmVudF07XG4gICAgICBpZiAoZXZlbnROYW1lKSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgfSxcbiAgICBvZmY6IGZ1bmN0aW9uIG9mZihldmVudCwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBldmVudE5hbWUgPSBldmVudE5hbWVNYXBbZXZlbnRdO1xuICAgICAgaWYgKGV2ZW50TmFtZSkge1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoc2NyZWVuZnVsbCwge1xuICAgIGlzRnVsbHNjcmVlbjoge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKGRvY3VtZW50W2ZuLmZ1bGxzY3JlZW5FbGVtZW50XSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBlbGVtZW50OiB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudFtmbi5mdWxsc2NyZWVuRWxlbWVudF07XG4gICAgICB9XG4gICAgfSxcbiAgICBpc0VuYWJsZWQ6IHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgLy8gQ29lcmNlIHRvIGJvb2xlYW4gaW4gY2FzZSBvZiBvbGQgV2ViS2l0XG4gICAgICAgIHJldHVybiBCb29sZWFuKGRvY3VtZW50W2ZuLmZ1bGxzY3JlZW5FbmFibGVkXSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHNjcmVlbmZ1bGw7XG59XG5cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCcuL3RpbWluZy1zcmMtY29ubmVjdG9yLnR5cGVzJykuUGxheWVyQ29udHJvbHN9IFBsYXllckNvbnRyb2xzICovXG4vKiogQHR5cGVkZWYge2ltcG9ydCgndGltaW5nLW9iamVjdCcpLklUaW1pbmdPYmplY3R9IFRpbWluZ09iamVjdCAqL1xuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4vdGltaW5nLXNyYy1jb25uZWN0b3IudHlwZXMnKS5UaW1pbmdTcmNDb25uZWN0b3JPcHRpb25zfSBUaW1pbmdTcmNDb25uZWN0b3JPcHRpb25zICovXG4vKiogQHR5cGVkZWYgeyhtc2c6IHN0cmluZykgPT4gYW55fSBMb2dnZXIgKi9cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCd0aW1pbmctb2JqZWN0JykuVENvbm5lY3Rpb25TdGF0ZX0gVENvbm5lY3Rpb25TdGF0ZSAqL1xuXG4vKipcbiAqIEB0eXBlIHtUaW1pbmdTcmNDb25uZWN0b3JPcHRpb25zfVxuICpcbiAqIEZvciBkZXRhaWxzIG9uIHRoZXNlIHByb3BlcnRpZXMgYW5kIHRoZWlyIGVmZmVjdHMsIHNlZSB0aGUgdHlwZXNjcmlwdCBkZWZpbml0aW9uIHJlZmVyZW5jZWQgYWJvdmUuXG4gKi9cbnZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgcm9sZTogJ3ZpZXdlcicsXG4gIGF1dG9QbGF5TXV0ZWQ6IHRydWUsXG4gIGFsbG93ZWREcmlmdDogMC4zLFxuICBtYXhBbGxvd2VkRHJpZnQ6IDEsXG4gIG1pbkNoZWNrSW50ZXJ2YWw6IDAuMSxcbiAgbWF4UmF0ZUFkanVzdG1lbnQ6IDAuMixcbiAgbWF4VGltZVRvQ2F0Y2hVcDogMVxufTtcblxuLyoqXG4gKiBUaGVyZSdzIGEgcHJvcG9zZWQgVzNDIHNwZWMgZm9yIHRoZSBUaW1pbmcgT2JqZWN0IHdoaWNoIHdvdWxkIGludHJvZHVjZSBhIG5ldyBzZXQgb2YgQVBJcyB0aGF0IHdvdWxkIHNpbXBsaWZ5IHRpbWUtc3luY2hyb25pemF0aW9uIHRhc2tzIGZvciBicm93c2VyIGFwcGxpY2F0aW9ucy5cbiAqXG4gKiBQcm9wb3NlZCBzcGVjOiBodHRwczovL3dlYnRpbWluZy5naXRodWIuaW8vdGltaW5nb2JqZWN0L1xuICogVjMgU3BlYzogaHR0cHM6Ly90aW1pbmdzcmMucmVhZHRoZWRvY3MuaW8vZW4vbGF0ZXN0L1xuICogRGVtdXhlZCB0YWxrOiBodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PWNaU2pEYUdEbVg4XG4gKlxuICogVGhpcyBjbGFzcyBtYWtlcyBpdCBlYXN5IHRvIGNvbm5lY3QgVmltZW8uUGxheWVyIHRvIGEgcHJvdmlkZWQgVGltaW5nT2JqZWN0IHZpYSBWaW1lby5QbGF5ZXIuc2V0VGltaW5nU3JjKG15VGltaW5nT2JqZWN0LCBvcHRpb25zKSBhbmQgdGhlIHN5bmNocm9uaXphdGlvbiB3aWxsIGJlIGhhbmRsZWQgYXV0b21hdGljYWxseS5cbiAqXG4gKiBUaGVyZSBhcmUgNSBnZW5lcmFsIHJlc3BvbnNpYmlsaXRpZXMgaW4gVGltaW5nU3JjQ29ubmVjdG9yOlxuICpcbiAqIDEuIGB1cGRhdGVQbGF5ZXIoKWAgd2hpY2ggc2V0cyB0aGUgcGxheWVyJ3MgY3VycmVudFRpbWUsIHBsYXliYWNrUmF0ZSBhbmQgcGF1c2UvcGxheSBzdGF0ZSBiYXNlZCBvbiBjdXJyZW50IHN0YXRlIG9mIHRoZSBUaW1pbmdPYmplY3QuXG4gKiAyLiBgdXBkYXRlVGltaW5nT2JqZWN0KClgIHdoaWNoIHNldHMgdGhlIFRpbWluZ09iamVjdCdzIHBvc2l0aW9uIGFuZCB2ZWxvY2l0eSBmcm9tIHRoZSBwbGF5ZXIncyBzdGF0ZS5cbiAqIDMuIGBwbGF5ZXJVcGRhdGVyYCB3aGljaCBsaXN0ZW5zIGZvciBjaGFuZ2UgZXZlbnRzIG9uIHRoZSBUaW1pbmdPYmplY3QgYW5kIHdpbGwgcmVzcG9uZCBieSBjYWxsaW5nIHVwZGF0ZVBsYXllci5cbiAqIDQuIGB0aW1pbmdPYmplY3RVcGRhdGVyYCB3aGljaCBsaXN0ZW5zIHRvIHRoZSBwbGF5ZXIgZXZlbnRzIG9mIHNlZWtlZCwgcGxheSBhbmQgcGF1c2UgYW5kIHdpbGwgcmVzcG9uZCBieSBjYWxsaW5nIGB1cGRhdGVUaW1pbmdPYmplY3QoKWAuXG4gKiA1LiBgbWFpbnRhaW5QbGF5YmFja1Bvc2l0aW9uYCB0aGlzIGlzIGNvZGUgdGhhdCBjb25zdGFudGx5IG1vbml0b3JzIHRoZSBwbGF5ZXIgdG8gbWFrZSBzdXJlIGl0J3MgYWx3YXlzIGluIHN5bmMgd2l0aCB0aGUgVGltaW5nT2JqZWN0LiBUaGlzIGlzIG5lZWRlZCBiZWNhdXNlIHZpZGVvcyB3aWxsIGdlbmVyYWxseSBub3QgcGxheSB3aXRoIHByZWNpc2UgdGltZSBhY2N1cmFjeSBhbmQgdGhlcmUgd2lsbCBiZSBzb21lIGRyaWZ0IHdoaWNoIGJlY29tZXMgbW9yZSBub3RpY2VhYmxlIG92ZXIgbG9uZ2VyIHBlcmlvZHMgKGFzIG5vdGVkIGluIHRoZSB0aW1pbmctb2JqZWN0IHNwZWMpLiBNb3JlIGRldGFpbHMgb24gdGhpcyBtZXRob2QgYmVsb3cuXG4gKi9cbnZhciBUaW1pbmdTcmNDb25uZWN0b3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9FdmVudFRhcmdldCkge1xuICBfaW5oZXJpdHMoVGltaW5nU3JjQ29ubmVjdG9yLCBfRXZlbnRUYXJnZXQpO1xuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFRpbWluZ1NyY0Nvbm5lY3Rvcik7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1BsYXllckNvbnRyb2xzfSBwbGF5ZXJcbiAgICogQHBhcmFtIHtUaW1pbmdPYmplY3R9IHRpbWluZ09iamVjdFxuICAgKiBAcGFyYW0ge1RpbWluZ1NyY0Nvbm5lY3Rvck9wdGlvbnN9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtMb2dnZXJ9IGxvZ2dlclxuICAgKi9cbiAgZnVuY3Rpb24gVGltaW5nU3JjQ29ubmVjdG9yKF9wbGF5ZXIsIHRpbWluZ09iamVjdCkge1xuICAgIHZhciBfdGhpcztcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgdmFyIGxvZ2dlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gYXJndW1lbnRzWzNdIDogdW5kZWZpbmVkO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaW1pbmdTcmNDb25uZWN0b3IpO1xuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImxvZ2dlclwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzcGVlZEFkanVzdG1lbnRcIiwgMCk7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQbGF5ZXJDb250cm9sc30gcGxheWVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG5ld0FkanVzdG1lbnRcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqL1xuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJhZGp1c3RTcGVlZFwiLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocGxheWVyLCBuZXdBZGp1c3RtZW50KSB7XG4gICAgICAgIHZhciBuZXdQbGF5YmFja1JhdGU7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIGlmICghKF90aGlzLnNwZWVkQWRqdXN0bWVudCA9PT0gbmV3QWRqdXN0bWVudCkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIpO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgcmV0dXJuIHBsYXllci5nZXRQbGF5YmFja1JhdGUoKTtcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dC5zZW50O1xuICAgICAgICAgICAgICBfY29udGV4dC50MSA9IF90aGlzLnNwZWVkQWRqdXN0bWVudDtcbiAgICAgICAgICAgICAgX2NvbnRleHQudDIgPSBfY29udGV4dC50MCAtIF9jb250ZXh0LnQxO1xuICAgICAgICAgICAgICBfY29udGV4dC50MyA9IG5ld0FkanVzdG1lbnQ7XG4gICAgICAgICAgICAgIG5ld1BsYXliYWNrUmF0ZSA9IF9jb250ZXh0LnQyICsgX2NvbnRleHQudDM7XG4gICAgICAgICAgICAgIF90aGlzLmxvZyhcIk5ldyBwbGF5YmFja1JhdGU6ICBcIi5jb25jYXQobmV3UGxheWJhY2tSYXRlKSk7XG4gICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjtcbiAgICAgICAgICAgICAgcmV0dXJuIHBsYXllci5zZXRQbGF5YmFja1JhdGUobmV3UGxheWJhY2tSYXRlKTtcbiAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgIF90aGlzLnNwZWVkQWRqdXN0bWVudCA9IG5ld0FkanVzdG1lbnQ7XG4gICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZSk7XG4gICAgICB9KSk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIpIHtcbiAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSgpKTtcbiAgICBfdGhpcy5sb2dnZXIgPSBsb2dnZXI7XG4gICAgX3RoaXMuaW5pdCh0aW1pbmdPYmplY3QsIF9wbGF5ZXIsIF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBkZWZhdWx0T3B0aW9ucyksIG9wdGlvbnMpKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgX2NyZWF0ZUNsYXNzKFRpbWluZ1NyY0Nvbm5lY3RvciwgW3tcbiAgICBrZXk6IFwiZGlzY29ubmVjdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNjb25uZWN0KCkge1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnZGlzY29ubmVjdCcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1RpbWluZ09iamVjdH0gdGltaW5nT2JqZWN0XG4gICAgICogQHBhcmFtIHtQbGF5ZXJDb250cm9sc30gcGxheWVyXG4gICAgICogQHBhcmFtIHtUaW1pbmdTcmNDb25uZWN0b3JPcHRpb25zfSBvcHRpb25zXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJpbml0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfaW5pdCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIodGltaW5nT2JqZWN0LCBwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG4gICAgICAgIHZhciBwbGF5ZXJVcGRhdGVyLCBwb3NpdGlvblN5bmMsIHRpbWluZ09iamVjdFVwZGF0ZXI7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLndhaXRGb3JUT1JlYWR5U3RhdGUodGltaW5nT2JqZWN0LCAnb3BlbicpO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICBpZiAoIShvcHRpb25zLnJvbGUgPT09ICd2aWV3ZXInKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1O1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVQbGF5ZXIodGltaW5nT2JqZWN0LCBwbGF5ZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBwbGF5ZXJVcGRhdGVyID0gc3Vic2NyaWJlKHRpbWluZ09iamVjdCwgJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnVwZGF0ZVBsYXllcih0aW1pbmdPYmplY3QsIHBsYXllciwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBwb3NpdGlvblN5bmMgPSB0aGlzLm1haW50YWluUGxheWJhY2tQb3NpdGlvbih0aW1pbmdPYmplY3QsIHBsYXllciwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignZGlzY29ubmVjdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblN5bmMuY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgcGxheWVyVXBkYXRlci5jYW5jZWwoKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlVGltaW5nT2JqZWN0KHRpbWluZ09iamVjdCwgcGxheWVyKTtcbiAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgIHRpbWluZ09iamVjdFVwZGF0ZXIgPSBzdWJzY3JpYmUocGxheWVyLCBbJ3NlZWtlZCcsICdwbGF5JywgJ3BhdXNlJywgJ3JhdGVjaGFuZ2UnXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIudXBkYXRlVGltaW5nT2JqZWN0KHRpbWluZ09iamVjdCwgcGxheWVyKTtcbiAgICAgICAgICAgICAgfSwgJ29uJywgJ29mZicpO1xuICAgICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2Rpc2Nvbm5lY3QnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRpbWluZ09iamVjdFVwZGF0ZXIuY2FuY2VsKCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgICBmdW5jdGlvbiBpbml0KF94MywgX3g0LCBfeDUpIHtcbiAgICAgICAgcmV0dXJuIF9pbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5pdDtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBUaW1pbmdPYmplY3QncyBzdGF0ZSB0byByZWZsZWN0IHRoYXQgb2YgdGhlIHBsYXllclxuICAgICAqXG4gICAgICogQHBhcmFtIHtUaW1pbmdPYmplY3R9IHRpbWluZ09iamVjdFxuICAgICAqIEBwYXJhbSB7UGxheWVyQ29udHJvbHN9IHBsYXllclxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlVGltaW5nT2JqZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdXBkYXRlVGltaW5nT2JqZWN0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMyh0aW1pbmdPYmplY3QsIHBsYXllcikge1xuICAgICAgICB2YXIgX3lpZWxkJFByb21pc2UkYWxsLCBfeWllbGQkUHJvbWlzZSRhbGwyLCBwb3NpdGlvbiwgaXNQYXVzZWQsIHBsYXliYWNrUmF0ZTtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtwbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKSwgcGxheWVyLmdldFBhdXNlZCgpLCBwbGF5ZXIuZ2V0UGxheWJhY2tSYXRlKCldKTtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgX3lpZWxkJFByb21pc2UkYWxsID0gX2NvbnRleHQzLnNlbnQ7XG4gICAgICAgICAgICAgIF95aWVsZCRQcm9taXNlJGFsbDIgPSBfc2xpY2VkVG9BcnJheShfeWllbGQkUHJvbWlzZSRhbGwsIDMpO1xuICAgICAgICAgICAgICBwb3NpdGlvbiA9IF95aWVsZCRQcm9taXNlJGFsbDJbMF07XG4gICAgICAgICAgICAgIGlzUGF1c2VkID0gX3lpZWxkJFByb21pc2UkYWxsMlsxXTtcbiAgICAgICAgICAgICAgcGxheWJhY2tSYXRlID0gX3lpZWxkJFByb21pc2UkYWxsMlsyXTtcbiAgICAgICAgICAgICAgdGltaW5nT2JqZWN0LnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIHZlbG9jaXR5OiBpc1BhdXNlZCA/IDAgOiBwbGF5YmFja1JhdGVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTMpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gdXBkYXRlVGltaW5nT2JqZWN0KF94NiwgX3g3KSB7XG4gICAgICAgIHJldHVybiBfdXBkYXRlVGltaW5nT2JqZWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXBkYXRlVGltaW5nT2JqZWN0O1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBsYXllcidzIHRpbWluZyBzdGF0ZSB0byByZWZsZWN0IHRoYXQgb2YgdGhlIFRpbWluZ09iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtUaW1pbmdPYmplY3R9IHRpbWluZ09iamVjdFxuICAgICAqIEBwYXJhbSB7UGxheWVyQ29udHJvbHN9IHBsYXllclxuICAgICAqIEBwYXJhbSB7VGltaW5nU3JjQ29ubmVjdG9yT3B0aW9uc30gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlUGxheWVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdXBkYXRlUGxheWVyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNSh0aW1pbmdPYmplY3QsIHBsYXllciwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RpbWluZ09iamVjdCRxdWVyeSwgcG9zaXRpb24sIHZlbG9jaXR5O1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgX3RpbWluZ09iamVjdCRxdWVyeSA9IHRpbWluZ09iamVjdC5xdWVyeSgpLCBwb3NpdGlvbiA9IF90aW1pbmdPYmplY3QkcXVlcnkucG9zaXRpb24sIHZlbG9jaXR5ID0gX3RpbWluZ09iamVjdCRxdWVyeS52ZWxvY2l0eTtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwb3NpdGlvbiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc2V0Q3VycmVudFRpbWUocG9zaXRpb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICghKHR5cGVvZiB2ZWxvY2l0eSA9PT0gJ251bWJlcicpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyNTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoISh2ZWxvY2l0eSA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDExO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgcmV0dXJuIHBsYXllci5nZXRQYXVzZWQoKTtcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgX2NvbnRleHQ1LnQwID0gX2NvbnRleHQ1LnNlbnQ7XG4gICAgICAgICAgICAgIGlmICghKF9jb250ZXh0NS50MCA9PT0gZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHBsYXllci5wYXVzZSgpO1xuICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI1O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgIGlmICghKHZlbG9jaXR5ID4gMCkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI1O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTQ7XG4gICAgICAgICAgICAgIHJldHVybiBwbGF5ZXIuZ2V0UGF1c2VkKCk7XG4gICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICBfY29udGV4dDUudDEgPSBfY29udGV4dDUuc2VudDtcbiAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQ1LnQxID09PSB0cnVlKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxODtcbiAgICAgICAgICAgICAgcmV0dXJuIHBsYXllci5wbGF5KCkuY2F0Y2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNChlcnIpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShlcnIubmFtZSA9PT0gJ05vdEFsbG93ZWRFcnJvcicgJiYgb3B0aW9ucy5hdXRvUGxheU11dGVkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBsYXllci5zZXRNdXRlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGxheWVyLnBsYXkoKS5jYXRjaChmdW5jdGlvbiAoZXJyMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcignQ291bGRuXFwndCBwbGF5IHRoZSB2aWRlbyBmcm9tIFRpbWluZ1NyY0Nvbm5lY3Rvci4gRXJyb3I6JywgZXJyMik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU0KTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDExKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9KCkpO1xuICAgICAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICAgICAgdGhpcy51cGRhdGVQbGF5ZXIodGltaW5nT2JqZWN0LCBwbGF5ZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyMTtcbiAgICAgICAgICAgICAgcmV0dXJuIHBsYXllci5nZXRQbGF5YmFja1JhdGUoKTtcbiAgICAgICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgICAgIF9jb250ZXh0NS50MiA9IF9jb250ZXh0NS5zZW50O1xuICAgICAgICAgICAgICBfY29udGV4dDUudDMgPSB2ZWxvY2l0eTtcbiAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQ1LnQyICE9PSBfY29udGV4dDUudDMpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyNTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwbGF5ZXIuc2V0UGxheWJhY2tSYXRlKHZlbG9jaXR5KTtcbiAgICAgICAgICAgIGNhc2UgMjU6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTUsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gdXBkYXRlUGxheWVyKF94OCwgX3g5LCBfeDEwKSB7XG4gICAgICAgIHJldHVybiBfdXBkYXRlUGxheWVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXBkYXRlUGxheWVyO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIFNpbmNlIHZpZGVvIHBsYXllcnMgZG8gbm90IHBsYXkgd2l0aCAxMDAlIHRpbWUgcHJlY2lzaW9uLCB3ZSBuZWVkIHRvIGNsb3NlbHkgbW9uaXRvclxuICAgICAqIG91ciBwbGF5ZXIgdG8gYmUgc3VyZSBpdCByZW1haW5zIGluIHN5bmMgd2l0aCB0aGUgVGltaW5nT2JqZWN0LlxuICAgICAqXG4gICAgICogSWYgb3V0IG9mIHN5bmMsIHdlIHVzZSB0aGUgY3VycmVudCBjb25kaXRpb25zIGFuZCB0aGUgb3B0aW9ucyBwcm92aWRlZCB0byBkZXRlcm1pbmVcbiAgICAgKiB3aGV0aGVyIHRvIHJlLXN5bmMgdmlhIHNldHRpbmcgY3VycmVudFRpbWUgb3IgYWRqdXN0aW5nIHRoZSBwbGF5YmFja1JhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VGltaW5nT2JqZWN0fSB0aW1pbmdPYmplY3RcbiAgICAgKiBAcGFyYW0ge1BsYXllckNvbnRyb2xzfSBwbGF5ZXJcbiAgICAgKiBAcGFyYW0ge1RpbWluZ1NyY0Nvbm5lY3Rvck9wdGlvbnN9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHt7Y2FuY2VsOiAoZnVuY3Rpb24oKTogdm9pZCl9fVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcIm1haW50YWluUGxheWJhY2tQb3NpdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYWludGFpblBsYXliYWNrUG9zaXRpb24odGltaW5nT2JqZWN0LCBwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuICAgICAgdmFyIGFsbG93ZWREcmlmdCA9IG9wdGlvbnMuYWxsb3dlZERyaWZ0LFxuICAgICAgICBtYXhBbGxvd2VkRHJpZnQgPSBvcHRpb25zLm1heEFsbG93ZWREcmlmdCxcbiAgICAgICAgbWluQ2hlY2tJbnRlcnZhbCA9IG9wdGlvbnMubWluQ2hlY2tJbnRlcnZhbCxcbiAgICAgICAgbWF4UmF0ZUFkanVzdG1lbnQgPSBvcHRpb25zLm1heFJhdGVBZGp1c3RtZW50LFxuICAgICAgICBtYXhUaW1lVG9DYXRjaFVwID0gb3B0aW9ucy5tYXhUaW1lVG9DYXRjaFVwO1xuICAgICAgdmFyIHN5bmNJbnRlcnZhbCA9IE1hdGgubWluKG1heFRpbWVUb0NhdGNoVXAsIE1hdGgubWF4KG1pbkNoZWNrSW50ZXJ2YWwsIG1heEFsbG93ZWREcmlmdCkpICogMTAwMDtcbiAgICAgIHZhciBjaGVjayA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7XG4gICAgICAgICAgdmFyIGRpZmYsIGRpZmZBYnMsIG1pbiwgbWF4LCBhZGp1c3RtZW50O1xuICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7XG4gICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDYudDAgPSB0aW1pbmdPYmplY3QucXVlcnkoKS52ZWxvY2l0eSA9PT0gMDtcbiAgICAgICAgICAgICAgICBpZiAoX2NvbnRleHQ2LnQwKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDY7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA0O1xuICAgICAgICAgICAgICAgIHJldHVybiBwbGF5ZXIuZ2V0UGF1c2VkKCk7XG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDYudDEgPSBfY29udGV4dDYuc2VudDtcbiAgICAgICAgICAgICAgICBfY29udGV4dDYudDAgPSBfY29udGV4dDYudDEgPT09IHRydWU7XG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICBpZiAoIV9jb250ZXh0Ni50MCkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA4O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KFwicmV0dXJuXCIpO1xuICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2LnQyID0gdGltaW5nT2JqZWN0LnF1ZXJ5KCkucG9zaXRpb247XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGxheWVyLmdldEN1cnJlbnRUaW1lKCk7XG4gICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2LnQzID0gX2NvbnRleHQ2LnNlbnQ7XG4gICAgICAgICAgICAgICAgZGlmZiA9IF9jb250ZXh0Ni50MiAtIF9jb250ZXh0Ni50MztcbiAgICAgICAgICAgICAgICBkaWZmQWJzID0gTWF0aC5hYnMoZGlmZik7XG4gICAgICAgICAgICAgICAgX3RoaXMzLmxvZyhcIkRyaWZ0OiBcIi5jb25jYXQoZGlmZikpO1xuICAgICAgICAgICAgICAgIGlmICghKGRpZmZBYnMgPiBtYXhBbGxvd2VkRHJpZnQpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDIyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5hZGp1c3RTcGVlZChwbGF5ZXIsIDApO1xuICAgICAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgICAgIHBsYXllci5zZXRDdXJyZW50VGltZSh0aW1pbmdPYmplY3QucXVlcnkoKS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgX3RoaXMzLmxvZygnUmVzeW5jIGJ5IGN1cnJlbnRUaW1lJyk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICAgICAgICBpZiAoIShkaWZmQWJzID4gYWxsb3dlZERyaWZ0KSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtaW4gPSBkaWZmQWJzIC8gbWF4VGltZVRvQ2F0Y2hVcDtcbiAgICAgICAgICAgICAgICBtYXggPSBtYXhSYXRlQWRqdXN0bWVudDtcbiAgICAgICAgICAgICAgICBhZGp1c3RtZW50ID0gbWluIDwgbWF4ID8gKG1heCAtIG1pbikgLyAyIDogbWF4O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5hZGp1c3RTcGVlZChwbGF5ZXIsIGFkanVzdG1lbnQgKiBNYXRoLnNpZ24oZGlmZikpO1xuICAgICAgICAgICAgICBjYXNlIDI4OlxuICAgICAgICAgICAgICAgIF90aGlzMy5sb2coJ1Jlc3luYyBieSBwbGF5YmFja1JhdGUnKTtcbiAgICAgICAgICAgICAgY2FzZSAyOTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIF9jYWxsZWU2KTtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gY2hlY2soKSB7XG4gICAgICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgICB9KCk7XG4gICAgICB2YXIgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjaGVjaygpO1xuICAgICAgfSwgc3luY0ludGVydmFsKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgICAgICAgIHJldHVybiBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbXNnXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwibG9nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvZyhtc2cpIHtcbiAgICAgIHZhciBfdGhpcyRsb2dnZXI7XG4gICAgICAoX3RoaXMkbG9nZ2VyID0gdGhpcy5sb2dnZXIpID09PSBudWxsIHx8IF90aGlzJGxvZ2dlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbG9nZ2VyLmNhbGwodGhpcywgXCJUaW1pbmdTcmNDb25uZWN0b3I6IFwiLmNvbmNhdChtc2cpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwid2FpdEZvclRPUmVhZHlTdGF0ZVwiLFxuICAgIHZhbHVlOlxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7VGltaW5nT2JqZWN0fSB0aW1pbmdPYmplY3RcbiAgICAgKiBAcGFyYW0ge1RDb25uZWN0aW9uU3RhdGV9IHN0YXRlXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3YWl0Rm9yVE9SZWFkeVN0YXRlKHRpbWluZ09iamVjdCwgc3RhdGUpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICB2YXIgY2hlY2sgPSBmdW5jdGlvbiBjaGVjaygpIHtcbiAgICAgICAgICBpZiAodGltaW5nT2JqZWN0LnJlYWR5U3RhdGUgPT09IHN0YXRlKSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbWluZ09iamVjdC5hZGRFdmVudExpc3RlbmVyKCdyZWFkeXN0YXRlY2hhbmdlJywgY2hlY2ssIHtcbiAgICAgICAgICAgICAgb25jZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjaGVjaygpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBUaW1pbmdTcmNDb25uZWN0b3I7XG59KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihFdmVudFRhcmdldCkpO1xuXG52YXIgcGxheWVyTWFwID0gbmV3IFdlYWtNYXAoKTtcbnZhciByZWFkeU1hcCA9IG5ldyBXZWFrTWFwKCk7XG52YXIgc2NyZWVuZnVsbCA9IHt9O1xudmFyIFBsYXllciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBQbGF5ZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7KEhUTUxJRnJhbWVFbGVtZW50fEhUTUxFbGVtZW50fHN0cmluZ3xqUXVlcnkpfSBlbGVtZW50IEEgcmVmZXJlbmNlIHRvIHRoZSBWaW1lb1xuICAgKiAgICAgICAgcGxheWVyIGlmcmFtZSwgYW5kIGlkLCBvciBhIGpRdWVyeSBvYmplY3QuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gb0VtYmVkIHBhcmFtZXRlcnMgdG8gdXNlIHdoZW4gY3JlYXRpbmcgYW4gZW1iZWQgaW4gdGhlIGVsZW1lbnQuXG4gICAqIEByZXR1cm4ge1BsYXllcn1cbiAgICovXG4gIGZ1bmN0aW9uIFBsYXllcihlbGVtZW50KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBsYXllcik7XG4gICAgLyogZ2xvYmFsIGpRdWVyeSAqL1xuICAgIGlmICh3aW5kb3cualF1ZXJ5ICYmIGVsZW1lbnQgaW5zdGFuY2VvZiBqUXVlcnkpIHtcbiAgICAgIGlmIChlbGVtZW50Lmxlbmd0aCA+IDEgJiYgd2luZG93LmNvbnNvbGUgJiYgY29uc29sZS53YXJuKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignQSBqUXVlcnkgb2JqZWN0IHdpdGggbXVsdGlwbGUgZWxlbWVudHMgd2FzIHBhc3NlZCwgdXNpbmcgdGhlIGZpcnN0IGVsZW1lbnQuJyk7XG4gICAgICB9XG4gICAgICBlbGVtZW50ID0gZWxlbWVudFswXTtcbiAgICB9XG5cbiAgICAvLyBGaW5kIGFuIGVsZW1lbnQgYnkgSURcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50KTtcbiAgICB9XG5cbiAgICAvLyBOb3QgYW4gZWxlbWVudCFcbiAgICBpZiAoIWlzRG9tRWxlbWVudChlbGVtZW50KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBlaXRoZXIgYSB2YWxpZCBlbGVtZW50IG9yIGEgdmFsaWQgaWQuJyk7XG4gICAgfVxuXG4gICAgLy8gQWxyZWFkeSBpbml0aWFsaXplZCBhbiBlbWJlZCBpbiB0aGlzIGRpdiwgc28gZ3JhYiB0aGUgaWZyYW1lXG4gICAgaWYgKGVsZW1lbnQubm9kZU5hbWUgIT09ICdJRlJBTUUnKSB7XG4gICAgICB2YXIgaWZyYW1lID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdpZnJhbWUnKTtcbiAgICAgIGlmIChpZnJhbWUpIHtcbiAgICAgICAgZWxlbWVudCA9IGlmcmFtZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpZnJhbWUgdXJsIGlzIG5vdCBhIFZpbWVvIHVybFxuICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnSUZSQU1FJyAmJiAhaXNWaW1lb1VybChlbGVtZW50LmdldEF0dHJpYnV0ZSgnc3JjJykgfHwgJycpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBwbGF5ZXIgZWxlbWVudCBwYXNzZWQgaXNu4oCZdCBhIFZpbWVvIGVtYmVkLicpO1xuICAgIH1cblxuICAgIC8vIElmIHRoZXJlIGlzIGFscmVhZHkgYSBwbGF5ZXIgb2JqZWN0IGluIHRoZSBtYXAsIHJldHVybiB0aGF0XG4gICAgaWYgKHBsYXllck1hcC5oYXMoZWxlbWVudCkpIHtcbiAgICAgIHJldHVybiBwbGF5ZXJNYXAuZ2V0KGVsZW1lbnQpO1xuICAgIH1cbiAgICB0aGlzLl93aW5kb3cgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm9yaWdpbiA9ICcqJztcbiAgICB2YXIgcmVhZHlQcm9taXNlID0gbmV3IG5wb19zcmMoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgX3RoaXMuX29uTWVzc2FnZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoIWlzVmltZW9VcmwoZXZlbnQub3JpZ2luKSB8fCBfdGhpcy5lbGVtZW50LmNvbnRlbnRXaW5kb3cgIT09IGV2ZW50LnNvdXJjZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX3RoaXMub3JpZ2luID09PSAnKicpIHtcbiAgICAgICAgICBfdGhpcy5vcmlnaW4gPSBldmVudC5vcmlnaW47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRhdGEgPSBwYXJzZU1lc3NhZ2VEYXRhKGV2ZW50LmRhdGEpO1xuICAgICAgICB2YXIgaXNFcnJvciA9IGRhdGEgJiYgZGF0YS5ldmVudCA9PT0gJ2Vycm9yJztcbiAgICAgICAgdmFyIGlzUmVhZHlFcnJvciA9IGlzRXJyb3IgJiYgZGF0YS5kYXRhICYmIGRhdGEuZGF0YS5tZXRob2QgPT09ICdyZWFkeSc7XG4gICAgICAgIGlmIChpc1JlYWR5RXJyb3IpIHtcbiAgICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoZGF0YS5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgIGVycm9yLm5hbWUgPSBkYXRhLmRhdGEubmFtZTtcbiAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaXNSZWFkeUV2ZW50ID0gZGF0YSAmJiBkYXRhLmV2ZW50ID09PSAncmVhZHknO1xuICAgICAgICB2YXIgaXNQaW5nUmVzcG9uc2UgPSBkYXRhICYmIGRhdGEubWV0aG9kID09PSAncGluZyc7XG4gICAgICAgIGlmIChpc1JlYWR5RXZlbnQgfHwgaXNQaW5nUmVzcG9uc2UpIHtcbiAgICAgICAgICBfdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1yZWFkeScsICd0cnVlJyk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwcm9jZXNzRGF0YShfdGhpcywgZGF0YSk7XG4gICAgICB9O1xuICAgICAgX3RoaXMuX3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgX3RoaXMuX29uTWVzc2FnZSk7XG4gICAgICBpZiAoX3RoaXMuZWxlbWVudC5ub2RlTmFtZSAhPT0gJ0lGUkFNRScpIHtcbiAgICAgICAgdmFyIHBhcmFtcyA9IGdldE9FbWJlZFBhcmFtZXRlcnMoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgIHZhciB1cmwgPSBnZXRWaW1lb1VybChwYXJhbXMpO1xuICAgICAgICBnZXRPRW1iZWREYXRhKHVybCwgcGFyYW1zLCBlbGVtZW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgdmFyIGlmcmFtZSA9IGNyZWF0ZUVtYmVkKGRhdGEsIGVsZW1lbnQpO1xuICAgICAgICAgIC8vIE92ZXJ3cml0ZSBlbGVtZW50IHdpdGggdGhlIG5ldyBpZnJhbWUsXG4gICAgICAgICAgLy8gYnV0IHN0b3JlIHJlZmVyZW5jZSB0byB0aGUgb3JpZ2luYWwgZWxlbWVudFxuICAgICAgICAgIF90aGlzLmVsZW1lbnQgPSBpZnJhbWU7XG4gICAgICAgICAgX3RoaXMuX29yaWdpbmFsRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgICAgc3dhcENhbGxiYWNrcyhlbGVtZW50LCBpZnJhbWUpO1xuICAgICAgICAgIHBsYXllck1hcC5zZXQoX3RoaXMuZWxlbWVudCwgX3RoaXMpO1xuICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9KS5jYXRjaChyZWplY3QpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gU3RvcmUgYSBjb3B5IG9mIHRoaXMgUGxheWVyIGluIHRoZSBtYXBcbiAgICByZWFkeU1hcC5zZXQodGhpcywgcmVhZHlQcm9taXNlKTtcbiAgICBwbGF5ZXJNYXAuc2V0KHRoaXMuZWxlbWVudCwgdGhpcyk7XG5cbiAgICAvLyBTZW5kIGEgcGluZyB0byB0aGUgaWZyYW1lIHNvIHRoZSByZWFkeSBwcm9taXNlIHdpbGwgYmUgcmVzb2x2ZWQgaWZcbiAgICAvLyB0aGUgcGxheWVyIGlzIGFscmVhZHkgcmVhZHkuXG4gICAgaWYgKHRoaXMuZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0lGUkFNRScpIHtcbiAgICAgIHBvc3RNZXNzYWdlKHRoaXMsICdwaW5nJyk7XG4gICAgfVxuICAgIGlmIChzY3JlZW5mdWxsLmlzRW5hYmxlZCkge1xuICAgICAgdmFyIGV4aXRGdWxsc2NyZWVuID0gZnVuY3Rpb24gZXhpdEZ1bGxzY3JlZW4oKSB7XG4gICAgICAgIHJldHVybiBzY3JlZW5mdWxsLmV4aXQoKTtcbiAgICAgIH07XG4gICAgICB0aGlzLmZ1bGxzY3JlZW5jaGFuZ2VIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoc2NyZWVuZnVsbC5pc0Z1bGxzY3JlZW4pIHtcbiAgICAgICAgICBzdG9yZUNhbGxiYWNrKF90aGlzLCAnZXZlbnQ6ZXhpdEZ1bGxzY3JlZW4nLCBleGl0RnVsbHNjcmVlbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVtb3ZlQ2FsbGJhY2soX3RoaXMsICdldmVudDpleGl0RnVsbHNjcmVlbicsIGV4aXRGdWxsc2NyZWVuKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgX3RoaXMucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBwb3N0TWVzc2FnZShfdGhpcywgJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBzY3JlZW5mdWxsLmlzRnVsbHNjcmVlbik7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIHNjcmVlbmZ1bGwub24oJ2Z1bGxzY3JlZW5jaGFuZ2UnLCB0aGlzLmZ1bGxzY3JlZW5jaGFuZ2VIYW5kbGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgdG8gc2VlIGlmIHRoZSBVUkwgaXMgYSBWaW1lbyBVUkwuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCBzdHJpbmcuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBfY3JlYXRlQ2xhc3MoUGxheWVyLCBbe1xuICAgIGtleTogXCJjYWxsTWV0aG9kXCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXG4gICAgICogR2V0IGEgcHJvbWlzZSBmb3IgYSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgQVBJIG1ldGhvZCB0byBjYWxsLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xudW1iZXJ8b2JqZWN0fEFycmF5KX0gYXJncyBBcmd1bWVudHMgdG8gc2VuZCB2aWEgcG9zdE1lc3NhZ2UuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYWxsTWV0aG9kKG5hbWUpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cbiAgICAgIGlmIChuYW1lID09PSB1bmRlZmluZWQgfHwgbmFtZSA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGEgbWV0aG9kIG5hbWUuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IG5wb19zcmMoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAvLyBXZSBhcmUgc3RvcmluZyB0aGUgcmVzb2x2ZS9yZWplY3QgaGFuZGxlcnMgdG8gY2FsbCBsYXRlciwgc28gd2VcbiAgICAgICAgLy8gY2Fu4oCZdCByZXR1cm4gaGVyZS5cbiAgICAgICAgcmV0dXJuIF90aGlzMi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHN0b3JlQ2FsbGJhY2soX3RoaXMyLCBuYW1lLCB7XG4gICAgICAgICAgICByZXNvbHZlOiByZXNvbHZlLFxuICAgICAgICAgICAgcmVqZWN0OiByZWplY3RcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGFyZ3MgPSB7fTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBhcmdzID0gYXJnc1swXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcG9zdE1lc3NhZ2UoX3RoaXMyLCBuYW1lLCBhcmdzKTtcbiAgICAgICAgfSkuY2F0Y2gocmVqZWN0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSBwcm9taXNlIGZvciB0aGUgdmFsdWUgb2YgYSBwbGF5ZXIgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgcHJvcGVydHkgbmFtZVxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldChuYW1lKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcbiAgICAgIHJldHVybiBuZXcgbnBvX3NyYyhmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIG5hbWUgPSBnZXRNZXRob2ROYW1lKG5hbWUsICdnZXQnKTtcblxuICAgICAgICAvLyBXZSBhcmUgc3RvcmluZyB0aGUgcmVzb2x2ZS9yZWplY3QgaGFuZGxlcnMgdG8gY2FsbCBsYXRlciwgc28gd2VcbiAgICAgICAgLy8gY2Fu4oCZdCByZXR1cm4gaGVyZS5cbiAgICAgICAgcmV0dXJuIF90aGlzMy5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHN0b3JlQ2FsbGJhY2soX3RoaXMzLCBuYW1lLCB7XG4gICAgICAgICAgICByZXNvbHZlOiByZXNvbHZlLFxuICAgICAgICAgICAgcmVqZWN0OiByZWplY3RcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwb3N0TWVzc2FnZShfdGhpczMsIG5hbWUpO1xuICAgICAgICB9KS5jYXRjaChyZWplY3QpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGEgcHJvbWlzZSBmb3Igc2V0dGluZyB0aGUgdmFsdWUgb2YgYSBwbGF5ZXIgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgQVBJIG1ldGhvZCB0byBjYWxsLlxuICAgICAqIEBwYXJhbSB7bWl4ZWR9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJzZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0KG5hbWUsIHZhbHVlKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcbiAgICAgIHJldHVybiBuZXcgbnBvX3NyYyhmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIG5hbWUgPSBnZXRNZXRob2ROYW1lKG5hbWUsICdzZXQnKTtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGVyZSBtdXN0IGJlIGEgdmFsdWUgdG8gc2V0LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2UgYXJlIHN0b3JpbmcgdGhlIHJlc29sdmUvcmVqZWN0IGhhbmRsZXJzIHRvIGNhbGwgbGF0ZXIsIHNvIHdlXG4gICAgICAgIC8vIGNhbuKAmXQgcmV0dXJuIGhlcmUuXG4gICAgICAgIHJldHVybiBfdGhpczQucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzdG9yZUNhbGxiYWNrKF90aGlzNCwgbmFtZSwge1xuICAgICAgICAgICAgcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgICAgICAgIHJlamVjdDogcmVqZWN0XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcG9zdE1lc3NhZ2UoX3RoaXM0LCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH0pLmNhdGNoKHJlamVjdCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnQuIFdpbGwgY2FsbCB0aGVcbiAgICAgKiBjYWxsYmFjayB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciwgYGRhdGFgLCB0aGF0IGNvbnRhaW5zIHRoZSBkYXRhIGZvclxuICAgICAqIHRoYXQgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCopfSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoZSBldmVudCBmaXJlcy5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcIm9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgIGlmICghZXZlbnROYW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gZXZlbnQgbmFtZS4nKTtcbiAgICAgIH1cbiAgICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhIGNhbGxiYWNrIGZ1bmN0aW9uLicpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uLicpO1xuICAgICAgfVxuICAgICAgdmFyIGNhbGxiYWNrcyA9IGdldENhbGxiYWNrcyh0aGlzLCBcImV2ZW50OlwiLmNvbmNhdChldmVudE5hbWUpKTtcbiAgICAgIGlmIChjYWxsYmFja3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMuY2FsbE1ldGhvZCgnYWRkRXZlbnRMaXN0ZW5lcicsIGV2ZW50TmFtZSkuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vIElnbm9yZSB0aGUgZXJyb3IuIFRoZXJlIHdpbGwgYmUgYW4gZXJyb3IgZXZlbnQgZmlyZWQgdGhhdFxuICAgICAgICAgIC8vIHdpbGwgdHJpZ2dlciB0aGUgZXJyb3IgY2FsbGJhY2sgaWYgdGhleSBhcmUgbGlzdGVuaW5nLlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHN0b3JlQ2FsbGJhY2sodGhpcywgXCJldmVudDpcIi5jb25jYXQoZXZlbnROYW1lKSwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbiBldmVudCBsaXN0ZW5lciBmb3IgdGhlIHNwZWNpZmllZCBldmVudC4gV2lsbCByZW1vdmUgYWxsXG4gICAgICogbGlzdGVuZXJzIGZvciB0aGF0IGV2ZW50IGlmIGEgYGNhbGxiYWNrYCBpc27igJl0IHBhc3NlZCwgb3Igb25seSB0aGF0XG4gICAgICogc3BlY2lmaWMgY2FsbGJhY2sgaWYgaXQgaXMgcGFzc2VkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSBUaGUgc3BlY2lmaWMgY2FsbGJhY2sgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwib2ZmXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9mZihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICBpZiAoIWV2ZW50TmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGV2ZW50IG5hbWUuJyk7XG4gICAgICB9XG4gICAgICBpZiAoY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICB2YXIgbGFzdENhbGxiYWNrID0gcmVtb3ZlQ2FsbGJhY2sodGhpcywgXCJldmVudDpcIi5jb25jYXQoZXZlbnROYW1lKSwgY2FsbGJhY2spO1xuXG4gICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gY2FsbGJhY2tzIGxlZnQsIHJlbW92ZSB0aGUgbGlzdGVuZXJcbiAgICAgIGlmIChsYXN0Q2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5jYWxsTWV0aG9kKCdyZW1vdmVFdmVudExpc3RlbmVyJywgZXZlbnROYW1lKS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIC8vIElnbm9yZSB0aGUgZXJyb3IuIFRoZXJlIHdpbGwgYmUgYW4gZXJyb3IgZXZlbnQgZmlyZWQgdGhhdFxuICAgICAgICAgIC8vIHdpbGwgdHJpZ2dlciB0aGUgZXJyb3IgY2FsbGJhY2sgaWYgdGhleSBhcmUgbGlzdGVuaW5nLlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gbG9hZCBhIG5ldyB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIExvYWRWaWRlb1Byb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7bnVtYmVyfSBUaGUgdmlkZW8gd2l0aCB0aGlzIGlkIG9yIHVybCBzdWNjZXNzZnVsbHkgbG9hZGVkLlxuICAgICAqIEByZWplY3Qge1R5cGVFcnJvcn0gVGhlIGlkIHdhcyBub3QgYSBudW1iZXIuXG4gICAgICovXG4gICAgLyoqXG4gICAgICogTG9hZCBhIG5ldyB2aWRlbyBpbnRvIHRoaXMgZW1iZWQuIFRoZSBwcm9taXNlIHdpbGwgYmUgcmVzb2x2ZWQgaWZcbiAgICAgKiB0aGUgdmlkZW8gaXMgc3VjY2Vzc2Z1bGx5IGxvYWRlZCwgb3IgaXQgd2lsbCBiZSByZWplY3RlZCBpZiBpdCBjb3VsZFxuICAgICAqIG5vdCBiZSBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd8b2JqZWN0fSBvcHRpb25zIFRoZSBpZCBvZiB0aGUgdmlkZW8sIHRoZSB1cmwgb2YgdGhlIHZpZGVvLCBvciBhbiBvYmplY3Qgd2l0aCBlbWJlZCBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge0xvYWRWaWRlb1Byb21pc2V9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwibG9hZFZpZGVvXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRWaWRlbyhvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsTWV0aG9kKCdsb2FkVmlkZW8nLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gcGVyZm9ybSBhbiBhY3Rpb24gd2hlbiB0aGUgUGxheWVyIGlzIHJlYWR5LlxuICAgICAqXG4gICAgICogQHRvZG8gZG9jdW1lbnQgZXJyb3JzXG4gICAgICogQHByb21pc2UgTG9hZFZpZGVvUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHt2b2lkfVxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgYSBmdW5jdGlvbiB3aGVuIHRoZSBwbGF5ZXIgaWZyYW1lIGhhcyBpbml0aWFsaXplZC4gWW91IGRvIG5vdFxuICAgICAqIG5lZWQgdG8gd2FpdCBmb3IgYHJlYWR5YCB0byB0cmlnZ2VyIHRvIGJlZ2luIGFkZGluZyBldmVudCBsaXN0ZW5lcnNcbiAgICAgKiBvciBjYWxsaW5nIG90aGVyIG1ldGhvZHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtSZWFkeVByb21pc2V9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwicmVhZHlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVhZHkoKSB7XG4gICAgICB2YXIgcmVhZHlQcm9taXNlID0gcmVhZHlNYXAuZ2V0KHRoaXMpIHx8IG5ldyBucG9fc3JjKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignVW5rbm93biBwbGF5ZXIuIFByb2JhYmx5IHVubG9hZGVkLicpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5wb19zcmMucmVzb2x2ZShyZWFkeVByb21pc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBhZGQgYSBjdWUgcG9pbnQgdG8gdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEFkZEN1ZVBvaW50UHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtzdHJpbmd9IFRoZSBpZCBvZiB0aGUgY3VlIHBvaW50IHRvIHVzZSBmb3IgcmVtb3ZlQ3VlUG9pbnQuXG4gICAgICogQHJlamVjdCB7UmFuZ2VFcnJvcn0gdGhlIHRpbWUgd2FzIGxlc3MgdGhhbiAwIG9yIGdyZWF0ZXIgdGhhbiB0aGVcbiAgICAgKiAgICAgICAgIHZpZGVv4oCZcyBkdXJhdGlvbi5cbiAgICAgKiBAcmVqZWN0IHtVbnN1cHBvcnRlZEVycm9yfSBDdWUgcG9pbnRzIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggdGhlIGN1cnJlbnRcbiAgICAgKiAgICAgICAgIHBsYXllciBvciBicm93c2VyLlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEFkZCBhIGN1ZSBwb2ludCB0byB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWUgVGhlIHRpbWUgZm9yIHRoZSBjdWUgcG9pbnQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtkYXRhXSBBcmJpdHJhcnkgZGF0YSB0byBiZSByZXR1cm5lZCB3aXRoIHRoZSBjdWUgcG9pbnQuXG4gICAgICogQHJldHVybiB7QWRkQ3VlUG9pbnRQcm9taXNlfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcImFkZEN1ZVBvaW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEN1ZVBvaW50KHRpbWUpIHtcbiAgICAgIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHJldHVybiB0aGlzLmNhbGxNZXRob2QoJ2FkZEN1ZVBvaW50Jywge1xuICAgICAgICB0aW1lOiB0aW1lLFxuICAgICAgICBkYXRhOiBkYXRhXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gcmVtb3ZlIGEgY3VlIHBvaW50IGZyb20gdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEFkZEN1ZVBvaW50UHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtzdHJpbmd9IFRoZSBpZCBvZiB0aGUgY3VlIHBvaW50IHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICogQHJlamVjdCB7SW52YWxpZEN1ZVBvaW50fSBUaGUgY3VlIHBvaW50IHdpdGggdGhlIHNwZWNpZmllZCBpZCB3YXMgbm90XG4gICAgICogICAgICAgICBmb3VuZC5cbiAgICAgKiBAcmVqZWN0IHtVbnN1cHBvcnRlZEVycm9yfSBDdWUgcG9pbnRzIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggdGhlIGN1cnJlbnRcbiAgICAgKiAgICAgICAgIHBsYXllciBvciBicm93c2VyLlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGN1ZSBwb2ludCBmcm9tIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgaWQgb2YgdGhlIGN1ZSBwb2ludCB0byByZW1vdmUuXG4gICAgICogQHJldHVybiB7UmVtb3ZlQ3VlUG9pbnRQcm9taXNlfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUN1ZVBvaW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUN1ZVBvaW50KGlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsTWV0aG9kKCdyZW1vdmVDdWVQb2ludCcsIGlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHJlcHJlc2VudGF0aW9uIG9mIGEgdGV4dCB0cmFjayBvbiBhIHZpZGVvLlxuICAgICAqXG4gICAgICogQHR5cGVkZWYge09iamVjdH0gVmltZW9UZXh0VHJhY2tcbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gbGFuZ3VhZ2UgVGhlIElTTyBsYW5ndWFnZSBjb2RlLlxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBraW5kIFRoZSBraW5kIG9mIHRyYWNrIGl0IGlzIChjYXB0aW9ucyBvciBzdWJ0aXRsZXMpLlxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBsYWJlbCBUaGUgaHVtYW7igJByZWFkYWJsZSBsYWJlbCBmb3IgdGhlIHRyYWNrLlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBlbmFibGUgYSB0ZXh0IHRyYWNrLlxuICAgICAqXG4gICAgICogQHByb21pc2UgRW5hYmxlVGV4dFRyYWNrUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtWaW1lb1RleHRUcmFja30gVGhlIHRleHQgdHJhY2sgdGhhdCB3YXMgZW5hYmxlZC5cbiAgICAgKiBAcmVqZWN0IHtJbnZhbGlkVHJhY2tMYW5ndWFnZUVycm9yfSBObyB0cmFjayB3YXMgYXZhaWxhYmxlIHdpdGggdGhlXG4gICAgICogICAgICAgICBzcGVjaWZpZWQgbGFuZ3VhZ2UuXG4gICAgICogQHJlamVjdCB7SW52YWxpZFRyYWNrRXJyb3J9IE5vIHRyYWNrIHdhcyBhdmFpbGFibGUgd2l0aCB0aGUgc3BlY2lmaWVkXG4gICAgICogICAgICAgICBsYW5ndWFnZSBhbmQga2luZC5cbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBFbmFibGUgdGhlIHRleHQgdHJhY2sgd2l0aCB0aGUgc3BlY2lmaWVkIGxhbmd1YWdlLCBhbmQgb3B0aW9uYWxseSB0aGVcbiAgICAgKiBzcGVjaWZpZWQga2luZCAoY2FwdGlvbnMgb3Igc3VidGl0bGVzKS5cbiAgICAgKlxuICAgICAqIFdoZW4gc2V0IHZpYSB0aGUgQVBJLCB0aGUgdHJhY2sgbGFuZ3VhZ2Ugd2lsbCBub3QgY2hhbmdlIHRoZSB2aWV3ZXLigJlzXG4gICAgICogc3RvcmVkIHByZWZlcmVuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ3VhZ2UgVGhlIHR3b+KAkGxldHRlciBsYW5ndWFnZSBjb2RlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2luZF0gVGhlIGtpbmQgb2YgdHJhY2sgdG8gZW5hYmxlIChjYXB0aW9ucyBvciBzdWJ0aXRsZXMpLlxuICAgICAqIEByZXR1cm4ge0VuYWJsZVRleHRUcmFja1Byb21pc2V9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiZW5hYmxlVGV4dFRyYWNrXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVuYWJsZVRleHRUcmFjayhsYW5ndWFnZSwga2luZCkge1xuICAgICAgaWYgKCFsYW5ndWFnZSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGEgbGFuZ3VhZ2UuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5jYWxsTWV0aG9kKCdlbmFibGVUZXh0VHJhY2snLCB7XG4gICAgICAgIGxhbmd1YWdlOiBsYW5ndWFnZSxcbiAgICAgICAga2luZDoga2luZFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGRpc2FibGUgdGhlIGFjdGl2ZSB0ZXh0IHRyYWNrLlxuICAgICAqXG4gICAgICogQHByb21pc2UgRGlzYWJsZVRleHRUcmFja1Byb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7dm9pZH0gVGhlIHRyYWNrIHdhcyBkaXNhYmxlZC5cbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlIHRoZSBjdXJyZW50bHktYWN0aXZlIHRleHQgdHJhY2suXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtEaXNhYmxlVGV4dFRyYWNrUHJvbWlzZX1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJkaXNhYmxlVGV4dFRyYWNrXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2FibGVUZXh0VHJhY2soKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsTWV0aG9kKCdkaXNhYmxlVGV4dFRyYWNrJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIHBhdXNlIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIFBhdXNlUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHt2b2lkfSBUaGUgdmlkZW8gd2FzIHBhdXNlZC5cbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBQYXVzZSB0aGUgdmlkZW8gaWYgaXTigJlzIHBsYXlpbmcuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQYXVzZVByb21pc2V9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwicGF1c2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsTWV0aG9kKCdwYXVzZScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBwbGF5IHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIFBsYXlQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge3ZvaWR9IFRoZSB2aWRlbyB3YXMgcGxheWVkLlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIFBsYXkgdGhlIHZpZGVvIGlmIGl04oCZcyBwYXVzZWQuICoqTm90ZToqKiBvbiBpT1MgYW5kIHNvbWUgb3RoZXJcbiAgICAgKiBtb2JpbGUgZGV2aWNlcywgeW91IGNhbm5vdCBwcm9ncmFtbWF0aWNhbGx5IHRyaWdnZXIgcGxheS4gT25jZSB0aGVcbiAgICAgKiB2aWV3ZXIgaGFzIHRhcHBlZCBvbiB0aGUgcGxheSBidXR0b24gaW4gdGhlIHBsYXllciwgaG93ZXZlciwgeW91XG4gICAgICogd2lsbCBiZSBhYmxlIHRvIHVzZSB0aGlzIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UGxheVByb21pc2V9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwicGxheVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwbGF5KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsbE1ldGhvZCgncGxheScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgdGhhdCB0aGUgcGxheWVyIGVudGVycyBmdWxsc2NyZWVuLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwicmVxdWVzdEZ1bGxzY3JlZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVxdWVzdEZ1bGxzY3JlZW4oKSB7XG4gICAgICBpZiAoc2NyZWVuZnVsbC5pc0VuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIHNjcmVlbmZ1bGwucmVxdWVzdCh0aGlzLmVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuY2FsbE1ldGhvZCgncmVxdWVzdEZ1bGxzY3JlZW4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IHRoYXQgdGhlIHBsYXllciBleGl0cyBmdWxsc2NyZWVuLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiZXhpdEZ1bGxzY3JlZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXhpdEZ1bGxzY3JlZW4oKSB7XG4gICAgICBpZiAoc2NyZWVuZnVsbC5pc0VuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIHNjcmVlbmZ1bGwuZXhpdCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuY2FsbE1ldGhvZCgnZXhpdEZ1bGxzY3JlZW4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHBsYXllciBpcyBjdXJyZW50bHkgZnVsbHNjcmVlbi5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcImdldEZ1bGxzY3JlZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RnVsbHNjcmVlbigpIHtcbiAgICAgIGlmIChzY3JlZW5mdWxsLmlzRW5hYmxlZCkge1xuICAgICAgICByZXR1cm4gbnBvX3NyYy5yZXNvbHZlKHNjcmVlbmZ1bGwuaXNGdWxsc2NyZWVuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmdldCgnZnVsbHNjcmVlbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgdGhhdCB0aGUgcGxheWVyIGVudGVycyBwaWN0dXJlLWluLXBpY3R1cmUuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJyZXF1ZXN0UGljdHVyZUluUGljdHVyZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXF1ZXN0UGljdHVyZUluUGljdHVyZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGxNZXRob2QoJ3JlcXVlc3RQaWN0dXJlSW5QaWN0dXJlJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVxdWVzdCB0aGF0IHRoZSBwbGF5ZXIgZXhpdHMgcGljdHVyZS1pbi1waWN0dXJlLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiZXhpdFBpY3R1cmVJblBpY3R1cmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXhpdFBpY3R1cmVJblBpY3R1cmUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsTWV0aG9kKCdleGl0UGljdHVyZUluUGljdHVyZScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcGxheWVyIGlzIGN1cnJlbnRseSBwaWN0dXJlLWluLXBpY3R1cmUuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJnZXRQaWN0dXJlSW5QaWN0dXJlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBpY3R1cmVJblBpY3R1cmUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3BpY3R1cmVJblBpY3R1cmUnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gcHJvbXB0IHRoZSB2aWV3ZXIgdG8gaW5pdGlhdGUgcmVtb3RlIHBsYXliYWNrLlxuICAgICAqXG4gICAgICogQHByb21pc2UgUmVtb3RlUGxheWJhY2tQcm9tcHRQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge3ZvaWR9XG4gICAgICogQHJlamVjdCB7Tm90Rm91bmRFcnJvcn0gTm8gcmVtb3RlIHBsYXliYWNrIGRldmljZSBpcyBhdmFpbGFibGUuXG4gICAgICovXG4gICAgLyoqXG4gICAgICogUmVxdWVzdCB0byBwcm9tcHQgdGhlIHVzZXIgdG8gaW5pdGlhdGUgcmVtb3RlIHBsYXliYWNrLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UmVtb3RlUGxheWJhY2tQcm9tcHRQcm9taXNlfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcInJlbW90ZVBsYXliYWNrUHJvbXB0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW90ZVBsYXliYWNrUHJvbXB0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsbE1ldGhvZCgncmVtb3RlUGxheWJhY2tQcm9tcHQnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gdW5sb2FkIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIFVubG9hZFByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7dm9pZH0gVGhlIHZpZGVvIHdhcyB1bmxvYWRlZC5cbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHBsYXllciB0byBpdHMgaW5pdGlhbCBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1VubG9hZFByb21pc2V9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwidW5sb2FkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVubG9hZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGxNZXRob2QoJ3VubG9hZCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFudXAgdGhlIHBsYXllciBhbmQgcmVtb3ZlIGl0IGZyb20gdGhlIERPTVxuICAgICAqXG4gICAgICogSXQgd29uJ3QgYmUgdXNhYmxlIGFuZCBhIG5ldyBvbmUgc2hvdWxkIGJlIGNvbnN0cnVjdGVkXG4gICAgICogIGluIG9yZGVyIHRvIGRvIGFueSBvcGVyYXRpb25zLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJkZXN0cm95XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcbiAgICAgIHJldHVybiBuZXcgbnBvX3NyYyhmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICByZWFkeU1hcC5kZWxldGUoX3RoaXM1KTtcbiAgICAgICAgcGxheWVyTWFwLmRlbGV0ZShfdGhpczUuZWxlbWVudCk7XG4gICAgICAgIGlmIChfdGhpczUuX29yaWdpbmFsRWxlbWVudCkge1xuICAgICAgICAgIHBsYXllck1hcC5kZWxldGUoX3RoaXM1Ll9vcmlnaW5hbEVsZW1lbnQpO1xuICAgICAgICAgIF90aGlzNS5fb3JpZ2luYWxFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS12aW1lby1pbml0aWFsaXplZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfdGhpczUuZWxlbWVudCAmJiBfdGhpczUuZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0lGUkFNRScgJiYgX3RoaXM1LmVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgIC8vIElmIHdlJ3ZlIGFkZGVkIGFuIGFkZGl0aW9uYWwgd3JhcHBlciBkaXYsIHJlbW92ZSB0aGF0IGZyb20gdGhlIERPTS5cbiAgICAgICAgICAvLyBJZiBub3QsIGp1c3QgcmVtb3ZlIHRoZSBpZnJhbWUgZWxlbWVudC5cbiAgICAgICAgICBpZiAoX3RoaXM1LmVsZW1lbnQucGFyZW50Tm9kZS5wYXJlbnROb2RlICYmIF90aGlzNS5fb3JpZ2luYWxFbGVtZW50ICYmIF90aGlzNS5fb3JpZ2luYWxFbGVtZW50ICE9PSBfdGhpczUuZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBfdGhpczUuZWxlbWVudC5wYXJlbnROb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoX3RoaXM1LmVsZW1lbnQucGFyZW50Tm9kZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzNS5lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoX3RoaXM1LmVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZSBjbGlwIGlzIHByaXZhdGUgdGhlcmUgaXMgYSBjYXNlIHdoZXJlIHRoZSBlbGVtZW50IHN0YXlzIHRoZVxuICAgICAgICAvLyBkaXYgZWxlbWVudC4gRGVzdHJveSBzaG91bGQgcmVzZXQgdGhlIGRpdiBhbmQgcmVtb3ZlIHRoZSBpZnJhbWUgY2hpbGQuXG4gICAgICAgIGlmIChfdGhpczUuZWxlbWVudCAmJiBfdGhpczUuZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0RJVicgJiYgX3RoaXM1LmVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgIF90aGlzNS5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS12aW1lby1pbml0aWFsaXplZCcpO1xuICAgICAgICAgIHZhciBpZnJhbWUgPSBfdGhpczUuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdpZnJhbWUnKTtcbiAgICAgICAgICBpZiAoaWZyYW1lICYmIGlmcmFtZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSd2ZSBhZGRlZCBhbiBhZGRpdGlvbmFsIHdyYXBwZXIgZGl2LCByZW1vdmUgdGhhdCBmcm9tIHRoZSBET00uXG4gICAgICAgICAgICAvLyBJZiBub3QsIGp1c3QgcmVtb3ZlIHRoZSBpZnJhbWUgZWxlbWVudC5cbiAgICAgICAgICAgIGlmIChpZnJhbWUucGFyZW50Tm9kZS5wYXJlbnROb2RlICYmIF90aGlzNS5fb3JpZ2luYWxFbGVtZW50ICYmIF90aGlzNS5fb3JpZ2luYWxFbGVtZW50ICE9PSBpZnJhbWUucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICBpZnJhbWUucGFyZW50Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGlmcmFtZS5wYXJlbnROb2RlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmcmFtZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGlmcmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF90aGlzNS5fd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBfdGhpczUuX29uTWVzc2FnZSk7XG4gICAgICAgIGlmIChzY3JlZW5mdWxsLmlzRW5hYmxlZCkge1xuICAgICAgICAgIHNjcmVlbmZ1bGwub2ZmKCdmdWxsc2NyZWVuY2hhbmdlJywgX3RoaXM1LmZ1bGxzY3JlZW5jaGFuZ2VIYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBhdXRvcGF1c2UgYmVoYXZpb3Igb2YgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0QXV0b3BhdXNlUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtib29sZWFufSBXaGV0aGVyIGF1dG9wYXVzZSBpcyB0dXJuZWQgb24gb3Igb2ZmLlxuICAgICAqIEByZWplY3Qge1Vuc3VwcG9ydGVkRXJyb3J9IEF1dG9wYXVzZSBpcyBub3Qgc3VwcG9ydGVkIHdpdGggdGhlIGN1cnJlbnRcbiAgICAgKiAgICAgICAgIHBsYXllciBvciBicm93c2VyLlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYXV0b3BhdXNlIGJlaGF2aW9yIGZvciB0aGlzIHBsYXllci5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldEF1dG9wYXVzZVByb21pc2V9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0QXV0b3BhdXNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEF1dG9wYXVzZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgnYXV0b3BhdXNlJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIHNldCB0aGUgYXV0b3BhdXNlIGJlaGF2aW9yIG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIFNldEF1dG9wYXVzZVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7Ym9vbGVhbn0gV2hldGhlciBhdXRvcGF1c2UgaXMgdHVybmVkIG9uIG9yIG9mZi5cbiAgICAgKiBAcmVqZWN0IHtVbnN1cHBvcnRlZEVycm9yfSBBdXRvcGF1c2UgaXMgbm90IHN1cHBvcnRlZCB3aXRoIHRoZSBjdXJyZW50XG4gICAgICogICAgICAgICBwbGF5ZXIgb3IgYnJvd3Nlci5cbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBFbmFibGUgb3IgZGlzYWJsZSB0aGUgYXV0b3BhdXNlIGJlaGF2aW9yIG9mIHRoaXMgcGxheWVyLlxuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCwgd2hlbiBhbm90aGVyIHZpZGVvIGlzIHBsYXllZCBpbiB0aGUgc2FtZSBicm93c2VyLCB0aGlzXG4gICAgICogcGxheWVyIHdpbGwgYXV0b21hdGljYWxseSBwYXVzZS4gVW5sZXNzIHlvdSBoYXZlIGEgc3BlY2lmaWMgcmVhc29uXG4gICAgICogZm9yIGRvaW5nIHNvLCB3ZSByZWNvbW1lbmQgdGhhdCB5b3UgbGVhdmUgYXV0b3BhdXNlIHNldCB0byB0aGVcbiAgICAgKiBkZWZhdWx0IChgdHJ1ZWApLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBhdXRvcGF1c2VcbiAgICAgKiBAcmV0dXJuIHtTZXRBdXRvcGF1c2VQcm9taXNlfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcInNldEF1dG9wYXVzZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRBdXRvcGF1c2UoYXV0b3BhdXNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoJ2F1dG9wYXVzZScsIGF1dG9wYXVzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgYnVmZmVyZWQgcHJvcGVydHkgb2YgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0QnVmZmVyZWRQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge0FycmF5fSBCdWZmZXJlZCBUaW1lcmFuZ2VzIGNvbnZlcnRlZCB0byBhbiBBcnJheS5cbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGJ1ZmZlcmVkIHByb3BlcnR5IG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldEJ1ZmZlcmVkUHJvbWlzZX1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJnZXRCdWZmZXJlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRCdWZmZXJlZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgnYnVmZmVyZWQnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBDYW1lcmFQcm9wZXJ0aWVzXG4gICAgICogQHByb3Age251bWJlcn0gcHJvcHMueWF3IC0gTnVtYmVyIGJldHdlZW4gMCBhbmQgMzYwLlxuICAgICAqIEBwcm9wIHtudW1iZXJ9IHByb3BzLnBpdGNoIC0gTnVtYmVyIGJldHdlZW4gLTkwIGFuZCA5MC5cbiAgICAgKiBAcHJvcCB7bnVtYmVyfSBwcm9wcy5yb2xsIC0gTnVtYmVyIGJldHdlZW4gLTE4MCBhbmQgMTgwLlxuICAgICAqIEBwcm9wIHtudW1iZXJ9IHByb3BzLmZvdiAtIFRoZSBmaWVsZCBvZiB2aWV3IGluIGRlZ3JlZXMuXG4gICAgICovXG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgY2FtZXJhIHByb3BlcnRpZXMgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldENhbWVyYVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7Q2FtZXJhUHJvcGVydGllc30gVGhlIGNhbWVyYSBwcm9wZXJ0aWVzLlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEZvciAzNjDCsCB2aWRlb3MgZ2V0IHRoZSBjYW1lcmEgcHJvcGVydGllcyBmb3IgdGhpcyBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRDYW1lcmFQcm9taXNlfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcImdldENhbWVyYVByb3BzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENhbWVyYVByb3BzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdjYW1lcmFQcm9wcycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBzZXQgdGhlIGNhbWVyYSBwcm9wZXJ0aWVzIG9mIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBTZXRDYW1lcmFQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge09iamVjdH0gVGhlIGNhbWVyYSB3YXMgc3VjY2Vzc2Z1bGx5IHNldC5cbiAgICAgKiBAcmVqZWN0IHtSYW5nZUVycm9yfSBUaGUgcmFuZ2Ugd2FzIG91dCBvZiBib3VuZHMuXG4gICAgICovXG4gICAgLyoqXG4gICAgICogRm9yIDM2MMKwIHZpZGVvcyBzZXQgdGhlIGNhbWVyYSBwcm9wZXJ0aWVzIGZvciB0aGlzIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q2FtZXJhUHJvcGVydGllc30gY2FtZXJhIFRoZSBjYW1lcmEgcHJvcGVydGllc1xuICAgICAqIEByZXR1cm4ge1NldENhbWVyYVByb21pc2V9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Q2FtZXJhUHJvcHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q2FtZXJhUHJvcHMoY2FtZXJhKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoJ2NhbWVyYVByb3BzJywgY2FtZXJhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHJlcHJlc2VudGF0aW9uIG9mIGEgY2hhcHRlci5cbiAgICAgKlxuICAgICAqIEB0eXBlZGVmIHtPYmplY3R9IFZpbWVvQ2hhcHRlclxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzdGFydFRpbWUgVGhlIHN0YXJ0IHRpbWUgb2YgdGhlIGNoYXB0ZXIuXG4gICAgICogQHByb3BlcnR5IHtvYmplY3R9IHRpdGxlIFRoZSB0aXRsZSBvZiB0aGUgY2hhcHRlci5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gaW5kZXggVGhlIHBsYWNlIGluIHRoZSBvcmRlciBvZiBDaGFwdGVycy4gU3RhcnRzIGF0IDEuXG4gICAgICovXG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCBjaGFwdGVycyBmb3IgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0Q2hhcHRlcnNQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge1ZpbWVvQ2hhcHRlcltdfSBUaGUgY2hhcHRlcnMgZm9yIHRoZSB2aWRlby5cbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gYXJyYXkgb2YgYWxsIHRoZSBjaGFwdGVycyBmb3IgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0Q2hhcHRlcnNQcm9taXNlfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcImdldENoYXB0ZXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENoYXB0ZXJzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdjaGFwdGVycycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIGN1cnJlbnRseSBhY3RpdmUgY2hhcHRlci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldEN1cnJlbnRDaGFwdGVyc1Byb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7VmltZW9DaGFwdGVyfHVuZGVmaW5lZH0gVGhlIGN1cnJlbnQgY2hhcHRlciBmb3IgdGhlIHZpZGVvLlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudGx5IGFjdGl2ZSBjaGFwdGVyIGZvciB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRDdXJyZW50Q2hhcHRlcnNQcm9taXNlfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcImdldEN1cnJlbnRDaGFwdGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEN1cnJlbnRDaGFwdGVyKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdjdXJyZW50Q2hhcHRlcicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIGFjY2VudCBjb2xvciBvZiB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0Q29sb3JQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge3N0cmluZ30gVGhlIGhleCBjb2xvciBvZiB0aGUgcGxheWVyLlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYWNjZW50IGNvbG9yIGZvciB0aGlzIHBsYXllci4gTm90ZSB0aGlzIGlzIGRlcHJlY2F0ZWQgaW4gcGxhY2Ugb2YgYGdldENvbG9yVHdvYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldENvbG9yUHJvbWlzZX1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJnZXRDb2xvclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb2xvcigpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgnY29sb3InKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IGFsbCBjb2xvcnMgZm9yIHRoZSBwbGF5ZXIgaW4gYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRDb2xvcnNQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge3N0cmluZ1tdfSBUaGUgaGV4IGNvbG9ycyBvZiB0aGUgcGxheWVyLlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEdldCBhbGwgdGhlIGNvbG9ycyBmb3IgdGhpcyBwbGF5ZXIgaW4gYW4gYXJyYXk6IFtjb2xvck9uZSwgY29sb3JUd28sIGNvbG9yVGhyZWUsIGNvbG9yRm91cl1cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldENvbG9yUHJvbWlzZX1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJnZXRDb2xvcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29sb3JzKCkge1xuICAgICAgcmV0dXJuIG5wb19zcmMuYWxsKFt0aGlzLmdldCgnY29sb3JPbmUnKSwgdGhpcy5nZXQoJ2NvbG9yVHdvJyksIHRoaXMuZ2V0KCdjb2xvclRocmVlJyksIHRoaXMuZ2V0KCdjb2xvckZvdXInKV0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBzZXQgdGhlIGFjY2VudCBjb2xvciBvZiB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHByb21pc2UgU2V0Q29sb3JQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge3N0cmluZ30gVGhlIGNvbG9yIHdhcyBzdWNjZXNzZnVsbHkgc2V0LlxuICAgICAqIEByZWplY3Qge1R5cGVFcnJvcn0gVGhlIHN0cmluZyB3YXMgbm90IGEgdmFsaWQgaGV4IG9yIHJnYiBjb2xvci5cbiAgICAgKiBAcmVqZWN0IHtDb250cmFzdEVycm9yfSBUaGUgY29sb3Igd2FzIHNldCwgYnV0IHRoZSBjb250cmFzdCBpc1xuICAgICAqICAgICAgICAgb3V0c2lkZSBvZiB0aGUgYWNjZXB0YWJsZSByYW5nZS5cbiAgICAgKiBAcmVqZWN0IHtFbWJlZFNldHRpbmdzRXJyb3J9IFRoZSBvd25lciBvZiB0aGUgcGxheWVyIGhhcyBjaG9zZW4gdG9cbiAgICAgKiAgICAgICAgIHVzZSBhIHNwZWNpZmljIGNvbG9yLlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYWNjZW50IGNvbG9yIG9mIHRoaXMgcGxheWVyIHRvIGEgaGV4IG9yIHJnYiBzdHJpbmcuIFNldHRpbmcgdGhlXG4gICAgICogY29sb3IgbWF5IGZhaWwgaWYgdGhlIG93bmVyIG9mIHRoZSB2aWRlbyBoYXMgc2V0IHRoZWlyIGVtYmVkXG4gICAgICogcHJlZmVyZW5jZXMgdG8gZm9yY2UgYSBzcGVjaWZpYyBjb2xvci5cbiAgICAgKiBOb3RlIHRoaXMgaXMgZGVwcmVjYXRlZCBpbiBwbGFjZSBvZiBgc2V0Q29sb3JUd29gLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIFRoZSBoZXggb3IgcmdiIGNvbG9yIHN0cmluZyB0byBzZXQuXG4gICAgICogQHJldHVybiB7U2V0Q29sb3JQcm9taXNlfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcInNldENvbG9yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldENvbG9yKGNvbG9yKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoJ2NvbG9yJywgY29sb3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBzZXQgYWxsIGNvbG9ycyBmb3IgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIFNldENvbG9yc1Byb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7c3RyaW5nW119IFRoZSBjb2xvcnMgd2VyZSBzdWNjZXNzZnVsbHkgc2V0LlxuICAgICAqIEByZWplY3Qge1R5cGVFcnJvcn0gVGhlIHN0cmluZyB3YXMgbm90IGEgdmFsaWQgaGV4IG9yIHJnYiBjb2xvci5cbiAgICAgKiBAcmVqZWN0IHtDb250cmFzdEVycm9yfSBUaGUgY29sb3Igd2FzIHNldCwgYnV0IHRoZSBjb250cmFzdCBpc1xuICAgICAqICAgICAgICAgb3V0c2lkZSBvZiB0aGUgYWNjZXB0YWJsZSByYW5nZS5cbiAgICAgKiBAcmVqZWN0IHtFbWJlZFNldHRpbmdzRXJyb3J9IFRoZSBvd25lciBvZiB0aGUgcGxheWVyIGhhcyBjaG9zZW4gdG9cbiAgICAgKiAgICAgICAgIHVzZSBhIHNwZWNpZmljIGNvbG9yLlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29sb3JzIG9mIHRoaXMgcGxheWVyIHRvIGEgaGV4IG9yIHJnYiBzdHJpbmcuIFNldHRpbmcgdGhlXG4gICAgICogY29sb3IgbWF5IGZhaWwgaWYgdGhlIG93bmVyIG9mIHRoZSB2aWRlbyBoYXMgc2V0IHRoZWlyIGVtYmVkXG4gICAgICogcHJlZmVyZW5jZXMgdG8gZm9yY2UgYSBzcGVjaWZpYyBjb2xvci5cbiAgICAgKiBUaGUgY29sb3JzIHNob3VsZCBiZSBwYXNzZWQgaW4gYXMgYW4gYXJyYXk6IFtjb2xvck9uZSwgY29sb3JUd28sIGNvbG9yVGhyZWUsIGNvbG9yRm91cl0uXG4gICAgICogSWYgYSBjb2xvciBzaG91bGQgbm90IGJlIHNldCwgdGhlIGluZGV4IGluIHRoZSBhcnJheSBjYW4gYmUgbGVmdCBhcyBudWxsLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gY29sb3JzIEFycmF5IG9mIHRoZSBoZXggb3IgcmdiIGNvbG9yIHN0cmluZ3MgdG8gc2V0LlxuICAgICAqIEByZXR1cm4ge1NldENvbG9yc1Byb21pc2V9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Q29sb3JzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldENvbG9ycyhjb2xvcnMpIHtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShjb2xvcnMpKSB7XG4gICAgICAgIHJldHVybiBuZXcgbnBvX3NyYyhmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGFuIGFycmF5LicpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB2YXIgbnVsbFByb21pc2UgPSBuZXcgbnBvX3NyYyhmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZShudWxsKTtcbiAgICAgIH0pO1xuICAgICAgdmFyIGNvbG9yUHJvbWlzZXMgPSBbY29sb3JzWzBdID8gdGhpcy5zZXQoJ2NvbG9yT25lJywgY29sb3JzWzBdKSA6IG51bGxQcm9taXNlLCBjb2xvcnNbMV0gPyB0aGlzLnNldCgnY29sb3JUd28nLCBjb2xvcnNbMV0pIDogbnVsbFByb21pc2UsIGNvbG9yc1syXSA/IHRoaXMuc2V0KCdjb2xvclRocmVlJywgY29sb3JzWzJdKSA6IG51bGxQcm9taXNlLCBjb2xvcnNbM10gPyB0aGlzLnNldCgnY29sb3JGb3VyJywgY29sb3JzWzNdKSA6IG51bGxQcm9taXNlXTtcbiAgICAgIHJldHVybiBucG9fc3JjLmFsbChjb2xvclByb21pc2VzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHJlcHJlc2VudGF0aW9uIG9mIGEgY3VlIHBvaW50LlxuICAgICAqXG4gICAgICogQHR5cGVkZWYge09iamVjdH0gVmltZW9DdWVQb2ludFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lIFRoZSB0aW1lIG9mIHRoZSBjdWUgcG9pbnQuXG4gICAgICogQHByb3BlcnR5IHtvYmplY3R9IGRhdGEgVGhlIGRhdGEgcGFzc2VkIHdoZW4gYWRkaW5nIHRoZSBjdWUgcG9pbnQuXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IGlkIFRoZSB1bmlxdWUgaWQgZm9yIHVzZSB3aXRoIHJlbW92ZUN1ZVBvaW50LlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIGN1ZSBwb2ludHMgb2YgYSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldEN1ZVBvaW50c1Byb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7VmltZW9DdWVQb2ludFtdfSBUaGUgY3VlIHBvaW50cyBhZGRlZCB0byB0aGUgdmlkZW8uXG4gICAgICogQHJlamVjdCB7VW5zdXBwb3J0ZWRFcnJvcn0gQ3VlIHBvaW50cyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIHRoZSBjdXJyZW50XG4gICAgICogICAgICAgICBwbGF5ZXIgb3IgYnJvd3Nlci5cbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gYXJyYXkgb2YgdGhlIGN1ZSBwb2ludHMgYWRkZWQgdG8gdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0Q3VlUG9pbnRzUHJvbWlzZX1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJnZXRDdWVQb2ludHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q3VlUG9pbnRzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdjdWVQb2ludHMnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBjdXJyZW50IHRpbWUgb2YgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0Q3VycmVudFRpbWVQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge251bWJlcn0gVGhlIGN1cnJlbnQgdGltZSBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCBwbGF5YmFjayBwb3NpdGlvbiBpbiBzZWNvbmRzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0Q3VycmVudFRpbWVQcm9taXNlfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcImdldEN1cnJlbnRUaW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEN1cnJlbnRUaW1lKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdjdXJyZW50VGltZScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBzZXQgdGhlIGN1cnJlbnQgdGltZSBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBTZXRDdXJyZW50VGltZVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7bnVtYmVyfSBUaGUgYWN0dWFsIGN1cnJlbnQgdGltZSB0aGF0IHdhcyBzZXQuXG4gICAgICogQHJlamVjdCB7UmFuZ2VFcnJvcn0gdGhlIHRpbWUgd2FzIGxlc3MgdGhhbiAwIG9yIGdyZWF0ZXIgdGhhbiB0aGVcbiAgICAgKiAgICAgICAgIHZpZGVv4oCZcyBkdXJhdGlvbi5cbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGN1cnJlbnQgcGxheWJhY2sgcG9zaXRpb24gaW4gc2Vjb25kcy4gSWYgdGhlIHBsYXllciB3YXNcbiAgICAgKiBwYXVzZWQsIGl0IHdpbGwgcmVtYWluIHBhdXNlZC4gTGlrZXdpc2UsIGlmIHRoZSBwbGF5ZXIgd2FzIHBsYXlpbmcsXG4gICAgICogaXQgd2lsbCByZXN1bWUgcGxheWluZyBvbmNlIHRoZSB2aWRlbyBoYXMgYnVmZmVyZWQuXG4gICAgICpcbiAgICAgKiBZb3UgY2FuIHByb3ZpZGUgYW4gYWNjdXJhdGUgdGltZSBhbmQgdGhlIHBsYXllciB3aWxsIGF0dGVtcHQgdG8gc2Vla1xuICAgICAqIHRvIGFzIGNsb3NlIHRvIHRoYXQgdGltZSBhcyBwb3NzaWJsZS4gVGhlIGV4YWN0IHRpbWUgd2lsbCBiZSB0aGVcbiAgICAgKiBmdWxmaWxsZWQgdmFsdWUgb2YgdGhlIHByb21pc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3VycmVudFRpbWVcbiAgICAgKiBAcmV0dXJuIHtTZXRDdXJyZW50VGltZVByb21pc2V9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Q3VycmVudFRpbWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q3VycmVudFRpbWUoY3VycmVudFRpbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldCgnY3VycmVudFRpbWUnLCBjdXJyZW50VGltZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgZHVyYXRpb24gb2YgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0RHVyYXRpb25Qcm9taXNlXG4gICAgICogQGZ1bGZpbGwge251bWJlcn0gVGhlIGR1cmF0aW9uIGluIHNlY29uZHMuXG4gICAgICovXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkdXJhdGlvbiBvZiB0aGUgdmlkZW8gaW4gc2Vjb25kcy4gSXQgd2lsbCBiZSByb3VuZGVkIHRvIHRoZVxuICAgICAqIG5lYXJlc3Qgc2Vjb25kIGJlZm9yZSBwbGF5YmFjayBiZWdpbnMsIGFuZCB0byB0aGUgbmVhcmVzdCB0aG91c2FuZHRoXG4gICAgICogb2YgYSBzZWNvbmQgYWZ0ZXIgcGxheWJhY2sgYmVnaW5zLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0RHVyYXRpb25Qcm9taXNlfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcImdldER1cmF0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldER1cmF0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdkdXJhdGlvbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIGVuZGVkIHN0YXRlIG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldEVuZGVkUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgdmlkZW8gaGFzIGVuZGVkLlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZW5kZWQgc3RhdGUgb2YgdGhlIHZpZGVvLiBUaGUgdmlkZW8gaGFzIGVuZGVkIGlmXG4gICAgICogYGN1cnJlbnRUaW1lID09PSBkdXJhdGlvbmAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRFbmRlZFByb21pc2V9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0RW5kZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RW5kZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ2VuZGVkJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgbG9vcCBzdGF0ZSBvZiB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0TG9vcFByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIHBsYXllciBpcyBzZXQgdG8gbG9vcC5cbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxvb3Agc3RhdGUgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldExvb3BQcm9taXNlfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcImdldExvb3BcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TG9vcCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgnbG9vcCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBzZXQgdGhlIGxvb3Agc3RhdGUgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIFNldExvb3BQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge2Jvb2xlYW59IFRoZSBsb29wIHN0YXRlIHRoYXQgd2FzIHNldC5cbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGxvb3Agc3RhdGUgb2YgdGhlIHBsYXllci4gV2hlbiBzZXQgdG8gYHRydWVgLCB0aGUgcGxheWVyXG4gICAgICogd2lsbCBzdGFydCBvdmVyIGltbWVkaWF0ZWx5IG9uY2UgcGxheWJhY2sgZW5kcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbG9vcFxuICAgICAqIEByZXR1cm4ge1NldExvb3BQcm9taXNlfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcInNldExvb3BcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0TG9vcChsb29wKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoJ2xvb3AnLCBsb29wKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gc2V0IHRoZSBtdXRlZCBzdGF0ZSBvZiB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHByb21pc2UgU2V0TXV0ZWRQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge2Jvb2xlYW59IFRoZSBtdXRlZCBzdGF0ZSB0aGF0IHdhcyBzZXQuXG4gICAgICovXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtdXRlZCBzdGF0ZSBvZiB0aGUgcGxheWVyLiBXaGVuIHNldCB0byBgdHJ1ZWAsIHRoZSBwbGF5ZXJcbiAgICAgKiB2b2x1bWUgd2lsbCBiZSBtdXRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXV0ZWRcbiAgICAgKiBAcmV0dXJuIHtTZXRNdXRlZFByb21pc2V9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0TXV0ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0TXV0ZWQobXV0ZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldCgnbXV0ZWQnLCBtdXRlZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgbXV0ZWQgc3RhdGUgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldE11dGVkUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgcGxheWVyIGlzIG11dGVkLlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbXV0ZWQgc3RhdGUgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldE11dGVkUHJvbWlzZX1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJnZXRNdXRlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRNdXRlZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgnbXV0ZWQnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBwYXVzZWQgc3RhdGUgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldExvb3BQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSB2aWRlbyBpcyBwYXVzZWQuXG4gICAgICovXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwYXVzZWQgc3RhdGUgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldExvb3BQcm9taXNlfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcImdldFBhdXNlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQYXVzZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3BhdXNlZCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIHBsYXliYWNrIHJhdGUgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldFBsYXliYWNrUmF0ZVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7bnVtYmVyfSBUaGUgcGxheWJhY2sgcmF0ZSBvZiB0aGUgcGxheWVyIG9uIGEgc2NhbGUgZnJvbSAwIHRvIDIuXG4gICAgICovXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwbGF5YmFjayByYXRlIG9mIHRoZSBwbGF5ZXIgb24gYSBzY2FsZSBmcm9tIGAwYCB0byBgMmAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRQbGF5YmFja1JhdGVQcm9taXNlfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcImdldFBsYXliYWNrUmF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQbGF5YmFja1JhdGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3BsYXliYWNrUmF0ZScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBzZXQgdGhlIHBsYXliYWNrcmF0ZSBvZiB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHByb21pc2UgU2V0UGxheWJhY2tSYXRlUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtudW1iZXJ9IFRoZSBwbGF5YmFjayByYXRlIHdhcyBzZXQuXG4gICAgICogQHJlamVjdCB7UmFuZ2VFcnJvcn0gVGhlIHBsYXliYWNrIHJhdGUgd2FzIGxlc3MgdGhhbiAwIG9yIGdyZWF0ZXIgdGhhbiAyLlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcGxheWJhY2sgcmF0ZSBvZiB0aGUgcGxheWVyIG9uIGEgc2NhbGUgZnJvbSBgMGAgdG8gYDJgLiBXaGVuIHNldFxuICAgICAqIHZpYSB0aGUgQVBJLCB0aGUgcGxheWJhY2sgcmF0ZSB3aWxsIG5vdCBiZSBzeW5jaHJvbml6ZWQgdG8gb3RoZXJcbiAgICAgKiBwbGF5ZXJzIG9yIHN0b3JlZCBhcyB0aGUgdmlld2VyJ3MgcHJlZmVyZW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwbGF5YmFja1JhdGVcbiAgICAgKiBAcmV0dXJuIHtTZXRQbGF5YmFja1JhdGVQcm9taXNlfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcInNldFBsYXliYWNrUmF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRQbGF5YmFja1JhdGUocGxheWJhY2tSYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoJ3BsYXliYWNrUmF0ZScsIHBsYXliYWNrUmF0ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgcGxheWVkIHByb3BlcnR5IG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldFBsYXllZFByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7QXJyYXl9IFBsYXllZCBUaW1lcmFuZ2VzIGNvbnZlcnRlZCB0byBhbiBBcnJheS5cbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBsYXllZCBwcm9wZXJ0eSBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRQbGF5ZWRQcm9taXNlfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcImdldFBsYXllZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQbGF5ZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3BsYXllZCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIHF1YWxpdGllcyBhdmFpbGFibGUgb2YgdGhlIGN1cnJlbnQgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRRdWFsaXRpZXNQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge0FycmF5fSBUaGUgcXVhbGl0aWVzIG9mIHRoZSB2aWRlby5cbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHF1YWxpdGllcyBvZiB0aGUgY3VycmVudCB2aWRlby5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldFF1YWxpdGllc1Byb21pc2V9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UXVhbGl0aWVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFF1YWxpdGllcygpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgncXVhbGl0aWVzJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgY3VycmVudCBzZXQgcXVhbGl0eSBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRRdWFsaXR5UHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtzdHJpbmd9IFRoZSBjdXJyZW50IHNldCBxdWFsaXR5LlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCBzZXQgcXVhbGl0eSBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRRdWFsaXR5UHJvbWlzZX1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJnZXRRdWFsaXR5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFF1YWxpdHkoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3F1YWxpdHknKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gc2V0IHRoZSB2aWRlbyBxdWFsaXR5LlxuICAgICAqXG4gICAgICogQHByb21pc2UgU2V0UXVhbGl0eVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7bnVtYmVyfSBUaGUgcXVhbGl0eSB3YXMgc2V0LlxuICAgICAqIEByZWplY3Qge1JhbmdlRXJyb3J9IFRoZSBxdWFsaXR5IGlzIG5vdCBhdmFpbGFibGUuXG4gICAgICovXG4gICAgLyoqXG4gICAgICogU2V0IGEgdmlkZW8gcXVhbGl0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBxdWFsaXR5XG4gICAgICogQHJldHVybiB7U2V0UXVhbGl0eVByb21pc2V9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0UXVhbGl0eVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRRdWFsaXR5KHF1YWxpdHkpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldCgncXVhbGl0eScsIHF1YWxpdHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIHJlbW90ZSBwbGF5YmFjayBhdmFpbGFiaWxpdHkuXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBSZW1vdGVQbGF5YmFja0F2YWlsYWJpbGl0eVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7Ym9vbGVhbn0gV2hldGhlciByZW1vdGUgcGxheWJhY2sgaXMgYXZhaWxhYmxlLlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYXZhaWxhYmlsaXR5IG9mIHJlbW90ZSBwbGF5YmFjay5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1JlbW90ZVBsYXliYWNrQXZhaWxhYmlsaXR5UHJvbWlzZX1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJnZXRSZW1vdGVQbGF5YmFja0F2YWlsYWJpbGl0eVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRSZW1vdGVQbGF5YmFja0F2YWlsYWJpbGl0eSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgncmVtb3RlUGxheWJhY2tBdmFpbGFiaWxpdHknKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBjdXJyZW50IHJlbW90ZSBwbGF5YmFjayBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIFJlbW90ZVBsYXliYWNrU3RhdGVQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge3N0cmluZ30gVGhlIHN0YXRlIG9mIHRoZSByZW1vdGUgcGxheWJhY2s6IGNvbm5lY3RpbmcsIGNvbm5lY3RlZCwgb3IgZGlzY29ubmVjdGVkLlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCByZW1vdGUgcGxheWJhY2sgc3RhdGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtSZW1vdGVQbGF5YmFja1N0YXRlUHJvbWlzZX1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJnZXRSZW1vdGVQbGF5YmFja1N0YXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJlbW90ZVBsYXliYWNrU3RhdGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3JlbW90ZVBsYXliYWNrU3RhdGUnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBzZWVrYWJsZSBwcm9wZXJ0eSBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRTZWVrYWJsZVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7QXJyYXl9IFNlZWthYmxlIFRpbWVyYW5nZXMgY29udmVydGVkIHRvIGFuIEFycmF5LlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2Vla2FibGUgcHJvcGVydHkgb2YgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0U2Vla2FibGVQcm9taXNlfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcImdldFNlZWthYmxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlZWthYmxlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdzZWVrYWJsZScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIHNlZWtpbmcgcHJvcGVydHkgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldFNlZWtpbmdQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBwbGF5ZXIgaXMgY3VycmVudGx5IHNlZWtpbmcuXG4gICAgICovXG4gICAgLyoqXG4gICAgICogR2V0IGlmIHRoZSBwbGF5ZXIgaXMgY3VycmVudGx5IHNlZWtpbmcuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRTZWVraW5nUHJvbWlzZX1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJnZXRTZWVraW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlZWtpbmcoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3NlZWtpbmcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSB0ZXh0IHRyYWNrcyBvZiBhIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0VGV4dFRyYWNrc1Byb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7VmltZW9UZXh0VHJhY2tbXX0gVGhlIHRleHQgdHJhY2tzIGFzc29jaWF0ZWQgd2l0aCB0aGUgdmlkZW8uXG4gICAgICovXG4gICAgLyoqXG4gICAgICogR2V0IGFuIGFycmF5IG9mIHRoZSB0ZXh0IHRyYWNrcyB0aGF0IGV4aXN0IGZvciB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRUZXh0VHJhY2tzUHJvbWlzZX1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJnZXRUZXh0VHJhY2tzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRleHRUcmFja3MoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3RleHRUcmFja3MnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBlbWJlZCBjb2RlIGZvciB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRWaWRlb0VtYmVkQ29kZVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7c3RyaW5nfSBUaGUgYDxpZnJhbWU+YCBlbWJlZCBjb2RlIGZvciB0aGUgdmlkZW8uXG4gICAgICovXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBgPGlmcmFtZT5gIGVtYmVkIGNvZGUgZm9yIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldFZpZGVvRW1iZWRDb2RlUHJvbWlzZX1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJnZXRWaWRlb0VtYmVkQ29kZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWaWRlb0VtYmVkQ29kZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgndmlkZW9FbWJlZENvZGUnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBpZCBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRWaWRlb0lkUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtudW1iZXJ9IFRoZSBpZCBvZiB0aGUgdmlkZW8uXG4gICAgICovXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpZCBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRWaWRlb0lkUHJvbWlzZX1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJnZXRWaWRlb0lkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZpZGVvSWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3ZpZGVvSWQnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSB0aXRsZSBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRWaWRlb1RpdGxlUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtudW1iZXJ9IFRoZSB0aXRsZSBvZiB0aGUgdmlkZW8uXG4gICAgICovXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0aXRsZSBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRWaWRlb1RpdGxlUHJvbWlzZX1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJnZXRWaWRlb1RpdGxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZpZGVvVGl0bGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3ZpZGVvVGl0bGUnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBuYXRpdmUgd2lkdGggb2YgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0VmlkZW9XaWR0aFByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7bnVtYmVyfSBUaGUgbmF0aXZlIHdpZHRoIG9mIHRoZSB2aWRlby5cbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG5hdGl2ZSB3aWR0aCBvZiB0aGUgY3VycmVudGx54oCQcGxheWluZyB2aWRlby4gVGhlIHdpZHRoIG9mXG4gICAgICogdGhlIGhpZ2hlc3TigJByZXNvbHV0aW9uIGF2YWlsYWJsZSB3aWxsIGJlIHVzZWQgYmVmb3JlIHBsYXliYWNrIGJlZ2lucy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldFZpZGVvV2lkdGhQcm9taXNlfVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcImdldFZpZGVvV2lkdGhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmlkZW9XaWR0aCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgndmlkZW9XaWR0aCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIG5hdGl2ZSBoZWlnaHQgb2YgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0VmlkZW9IZWlnaHRQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge251bWJlcn0gVGhlIG5hdGl2ZSBoZWlnaHQgb2YgdGhlIHZpZGVvLlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbmF0aXZlIGhlaWdodCBvZiB0aGUgY3VycmVudGx54oCQcGxheWluZyB2aWRlby4gVGhlIGhlaWdodCBvZlxuICAgICAqIHRoZSBoaWdoZXN04oCQcmVzb2x1dGlvbiBhdmFpbGFibGUgd2lsbCBiZSB1c2VkIGJlZm9yZSBwbGF5YmFjayBiZWdpbnMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRWaWRlb0hlaWdodFByb21pc2V9XG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VmlkZW9IZWlnaHRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmlkZW9IZWlnaHQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3ZpZGVvSGVpZ2h0Jyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgdmltZW8uY29tIHVybCBmb3IgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0VmlkZW9VcmxQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge251bWJlcn0gVGhlIHZpbWVvLmNvbSB1cmwgZm9yIHRoZSB2aWRlby5cbiAgICAgKiBAcmVqZWN0IHtQcml2YWN5RXJyb3J9IFRoZSB1cmwgaXNu4oCZdCBhdmFpbGFibGUgYmVjYXVzZSBvZiB0aGUgdmlkZW/igJlzIHByaXZhY3kgc2V0dGluZy5cbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZpbWVvLmNvbSB1cmwgZm9yIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldFZpZGVvVXJsUHJvbWlzZX1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJnZXRWaWRlb1VybFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWaWRlb1VybCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgndmlkZW9VcmwnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSB2b2x1bWUgbGV2ZWwgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldFZvbHVtZVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7bnVtYmVyfSBUaGUgdm9sdW1lIGxldmVsIG9mIHRoZSBwbGF5ZXIgb24gYSBzY2FsZSBmcm9tIDAgdG8gMS5cbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgdm9sdW1lIGxldmVsIG9mIHRoZSBwbGF5ZXIgb24gYSBzY2FsZSBmcm9tIGAwYCB0byBgMWAuXG4gICAgICpcbiAgICAgKiBNb3N0IG1vYmlsZSBkZXZpY2VzIGRvIG5vdCBzdXBwb3J0IGFuIGluZGVwZW5kZW50IHZvbHVtZSBmcm9tIHRoZVxuICAgICAqIHN5c3RlbSB2b2x1bWUuIEluIHRob3NlIGNhc2VzLCB0aGlzIG1ldGhvZCB3aWxsIGFsd2F5cyByZXR1cm4gYDFgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0Vm9sdW1lUHJvbWlzZX1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJnZXRWb2x1bWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Vm9sdW1lKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd2b2x1bWUnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gc2V0IHRoZSB2b2x1bWUgbGV2ZWwgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIFNldFZvbHVtZVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7bnVtYmVyfSBUaGUgdm9sdW1lIHdhcyBzZXQuXG4gICAgICogQHJlamVjdCB7UmFuZ2VFcnJvcn0gVGhlIHZvbHVtZSB3YXMgbGVzcyB0aGFuIDAgb3IgZ3JlYXRlciB0aGFuIDEuXG4gICAgICovXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB2b2x1bWUgb2YgdGhlIHBsYXllciBvbiBhIHNjYWxlIGZyb20gYDBgIHRvIGAxYC4gV2hlbiBzZXRcbiAgICAgKiB2aWEgdGhlIEFQSSwgdGhlIHZvbHVtZSBsZXZlbCB3aWxsIG5vdCBiZSBzeW5jaHJvbml6ZWQgdG8gb3RoZXJcbiAgICAgKiBwbGF5ZXJzIG9yIHN0b3JlZCBhcyB0aGUgdmlld2Vy4oCZcyBwcmVmZXJlbmNlLlxuICAgICAqXG4gICAgICogTW9zdCBtb2JpbGUgZGV2aWNlcyBkbyBub3Qgc3VwcG9ydCBzZXR0aW5nIHRoZSB2b2x1bWUuIEFuIGVycm9yIHdpbGxcbiAgICAgKiAqbm90KiBiZSB0cmlnZ2VyZWQgaW4gdGhhdCBzaXR1YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdm9sdW1lXG4gICAgICogQHJldHVybiB7U2V0Vm9sdW1lUHJvbWlzZX1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJzZXRWb2x1bWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Vm9sdW1lKHZvbHVtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0KCd2b2x1bWUnLCB2b2x1bWUpO1xuICAgIH1cblxuICAgIC8qKiBAdHlwZWRlZiB7aW1wb3J0KCd0aW1pbmctb2JqZWN0JykuSVRpbWluZ09iamVjdH0gVGltaW5nT2JqZWN0ICovXG4gICAgLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4vbGliL3RpbWluZy1zcmMtY29ubmVjdG9yLnR5cGVzJykuVGltaW5nU3JjQ29ubmVjdG9yT3B0aW9uc30gVGltaW5nU3JjQ29ubmVjdG9yT3B0aW9ucyAqL1xuICAgIC8qKiBAdHlwZWRlZiB7aW1wb3J0KCcuL2xpYi90aW1pbmctc3JjLWNvbm5lY3RvcicpLlRpbWluZ1NyY0Nvbm5lY3Rvcn0gVGltaW5nU3JjQ29ubmVjdG9yICovXG5cbiAgICAvKipcbiAgICAgKiBDb25uZWN0cyBhIFRpbWluZ09iamVjdCB0byB0aGUgdmlkZW8gcGxheWVyIChodHRwczovL3dlYnRpbWluZy5naXRodWIuaW8vdGltaW5nb2JqZWN0LylcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VGltaW5nT2JqZWN0fSB0aW1pbmdPYmplY3RcbiAgICAgKiBAcGFyYW0ge1RpbWluZ1NyY0Nvbm5lY3Rvck9wdGlvbnN9IG9wdGlvbnNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8VGltaW5nU3JjQ29ubmVjdG9yPn1cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJzZXRUaW1pbmdTcmNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9zZXRUaW1pbmdTcmMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodGltaW5nT2JqZWN0LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuICAgICAgICB2YXIgY29ubmVjdG9yO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBpZiAodGltaW5nT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQSBUaW1pbmcgT2JqZWN0IG11c3QgYmUgcHJvdmlkZWQuJyk7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0O1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjb25uZWN0b3IgPSBuZXcgVGltaW5nU3JjQ29ubmVjdG9yKHRoaXMsIHRpbWluZ09iamVjdCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgIHBvc3RNZXNzYWdlKHRoaXMsICdub3RpZnlUaW1pbmdPYmplY3RDb25uZWN0Jyk7XG4gICAgICAgICAgICAgIGNvbm5lY3Rvci5hZGRFdmVudExpc3RlbmVyKCdkaXNjb25uZWN0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwb3N0TWVzc2FnZShfdGhpczYsICdub3RpZnlUaW1pbmdPYmplY3REaXNjb25uZWN0Jyk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGNvbm5lY3Rvcik7XG4gICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICAgIGZ1bmN0aW9uIHNldFRpbWluZ1NyYyhfeCwgX3gyKSB7XG4gICAgICAgIHJldHVybiBfc2V0VGltaW5nU3JjLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2V0VGltaW5nU3JjO1xuICAgIH0oKVxuICB9XSwgW3tcbiAgICBrZXk6IFwiaXNWaW1lb1VybFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc1ZpbWVvVXJsJDEodXJsKSB7XG4gICAgICByZXR1cm4gaXNWaW1lb1VybCh1cmwpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gUGxheWVyO1xufSgpOyAvLyBTZXR1cCBlbWJlZCBvbmx5IGlmIHRoaXMgaXMgbm90IGEgc2VydmVyIHJ1bnRpbWVcbmlmICghaXNTZXJ2ZXJSdW50aW1lKSB7XG4gIHNjcmVlbmZ1bGwgPSBpbml0aWFsaXplU2NyZWVuZnVsbCgpO1xuICBpbml0aWFsaXplRW1iZWRzKCk7XG4gIHJlc2l6ZUVtYmVkcygpO1xuICBpbml0QXBwZW5kVmlkZW9NZXRhZGF0YSgpO1xuICBjaGVja1VybFRpbWVQYXJhbSgpO1xuICBsb2dTdXJ2ZXlMaW5rKCk7XG4gIHVwZGF0ZURSTUVtYmVkcygpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBQbGF5ZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vimeo/player/dist/player.es.js\n"));

/***/ }),

/***/ "./node_modules/domelementtype/lib/index.js":
/*!**************************************************!*\
  !*** ./node_modules/domelementtype/lib/index.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Doctype = exports.CDATA = exports.Tag = exports.Style = exports.Script = exports.Comment = exports.Directive = exports.Text = exports.Root = exports.isTag = exports.ElementType = void 0;\n/** Types of elements found in htmlparser2's DOM */\nvar ElementType;\n(function (ElementType) {\n    /** Type for the root element of a document */\n    ElementType[\"Root\"] = \"root\";\n    /** Type for Text */\n    ElementType[\"Text\"] = \"text\";\n    /** Type for <? ... ?> */\n    ElementType[\"Directive\"] = \"directive\";\n    /** Type for <!-- ... --> */\n    ElementType[\"Comment\"] = \"comment\";\n    /** Type for <script> tags */\n    ElementType[\"Script\"] = \"script\";\n    /** Type for <style> tags */\n    ElementType[\"Style\"] = \"style\";\n    /** Type for Any tag */\n    ElementType[\"Tag\"] = \"tag\";\n    /** Type for <![CDATA[ ... ]]> */\n    ElementType[\"CDATA\"] = \"cdata\";\n    /** Type for <!doctype ...> */\n    ElementType[\"Doctype\"] = \"doctype\";\n})(ElementType = exports.ElementType || (exports.ElementType = {}));\n/**\n * Tests whether an element is a tag or not.\n *\n * @param elem Element to test\n */\nfunction isTag(elem) {\n    return (elem.type === ElementType.Tag ||\n        elem.type === ElementType.Script ||\n        elem.type === ElementType.Style);\n}\nexports.isTag = isTag;\n// Exports for backwards compatibility\n/** Type for the root element of a document */\nexports.Root = ElementType.Root;\n/** Type for Text */\nexports.Text = ElementType.Text;\n/** Type for <? ... ?> */\nexports.Directive = ElementType.Directive;\n/** Type for <!-- ... --> */\nexports.Comment = ElementType.Comment;\n/** Type for <script> tags */\nexports.Script = ElementType.Script;\n/** Type for <style> tags */\nexports.Style = ElementType.Style;\n/** Type for Any tag */\nexports.Tag = ElementType.Tag;\n/** Type for <![CDATA[ ... ]]> */\nexports.CDATA = ElementType.CDATA;\n/** Type for <!doctype ...> */\nexports.Doctype = ElementType.Doctype;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZG9tZWxlbWVudHR5cGUvbGliL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGVBQWUsR0FBRyxhQUFhLEdBQUcsV0FBVyxHQUFHLGFBQWEsR0FBRyxjQUFjLEdBQUcsZUFBZSxHQUFHLGlCQUFpQixHQUFHLFlBQVksR0FBRyxZQUFZLEdBQUcsYUFBYSxHQUFHLG1CQUFtQjtBQUN4TDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdDQUF3QyxtQkFBbUIsS0FBSztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsZUFBZTtBQUNmO0FBQ0EsY0FBYztBQUNkO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsV0FBVztBQUNYO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsZUFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvZG9tZWxlbWVudHR5cGUvbGliL2luZGV4LmpzP2NiYzUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRvY3R5cGUgPSBleHBvcnRzLkNEQVRBID0gZXhwb3J0cy5UYWcgPSBleHBvcnRzLlN0eWxlID0gZXhwb3J0cy5TY3JpcHQgPSBleHBvcnRzLkNvbW1lbnQgPSBleHBvcnRzLkRpcmVjdGl2ZSA9IGV4cG9ydHMuVGV4dCA9IGV4cG9ydHMuUm9vdCA9IGV4cG9ydHMuaXNUYWcgPSBleHBvcnRzLkVsZW1lbnRUeXBlID0gdm9pZCAwO1xuLyoqIFR5cGVzIG9mIGVsZW1lbnRzIGZvdW5kIGluIGh0bWxwYXJzZXIyJ3MgRE9NICovXG52YXIgRWxlbWVudFR5cGU7XG4oZnVuY3Rpb24gKEVsZW1lbnRUeXBlKSB7XG4gICAgLyoqIFR5cGUgZm9yIHRoZSByb290IGVsZW1lbnQgb2YgYSBkb2N1bWVudCAqL1xuICAgIEVsZW1lbnRUeXBlW1wiUm9vdFwiXSA9IFwicm9vdFwiO1xuICAgIC8qKiBUeXBlIGZvciBUZXh0ICovXG4gICAgRWxlbWVudFR5cGVbXCJUZXh0XCJdID0gXCJ0ZXh0XCI7XG4gICAgLyoqIFR5cGUgZm9yIDw/IC4uLiA/PiAqL1xuICAgIEVsZW1lbnRUeXBlW1wiRGlyZWN0aXZlXCJdID0gXCJkaXJlY3RpdmVcIjtcbiAgICAvKiogVHlwZSBmb3IgPCEtLSAuLi4gLS0+ICovXG4gICAgRWxlbWVudFR5cGVbXCJDb21tZW50XCJdID0gXCJjb21tZW50XCI7XG4gICAgLyoqIFR5cGUgZm9yIDxzY3JpcHQ+IHRhZ3MgKi9cbiAgICBFbGVtZW50VHlwZVtcIlNjcmlwdFwiXSA9IFwic2NyaXB0XCI7XG4gICAgLyoqIFR5cGUgZm9yIDxzdHlsZT4gdGFncyAqL1xuICAgIEVsZW1lbnRUeXBlW1wiU3R5bGVcIl0gPSBcInN0eWxlXCI7XG4gICAgLyoqIFR5cGUgZm9yIEFueSB0YWcgKi9cbiAgICBFbGVtZW50VHlwZVtcIlRhZ1wiXSA9IFwidGFnXCI7XG4gICAgLyoqIFR5cGUgZm9yIDwhW0NEQVRBWyAuLi4gXV0+ICovXG4gICAgRWxlbWVudFR5cGVbXCJDREFUQVwiXSA9IFwiY2RhdGFcIjtcbiAgICAvKiogVHlwZSBmb3IgPCFkb2N0eXBlIC4uLj4gKi9cbiAgICBFbGVtZW50VHlwZVtcIkRvY3R5cGVcIl0gPSBcImRvY3R5cGVcIjtcbn0pKEVsZW1lbnRUeXBlID0gZXhwb3J0cy5FbGVtZW50VHlwZSB8fCAoZXhwb3J0cy5FbGVtZW50VHlwZSA9IHt9KSk7XG4vKipcbiAqIFRlc3RzIHdoZXRoZXIgYW4gZWxlbWVudCBpcyBhIHRhZyBvciBub3QuXG4gKlxuICogQHBhcmFtIGVsZW0gRWxlbWVudCB0byB0ZXN0XG4gKi9cbmZ1bmN0aW9uIGlzVGFnKGVsZW0pIHtcbiAgICByZXR1cm4gKGVsZW0udHlwZSA9PT0gRWxlbWVudFR5cGUuVGFnIHx8XG4gICAgICAgIGVsZW0udHlwZSA9PT0gRWxlbWVudFR5cGUuU2NyaXB0IHx8XG4gICAgICAgIGVsZW0udHlwZSA9PT0gRWxlbWVudFR5cGUuU3R5bGUpO1xufVxuZXhwb3J0cy5pc1RhZyA9IGlzVGFnO1xuLy8gRXhwb3J0cyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbi8qKiBUeXBlIGZvciB0aGUgcm9vdCBlbGVtZW50IG9mIGEgZG9jdW1lbnQgKi9cbmV4cG9ydHMuUm9vdCA9IEVsZW1lbnRUeXBlLlJvb3Q7XG4vKiogVHlwZSBmb3IgVGV4dCAqL1xuZXhwb3J0cy5UZXh0ID0gRWxlbWVudFR5cGUuVGV4dDtcbi8qKiBUeXBlIGZvciA8PyAuLi4gPz4gKi9cbmV4cG9ydHMuRGlyZWN0aXZlID0gRWxlbWVudFR5cGUuRGlyZWN0aXZlO1xuLyoqIFR5cGUgZm9yIDwhLS0gLi4uIC0tPiAqL1xuZXhwb3J0cy5Db21tZW50ID0gRWxlbWVudFR5cGUuQ29tbWVudDtcbi8qKiBUeXBlIGZvciA8c2NyaXB0PiB0YWdzICovXG5leHBvcnRzLlNjcmlwdCA9IEVsZW1lbnRUeXBlLlNjcmlwdDtcbi8qKiBUeXBlIGZvciA8c3R5bGU+IHRhZ3MgKi9cbmV4cG9ydHMuU3R5bGUgPSBFbGVtZW50VHlwZS5TdHlsZTtcbi8qKiBUeXBlIGZvciBBbnkgdGFnICovXG5leHBvcnRzLlRhZyA9IEVsZW1lbnRUeXBlLlRhZztcbi8qKiBUeXBlIGZvciA8IVtDREFUQVsgLi4uIF1dPiAqL1xuZXhwb3J0cy5DREFUQSA9IEVsZW1lbnRUeXBlLkNEQVRBO1xuLyoqIFR5cGUgZm9yIDwhZG9jdHlwZSAuLi4+ICovXG5leHBvcnRzLkRvY3R5cGUgPSBFbGVtZW50VHlwZS5Eb2N0eXBlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/domelementtype/lib/index.js\n"));

/***/ }),

/***/ "./node_modules/domhandler/lib/index.js":
/*!**********************************************!*\
  !*** ./node_modules/domhandler/lib/index.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.DomHandler = void 0;\nvar domelementtype_1 = __webpack_require__(/*! domelementtype */ \"./node_modules/domelementtype/lib/index.js\");\nvar node_js_1 = __webpack_require__(/*! ./node.js */ \"./node_modules/domhandler/lib/node.js\");\n__exportStar(__webpack_require__(/*! ./node.js */ \"./node_modules/domhandler/lib/node.js\"), exports);\n// Default options\nvar defaultOpts = {\n    withStartIndices: false,\n    withEndIndices: false,\n    xmlMode: false,\n};\nvar DomHandler = /** @class */ (function () {\n    /**\n     * @param callback Called once parsing has completed.\n     * @param options Settings for the handler.\n     * @param elementCB Callback whenever a tag is closed.\n     */\n    function DomHandler(callback, options, elementCB) {\n        /** The elements of the DOM */\n        this.dom = [];\n        /** The root element for the DOM */\n        this.root = new node_js_1.Document(this.dom);\n        /** Indicated whether parsing has been completed. */\n        this.done = false;\n        /** Stack of open tags. */\n        this.tagStack = [this.root];\n        /** A data node that is still being written to. */\n        this.lastNode = null;\n        /** Reference to the parser instance. Used for location information. */\n        this.parser = null;\n        // Make it possible to skip arguments, for backwards-compatibility\n        if (typeof options === \"function\") {\n            elementCB = options;\n            options = defaultOpts;\n        }\n        if (typeof callback === \"object\") {\n            options = callback;\n            callback = undefined;\n        }\n        this.callback = callback !== null && callback !== void 0 ? callback : null;\n        this.options = options !== null && options !== void 0 ? options : defaultOpts;\n        this.elementCB = elementCB !== null && elementCB !== void 0 ? elementCB : null;\n    }\n    DomHandler.prototype.onparserinit = function (parser) {\n        this.parser = parser;\n    };\n    // Resets the handler back to starting state\n    DomHandler.prototype.onreset = function () {\n        this.dom = [];\n        this.root = new node_js_1.Document(this.dom);\n        this.done = false;\n        this.tagStack = [this.root];\n        this.lastNode = null;\n        this.parser = null;\n    };\n    // Signals the handler that parsing is done\n    DomHandler.prototype.onend = function () {\n        if (this.done)\n            return;\n        this.done = true;\n        this.parser = null;\n        this.handleCallback(null);\n    };\n    DomHandler.prototype.onerror = function (error) {\n        this.handleCallback(error);\n    };\n    DomHandler.prototype.onclosetag = function () {\n        this.lastNode = null;\n        var elem = this.tagStack.pop();\n        if (this.options.withEndIndices) {\n            elem.endIndex = this.parser.endIndex;\n        }\n        if (this.elementCB)\n            this.elementCB(elem);\n    };\n    DomHandler.prototype.onopentag = function (name, attribs) {\n        var type = this.options.xmlMode ? domelementtype_1.ElementType.Tag : undefined;\n        var element = new node_js_1.Element(name, attribs, undefined, type);\n        this.addNode(element);\n        this.tagStack.push(element);\n    };\n    DomHandler.prototype.ontext = function (data) {\n        var lastNode = this.lastNode;\n        if (lastNode && lastNode.type === domelementtype_1.ElementType.Text) {\n            lastNode.data += data;\n            if (this.options.withEndIndices) {\n                lastNode.endIndex = this.parser.endIndex;\n            }\n        }\n        else {\n            var node = new node_js_1.Text(data);\n            this.addNode(node);\n            this.lastNode = node;\n        }\n    };\n    DomHandler.prototype.oncomment = function (data) {\n        if (this.lastNode && this.lastNode.type === domelementtype_1.ElementType.Comment) {\n            this.lastNode.data += data;\n            return;\n        }\n        var node = new node_js_1.Comment(data);\n        this.addNode(node);\n        this.lastNode = node;\n    };\n    DomHandler.prototype.oncommentend = function () {\n        this.lastNode = null;\n    };\n    DomHandler.prototype.oncdatastart = function () {\n        var text = new node_js_1.Text(\"\");\n        var node = new node_js_1.CDATA([text]);\n        this.addNode(node);\n        text.parent = node;\n        this.lastNode = text;\n    };\n    DomHandler.prototype.oncdataend = function () {\n        this.lastNode = null;\n    };\n    DomHandler.prototype.onprocessinginstruction = function (name, data) {\n        var node = new node_js_1.ProcessingInstruction(name, data);\n        this.addNode(node);\n    };\n    DomHandler.prototype.handleCallback = function (error) {\n        if (typeof this.callback === \"function\") {\n            this.callback(error, this.dom);\n        }\n        else if (error) {\n            throw error;\n        }\n    };\n    DomHandler.prototype.addNode = function (node) {\n        var parent = this.tagStack[this.tagStack.length - 1];\n        var previousSibling = parent.children[parent.children.length - 1];\n        if (this.options.withStartIndices) {\n            node.startIndex = this.parser.startIndex;\n        }\n        if (this.options.withEndIndices) {\n            node.endIndex = this.parser.endIndex;\n        }\n        parent.children.push(node);\n        if (previousSibling) {\n            node.prev = previousSibling;\n            previousSibling.next = node;\n        }\n        node.parent = parent;\n        this.lastNode = null;\n    };\n    return DomHandler;\n}());\nexports.DomHandler = DomHandler;\nexports[\"default\"] = DomHandler;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZG9taGFuZGxlci9saWIvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0NBQW9DO0FBQ25EO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCO0FBQ2xCLHVCQUF1QixtQkFBTyxDQUFDLGtFQUFnQjtBQUMvQyxnQkFBZ0IsbUJBQU8sQ0FBQyx3REFBVztBQUNuQyxhQUFhLG1CQUFPLENBQUMsd0RBQVc7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWtCO0FBQ2xCLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9kb21oYW5kbGVyL2xpYi9pbmRleC5qcz8yOTgxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRvbUhhbmRsZXIgPSB2b2lkIDA7XG52YXIgZG9tZWxlbWVudHR5cGVfMSA9IHJlcXVpcmUoXCJkb21lbGVtZW50dHlwZVwiKTtcbnZhciBub2RlX2pzXzEgPSByZXF1aXJlKFwiLi9ub2RlLmpzXCIpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL25vZGUuanNcIiksIGV4cG9ydHMpO1xuLy8gRGVmYXVsdCBvcHRpb25zXG52YXIgZGVmYXVsdE9wdHMgPSB7XG4gICAgd2l0aFN0YXJ0SW5kaWNlczogZmFsc2UsXG4gICAgd2l0aEVuZEluZGljZXM6IGZhbHNlLFxuICAgIHhtbE1vZGU6IGZhbHNlLFxufTtcbnZhciBEb21IYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjYWxsYmFjayBDYWxsZWQgb25jZSBwYXJzaW5nIGhhcyBjb21wbGV0ZWQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgU2V0dGluZ3MgZm9yIHRoZSBoYW5kbGVyLlxuICAgICAqIEBwYXJhbSBlbGVtZW50Q0IgQ2FsbGJhY2sgd2hlbmV2ZXIgYSB0YWcgaXMgY2xvc2VkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERvbUhhbmRsZXIoY2FsbGJhY2ssIG9wdGlvbnMsIGVsZW1lbnRDQikge1xuICAgICAgICAvKiogVGhlIGVsZW1lbnRzIG9mIHRoZSBET00gKi9cbiAgICAgICAgdGhpcy5kb20gPSBbXTtcbiAgICAgICAgLyoqIFRoZSByb290IGVsZW1lbnQgZm9yIHRoZSBET00gKi9cbiAgICAgICAgdGhpcy5yb290ID0gbmV3IG5vZGVfanNfMS5Eb2N1bWVudCh0aGlzLmRvbSk7XG4gICAgICAgIC8qKiBJbmRpY2F0ZWQgd2hldGhlciBwYXJzaW5nIGhhcyBiZWVuIGNvbXBsZXRlZC4gKi9cbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIC8qKiBTdGFjayBvZiBvcGVuIHRhZ3MuICovXG4gICAgICAgIHRoaXMudGFnU3RhY2sgPSBbdGhpcy5yb290XTtcbiAgICAgICAgLyoqIEEgZGF0YSBub2RlIHRoYXQgaXMgc3RpbGwgYmVpbmcgd3JpdHRlbiB0by4gKi9cbiAgICAgICAgdGhpcy5sYXN0Tm9kZSA9IG51bGw7XG4gICAgICAgIC8qKiBSZWZlcmVuY2UgdG8gdGhlIHBhcnNlciBpbnN0YW5jZS4gVXNlZCBmb3IgbG9jYXRpb24gaW5mb3JtYXRpb24uICovXG4gICAgICAgIHRoaXMucGFyc2VyID0gbnVsbDtcbiAgICAgICAgLy8gTWFrZSBpdCBwb3NzaWJsZSB0byBza2lwIGFyZ3VtZW50cywgZm9yIGJhY2t3YXJkcy1jb21wYXRpYmlsaXR5XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBlbGVtZW50Q0IgPSBvcHRpb25zO1xuICAgICAgICAgICAgb3B0aW9ucyA9IGRlZmF1bHRPcHRzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBjYWxsYmFjaztcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjayAhPT0gbnVsbCAmJiBjYWxsYmFjayAhPT0gdm9pZCAwID8gY2FsbGJhY2sgOiBudWxsO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zICE9PSBudWxsICYmIG9wdGlvbnMgIT09IHZvaWQgMCA/IG9wdGlvbnMgOiBkZWZhdWx0T3B0cztcbiAgICAgICAgdGhpcy5lbGVtZW50Q0IgPSBlbGVtZW50Q0IgIT09IG51bGwgJiYgZWxlbWVudENCICE9PSB2b2lkIDAgPyBlbGVtZW50Q0IgOiBudWxsO1xuICAgIH1cbiAgICBEb21IYW5kbGVyLnByb3RvdHlwZS5vbnBhcnNlcmluaXQgPSBmdW5jdGlvbiAocGFyc2VyKSB7XG4gICAgICAgIHRoaXMucGFyc2VyID0gcGFyc2VyO1xuICAgIH07XG4gICAgLy8gUmVzZXRzIHRoZSBoYW5kbGVyIGJhY2sgdG8gc3RhcnRpbmcgc3RhdGVcbiAgICBEb21IYW5kbGVyLnByb3RvdHlwZS5vbnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRvbSA9IFtdO1xuICAgICAgICB0aGlzLnJvb3QgPSBuZXcgbm9kZV9qc18xLkRvY3VtZW50KHRoaXMuZG9tKTtcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMudGFnU3RhY2sgPSBbdGhpcy5yb290XTtcbiAgICAgICAgdGhpcy5sYXN0Tm9kZSA9IG51bGw7XG4gICAgICAgIHRoaXMucGFyc2VyID0gbnVsbDtcbiAgICB9O1xuICAgIC8vIFNpZ25hbHMgdGhlIGhhbmRsZXIgdGhhdCBwYXJzaW5nIGlzIGRvbmVcbiAgICBEb21IYW5kbGVyLnByb3RvdHlwZS5vbmVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZG9uZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5wYXJzZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmhhbmRsZUNhbGxiYWNrKG51bGwpO1xuICAgIH07XG4gICAgRG9tSGFuZGxlci5wcm90b3R5cGUub25lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB0aGlzLmhhbmRsZUNhbGxiYWNrKGVycm9yKTtcbiAgICB9O1xuICAgIERvbUhhbmRsZXIucHJvdG90eXBlLm9uY2xvc2V0YWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubGFzdE5vZGUgPSBudWxsO1xuICAgICAgICB2YXIgZWxlbSA9IHRoaXMudGFnU3RhY2sucG9wKCk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMud2l0aEVuZEluZGljZXMpIHtcbiAgICAgICAgICAgIGVsZW0uZW5kSW5kZXggPSB0aGlzLnBhcnNlci5lbmRJbmRleDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lbGVtZW50Q0IpXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRDQihlbGVtKTtcbiAgICB9O1xuICAgIERvbUhhbmRsZXIucHJvdG90eXBlLm9ub3BlbnRhZyA9IGZ1bmN0aW9uIChuYW1lLCBhdHRyaWJzKSB7XG4gICAgICAgIHZhciB0eXBlID0gdGhpcy5vcHRpb25zLnhtbE1vZGUgPyBkb21lbGVtZW50dHlwZV8xLkVsZW1lbnRUeXBlLlRhZyA6IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBuZXcgbm9kZV9qc18xLkVsZW1lbnQobmFtZSwgYXR0cmlicywgdW5kZWZpbmVkLCB0eXBlKTtcbiAgICAgICAgdGhpcy5hZGROb2RlKGVsZW1lbnQpO1xuICAgICAgICB0aGlzLnRhZ1N0YWNrLnB1c2goZWxlbWVudCk7XG4gICAgfTtcbiAgICBEb21IYW5kbGVyLnByb3RvdHlwZS5vbnRleHQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgbGFzdE5vZGUgPSB0aGlzLmxhc3ROb2RlO1xuICAgICAgICBpZiAobGFzdE5vZGUgJiYgbGFzdE5vZGUudHlwZSA9PT0gZG9tZWxlbWVudHR5cGVfMS5FbGVtZW50VHlwZS5UZXh0KSB7XG4gICAgICAgICAgICBsYXN0Tm9kZS5kYXRhICs9IGRhdGE7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLndpdGhFbmRJbmRpY2VzKSB7XG4gICAgICAgICAgICAgICAgbGFzdE5vZGUuZW5kSW5kZXggPSB0aGlzLnBhcnNlci5lbmRJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBub2RlID0gbmV3IG5vZGVfanNfMS5UZXh0KGRhdGEpO1xuICAgICAgICAgICAgdGhpcy5hZGROb2RlKG5vZGUpO1xuICAgICAgICAgICAgdGhpcy5sYXN0Tm9kZSA9IG5vZGU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERvbUhhbmRsZXIucHJvdG90eXBlLm9uY29tbWVudCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmICh0aGlzLmxhc3ROb2RlICYmIHRoaXMubGFzdE5vZGUudHlwZSA9PT0gZG9tZWxlbWVudHR5cGVfMS5FbGVtZW50VHlwZS5Db21tZW50KSB7XG4gICAgICAgICAgICB0aGlzLmxhc3ROb2RlLmRhdGEgKz0gZGF0YTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbm9kZSA9IG5ldyBub2RlX2pzXzEuQ29tbWVudChkYXRhKTtcbiAgICAgICAgdGhpcy5hZGROb2RlKG5vZGUpO1xuICAgICAgICB0aGlzLmxhc3ROb2RlID0gbm9kZTtcbiAgICB9O1xuICAgIERvbUhhbmRsZXIucHJvdG90eXBlLm9uY29tbWVudGVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sYXN0Tm9kZSA9IG51bGw7XG4gICAgfTtcbiAgICBEb21IYW5kbGVyLnByb3RvdHlwZS5vbmNkYXRhc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ZXh0ID0gbmV3IG5vZGVfanNfMS5UZXh0KFwiXCIpO1xuICAgICAgICB2YXIgbm9kZSA9IG5ldyBub2RlX2pzXzEuQ0RBVEEoW3RleHRdKTtcbiAgICAgICAgdGhpcy5hZGROb2RlKG5vZGUpO1xuICAgICAgICB0ZXh0LnBhcmVudCA9IG5vZGU7XG4gICAgICAgIHRoaXMubGFzdE5vZGUgPSB0ZXh0O1xuICAgIH07XG4gICAgRG9tSGFuZGxlci5wcm90b3R5cGUub25jZGF0YWVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sYXN0Tm9kZSA9IG51bGw7XG4gICAgfTtcbiAgICBEb21IYW5kbGVyLnByb3RvdHlwZS5vbnByb2Nlc3NpbmdpbnN0cnVjdGlvbiA9IGZ1bmN0aW9uIChuYW1lLCBkYXRhKSB7XG4gICAgICAgIHZhciBub2RlID0gbmV3IG5vZGVfanNfMS5Qcm9jZXNzaW5nSW5zdHJ1Y3Rpb24obmFtZSwgZGF0YSk7XG4gICAgICAgIHRoaXMuYWRkTm9kZShub2RlKTtcbiAgICB9O1xuICAgIERvbUhhbmRsZXIucHJvdG90eXBlLmhhbmRsZUNhbGxiYWNrID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5jYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrKGVycm9yLCB0aGlzLmRvbSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEb21IYW5kbGVyLnByb3RvdHlwZS5hZGROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMudGFnU3RhY2tbdGhpcy50YWdTdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgdmFyIHByZXZpb3VzU2libGluZyA9IHBhcmVudC5jaGlsZHJlbltwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMud2l0aFN0YXJ0SW5kaWNlcykge1xuICAgICAgICAgICAgbm9kZS5zdGFydEluZGV4ID0gdGhpcy5wYXJzZXIuc3RhcnRJbmRleDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLndpdGhFbmRJbmRpY2VzKSB7XG4gICAgICAgICAgICBub2RlLmVuZEluZGV4ID0gdGhpcy5wYXJzZXIuZW5kSW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50LmNoaWxkcmVuLnB1c2gobm9kZSk7XG4gICAgICAgIGlmIChwcmV2aW91c1NpYmxpbmcpIHtcbiAgICAgICAgICAgIG5vZGUucHJldiA9IHByZXZpb3VzU2libGluZztcbiAgICAgICAgICAgIHByZXZpb3VzU2libGluZy5uZXh0ID0gbm9kZTtcbiAgICAgICAgfVxuICAgICAgICBub2RlLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5sYXN0Tm9kZSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gRG9tSGFuZGxlcjtcbn0oKSk7XG5leHBvcnRzLkRvbUhhbmRsZXIgPSBEb21IYW5kbGVyO1xuZXhwb3J0cy5kZWZhdWx0ID0gRG9tSGFuZGxlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/domhandler/lib/index.js\n"));

/***/ }),

/***/ "./node_modules/domhandler/lib/node.js":
/*!*********************************************!*\
  !*** ./node_modules/domhandler/lib/node.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.cloneNode = exports.hasChildren = exports.isDocument = exports.isDirective = exports.isComment = exports.isText = exports.isCDATA = exports.isTag = exports.Element = exports.Document = exports.CDATA = exports.NodeWithChildren = exports.ProcessingInstruction = exports.Comment = exports.Text = exports.DataNode = exports.Node = void 0;\nvar domelementtype_1 = __webpack_require__(/*! domelementtype */ \"./node_modules/domelementtype/lib/index.js\");\n/**\n * This object will be used as the prototype for Nodes when creating a\n * DOM-Level-1-compliant structure.\n */\nvar Node = /** @class */ (function () {\n    function Node() {\n        /** Parent of the node */\n        this.parent = null;\n        /** Previous sibling */\n        this.prev = null;\n        /** Next sibling */\n        this.next = null;\n        /** The start index of the node. Requires `withStartIndices` on the handler to be `true. */\n        this.startIndex = null;\n        /** The end index of the node. Requires `withEndIndices` on the handler to be `true. */\n        this.endIndex = null;\n    }\n    Object.defineProperty(Node.prototype, \"parentNode\", {\n        // Read-write aliases for properties\n        /**\n         * Same as {@link parent}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.parent;\n        },\n        set: function (parent) {\n            this.parent = parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"previousSibling\", {\n        /**\n         * Same as {@link prev}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.prev;\n        },\n        set: function (prev) {\n            this.prev = prev;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"nextSibling\", {\n        /**\n         * Same as {@link next}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.next;\n        },\n        set: function (next) {\n            this.next = next;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Clone this node, and optionally its children.\n     *\n     * @param recursive Clone child nodes as well.\n     * @returns A clone of the node.\n     */\n    Node.prototype.cloneNode = function (recursive) {\n        if (recursive === void 0) { recursive = false; }\n        return cloneNode(this, recursive);\n    };\n    return Node;\n}());\nexports.Node = Node;\n/**\n * A node that contains some data.\n */\nvar DataNode = /** @class */ (function (_super) {\n    __extends(DataNode, _super);\n    /**\n     * @param data The content of the data node\n     */\n    function DataNode(data) {\n        var _this = _super.call(this) || this;\n        _this.data = data;\n        return _this;\n    }\n    Object.defineProperty(DataNode.prototype, \"nodeValue\", {\n        /**\n         * Same as {@link data}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.data;\n        },\n        set: function (data) {\n            this.data = data;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return DataNode;\n}(Node));\nexports.DataNode = DataNode;\n/**\n * Text within the document.\n */\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.Text;\n        return _this;\n    }\n    Object.defineProperty(Text.prototype, \"nodeType\", {\n        get: function () {\n            return 3;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Text;\n}(DataNode));\nexports.Text = Text;\n/**\n * Comments within the document.\n */\nvar Comment = /** @class */ (function (_super) {\n    __extends(Comment, _super);\n    function Comment() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.Comment;\n        return _this;\n    }\n    Object.defineProperty(Comment.prototype, \"nodeType\", {\n        get: function () {\n            return 8;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Comment;\n}(DataNode));\nexports.Comment = Comment;\n/**\n * Processing instructions, including doc types.\n */\nvar ProcessingInstruction = /** @class */ (function (_super) {\n    __extends(ProcessingInstruction, _super);\n    function ProcessingInstruction(name, data) {\n        var _this = _super.call(this, data) || this;\n        _this.name = name;\n        _this.type = domelementtype_1.ElementType.Directive;\n        return _this;\n    }\n    Object.defineProperty(ProcessingInstruction.prototype, \"nodeType\", {\n        get: function () {\n            return 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ProcessingInstruction;\n}(DataNode));\nexports.ProcessingInstruction = ProcessingInstruction;\n/**\n * A `Node` that can have children.\n */\nvar NodeWithChildren = /** @class */ (function (_super) {\n    __extends(NodeWithChildren, _super);\n    /**\n     * @param children Children of the node. Only certain node types can have children.\n     */\n    function NodeWithChildren(children) {\n        var _this = _super.call(this) || this;\n        _this.children = children;\n        return _this;\n    }\n    Object.defineProperty(NodeWithChildren.prototype, \"firstChild\", {\n        // Aliases\n        /** First child of the node. */\n        get: function () {\n            var _a;\n            return (_a = this.children[0]) !== null && _a !== void 0 ? _a : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"lastChild\", {\n        /** Last child of the node. */\n        get: function () {\n            return this.children.length > 0\n                ? this.children[this.children.length - 1]\n                : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"childNodes\", {\n        /**\n         * Same as {@link children}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.children;\n        },\n        set: function (children) {\n            this.children = children;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return NodeWithChildren;\n}(Node));\nexports.NodeWithChildren = NodeWithChildren;\nvar CDATA = /** @class */ (function (_super) {\n    __extends(CDATA, _super);\n    function CDATA() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.CDATA;\n        return _this;\n    }\n    Object.defineProperty(CDATA.prototype, \"nodeType\", {\n        get: function () {\n            return 4;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return CDATA;\n}(NodeWithChildren));\nexports.CDATA = CDATA;\n/**\n * The root node of the document.\n */\nvar Document = /** @class */ (function (_super) {\n    __extends(Document, _super);\n    function Document() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.Root;\n        return _this;\n    }\n    Object.defineProperty(Document.prototype, \"nodeType\", {\n        get: function () {\n            return 9;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Document;\n}(NodeWithChildren));\nexports.Document = Document;\n/**\n * An element within the DOM.\n */\nvar Element = /** @class */ (function (_super) {\n    __extends(Element, _super);\n    /**\n     * @param name Name of the tag, eg. `div`, `span`.\n     * @param attribs Object mapping attribute names to attribute values.\n     * @param children Children of the node.\n     */\n    function Element(name, attribs, children, type) {\n        if (children === void 0) { children = []; }\n        if (type === void 0) { type = name === \"script\"\n            ? domelementtype_1.ElementType.Script\n            : name === \"style\"\n                ? domelementtype_1.ElementType.Style\n                : domelementtype_1.ElementType.Tag; }\n        var _this = _super.call(this, children) || this;\n        _this.name = name;\n        _this.attribs = attribs;\n        _this.type = type;\n        return _this;\n    }\n    Object.defineProperty(Element.prototype, \"nodeType\", {\n        get: function () {\n            return 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"tagName\", {\n        // DOM Level 1 aliases\n        /**\n         * Same as {@link name}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.name;\n        },\n        set: function (name) {\n            this.name = name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"attributes\", {\n        get: function () {\n            var _this = this;\n            return Object.keys(this.attribs).map(function (name) {\n                var _a, _b;\n                return ({\n                    name: name,\n                    value: _this.attribs[name],\n                    namespace: (_a = _this[\"x-attribsNamespace\"]) === null || _a === void 0 ? void 0 : _a[name],\n                    prefix: (_b = _this[\"x-attribsPrefix\"]) === null || _b === void 0 ? void 0 : _b[name],\n                });\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Element;\n}(NodeWithChildren));\nexports.Element = Element;\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `Element`, `false` otherwise.\n */\nfunction isTag(node) {\n    return (0, domelementtype_1.isTag)(node);\n}\nexports.isTag = isTag;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `CDATA`, `false` otherwise.\n */\nfunction isCDATA(node) {\n    return node.type === domelementtype_1.ElementType.CDATA;\n}\nexports.isCDATA = isCDATA;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `Text`, `false` otherwise.\n */\nfunction isText(node) {\n    return node.type === domelementtype_1.ElementType.Text;\n}\nexports.isText = isText;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `Comment`, `false` otherwise.\n */\nfunction isComment(node) {\n    return node.type === domelementtype_1.ElementType.Comment;\n}\nexports.isComment = isComment;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.\n */\nfunction isDirective(node) {\n    return node.type === domelementtype_1.ElementType.Directive;\n}\nexports.isDirective = isDirective;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.\n */\nfunction isDocument(node) {\n    return node.type === domelementtype_1.ElementType.Root;\n}\nexports.isDocument = isDocument;\n/**\n * @param node Node to check.\n * @returns `true` if the node has children, `false` otherwise.\n */\nfunction hasChildren(node) {\n    return Object.prototype.hasOwnProperty.call(node, \"children\");\n}\nexports.hasChildren = hasChildren;\n/**\n * Clone a node, and optionally its children.\n *\n * @param recursive Clone child nodes as well.\n * @returns A clone of the node.\n */\nfunction cloneNode(node, recursive) {\n    if (recursive === void 0) { recursive = false; }\n    var result;\n    if (isText(node)) {\n        result = new Text(node.data);\n    }\n    else if (isComment(node)) {\n        result = new Comment(node.data);\n    }\n    else if (isTag(node)) {\n        var children = recursive ? cloneChildren(node.children) : [];\n        var clone_1 = new Element(node.name, __assign({}, node.attribs), children);\n        children.forEach(function (child) { return (child.parent = clone_1); });\n        if (node.namespace != null) {\n            clone_1.namespace = node.namespace;\n        }\n        if (node[\"x-attribsNamespace\"]) {\n            clone_1[\"x-attribsNamespace\"] = __assign({}, node[\"x-attribsNamespace\"]);\n        }\n        if (node[\"x-attribsPrefix\"]) {\n            clone_1[\"x-attribsPrefix\"] = __assign({}, node[\"x-attribsPrefix\"]);\n        }\n        result = clone_1;\n    }\n    else if (isCDATA(node)) {\n        var children = recursive ? cloneChildren(node.children) : [];\n        var clone_2 = new CDATA(children);\n        children.forEach(function (child) { return (child.parent = clone_2); });\n        result = clone_2;\n    }\n    else if (isDocument(node)) {\n        var children = recursive ? cloneChildren(node.children) : [];\n        var clone_3 = new Document(children);\n        children.forEach(function (child) { return (child.parent = clone_3); });\n        if (node[\"x-mode\"]) {\n            clone_3[\"x-mode\"] = node[\"x-mode\"];\n        }\n        result = clone_3;\n    }\n    else if (isDirective(node)) {\n        var instruction = new ProcessingInstruction(node.name, node.data);\n        if (node[\"x-name\"] != null) {\n            instruction[\"x-name\"] = node[\"x-name\"];\n            instruction[\"x-publicId\"] = node[\"x-publicId\"];\n            instruction[\"x-systemId\"] = node[\"x-systemId\"];\n        }\n        result = instruction;\n    }\n    else {\n        throw new Error(\"Not implemented yet: \".concat(node.type));\n    }\n    result.startIndex = node.startIndex;\n    result.endIndex = node.endIndex;\n    if (node.sourceCodeLocation != null) {\n        result.sourceCodeLocation = node.sourceCodeLocation;\n    }\n    return result;\n}\nexports.cloneNode = cloneNode;\nfunction cloneChildren(childs) {\n    var children = childs.map(function (child) { return cloneNode(child, true); });\n    for (var i = 1; i < children.length; i++) {\n        children[i].prev = children[i - 1];\n        children[i - 1].next = children[i];\n    }\n    return children;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZG9taGFuZGxlci9saWIvbm9kZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDdkYsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQixHQUFHLG1CQUFtQixHQUFHLGtCQUFrQixHQUFHLG1CQUFtQixHQUFHLGlCQUFpQixHQUFHLGNBQWMsR0FBRyxlQUFlLEdBQUcsYUFBYSxHQUFHLGVBQWUsR0FBRyxnQkFBZ0IsR0FBRyxhQUFhLEdBQUcsd0JBQXdCLEdBQUcsNkJBQTZCLEdBQUcsZUFBZSxHQUFHLFlBQVksR0FBRyxnQkFBZ0IsR0FBRyxZQUFZO0FBQzVVLHVCQUF1QixtQkFBTyxDQUFDLGtFQUFnQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGFBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxvQkFBb0IsV0FBVztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLG9CQUFvQixXQUFXO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixXQUFXO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDRCxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDRCxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDRCxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQztBQUNELDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxvQkFBb0IsZUFBZTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0Qsd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0QsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0QsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkMsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFdBQVc7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDRCxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hELDRDQUE0QyxrQ0FBa0M7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsa0NBQWtDO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsa0NBQWtDO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlEQUFpRCxnQ0FBZ0M7QUFDakYsb0JBQW9CLHFCQUFxQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9kb21oYW5kbGVyL2xpYi9ub2RlLmpzPzJhM2MiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY2xvbmVOb2RlID0gZXhwb3J0cy5oYXNDaGlsZHJlbiA9IGV4cG9ydHMuaXNEb2N1bWVudCA9IGV4cG9ydHMuaXNEaXJlY3RpdmUgPSBleHBvcnRzLmlzQ29tbWVudCA9IGV4cG9ydHMuaXNUZXh0ID0gZXhwb3J0cy5pc0NEQVRBID0gZXhwb3J0cy5pc1RhZyA9IGV4cG9ydHMuRWxlbWVudCA9IGV4cG9ydHMuRG9jdW1lbnQgPSBleHBvcnRzLkNEQVRBID0gZXhwb3J0cy5Ob2RlV2l0aENoaWxkcmVuID0gZXhwb3J0cy5Qcm9jZXNzaW5nSW5zdHJ1Y3Rpb24gPSBleHBvcnRzLkNvbW1lbnQgPSBleHBvcnRzLlRleHQgPSBleHBvcnRzLkRhdGFOb2RlID0gZXhwb3J0cy5Ob2RlID0gdm9pZCAwO1xudmFyIGRvbWVsZW1lbnR0eXBlXzEgPSByZXF1aXJlKFwiZG9tZWxlbWVudHR5cGVcIik7XG4vKipcbiAqIFRoaXMgb2JqZWN0IHdpbGwgYmUgdXNlZCBhcyB0aGUgcHJvdG90eXBlIGZvciBOb2RlcyB3aGVuIGNyZWF0aW5nIGFcbiAqIERPTS1MZXZlbC0xLWNvbXBsaWFudCBzdHJ1Y3R1cmUuXG4gKi9cbnZhciBOb2RlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5vZGUoKSB7XG4gICAgICAgIC8qKiBQYXJlbnQgb2YgdGhlIG5vZGUgKi9cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAvKiogUHJldmlvdXMgc2libGluZyAqL1xuICAgICAgICB0aGlzLnByZXYgPSBudWxsO1xuICAgICAgICAvKiogTmV4dCBzaWJsaW5nICovXG4gICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgICAgIC8qKiBUaGUgc3RhcnQgaW5kZXggb2YgdGhlIG5vZGUuIFJlcXVpcmVzIGB3aXRoU3RhcnRJbmRpY2VzYCBvbiB0aGUgaGFuZGxlciB0byBiZSBgdHJ1ZS4gKi9cbiAgICAgICAgdGhpcy5zdGFydEluZGV4ID0gbnVsbDtcbiAgICAgICAgLyoqIFRoZSBlbmQgaW5kZXggb2YgdGhlIG5vZGUuIFJlcXVpcmVzIGB3aXRoRW5kSW5kaWNlc2Agb24gdGhlIGhhbmRsZXIgdG8gYmUgYHRydWUuICovXG4gICAgICAgIHRoaXMuZW5kSW5kZXggPSBudWxsO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZS5wcm90b3R5cGUsIFwicGFyZW50Tm9kZVwiLCB7XG4gICAgICAgIC8vIFJlYWQtd3JpdGUgYWxpYXNlcyBmb3IgcHJvcGVydGllc1xuICAgICAgICAvKipcbiAgICAgICAgICogU2FtZSBhcyB7QGxpbmsgcGFyZW50fS5cbiAgICAgICAgICogW0RPTSBzcGVjXShodHRwczovL2RvbS5zcGVjLndoYXR3Zy5vcmcpLWNvbXBhdGlibGUgYWxpYXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlLnByb3RvdHlwZSwgXCJwcmV2aW91c1NpYmxpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2FtZSBhcyB7QGxpbmsgcHJldn0uXG4gICAgICAgICAqIFtET00gc3BlY10oaHR0cHM6Ly9kb20uc3BlYy53aGF0d2cub3JnKS1jb21wYXRpYmxlIGFsaWFzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcmV2O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChwcmV2KSB7XG4gICAgICAgICAgICB0aGlzLnByZXYgPSBwcmV2O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGUucHJvdG90eXBlLCBcIm5leHRTaWJsaW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNhbWUgYXMge0BsaW5rIG5leHR9LlxuICAgICAgICAgKiBbRE9NIHNwZWNdKGh0dHBzOi8vZG9tLnNwZWMud2hhdHdnLm9yZyktY29tcGF0aWJsZSBhbGlhcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubmV4dDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgICAgICAgdGhpcy5uZXh0ID0gbmV4dDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENsb25lIHRoaXMgbm9kZSwgYW5kIG9wdGlvbmFsbHkgaXRzIGNoaWxkcmVuLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJlY3Vyc2l2ZSBDbG9uZSBjaGlsZCBub2RlcyBhcyB3ZWxsLlxuICAgICAqIEByZXR1cm5zIEEgY2xvbmUgb2YgdGhlIG5vZGUuXG4gICAgICovXG4gICAgTm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlID0gZnVuY3Rpb24gKHJlY3Vyc2l2ZSkge1xuICAgICAgICBpZiAocmVjdXJzaXZlID09PSB2b2lkIDApIHsgcmVjdXJzaXZlID0gZmFsc2U7IH1cbiAgICAgICAgcmV0dXJuIGNsb25lTm9kZSh0aGlzLCByZWN1cnNpdmUpO1xuICAgIH07XG4gICAgcmV0dXJuIE5vZGU7XG59KCkpO1xuZXhwb3J0cy5Ob2RlID0gTm9kZTtcbi8qKlxuICogQSBub2RlIHRoYXQgY29udGFpbnMgc29tZSBkYXRhLlxuICovXG52YXIgRGF0YU5vZGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERhdGFOb2RlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBkYXRhIFRoZSBjb250ZW50IG9mIHRoZSBkYXRhIG5vZGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEYXRhTm9kZShkYXRhKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEYXRhTm9kZS5wcm90b3R5cGUsIFwibm9kZVZhbHVlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNhbWUgYXMge0BsaW5rIGRhdGF9LlxuICAgICAgICAgKiBbRE9NIHNwZWNdKGh0dHBzOi8vZG9tLnNwZWMud2hhdHdnLm9yZyktY29tcGF0aWJsZSBhbGlhcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBEYXRhTm9kZTtcbn0oTm9kZSkpO1xuZXhwb3J0cy5EYXRhTm9kZSA9IERhdGFOb2RlO1xuLyoqXG4gKiBUZXh0IHdpdGhpbiB0aGUgZG9jdW1lbnQuXG4gKi9cbnZhciBUZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUZXh0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRleHQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50eXBlID0gZG9tZWxlbWVudHR5cGVfMS5FbGVtZW50VHlwZS5UZXh0O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0LnByb3RvdHlwZSwgXCJub2RlVHlwZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIDM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gVGV4dDtcbn0oRGF0YU5vZGUpKTtcbmV4cG9ydHMuVGV4dCA9IFRleHQ7XG4vKipcbiAqIENvbW1lbnRzIHdpdGhpbiB0aGUgZG9jdW1lbnQuXG4gKi9cbnZhciBDb21tZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb21tZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbW1lbnQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50eXBlID0gZG9tZWxlbWVudHR5cGVfMS5FbGVtZW50VHlwZS5Db21tZW50O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21tZW50LnByb3RvdHlwZSwgXCJub2RlVHlwZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIDg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQ29tbWVudDtcbn0oRGF0YU5vZGUpKTtcbmV4cG9ydHMuQ29tbWVudCA9IENvbW1lbnQ7XG4vKipcbiAqIFByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb25zLCBpbmNsdWRpbmcgZG9jIHR5cGVzLlxuICovXG52YXIgUHJvY2Vzc2luZ0luc3RydWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUHJvY2Vzc2luZ0luc3RydWN0aW9uKG5hbWUsIGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGF0YSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIF90aGlzLnR5cGUgPSBkb21lbGVtZW50dHlwZV8xLkVsZW1lbnRUeXBlLkRpcmVjdGl2ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJvY2Vzc2luZ0luc3RydWN0aW9uLnByb3RvdHlwZSwgXCJub2RlVHlwZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gUHJvY2Vzc2luZ0luc3RydWN0aW9uO1xufShEYXRhTm9kZSkpO1xuZXhwb3J0cy5Qcm9jZXNzaW5nSW5zdHJ1Y3Rpb24gPSBQcm9jZXNzaW5nSW5zdHJ1Y3Rpb247XG4vKipcbiAqIEEgYE5vZGVgIHRoYXQgY2FuIGhhdmUgY2hpbGRyZW4uXG4gKi9cbnZhciBOb2RlV2l0aENoaWxkcmVuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOb2RlV2l0aENoaWxkcmVuLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjaGlsZHJlbiBDaGlsZHJlbiBvZiB0aGUgbm9kZS4gT25seSBjZXJ0YWluIG5vZGUgdHlwZXMgY2FuIGhhdmUgY2hpbGRyZW4uXG4gICAgICovXG4gICAgZnVuY3Rpb24gTm9kZVdpdGhDaGlsZHJlbihjaGlsZHJlbikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlV2l0aENoaWxkcmVuLnByb3RvdHlwZSwgXCJmaXJzdENoaWxkXCIsIHtcbiAgICAgICAgLy8gQWxpYXNlc1xuICAgICAgICAvKiogRmlyc3QgY2hpbGQgb2YgdGhlIG5vZGUuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMuY2hpbGRyZW5bMF0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZVdpdGhDaGlsZHJlbi5wcm90b3R5cGUsIFwibGFzdENoaWxkXCIsIHtcbiAgICAgICAgLyoqIExhc3QgY2hpbGQgb2YgdGhlIG5vZGUuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgID8gdGhpcy5jaGlsZHJlblt0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDFdXG4gICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGVXaXRoQ2hpbGRyZW4ucHJvdG90eXBlLCBcImNoaWxkTm9kZXNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2FtZSBhcyB7QGxpbmsgY2hpbGRyZW59LlxuICAgICAgICAgKiBbRE9NIHNwZWNdKGh0dHBzOi8vZG9tLnNwZWMud2hhdHdnLm9yZyktY29tcGF0aWJsZSBhbGlhcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW47XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGNoaWxkcmVuKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gTm9kZVdpdGhDaGlsZHJlbjtcbn0oTm9kZSkpO1xuZXhwb3J0cy5Ob2RlV2l0aENoaWxkcmVuID0gTm9kZVdpdGhDaGlsZHJlbjtcbnZhciBDREFUQSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ0RBVEEsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ0RBVEEoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50eXBlID0gZG9tZWxlbWVudHR5cGVfMS5FbGVtZW50VHlwZS5DREFUQTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ0RBVEEucHJvdG90eXBlLCBcIm5vZGVUeXBlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gNDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBDREFUQTtcbn0oTm9kZVdpdGhDaGlsZHJlbikpO1xuZXhwb3J0cy5DREFUQSA9IENEQVRBO1xuLyoqXG4gKiBUaGUgcm9vdCBub2RlIG9mIHRoZSBkb2N1bWVudC5cbiAqL1xudmFyIERvY3VtZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEb2N1bWVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEb2N1bWVudCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnR5cGUgPSBkb21lbGVtZW50dHlwZV8xLkVsZW1lbnRUeXBlLlJvb3Q7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERvY3VtZW50LnByb3RvdHlwZSwgXCJub2RlVHlwZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIDk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gRG9jdW1lbnQ7XG59KE5vZGVXaXRoQ2hpbGRyZW4pKTtcbmV4cG9ydHMuRG9jdW1lbnQgPSBEb2N1bWVudDtcbi8qKlxuICogQW4gZWxlbWVudCB3aXRoaW4gdGhlIERPTS5cbiAqL1xudmFyIEVsZW1lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEVsZW1lbnQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgdGFnLCBlZy4gYGRpdmAsIGBzcGFuYC5cbiAgICAgKiBAcGFyYW0gYXR0cmlicyBPYmplY3QgbWFwcGluZyBhdHRyaWJ1dGUgbmFtZXMgdG8gYXR0cmlidXRlIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0gY2hpbGRyZW4gQ2hpbGRyZW4gb2YgdGhlIG5vZGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRWxlbWVudChuYW1lLCBhdHRyaWJzLCBjaGlsZHJlbiwgdHlwZSkge1xuICAgICAgICBpZiAoY2hpbGRyZW4gPT09IHZvaWQgMCkgeyBjaGlsZHJlbiA9IFtdOyB9XG4gICAgICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9IG5hbWUgPT09IFwic2NyaXB0XCJcbiAgICAgICAgICAgID8gZG9tZWxlbWVudHR5cGVfMS5FbGVtZW50VHlwZS5TY3JpcHRcbiAgICAgICAgICAgIDogbmFtZSA9PT0gXCJzdHlsZVwiXG4gICAgICAgICAgICAgICAgPyBkb21lbGVtZW50dHlwZV8xLkVsZW1lbnRUeXBlLlN0eWxlXG4gICAgICAgICAgICAgICAgOiBkb21lbGVtZW50dHlwZV8xLkVsZW1lbnRUeXBlLlRhZzsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjaGlsZHJlbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIF90aGlzLmF0dHJpYnMgPSBhdHRyaWJzO1xuICAgICAgICBfdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRWxlbWVudC5wcm90b3R5cGUsIFwibm9kZVR5cGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVsZW1lbnQucHJvdG90eXBlLCBcInRhZ05hbWVcIiwge1xuICAgICAgICAvLyBET00gTGV2ZWwgMSBhbGlhc2VzXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTYW1lIGFzIHtAbGluayBuYW1lfS5cbiAgICAgICAgICogW0RPTSBzcGVjXShodHRwczovL2RvbS5zcGVjLndoYXR3Zy5vcmcpLWNvbXBhdGlibGUgYWxpYXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRWxlbWVudC5wcm90b3R5cGUsIFwiYXR0cmlidXRlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmF0dHJpYnMpLm1hcChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdGhpcy5hdHRyaWJzW25hbWVdLFxuICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2U6IChfYSA9IF90aGlzW1wieC1hdHRyaWJzTmFtZXNwYWNlXCJdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbbmFtZV0sXG4gICAgICAgICAgICAgICAgICAgIHByZWZpeDogKF9iID0gX3RoaXNbXCJ4LWF0dHJpYnNQcmVmaXhcIl0pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYltuYW1lXSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEVsZW1lbnQ7XG59KE5vZGVXaXRoQ2hpbGRyZW4pKTtcbmV4cG9ydHMuRWxlbWVudCA9IEVsZW1lbnQ7XG4vKipcbiAqIEBwYXJhbSBub2RlIE5vZGUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG5vZGUgaXMgYSBgRWxlbWVudGAsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICovXG5mdW5jdGlvbiBpc1RhZyhub2RlKSB7XG4gICAgcmV0dXJuICgwLCBkb21lbGVtZW50dHlwZV8xLmlzVGFnKShub2RlKTtcbn1cbmV4cG9ydHMuaXNUYWcgPSBpc1RhZztcbi8qKlxuICogQHBhcmFtIG5vZGUgTm9kZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbm9kZSBoYXMgdGhlIHR5cGUgYENEQVRBYCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIGlzQ0RBVEEobm9kZSkge1xuICAgIHJldHVybiBub2RlLnR5cGUgPT09IGRvbWVsZW1lbnR0eXBlXzEuRWxlbWVudFR5cGUuQ0RBVEE7XG59XG5leHBvcnRzLmlzQ0RBVEEgPSBpc0NEQVRBO1xuLyoqXG4gKiBAcGFyYW0gbm9kZSBOb2RlIHRvIGNoZWNrLlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBub2RlIGhhcyB0aGUgdHlwZSBgVGV4dGAsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICovXG5mdW5jdGlvbiBpc1RleHQobm9kZSkge1xuICAgIHJldHVybiBub2RlLnR5cGUgPT09IGRvbWVsZW1lbnR0eXBlXzEuRWxlbWVudFR5cGUuVGV4dDtcbn1cbmV4cG9ydHMuaXNUZXh0ID0gaXNUZXh0O1xuLyoqXG4gKiBAcGFyYW0gbm9kZSBOb2RlIHRvIGNoZWNrLlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBub2RlIGhhcyB0aGUgdHlwZSBgQ29tbWVudGAsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICovXG5mdW5jdGlvbiBpc0NvbW1lbnQobm9kZSkge1xuICAgIHJldHVybiBub2RlLnR5cGUgPT09IGRvbWVsZW1lbnR0eXBlXzEuRWxlbWVudFR5cGUuQ29tbWVudDtcbn1cbmV4cG9ydHMuaXNDb21tZW50ID0gaXNDb21tZW50O1xuLyoqXG4gKiBAcGFyYW0gbm9kZSBOb2RlIHRvIGNoZWNrLlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBub2RlIGhhcyB0aGUgdHlwZSBgUHJvY2Vzc2luZ0luc3RydWN0aW9uYCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIGlzRGlyZWN0aXZlKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS50eXBlID09PSBkb21lbGVtZW50dHlwZV8xLkVsZW1lbnRUeXBlLkRpcmVjdGl2ZTtcbn1cbmV4cG9ydHMuaXNEaXJlY3RpdmUgPSBpc0RpcmVjdGl2ZTtcbi8qKlxuICogQHBhcmFtIG5vZGUgTm9kZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbm9kZSBoYXMgdGhlIHR5cGUgYFByb2Nlc3NpbmdJbnN0cnVjdGlvbmAsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICovXG5mdW5jdGlvbiBpc0RvY3VtZW50KG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS50eXBlID09PSBkb21lbGVtZW50dHlwZV8xLkVsZW1lbnRUeXBlLlJvb3Q7XG59XG5leHBvcnRzLmlzRG9jdW1lbnQgPSBpc0RvY3VtZW50O1xuLyoqXG4gKiBAcGFyYW0gbm9kZSBOb2RlIHRvIGNoZWNrLlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBub2RlIGhhcyBjaGlsZHJlbiwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIGhhc0NoaWxkcmVuKG5vZGUpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5vZGUsIFwiY2hpbGRyZW5cIik7XG59XG5leHBvcnRzLmhhc0NoaWxkcmVuID0gaGFzQ2hpbGRyZW47XG4vKipcbiAqIENsb25lIGEgbm9kZSwgYW5kIG9wdGlvbmFsbHkgaXRzIGNoaWxkcmVuLlxuICpcbiAqIEBwYXJhbSByZWN1cnNpdmUgQ2xvbmUgY2hpbGQgbm9kZXMgYXMgd2VsbC5cbiAqIEByZXR1cm5zIEEgY2xvbmUgb2YgdGhlIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIGNsb25lTm9kZShub2RlLCByZWN1cnNpdmUpIHtcbiAgICBpZiAocmVjdXJzaXZlID09PSB2b2lkIDApIHsgcmVjdXJzaXZlID0gZmFsc2U7IH1cbiAgICB2YXIgcmVzdWx0O1xuICAgIGlmIChpc1RleHQobm9kZSkpIHtcbiAgICAgICAgcmVzdWx0ID0gbmV3IFRleHQobm9kZS5kYXRhKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNDb21tZW50KG5vZGUpKSB7XG4gICAgICAgIHJlc3VsdCA9IG5ldyBDb21tZW50KG5vZGUuZGF0YSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzVGFnKG5vZGUpKSB7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IHJlY3Vyc2l2ZSA/IGNsb25lQ2hpbGRyZW4obm9kZS5jaGlsZHJlbikgOiBbXTtcbiAgICAgICAgdmFyIGNsb25lXzEgPSBuZXcgRWxlbWVudChub2RlLm5hbWUsIF9fYXNzaWduKHt9LCBub2RlLmF0dHJpYnMpLCBjaGlsZHJlbik7XG4gICAgICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7IHJldHVybiAoY2hpbGQucGFyZW50ID0gY2xvbmVfMSk7IH0pO1xuICAgICAgICBpZiAobm9kZS5uYW1lc3BhY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgY2xvbmVfMS5uYW1lc3BhY2UgPSBub2RlLm5hbWVzcGFjZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZVtcIngtYXR0cmlic05hbWVzcGFjZVwiXSkge1xuICAgICAgICAgICAgY2xvbmVfMVtcIngtYXR0cmlic05hbWVzcGFjZVwiXSA9IF9fYXNzaWduKHt9LCBub2RlW1wieC1hdHRyaWJzTmFtZXNwYWNlXCJdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZVtcIngtYXR0cmlic1ByZWZpeFwiXSkge1xuICAgICAgICAgICAgY2xvbmVfMVtcIngtYXR0cmlic1ByZWZpeFwiXSA9IF9fYXNzaWduKHt9LCBub2RlW1wieC1hdHRyaWJzUHJlZml4XCJdKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSBjbG9uZV8xO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0NEQVRBKG5vZGUpKSB7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IHJlY3Vyc2l2ZSA/IGNsb25lQ2hpbGRyZW4obm9kZS5jaGlsZHJlbikgOiBbXTtcbiAgICAgICAgdmFyIGNsb25lXzIgPSBuZXcgQ0RBVEEoY2hpbGRyZW4pO1xuICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkgeyByZXR1cm4gKGNoaWxkLnBhcmVudCA9IGNsb25lXzIpOyB9KTtcbiAgICAgICAgcmVzdWx0ID0gY2xvbmVfMjtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNEb2N1bWVudChub2RlKSkge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSByZWN1cnNpdmUgPyBjbG9uZUNoaWxkcmVuKG5vZGUuY2hpbGRyZW4pIDogW107XG4gICAgICAgIHZhciBjbG9uZV8zID0gbmV3IERvY3VtZW50KGNoaWxkcmVuKTtcbiAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHsgcmV0dXJuIChjaGlsZC5wYXJlbnQgPSBjbG9uZV8zKTsgfSk7XG4gICAgICAgIGlmIChub2RlW1wieC1tb2RlXCJdKSB7XG4gICAgICAgICAgICBjbG9uZV8zW1wieC1tb2RlXCJdID0gbm9kZVtcIngtbW9kZVwiXTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSBjbG9uZV8zO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0RpcmVjdGl2ZShub2RlKSkge1xuICAgICAgICB2YXIgaW5zdHJ1Y3Rpb24gPSBuZXcgUHJvY2Vzc2luZ0luc3RydWN0aW9uKG5vZGUubmFtZSwgbm9kZS5kYXRhKTtcbiAgICAgICAgaWYgKG5vZGVbXCJ4LW5hbWVcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bXCJ4LW5hbWVcIl0gPSBub2RlW1wieC1uYW1lXCJdO1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bXCJ4LXB1YmxpY0lkXCJdID0gbm9kZVtcIngtcHVibGljSWRcIl07XG4gICAgICAgICAgICBpbnN0cnVjdGlvbltcIngtc3lzdGVtSWRcIl0gPSBub2RlW1wieC1zeXN0ZW1JZFwiXTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSBpbnN0cnVjdGlvbjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZCB5ZXQ6IFwiLmNvbmNhdChub2RlLnR5cGUpKTtcbiAgICB9XG4gICAgcmVzdWx0LnN0YXJ0SW5kZXggPSBub2RlLnN0YXJ0SW5kZXg7XG4gICAgcmVzdWx0LmVuZEluZGV4ID0gbm9kZS5lbmRJbmRleDtcbiAgICBpZiAobm9kZS5zb3VyY2VDb2RlTG9jYXRpb24gIT0gbnVsbCkge1xuICAgICAgICByZXN1bHQuc291cmNlQ29kZUxvY2F0aW9uID0gbm9kZS5zb3VyY2VDb2RlTG9jYXRpb247XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLmNsb25lTm9kZSA9IGNsb25lTm9kZTtcbmZ1bmN0aW9uIGNsb25lQ2hpbGRyZW4oY2hpbGRzKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gY2hpbGRzLm1hcChmdW5jdGlvbiAoY2hpbGQpIHsgcmV0dXJuIGNsb25lTm9kZShjaGlsZCwgdHJ1ZSk7IH0pO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2hpbGRyZW5baV0ucHJldiA9IGNoaWxkcmVuW2kgLSAxXTtcbiAgICAgICAgY2hpbGRyZW5baSAtIDFdLm5leHQgPSBjaGlsZHJlbltpXTtcbiAgICB9XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/domhandler/lib/node.js\n"));

/***/ }),

/***/ "./node_modules/html-dom-parser/lib/client/constants.js":
/*!**************************************************************!*\
  !*** ./node_modules/html-dom-parser/lib/client/constants.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval(__webpack_require__.ts("/**\n * SVG elements are case-sensitive.\n *\n * @see {@link https://developer.mozilla.org/docs/Web/SVG/Element#svg_elements_a_to_z}\n */\nexports.CASE_SENSITIVE_TAG_NAMES = [\n  'animateMotion',\n  'animateTransform',\n  'clipPath',\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feDropShadow',\n  'feFlood',\n  'feFuncA',\n  'feFuncB',\n  'feFuncG',\n  'feFuncR',\n  'feGaussianBlur',\n  'feImage',\n  'feMerge',\n  'feMergeNode',\n  'feMorphology',\n  'feOffset',\n  'fePointLight',\n  'feSpecularLighting',\n  'feSpotLight',\n  'feTile',\n  'feTurbulence',\n  'foreignObject',\n  'linearGradient',\n  'radialGradient',\n  'textPath'\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaHRtbC1kb20tcGFyc2VyL2xpYi9jbGllbnQvY29uc3RhbnRzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9odG1sLWRvbS1wYXJzZXIvbGliL2NsaWVudC9jb25zdGFudHMuanM/OGQ3NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNWRyBlbGVtZW50cyBhcmUgY2FzZS1zZW5zaXRpdmUuXG4gKlxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvU1ZHL0VsZW1lbnQjc3ZnX2VsZW1lbnRzX2FfdG9fen1cbiAqL1xuZXhwb3J0cy5DQVNFX1NFTlNJVElWRV9UQUdfTkFNRVMgPSBbXG4gICdhbmltYXRlTW90aW9uJyxcbiAgJ2FuaW1hdGVUcmFuc2Zvcm0nLFxuICAnY2xpcFBhdGgnLFxuICAnZmVCbGVuZCcsXG4gICdmZUNvbG9yTWF0cml4JyxcbiAgJ2ZlQ29tcG9uZW50VHJhbnNmZXInLFxuICAnZmVDb21wb3NpdGUnLFxuICAnZmVDb252b2x2ZU1hdHJpeCcsXG4gICdmZURpZmZ1c2VMaWdodGluZycsXG4gICdmZURpc3BsYWNlbWVudE1hcCcsXG4gICdmZURyb3BTaGFkb3cnLFxuICAnZmVGbG9vZCcsXG4gICdmZUZ1bmNBJyxcbiAgJ2ZlRnVuY0InLFxuICAnZmVGdW5jRycsXG4gICdmZUZ1bmNSJyxcbiAgJ2ZlR2F1c3NpYW5CbHVyJyxcbiAgJ2ZlSW1hZ2UnLFxuICAnZmVNZXJnZScsXG4gICdmZU1lcmdlTm9kZScsXG4gICdmZU1vcnBob2xvZ3knLFxuICAnZmVPZmZzZXQnLFxuICAnZmVQb2ludExpZ2h0JyxcbiAgJ2ZlU3BlY3VsYXJMaWdodGluZycsXG4gICdmZVNwb3RMaWdodCcsXG4gICdmZVRpbGUnLFxuICAnZmVUdXJidWxlbmNlJyxcbiAgJ2ZvcmVpZ25PYmplY3QnLFxuICAnbGluZWFyR3JhZGllbnQnLFxuICAncmFkaWFsR3JhZGllbnQnLFxuICAndGV4dFBhdGgnXG5dO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/html-dom-parser/lib/client/constants.js\n"));

/***/ }),

/***/ "./node_modules/html-dom-parser/lib/client/domparser.js":
/*!**************************************************************!*\
  !*** ./node_modules/html-dom-parser/lib/client/domparser.js ***!
  \**************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("// constants\nvar HTML = 'html';\nvar HEAD = 'head';\nvar BODY = 'body';\nvar FIRST_TAG_REGEX = /<([a-zA-Z]+[0-9]?)/; // e.g., <h1>\n// match-all-characters in case of newlines (DOTALL)\nvar HEAD_TAG_REGEX = /<head[^]*>/i;\nvar BODY_TAG_REGEX = /<body[^]*>/i;\n\n// falls back to `parseFromString` if `createHTMLDocument` cannot be used\nvar parseFromDocument = function () {\n  throw new Error(\n    'This browser does not support `document.implementation.createHTMLDocument`'\n  );\n};\n\nvar parseFromString = function () {\n  throw new Error(\n    'This browser does not support `DOMParser.prototype.parseFromString`'\n  );\n};\n\nvar DOMParser = typeof window === 'object' && window.DOMParser;\n\n/**\n * DOMParser (performance: slow).\n *\n * @see https://developer.mozilla.org/docs/Web/API/DOMParser#Parsing_an_SVG_or_HTML_document\n */\nif (typeof DOMParser === 'function') {\n  var domParser = new DOMParser();\n  var mimeType = 'text/html';\n\n  /**\n   * Creates an HTML document using `DOMParser.parseFromString`.\n   *\n   * @param  {string} html      - The HTML string.\n   * @param  {string} [tagName] - The element to render the HTML (with 'body' as fallback).\n   * @return {HTMLDocument}\n   */\n  parseFromString = function (html, tagName) {\n    if (tagName) {\n      html = '<' + tagName + '>' + html + '</' + tagName + '>';\n    }\n\n    return domParser.parseFromString(html, mimeType);\n  };\n\n  parseFromDocument = parseFromString;\n}\n\n/**\n * DOMImplementation (performance: fair).\n *\n * @see https://developer.mozilla.org/docs/Web/API/DOMImplementation/createHTMLDocument\n */\nif (typeof document === 'object' && document.implementation) {\n  var doc = document.implementation.createHTMLDocument();\n\n  /**\n   * Use HTML document created by `document.implementation.createHTMLDocument`.\n   *\n   * @param  {string} html      - The HTML string.\n   * @param  {string} [tagName] - The element to render the HTML (with 'body' as fallback).\n   * @return {HTMLDocument}\n   */\n  parseFromDocument = function (html, tagName) {\n    if (tagName) {\n      var element = doc.documentElement.querySelector(tagName);\n      element.innerHTML = html;\n      return doc;\n    }\n\n    doc.documentElement.innerHTML = html;\n    return doc;\n  };\n}\n\n/**\n * Template (performance: fast).\n *\n * @see https://developer.mozilla.org/docs/Web/HTML/Element/template\n */\nvar template =\n  typeof document === 'object' ? document.createElement('template') : {};\n\nvar parseFromTemplate;\n\nif (template.content) {\n  /**\n   * Uses a template element (content fragment) to parse HTML.\n   *\n   * @param  {string} html - The HTML string.\n   * @return {NodeList}\n   */\n  parseFromTemplate = function (html) {\n    template.innerHTML = html;\n    return template.content.childNodes;\n  };\n}\n\n/**\n * Parses HTML string to DOM nodes.\n *\n * @param  {string}   html - HTML markup.\n * @return {NodeList}\n */\nfunction domparser(html) {\n  var firstTagName;\n  var match = html.match(FIRST_TAG_REGEX);\n\n  if (match && match[1]) {\n    firstTagName = match[1].toLowerCase();\n  }\n\n  var doc;\n  var element;\n  var elements;\n\n  switch (firstTagName) {\n    case HTML:\n      doc = parseFromString(html);\n\n      // the created document may come with filler head/body elements,\n      // so make sure to remove them if they don't actually exist\n      if (!HEAD_TAG_REGEX.test(html)) {\n        element = doc.querySelector(HEAD);\n        if (element) {\n          element.parentNode.removeChild(element);\n        }\n      }\n\n      if (!BODY_TAG_REGEX.test(html)) {\n        element = doc.querySelector(BODY);\n        if (element) {\n          element.parentNode.removeChild(element);\n        }\n      }\n\n      return doc.querySelectorAll(HTML);\n\n    case HEAD:\n    case BODY:\n      doc = parseFromDocument(html);\n      elements = doc.querySelectorAll(firstTagName);\n\n      // if there's a sibling element, then return both elements\n      if (BODY_TAG_REGEX.test(html) && HEAD_TAG_REGEX.test(html)) {\n        return elements[0].parentNode.childNodes;\n      }\n      return elements;\n\n    // low-level tag or text\n    default:\n      if (parseFromTemplate) {\n        return parseFromTemplate(html);\n      }\n      element = parseFromDocument(html, BODY).querySelector(BODY);\n      return element.childNodes;\n  }\n}\n\nmodule.exports = domparser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaHRtbC1kb20tcGFyc2VyL2xpYi9jbGllbnQvZG9tcGFyc2VyLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvaHRtbC1kb20tcGFyc2VyL2xpYi9jbGllbnQvZG9tcGFyc2VyLmpzPzc2M2YiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY29uc3RhbnRzXG52YXIgSFRNTCA9ICdodG1sJztcbnZhciBIRUFEID0gJ2hlYWQnO1xudmFyIEJPRFkgPSAnYm9keSc7XG52YXIgRklSU1RfVEFHX1JFR0VYID0gLzwoW2EtekEtWl0rWzAtOV0/KS87IC8vIGUuZy4sIDxoMT5cbi8vIG1hdGNoLWFsbC1jaGFyYWN0ZXJzIGluIGNhc2Ugb2YgbmV3bGluZXMgKERPVEFMTClcbnZhciBIRUFEX1RBR19SRUdFWCA9IC88aGVhZFteXSo+L2k7XG52YXIgQk9EWV9UQUdfUkVHRVggPSAvPGJvZHlbXl0qPi9pO1xuXG4vLyBmYWxscyBiYWNrIHRvIGBwYXJzZUZyb21TdHJpbmdgIGlmIGBjcmVhdGVIVE1MRG9jdW1lbnRgIGNhbm5vdCBiZSB1c2VkXG52YXIgcGFyc2VGcm9tRG9jdW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICAnVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgYGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudGAnXG4gICk7XG59O1xuXG52YXIgcGFyc2VGcm9tU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgJ1RoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGBET01QYXJzZXIucHJvdG90eXBlLnBhcnNlRnJvbVN0cmluZ2AnXG4gICk7XG59O1xuXG52YXIgRE9NUGFyc2VyID0gdHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgd2luZG93LkRPTVBhcnNlcjtcblxuLyoqXG4gKiBET01QYXJzZXIgKHBlcmZvcm1hbmNlOiBzbG93KS5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9ET01QYXJzZXIjUGFyc2luZ19hbl9TVkdfb3JfSFRNTF9kb2N1bWVudFxuICovXG5pZiAodHlwZW9mIERPTVBhcnNlciA9PT0gJ2Z1bmN0aW9uJykge1xuICB2YXIgZG9tUGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICB2YXIgbWltZVR5cGUgPSAndGV4dC9odG1sJztcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBIVE1MIGRvY3VtZW50IHVzaW5nIGBET01QYXJzZXIucGFyc2VGcm9tU3RyaW5nYC5cbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfSBodG1sICAgICAgLSBUaGUgSFRNTCBzdHJpbmcuXG4gICAqIEBwYXJhbSAge3N0cmluZ30gW3RhZ05hbWVdIC0gVGhlIGVsZW1lbnQgdG8gcmVuZGVyIHRoZSBIVE1MICh3aXRoICdib2R5JyBhcyBmYWxsYmFjaykuXG4gICAqIEByZXR1cm4ge0hUTUxEb2N1bWVudH1cbiAgICovXG4gIHBhcnNlRnJvbVN0cmluZyA9IGZ1bmN0aW9uIChodG1sLCB0YWdOYW1lKSB7XG4gICAgaWYgKHRhZ05hbWUpIHtcbiAgICAgIGh0bWwgPSAnPCcgKyB0YWdOYW1lICsgJz4nICsgaHRtbCArICc8LycgKyB0YWdOYW1lICsgJz4nO1xuICAgIH1cblxuICAgIHJldHVybiBkb21QYXJzZXIucGFyc2VGcm9tU3RyaW5nKGh0bWwsIG1pbWVUeXBlKTtcbiAgfTtcblxuICBwYXJzZUZyb21Eb2N1bWVudCA9IHBhcnNlRnJvbVN0cmluZztcbn1cblxuLyoqXG4gKiBET01JbXBsZW1lbnRhdGlvbiAocGVyZm9ybWFuY2U6IGZhaXIpLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0RPTUltcGxlbWVudGF0aW9uL2NyZWF0ZUhUTUxEb2N1bWVudFxuICovXG5pZiAodHlwZW9mIGRvY3VtZW50ID09PSAnb2JqZWN0JyAmJiBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbikge1xuICB2YXIgZG9jID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCk7XG5cbiAgLyoqXG4gICAqIFVzZSBIVE1MIGRvY3VtZW50IGNyZWF0ZWQgYnkgYGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudGAuXG4gICAqXG4gICAqIEBwYXJhbSAge3N0cmluZ30gaHRtbCAgICAgIC0gVGhlIEhUTUwgc3RyaW5nLlxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IFt0YWdOYW1lXSAtIFRoZSBlbGVtZW50IHRvIHJlbmRlciB0aGUgSFRNTCAod2l0aCAnYm9keScgYXMgZmFsbGJhY2spLlxuICAgKiBAcmV0dXJuIHtIVE1MRG9jdW1lbnR9XG4gICAqL1xuICBwYXJzZUZyb21Eb2N1bWVudCA9IGZ1bmN0aW9uIChodG1sLCB0YWdOYW1lKSB7XG4gICAgaWYgKHRhZ05hbWUpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gZG9jLmRvY3VtZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKHRhZ05hbWUpO1xuICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgcmV0dXJuIGRvYztcbiAgICB9XG5cbiAgICBkb2MuZG9jdW1lbnRFbGVtZW50LmlubmVySFRNTCA9IGh0bWw7XG4gICAgcmV0dXJuIGRvYztcbiAgfTtcbn1cblxuLyoqXG4gKiBUZW1wbGF0ZSAocGVyZm9ybWFuY2U6IGZhc3QpLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSFRNTC9FbGVtZW50L3RlbXBsYXRlXG4gKi9cbnZhciB0ZW1wbGF0ZSA9XG4gIHR5cGVvZiBkb2N1bWVudCA9PT0gJ29iamVjdCcgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpIDoge307XG5cbnZhciBwYXJzZUZyb21UZW1wbGF0ZTtcblxuaWYgKHRlbXBsYXRlLmNvbnRlbnQpIHtcbiAgLyoqXG4gICAqIFVzZXMgYSB0ZW1wbGF0ZSBlbGVtZW50IChjb250ZW50IGZyYWdtZW50KSB0byBwYXJzZSBIVE1MLlxuICAgKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IGh0bWwgLSBUaGUgSFRNTCBzdHJpbmcuXG4gICAqIEByZXR1cm4ge05vZGVMaXN0fVxuICAgKi9cbiAgcGFyc2VGcm9tVGVtcGxhdGUgPSBmdW5jdGlvbiAoaHRtbCkge1xuICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IGh0bWw7XG4gICAgcmV0dXJuIHRlbXBsYXRlLmNvbnRlbnQuY2hpbGROb2RlcztcbiAgfTtcbn1cblxuLyoqXG4gKiBQYXJzZXMgSFRNTCBzdHJpbmcgdG8gRE9NIG5vZGVzLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gICBodG1sIC0gSFRNTCBtYXJrdXAuXG4gKiBAcmV0dXJuIHtOb2RlTGlzdH1cbiAqL1xuZnVuY3Rpb24gZG9tcGFyc2VyKGh0bWwpIHtcbiAgdmFyIGZpcnN0VGFnTmFtZTtcbiAgdmFyIG1hdGNoID0gaHRtbC5tYXRjaChGSVJTVF9UQUdfUkVHRVgpO1xuXG4gIGlmIChtYXRjaCAmJiBtYXRjaFsxXSkge1xuICAgIGZpcnN0VGFnTmFtZSA9IG1hdGNoWzFdLnRvTG93ZXJDYXNlKCk7XG4gIH1cblxuICB2YXIgZG9jO1xuICB2YXIgZWxlbWVudDtcbiAgdmFyIGVsZW1lbnRzO1xuXG4gIHN3aXRjaCAoZmlyc3RUYWdOYW1lKSB7XG4gICAgY2FzZSBIVE1MOlxuICAgICAgZG9jID0gcGFyc2VGcm9tU3RyaW5nKGh0bWwpO1xuXG4gICAgICAvLyB0aGUgY3JlYXRlZCBkb2N1bWVudCBtYXkgY29tZSB3aXRoIGZpbGxlciBoZWFkL2JvZHkgZWxlbWVudHMsXG4gICAgICAvLyBzbyBtYWtlIHN1cmUgdG8gcmVtb3ZlIHRoZW0gaWYgdGhleSBkb24ndCBhY3R1YWxseSBleGlzdFxuICAgICAgaWYgKCFIRUFEX1RBR19SRUdFWC50ZXN0KGh0bWwpKSB7XG4gICAgICAgIGVsZW1lbnQgPSBkb2MucXVlcnlTZWxlY3RvcihIRUFEKTtcbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFCT0RZX1RBR19SRUdFWC50ZXN0KGh0bWwpKSB7XG4gICAgICAgIGVsZW1lbnQgPSBkb2MucXVlcnlTZWxlY3RvcihCT0RZKTtcbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRvYy5xdWVyeVNlbGVjdG9yQWxsKEhUTUwpO1xuXG4gICAgY2FzZSBIRUFEOlxuICAgIGNhc2UgQk9EWTpcbiAgICAgIGRvYyA9IHBhcnNlRnJvbURvY3VtZW50KGh0bWwpO1xuICAgICAgZWxlbWVudHMgPSBkb2MucXVlcnlTZWxlY3RvckFsbChmaXJzdFRhZ05hbWUpO1xuXG4gICAgICAvLyBpZiB0aGVyZSdzIGEgc2libGluZyBlbGVtZW50LCB0aGVuIHJldHVybiBib3RoIGVsZW1lbnRzXG4gICAgICBpZiAoQk9EWV9UQUdfUkVHRVgudGVzdChodG1sKSAmJiBIRUFEX1RBR19SRUdFWC50ZXN0KGh0bWwpKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50c1swXS5wYXJlbnROb2RlLmNoaWxkTm9kZXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gZWxlbWVudHM7XG5cbiAgICAvLyBsb3ctbGV2ZWwgdGFnIG9yIHRleHRcbiAgICBkZWZhdWx0OlxuICAgICAgaWYgKHBhcnNlRnJvbVRlbXBsYXRlKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUZyb21UZW1wbGF0ZShodG1sKTtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnQgPSBwYXJzZUZyb21Eb2N1bWVudChodG1sLCBCT0RZKS5xdWVyeVNlbGVjdG9yKEJPRFkpO1xuICAgICAgcmV0dXJuIGVsZW1lbnQuY2hpbGROb2RlcztcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRvbXBhcnNlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/html-dom-parser/lib/client/domparser.js\n"));

/***/ }),

/***/ "./node_modules/html-dom-parser/lib/client/html-to-dom.js":
/*!****************************************************************!*\
  !*** ./node_modules/html-dom-parser/lib/client/html-to-dom.js ***!
  \****************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var domparser = __webpack_require__(/*! ./domparser */ \"./node_modules/html-dom-parser/lib/client/domparser.js\");\nvar utilities = __webpack_require__(/*! ./utilities */ \"./node_modules/html-dom-parser/lib/client/utilities.js\");\n\nvar formatDOM = utilities.formatDOM;\n\nvar DIRECTIVE_REGEX = /<(![a-zA-Z\\s]+)>/; // e.g., <!doctype html>\n\n/**\n * Parses HTML string to DOM nodes in browser.\n *\n * @param  {string} html  - HTML markup.\n * @return {DomElement[]} - DOM elements.\n */\nfunction HTMLDOMParser(html) {\n  if (typeof html !== 'string') {\n    throw new TypeError('First argument must be a string');\n  }\n\n  if (html === '') {\n    return [];\n  }\n\n  // match directive\n  var match = html.match(DIRECTIVE_REGEX);\n  var directive;\n\n  if (match && match[1]) {\n    directive = match[1];\n  }\n\n  return formatDOM(domparser(html), null, directive);\n}\n\nmodule.exports = HTMLDOMParser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaHRtbC1kb20tcGFyc2VyL2xpYi9jbGllbnQvaHRtbC10by1kb20uanMiLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCLG1CQUFPLENBQUMsMkVBQWE7QUFDckMsZ0JBQWdCLG1CQUFPLENBQUMsMkVBQWE7O0FBRXJDOztBQUVBLDBDQUEwQzs7QUFFMUM7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2h0bWwtZG9tLXBhcnNlci9saWIvY2xpZW50L2h0bWwtdG8tZG9tLmpzP2QyMDMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRvbXBhcnNlciA9IHJlcXVpcmUoJy4vZG9tcGFyc2VyJyk7XG52YXIgdXRpbGl0aWVzID0gcmVxdWlyZSgnLi91dGlsaXRpZXMnKTtcblxudmFyIGZvcm1hdERPTSA9IHV0aWxpdGllcy5mb3JtYXRET007XG5cbnZhciBESVJFQ1RJVkVfUkVHRVggPSAvPCghW2EtekEtWlxcc10rKT4vOyAvLyBlLmcuLCA8IWRvY3R5cGUgaHRtbD5cblxuLyoqXG4gKiBQYXJzZXMgSFRNTCBzdHJpbmcgdG8gRE9NIG5vZGVzIGluIGJyb3dzZXIuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBodG1sICAtIEhUTUwgbWFya3VwLlxuICogQHJldHVybiB7RG9tRWxlbWVudFtdfSAtIERPTSBlbGVtZW50cy5cbiAqL1xuZnVuY3Rpb24gSFRNTERPTVBhcnNlcihodG1sKSB7XG4gIGlmICh0eXBlb2YgaHRtbCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gIH1cblxuICBpZiAoaHRtbCA9PT0gJycpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICAvLyBtYXRjaCBkaXJlY3RpdmVcbiAgdmFyIG1hdGNoID0gaHRtbC5tYXRjaChESVJFQ1RJVkVfUkVHRVgpO1xuICB2YXIgZGlyZWN0aXZlO1xuXG4gIGlmIChtYXRjaCAmJiBtYXRjaFsxXSkge1xuICAgIGRpcmVjdGl2ZSA9IG1hdGNoWzFdO1xuICB9XG5cbiAgcmV0dXJuIGZvcm1hdERPTShkb21wYXJzZXIoaHRtbCksIG51bGwsIGRpcmVjdGl2ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gSFRNTERPTVBhcnNlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/html-dom-parser/lib/client/html-to-dom.js\n"));

/***/ }),

/***/ "./node_modules/html-dom-parser/lib/client/utilities.js":
/*!**************************************************************!*\
  !*** ./node_modules/html-dom-parser/lib/client/utilities.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval(__webpack_require__.ts("var domhandler = __webpack_require__(/*! domhandler */ \"./node_modules/domhandler/lib/index.js\");\nvar constants = __webpack_require__(/*! ./constants */ \"./node_modules/html-dom-parser/lib/client/constants.js\");\n\nvar CASE_SENSITIVE_TAG_NAMES = constants.CASE_SENSITIVE_TAG_NAMES;\n\nvar Comment = domhandler.Comment;\nvar Element = domhandler.Element;\nvar ProcessingInstruction = domhandler.ProcessingInstruction;\nvar Text = domhandler.Text;\n\nvar caseSensitiveTagNamesMap = {};\nvar tagName;\n\nfor (var i = 0, len = CASE_SENSITIVE_TAG_NAMES.length; i < len; i++) {\n  tagName = CASE_SENSITIVE_TAG_NAMES[i];\n  caseSensitiveTagNamesMap[tagName.toLowerCase()] = tagName;\n}\n\n/**\n * Gets case-sensitive tag name.\n *\n * @param {string} tagName - Tag name in lowercase.\n * @returns {string|undefined} - Case-sensitive tag name.\n */\nfunction getCaseSensitiveTagName(tagName) {\n  return caseSensitiveTagNamesMap[tagName];\n}\n\n/**\n * Formats DOM attributes to a hash map.\n *\n * @param {NamedNodeMap} attributes - List of attributes.\n * @returns {object} - Map of attribute name to value.\n */\nfunction formatAttributes(attributes) {\n  var result = {};\n  var attribute;\n  // `NamedNodeMap` is array-like\n  for (var i = 0, len = attributes.length; i < len; i++) {\n    attribute = attributes[i];\n    result[attribute.name] = attribute.value;\n  }\n  return result;\n}\n\n/**\n * Corrects the tag name if it is case-sensitive (SVG).\n * Otherwise, returns the lowercase tag name (HTML).\n *\n * @param {string} tagName - Lowercase tag name.\n * @returns {string} - Formatted tag name.\n */\nfunction formatTagName(tagName) {\n  tagName = tagName.toLowerCase();\n  var caseSensitiveTagName = getCaseSensitiveTagName(tagName);\n  if (caseSensitiveTagName) {\n    return caseSensitiveTagName;\n  }\n  return tagName;\n}\n\n/**\n * Transforms DOM nodes to `domhandler` nodes.\n *\n * @param {NodeList} nodes - DOM nodes.\n * @param {Element|null} [parent=null] - Parent node.\n * @param {string} [directive] - Directive.\n * @returns {Array<Comment|Element|ProcessingInstruction|Text>}\n */\nfunction formatDOM(nodes, parent, directive) {\n  parent = parent || null;\n  var result = [];\n  var tagName;\n\n  for (var index = 0, len = nodes.length; index < len; index++) {\n    var node = nodes[index];\n    var current;\n\n    // set the node data given the type\n    switch (node.nodeType) {\n      case 1:\n        tagName = formatTagName(node.nodeName);\n        // script, style, or tag\n        current = new Element(tagName, formatAttributes(node.attributes));\n        current.children = formatDOM(\n          // template children are on content\n          tagName === 'template' ? node.content.childNodes : node.childNodes,\n          current\n        );\n        break;\n\n      case 3:\n        current = new Text(node.nodeValue);\n        break;\n\n      case 8:\n        current = new Comment(node.nodeValue);\n        break;\n\n      default:\n        continue;\n    }\n\n    // set previous node next\n    var prev = result[index - 1] || null;\n    if (prev) {\n      prev.next = current;\n    }\n\n    // set properties for current node\n    current.parent = parent;\n    current.prev = prev;\n    current.next = null;\n\n    result.push(current);\n  }\n\n  if (directive) {\n    current = new ProcessingInstruction(\n      directive.substring(0, directive.indexOf(' ')).toLowerCase(),\n      directive\n    );\n    current.next = result[0] || null;\n    current.parent = parent;\n    result.unshift(current);\n\n    if (result[1]) {\n      result[1].prev = result[0];\n    }\n  }\n\n  return result;\n}\n\nexports.formatAttributes = formatAttributes;\nexports.formatDOM = formatDOM;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaHRtbC1kb20tcGFyc2VyL2xpYi9jbGllbnQvdXRpbGl0aWVzLmpzIiwibWFwcGluZ3MiOiJBQUFBLGlCQUFpQixtQkFBTyxDQUFDLDBEQUFZO0FBQ3JDLGdCQUFnQixtQkFBTyxDQUFDLDJFQUFhOztBQUVyQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHVEQUF1RCxTQUFTO0FBQ2hFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxrQkFBa0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLFNBQVM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLGNBQWM7QUFDekIsV0FBVyxRQUFRO0FBQ25CLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDBDQUEwQyxhQUFhO0FBQ3ZEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsd0JBQXdCO0FBQ3hCLGlCQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvaHRtbC1kb20tcGFyc2VyL2xpYi9jbGllbnQvdXRpbGl0aWVzLmpzP2FhZTIiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRvbWhhbmRsZXIgPSByZXF1aXJlKCdkb21oYW5kbGVyJyk7XG52YXIgY29uc3RhbnRzID0gcmVxdWlyZSgnLi9jb25zdGFudHMnKTtcblxudmFyIENBU0VfU0VOU0lUSVZFX1RBR19OQU1FUyA9IGNvbnN0YW50cy5DQVNFX1NFTlNJVElWRV9UQUdfTkFNRVM7XG5cbnZhciBDb21tZW50ID0gZG9taGFuZGxlci5Db21tZW50O1xudmFyIEVsZW1lbnQgPSBkb21oYW5kbGVyLkVsZW1lbnQ7XG52YXIgUHJvY2Vzc2luZ0luc3RydWN0aW9uID0gZG9taGFuZGxlci5Qcm9jZXNzaW5nSW5zdHJ1Y3Rpb247XG52YXIgVGV4dCA9IGRvbWhhbmRsZXIuVGV4dDtcblxudmFyIGNhc2VTZW5zaXRpdmVUYWdOYW1lc01hcCA9IHt9O1xudmFyIHRhZ05hbWU7XG5cbmZvciAodmFyIGkgPSAwLCBsZW4gPSBDQVNFX1NFTlNJVElWRV9UQUdfTkFNRVMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgdGFnTmFtZSA9IENBU0VfU0VOU0lUSVZFX1RBR19OQU1FU1tpXTtcbiAgY2FzZVNlbnNpdGl2ZVRhZ05hbWVzTWFwW3RhZ05hbWUudG9Mb3dlckNhc2UoKV0gPSB0YWdOYW1lO1xufVxuXG4vKipcbiAqIEdldHMgY2FzZS1zZW5zaXRpdmUgdGFnIG5hbWUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRhZ05hbWUgLSBUYWcgbmFtZSBpbiBsb3dlcmNhc2UuXG4gKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH0gLSBDYXNlLXNlbnNpdGl2ZSB0YWcgbmFtZS5cbiAqL1xuZnVuY3Rpb24gZ2V0Q2FzZVNlbnNpdGl2ZVRhZ05hbWUodGFnTmFtZSkge1xuICByZXR1cm4gY2FzZVNlbnNpdGl2ZVRhZ05hbWVzTWFwW3RhZ05hbWVdO1xufVxuXG4vKipcbiAqIEZvcm1hdHMgRE9NIGF0dHJpYnV0ZXMgdG8gYSBoYXNoIG1hcC5cbiAqXG4gKiBAcGFyYW0ge05hbWVkTm9kZU1hcH0gYXR0cmlidXRlcyAtIExpc3Qgb2YgYXR0cmlidXRlcy5cbiAqIEByZXR1cm5zIHtvYmplY3R9IC0gTWFwIG9mIGF0dHJpYnV0ZSBuYW1lIHRvIHZhbHVlLlxuICovXG5mdW5jdGlvbiBmb3JtYXRBdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICB2YXIgYXR0cmlidXRlO1xuICAvLyBgTmFtZWROb2RlTWFwYCBpcyBhcnJheS1saWtlXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhdHRyaWJ1dGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYXR0cmlidXRlID0gYXR0cmlidXRlc1tpXTtcbiAgICByZXN1bHRbYXR0cmlidXRlLm5hbWVdID0gYXR0cmlidXRlLnZhbHVlO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ29ycmVjdHMgdGhlIHRhZyBuYW1lIGlmIGl0IGlzIGNhc2Utc2Vuc2l0aXZlIChTVkcpLlxuICogT3RoZXJ3aXNlLCByZXR1cm5zIHRoZSBsb3dlcmNhc2UgdGFnIG5hbWUgKEhUTUwpLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWdOYW1lIC0gTG93ZXJjYXNlIHRhZyBuYW1lLlxuICogQHJldHVybnMge3N0cmluZ30gLSBGb3JtYXR0ZWQgdGFnIG5hbWUuXG4gKi9cbmZ1bmN0aW9uIGZvcm1hdFRhZ05hbWUodGFnTmFtZSkge1xuICB0YWdOYW1lID0gdGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICB2YXIgY2FzZVNlbnNpdGl2ZVRhZ05hbWUgPSBnZXRDYXNlU2Vuc2l0aXZlVGFnTmFtZSh0YWdOYW1lKTtcbiAgaWYgKGNhc2VTZW5zaXRpdmVUYWdOYW1lKSB7XG4gICAgcmV0dXJuIGNhc2VTZW5zaXRpdmVUYWdOYW1lO1xuICB9XG4gIHJldHVybiB0YWdOYW1lO1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgRE9NIG5vZGVzIHRvIGBkb21oYW5kbGVyYCBub2Rlcy5cbiAqXG4gKiBAcGFyYW0ge05vZGVMaXN0fSBub2RlcyAtIERPTSBub2Rlcy5cbiAqIEBwYXJhbSB7RWxlbWVudHxudWxsfSBbcGFyZW50PW51bGxdIC0gUGFyZW50IG5vZGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2RpcmVjdGl2ZV0gLSBEaXJlY3RpdmUuXG4gKiBAcmV0dXJucyB7QXJyYXk8Q29tbWVudHxFbGVtZW50fFByb2Nlc3NpbmdJbnN0cnVjdGlvbnxUZXh0Pn1cbiAqL1xuZnVuY3Rpb24gZm9ybWF0RE9NKG5vZGVzLCBwYXJlbnQsIGRpcmVjdGl2ZSkge1xuICBwYXJlbnQgPSBwYXJlbnQgfHwgbnVsbDtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIgdGFnTmFtZTtcblxuICBmb3IgKHZhciBpbmRleCA9IDAsIGxlbiA9IG5vZGVzLmxlbmd0aDsgaW5kZXggPCBsZW47IGluZGV4KyspIHtcbiAgICB2YXIgbm9kZSA9IG5vZGVzW2luZGV4XTtcbiAgICB2YXIgY3VycmVudDtcblxuICAgIC8vIHNldCB0aGUgbm9kZSBkYXRhIGdpdmVuIHRoZSB0eXBlXG4gICAgc3dpdGNoIChub2RlLm5vZGVUeXBlKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHRhZ05hbWUgPSBmb3JtYXRUYWdOYW1lKG5vZGUubm9kZU5hbWUpO1xuICAgICAgICAvLyBzY3JpcHQsIHN0eWxlLCBvciB0YWdcbiAgICAgICAgY3VycmVudCA9IG5ldyBFbGVtZW50KHRhZ05hbWUsIGZvcm1hdEF0dHJpYnV0ZXMobm9kZS5hdHRyaWJ1dGVzKSk7XG4gICAgICAgIGN1cnJlbnQuY2hpbGRyZW4gPSBmb3JtYXRET00oXG4gICAgICAgICAgLy8gdGVtcGxhdGUgY2hpbGRyZW4gYXJlIG9uIGNvbnRlbnRcbiAgICAgICAgICB0YWdOYW1lID09PSAndGVtcGxhdGUnID8gbm9kZS5jb250ZW50LmNoaWxkTm9kZXMgOiBub2RlLmNoaWxkTm9kZXMsXG4gICAgICAgICAgY3VycmVudFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAzOlxuICAgICAgICBjdXJyZW50ID0gbmV3IFRleHQobm9kZS5ub2RlVmFsdWUpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSA4OlxuICAgICAgICBjdXJyZW50ID0gbmV3IENvbW1lbnQobm9kZS5ub2RlVmFsdWUpO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gc2V0IHByZXZpb3VzIG5vZGUgbmV4dFxuICAgIHZhciBwcmV2ID0gcmVzdWx0W2luZGV4IC0gMV0gfHwgbnVsbDtcbiAgICBpZiAocHJldikge1xuICAgICAgcHJldi5uZXh0ID0gY3VycmVudDtcbiAgICB9XG5cbiAgICAvLyBzZXQgcHJvcGVydGllcyBmb3IgY3VycmVudCBub2RlXG4gICAgY3VycmVudC5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgY3VycmVudC5wcmV2ID0gcHJldjtcbiAgICBjdXJyZW50Lm5leHQgPSBudWxsO1xuXG4gICAgcmVzdWx0LnB1c2goY3VycmVudCk7XG4gIH1cblxuICBpZiAoZGlyZWN0aXZlKSB7XG4gICAgY3VycmVudCA9IG5ldyBQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24oXG4gICAgICBkaXJlY3RpdmUuc3Vic3RyaW5nKDAsIGRpcmVjdGl2ZS5pbmRleE9mKCcgJykpLnRvTG93ZXJDYXNlKCksXG4gICAgICBkaXJlY3RpdmVcbiAgICApO1xuICAgIGN1cnJlbnQubmV4dCA9IHJlc3VsdFswXSB8fCBudWxsO1xuICAgIGN1cnJlbnQucGFyZW50ID0gcGFyZW50O1xuICAgIHJlc3VsdC51bnNoaWZ0KGN1cnJlbnQpO1xuXG4gICAgaWYgKHJlc3VsdFsxXSkge1xuICAgICAgcmVzdWx0WzFdLnByZXYgPSByZXN1bHRbMF07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0cy5mb3JtYXRBdHRyaWJ1dGVzID0gZm9ybWF0QXR0cmlidXRlcztcbmV4cG9ydHMuZm9ybWF0RE9NID0gZm9ybWF0RE9NO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/html-dom-parser/lib/client/utilities.js\n"));

/***/ }),

/***/ "./node_modules/html-react-parser/index.js":
/*!*************************************************!*\
  !*** ./node_modules/html-react-parser/index.js ***!
  \*************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var domhandler = __webpack_require__(/*! domhandler */ \"./node_modules/domhandler/lib/index.js\");\nvar htmlToDOM = __webpack_require__(/*! html-dom-parser */ \"./node_modules/html-dom-parser/lib/client/html-to-dom.js\");\n\nvar attributesToProps = __webpack_require__(/*! ./lib/attributes-to-props */ \"./node_modules/html-react-parser/lib/attributes-to-props.js\");\nvar domToReact = __webpack_require__(/*! ./lib/dom-to-react */ \"./node_modules/html-react-parser/lib/dom-to-react.js\");\n\n// support backwards compatibility for ES Module\nhtmlToDOM =\n  /* istanbul ignore next */\n  typeof htmlToDOM.default === 'function' ? htmlToDOM.default : htmlToDOM;\n\nvar domParserOptions = { lowerCaseAttributeNames: false };\n\n/**\n * Converts HTML string to React elements.\n *\n * @param {string} html - HTML string.\n * @param {object} [options] - Parser options.\n * @param {object} [options.htmlparser2] - htmlparser2 options.\n * @param {object} [options.library] - Library for React, Preact, etc.\n * @param {Function} [options.replace] - Replace method.\n * @returns {JSX.Element|JSX.Element[]|string} - React element(s), empty array, or string.\n */\nfunction HTMLReactParser(html, options) {\n  if (typeof html !== 'string') {\n    throw new TypeError('First argument must be a string');\n  }\n  if (html === '') {\n    return [];\n  }\n  options = options || {};\n  return domToReact(\n    htmlToDOM(html, options.htmlparser2 || domParserOptions),\n    options\n  );\n}\n\nHTMLReactParser.domToReact = domToReact;\nHTMLReactParser.htmlToDOM = htmlToDOM;\nHTMLReactParser.attributesToProps = attributesToProps;\n\n// domhandler\nHTMLReactParser.Comment = domhandler.Comment;\nHTMLReactParser.Element = domhandler.Element;\nHTMLReactParser.ProcessingInstruction = domhandler.ProcessingInstruction;\nHTMLReactParser.Text = domhandler.Text;\n\n// support CommonJS and ES Modules\nmodule.exports = HTMLReactParser;\nHTMLReactParser.default = HTMLReactParser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaHRtbC1yZWFjdC1wYXJzZXIvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQUEsaUJBQWlCLG1CQUFPLENBQUMsMERBQVk7QUFDckMsZ0JBQWdCLG1CQUFPLENBQUMsaUZBQWlCOztBQUV6Qyx3QkFBd0IsbUJBQU8sQ0FBQyw4RkFBMkI7QUFDM0QsaUJBQWlCLG1CQUFPLENBQUMsZ0ZBQW9COztBQUU3QztBQUNBO0FBQ0E7QUFDQTs7QUFFQSx5QkFBeUI7O0FBRXpCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckIsYUFBYSxrQ0FBa0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2h0bWwtcmVhY3QtcGFyc2VyL2luZGV4LmpzPzhlYzciXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRvbWhhbmRsZXIgPSByZXF1aXJlKCdkb21oYW5kbGVyJyk7XG52YXIgaHRtbFRvRE9NID0gcmVxdWlyZSgnaHRtbC1kb20tcGFyc2VyJyk7XG5cbnZhciBhdHRyaWJ1dGVzVG9Qcm9wcyA9IHJlcXVpcmUoJy4vbGliL2F0dHJpYnV0ZXMtdG8tcHJvcHMnKTtcbnZhciBkb21Ub1JlYWN0ID0gcmVxdWlyZSgnLi9saWIvZG9tLXRvLXJlYWN0Jyk7XG5cbi8vIHN1cHBvcnQgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgZm9yIEVTIE1vZHVsZVxuaHRtbFRvRE9NID1cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgdHlwZW9mIGh0bWxUb0RPTS5kZWZhdWx0ID09PSAnZnVuY3Rpb24nID8gaHRtbFRvRE9NLmRlZmF1bHQgOiBodG1sVG9ET007XG5cbnZhciBkb21QYXJzZXJPcHRpb25zID0geyBsb3dlckNhc2VBdHRyaWJ1dGVOYW1lczogZmFsc2UgfTtcblxuLyoqXG4gKiBDb252ZXJ0cyBIVE1MIHN0cmluZyB0byBSZWFjdCBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaHRtbCAtIEhUTUwgc3RyaW5nLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFBhcnNlciBvcHRpb25zLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLmh0bWxwYXJzZXIyXSAtIGh0bWxwYXJzZXIyIG9wdGlvbnMuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMubGlicmFyeV0gLSBMaWJyYXJ5IGZvciBSZWFjdCwgUHJlYWN0LCBldGMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5yZXBsYWNlXSAtIFJlcGxhY2UgbWV0aG9kLlxuICogQHJldHVybnMge0pTWC5FbGVtZW50fEpTWC5FbGVtZW50W118c3RyaW5nfSAtIFJlYWN0IGVsZW1lbnQocyksIGVtcHR5IGFycmF5LCBvciBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIEhUTUxSZWFjdFBhcnNlcihodG1sLCBvcHRpb25zKSB7XG4gIGlmICh0eXBlb2YgaHRtbCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGh0bWwgPT09ICcnKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICByZXR1cm4gZG9tVG9SZWFjdChcbiAgICBodG1sVG9ET00oaHRtbCwgb3B0aW9ucy5odG1scGFyc2VyMiB8fCBkb21QYXJzZXJPcHRpb25zKSxcbiAgICBvcHRpb25zXG4gICk7XG59XG5cbkhUTUxSZWFjdFBhcnNlci5kb21Ub1JlYWN0ID0gZG9tVG9SZWFjdDtcbkhUTUxSZWFjdFBhcnNlci5odG1sVG9ET00gPSBodG1sVG9ET007XG5IVE1MUmVhY3RQYXJzZXIuYXR0cmlidXRlc1RvUHJvcHMgPSBhdHRyaWJ1dGVzVG9Qcm9wcztcblxuLy8gZG9taGFuZGxlclxuSFRNTFJlYWN0UGFyc2VyLkNvbW1lbnQgPSBkb21oYW5kbGVyLkNvbW1lbnQ7XG5IVE1MUmVhY3RQYXJzZXIuRWxlbWVudCA9IGRvbWhhbmRsZXIuRWxlbWVudDtcbkhUTUxSZWFjdFBhcnNlci5Qcm9jZXNzaW5nSW5zdHJ1Y3Rpb24gPSBkb21oYW5kbGVyLlByb2Nlc3NpbmdJbnN0cnVjdGlvbjtcbkhUTUxSZWFjdFBhcnNlci5UZXh0ID0gZG9taGFuZGxlci5UZXh0O1xuXG4vLyBzdXBwb3J0IENvbW1vbkpTIGFuZCBFUyBNb2R1bGVzXG5tb2R1bGUuZXhwb3J0cyA9IEhUTUxSZWFjdFBhcnNlcjtcbkhUTUxSZWFjdFBhcnNlci5kZWZhdWx0ID0gSFRNTFJlYWN0UGFyc2VyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/html-react-parser/index.js\n"));

/***/ }),

/***/ "./node_modules/html-react-parser/lib/attributes-to-props.js":
/*!*******************************************************************!*\
  !*** ./node_modules/html-react-parser/lib/attributes-to-props.js ***!
  \*******************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var reactProperty = __webpack_require__(/*! react-property */ \"./node_modules/react-property/lib/index.js\");\nvar utilities = __webpack_require__(/*! ./utilities */ \"./node_modules/html-react-parser/lib/utilities.js\");\n\n// https://reactjs.org/docs/uncontrolled-components.html\n// https://developer.mozilla.org/docs/Web/HTML/Attributes\nvar UNCONTROLLED_COMPONENT_ATTRIBUTES = ['checked', 'value'];\nvar UNCONTROLLED_COMPONENT_NAMES = ['input', 'select', 'textarea'];\n\nvar VALUE_ONLY_INPUTS = {\n  reset: true,\n  submit: true\n};\n\n/**\n * Converts HTML/SVG DOM attributes to React props.\n *\n * @param {object} [attributes={}] - HTML/SVG DOM attributes.\n * @param {string} [nodeName] - DOM node name.\n * @returns - React props.\n */\nmodule.exports = function attributesToProps(attributes, nodeName) {\n  attributes = attributes || {};\n\n  var attributeName;\n  var attributeNameLowerCased;\n  var attributeValue;\n  var propName;\n  var propertyInfo;\n  var props = {};\n  var inputIsValueOnly = attributes.type && VALUE_ONLY_INPUTS[attributes.type];\n\n  for (attributeName in attributes) {\n    attributeValue = attributes[attributeName];\n\n    // ARIA (aria-*) or custom data (data-*) attribute\n    if (reactProperty.isCustomAttribute(attributeName)) {\n      props[attributeName] = attributeValue;\n      continue;\n    }\n\n    // convert HTML/SVG attribute to React prop\n    attributeNameLowerCased = attributeName.toLowerCase();\n    propName = getPropName(attributeNameLowerCased);\n\n    if (propName) {\n      propertyInfo = reactProperty.getPropertyInfo(propName);\n\n      // convert attribute to uncontrolled component prop (e.g., `value` to `defaultValue`)\n      if (\n        UNCONTROLLED_COMPONENT_ATTRIBUTES.indexOf(propName) !== -1 &&\n        UNCONTROLLED_COMPONENT_NAMES.indexOf(nodeName) !== -1 &&\n        !inputIsValueOnly\n      ) {\n        propName = getPropName('default' + attributeNameLowerCased);\n      }\n\n      props[propName] = attributeValue;\n\n      switch (propertyInfo && propertyInfo.type) {\n        case reactProperty.BOOLEAN:\n          props[propName] = true;\n          break;\n        case reactProperty.OVERLOADED_BOOLEAN:\n          if (attributeValue === '') {\n            props[propName] = true;\n          }\n          break;\n      }\n      continue;\n    }\n\n    // preserve custom attribute if React >=16\n    if (utilities.PRESERVE_CUSTOM_ATTRIBUTES) {\n      props[attributeName] = attributeValue;\n    }\n  }\n\n  // transform inline style to object\n  utilities.setStyleProp(attributes.style, props);\n\n  return props;\n};\n\n/**\n * Gets prop name from lowercased attribute name.\n *\n * @param {string} attributeName - Lowercased attribute name.\n * @returns - Prop name.\n */\nfunction getPropName(attributeName) {\n  return reactProperty.possibleStandardNames[attributeName];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaHRtbC1yZWFjdC1wYXJzZXIvbGliL2F0dHJpYnV0ZXMtdG8tcHJvcHMuanMiLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CLG1CQUFPLENBQUMsa0VBQWdCO0FBQzVDLGdCQUFnQixtQkFBTyxDQUFDLHNFQUFhOztBQUVyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVEsY0FBYztBQUNqQyxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9odG1sLXJlYWN0LXBhcnNlci9saWIvYXR0cmlidXRlcy10by1wcm9wcy5qcz83MzYyIl0sInNvdXJjZXNDb250ZW50IjpbInZhciByZWFjdFByb3BlcnR5ID0gcmVxdWlyZSgncmVhY3QtcHJvcGVydHknKTtcbnZhciB1dGlsaXRpZXMgPSByZXF1aXJlKCcuL3V0aWxpdGllcycpO1xuXG4vLyBodHRwczovL3JlYWN0anMub3JnL2RvY3MvdW5jb250cm9sbGVkLWNvbXBvbmVudHMuaHRtbFxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSFRNTC9BdHRyaWJ1dGVzXG52YXIgVU5DT05UUk9MTEVEX0NPTVBPTkVOVF9BVFRSSUJVVEVTID0gWydjaGVja2VkJywgJ3ZhbHVlJ107XG52YXIgVU5DT05UUk9MTEVEX0NPTVBPTkVOVF9OQU1FUyA9IFsnaW5wdXQnLCAnc2VsZWN0JywgJ3RleHRhcmVhJ107XG5cbnZhciBWQUxVRV9PTkxZX0lOUFVUUyA9IHtcbiAgcmVzZXQ6IHRydWUsXG4gIHN1Ym1pdDogdHJ1ZVxufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBIVE1ML1NWRyBET00gYXR0cmlidXRlcyB0byBSZWFjdCBwcm9wcy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gW2F0dHJpYnV0ZXM9e31dIC0gSFRNTC9TVkcgRE9NIGF0dHJpYnV0ZXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gW25vZGVOYW1lXSAtIERPTSBub2RlIG5hbWUuXG4gKiBAcmV0dXJucyAtIFJlYWN0IHByb3BzLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGF0dHJpYnV0ZXNUb1Byb3BzKGF0dHJpYnV0ZXMsIG5vZGVOYW1lKSB7XG4gIGF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIHZhciBhdHRyaWJ1dGVOYW1lO1xuICB2YXIgYXR0cmlidXRlTmFtZUxvd2VyQ2FzZWQ7XG4gIHZhciBhdHRyaWJ1dGVWYWx1ZTtcbiAgdmFyIHByb3BOYW1lO1xuICB2YXIgcHJvcGVydHlJbmZvO1xuICB2YXIgcHJvcHMgPSB7fTtcbiAgdmFyIGlucHV0SXNWYWx1ZU9ubHkgPSBhdHRyaWJ1dGVzLnR5cGUgJiYgVkFMVUVfT05MWV9JTlBVVFNbYXR0cmlidXRlcy50eXBlXTtcblxuICBmb3IgKGF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcykge1xuICAgIGF0dHJpYnV0ZVZhbHVlID0gYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXTtcblxuICAgIC8vIEFSSUEgKGFyaWEtKikgb3IgY3VzdG9tIGRhdGEgKGRhdGEtKikgYXR0cmlidXRlXG4gICAgaWYgKHJlYWN0UHJvcGVydHkuaXNDdXN0b21BdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgIHByb3BzW2F0dHJpYnV0ZU5hbWVdID0gYXR0cmlidXRlVmFsdWU7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBjb252ZXJ0IEhUTUwvU1ZHIGF0dHJpYnV0ZSB0byBSZWFjdCBwcm9wXG4gICAgYXR0cmlidXRlTmFtZUxvd2VyQ2FzZWQgPSBhdHRyaWJ1dGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgcHJvcE5hbWUgPSBnZXRQcm9wTmFtZShhdHRyaWJ1dGVOYW1lTG93ZXJDYXNlZCk7XG5cbiAgICBpZiAocHJvcE5hbWUpIHtcbiAgICAgIHByb3BlcnR5SW5mbyA9IHJlYWN0UHJvcGVydHkuZ2V0UHJvcGVydHlJbmZvKHByb3BOYW1lKTtcblxuICAgICAgLy8gY29udmVydCBhdHRyaWJ1dGUgdG8gdW5jb250cm9sbGVkIGNvbXBvbmVudCBwcm9wIChlLmcuLCBgdmFsdWVgIHRvIGBkZWZhdWx0VmFsdWVgKVxuICAgICAgaWYgKFxuICAgICAgICBVTkNPTlRST0xMRURfQ09NUE9ORU5UX0FUVFJJQlVURVMuaW5kZXhPZihwcm9wTmFtZSkgIT09IC0xICYmXG4gICAgICAgIFVOQ09OVFJPTExFRF9DT01QT05FTlRfTkFNRVMuaW5kZXhPZihub2RlTmFtZSkgIT09IC0xICYmXG4gICAgICAgICFpbnB1dElzVmFsdWVPbmx5XG4gICAgICApIHtcbiAgICAgICAgcHJvcE5hbWUgPSBnZXRQcm9wTmFtZSgnZGVmYXVsdCcgKyBhdHRyaWJ1dGVOYW1lTG93ZXJDYXNlZCk7XG4gICAgICB9XG5cbiAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGF0dHJpYnV0ZVZhbHVlO1xuXG4gICAgICBzd2l0Y2ggKHByb3BlcnR5SW5mbyAmJiBwcm9wZXJ0eUluZm8udHlwZSkge1xuICAgICAgICBjYXNlIHJlYWN0UHJvcGVydHkuQk9PTEVBTjpcbiAgICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHJlYWN0UHJvcGVydHkuT1ZFUkxPQURFRF9CT09MRUFOOlxuICAgICAgICAgIGlmIChhdHRyaWJ1dGVWYWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gcHJlc2VydmUgY3VzdG9tIGF0dHJpYnV0ZSBpZiBSZWFjdCA+PTE2XG4gICAgaWYgKHV0aWxpdGllcy5QUkVTRVJWRV9DVVNUT01fQVRUUklCVVRFUykge1xuICAgICAgcHJvcHNbYXR0cmlidXRlTmFtZV0gPSBhdHRyaWJ1dGVWYWx1ZTtcbiAgICB9XG4gIH1cblxuICAvLyB0cmFuc2Zvcm0gaW5saW5lIHN0eWxlIHRvIG9iamVjdFxuICB1dGlsaXRpZXMuc2V0U3R5bGVQcm9wKGF0dHJpYnV0ZXMuc3R5bGUsIHByb3BzKTtcblxuICByZXR1cm4gcHJvcHM7XG59O1xuXG4vKipcbiAqIEdldHMgcHJvcCBuYW1lIGZyb20gbG93ZXJjYXNlZCBhdHRyaWJ1dGUgbmFtZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlTmFtZSAtIExvd2VyY2FzZWQgYXR0cmlidXRlIG5hbWUuXG4gKiBAcmV0dXJucyAtIFByb3AgbmFtZS5cbiAqL1xuZnVuY3Rpb24gZ2V0UHJvcE5hbWUoYXR0cmlidXRlTmFtZSkge1xuICByZXR1cm4gcmVhY3RQcm9wZXJ0eS5wb3NzaWJsZVN0YW5kYXJkTmFtZXNbYXR0cmlidXRlTmFtZV07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/html-react-parser/lib/attributes-to-props.js\n"));

/***/ }),

/***/ "./node_modules/html-react-parser/lib/dom-to-react.js":
/*!************************************************************!*\
  !*** ./node_modules/html-react-parser/lib/dom-to-react.js ***!
  \************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar attributesToProps = __webpack_require__(/*! ./attributes-to-props */ \"./node_modules/html-react-parser/lib/attributes-to-props.js\");\nvar utilities = __webpack_require__(/*! ./utilities */ \"./node_modules/html-react-parser/lib/utilities.js\");\n\nvar setStyleProp = utilities.setStyleProp;\nvar canTextBeChildOfNode = utilities.canTextBeChildOfNode;\n\n/**\n * Converts DOM nodes to JSX element(s).\n *\n * @param {DomElement[]} nodes - DOM nodes.\n * @param {object} [options={}] - Options.\n * @param {Function} [options.replace] - Replacer.\n * @param {object} [options.library] - Library (React, Preact, etc.).\n * @returns - String or JSX element(s).\n */\nfunction domToReact(nodes, options) {\n  options = options || {};\n\n  var library = options.library || React;\n  var cloneElement = library.cloneElement;\n  var createElement = library.createElement;\n  var isValidElement = library.isValidElement;\n\n  var result = [];\n  var node;\n  var isWhitespace;\n  var hasReplace = typeof options.replace === 'function';\n  var replaceElement;\n  var props;\n  var children;\n  var trim = options.trim;\n\n  for (var i = 0, len = nodes.length; i < len; i++) {\n    node = nodes[i];\n\n    // replace with custom React element (if present)\n    if (hasReplace) {\n      replaceElement = options.replace(node);\n\n      if (isValidElement(replaceElement)) {\n        // set \"key\" prop for sibling elements\n        // https://fb.me/react-warning-keys\n        if (len > 1) {\n          replaceElement = cloneElement(replaceElement, {\n            key: replaceElement.key || i\n          });\n        }\n        result.push(replaceElement);\n        continue;\n      }\n    }\n\n    if (node.type === 'text') {\n      isWhitespace = !node.data.trim().length;\n\n      if (isWhitespace && node.parent && !canTextBeChildOfNode(node.parent)) {\n        // We have a whitespace node that can't be nested in its parent\n        // so skip it\n        continue;\n      }\n\n      if (trim && isWhitespace) {\n        // Trim is enabled and we have a whitespace node\n        // so skip it\n        continue;\n      }\n\n      // We have a text node that's not whitespace and it can be nested\n      // in its parent so add it to the results\n      result.push(node.data);\n      continue;\n    }\n\n    props = node.attribs;\n    if (skipAttributesToProps(node)) {\n      setStyleProp(props.style, props);\n    } else if (props) {\n      props = attributesToProps(props, node.name);\n    }\n\n    children = null;\n\n    switch (node.type) {\n      case 'script':\n      case 'style':\n        // prevent text in <script> or <style> from being escaped\n        // https://reactjs.org/docs/dom-elements.html#dangerouslysetinnerhtml\n        if (node.children[0]) {\n          props.dangerouslySetInnerHTML = {\n            __html: node.children[0].data\n          };\n        }\n        break;\n\n      case 'tag':\n        // setting textarea value in children is an antipattern in React\n        // https://reactjs.org/docs/forms.html#the-textarea-tag\n        if (node.name === 'textarea' && node.children[0]) {\n          props.defaultValue = node.children[0].data;\n        } else if (node.children && node.children.length) {\n          // continue recursion of creating React elements (if applicable)\n          children = domToReact(node.children, options);\n        }\n        break;\n\n      // skip all other cases (e.g., comment)\n      default:\n        continue;\n    }\n\n    // set \"key\" prop for sibling elements\n    // https://fb.me/react-warning-keys\n    if (len > 1) {\n      props.key = i;\n    }\n\n    result.push(createElement(node.name, props, children));\n  }\n\n  return result.length === 1 ? result[0] : result;\n}\n\n/**\n * Determines whether DOM element attributes should be transformed to props.\n * Web Components should not have their attributes transformed except for `style`.\n *\n * @param {DomElement} node\n * @returns - Whether node attributes should be converted to props.\n */\nfunction skipAttributesToProps(node) {\n  return (\n    utilities.PRESERVE_CUSTOM_ATTRIBUTES &&\n    node.type === 'tag' &&\n    utilities.isCustomComponent(node.name, node.attribs)\n  );\n}\n\nmodule.exports = domToReact;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaHRtbC1yZWFjdC1wYXJzZXIvbGliL2RvbS10by1yZWFjdC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxZQUFZLG1CQUFPLENBQUMsNENBQU87QUFDM0Isd0JBQXdCLG1CQUFPLENBQUMsMEZBQXVCO0FBQ3ZELGdCQUFnQixtQkFBTyxDQUFDLHNFQUFhOztBQUVyQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QixXQUFXLFFBQVEsV0FBVztBQUM5QixXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0NBQXNDLFNBQVM7QUFDL0M7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvaHRtbC1yZWFjdC1wYXJzZXIvbGliL2RvbS10by1yZWFjdC5qcz9lYmNhIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG52YXIgYXR0cmlidXRlc1RvUHJvcHMgPSByZXF1aXJlKCcuL2F0dHJpYnV0ZXMtdG8tcHJvcHMnKTtcbnZhciB1dGlsaXRpZXMgPSByZXF1aXJlKCcuL3V0aWxpdGllcycpO1xuXG52YXIgc2V0U3R5bGVQcm9wID0gdXRpbGl0aWVzLnNldFN0eWxlUHJvcDtcbnZhciBjYW5UZXh0QmVDaGlsZE9mTm9kZSA9IHV0aWxpdGllcy5jYW5UZXh0QmVDaGlsZE9mTm9kZTtcblxuLyoqXG4gKiBDb252ZXJ0cyBET00gbm9kZXMgdG8gSlNYIGVsZW1lbnQocykuXG4gKlxuICogQHBhcmFtIHtEb21FbGVtZW50W119IG5vZGVzIC0gRE9NIG5vZGVzLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zPXt9XSAtIE9wdGlvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5yZXBsYWNlXSAtIFJlcGxhY2VyLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLmxpYnJhcnldIC0gTGlicmFyeSAoUmVhY3QsIFByZWFjdCwgZXRjLikuXG4gKiBAcmV0dXJucyAtIFN0cmluZyBvciBKU1ggZWxlbWVudChzKS5cbiAqL1xuZnVuY3Rpb24gZG9tVG9SZWFjdChub2Rlcywgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB2YXIgbGlicmFyeSA9IG9wdGlvbnMubGlicmFyeSB8fCBSZWFjdDtcbiAgdmFyIGNsb25lRWxlbWVudCA9IGxpYnJhcnkuY2xvbmVFbGVtZW50O1xuICB2YXIgY3JlYXRlRWxlbWVudCA9IGxpYnJhcnkuY3JlYXRlRWxlbWVudDtcbiAgdmFyIGlzVmFsaWRFbGVtZW50ID0gbGlicmFyeS5pc1ZhbGlkRWxlbWVudDtcblxuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBub2RlO1xuICB2YXIgaXNXaGl0ZXNwYWNlO1xuICB2YXIgaGFzUmVwbGFjZSA9IHR5cGVvZiBvcHRpb25zLnJlcGxhY2UgPT09ICdmdW5jdGlvbic7XG4gIHZhciByZXBsYWNlRWxlbWVudDtcbiAgdmFyIHByb3BzO1xuICB2YXIgY2hpbGRyZW47XG4gIHZhciB0cmltID0gb3B0aW9ucy50cmltO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBub2Rlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIG5vZGUgPSBub2Rlc1tpXTtcblxuICAgIC8vIHJlcGxhY2Ugd2l0aCBjdXN0b20gUmVhY3QgZWxlbWVudCAoaWYgcHJlc2VudClcbiAgICBpZiAoaGFzUmVwbGFjZSkge1xuICAgICAgcmVwbGFjZUVsZW1lbnQgPSBvcHRpb25zLnJlcGxhY2Uobm9kZSk7XG5cbiAgICAgIGlmIChpc1ZhbGlkRWxlbWVudChyZXBsYWNlRWxlbWVudCkpIHtcbiAgICAgICAgLy8gc2V0IFwia2V5XCIgcHJvcCBmb3Igc2libGluZyBlbGVtZW50c1xuICAgICAgICAvLyBodHRwczovL2ZiLm1lL3JlYWN0LXdhcm5pbmcta2V5c1xuICAgICAgICBpZiAobGVuID4gMSkge1xuICAgICAgICAgIHJlcGxhY2VFbGVtZW50ID0gY2xvbmVFbGVtZW50KHJlcGxhY2VFbGVtZW50LCB7XG4gICAgICAgICAgICBrZXk6IHJlcGxhY2VFbGVtZW50LmtleSB8fCBpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0LnB1c2gocmVwbGFjZUVsZW1lbnQpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobm9kZS50eXBlID09PSAndGV4dCcpIHtcbiAgICAgIGlzV2hpdGVzcGFjZSA9ICFub2RlLmRhdGEudHJpbSgpLmxlbmd0aDtcblxuICAgICAgaWYgKGlzV2hpdGVzcGFjZSAmJiBub2RlLnBhcmVudCAmJiAhY2FuVGV4dEJlQ2hpbGRPZk5vZGUobm9kZS5wYXJlbnQpKSB7XG4gICAgICAgIC8vIFdlIGhhdmUgYSB3aGl0ZXNwYWNlIG5vZGUgdGhhdCBjYW4ndCBiZSBuZXN0ZWQgaW4gaXRzIHBhcmVudFxuICAgICAgICAvLyBzbyBza2lwIGl0XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHJpbSAmJiBpc1doaXRlc3BhY2UpIHtcbiAgICAgICAgLy8gVHJpbSBpcyBlbmFibGVkIGFuZCB3ZSBoYXZlIGEgd2hpdGVzcGFjZSBub2RlXG4gICAgICAgIC8vIHNvIHNraXAgaXRcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIFdlIGhhdmUgYSB0ZXh0IG5vZGUgdGhhdCdzIG5vdCB3aGl0ZXNwYWNlIGFuZCBpdCBjYW4gYmUgbmVzdGVkXG4gICAgICAvLyBpbiBpdHMgcGFyZW50IHNvIGFkZCBpdCB0byB0aGUgcmVzdWx0c1xuICAgICAgcmVzdWx0LnB1c2gobm9kZS5kYXRhKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHByb3BzID0gbm9kZS5hdHRyaWJzO1xuICAgIGlmIChza2lwQXR0cmlidXRlc1RvUHJvcHMobm9kZSkpIHtcbiAgICAgIHNldFN0eWxlUHJvcChwcm9wcy5zdHlsZSwgcHJvcHMpO1xuICAgIH0gZWxzZSBpZiAocHJvcHMpIHtcbiAgICAgIHByb3BzID0gYXR0cmlidXRlc1RvUHJvcHMocHJvcHMsIG5vZGUubmFtZSk7XG4gICAgfVxuXG4gICAgY2hpbGRyZW4gPSBudWxsO1xuXG4gICAgc3dpdGNoIChub2RlLnR5cGUpIHtcbiAgICAgIGNhc2UgJ3NjcmlwdCc6XG4gICAgICBjYXNlICdzdHlsZSc6XG4gICAgICAgIC8vIHByZXZlbnQgdGV4dCBpbiA8c2NyaXB0PiBvciA8c3R5bGU+IGZyb20gYmVpbmcgZXNjYXBlZFxuICAgICAgICAvLyBodHRwczovL3JlYWN0anMub3JnL2RvY3MvZG9tLWVsZW1lbnRzLmh0bWwjZGFuZ2Vyb3VzbHlzZXRpbm5lcmh0bWxcbiAgICAgICAgaWYgKG5vZGUuY2hpbGRyZW5bMF0pIHtcbiAgICAgICAgICBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCA9IHtcbiAgICAgICAgICAgIF9faHRtbDogbm9kZS5jaGlsZHJlblswXS5kYXRhXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAndGFnJzpcbiAgICAgICAgLy8gc2V0dGluZyB0ZXh0YXJlYSB2YWx1ZSBpbiBjaGlsZHJlbiBpcyBhbiBhbnRpcGF0dGVybiBpbiBSZWFjdFxuICAgICAgICAvLyBodHRwczovL3JlYWN0anMub3JnL2RvY3MvZm9ybXMuaHRtbCN0aGUtdGV4dGFyZWEtdGFnXG4gICAgICAgIGlmIChub2RlLm5hbWUgPT09ICd0ZXh0YXJlYScgJiYgbm9kZS5jaGlsZHJlblswXSkge1xuICAgICAgICAgIHByb3BzLmRlZmF1bHRWYWx1ZSA9IG5vZGUuY2hpbGRyZW5bMF0uZGF0YTtcbiAgICAgICAgfSBlbHNlIGlmIChub2RlLmNoaWxkcmVuICYmIG5vZGUuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gY29udGludWUgcmVjdXJzaW9uIG9mIGNyZWF0aW5nIFJlYWN0IGVsZW1lbnRzIChpZiBhcHBsaWNhYmxlKVxuICAgICAgICAgIGNoaWxkcmVuID0gZG9tVG9SZWFjdChub2RlLmNoaWxkcmVuLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgLy8gc2tpcCBhbGwgb3RoZXIgY2FzZXMgKGUuZy4sIGNvbW1lbnQpXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBzZXQgXCJrZXlcIiBwcm9wIGZvciBzaWJsaW5nIGVsZW1lbnRzXG4gICAgLy8gaHR0cHM6Ly9mYi5tZS9yZWFjdC13YXJuaW5nLWtleXNcbiAgICBpZiAobGVuID4gMSkge1xuICAgICAgcHJvcHMua2V5ID0gaTtcbiAgICB9XG5cbiAgICByZXN1bHQucHVzaChjcmVhdGVFbGVtZW50KG5vZGUubmFtZSwgcHJvcHMsIGNoaWxkcmVuKSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0Lmxlbmd0aCA9PT0gMSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgRE9NIGVsZW1lbnQgYXR0cmlidXRlcyBzaG91bGQgYmUgdHJhbnNmb3JtZWQgdG8gcHJvcHMuXG4gKiBXZWIgQ29tcG9uZW50cyBzaG91bGQgbm90IGhhdmUgdGhlaXIgYXR0cmlidXRlcyB0cmFuc2Zvcm1lZCBleGNlcHQgZm9yIGBzdHlsZWAuXG4gKlxuICogQHBhcmFtIHtEb21FbGVtZW50fSBub2RlXG4gKiBAcmV0dXJucyAtIFdoZXRoZXIgbm9kZSBhdHRyaWJ1dGVzIHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gcHJvcHMuXG4gKi9cbmZ1bmN0aW9uIHNraXBBdHRyaWJ1dGVzVG9Qcm9wcyhub2RlKSB7XG4gIHJldHVybiAoXG4gICAgdXRpbGl0aWVzLlBSRVNFUlZFX0NVU1RPTV9BVFRSSUJVVEVTICYmXG4gICAgbm9kZS50eXBlID09PSAndGFnJyAmJlxuICAgIHV0aWxpdGllcy5pc0N1c3RvbUNvbXBvbmVudChub2RlLm5hbWUsIG5vZGUuYXR0cmlicylcbiAgKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkb21Ub1JlYWN0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/html-react-parser/lib/dom-to-react.js\n"));

/***/ }),

/***/ "./node_modules/html-react-parser/lib/utilities.js":
/*!*********************************************************!*\
  !*** ./node_modules/html-react-parser/lib/utilities.js ***!
  \*********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar styleToJS = (__webpack_require__(/*! style-to-js */ \"./node_modules/style-to-js/cjs/index.js\")[\"default\"]);\n\n/**\n * Swap key with value in an object.\n *\n * @param {object} obj - The object.\n * @param {Function} [override] - The override method.\n * @returns - The inverted object.\n */\nfunction invertObject(obj, override) {\n  if (!obj || typeof obj !== 'object') {\n    throw new TypeError('First argument must be an object');\n  }\n\n  var key;\n  var value;\n  var isOverridePresent = typeof override === 'function';\n  var overrides = {};\n  var result = {};\n\n  for (key in obj) {\n    value = obj[key];\n\n    if (isOverridePresent) {\n      overrides = override(key, value);\n      if (overrides && overrides.length === 2) {\n        result[overrides[0]] = overrides[1];\n        continue;\n      }\n    }\n\n    if (typeof value === 'string') {\n      result[value] = key;\n    }\n  }\n\n  return result;\n}\n\n/**\n * Check if a given tag is a custom component.\n *\n * @see {@link https://github.com/facebook/react/blob/v16.6.3/packages/react-dom/src/shared/isCustomComponent.js}\n *\n * @param {string} tagName - The name of the html tag.\n * @param {object} props - The props being passed to the element.\n * @returns - Whether tag is custom component.\n */\nfunction isCustomComponent(tagName, props) {\n  if (tagName.indexOf('-') === -1) {\n    return props && typeof props.is === 'string';\n  }\n\n  switch (tagName) {\n    // These are reserved SVG and MathML elements.\n    // We don't mind this whitelist too much because we expect it to never grow.\n    // The alternative is to track the namespace in a few places which is convoluted.\n    // https://w3c.github.io/webcomponents/spec/custom/#custom-elements-core-concepts\n    case 'annotation-xml':\n    case 'color-profile':\n    case 'font-face':\n    case 'font-face-src':\n    case 'font-face-uri':\n    case 'font-face-format':\n    case 'font-face-name':\n    case 'missing-glyph':\n      return false;\n    default:\n      return true;\n  }\n}\n\nvar styleToJSOptions = { reactCompat: true };\n\n/**\n * Sets style prop.\n *\n * @param {null|undefined|string} style\n * @param {object} props\n */\nfunction setStyleProp(style, props) {\n  if (style === null || style === undefined) {\n    return;\n  }\n  try {\n    props.style = styleToJS(style, styleToJSOptions);\n  } catch (err) {\n    props.style = {};\n  }\n}\n\n/**\n * @constant {boolean}\n * @see {@link https://reactjs.org/blog/2017/09/08/dom-attributes-in-react-16.html}\n */\nvar PRESERVE_CUSTOM_ATTRIBUTES = React.version.split('.')[0] >= 16;\n\n// Taken from\n// https://github.com/facebook/react/blob/cae635054e17a6f107a39d328649137b83f25972/packages/react-dom/src/client/validateDOMNesting.js#L213\nvar elementsWithNoTextChildren = new Set([\n  'tr',\n  'tbody',\n  'thead',\n  'tfoot',\n  'colgroup',\n  'table',\n  'head',\n  'html',\n  'frameset'\n]);\n\n/**\n * Checks if the given node can contain text nodes\n *\n * @param {DomElement} node - Node.\n * @returns - Whether node can contain text nodes.\n */\nfunction canTextBeChildOfNode(node) {\n  return !elementsWithNoTextChildren.has(node.name);\n}\n\nmodule.exports = {\n  PRESERVE_CUSTOM_ATTRIBUTES: PRESERVE_CUSTOM_ATTRIBUTES,\n  invertObject: invertObject,\n  isCustomComponent: isCustomComponent,\n  setStyleProp: setStyleProp,\n  canTextBeChildOfNode: canTextBeChildOfNode,\n  elementsWithNoTextChildren: elementsWithNoTextChildren\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaHRtbC1yZWFjdC1wYXJzZXIvbGliL3V0aWxpdGllcy5qcyIsIm1hcHBpbmdzIjoiQUFBQSxZQUFZLG1CQUFPLENBQUMsNENBQU87QUFDM0IsZ0JBQWdCLDhGQUE4Qjs7QUFFOUM7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHlCQUF5Qjs7QUFFekI7QUFDQTtBQUNBO0FBQ0EsV0FBVyx1QkFBdUI7QUFDbEMsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGNBQWM7QUFDZCxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9odG1sLXJlYWN0LXBhcnNlci9saWIvdXRpbGl0aWVzLmpzPzZlM2YiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbnZhciBzdHlsZVRvSlMgPSByZXF1aXJlKCdzdHlsZS10by1qcycpLmRlZmF1bHQ7XG5cbi8qKlxuICogU3dhcCBrZXkgd2l0aCB2YWx1ZSBpbiBhbiBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9iaiAtIFRoZSBvYmplY3QuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3ZlcnJpZGVdIC0gVGhlIG92ZXJyaWRlIG1ldGhvZC5cbiAqIEByZXR1cm5zIC0gVGhlIGludmVydGVkIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gaW52ZXJ0T2JqZWN0KG9iaiwgb3ZlcnJpZGUpIHtcbiAgaWYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICB9XG5cbiAgdmFyIGtleTtcbiAgdmFyIHZhbHVlO1xuICB2YXIgaXNPdmVycmlkZVByZXNlbnQgPSB0eXBlb2Ygb3ZlcnJpZGUgPT09ICdmdW5jdGlvbic7XG4gIHZhciBvdmVycmlkZXMgPSB7fTtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gIGZvciAoa2V5IGluIG9iaikge1xuICAgIHZhbHVlID0gb2JqW2tleV07XG5cbiAgICBpZiAoaXNPdmVycmlkZVByZXNlbnQpIHtcbiAgICAgIG92ZXJyaWRlcyA9IG92ZXJyaWRlKGtleSwgdmFsdWUpO1xuICAgICAgaWYgKG92ZXJyaWRlcyAmJiBvdmVycmlkZXMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHJlc3VsdFtvdmVycmlkZXNbMF1dID0gb3ZlcnJpZGVzWzFdO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgcmVzdWx0W3ZhbHVlXSA9IGtleTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGEgZ2l2ZW4gdGFnIGlzIGEgY3VzdG9tIGNvbXBvbmVudC5cbiAqXG4gKiBAc2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi92MTYuNi4zL3BhY2thZ2VzL3JlYWN0LWRvbS9zcmMvc2hhcmVkL2lzQ3VzdG9tQ29tcG9uZW50LmpzfVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWdOYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGh0bWwgdGFnLlxuICogQHBhcmFtIHtvYmplY3R9IHByb3BzIC0gVGhlIHByb3BzIGJlaW5nIHBhc3NlZCB0byB0aGUgZWxlbWVudC5cbiAqIEByZXR1cm5zIC0gV2hldGhlciB0YWcgaXMgY3VzdG9tIGNvbXBvbmVudC5cbiAqL1xuZnVuY3Rpb24gaXNDdXN0b21Db21wb25lbnQodGFnTmFtZSwgcHJvcHMpIHtcbiAgaWYgKHRhZ05hbWUuaW5kZXhPZignLScpID09PSAtMSkge1xuICAgIHJldHVybiBwcm9wcyAmJiB0eXBlb2YgcHJvcHMuaXMgPT09ICdzdHJpbmcnO1xuICB9XG5cbiAgc3dpdGNoICh0YWdOYW1lKSB7XG4gICAgLy8gVGhlc2UgYXJlIHJlc2VydmVkIFNWRyBhbmQgTWF0aE1MIGVsZW1lbnRzLlxuICAgIC8vIFdlIGRvbid0IG1pbmQgdGhpcyB3aGl0ZWxpc3QgdG9vIG11Y2ggYmVjYXVzZSB3ZSBleHBlY3QgaXQgdG8gbmV2ZXIgZ3Jvdy5cbiAgICAvLyBUaGUgYWx0ZXJuYXRpdmUgaXMgdG8gdHJhY2sgdGhlIG5hbWVzcGFjZSBpbiBhIGZldyBwbGFjZXMgd2hpY2ggaXMgY29udm9sdXRlZC5cbiAgICAvLyBodHRwczovL3czYy5naXRodWIuaW8vd2ViY29tcG9uZW50cy9zcGVjL2N1c3RvbS8jY3VzdG9tLWVsZW1lbnRzLWNvcmUtY29uY2VwdHNcbiAgICBjYXNlICdhbm5vdGF0aW9uLXhtbCc6XG4gICAgY2FzZSAnY29sb3ItcHJvZmlsZSc6XG4gICAgY2FzZSAnZm9udC1mYWNlJzpcbiAgICBjYXNlICdmb250LWZhY2Utc3JjJzpcbiAgICBjYXNlICdmb250LWZhY2UtdXJpJzpcbiAgICBjYXNlICdmb250LWZhY2UtZm9ybWF0JzpcbiAgICBjYXNlICdmb250LWZhY2UtbmFtZSc6XG4gICAgY2FzZSAnbWlzc2luZy1nbHlwaCc6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbnZhciBzdHlsZVRvSlNPcHRpb25zID0geyByZWFjdENvbXBhdDogdHJ1ZSB9O1xuXG4vKipcbiAqIFNldHMgc3R5bGUgcHJvcC5cbiAqXG4gKiBAcGFyYW0ge251bGx8dW5kZWZpbmVkfHN0cmluZ30gc3R5bGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wc1xuICovXG5mdW5jdGlvbiBzZXRTdHlsZVByb3Aoc3R5bGUsIHByb3BzKSB7XG4gIGlmIChzdHlsZSA9PT0gbnVsbCB8fCBzdHlsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRyeSB7XG4gICAgcHJvcHMuc3R5bGUgPSBzdHlsZVRvSlMoc3R5bGUsIHN0eWxlVG9KU09wdGlvbnMpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBwcm9wcy5zdHlsZSA9IHt9O1xuICB9XG59XG5cbi8qKlxuICogQGNvbnN0YW50IHtib29sZWFufVxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9yZWFjdGpzLm9yZy9ibG9nLzIwMTcvMDkvMDgvZG9tLWF0dHJpYnV0ZXMtaW4tcmVhY3QtMTYuaHRtbH1cbiAqL1xudmFyIFBSRVNFUlZFX0NVU1RPTV9BVFRSSUJVVEVTID0gUmVhY3QudmVyc2lvbi5zcGxpdCgnLicpWzBdID49IDE2O1xuXG4vLyBUYWtlbiBmcm9tXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9jYWU2MzUwNTRlMTdhNmYxMDdhMzlkMzI4NjQ5MTM3YjgzZjI1OTcyL3BhY2thZ2VzL3JlYWN0LWRvbS9zcmMvY2xpZW50L3ZhbGlkYXRlRE9NTmVzdGluZy5qcyNMMjEzXG52YXIgZWxlbWVudHNXaXRoTm9UZXh0Q2hpbGRyZW4gPSBuZXcgU2V0KFtcbiAgJ3RyJyxcbiAgJ3Rib2R5JyxcbiAgJ3RoZWFkJyxcbiAgJ3Rmb290JyxcbiAgJ2NvbGdyb3VwJyxcbiAgJ3RhYmxlJyxcbiAgJ2hlYWQnLFxuICAnaHRtbCcsXG4gICdmcmFtZXNldCdcbl0pO1xuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gbm9kZSBjYW4gY29udGFpbiB0ZXh0IG5vZGVzXG4gKlxuICogQHBhcmFtIHtEb21FbGVtZW50fSBub2RlIC0gTm9kZS5cbiAqIEByZXR1cm5zIC0gV2hldGhlciBub2RlIGNhbiBjb250YWluIHRleHQgbm9kZXMuXG4gKi9cbmZ1bmN0aW9uIGNhblRleHRCZUNoaWxkT2ZOb2RlKG5vZGUpIHtcbiAgcmV0dXJuICFlbGVtZW50c1dpdGhOb1RleHRDaGlsZHJlbi5oYXMobm9kZS5uYW1lKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIFBSRVNFUlZFX0NVU1RPTV9BVFRSSUJVVEVTOiBQUkVTRVJWRV9DVVNUT01fQVRUUklCVVRFUyxcbiAgaW52ZXJ0T2JqZWN0OiBpbnZlcnRPYmplY3QsXG4gIGlzQ3VzdG9tQ29tcG9uZW50OiBpc0N1c3RvbUNvbXBvbmVudCxcbiAgc2V0U3R5bGVQcm9wOiBzZXRTdHlsZVByb3AsXG4gIGNhblRleHRCZUNoaWxkT2ZOb2RlOiBjYW5UZXh0QmVDaGlsZE9mTm9kZSxcbiAgZWxlbWVudHNXaXRoTm9UZXh0Q2hpbGRyZW46IGVsZW1lbnRzV2l0aE5vVGV4dENoaWxkcmVuXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/html-react-parser/lib/utilities.js\n"));

/***/ }),

/***/ "./node_modules/inline-style-parser/index.js":
/*!***************************************************!*\
  !*** ./node_modules/inline-style-parser/index.js ***!
  \***************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("// http://www.w3.org/TR/CSS21/grammar.html\n// https://github.com/visionmedia/css-parse/pull/49#issuecomment-30088027\nvar COMMENT_REGEX = /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//g;\n\nvar NEWLINE_REGEX = /\\n/g;\nvar WHITESPACE_REGEX = /^\\s*/;\n\n// declaration\nvar PROPERTY_REGEX = /^(\\*?[-#/*\\\\\\w]+(\\[[0-9a-z_-]+\\])?)\\s*/;\nvar COLON_REGEX = /^:\\s*/;\nvar VALUE_REGEX = /^((?:'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|\\([^)]*?\\)|[^};])+)/;\nvar SEMICOLON_REGEX = /^[;\\s]*/;\n\n// https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String/Trim#Polyfill\nvar TRIM_REGEX = /^\\s+|\\s+$/g;\n\n// strings\nvar NEWLINE = '\\n';\nvar FORWARD_SLASH = '/';\nvar ASTERISK = '*';\nvar EMPTY_STRING = '';\n\n// types\nvar TYPE_COMMENT = 'comment';\nvar TYPE_DECLARATION = 'declaration';\n\n/**\n * @param {String} style\n * @param {Object} [options]\n * @return {Object[]}\n * @throws {TypeError}\n * @throws {Error}\n */\nmodule.exports = function(style, options) {\n  if (typeof style !== 'string') {\n    throw new TypeError('First argument must be a string');\n  }\n\n  if (!style) return [];\n\n  options = options || {};\n\n  /**\n   * Positional.\n   */\n  var lineno = 1;\n  var column = 1;\n\n  /**\n   * Update lineno and column based on `str`.\n   *\n   * @param {String} str\n   */\n  function updatePosition(str) {\n    var lines = str.match(NEWLINE_REGEX);\n    if (lines) lineno += lines.length;\n    var i = str.lastIndexOf(NEWLINE);\n    column = ~i ? str.length - i : column + str.length;\n  }\n\n  /**\n   * Mark position and patch `node.position`.\n   *\n   * @return {Function}\n   */\n  function position() {\n    var start = { line: lineno, column: column };\n    return function(node) {\n      node.position = new Position(start);\n      whitespace();\n      return node;\n    };\n  }\n\n  /**\n   * Store position information for a node.\n   *\n   * @constructor\n   * @property {Object} start\n   * @property {Object} end\n   * @property {undefined|String} source\n   */\n  function Position(start) {\n    this.start = start;\n    this.end = { line: lineno, column: column };\n    this.source = options.source;\n  }\n\n  /**\n   * Non-enumerable source string.\n   */\n  Position.prototype.content = style;\n\n  var errorsList = [];\n\n  /**\n   * Error `msg`.\n   *\n   * @param {String} msg\n   * @throws {Error}\n   */\n  function error(msg) {\n    var err = new Error(\n      options.source + ':' + lineno + ':' + column + ': ' + msg\n    );\n    err.reason = msg;\n    err.filename = options.source;\n    err.line = lineno;\n    err.column = column;\n    err.source = style;\n\n    if (options.silent) {\n      errorsList.push(err);\n    } else {\n      throw err;\n    }\n  }\n\n  /**\n   * Match `re` and return captures.\n   *\n   * @param {RegExp} re\n   * @return {undefined|Array}\n   */\n  function match(re) {\n    var m = re.exec(style);\n    if (!m) return;\n    var str = m[0];\n    updatePosition(str);\n    style = style.slice(str.length);\n    return m;\n  }\n\n  /**\n   * Parse whitespace.\n   */\n  function whitespace() {\n    match(WHITESPACE_REGEX);\n  }\n\n  /**\n   * Parse comments.\n   *\n   * @param {Object[]} [rules]\n   * @return {Object[]}\n   */\n  function comments(rules) {\n    var c;\n    rules = rules || [];\n    while ((c = comment())) {\n      if (c !== false) {\n        rules.push(c);\n      }\n    }\n    return rules;\n  }\n\n  /**\n   * Parse comment.\n   *\n   * @return {Object}\n   * @throws {Error}\n   */\n  function comment() {\n    var pos = position();\n    if (FORWARD_SLASH != style.charAt(0) || ASTERISK != style.charAt(1)) return;\n\n    var i = 2;\n    while (\n      EMPTY_STRING != style.charAt(i) &&\n      (ASTERISK != style.charAt(i) || FORWARD_SLASH != style.charAt(i + 1))\n    ) {\n      ++i;\n    }\n    i += 2;\n\n    if (EMPTY_STRING === style.charAt(i - 1)) {\n      return error('End of comment missing');\n    }\n\n    var str = style.slice(2, i - 2);\n    column += 2;\n    updatePosition(str);\n    style = style.slice(i);\n    column += 2;\n\n    return pos({\n      type: TYPE_COMMENT,\n      comment: str\n    });\n  }\n\n  /**\n   * Parse declaration.\n   *\n   * @return {Object}\n   * @throws {Error}\n   */\n  function declaration() {\n    var pos = position();\n\n    // prop\n    var prop = match(PROPERTY_REGEX);\n    if (!prop) return;\n    comment();\n\n    // :\n    if (!match(COLON_REGEX)) return error(\"property missing ':'\");\n\n    // val\n    var val = match(VALUE_REGEX);\n\n    var ret = pos({\n      type: TYPE_DECLARATION,\n      property: trim(prop[0].replace(COMMENT_REGEX, EMPTY_STRING)),\n      value: val\n        ? trim(val[0].replace(COMMENT_REGEX, EMPTY_STRING))\n        : EMPTY_STRING\n    });\n\n    // ;\n    match(SEMICOLON_REGEX);\n\n    return ret;\n  }\n\n  /**\n   * Parse declarations.\n   *\n   * @return {Object[]}\n   */\n  function declarations() {\n    var decls = [];\n\n    comments(decls);\n\n    // declarations\n    var decl;\n    while ((decl = declaration())) {\n      if (decl !== false) {\n        decls.push(decl);\n        comments(decls);\n      }\n    }\n\n    return decls;\n  }\n\n  whitespace();\n  return declarations();\n};\n\n/**\n * Trim `str`.\n *\n * @param {String} str\n * @return {String}\n */\nfunction trim(str) {\n  return str ? str.replace(TRIM_REGEX, EMPTY_STRING) : EMPTY_STRING;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaW5saW5lLXN0eWxlLXBhcnNlci9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUU7QUFDbkUsMEJBQTBCOztBQUUxQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixZQUFZO0FBQ1osWUFBWTtBQUNaLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixrQkFBa0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZCxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9pbmxpbmUtc3R5bGUtcGFyc2VyL2luZGV4LmpzPzVkYjMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMjEvZ3JhbW1hci5odG1sXG4vLyBodHRwczovL2dpdGh1Yi5jb20vdmlzaW9ubWVkaWEvY3NzLXBhcnNlL3B1bGwvNDkjaXNzdWVjb21tZW50LTMwMDg4MDI3XG52YXIgQ09NTUVOVF9SRUdFWCA9IC9cXC9cXCpbXipdKlxcKisoW14vKl1bXipdKlxcKispKlxcLy9nO1xuXG52YXIgTkVXTElORV9SRUdFWCA9IC9cXG4vZztcbnZhciBXSElURVNQQUNFX1JFR0VYID0gL15cXHMqLztcblxuLy8gZGVjbGFyYXRpb25cbnZhciBQUk9QRVJUWV9SRUdFWCA9IC9eKFxcKj9bLSMvKlxcXFxcXHddKyhcXFtbMC05YS16Xy1dK1xcXSk/KVxccyovO1xudmFyIENPTE9OX1JFR0VYID0gL146XFxzKi87XG52YXIgVkFMVUVfUkVHRVggPSAvXigoPzonKD86XFxcXCd8LikqPyd8XCIoPzpcXFxcXCJ8LikqP1wifFxcKFteKV0qP1xcKXxbXn07XSkrKS87XG52YXIgU0VNSUNPTE9OX1JFR0VYID0gL15bO1xcc10qLztcblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL1RyaW0jUG9seWZpbGxcbnZhciBUUklNX1JFR0VYID0gL15cXHMrfFxccyskL2c7XG5cbi8vIHN0cmluZ3NcbnZhciBORVdMSU5FID0gJ1xcbic7XG52YXIgRk9SV0FSRF9TTEFTSCA9ICcvJztcbnZhciBBU1RFUklTSyA9ICcqJztcbnZhciBFTVBUWV9TVFJJTkcgPSAnJztcblxuLy8gdHlwZXNcbnZhciBUWVBFX0NPTU1FTlQgPSAnY29tbWVudCc7XG52YXIgVFlQRV9ERUNMQVJBVElPTiA9ICdkZWNsYXJhdGlvbic7XG5cbi8qKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0eWxlXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcmV0dXJuIHtPYmplY3RbXX1cbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn1cbiAqIEB0aHJvd3Mge0Vycm9yfVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHN0eWxlLCBvcHRpb25zKSB7XG4gIGlmICh0eXBlb2Ygc3R5bGUgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZycpO1xuICB9XG5cbiAgaWYgKCFzdHlsZSkgcmV0dXJuIFtdO1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIC8qKlxuICAgKiBQb3NpdGlvbmFsLlxuICAgKi9cbiAgdmFyIGxpbmVubyA9IDE7XG4gIHZhciBjb2x1bW4gPSAxO1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgbGluZW5vIGFuZCBjb2x1bW4gYmFzZWQgb24gYHN0cmAuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZVBvc2l0aW9uKHN0cikge1xuICAgIHZhciBsaW5lcyA9IHN0ci5tYXRjaChORVdMSU5FX1JFR0VYKTtcbiAgICBpZiAobGluZXMpIGxpbmVubyArPSBsaW5lcy5sZW5ndGg7XG4gICAgdmFyIGkgPSBzdHIubGFzdEluZGV4T2YoTkVXTElORSk7XG4gICAgY29sdW1uID0gfmkgPyBzdHIubGVuZ3RoIC0gaSA6IGNvbHVtbiArIHN0ci5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogTWFyayBwb3NpdGlvbiBhbmQgcGF0Y2ggYG5vZGUucG9zaXRpb25gLlxuICAgKlxuICAgKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAgICovXG4gIGZ1bmN0aW9uIHBvc2l0aW9uKCkge1xuICAgIHZhciBzdGFydCA9IHsgbGluZTogbGluZW5vLCBjb2x1bW46IGNvbHVtbiB9O1xuICAgIHJldHVybiBmdW5jdGlvbihub2RlKSB7XG4gICAgICBub2RlLnBvc2l0aW9uID0gbmV3IFBvc2l0aW9uKHN0YXJ0KTtcbiAgICAgIHdoaXRlc3BhY2UoKTtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogU3RvcmUgcG9zaXRpb24gaW5mb3JtYXRpb24gZm9yIGEgbm9kZS5cbiAgICpcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBzdGFydFxuICAgKiBAcHJvcGVydHkge09iamVjdH0gZW5kXG4gICAqIEBwcm9wZXJ0eSB7dW5kZWZpbmVkfFN0cmluZ30gc291cmNlXG4gICAqL1xuICBmdW5jdGlvbiBQb3NpdGlvbihzdGFydCkge1xuICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcbiAgICB0aGlzLmVuZCA9IHsgbGluZTogbGluZW5vLCBjb2x1bW46IGNvbHVtbiB9O1xuICAgIHRoaXMuc291cmNlID0gb3B0aW9ucy5zb3VyY2U7XG4gIH1cblxuICAvKipcbiAgICogTm9uLWVudW1lcmFibGUgc291cmNlIHN0cmluZy5cbiAgICovXG4gIFBvc2l0aW9uLnByb3RvdHlwZS5jb250ZW50ID0gc3R5bGU7XG5cbiAgdmFyIGVycm9yc0xpc3QgPSBbXTtcblxuICAvKipcbiAgICogRXJyb3IgYG1zZ2AuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtc2dcbiAgICogQHRocm93cyB7RXJyb3J9XG4gICAqL1xuICBmdW5jdGlvbiBlcnJvcihtc2cpIHtcbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKFxuICAgICAgb3B0aW9ucy5zb3VyY2UgKyAnOicgKyBsaW5lbm8gKyAnOicgKyBjb2x1bW4gKyAnOiAnICsgbXNnXG4gICAgKTtcbiAgICBlcnIucmVhc29uID0gbXNnO1xuICAgIGVyci5maWxlbmFtZSA9IG9wdGlvbnMuc291cmNlO1xuICAgIGVyci5saW5lID0gbGluZW5vO1xuICAgIGVyci5jb2x1bW4gPSBjb2x1bW47XG4gICAgZXJyLnNvdXJjZSA9IHN0eWxlO1xuXG4gICAgaWYgKG9wdGlvbnMuc2lsZW50KSB7XG4gICAgICBlcnJvcnNMaXN0LnB1c2goZXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNYXRjaCBgcmVgIGFuZCByZXR1cm4gY2FwdHVyZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVnRXhwfSByZVxuICAgKiBAcmV0dXJuIHt1bmRlZmluZWR8QXJyYXl9XG4gICAqL1xuICBmdW5jdGlvbiBtYXRjaChyZSkge1xuICAgIHZhciBtID0gcmUuZXhlYyhzdHlsZSk7XG4gICAgaWYgKCFtKSByZXR1cm47XG4gICAgdmFyIHN0ciA9IG1bMF07XG4gICAgdXBkYXRlUG9zaXRpb24oc3RyKTtcbiAgICBzdHlsZSA9IHN0eWxlLnNsaWNlKHN0ci5sZW5ndGgpO1xuICAgIHJldHVybiBtO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlIHdoaXRlc3BhY2UuXG4gICAqL1xuICBmdW5jdGlvbiB3aGl0ZXNwYWNlKCkge1xuICAgIG1hdGNoKFdISVRFU1BBQ0VfUkVHRVgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlIGNvbW1lbnRzLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdFtdfSBbcnVsZXNdXG4gICAqIEByZXR1cm4ge09iamVjdFtdfVxuICAgKi9cbiAgZnVuY3Rpb24gY29tbWVudHMocnVsZXMpIHtcbiAgICB2YXIgYztcbiAgICBydWxlcyA9IHJ1bGVzIHx8IFtdO1xuICAgIHdoaWxlICgoYyA9IGNvbW1lbnQoKSkpIHtcbiAgICAgIGlmIChjICE9PSBmYWxzZSkge1xuICAgICAgICBydWxlcy5wdXNoKGMpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcnVsZXM7XG4gIH1cblxuICAvKipcbiAgICogUGFyc2UgY29tbWVudC5cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKiBAdGhyb3dzIHtFcnJvcn1cbiAgICovXG4gIGZ1bmN0aW9uIGNvbW1lbnQoKSB7XG4gICAgdmFyIHBvcyA9IHBvc2l0aW9uKCk7XG4gICAgaWYgKEZPUldBUkRfU0xBU0ggIT0gc3R5bGUuY2hhckF0KDApIHx8IEFTVEVSSVNLICE9IHN0eWxlLmNoYXJBdCgxKSkgcmV0dXJuO1xuXG4gICAgdmFyIGkgPSAyO1xuICAgIHdoaWxlIChcbiAgICAgIEVNUFRZX1NUUklORyAhPSBzdHlsZS5jaGFyQXQoaSkgJiZcbiAgICAgIChBU1RFUklTSyAhPSBzdHlsZS5jaGFyQXQoaSkgfHwgRk9SV0FSRF9TTEFTSCAhPSBzdHlsZS5jaGFyQXQoaSArIDEpKVxuICAgICkge1xuICAgICAgKytpO1xuICAgIH1cbiAgICBpICs9IDI7XG5cbiAgICBpZiAoRU1QVFlfU1RSSU5HID09PSBzdHlsZS5jaGFyQXQoaSAtIDEpKSB7XG4gICAgICByZXR1cm4gZXJyb3IoJ0VuZCBvZiBjb21tZW50IG1pc3NpbmcnKTtcbiAgICB9XG5cbiAgICB2YXIgc3RyID0gc3R5bGUuc2xpY2UoMiwgaSAtIDIpO1xuICAgIGNvbHVtbiArPSAyO1xuICAgIHVwZGF0ZVBvc2l0aW9uKHN0cik7XG4gICAgc3R5bGUgPSBzdHlsZS5zbGljZShpKTtcbiAgICBjb2x1bW4gKz0gMjtcblxuICAgIHJldHVybiBwb3Moe1xuICAgICAgdHlwZTogVFlQRV9DT01NRU5ULFxuICAgICAgY29tbWVudDogc3RyXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUGFyc2UgZGVjbGFyYXRpb24uXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogQHRocm93cyB7RXJyb3J9XG4gICAqL1xuICBmdW5jdGlvbiBkZWNsYXJhdGlvbigpIHtcbiAgICB2YXIgcG9zID0gcG9zaXRpb24oKTtcblxuICAgIC8vIHByb3BcbiAgICB2YXIgcHJvcCA9IG1hdGNoKFBST1BFUlRZX1JFR0VYKTtcbiAgICBpZiAoIXByb3ApIHJldHVybjtcbiAgICBjb21tZW50KCk7XG5cbiAgICAvLyA6XG4gICAgaWYgKCFtYXRjaChDT0xPTl9SRUdFWCkpIHJldHVybiBlcnJvcihcInByb3BlcnR5IG1pc3NpbmcgJzonXCIpO1xuXG4gICAgLy8gdmFsXG4gICAgdmFyIHZhbCA9IG1hdGNoKFZBTFVFX1JFR0VYKTtcblxuICAgIHZhciByZXQgPSBwb3Moe1xuICAgICAgdHlwZTogVFlQRV9ERUNMQVJBVElPTixcbiAgICAgIHByb3BlcnR5OiB0cmltKHByb3BbMF0ucmVwbGFjZShDT01NRU5UX1JFR0VYLCBFTVBUWV9TVFJJTkcpKSxcbiAgICAgIHZhbHVlOiB2YWxcbiAgICAgICAgPyB0cmltKHZhbFswXS5yZXBsYWNlKENPTU1FTlRfUkVHRVgsIEVNUFRZX1NUUklORykpXG4gICAgICAgIDogRU1QVFlfU1RSSU5HXG4gICAgfSk7XG5cbiAgICAvLyA7XG4gICAgbWF0Y2goU0VNSUNPTE9OX1JFR0VYKTtcblxuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICAvKipcbiAgICogUGFyc2UgZGVjbGFyYXRpb25zLlxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3RbXX1cbiAgICovXG4gIGZ1bmN0aW9uIGRlY2xhcmF0aW9ucygpIHtcbiAgICB2YXIgZGVjbHMgPSBbXTtcblxuICAgIGNvbW1lbnRzKGRlY2xzKTtcblxuICAgIC8vIGRlY2xhcmF0aW9uc1xuICAgIHZhciBkZWNsO1xuICAgIHdoaWxlICgoZGVjbCA9IGRlY2xhcmF0aW9uKCkpKSB7XG4gICAgICBpZiAoZGVjbCAhPT0gZmFsc2UpIHtcbiAgICAgICAgZGVjbHMucHVzaChkZWNsKTtcbiAgICAgICAgY29tbWVudHMoZGVjbHMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZWNscztcbiAgfVxuXG4gIHdoaXRlc3BhY2UoKTtcbiAgcmV0dXJuIGRlY2xhcmF0aW9ucygpO1xufTtcblxuLyoqXG4gKiBUcmltIGBzdHJgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gdHJpbShzdHIpIHtcbiAgcmV0dXJuIHN0ciA/IHN0ci5yZXBsYWNlKFRSSU1fUkVHRVgsIEVNUFRZX1NUUklORykgOiBFTVBUWV9TVFJJTkc7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/inline-style-parser/index.js\n"));

/***/ }),

/***/ "./node_modules/isomorphic-fetch/fetch-npm-browserify.js":
/*!***************************************************************!*\
  !*** ./node_modules/isomorphic-fetch/fetch-npm-browserify.js ***!
  \***************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("// the whatwg-fetch polyfill installs the fetch() function\n// on the global object (window or self)\n//\n// Return that as the export for use in Webpack, Browserify etc.\n__webpack_require__(/*! whatwg-fetch */ \"./node_modules/next/dist/build/polyfills/fetch/whatwg-fetch.js\");\nmodule.exports = self.fetch.bind(self);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaXNvbW9ycGhpYy1mZXRjaC9mZXRjaC1ucG0tYnJvd3NlcmlmeS5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFPLENBQUMsb0ZBQWM7QUFDdEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2lzb21vcnBoaWMtZmV0Y2gvZmV0Y2gtbnBtLWJyb3dzZXJpZnkuanM/NTVjZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyB0aGUgd2hhdHdnLWZldGNoIHBvbHlmaWxsIGluc3RhbGxzIHRoZSBmZXRjaCgpIGZ1bmN0aW9uXG4vLyBvbiB0aGUgZ2xvYmFsIG9iamVjdCAod2luZG93IG9yIHNlbGYpXG4vL1xuLy8gUmV0dXJuIHRoYXQgYXMgdGhlIGV4cG9ydCBmb3IgdXNlIGluIFdlYnBhY2ssIEJyb3dzZXJpZnkgZXRjLlxucmVxdWlyZSgnd2hhdHdnLWZldGNoJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHNlbGYuZmV0Y2guYmluZChzZWxmKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/isomorphic-fetch/fetch-npm-browserify.js\n"));

/***/ }),

/***/ "./node_modules/lodash.isequal/index.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash.isequal/index.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

eval(__webpack_require__.ts("/* module decorator */ module = __webpack_require__.nmd(module);\n/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof __webpack_require__.g == 'object' && __webpack_require__.g && __webpack_require__.g.Object === Object && __webpack_require__.g;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports =  true && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && \"object\" == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoLmlzZXF1YWwvaW5kZXguanMiLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DOztBQUVwQztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCLHFCQUFNLGdCQUFnQixxQkFBTSxJQUFJLHFCQUFNLHNCQUFzQixxQkFBTTs7QUFFMUY7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLEtBQTBCOztBQUU1QztBQUNBLGdDQUFnQyxRQUFhOztBQUU3QztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxVQUFVO0FBQ3JCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsVUFBVTtBQUNyQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsR0FBRztBQUNoQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsVUFBVTtBQUNyQixhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsR0FBRztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLEdBQUc7QUFDZCxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7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QUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtB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O0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbG9kYXNoLmlzZXF1YWwvaW5kZXguanM/ZGM5ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IEpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcy5mb3VuZGF0aW9uLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgc2l6ZSB0byBlbmFibGUgbGFyZ2UgYXJyYXkgb3B0aW1pemF0aW9ucy4gKi9cbnZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4vKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG52YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xudmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMSxcbiAgICBDT01QQVJFX1VOT1JERVJFRF9GTEFHID0gMjtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICBudW1iZXJUYWcgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgIHByb21pc2VUYWcgPSAnW29iamVjdCBQcm9taXNlXScsXG4gICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nLFxuICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nLFxuICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nLFxuICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXSc7XG5cbnZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xudmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG50eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDhUYWddID0gdHlwZWRBcnJheVRhZ3NbaW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbnR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbnR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbnR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2RhdGVUYWddID1cbnR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbnR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbnR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ10gPSB0eXBlZEFycmF5VGFnc1tyZWdleHBUYWddID1cbnR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbnR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4vKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbnZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZnJlZVByb2Nlc3MgJiYgZnJlZVByb2Nlc3MuYmluZGluZyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nKCd1dGlsJyk7XG4gIH0gY2F0Y2ggKGUpIHt9XG59KCkpO1xuXG4vKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xudmFyIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZpbHRlcmAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheUZpbHRlcihhcnJheSwgcHJlZGljYXRlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICByZXNJbmRleCA9IDAsXG4gICAgICByZXN1bHQgPSBbXTtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBcHBlbmRzIHRoZSBlbGVtZW50cyBvZiBgdmFsdWVzYCB0byBgYXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYXBwZW5kLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGFycmF5UHVzaChhcnJheSwgdmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgIG9mZnNldCA9IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGFycmF5W29mZnNldCArIGluZGV4XSA9IHZhbHVlc1tpbmRleF07XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zb21lYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAqIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYXJyYXlTb21lKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuYXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIHN0b3JpbmcgbWV0YWRhdGEuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlVW5hcnkoZnVuYykge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgYGNhY2hlYCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gY2FjaGUgVGhlIGNhY2hlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGNhY2hlSGFzKGNhY2hlLCBrZXkpIHtcbiAgcmV0dXJuIGNhY2hlLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgbWFwYCB0byBpdHMga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICovXG5mdW5jdGlvbiBtYXBUb0FycmF5KG1hcCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG1hcC5zaXplKTtcblxuICBtYXAuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbi8qKlxuICogQ29udmVydHMgYHNldGAgdG8gYW4gYXJyYXkgb2YgaXRzIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gc2V0VG9BcnJheShzZXQpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyByb290LkJ1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBTeW1ib2wgPSByb290LlN5bWJvbCxcbiAgICBVaW50OEFycmF5ID0gcm9vdC5VaW50OEFycmF5LFxuICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gICAgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2UsXG4gICAgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVHZXRTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgICBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBuYXRpdmVLZXlzID0gb3ZlckFyZyhPYmplY3Qua2V5cywgT2JqZWN0KTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKHJvb3QsICdEYXRhVmlldycpLFxuICAgIE1hcCA9IGdldE5hdGl2ZShyb290LCAnTWFwJyksXG4gICAgUHJvbWlzZSA9IGdldE5hdGl2ZShyb290LCAnUHJvbWlzZScpLFxuICAgIFNldCA9IGdldE5hdGl2ZShyb290LCAnU2V0JyksXG4gICAgV2Vha01hcCA9IGdldE5hdGl2ZShyb290LCAnV2Vha01hcCcpLFxuICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbnZhciBkYXRhVmlld0N0b3JTdHJpbmcgPSB0b1NvdXJjZShEYXRhVmlldyksXG4gICAgbWFwQ3RvclN0cmluZyA9IHRvU291cmNlKE1hcCksXG4gICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICBzZXRDdG9yU3RyaW5nID0gdG9Tb3VyY2UoU2V0KSxcbiAgICB3ZWFrTWFwQ3RvclN0cmluZyA9IHRvU291cmNlKFdlYWtNYXApO1xuXG4vKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbnZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgc3ltYm9sVmFsdWVPZiA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udmFsdWVPZiA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgSGFzaFxuICovXG5mdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICB0aGlzLnNpemUgKz0gdGhpcy5oYXMoa2V5KSA/IDAgOiAxO1xuICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbkhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuSGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gaGFzaERlbGV0ZTtcbkhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG5IYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuSGFzaC5wcm90b3R5cGUuc2V0ID0gaGFzaFNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGxpc3QgY2FjaGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBMaXN0Q2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gW107XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICBkYXRhLnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgfVxuICAtLXRoaXMuc2l6ZTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgICsrdGhpcy5zaXplO1xuICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICB9IGVsc2Uge1xuICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcbkxpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuc2l6ZSA9IDA7XG4gIHRoaXMuX19kYXRhX18gPSB7XG4gICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgfTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgcmVzdWx0ID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xuICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLFxuICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgdGhpcy5zaXplICs9IGRhdGEuc2l6ZSA9PSBzaXplID8gMCA6IDE7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbk1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbk1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbk1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbk1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuLyoqXG4gKlxuICogQ3JlYXRlcyBhbiBhcnJheSBjYWNoZSBvYmplY3QgdG8gc3RvcmUgdW5pcXVlIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBTZXRDYWNoZSh2YWx1ZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSB2YWx1ZXMgPT0gbnVsbCA/IDAgOiB2YWx1ZXMubGVuZ3RoO1xuXG4gIHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGU7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdGhpcy5hZGQodmFsdWVzW2luZGV4XSk7XG4gIH1cbn1cblxuLyoqXG4gKiBBZGRzIGB2YWx1ZWAgdG8gdGhlIGFycmF5IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBhZGRcbiAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICogQGFsaWFzIHB1c2hcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNhY2hlLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHNldENhY2hlQWRkKHZhbHVlKSB7XG4gIHRoaXMuX19kYXRhX18uc2V0KHZhbHVlLCBIQVNIX1VOREVGSU5FRCk7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIHRoZSBhcnJheSBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHNldENhY2hlSGFzKHZhbHVlKSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh2YWx1ZSk7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBTZXRDYWNoZWAuXG5TZXRDYWNoZS5wcm90b3R5cGUuYWRkID0gU2V0Q2FjaGUucHJvdG90eXBlLnB1c2ggPSBzZXRDYWNoZUFkZDtcblNldENhY2hlLnByb3RvdHlwZS5oYXMgPSBzZXRDYWNoZUhhcztcblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RhY2sgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU3RhY2soZW50cmllcykge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqL1xuZnVuY3Rpb24gc3RhY2tDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGU7XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICByZXN1bHQgPSBkYXRhWydkZWxldGUnXShrZXkpO1xuXG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tHZXQoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tIYXMoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHN0YWNrIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKGRhdGEgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcbiAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgIGlmICghTWFwIHx8IChwYWlycy5sZW5ndGggPCBMQVJHRV9BUlJBWV9TSVpFIC0gMSkpIHtcbiAgICAgIHBhaXJzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgfVxuICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYFN0YWNrYC5cblN0YWNrLnByb3RvdHlwZS5jbGVhciA9IHN0YWNrQ2xlYXI7XG5TdGFjay5wcm90b3R5cGVbJ2RlbGV0ZSddID0gc3RhY2tEZWxldGU7XG5TdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7XG5TdGFjay5wcm90b3R5cGUuaGFzID0gc3RhY2tIYXM7XG5TdGFjay5wcm90b3R5cGUuc2V0ID0gc3RhY2tTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5oZXJpdGVkIFNwZWNpZnkgcmV0dXJuaW5nIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lcy5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkge1xuICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKSxcbiAgICAgIGlzQXJnID0gIWlzQXJyICYmIGlzQXJndW1lbnRzKHZhbHVlKSxcbiAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiAhaXNBcmcgJiYgaXNCdWZmZXIodmFsdWUpLFxuICAgICAgaXNUeXBlID0gIWlzQXJyICYmICFpc0FyZyAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheSh2YWx1ZSksXG4gICAgICBza2lwSW5kZXhlcyA9IGlzQXJyIHx8IGlzQXJnIHx8IGlzQnVmZiB8fCBpc1R5cGUsXG4gICAgICByZXN1bHQgPSBza2lwSW5kZXhlcyA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZykgOiBbXSxcbiAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgaWYgKChpbmhlcml0ZWQgfHwgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkgJiZcbiAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoXG4gICAgICAgICAgIC8vIFNhZmFyaSA5IGhhcyBlbnVtZXJhYmxlIGBhcmd1bWVudHMubGVuZ3RoYCBpbiBzdHJpY3QgbW9kZS5cbiAgICAgICAgICAga2V5ID09ICdsZW5ndGgnIHx8XG4gICAgICAgICAgIC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgICAgICAoaXNCdWZmICYmIChrZXkgPT0gJ29mZnNldCcgfHwga2V5ID09ICdwYXJlbnQnKSkgfHxcbiAgICAgICAgICAgLy8gUGhhbnRvbUpTIDIgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gdHlwZWQgYXJyYXlzLlxuICAgICAgICAgICAoaXNUeXBlICYmIChrZXkgPT0gJ2J1ZmZlcicgfHwga2V5ID09ICdieXRlTGVuZ3RoJyB8fCBrZXkgPT0gJ2J5dGVPZmZzZXQnKSkgfHxcbiAgICAgICAgICAgLy8gU2tpcCBpbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICBpc0luZGV4KGtleSwgbGVuZ3RoKVxuICAgICAgICApKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0QWxsS2V5c2AgYW5kIGBnZXRBbGxLZXlzSW5gIHdoaWNoIHVzZXNcbiAqIGBrZXlzRnVuY2AgYW5kIGBzeW1ib2xzRnVuY2AgdG8gZ2V0IHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN5bWJvbHNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNGdW5jLCBzeW1ib2xzRnVuYykge1xuICB2YXIgcmVzdWx0ID0ga2V5c0Z1bmMob2JqZWN0KTtcbiAgcmV0dXJuIGlzQXJyYXkob2JqZWN0KSA/IHJlc3VsdCA6IGFycmF5UHVzaChyZXN1bHQsIHN5bWJvbHNGdW5jKG9iamVjdCkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcmd1bWVudHNgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqL1xuZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFyZ3NUYWc7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNFcXVhbGAgd2hpY2ggc3VwcG9ydHMgcGFydGlhbCBjb21wYXJpc29uc1xuICogYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gKiAgMSAtIFVub3JkZXJlZCBjb21wYXJpc29uXG4gKiAgMiAtIFBhcnRpYWwgY29tcGFyaXNvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGB2YWx1ZWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdExpa2UodmFsdWUpICYmICFpc09iamVjdExpa2Uob3RoZXIpKSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyO1xuICB9XG4gIHJldHVybiBiYXNlSXNFcXVhbERlZXAodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBiYXNlSXNFcXVhbCwgc3RhY2spO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAqIGRlZXAgY29tcGFyaXNvbnMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAqIHJlZmVyZW5jZXMgdG8gYmUgY29tcGFyZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0VxdWFsRGVlcChvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHZhciBvYmpJc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgIG90aElzQXJyID0gaXNBcnJheShvdGhlciksXG4gICAgICBvYmpUYWcgPSBvYmpJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG9iamVjdCksXG4gICAgICBvdGhUYWcgPSBvdGhJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG90aGVyKTtcblxuICBvYmpUYWcgPSBvYmpUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG9ialRhZztcbiAgb3RoVGFnID0gb3RoVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvdGhUYWc7XG5cbiAgdmFyIG9iaklzT2JqID0gb2JqVGFnID09IG9iamVjdFRhZyxcbiAgICAgIG90aElzT2JqID0gb3RoVGFnID09IG9iamVjdFRhZyxcbiAgICAgIGlzU2FtZVRhZyA9IG9ialRhZyA9PSBvdGhUYWc7XG5cbiAgaWYgKGlzU2FtZVRhZyAmJiBpc0J1ZmZlcihvYmplY3QpKSB7XG4gICAgaWYgKCFpc0J1ZmZlcihvdGhlcikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgb2JqSXNBcnIgPSB0cnVlO1xuICAgIG9iaklzT2JqID0gZmFsc2U7XG4gIH1cbiAgaWYgKGlzU2FtZVRhZyAmJiAhb2JqSXNPYmopIHtcbiAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgIHJldHVybiAob2JqSXNBcnIgfHwgaXNUeXBlZEFycmF5KG9iamVjdCkpXG4gICAgICA/IGVxdWFsQXJyYXlzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spXG4gICAgICA6IGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgb2JqVGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgfVxuICBpZiAoIShiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcpKSB7XG4gICAgdmFyIG9iaklzV3JhcHBlZCA9IG9iaklzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCAnX193cmFwcGVkX18nKSxcbiAgICAgICAgb3RoSXNXcmFwcGVkID0gb3RoSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwgJ19fd3JhcHBlZF9fJyk7XG5cbiAgICBpZiAob2JqSXNXcmFwcGVkIHx8IG90aElzV3JhcHBlZCkge1xuICAgICAgdmFyIG9ialVud3JhcHBlZCA9IG9iaklzV3JhcHBlZCA/IG9iamVjdC52YWx1ZSgpIDogb2JqZWN0LFxuICAgICAgICAgIG90aFVud3JhcHBlZCA9IG90aElzV3JhcHBlZCA/IG90aGVyLnZhbHVlKCkgOiBvdGhlcjtcblxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHJldHVybiBlcXVhbEZ1bmMob2JqVW53cmFwcGVkLCBvdGhVbndyYXBwZWQsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFpc1NhbWVUYWcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgcmV0dXJuIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNUeXBlZEFycmF5YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICEhdHlwZWRBcnJheVRhZ3NbYmFzZUdldFRhZyh2YWx1ZSldO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNgIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYmFzZUtleXMob2JqZWN0KSB7XG4gIGlmICghaXNQcm90b3R5cGUob2JqZWN0KSkge1xuICAgIHJldHVybiBuYXRpdmVLZXlzKG9iamVjdCk7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYga2V5ICE9ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBhcnJheXMgd2l0aCBzdXBwb3J0IGZvclxuICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7QXJyYXl9IG90aGVyIFRoZSBvdGhlciBhcnJheSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgYXJyYXlgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFycmF5cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgIG90aExlbmd0aCA9IG90aGVyLmxlbmd0aDtcblxuICBpZiAoYXJyTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhKGlzUGFydGlhbCAmJiBvdGhMZW5ndGggPiBhcnJMZW5ndGgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQoYXJyYXkpO1xuICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gIH1cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSB0cnVlLFxuICAgICAgc2VlbiA9IChiaXRtYXNrICYgQ09NUEFSRV9VTk9SREVSRURfRkxBRykgPyBuZXcgU2V0Q2FjaGUgOiB1bmRlZmluZWQ7XG5cbiAgc3RhY2suc2V0KGFycmF5LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgYXJyYXkpO1xuXG4gIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cbiAgd2hpbGUgKCsraW5kZXggPCBhcnJMZW5ndGgpIHtcbiAgICB2YXIgYXJyVmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXG4gICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIGFyclZhbHVlLCBpbmRleCwgb3RoZXIsIGFycmF5LCBzdGFjaylcbiAgICAgICAgOiBjdXN0b21pemVyKGFyclZhbHVlLCBvdGhWYWx1ZSwgaW5kZXgsIGFycmF5LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICBpZiAoY29tcGFyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGNvbXBhcmVkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoc2Vlbikge1xuICAgICAgaWYgKCFhcnJheVNvbWUob3RoZXIsIGZ1bmN0aW9uKG90aFZhbHVlLCBvdGhJbmRleCkge1xuICAgICAgICAgICAgaWYgKCFjYWNoZUhhcyhzZWVuLCBvdGhJbmRleCkgJiZcbiAgICAgICAgICAgICAgICAoYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNlZW4ucHVzaChvdGhJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpIHtcbiAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIShcbiAgICAgICAgICBhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHxcbiAgICAgICAgICAgIGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICApKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBzdGFja1snZGVsZXRlJ10oYXJyYXkpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgY29tcGFyaW5nIG9iamVjdHMgb2ZcbiAqIHRoZSBzYW1lIGB0b1N0cmluZ1RhZ2AuXG4gKlxuICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjb21wYXJpbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgb3IgYFN0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdHMgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIHRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICBzd2l0Y2ggKHRhZykge1xuICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgKG9iamVjdC5ieXRlT2Zmc2V0ICE9IG90aGVyLmJ5dGVPZmZzZXQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IG9iamVjdC5idWZmZXI7XG4gICAgICBvdGhlciA9IG90aGVyLmJ1ZmZlcjtcblxuICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgIWVxdWFsRnVuYyhuZXcgVWludDhBcnJheShvYmplY3QpLCBuZXcgVWludDhBcnJheShvdGhlcikpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgY2FzZSBib29sVGFnOlxuICAgIGNhc2UgZGF0ZVRhZzpcbiAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgIC8vIENvZXJjZSBib29sZWFucyB0byBgMWAgb3IgYDBgIGFuZCBkYXRlcyB0byBtaWxsaXNlY29uZHMuXG4gICAgICAvLyBJbnZhbGlkIGRhdGVzIGFyZSBjb2VyY2VkIHRvIGBOYU5gLlxuICAgICAgcmV0dXJuIGVxKCtvYmplY3QsICtvdGhlcik7XG5cbiAgICBjYXNlIGVycm9yVGFnOlxuICAgICAgcmV0dXJuIG9iamVjdC5uYW1lID09IG90aGVyLm5hbWUgJiYgb2JqZWN0Lm1lc3NhZ2UgPT0gb3RoZXIubWVzc2FnZTtcblxuICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgLy8gQ29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyBhbmQgdHJlYXQgc3RyaW5ncywgcHJpbWl0aXZlcyBhbmQgb2JqZWN0cyxcbiAgICAgIC8vIGFzIGVxdWFsLiBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXJlZ2V4cC5wcm90b3R5cGUudG9zdHJpbmdcbiAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICByZXR1cm4gb2JqZWN0ID09IChvdGhlciArICcnKTtcblxuICAgIGNhc2UgbWFwVGFnOlxuICAgICAgdmFyIGNvbnZlcnQgPSBtYXBUb0FycmF5O1xuXG4gICAgY2FzZSBzZXRUYWc6XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHO1xuICAgICAgY29udmVydCB8fCAoY29udmVydCA9IHNldFRvQXJyYXkpO1xuXG4gICAgICBpZiAob2JqZWN0LnNpemUgIT0gb3RoZXIuc2l6ZSAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIGJpdG1hc2sgfD0gQ09NUEFSRV9VTk9SREVSRURfRkxBRztcblxuICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICB2YXIgcmVzdWx0ID0gZXF1YWxBcnJheXMoY29udmVydChvYmplY3QpLCBjb252ZXJ0KG90aGVyKSwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgIGlmIChzeW1ib2xWYWx1ZU9mKSB7XG4gICAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mLmNhbGwob2JqZWN0KSA9PSBzeW1ib2xWYWx1ZU9mLmNhbGwob3RoZXIpO1xuICAgICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIG9iamVjdHMgd2l0aCBzdXBwb3J0IGZvclxuICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgIG9ialByb3BzID0gZ2V0QWxsS2V5cyhvYmplY3QpLFxuICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgb3RoUHJvcHMgPSBnZXRBbGxLZXlzKG90aGVyKSxcbiAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBpbmRleCA9IG9iakxlbmd0aDtcbiAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIGlmICghKGlzUGFydGlhbCA/IGtleSBpbiBvdGhlciA6IGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsIGtleSkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICB9XG4gIHZhciByZXN1bHQgPSB0cnVlO1xuICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgb2JqZWN0KTtcblxuICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gIHdoaWxlICgrK2luZGV4IDwgb2JqTGVuZ3RoKSB7XG4gICAga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2tleV07XG5cbiAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG4gICAgICAgIDogY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUsIGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoIShjb21wYXJlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSlcbiAgICAgICAgICA6IGNvbXBhcmVkXG4gICAgICAgICkpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgfVxuICBpZiAocmVzdWx0ICYmICFza2lwQ3Rvcikge1xuICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cbiAgICAvLyBOb24gYE9iamVjdGAgb2JqZWN0IGluc3RhbmNlcyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVhbC5cbiAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICgnY29uc3RydWN0b3InIGluIG9iamVjdCAmJiAnY29uc3RydWN0b3InIGluIG90aGVyKSAmJlxuICAgICAgICAhKHR5cGVvZiBvYmpDdG9yID09ICdmdW5jdGlvbicgJiYgb2JqQ3RvciBpbnN0YW5jZW9mIG9iakN0b3IgJiZcbiAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gKi9cbmZ1bmN0aW9uIGdldEFsbEtleXMob2JqZWN0KSB7XG4gIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXMsIGdldFN5bWJvbHMpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICovXG5mdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgIDogZGF0YS5tYXA7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICB0cnkge1xuICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgaWYgKHVubWFza2VkKSB7XG4gICAgaWYgKGlzT3duKSB7XG4gICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuICovXG52YXIgZ2V0U3ltYm9scyA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgcmV0dXJuIGFycmF5RmlsdGVyKG5hdGl2ZUdldFN5bWJvbHMob2JqZWN0KSwgZnVuY3Rpb24oc3ltYm9sKSB7XG4gICAgcmV0dXJuIHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCBzeW1ib2wpO1xuICB9KTtcbn07XG5cbi8qKlxuICogR2V0cyB0aGUgYHRvU3RyaW5nVGFnYCBvZiBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbnZhciBnZXRUYWcgPSBiYXNlR2V0VGFnO1xuXG4vLyBGYWxsYmFjayBmb3IgZGF0YSB2aWV3cywgbWFwcywgc2V0cywgYW5kIHdlYWsgbWFwcyBpbiBJRSAxMSBhbmQgcHJvbWlzZXMgaW4gTm9kZS5qcyA8IDYuXG5pZiAoKERhdGFWaWV3ICYmIGdldFRhZyhuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDEpKSkgIT0gZGF0YVZpZXdUYWcpIHx8XG4gICAgKE1hcCAmJiBnZXRUYWcobmV3IE1hcCkgIT0gbWFwVGFnKSB8fFxuICAgIChQcm9taXNlICYmIGdldFRhZyhQcm9taXNlLnJlc29sdmUoKSkgIT0gcHJvbWlzZVRhZykgfHxcbiAgICAoU2V0ICYmIGdldFRhZyhuZXcgU2V0KSAhPSBzZXRUYWcpIHx8XG4gICAgKFdlYWtNYXAgJiYgZ2V0VGFnKG5ldyBXZWFrTWFwKSAhPSB3ZWFrTWFwVGFnKSkge1xuICBnZXRUYWcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciByZXN1bHQgPSBiYXNlR2V0VGFnKHZhbHVlKSxcbiAgICAgICAgQ3RvciA9IHJlc3VsdCA9PSBvYmplY3RUYWcgPyB2YWx1ZS5jb25zdHJ1Y3RvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgY3RvclN0cmluZyA9IEN0b3IgPyB0b1NvdXJjZShDdG9yKSA6ICcnO1xuXG4gICAgaWYgKGN0b3JTdHJpbmcpIHtcbiAgICAgIHN3aXRjaCAoY3RvclN0cmluZykge1xuICAgICAgICBjYXNlIGRhdGFWaWV3Q3RvclN0cmluZzogcmV0dXJuIGRhdGFWaWV3VGFnO1xuICAgICAgICBjYXNlIG1hcEN0b3JTdHJpbmc6IHJldHVybiBtYXBUYWc7XG4gICAgICAgIGNhc2UgcHJvbWlzZUN0b3JTdHJpbmc6IHJldHVybiBwcm9taXNlVGFnO1xuICAgICAgICBjYXNlIHNldEN0b3JTdHJpbmc6IHJldHVybiBzZXRUYWc7XG4gICAgICAgIGNhc2Ugd2Vha01hcEN0b3JTdHJpbmc6IHJldHVybiB3ZWFrTWFwVGFnO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG4gIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHwgcmVJc1VpbnQudGVzdCh2YWx1ZSkpICYmXG4gICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIHByb3RvdHlwZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNQcm90b3R5cGUodmFsdWUpIHtcbiAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgIHByb3RvID0gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3Rvci5wcm90b3R5cGUpIHx8IG9iamVjdFByb3RvO1xuXG4gIHJldHVybiB2YWx1ZSA9PT0gcHJvdG87XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBQZXJmb3JtcyBhXG4gKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoJ2EnLCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoTmFOLCBOYU4pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJyk7XG59O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjMuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxuLyoqXG4gKiBQZXJmb3JtcyBhIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlXG4gKiBlcXVpdmFsZW50LlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBzdXBwb3J0cyBjb21wYXJpbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucyxcbiAqIGRhdGUgb2JqZWN0cywgZXJyb3Igb2JqZWN0cywgbWFwcywgbnVtYmVycywgYE9iamVjdGAgb2JqZWN0cywgcmVnZXhlcyxcbiAqIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZCBhcnJheXMuIGBPYmplY3RgIG9iamVjdHMgYXJlIGNvbXBhcmVkXG4gKiBieSB0aGVpciBvd24sIG5vdCBpbmhlcml0ZWQsIGVudW1lcmFibGUgcHJvcGVydGllcy4gRnVuY3Rpb25zIGFuZCBET01cbiAqIG5vZGVzIGFyZSBjb21wYXJlZCBieSBzdHJpY3QgZXF1YWxpdHksIGkuZS4gYD09PWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uaXNFcXVhbChvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBvYmplY3QgPT09IG90aGVyO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNFcXVhbCh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBTYWZhcmkgOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheXMgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KG5ldyBVaW50OEFycmF5KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShbXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNUeXBlZEFycmF5ID0gbm9kZUlzVHlwZWRBcnJheSA/IGJhc2VVbmFyeShub2RlSXNUeXBlZEFycmF5KSA6IGJhc2VJc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuIFNlZSB0aGVcbiAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAqIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5rZXlzKG5ldyBGb28pO1xuICogLy8gPT4gWydhJywgJ2InXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICpcbiAqIF8ua2V5cygnaGknKTtcbiAqIC8vID0+IFsnMCcsICcxJ11cbiAqL1xuZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCkgOiBiYXNlS2V5cyhvYmplY3QpO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgZW1wdHkgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEzLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBhcnJheS5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGFycmF5cyA9IF8udGltZXMoMiwgXy5zdHViQXJyYXkpO1xuICpcbiAqIGNvbnNvbGUubG9nKGFycmF5cyk7XG4gKiAvLyA9PiBbW10sIFtdXVxuICpcbiAqIGNvbnNvbGUubG9nKGFycmF5c1swXSA9PT0gYXJyYXlzWzFdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIHN0dWJBcnJheSgpIHtcbiAgcmV0dXJuIFtdO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYGZhbHNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTMuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udGltZXMoMiwgXy5zdHViRmFsc2UpO1xuICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAqL1xuZnVuY3Rpb24gc3R1YkZhbHNlKCkge1xuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNFcXVhbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash.isequal/index.js\n"));

/***/ }),

/***/ "./node_modules/mp4box/dist/mp4box.all.js":
/*!************************************************!*\
  !*** ./node_modules/mp4box/dist/mp4box.all.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval(__webpack_require__.ts("// file:src/log.js\n/* \n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar Log = (function (){\n\t\tvar start = new Date();\n\t\tvar LOG_LEVEL_ERROR \t= 4;\n\t\tvar LOG_LEVEL_WARNING \t= 3;\n\t\tvar LOG_LEVEL_INFO \t\t= 2;\n\t\tvar LOG_LEVEL_DEBUG\t\t= 1;\n\t\tvar log_level = LOG_LEVEL_ERROR;\n\t\tvar logObject = {\n\t\t\tsetLogLevel : function(level) {\n\t\t\t\tif (level == this.debug) log_level = LOG_LEVEL_DEBUG;\n\t\t\t\telse if (level == this.info) log_level = LOG_LEVEL_INFO;\n\t\t\t\telse if (level == this.warn) log_level = LOG_LEVEL_WARNING;\n\t\t\t\telse if (level == this.error) log_level = LOG_LEVEL_ERROR;\n\t\t\t\telse log_level = LOG_LEVEL_ERROR;\n\t\t\t},\n\t\t\tdebug : function(module, msg) {\n\t\t\t\tif (console.debug === undefined) {\n\t\t\t\t\tconsole.debug = console.log;\n\t\t\t\t}\n\t\t\t\tif (LOG_LEVEL_DEBUG >= log_level) {\n\t\t\t\t\tconsole.debug(\"[\"+Log.getDurationString(new Date()-start,1000)+\"]\",\"[\"+module+\"]\",msg);\n\t\t\t\t}\n\t\t\t},\n\t\t\tlog : function(module, msg) {\n\t\t\t\tthis.debug(module.msg)\n\t\t\t},\n\t\t\tinfo : function(module, msg) {\n\t\t\t\tif (LOG_LEVEL_INFO >= log_level) {\n\t\t\t\t\tconsole.info(\"[\"+Log.getDurationString(new Date()-start,1000)+\"]\",\"[\"+module+\"]\",msg);\n\t\t\t\t}\n\t\t\t},\n\t\t\twarn : function(module, msg) {\n\t\t\t\tif (LOG_LEVEL_WARNING >= log_level) {\n\t\t\t\t\tconsole.warn(\"[\"+Log.getDurationString(new Date()-start,1000)+\"]\",\"[\"+module+\"]\",msg);\n\t\t\t\t}\n\t\t\t},\n\t\t\terror : function(module, msg) {\n\t\t\t\tif (LOG_LEVEL_ERROR >= log_level) {\n\t\t\t\t\tconsole.error(\"[\"+Log.getDurationString(new Date()-start,1000)+\"]\",\"[\"+module+\"]\",msg);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn logObject;\n\t})();\n\t\n/* Helper function to print a duration value in the form H:MM:SS.MS */\nLog.getDurationString = function(duration, _timescale) {\n\tvar neg;\n\t/* Helper function to print a number on a fixed number of digits */\n\tfunction pad(number, length) {\n\t\tvar str = '' + number;\n\t\tvar a = str.split('.');\t\t\n\t\twhile (a[0].length < length) {\n\t\t\ta[0] = '0' + a[0];\n\t\t}\n\t\treturn a.join('.');\n\t}\n\tif (duration < 0) {\n\t\tneg = true;\n\t\tduration = -duration;\n\t} else {\n\t\tneg = false;\t\n\t}\n\tvar timescale = _timescale || 1;\n\tvar duration_sec = duration/timescale;\n\tvar hours = Math.floor(duration_sec/3600);\n\tduration_sec -= hours * 3600;\n\tvar minutes = Math.floor(duration_sec/60);\n\tduration_sec -= minutes * 60;\t\t\n\tvar msec = duration_sec*1000;\n\tduration_sec = Math.floor(duration_sec);\n\tmsec -= duration_sec*1000;\n\tmsec = Math.floor(msec);\n\treturn (neg ? \"-\": \"\")+hours+\":\"+pad(minutes,2)+\":\"+pad(duration_sec,2)+\".\"+pad(msec,3);\n}\n\t\n/* Helper function to stringify HTML5 TimeRanges objects */\t\nLog.printRanges = function(ranges) {\n\tvar length = ranges.length;\n\tif (length > 0) {\n\t\tvar str = \"\";\n\t\tfor (var i = 0; i < length; i++) {\n\t\t  if (i > 0) str += \",\";\n\t\t  str += \"[\"+Log.getDurationString(ranges.start(i))+ \",\"+Log.getDurationString(ranges.end(i))+\"]\";\n\t\t}\n\t\treturn str;\n\t} else {\n\t\treturn \"(empty)\";\n\t}\n}\n\nif (true) {\n\texports.Log = Log;\n}\n// file:src/stream.js\nvar MP4BoxStream = function(arrayBuffer) {\n  if (arrayBuffer instanceof ArrayBuffer) {\n    this.buffer = arrayBuffer;\n    this.dataview = new DataView(arrayBuffer);\n  } else {\n    throw (\"Needs an array buffer\");\n  }\n  this.position = 0;\n};\n\n/*************************************************************************\n  Common API between MultiBufferStream and SimpleStream\n *************************************************************************/\nMP4BoxStream.prototype.getPosition = function() {\n  return this.position;\n}\n\nMP4BoxStream.prototype.getEndPosition = function() {\n  return this.buffer.byteLength;\n}\n\nMP4BoxStream.prototype.getLength = function() {\n  return this.buffer.byteLength;\n}\n\nMP4BoxStream.prototype.seek = function (pos) {\n  var npos = Math.max(0, Math.min(this.buffer.byteLength, pos));\n  this.position = (isNaN(npos) || !isFinite(npos)) ? 0 : npos;\n  return true;\n}\n\nMP4BoxStream.prototype.isEos = function () {\n  return this.getPosition() >= this.getEndPosition();\n}\n\n/*************************************************************************\n  Read methods, simimar to DataStream but simpler\n *************************************************************************/\nMP4BoxStream.prototype.readAnyInt = function(size, signed) {\n  var res = 0;\n  if (this.position + size <= this.buffer.byteLength) {\n    switch (size) {\n      case 1:\n        if (signed) {\n          res = this.dataview.getInt8(this.position);\n        } else {\n          res = this.dataview.getUint8(this.position);\n        }\n        break;\n      case 2:\n        if (signed) {\n          res = this.dataview.getInt16(this.position);\n        } else {\n          res = this.dataview.getUint16(this.position);\n        }\n        break;\n      case 3:\n        if (signed) {\n          throw (\"No method for reading signed 24 bits values\");\n        } else {\n          res = this.dataview.getUint8(this.position) << 16;\n          res |= this.dataview.getUint8(this.position+1) << 8;\n          res |= this.dataview.getUint8(this.position+2);\n        }\n        break;\n      case 4:\n        if (signed) {\n          res = this.dataview.getInt32(this.position);\n        } else {\n          res = this.dataview.getUint32(this.position);\n        }\n        break;\n      case 8:\n        if (signed) {\n          throw (\"No method for reading signed 64 bits values\");\n        } else {\n          res = this.dataview.getUint32(this.position) << 32;\n          res |= this.dataview.getUint32(this.position+4);\n        }\n        break;\n      default:\n        throw (\"readInt method not implemented for size: \"+size);\n    }\n    this.position+= size;\n    return res;\n  } else {\n    throw (\"Not enough bytes in buffer\");\n  }\n}\n\nMP4BoxStream.prototype.readUint8 = function() {\n  return this.readAnyInt(1, false);\n}\n\nMP4BoxStream.prototype.readUint16 = function() {\n  return this.readAnyInt(2, false);\n}\n\nMP4BoxStream.prototype.readUint24 = function() {\n  return this.readAnyInt(3, false);\n}\n\nMP4BoxStream.prototype.readUint32 = function() {\n  return this.readAnyInt(4, false);\n}\n\nMP4BoxStream.prototype.readUint64 = function() {\n  return this.readAnyInt(8, false);\n}\n\nMP4BoxStream.prototype.readString = function(length) {\n  if (this.position + length <= this.buffer.byteLength) {\n    var s = \"\";\n    for (var i = 0; i < length; i++) {\n      s += String.fromCharCode(this.readUint8());\n    }\n    return s;\n  } else {\n    throw (\"Not enough bytes in buffer\");\n  }\n}\n\nMP4BoxStream.prototype.readCString = function() {\n  var arr = [];\n  while(true) {\n    var b = this.readUint8();\n    if (b !== 0) {\n      arr.push(b);\n    } else {\n      break;\n    }\n  }\n  return String.fromCharCode.apply(null, arr); \n}\n\nMP4BoxStream.prototype.readInt8 = function() {\n  return this.readAnyInt(1, true);\n}\n\nMP4BoxStream.prototype.readInt16 = function() {\n  return this.readAnyInt(2, true);\n}\n\nMP4BoxStream.prototype.readInt32 = function() {\n  return this.readAnyInt(4, true);\n}\n\nMP4BoxStream.prototype.readInt64 = function() {\n  return this.readAnyInt(8, false);\n}\n\nMP4BoxStream.prototype.readUint8Array = function(length) {\n  var arr = new Uint8Array(length);\n  for (var i = 0; i < length; i++) {\n    arr[i] = this.readUint8();\n  }\n  return arr;\n}\n\nMP4BoxStream.prototype.readInt16Array = function(length) {\n  var arr = new Int16Array(length);\n  for (var i = 0; i < length; i++) {\n    arr[i] = this.readInt16();\n  }\n  return arr;\n}\n\nMP4BoxStream.prototype.readUint16Array = function(length) {\n  var arr = new Int16Array(length);\n  for (var i = 0; i < length; i++) {\n    arr[i] = this.readUint16();\n  }\n  return arr;\n}\n\nMP4BoxStream.prototype.readUint32Array = function(length) {\n  var arr = new Uint32Array(length);\n  for (var i = 0; i < length; i++) {\n    arr[i] = this.readUint32();\n  }\n  return arr;\n}\n\nMP4BoxStream.prototype.readInt32Array = function(length) {\n  var arr = new Int32Array(length);\n  for (var i = 0; i < length; i++) {\n    arr[i] = this.readInt32();\n  }\n  return arr;\n}\n\nif (true) {\n  exports.MP4BoxStream = MP4BoxStream;\n}// file:src/DataStream.js\n/**\n  DataStream reads scalars, arrays and structs of data from an ArrayBuffer.\n  It's like a file-like DataView on steroids.\n\n  @param {ArrayBuffer} arrayBuffer ArrayBuffer to read from.\n  @param {?Number} byteOffset Offset from arrayBuffer beginning for the DataStream.\n  @param {?Boolean} endianness DataStream.BIG_ENDIAN or DataStream.LITTLE_ENDIAN (the default).\n  */\nvar DataStream = function(arrayBuffer, byteOffset, endianness) {\n  this._byteOffset = byteOffset || 0;\n  if (arrayBuffer instanceof ArrayBuffer) {\n    this.buffer = arrayBuffer;\n  } else if (typeof arrayBuffer == \"object\") {\n    this.dataView = arrayBuffer;\n    if (byteOffset) {\n      this._byteOffset += byteOffset;\n    }\n  } else {\n    this.buffer = new ArrayBuffer(arrayBuffer || 0);\n  }\n  this.position = 0;\n  this.endianness = endianness == null ? DataStream.LITTLE_ENDIAN : endianness;\n};\nDataStream.prototype = {};\n\nDataStream.prototype.getPosition = function() {\n  return this.position;\n}\n\n/**\n  Internal function to resize the DataStream buffer when required.\n  @param {number} extra Number of bytes to add to the buffer allocation.\n  @return {null}\n  */\nDataStream.prototype._realloc = function(extra) {\n  if (!this._dynamicSize) {\n    return;\n  }\n  var req = this._byteOffset + this.position + extra;\n  var blen = this._buffer.byteLength;\n  if (req <= blen) {\n    if (req > this._byteLength) {\n      this._byteLength = req;\n    }\n    return;\n  }\n  if (blen < 1) {\n    blen = 1;\n  }\n  while (req > blen) {\n    blen *= 2;\n  }\n  var buf = new ArrayBuffer(blen);\n  var src = new Uint8Array(this._buffer);\n  var dst = new Uint8Array(buf, 0, src.length);\n  dst.set(src);\n  this.buffer = buf;\n  this._byteLength = req;\n};\n\n/**\n  Internal function to trim the DataStream buffer when required.\n  Used for stripping out the extra bytes from the backing buffer when\n  the virtual byteLength is smaller than the buffer byteLength (happens after\n  growing the buffer with writes and not filling the extra space completely).\n\n  @return {null}\n  */\nDataStream.prototype._trimAlloc = function() {\n  if (this._byteLength == this._buffer.byteLength) {\n    return;\n  }\n  var buf = new ArrayBuffer(this._byteLength);\n  var dst = new Uint8Array(buf);\n  var src = new Uint8Array(this._buffer, 0, dst.length);\n  dst.set(src);\n  this.buffer = buf;\n};\n\n\n/**\n  Big-endian const to use as default endianness.\n  @type {boolean}\n  */\nDataStream.BIG_ENDIAN = false;\n\n/**\n  Little-endian const to use as default endianness.\n  @type {boolean}\n  */\nDataStream.LITTLE_ENDIAN = true;\n\n/**\n  Virtual byte length of the DataStream backing buffer.\n  Updated to be max of original buffer size and last written size.\n  If dynamicSize is false is set to buffer size.\n  @type {number}\n  */\nDataStream.prototype._byteLength = 0;\n\n/**\n  Returns the byte length of the DataStream object.\n  @type {number}\n  */\nObject.defineProperty(DataStream.prototype, 'byteLength',\n  { get: function() {\n    return this._byteLength - this._byteOffset;\n  }});\n\n/**\n  Set/get the backing ArrayBuffer of the DataStream object.\n  The setter updates the DataView to point to the new buffer.\n  @type {Object}\n  */\nObject.defineProperty(DataStream.prototype, 'buffer',\n  { get: function() {\n      this._trimAlloc();\n      return this._buffer;\n    },\n    set: function(v) {\n      this._buffer = v;\n      this._dataView = new DataView(this._buffer, this._byteOffset);\n      this._byteLength = this._buffer.byteLength;\n    } });\n\n/**\n  Set/get the byteOffset of the DataStream object.\n  The setter updates the DataView to point to the new byteOffset.\n  @type {number}\n  */\nObject.defineProperty(DataStream.prototype, 'byteOffset',\n  { get: function() {\n      return this._byteOffset;\n    },\n    set: function(v) {\n      this._byteOffset = v;\n      this._dataView = new DataView(this._buffer, this._byteOffset);\n      this._byteLength = this._buffer.byteLength;\n    } });\n\n/**\n  Set/get the backing DataView of the DataStream object.\n  The setter updates the buffer and byteOffset to point to the DataView values.\n  @type {Object}\n  */\nObject.defineProperty(DataStream.prototype, 'dataView',\n  { get: function() {\n      return this._dataView;\n    },\n    set: function(v) {\n      this._byteOffset = v.byteOffset;\n      this._buffer = v.buffer;\n      this._dataView = new DataView(this._buffer, this._byteOffset);\n      this._byteLength = this._byteOffset + v.byteLength;\n    } });\n\n/**\n  Sets the DataStream read/write position to given position.\n  Clamps between 0 and DataStream length.\n\n  @param {number} pos Position to seek to.\n  @return {null}\n  */\nDataStream.prototype.seek = function(pos) {\n  var npos = Math.max(0, Math.min(this.byteLength, pos));\n  this.position = (isNaN(npos) || !isFinite(npos)) ? 0 : npos;\n};\n\n/**\n  Returns true if the DataStream seek pointer is at the end of buffer and\n  there's no more data to read.\n\n  @return {boolean} True if the seek pointer is at the end of the buffer.\n  */\nDataStream.prototype.isEof = function() {\n  return (this.position >= this._byteLength);\n};\n\n\n/**\n  Maps a Uint8Array into the DataStream buffer.\n\n  Nice for quickly reading in data.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Uint8Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapUint8Array = function(length) {\n  this._realloc(length * 1);\n  var arr = new Uint8Array(this._buffer, this.byteOffset+this.position, length);\n  this.position += length * 1;\n  return arr;\n};\n\n\n/**\n  Reads an Int32Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Int32Array.\n */\nDataStream.prototype.readInt32Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 4) : length;\n  var arr = new Int32Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads an Int16Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Int16Array.\n */\nDataStream.prototype.readInt16Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 2) : length;\n  var arr = new Int16Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads an Int8Array of desired length from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Int8Array.\n */\nDataStream.prototype.readInt8Array = function(length) {\n  length = length == null ? (this.byteLength-this.position) : length;\n  var arr = new Int8Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads a Uint32Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Uint32Array.\n */\nDataStream.prototype.readUint32Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 4) : length;\n  var arr = new Uint32Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads a Uint16Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Uint16Array.\n */\nDataStream.prototype.readUint16Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 2) : length;\n  var arr = new Uint16Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads a Uint8Array of desired length from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Uint8Array.\n */\nDataStream.prototype.readUint8Array = function(length) {\n  length = length == null ? (this.byteLength-this.position) : length;\n  var arr = new Uint8Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads a Float64Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Float64Array.\n */\nDataStream.prototype.readFloat64Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 8) : length;\n  var arr = new Float64Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads a Float32Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Float32Array.\n */\nDataStream.prototype.readFloat32Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 4) : length;\n  var arr = new Float32Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n\n/**\n  Reads a 32-bit int from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readInt32 = function(e) {\n  var v = this._dataView.getInt32(this.position, e == null ? this.endianness : e);\n  this.position += 4;\n  return v;\n};\n\n/**\n  Reads a 16-bit int from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readInt16 = function(e) {\n  var v = this._dataView.getInt16(this.position, e == null ? this.endianness : e);\n  this.position += 2;\n  return v;\n};\n\n/**\n  Reads an 8-bit int from the DataStream.\n\n  @return {number} The read number.\n */\nDataStream.prototype.readInt8 = function() {\n  var v = this._dataView.getInt8(this.position);\n  this.position += 1;\n  return v;\n};\n\n/**\n  Reads a 32-bit unsigned int from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readUint32 = function(e) {\n  var v = this._dataView.getUint32(this.position, e == null ? this.endianness : e);\n  this.position += 4;\n  return v;\n};\n\n/**\n  Reads a 16-bit unsigned int from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readUint16 = function(e) {\n  var v = this._dataView.getUint16(this.position, e == null ? this.endianness : e);\n  this.position += 2;\n  return v;\n};\n\n/**\n  Reads an 8-bit unsigned int from the DataStream.\n\n  @return {number} The read number.\n */\nDataStream.prototype.readUint8 = function() {\n  var v = this._dataView.getUint8(this.position);\n  this.position += 1;\n  return v;\n};\n\n/**\n  Reads a 32-bit float from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readFloat32 = function(e) {\n  var v = this._dataView.getFloat32(this.position, e == null ? this.endianness : e);\n  this.position += 4;\n  return v;\n};\n\n/**\n  Reads a 64-bit float from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readFloat64 = function(e) {\n  var v = this._dataView.getFloat64(this.position, e == null ? this.endianness : e);\n  this.position += 8;\n  return v;\n};\n\n/**\n  Native endianness. Either DataStream.BIG_ENDIAN or DataStream.LITTLE_ENDIAN\n  depending on the platform endianness.\n\n  @type {boolean}\n */\nDataStream.endianness = new Int8Array(new Int16Array([1]).buffer)[0] > 0;\n\n/**\n  Copies byteLength bytes from the src buffer at srcOffset to the\n  dst buffer at dstOffset.\n\n  @param {Object} dst Destination ArrayBuffer to write to.\n  @param {number} dstOffset Offset to the destination ArrayBuffer.\n  @param {Object} src Source ArrayBuffer to read from.\n  @param {number} srcOffset Offset to the source ArrayBuffer.\n  @param {number} byteLength Number of bytes to copy.\n */\nDataStream.memcpy = function(dst, dstOffset, src, srcOffset, byteLength) {\n  var dstU8 = new Uint8Array(dst, dstOffset, byteLength);\n  var srcU8 = new Uint8Array(src, srcOffset, byteLength);\n  dstU8.set(srcU8);\n};\n\n/**\n  Converts array to native endianness in-place.\n\n  @param {Object} array Typed array to convert.\n  @param {boolean} arrayIsLittleEndian True if the data in the array is\n                                       little-endian. Set false for big-endian.\n  @return {Object} The converted typed array.\n */\nDataStream.arrayToNative = function(array, arrayIsLittleEndian) {\n  if (arrayIsLittleEndian == this.endianness) {\n    return array;\n  } else {\n    return this.flipArrayEndianness(array);\n  }\n};\n\n/**\n  Converts native endianness array to desired endianness in-place.\n\n  @param {Object} array Typed array to convert.\n  @param {boolean} littleEndian True if the converted array should be\n                                little-endian. Set false for big-endian.\n  @return {Object} The converted typed array.\n */\nDataStream.nativeToEndian = function(array, littleEndian) {\n  if (this.endianness == littleEndian) {\n    return array;\n  } else {\n    return this.flipArrayEndianness(array);\n  }\n};\n\n/**\n  Flips typed array endianness in-place.\n\n  @param {Object} array Typed array to flip.\n  @return {Object} The converted typed array.\n */\nDataStream.flipArrayEndianness = function(array) {\n  var u8 = new Uint8Array(array.buffer, array.byteOffset, array.byteLength);\n  for (var i=0; i<array.byteLength; i+=array.BYTES_PER_ELEMENT) {\n    for (var j=i+array.BYTES_PER_ELEMENT-1, k=i; j>k; j--, k++) {\n      var tmp = u8[k];\n      u8[k] = u8[j];\n      u8[j] = tmp;\n    }\n  }\n  return array;\n};\n\n/**\n  Seek position where DataStream#readStruct ran into a problem.\n  Useful for debugging struct parsing.\n\n  @type {number}\n */\nDataStream.prototype.failurePosition = 0;\n\nString.fromCharCodeUint8 = function(uint8arr) {\n    var arr = [];\n    for (var i = 0; i < uint8arr.length; i++) {\n      arr[i] = uint8arr[i];\n    }\n    return String.fromCharCode.apply(null, arr);\n}\n/**\n  Read a string of desired length and encoding from the DataStream.\n\n  @param {number} length The length of the string to read in bytes.\n  @param {?string} encoding The encoding of the string data in the DataStream.\n                            Defaults to ASCII.\n  @return {string} The read string.\n */\nDataStream.prototype.readString = function(length, encoding) {\n  if (encoding == null || encoding == \"ASCII\") {\n    return String.fromCharCodeUint8.apply(null, [this.mapUint8Array(length == null ? this.byteLength-this.position : length)]);\n  } else {\n    return (new TextDecoder(encoding)).decode(this.mapUint8Array(length));\n  }\n};\n\n/**\n  Read null-terminated string of desired length from the DataStream. Truncates\n  the returned string so that the null byte is not a part of it.\n\n  @param {?number} length The length of the string to read.\n  @return {string} The read string.\n */\nDataStream.prototype.readCString = function(length) {\n  var blen = this.byteLength-this.position;\n  var u8 = new Uint8Array(this._buffer, this._byteOffset + this.position);\n  var len = blen;\n  if (length != null) {\n    len = Math.min(length, blen);\n  }\n  for (var i = 0; i < len && u8[i] !== 0; i++); // find first zero byte\n  var s = String.fromCharCodeUint8.apply(null, [this.mapUint8Array(i)]);\n  if (length != null) {\n    this.position += len-i;\n  } else if (i != blen) {\n    this.position += 1; // trailing zero if not at end of buffer\n  }\n  return s;\n};\n\n/* \n   TODO: fix endianness for 24/64-bit fields\n   TODO: check range/support for 64-bits numbers in JavaScript\n*/\nvar MAX_SIZE = Math.pow(2, 32);\n\nDataStream.prototype.readInt64 = function () {\n  return (this.readInt32()*MAX_SIZE)+this.readUint32();\n}\nDataStream.prototype.readUint64 = function () {\n\treturn (this.readUint32()*MAX_SIZE)+this.readUint32();\n}\n\nDataStream.prototype.readInt64 = function () {\n  return (this.readUint32()*MAX_SIZE)+this.readUint32();\n}\n\nDataStream.prototype.readUint24 = function () {\n\treturn (this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8();\n}\n\nif (true) {\n  exports.DataStream = DataStream;  \n}\n// file:src/DataStream-write.js\n/**\n  Saves the DataStream contents to the given filename.\n  Uses Chrome's anchor download property to initiate download.\n \n  @param {string} filename Filename to save as.\n  @return {null}\n  */\nDataStream.prototype.save = function(filename) {\n  var blob = new Blob([this.buffer]);\n  if (window.URL && URL.createObjectURL) {\n      var url = window.URL.createObjectURL(blob);\n      var a = document.createElement('a');\n      // Required in Firefox:\n      document.body.appendChild(a);\n      a.setAttribute('href', url);\n      a.setAttribute('download', filename);\n      // Required in Firefox:\n      a.setAttribute('target', '_self');\n      a.click();\n      window.URL.revokeObjectURL(url);\n  } else {\n      throw(\"DataStream.save: Can't create object URL.\");\n  }\n};\n\n/**\n  Whether to extend DataStream buffer when trying to write beyond its size.\n  If set, the buffer is reallocated to twice its current size until the\n  requested write fits the buffer.\n  @type {boolean}\n  */\nDataStream.prototype._dynamicSize = true;\nObject.defineProperty(DataStream.prototype, 'dynamicSize',\n  { get: function() {\n      return this._dynamicSize;\n    },\n    set: function(v) {\n      if (!v) {\n        this._trimAlloc();\n      }\n      this._dynamicSize = v;\n    } });\n\n/**\n  Internal function to trim the DataStream buffer when required.\n  Used for stripping out the first bytes when not needed anymore.\n\n  @return {null}\n  */\nDataStream.prototype.shift = function(offset) {\n  var buf = new ArrayBuffer(this._byteLength-offset);\n  var dst = new Uint8Array(buf);\n  var src = new Uint8Array(this._buffer, offset, dst.length);\n  dst.set(src);\n  this.buffer = buf;\n  this.position -= offset;\n};\n\n/**\n  Writes an Int32Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeInt32Array = function(arr, e) {\n  this._realloc(arr.length * 4);\n  if (arr instanceof Int32Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapInt32Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeInt32(arr[i], e);\n    }\n  }\n};\n\n/**\n  Writes an Int16Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeInt16Array = function(arr, e) {\n  this._realloc(arr.length * 2);\n  if (arr instanceof Int16Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapInt16Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeInt16(arr[i], e);\n    }\n  }\n};\n\n/**\n  Writes an Int8Array to the DataStream.\n\n  @param {Object} arr The array to write.\n */\nDataStream.prototype.writeInt8Array = function(arr) {\n  this._realloc(arr.length * 1);\n  if (arr instanceof Int8Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapInt8Array(arr.length);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeInt8(arr[i]);\n    }\n  }\n};\n\n/**\n  Writes a Uint32Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeUint32Array = function(arr, e) {\n  this._realloc(arr.length * 4);\n  if (arr instanceof Uint32Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapUint32Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeUint32(arr[i], e);\n    }\n  }\n};\n\n/**\n  Writes a Uint16Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeUint16Array = function(arr, e) {\n  this._realloc(arr.length * 2);\n  if (arr instanceof Uint16Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapUint16Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeUint16(arr[i], e);\n    }\n  }\n};\n\n/**\n  Writes a Uint8Array to the DataStream.\n\n  @param {Object} arr The array to write.\n */\nDataStream.prototype.writeUint8Array = function(arr) {\n  this._realloc(arr.length * 1);\n  if (arr instanceof Uint8Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapUint8Array(arr.length);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeUint8(arr[i]);\n    }\n  }\n};\n\n/**\n  Writes a Float64Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeFloat64Array = function(arr, e) {\n  this._realloc(arr.length * 8);\n  if (arr instanceof Float64Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapFloat64Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeFloat64(arr[i], e);\n    }\n  }\n};\n\n/**\n  Writes a Float32Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeFloat32Array = function(arr, e) {\n  this._realloc(arr.length * 4);\n  if (arr instanceof Float32Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapFloat32Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeFloat32(arr[i], e);\n    }\n  }\n};\n\n\n/**\n  Writes a 32-bit int to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeInt32 = function(v, e) {\n  this._realloc(4);\n  this._dataView.setInt32(this.position, v, e == null ? this.endianness : e);\n  this.position += 4;\n};\n\n/**\n  Writes a 16-bit int to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeInt16 = function(v, e) {\n  this._realloc(2);\n  this._dataView.setInt16(this.position, v, e == null ? this.endianness : e);\n  this.position += 2;\n};\n\n/**\n  Writes an 8-bit int to the DataStream.\n\n  @param {number} v Number to write.\n */\nDataStream.prototype.writeInt8 = function(v) {\n  this._realloc(1);\n  this._dataView.setInt8(this.position, v);\n  this.position += 1;\n};\n\n/**\n  Writes a 32-bit unsigned int to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeUint32 = function(v, e) {\n  this._realloc(4);\n  this._dataView.setUint32(this.position, v, e == null ? this.endianness : e);\n  this.position += 4;\n};\n\n/**\n  Writes a 16-bit unsigned int to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeUint16 = function(v, e) {\n  this._realloc(2);\n  this._dataView.setUint16(this.position, v, e == null ? this.endianness : e);\n  this.position += 2;\n};\n\n/**\n  Writes an 8-bit unsigned  int to the DataStream.\n\n  @param {number} v Number to write.\n */\nDataStream.prototype.writeUint8 = function(v) {\n  this._realloc(1);\n  this._dataView.setUint8(this.position, v);\n  this.position += 1;\n};\n\n/**\n  Writes a 32-bit float to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeFloat32 = function(v, e) {\n  this._realloc(4);\n  this._dataView.setFloat32(this.position, v, e == null ? this.endianness : e);\n  this.position += 4;\n};\n\n/**\n  Writes a 64-bit float to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeFloat64 = function(v, e) {\n  this._realloc(8);\n  this._dataView.setFloat64(this.position, v, e == null ? this.endianness : e);\n  this.position += 8;\n};\n\n/**\n  Write a UCS-2 string of desired endianness to the DataStream. The\n  lengthOverride argument lets you define the number of characters to write.\n  If the string is shorter than lengthOverride, the extra space is padded with\n  zeroes.\n\n  @param {string} str The string to write.\n  @param {?boolean} endianness The endianness to use for the written string data.\n  @param {?number} lengthOverride The number of characters to write.\n */\nDataStream.prototype.writeUCS2String = function(str, endianness, lengthOverride) {\n  if (lengthOverride == null) {\n    lengthOverride = str.length;\n  }\n  for (var i = 0; i < str.length && i < lengthOverride; i++) {\n    this.writeUint16(str.charCodeAt(i), endianness);\n  }\n  for (; i<lengthOverride; i++) {\n    this.writeUint16(0);\n  }\n};\n\n/**\n  Writes a string of desired length and encoding to the DataStream.\n\n  @param {string} s The string to write.\n  @param {?string} encoding The encoding for the written string data.\n                            Defaults to ASCII.\n  @param {?number} length The number of characters to write.\n */\nDataStream.prototype.writeString = function(s, encoding, length) {\n  var i = 0;\n  if (encoding == null || encoding == \"ASCII\") {\n    if (length != null) {\n      var len = Math.min(s.length, length);\n      for (i=0; i<len; i++) {\n        this.writeUint8(s.charCodeAt(i));\n      }\n      for (; i<length; i++) {\n        this.writeUint8(0);\n      }\n    } else {\n      for (i=0; i<s.length; i++) {\n        this.writeUint8(s.charCodeAt(i));\n      }\n    }\n  } else {\n    this.writeUint8Array((new TextEncoder(encoding)).encode(s.substring(0, length)));\n  }\n};\n\n/**\n  Writes a null-terminated string to DataStream and zero-pads it to length\n  bytes. If length is not given, writes the string followed by a zero.\n  If string is longer than length, the written part of the string does not have\n  a trailing zero.\n\n  @param {string} s The string to write.\n  @param {?number} length The number of characters to write.\n */\nDataStream.prototype.writeCString = function(s, length) {\n  var i = 0;\n  if (length != null) {\n    var len = Math.min(s.length, length);\n    for (i=0; i<len; i++) {\n      this.writeUint8(s.charCodeAt(i));\n    }\n    for (; i<length; i++) {\n      this.writeUint8(0);\n    }\n  } else {\n    for (i=0; i<s.length; i++) {\n      this.writeUint8(s.charCodeAt(i));\n    }\n    this.writeUint8(0);\n  }\n};\n\n/**\n  Writes a struct to the DataStream. Takes a structDefinition that gives the\n  types and a struct object that gives the values. Refer to readStruct for the\n  structure of structDefinition.\n\n  @param {Object} structDefinition Type definition of the struct.\n  @param {Object} struct The struct data object.\n  */\nDataStream.prototype.writeStruct = function(structDefinition, struct) {\n  for (var i = 0; i < structDefinition.length; i+=2) {\n    var t = structDefinition[i+1];\n    this.writeType(t, struct[structDefinition[i]], struct);\n  }\n};\n\n/**\n  Writes object v of type t to the DataStream.\n\n  @param {Object} t Type of data to write.\n  @param {Object} v Value of data to write.\n  @param {Object} struct Struct to pass to write callback functions.\n  */\nDataStream.prototype.writeType = function(t, v, struct) {\n  var tp;\n  if (typeof t == \"function\") {\n    return t(this, v);\n  } else if (typeof t == \"object\" && !(t instanceof Array)) {\n    return t.set(this, v, struct);\n  }\n  var lengthOverride = null;\n  var charset = \"ASCII\";\n  var pos = this.position;\n  if (typeof(t) == 'string' && /:/.test(t)) {\n    tp = t.split(\":\");\n    t = tp[0];\n    lengthOverride = parseInt(tp[1]);\n  }\n  if (typeof t == 'string' && /,/.test(t)) {\n    tp = t.split(\",\");\n    t = tp[0];\n    charset = parseInt(tp[1]);\n  }\n\n  switch(t) {\n    case 'uint8':\n      this.writeUint8(v);\n      break;\n    case 'int8':\n      this.writeInt8(v);\n      break;\n\n    case 'uint16':\n      this.writeUint16(v, this.endianness);\n      break;\n    case 'int16':\n      this.writeInt16(v, this.endianness);\n      break;\n    case 'uint32':\n      this.writeUint32(v, this.endianness);\n      break;\n    case 'int32':\n      this.writeInt32(v, this.endianness);\n      break;\n    case 'float32':\n      this.writeFloat32(v, this.endianness);\n      break;\n    case 'float64':\n      this.writeFloat64(v, this.endianness);\n      break;\n\n    case 'uint16be':\n      this.writeUint16(v, DataStream.BIG_ENDIAN);\n      break;\n    case 'int16be':\n      this.writeInt16(v, DataStream.BIG_ENDIAN);\n      break;\n    case 'uint32be':\n      this.writeUint32(v, DataStream.BIG_ENDIAN);\n      break;\n    case 'int32be':\n      this.writeInt32(v, DataStream.BIG_ENDIAN);\n      break;\n    case 'float32be':\n      this.writeFloat32(v, DataStream.BIG_ENDIAN);\n      break;\n    case 'float64be':\n      this.writeFloat64(v, DataStream.BIG_ENDIAN);\n      break;\n\n    case 'uint16le':\n      this.writeUint16(v, DataStream.LITTLE_ENDIAN);\n      break;\n    case 'int16le':\n      this.writeInt16(v, DataStream.LITTLE_ENDIAN);\n      break;\n    case 'uint32le':\n      this.writeUint32(v, DataStream.LITTLE_ENDIAN);\n      break;\n    case 'int32le':\n      this.writeInt32(v, DataStream.LITTLE_ENDIAN);\n      break;\n    case 'float32le':\n      this.writeFloat32(v, DataStream.LITTLE_ENDIAN);\n      break;\n    case 'float64le':\n      this.writeFloat64(v, DataStream.LITTLE_ENDIAN);\n      break;\n\n    case 'cstring':\n      this.writeCString(v, lengthOverride);\n      break;\n\n    case 'string':\n      this.writeString(v, charset, lengthOverride);\n      break;\n\n    case 'u16string':\n      this.writeUCS2String(v, this.endianness, lengthOverride);\n      break;\n\n    case 'u16stringle':\n      this.writeUCS2String(v, DataStream.LITTLE_ENDIAN, lengthOverride);\n      break;\n\n    case 'u16stringbe':\n      this.writeUCS2String(v, DataStream.BIG_ENDIAN, lengthOverride);\n      break;\n\n    default:\n      if (t.length == 3) {\n        var ta = t[1];\n        for (var i=0; i<v.length; i++) {\n          this.writeType(ta, v[i]);\n        }\n        break;\n      } else {\n        this.writeStruct(t, v);\n        break;\n      }\n  }\n  if (lengthOverride != null) {\n    this.position = pos;\n    this._realloc(lengthOverride);\n    this.position = pos + lengthOverride;\n  }\n};\n\n\nDataStream.prototype.writeUint64 = function (v) {\n\tvar h = Math.floor(v / MAX_SIZE);\n\tthis.writeUint32(h);\n\tthis.writeUint32(v & 0xFFFFFFFF);\n}\n\nDataStream.prototype.writeUint24 = function (v) {\n\tthis.writeUint8((v & 0x00FF0000)>>16);\n\tthis.writeUint8((v & 0x0000FF00)>>8);\n\tthis.writeUint8((v & 0x000000FF));\n}\n\nDataStream.prototype.adjustUint32 = function(position, value) {\n\tvar pos = this.position;\n\tthis.seek(position);\n\tthis.writeUint32(value);\n\tthis.seek(pos);\n}\n// file:src/DataStream-map.js\n/**\n  Maps an Int32Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Int32Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapInt32Array = function(length, e) {\n  this._realloc(length * 4);\n  var arr = new Int32Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 4;\n  return arr;\n};\n\n/**\n  Maps an Int16Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Int16Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapInt16Array = function(length, e) {\n  this._realloc(length * 2);\n  var arr = new Int16Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 2;\n  return arr;\n};\n\n/**\n  Maps an Int8Array into the DataStream buffer.\n\n  Nice for quickly reading in data.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Int8Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapInt8Array = function(length) {\n  this._realloc(length * 1);\n  var arr = new Int8Array(this._buffer, this.byteOffset+this.position, length);\n  this.position += length * 1;\n  return arr;\n};\n\n/**\n  Maps a Uint32Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Uint32Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapUint32Array = function(length, e) {\n  this._realloc(length * 4);\n  var arr = new Uint32Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 4;\n  return arr;\n};\n\n/**\n  Maps a Uint16Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Uint16Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapUint16Array = function(length, e) {\n  this._realloc(length * 2);\n  var arr = new Uint16Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 2;\n  return arr;\n};\n\n/**\n  Maps a Float64Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Float64Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapFloat64Array = function(length, e) {\n  this._realloc(length * 8);\n  var arr = new Float64Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 8;\n  return arr;\n};\n\n/**\n  Maps a Float32Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Float32Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapFloat32Array = function(length, e) {\n  this._realloc(length * 4);\n  var arr = new Float32Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 4;\n  return arr;\n};\n// file:src/buffer.js\n/**\n * MultiBufferStream is a class that acts as a SimpleStream for parsing \n * It holds several, possibly non-contiguous ArrayBuffer objects, each with a fileStart property \n * containing the offset for the buffer data in an original/virtual file \n *\n * It inherits also from DataStream for all read/write/alloc operations\n */\n\n/**\n * Constructor\n */\nvar MultiBufferStream = function(buffer) {\n\t/* List of ArrayBuffers, with a fileStart property, sorted in fileStart order and non overlapping */\n\tthis.buffers = [];\t\n\tthis.bufferIndex = -1;\n\tif (buffer) {\n\t\tthis.insertBuffer(buffer);\n\t\tthis.bufferIndex = 0;\n\t}\n}\nMultiBufferStream.prototype = new DataStream(new ArrayBuffer(), 0, DataStream.BIG_ENDIAN);\n\n/************************************************************************************\n  Methods for the managnement of the buffers (insertion, removal, concatenation, ...)\n ***********************************************************************************/\n\nMultiBufferStream.prototype.initialized = function() {\n\tvar firstBuffer;\n\tif (this.bufferIndex > -1) {\n\t\treturn true;\n\t} else if (this.buffers.length > 0) {\n\t\tfirstBuffer = this.buffers[0];\n\t\tif (firstBuffer.fileStart === 0) {\n\t\t\tthis.buffer = firstBuffer;\n\t\t\tthis.bufferIndex = 0;\n\t\t\tLog.debug(\"MultiBufferStream\", \"Stream ready for parsing\");\n\t\t\treturn true;\n\t\t} else {\n\t\t\tLog.warn(\"MultiBufferStream\", \"The first buffer should have a fileStart of 0\");\n\t\t\tthis.logBufferLevel();\n\t\t\treturn false;\n\t\t}\n\t} else {\n\t\tLog.warn(\"MultiBufferStream\", \"No buffer to start parsing from\");\n\t\tthis.logBufferLevel();\n\t\treturn false;\n\t}\t\t\t\n}\n\n/**\n * helper functions to concatenate two ArrayBuffer objects\n * @param  {ArrayBuffer} buffer1 \n * @param  {ArrayBuffer} buffer2 \n * @return {ArrayBuffer} the concatenation of buffer1 and buffer2 in that order\n */\nArrayBuffer.concat = function(buffer1, buffer2) {\n  Log.debug(\"ArrayBuffer\", \"Trying to create a new buffer of size: \"+(buffer1.byteLength + buffer2.byteLength));\n  var tmp = new Uint8Array(buffer1.byteLength + buffer2.byteLength);\n  tmp.set(new Uint8Array(buffer1), 0);\n  tmp.set(new Uint8Array(buffer2), buffer1.byteLength);\n  return tmp.buffer;\n};\n\n/**\n * Reduces the size of a given buffer, but taking the part between offset and offset+newlength\n * @param  {ArrayBuffer} buffer    \n * @param  {Number}      offset    the start of new buffer\n * @param  {Number}      newLength the length of the new buffer\n * @return {ArrayBuffer}           the new buffer\n */\nMultiBufferStream.prototype.reduceBuffer = function(buffer, offset, newLength) {\n\tvar smallB;\n\tsmallB = new Uint8Array(newLength);\n\tsmallB.set(new Uint8Array(buffer, offset, newLength));\n\tsmallB.buffer.fileStart = buffer.fileStart+offset;\n\tsmallB.buffer.usedBytes = 0;\n\treturn smallB.buffer;\t\n}\n\n/**\n * Inserts the new buffer in the sorted list of buffers,\n *  making sure, it is not overlapping with existing ones (possibly reducing its size).\n *  if the new buffer overrides/replaces the 0-th buffer (for instance because it is bigger), \n *  updates the DataStream buffer for parsing \n*/\nMultiBufferStream.prototype.insertBuffer = function(ab) {\t\n\tvar to_add = true;\n\t/* TODO: improve insertion if many buffers */\n\tfor (var i = 0; i < this.buffers.length; i++) {\n\t\tvar b = this.buffers[i];\n\t\tif (ab.fileStart <= b.fileStart) {\n\t\t\t/* the insertion position is found */\n\t\t\tif (ab.fileStart === b.fileStart) {\n\t\t\t\t/* The new buffer overlaps with an existing buffer */\n\t\t\t\tif (ab.byteLength >  b.byteLength) {\n\t\t\t\t\t/* the new buffer is bigger than the existing one\n\t\t\t\t\t   remove the existing buffer and try again to insert \n\t\t\t\t\t   the new buffer to check overlap with the next ones */\n\t\t\t\t\tthis.buffers.splice(i, 1);\n\t\t\t\t\ti--; \n\t\t\t\t\tcontinue;\n\t\t\t\t} else {\n\t\t\t\t\t/* the new buffer is smaller than the existing one, just drop it */\n\t\t\t\t\tLog.warn(\"MultiBufferStream\", \"Buffer (fileStart: \"+ab.fileStart+\" - Length: \"+ab.byteLength+\") already appended, ignoring\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t/* The beginning of the new buffer is not overlapping with an existing buffer\n\t\t\t\t   let's check the end of it */\n\t\t\t\tif (ab.fileStart + ab.byteLength <= b.fileStart) {\n\t\t\t\t\t/* no overlap, we can add it as is */\n\t\t\t\t} else {\n\t\t\t\t\t/* There is some overlap, cut the new buffer short, and add it*/\n\t\t\t\t\tab = this.reduceBuffer(ab, 0, b.fileStart - ab.fileStart);\n\t\t\t\t}\n\t\t\t\tLog.debug(\"MultiBufferStream\", \"Appending new buffer (fileStart: \"+ab.fileStart+\" - Length: \"+ab.byteLength+\")\");\n\t\t\t\tthis.buffers.splice(i, 0, ab);\n\t\t\t\t/* if this new buffer is inserted in the first place in the list of the buffer, \n\t\t\t\t   and the DataStream is initialized, make it the buffer used for parsing */\n\t\t\t\tif (i === 0) {\n\t\t\t\t\tthis.buffer = ab;\n\t\t\t\t}\n\t\t\t}\n\t\t\tto_add = false;\n\t\t\tbreak;\n\t\t} else if (ab.fileStart < b.fileStart + b.byteLength) {\n\t\t\t/* the new buffer overlaps its beginning with the end of the current buffer */\n\t\t\tvar offset = b.fileStart + b.byteLength - ab.fileStart;\n\t\t\tvar newLength = ab.byteLength - offset;\n\t\t\tif (newLength > 0) {\n\t\t\t\t/* the new buffer is bigger than the current overlap, drop the overlapping part and try again inserting the remaining buffer */\n\t\t\t\tab = this.reduceBuffer(ab, offset, newLength);\n\t\t\t} else {\n\t\t\t\t/* the content of the new buffer is entirely contained in the existing buffer, drop it entirely */\n\t\t\t\tto_add = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t/* if the buffer has not been added, we can add it at the end */\n\tif (to_add) {\n\t\tLog.debug(\"MultiBufferStream\", \"Appending new buffer (fileStart: \"+ab.fileStart+\" - Length: \"+ab.byteLength+\")\");\n\t\tthis.buffers.push(ab);\n\t\t/* if this new buffer is inserted in the first place in the list of the buffer, \n\t\t   and the DataStream is initialized, make it the buffer used for parsing */\n\t\tif (i === 0) {\n\t\t\tthis.buffer = ab;\n\t\t}\n\t}\n}\n\n/**\n * Displays the status of the buffers (number and used bytes)\n * @param  {Object} info callback method for display\n */\nMultiBufferStream.prototype.logBufferLevel = function(info) {\n\tvar i;\n\tvar buffer;\n\tvar used, total;\n\tvar ranges = [];\n\tvar range;\n\tvar bufferedString = \"\";\n\tused = 0;\n\ttotal = 0;\n\tfor (i = 0; i < this.buffers.length; i++) {\n\t\tbuffer = this.buffers[i];\n\t\tif (i === 0) {\n\t\t\trange = {};\n\t\t\tranges.push(range);\n\t\t\trange.start = buffer.fileStart;\n\t\t\trange.end = buffer.fileStart+buffer.byteLength;\n\t\t\tbufferedString += \"[\"+range.start+\"-\";\n\t\t} else if (range.end === buffer.fileStart) {\n\t\t\trange.end = buffer.fileStart+buffer.byteLength;\n\t\t} else {\n\t\t\trange = {};\n\t\t\trange.start = buffer.fileStart;\n\t\t\tbufferedString += (ranges[ranges.length-1].end-1)+\"], [\"+range.start+\"-\";\n\t\t\trange.end = buffer.fileStart+buffer.byteLength;\n\t\t\tranges.push(range);\n\t\t}\n\t\tused += buffer.usedBytes;\n\t\ttotal += buffer.byteLength;\n\t}\n\tif (ranges.length > 0) {\n\t\tbufferedString += (range.end-1)+\"]\";\n\t}\n\tvar log = (info ? Log.info : Log.debug)\n\tif (this.buffers.length === 0) {\n\t\tlog(\"MultiBufferStream\", \"No more buffer in memory\");\n\t} else {\n\t\tlog(\"MultiBufferStream\", \"\"+this.buffers.length+\" stored buffer(s) (\"+used+\"/\"+total+\" bytes), continuous ranges: \"+bufferedString);\n\t}\n}\n\nMultiBufferStream.prototype.cleanBuffers = function () {\n\tvar i;\n\tvar buffer;\n\tfor (i = 0; i < this.buffers.length; i++) {\n\t\tbuffer = this.buffers[i];\n\t\tif (buffer.usedBytes === buffer.byteLength) {\n\t\t\tLog.debug(\"MultiBufferStream\", \"Removing buffer #\"+i);\n\t\t\tthis.buffers.splice(i, 1);\n\t\t\ti--;\n\t\t}\n\t}\n}\n\nMultiBufferStream.prototype.mergeNextBuffer = function() {\n\tvar next_buffer;\n\tif (this.bufferIndex+1 < this.buffers.length) {\n\t\tnext_buffer = this.buffers[this.bufferIndex+1];\n\t\tif (next_buffer.fileStart === this.buffer.fileStart + this.buffer.byteLength) {\n\t\t\tvar oldLength = this.buffer.byteLength;\n\t\t\tvar oldUsedBytes = this.buffer.usedBytes;\n\t\t\tvar oldFileStart = this.buffer.fileStart;\n\t\t\tthis.buffers[this.bufferIndex] = ArrayBuffer.concat(this.buffer, next_buffer);\n\t\t\tthis.buffer = this.buffers[this.bufferIndex];\n\t\t\tthis.buffers.splice(this.bufferIndex+1, 1);\n\t\t\tthis.buffer.usedBytes = oldUsedBytes; /* TODO: should it be += ? */\n\t\t\tthis.buffer.fileStart = oldFileStart;\n\t\t\tLog.debug(\"ISOFile\", \"Concatenating buffer for box parsing (length: \"+oldLength+\"->\"+this.buffer.byteLength+\")\");\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t} else {\n\t\treturn false;\n\t}\n}\n\n\n/*************************************************************************\n  Seek-related functions\n *************************************************************************/\n\n/**\n * Finds the buffer that holds the given file position\n * @param  {Boolean} fromStart    indicates if the search should start from the current buffer (false) \n *                                or from the first buffer (true)\n * @param  {Number}  filePosition position in the file to seek to\n * @param  {Boolean} markAsUsed   indicates if the bytes in between the current position and the seek position \n *                                should be marked as used for garbage collection\n * @return {Number}               the index of the buffer holding the seeked file position, -1 if not found.\n */\nMultiBufferStream.prototype.findPosition = function(fromStart, filePosition, markAsUsed) {\n\tvar i;\n\tvar abuffer = null;\n\tvar index = -1;\n\n\t/* find the buffer with the largest position smaller than the given position */\n\tif (fromStart === true) {\n\t   /* the reposition can be in the past, we need to check from the beginning of the list of buffers */\n\t\ti = 0;\n\t} else {\n\t\ti = this.bufferIndex;\n\t}\n\n\twhile (i < this.buffers.length) {\n\t\tabuffer = this.buffers[i];\n\t\tif (abuffer.fileStart <= filePosition) {\n\t\t\tindex = i;\n\t\t\tif (markAsUsed) {\n\t\t\t\tif (abuffer.fileStart + abuffer.byteLength <= filePosition) {\n\t\t\t\t\tabuffer.usedBytes = abuffer.byteLength;\t\n\t\t\t\t} else {\n\t\t\t\t\tabuffer.usedBytes = filePosition - abuffer.fileStart;\n\t\t\t\t}\t\t\n\t\t\t\tthis.logBufferLevel();\t\n\t\t\t}\n\t\t} else {\n\t\t\tbreak;\n\t\t}\n\t\ti++;\n\t}\n\n\tif (index !== -1) {\n\t\tabuffer = this.buffers[index];\n\t\tif (abuffer.fileStart + abuffer.byteLength >= filePosition) {\t\t\t\n\t\t\tLog.debug(\"MultiBufferStream\", \"Found position in existing buffer #\"+index);\n\t\t\treturn index;\n\t\t} else {\n\t\t\treturn -1;\n\t\t}\n\t} else {\n\t\treturn -1;\n\t}\n}\n\n/**\n * Finds the largest file position contained in a buffer or in the next buffers if they are contiguous (no gap)\n * starting from the given buffer index or from the current buffer if the index is not given\n *\n * @param  {Number} inputindex Index of the buffer to start from\n * @return {Number}            The largest file position found in the buffers\n */\nMultiBufferStream.prototype.findEndContiguousBuf = function(inputindex) {\n\tvar i;\n\tvar currentBuf;\n\tvar nextBuf;\n\tvar index = (inputindex !== undefined ? inputindex : this.bufferIndex);\n\tcurrentBuf = this.buffers[index];\n\t/* find the end of the contiguous range of data */\n\tif (this.buffers.length > index+1) {\n\t\tfor (i = index+1; i < this.buffers.length; i++) {\n\t\t\tnextBuf = this.buffers[i];\n\t\t\tif (nextBuf.fileStart === currentBuf.fileStart + currentBuf.byteLength) {\n\t\t\t\tcurrentBuf = nextBuf;\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t/* return the position of last byte in the file that we have */\n\treturn currentBuf.fileStart + currentBuf.byteLength;\n}\n\n/**\n * Returns the largest file position contained in the buffers, larger than the given position\n * @param  {Number} pos the file position to start from\n * @return {Number}     the largest position in the current buffer or in the buffer and the next contiguous \n *                      buffer that holds the given position\n */\nMultiBufferStream.prototype.getEndFilePositionAfter = function(pos) {\n\tvar index = this.findPosition(true, pos, false);\n\tif (index !== -1) {\n\t\treturn this.findEndContiguousBuf(index);\n\t} else {\n\t\treturn pos;\n\t}\n}\n\n/*************************************************************************\n  Garbage collection related functions\n *************************************************************************/\n\n/**\n * Marks a given number of bytes as used in the current buffer for garbage collection\n * @param {Number} nbBytes \n */\nMultiBufferStream.prototype.addUsedBytes = function(nbBytes) {\n\tthis.buffer.usedBytes += nbBytes;\n\tthis.logBufferLevel();\n}\n\n/**\n * Marks the entire current buffer as used, ready for garbage collection\n */\nMultiBufferStream.prototype.setAllUsedBytes = function() {\n\tthis.buffer.usedBytes = this.buffer.byteLength;\n\tthis.logBufferLevel();\n}\n\n/*************************************************************************\n  Common API between MultiBufferStream and SimpleStream\n *************************************************************************/\n\n/**\n * Tries to seek to a given file position\n * if possible, repositions the parsing from there and returns true \n * if not possible, does not change anything and returns false \n * @param  {Number}  filePosition position in the file to seek to\n * @param  {Boolean} fromStart    indicates if the search should start from the current buffer (false) \n *                                or from the first buffer (true)\n * @param  {Boolean} markAsUsed   indicates if the bytes in between the current position and the seek position \n *                                should be marked as used for garbage collection\n * @return {Boolean}              true if the seek succeeded, false otherwise\n */\nMultiBufferStream.prototype.seek = function(filePosition, fromStart, markAsUsed) {\n\tvar index;\n\tindex = this.findPosition(fromStart, filePosition, markAsUsed);\n\tif (index !== -1) {\n\t\tthis.buffer = this.buffers[index];\n\t\tthis.bufferIndex = index;\n\t\tthis.position = filePosition - this.buffer.fileStart;\n\t\tLog.debug(\"MultiBufferStream\", \"Repositioning parser at buffer position: \"+this.position);\n\t\treturn true;\n\t} else {\n\t\tLog.debug(\"MultiBufferStream\", \"Position \"+filePosition+\" not found in buffered data\");\n\t\treturn false;\n\t}\n}\n\n/**\n * Returns the current position in the file\n * @return {Number} the position in the file\n */\nMultiBufferStream.prototype.getPosition = function() {\n\tif (this.bufferIndex === -1 || this.buffers[this.bufferIndex] === null) {\n\t\tthrow \"Error accessing position in the MultiBufferStream\";\n\t}\n\treturn this.buffers[this.bufferIndex].fileStart+this.position;\n}\n\n/**\n * Returns the length of the current buffer\n * @return {Number} the length of the current buffer\n */\nMultiBufferStream.prototype.getLength = function() {\n\treturn this.byteLength;\n}\n\nMultiBufferStream.prototype.getEndPosition = function() {\n\tif (this.bufferIndex === -1 || this.buffers[this.bufferIndex] === null) {\n\t\tthrow \"Error accessing position in the MultiBufferStream\";\n\t}\n\treturn this.buffers[this.bufferIndex].fileStart+this.byteLength;\n}\n\nif (true) {\n\texports.MultiBufferStream = MultiBufferStream;\n}// file:src/descriptor.js\n/*\n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar MPEG4DescriptorParser = function () {\n\tvar ES_DescrTag \t\t\t= 0x03;\n\tvar DecoderConfigDescrTag \t= 0x04;\n\tvar DecSpecificInfoTag \t\t= 0x05;\n\tvar SLConfigDescrTag \t\t= 0x06;\n\n\tvar descTagToName = [];\n\tdescTagToName[ES_DescrTag] \t\t\t\t= \"ES_Descriptor\";\n\tdescTagToName[DecoderConfigDescrTag] \t= \"DecoderConfigDescriptor\";\n\tdescTagToName[DecSpecificInfoTag] \t\t= \"DecoderSpecificInfo\";\n\tdescTagToName[SLConfigDescrTag] \t\t= \"SLConfigDescriptor\";\n\n\tthis.getDescriptorName = function(tag) {\n\t\treturn descTagToName[tag];\n\t}\n\n\tvar that = this;\n\tvar classes = {};\n\n\tthis.parseOneDescriptor = function (stream) {\n\t\tvar hdrSize = 0;\n\t\tvar size = 0;\n\t\tvar tag;\n\t\tvar desc;\n\t\tvar byteRead;\n\t\ttag = stream.readUint8();\n\t\thdrSize++;\n\t\tbyteRead = stream.readUint8();\n\t\thdrSize++;\n\t\twhile (byteRead & 0x80) {\n\t\t\tsize = (size << 7) + (byteRead & 0x7F);\n\t\t\tbyteRead = stream.readUint8();\n\t\t\thdrSize++;\n\t\t}\n\t\tsize = (size << 7) + (byteRead & 0x7F);\n\t\tLog.debug(\"MPEG4DescriptorParser\", \"Found \"+(descTagToName[tag] || \"Descriptor \"+tag)+\", size \"+size+\" at position \"+stream.getPosition());\n\t\tif (descTagToName[tag]) {\n\t\t\tdesc = new classes[descTagToName[tag]](size);\n\t\t} else {\n\t\t\tdesc = new classes.Descriptor(size);\n\t\t}\n\t\tdesc.parse(stream);\n\t\treturn desc;\n\t}\n\n\tclasses.Descriptor = function(_tag, _size) {\n\t\tthis.tag = _tag;\n\t\tthis.size = _size;\n\t\tthis.descs = [];\n\t}\n\n\tclasses.Descriptor.prototype.parse = function (stream) {\n\t\tthis.data = stream.readUint8Array(this.size);\n\t}\n\n\tclasses.Descriptor.prototype.findDescriptor = function (tag) {\n\t\tfor (var i = 0; i < this.descs.length; i++) {\n\t\t\tif (this.descs[i].tag == tag) {\n\t\t\t\treturn this.descs[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tclasses.Descriptor.prototype.parseRemainingDescriptors = function (stream) {\n\t\tvar start = stream.position;\n\t\twhile (stream.position < start+this.size) {\n\t\t\tvar desc = that.parseOneDescriptor(stream);\n\t\t\tthis.descs.push(desc);\n\t\t}\n\t}\n\n\tclasses.ES_Descriptor = function (size) {\n\t\tclasses.Descriptor.call(this, ES_DescrTag, size);\n\t}\n\n\tclasses.ES_Descriptor.prototype = new classes.Descriptor();\n\n\tclasses.ES_Descriptor.prototype.parse = function(stream) {\n\t\tthis.ES_ID = stream.readUint16();\n\t\tthis.flags = stream.readUint8();\n\t\tthis.size -= 3;\n\t\tif (this.flags & 0x80) {\n\t\t\tthis.dependsOn_ES_ID = stream.readUint16();\n\t\t\tthis.size -= 2;\n\t\t} else {\n\t\t\tthis.dependsOn_ES_ID = 0;\n\t\t}\n\t\tif (this.flags & 0x40) {\n\t\t\tvar l = stream.readUint8();\n\t\t\tthis.URL = stream.readString(l);\n\t\t\tthis.size -= l+1;\n\t\t} else {\n\t\t\tthis.URL = \"\";\n\t\t}\n\t\tif (this.flags & 0x20) {\n\t\t\tthis.OCR_ES_ID = stream.readUint16();\n\t\t\tthis.size -= 2;\n\t\t} else {\n\t\t\tthis.OCR_ES_ID = 0;\n\t\t}\n\t\tthis.parseRemainingDescriptors(stream);\n\t}\n\n\tclasses.ES_Descriptor.prototype.getOTI = function(stream) {\n\t\tvar dcd = this.findDescriptor(DecoderConfigDescrTag);\n\t\tif (dcd) {\n\t\t\treturn dcd.oti;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\tclasses.ES_Descriptor.prototype.getAudioConfig = function(stream) {\n\t\tvar dcd = this.findDescriptor(DecoderConfigDescrTag);\n\t\tif (!dcd) return null;\n\t\tvar dsi = dcd.findDescriptor(DecSpecificInfoTag);\n\t\tif (dsi && dsi.data) {\n\t\t\tvar audioObjectType = (dsi.data[0]& 0xF8) >> 3;\n\t\t\tif (audioObjectType === 31 && dsi.data.length >= 2) {\n\t\t\t\taudioObjectType = 32 + ((dsi.data[0] & 0x7) << 3) + ((dsi.data[1] & 0xE0) >> 5);\n\t\t\t}\n\t\t\treturn audioObjectType;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tclasses.DecoderConfigDescriptor = function (size) {\n\t\tclasses.Descriptor.call(this, DecoderConfigDescrTag, size);\n\t}\n\tclasses.DecoderConfigDescriptor.prototype = new classes.Descriptor();\n\n\tclasses.DecoderConfigDescriptor.prototype.parse = function(stream) {\n\t\tthis.oti = stream.readUint8();\n\t\tthis.streamType = stream.readUint8();\n\t\tthis.upStream = ((this.streamType >> 1) & 1) !== 0;\n\t\tthis.streamType = this.streamType >>> 2;\n\t\tthis.bufferSize = stream.readUint24();\n\t\tthis.maxBitrate = stream.readUint32();\n\t\tthis.avgBitrate = stream.readUint32();\n\t\tthis.size -= 13;\n\t\tthis.parseRemainingDescriptors(stream);\n\t}\n\n\tclasses.DecoderSpecificInfo = function (size) {\n\t\tclasses.Descriptor.call(this, DecSpecificInfoTag, size);\n\t}\n\tclasses.DecoderSpecificInfo.prototype = new classes.Descriptor();\n\n\tclasses.SLConfigDescriptor = function (size) {\n\t\tclasses.Descriptor.call(this, SLConfigDescrTag, size);\n\t}\n\tclasses.SLConfigDescriptor.prototype = new classes.Descriptor();\n\n\treturn this;\n}\n\nif (true) {\n\texports.MPEG4DescriptorParser = MPEG4DescriptorParser;\n}\n// file:src/box.js\n/*\n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar BoxParser = {\n\tERR_INVALID_DATA : -1,\n\tERR_NOT_ENOUGH_DATA : 0,\n\tOK : 1,\n\n\t// Boxes to be created with default parsing\n\tBASIC_BOXES: [\n\t\t{type: \"mdat\", name: \"MediaDataBox\"},\n\t\t{type: \"idat\", name: \"ItemDataBox\"},\n\t\t{type: \"free\", name: \"FreeSpaceBox\"},\n\t\t{type: \"skip\", name: \"FreeSpaceBox\"},\n\t\t{type: \"meco\", name: \"AdditionalMetadataContainerBox\"},\n\t\t{type: \"strk\", name: \"SubTrackBox\"}\n\t],\n\tFULL_BOXES: [\n\t\t{type: \"hmhd\", name: \"HintMediaHeaderBox\"},\n\t\t{type: \"nmhd\", name: \"NullMediaHeaderBox\"},\n\t\t{type: \"iods\", name: \"ObjectDescriptorBox\"},\n\t\t{type: \"xml \", name: \"XMLBox\"},\n\t\t{type: \"bxml\", name: \"BinaryXMLBox\"},\n\t\t{type: \"ipro\", name: \"ItemProtectionBox\"},\n\t\t{type: \"mere\", name: \"MetaboxRelationBox\"}\n\t],\n\tCONTAINER_BOXES: [\n\t\t[{type: \"moov\", name: \"CompressedMovieBox\"}, [\"trak\", \"pssh\"]],\n\t\t[{type: \"trak\", name: \"TrackBox\"}],\n\t\t[{type: \"edts\", name: \"EditBox\"}],\n\t\t[{type: \"mdia\", name: \"MediaBox\"}],\n\t\t[{type: \"minf\", name: \"MediaInformationBox\"}],\n\t\t[{type: \"dinf\", name: \"DataInformationBox\"}],\n\t\t[{type: \"stbl\", name: \"SampleTableBox\"}, [\"sgpd\", \"sbgp\"]],\n\t\t[{type: \"mvex\", name: \"MovieExtendsBox\"}, [\"trex\"]],\n\t\t[{type: \"moof\", name: \"CompressedMovieFragmentBox\"}, [\"traf\"]],\n\t\t[{type: \"traf\", name: \"TrackFragmentBox\"}, [\"trun\", \"sgpd\", \"sbgp\"]],\n\t\t[{type: \"vttc\", name: \"VTTCueBox\"}],\n\t\t[{type: \"tref\", name: \"TrackReferenceBox\"}],\n\t\t[{type: \"iref\", name: \"ItemReferenceBox\"}],\n\t\t[{type: \"mfra\", name: \"MovieFragmentRandomAccessBox\"}, [\"tfra\"]],\n\t\t[{type: \"meco\", name: \"AdditionalMetadataContainerBox\"}],\n\t\t[{type: \"hnti\", name: \"trackhintinformation\"}],\n\t\t[{type: \"hinf\", name: \"hintstatisticsbox\"}],\n\t\t[{type: \"strk\", name: \"SubTrackBox\"}],\n\t\t[{type: \"strd\", name: \"SubTrackDefinitionBox\"}],\n\t\t[{type: \"sinf\", name: \"ProtectionSchemeInfoBox\"}],\n\t\t[{type: \"rinf\", name: \"RestrictedSchemeInfoBox\"}],\n\t\t[{type: \"schi\", name: \"SchemeInformationBox\"}],\n\t\t[{type: \"trgr\", name: \"TrackGroupBox\"}],\n\t\t[{type: \"udta\", name: \"UserDataBox\"}, [\"kind\"]],\n\t\t[{type: \"iprp\", name: \"ItemPropertiesBox\"}, [\"ipma\"]],\n\t\t[{type: \"ipco\", name: \"ItemPropertyContainerBox\"}],\n\t\t[{type: \"grpl\", name: \"GroupsListBox\"}],\n\t\t[{type: \"j2kH\", name: \"J2KHeaderInfoBox\"}],\n\t\t[{type: \"etyp\", name: \"ExtendedTypeBox\"}, [\"tyco\"]]\n\t],\n\t// Boxes effectively created\n\tboxCodes : [],\n\tfullBoxCodes : [],\n\tcontainerBoxCodes : [],\n\tsampleEntryCodes : {},\n\tsampleGroupEntryCodes: [],\n\ttrackGroupTypes: [],\n\tUUIDBoxes: {},\n\tUUIDs: [],\n\tinitialize: function() {\n\t\tBoxParser.FullBox.prototype = new BoxParser.Box();\n\t\tBoxParser.ContainerBox.prototype = new BoxParser.Box();\n\t\tBoxParser.SampleEntry.prototype = new BoxParser.Box();\n\t\tBoxParser.TrackGroupTypeBox.prototype = new BoxParser.FullBox();\n\n\t\t/* creating constructors for simple boxes */\n\t\tBoxParser.BASIC_BOXES.forEach(function(box) {\n\t\t\tBoxParser.createBoxCtor(box.type, box.name)\n\t\t});\n\t\tBoxParser.FULL_BOXES.forEach(function(box) {\n\t\t\tBoxParser.createFullBoxCtor(box.type, box.name);\n\t\t});\n\t\tBoxParser.CONTAINER_BOXES.forEach(function(boxes) {\n\t\t\tBoxParser.createContainerBoxCtor(boxes[0].type, boxes[0].name, null, boxes[1]);\n\t\t});\n\t},\n\tBox: function(_type, _size, _name, _uuid) {\n\t\tthis.type = _type;\n\t\tthis.box_name = _name;\n\t\tthis.size = _size;\n\t\tthis.uuid = _uuid;\n\t},\n\tFullBox: function(type, size, name, uuid) {\n\t\tBoxParser.Box.call(this, type, size, name, uuid);\n\t\tthis.flags = 0;\n\t\tthis.version = 0;\n\t},\n\tContainerBox: function(type, size, name, uuid) {\n\t\tBoxParser.Box.call(this, type, size, name, uuid);\n\t\tthis.boxes = [];\n\t},\n\tSampleEntry: function(type, size, hdr_size, start) {\n\t\tBoxParser.ContainerBox.call(this, type, size);\n\t\tthis.hdr_size = hdr_size;\n\t\tthis.start = start;\n\t},\n\tSampleGroupEntry: function(type) {\n\t\tthis.grouping_type = type;\n\t},\n\tTrackGroupTypeBox: function(type, size) {\n\t\tBoxParser.FullBox.call(this, type, size);\n\t},\n\tcreateBoxCtor: function(type, name, parseMethod){\n\t\tBoxParser.boxCodes.push(type);\n\t\tBoxParser[type+\"Box\"] = function(size) {\n\t\t\tBoxParser.Box.call(this, type, size, name);\n\t\t}\n\t\tBoxParser[type+\"Box\"].prototype = new BoxParser.Box();\n\t\tif (parseMethod) BoxParser[type+\"Box\"].prototype.parse = parseMethod;\n\t},\n\tcreateFullBoxCtor: function(type, name, parseMethod) {\n\t\t//BoxParser.fullBoxCodes.push(type);\n\t\tBoxParser[type+\"Box\"] = function(size) {\n\t\t\tBoxParser.FullBox.call(this, type, size, name);\n\t\t}\n\t\tBoxParser[type+\"Box\"].prototype = new BoxParser.FullBox();\n\t\tBoxParser[type+\"Box\"].prototype.parse = function(stream) {\n\t\t\tthis.parseFullHeader(stream);\n\t\t\tif (parseMethod) {\n\t\t\t\tparseMethod.call(this, stream);\n\t\t\t}\n\t\t};\n\t},\n\taddSubBoxArrays: function(subBoxNames) {\n\t\tif (subBoxNames) {\n\t\t\tthis.subBoxNames = subBoxNames;\n\t\t\tvar nbSubBoxes = subBoxNames.length;\n\t\t\tfor (var k = 0; k<nbSubBoxes; k++) {\n\t\t\t\tthis[subBoxNames[k]+\"s\"] = [];\n\t\t\t}\n\t\t}\n\t},\n\tcreateContainerBoxCtor: function(type, name, parseMethod, subBoxNames) {\n\t\t//BoxParser.containerBoxCodes.push(type);\n\t\tBoxParser[type+\"Box\"] = function(size) {\n\t\t\tBoxParser.ContainerBox.call(this, type, size, name);\n\t\t\tBoxParser.addSubBoxArrays.call(this, subBoxNames);\n\t\t}\n\t\tBoxParser[type+\"Box\"].prototype = new BoxParser.ContainerBox();\n\t\tif (parseMethod) BoxParser[type+\"Box\"].prototype.parse = parseMethod;\n\t},\n\tcreateMediaSampleEntryCtor: function(mediaType, parseMethod, subBoxNames) {\n\t\tBoxParser.sampleEntryCodes[mediaType] = [];\n\t\tBoxParser[mediaType+\"SampleEntry\"] = function(type, size) {\n\t\t\tBoxParser.SampleEntry.call(this, type, size);\n\t\t\tBoxParser.addSubBoxArrays.call(this, subBoxNames);\n\t\t};\n\t\tBoxParser[mediaType+\"SampleEntry\"].prototype = new BoxParser.SampleEntry();\n\t\tif (parseMethod) BoxParser[mediaType+\"SampleEntry\"].prototype .parse = parseMethod;\n\t},\n\tcreateSampleEntryCtor: function(mediaType, type, parseMethod, subBoxNames) {\n\t\tBoxParser.sampleEntryCodes[mediaType].push(type);\n\t\tBoxParser[type+\"SampleEntry\"] = function(size) {\n\t\t\tBoxParser[mediaType+\"SampleEntry\"].call(this, type, size);\n\t\t\tBoxParser.addSubBoxArrays.call(this, subBoxNames);\n\t\t};\n\t\tBoxParser[type+\"SampleEntry\"].prototype = new BoxParser[mediaType+\"SampleEntry\"]();\n\t\tif (parseMethod) BoxParser[type+\"SampleEntry\"].prototype.parse = parseMethod;\n\t},\n\tcreateEncryptedSampleEntryCtor: function(mediaType, type, parseMethod) {\n\t\tBoxParser.createSampleEntryCtor.call(this, mediaType, type, parseMethod, [\"sinf\"]);\n\t},\n\tcreateSampleGroupCtor: function(type, parseMethod) {\n\t\t//BoxParser.sampleGroupEntryCodes.push(type);\n\t\tBoxParser[type+\"SampleGroupEntry\"] = function(size) {\n\t\t\tBoxParser.SampleGroupEntry.call(this, type, size);\n\t\t}\n\t\tBoxParser[type+\"SampleGroupEntry\"].prototype = new BoxParser.SampleGroupEntry();\n\t\tif (parseMethod) BoxParser[type+\"SampleGroupEntry\"].prototype.parse = parseMethod;\n\t},\n\tcreateTrackGroupCtor: function(type, parseMethod) {\n\t\t//BoxParser.trackGroupTypes.push(type);\n\t\tBoxParser[type+\"TrackGroupTypeBox\"] = function(size) {\n\t\t\tBoxParser.TrackGroupTypeBox.call(this, type, size);\n\t\t}\n\t\tBoxParser[type+\"TrackGroupTypeBox\"].prototype = new BoxParser.TrackGroupTypeBox();\n\t\tif (parseMethod) BoxParser[type+\"TrackGroupTypeBox\"].prototype.parse = parseMethod;\n\t},\n\tcreateUUIDBox: function(uuid, name, isFullBox, isContainerBox, parseMethod) {\n\t\tBoxParser.UUIDs.push(uuid);\n\t\tBoxParser.UUIDBoxes[uuid] = function(size) {\n\t\t\tif (isFullBox) {\n\t\t\t\tBoxParser.FullBox.call(this, \"uuid\", size, name, uuid);\n\t\t\t} else {\n\t\t\t\tif (isContainerBox) {\n\t\t\t\t\tBoxParser.ContainerBox.call(this, \"uuid\", size, name, uuid);\n\t\t\t\t} else {\n\t\t\t\t\tBoxParser.Box.call(this, \"uuid\", size, name, uuid);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tBoxParser.UUIDBoxes[uuid].prototype = (isFullBox ? new BoxParser.FullBox() : (isContainerBox ? new BoxParser.ContainerBox() : new BoxParser.Box()));\n\t\tif (parseMethod) {\n\t\t\tif (isFullBox) {\n\t\t\t\tBoxParser.UUIDBoxes[uuid].prototype.parse = function(stream) {\n\t\t\t\t\tthis.parseFullHeader(stream);\n\t\t\t\t\tif (parseMethod) {\n\t\t\t\t\t\tparseMethod.call(this, stream);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tBoxParser.UUIDBoxes[uuid].prototype.parse = parseMethod;\n\t\t\t}\n\t\t}\n\t}\n}\n\nBoxParser.initialize();\n\nBoxParser.TKHD_FLAG_ENABLED    = 0x000001;\nBoxParser.TKHD_FLAG_IN_MOVIE   = 0x000002;\nBoxParser.TKHD_FLAG_IN_PREVIEW = 0x000004;\n\nBoxParser.TFHD_FLAG_BASE_DATA_OFFSET\t= 0x01;\nBoxParser.TFHD_FLAG_SAMPLE_DESC\t\t\t= 0x02;\nBoxParser.TFHD_FLAG_SAMPLE_DUR\t\t\t= 0x08;\nBoxParser.TFHD_FLAG_SAMPLE_SIZE\t\t\t= 0x10;\nBoxParser.TFHD_FLAG_SAMPLE_FLAGS\t\t= 0x20;\nBoxParser.TFHD_FLAG_DUR_EMPTY\t\t\t= 0x10000;\nBoxParser.TFHD_FLAG_DEFAULT_BASE_IS_MOOF= 0x20000;\n\nBoxParser.TRUN_FLAGS_DATA_OFFSET= 0x01;\nBoxParser.TRUN_FLAGS_FIRST_FLAG\t= 0x04;\nBoxParser.TRUN_FLAGS_DURATION\t= 0x100;\nBoxParser.TRUN_FLAGS_SIZE\t\t= 0x200;\nBoxParser.TRUN_FLAGS_FLAGS\t\t= 0x400;\nBoxParser.TRUN_FLAGS_CTS_OFFSET\t= 0x800;\n\nBoxParser.Box.prototype.add = function(name) {\n\treturn this.addBox(new BoxParser[name+\"Box\"]());\n}\n\nBoxParser.Box.prototype.addBox = function(box) {\n\tthis.boxes.push(box);\n\tif (this[box.type+\"s\"]) {\n\t\tthis[box.type+\"s\"].push(box);\n\t} else {\n\t\tthis[box.type] = box;\n\t}\n\treturn box;\n}\n\nBoxParser.Box.prototype.set = function(prop, value) {\n\tthis[prop] = value;\n\treturn this;\n}\n\nBoxParser.Box.prototype.addEntry = function(value, _prop) {\n\tvar prop = _prop || \"entries\";\n\tif (!this[prop]) {\n\t\tthis[prop] = [];\n\t}\n\tthis[prop].push(value);\n\treturn this;\n}\n\nif (true) {\n\texports.BoxParser = BoxParser;\n}\n// file:src/box-parse.js\n/* \n * Copyright (c) Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nBoxParser.parseUUID = function(stream) {\n\treturn BoxParser.parseHex16(stream);\n}\n\nBoxParser.parseHex16 = function(stream) {\n\tvar hex16 = \"\"\n\tfor (var i = 0; i <16; i++) {\n\t\tvar hex = stream.readUint8().toString(16);\n\t\thex16 += (hex.length === 1 ? \"0\"+hex : hex);\n\t}\n\treturn hex16;\n}\n\nBoxParser.parseOneBox = function(stream, headerOnly, parentSize) {\n\tvar box;\n\tvar start = stream.getPosition();\n\tvar hdr_size = 0;\n\tvar diff;\n\tvar uuid;\n\tif (stream.getEndPosition() - start < 8) {\n\t\tLog.debug(\"BoxParser\", \"Not enough data in stream to parse the type and size of the box\");\n\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA };\n\t}\n\tif (parentSize && parentSize < 8) {\n\t\tLog.debug(\"BoxParser\", \"Not enough bytes left in the parent box to parse a new box\");\n\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA };\n\t}\n\tvar size = stream.readUint32();\n\tvar type = stream.readString(4);\n\tvar box_type = type;\n\tLog.debug(\"BoxParser\", \"Found box of type '\"+type+\"' and size \"+size+\" at position \"+start);\n\thdr_size = 8;\n\tif (type == \"uuid\") {\n\t\tif ((stream.getEndPosition() - stream.getPosition() < 16) || (parentSize -hdr_size < 16)) {\n\t\t\tstream.seek(start);\n\t\t\tLog.debug(\"BoxParser\", \"Not enough bytes left in the parent box to parse a UUID box\");\n\t\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA };\n\t\t}\n\t\tuuid = BoxParser.parseUUID(stream);\n\t\thdr_size += 16;\n\t\tbox_type = uuid;\n\t}\n\tif (size == 1) {\n\t\tif ((stream.getEndPosition() - stream.getPosition() < 8) || (parentSize && (parentSize - hdr_size) < 8)) {\n\t\t\tstream.seek(start);\n\t\t\tLog.warn(\"BoxParser\", \"Not enough data in stream to parse the extended size of the \\\"\"+type+\"\\\" box\");\n\t\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA };\n\t\t}\n\t\tsize = stream.readUint64();\n\t\thdr_size += 8;\n\t} else if (size === 0) {\n\t\t/* box extends till the end of file or invalid file */\n\t\tif (parentSize) {\n\t\t\tsize = parentSize;\n\t\t} else {\n\t\t\t/* box extends till the end of file */\n\t\t\tif (type !== \"mdat\") {\n\t\t\t\tLog.error(\"BoxParser\", \"Unlimited box size not supported for type: '\"+type+\"'\");\n\t\t\t\tbox = new BoxParser.Box(type, size);\n\t\t\t\treturn { code: BoxParser.OK, box: box, size: box.size };\n\t\t\t}\n\t\t}\n\t}\n\tif (size !== 0 && size < hdr_size) {\n\t\tLog.error(\"BoxParser\", \"Box of type \"+type+\" has an invalid size \"+size+\" (too small to be a box)\");\n\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA, type: type, size: size, hdr_size: hdr_size, start: start };\n\t}\n\tif (size !== 0 && parentSize && size > parentSize) {\n\t\tLog.error(\"BoxParser\", \"Box of type '\"+type+\"' has a size \"+size+\" greater than its container size \"+parentSize);\n\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA, type: type, size: size, hdr_size: hdr_size, start: start };\n\t}\n\tif (size !== 0 && start + size > stream.getEndPosition()) {\n\t\tstream.seek(start);\n\t\tLog.info(\"BoxParser\", \"Not enough data in stream to parse the entire '\"+type+\"' box\");\n\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA, type: type, size: size, hdr_size: hdr_size, start: start };\n\t}\n\tif (headerOnly) {\n\t\treturn { code: BoxParser.OK, type: type, size: size, hdr_size: hdr_size, start: start };\n\t} else {\n\t\tif (BoxParser[type+\"Box\"]) {\n\t\t\tbox = new BoxParser[type+\"Box\"](size);\n\t\t} else {\n\t\t\tif (type !== \"uuid\") {\n\t\t\t\tLog.warn(\"BoxParser\", \"Unknown box type: '\"+type+\"'\");\n\t\t\t\tbox = new BoxParser.Box(type, size);\n\t\t\t\tbox.has_unparsed_data = true;\n\t\t\t} else {\n\t\t\t\tif (BoxParser.UUIDBoxes[uuid]) {\n\t\t\t\t\tbox = new BoxParser.UUIDBoxes[uuid](size);\n\t\t\t\t} else {\n\t\t\t\t\tLog.warn(\"BoxParser\", \"Unknown uuid type: '\"+uuid+\"'\");\n\t\t\t\t\tbox = new BoxParser.Box(type, size);\n\t\t\t\t\tbox.uuid = uuid;\n\t\t\t\t\tbox.has_unparsed_data = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tbox.hdr_size = hdr_size;\n\t/* recording the position of the box in the input stream */\n\tbox.start = start;\n\tif (box.write === BoxParser.Box.prototype.write && box.type !== \"mdat\") {\n\t\tLog.info(\"BoxParser\", \"'\"+box_type+\"' box writing not yet implemented, keeping unparsed data in memory for later write\");\n\t\tbox.parseDataAndRewind(stream);\n\t}\n\tbox.parse(stream);\n\tdiff = stream.getPosition() - (box.start+box.size);\n\tif (diff < 0) {\n\t\tLog.warn(\"BoxParser\", \"Parsing of box '\"+box_type+\"' did not read the entire indicated box data size (missing \"+(-diff)+\" bytes), seeking forward\");\n\t\tstream.seek(box.start+box.size);\n\t} else if (diff > 0) {\n\t\tLog.error(\"BoxParser\", \"Parsing of box '\"+box_type+\"' read \"+diff+\" more bytes than the indicated box data size, seeking backwards\");\n\t\tif (box.size !== 0) stream.seek(box.start+box.size);\n\t}\n\treturn { code: BoxParser.OK, box: box, size: box.size };\n}\n\nBoxParser.Box.prototype.parse = function(stream) {\n\tif (this.type != \"mdat\") {\n\t\tthis.data = stream.readUint8Array(this.size-this.hdr_size);\n\t} else {\n\t\tif (this.size === 0) {\n\t\t\tstream.seek(stream.getEndPosition());\n\t\t} else {\n\t\t\tstream.seek(this.start+this.size);\n\t\t}\n\t}\n}\n\n/* Used to parse a box without consuming its data, to allow detailled parsing\n   Useful for boxes for which a write method is not yet implemented */\nBoxParser.Box.prototype.parseDataAndRewind = function(stream) {\n\tthis.data = stream.readUint8Array(this.size-this.hdr_size);\n\t// rewinding\n\tstream.position -= this.size-this.hdr_size;\n}\n\nBoxParser.FullBox.prototype.parseDataAndRewind = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.data = stream.readUint8Array(this.size-this.hdr_size);\n\t// restore the header size as if the full header had not been parsed\n\tthis.hdr_size -= 4;\n\t// rewinding\n\tstream.position -= this.size-this.hdr_size;\n}\n\nBoxParser.FullBox.prototype.parseFullHeader = function (stream) {\n\tthis.version = stream.readUint8();\n\tthis.flags = stream.readUint24();\n\tthis.hdr_size += 4;\n}\n\nBoxParser.FullBox.prototype.parse = function (stream) {\n\tthis.parseFullHeader(stream);\n\tthis.data = stream.readUint8Array(this.size-this.hdr_size);\n}\n\nBoxParser.ContainerBox.prototype.parse = function(stream) {\n\tvar ret;\n\tvar box;\n\twhile (stream.getPosition() < this.start+this.size) {\n\t\tret = BoxParser.parseOneBox(stream, false, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tbox = ret.box;\n\t\t\t/* store the box in the 'boxes' array to preserve box order (for offset) but also store box in a property for more direct access */\n\t\t\tthis.boxes.push(box);\n\t\t\tif (this.subBoxNames && this.subBoxNames.indexOf(box.type) != -1) {\n\t\t\t\tthis[this.subBoxNames[this.subBoxNames.indexOf(box.type)]+\"s\"].push(box);\n\t\t\t} else {\n\t\t\t\tvar box_type = box.type !== \"uuid\" ? box.type : box.uuid;\n\t\t\t\tif (this[box_type]) {\n\t\t\t\t\tLog.warn(\"Box of type \"+box_type+\" already stored in field of this type\");\n\t\t\t\t} else {\n\t\t\t\t\tthis[box_type] = box;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n}\n\nBoxParser.Box.prototype.parseLanguage = function(stream) {\n\tthis.language = stream.readUint16();\n\tvar chars = [];\n\tchars[0] = (this.language>>10)&0x1F;\n\tchars[1] = (this.language>>5)&0x1F;\n\tchars[2] = (this.language)&0x1F;\n\tthis.languageString = String.fromCharCode(chars[0]+0x60, chars[1]+0x60, chars[2]+0x60);\n}\n\n// file:src/parsing/sampleentries/sampleentry.js\nBoxParser.SAMPLE_ENTRY_TYPE_VISUAL \t\t= \"Visual\";\nBoxParser.SAMPLE_ENTRY_TYPE_AUDIO \t\t= \"Audio\";\nBoxParser.SAMPLE_ENTRY_TYPE_HINT \t\t= \"Hint\";\nBoxParser.SAMPLE_ENTRY_TYPE_METADATA \t= \"Metadata\";\nBoxParser.SAMPLE_ENTRY_TYPE_SUBTITLE \t= \"Subtitle\";\nBoxParser.SAMPLE_ENTRY_TYPE_SYSTEM \t\t= \"System\";\nBoxParser.SAMPLE_ENTRY_TYPE_TEXT \t\t= \"Text\";\n\nBoxParser.SampleEntry.prototype.parseHeader = function(stream) {\n\tstream.readUint8Array(6);\n\tthis.data_reference_index = stream.readUint16();\n\tthis.hdr_size += 8;\n}\n\nBoxParser.SampleEntry.prototype.parse = function(stream) {\n\tthis.parseHeader(stream);\n\tthis.data = stream.readUint8Array(this.size - this.hdr_size);\n}\n\nBoxParser.SampleEntry.prototype.parseDataAndRewind = function(stream) {\n\tthis.parseHeader(stream);\n\tthis.data = stream.readUint8Array(this.size - this.hdr_size);\n\t// restore the header size as if the sample entry header had not been parsed\n\tthis.hdr_size -= 8;\n\t// rewinding\n\tstream.position -= this.size-this.hdr_size;\n}\n\nBoxParser.SampleEntry.prototype.parseFooter = function(stream) {\n\tBoxParser.ContainerBox.prototype.parse.call(this, stream);\n}\n\n// Base SampleEntry types with default parsing\nBoxParser.createMediaSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_HINT);\nBoxParser.createMediaSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_METADATA);\nBoxParser.createMediaSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SUBTITLE);\nBoxParser.createMediaSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SYSTEM);\nBoxParser.createMediaSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_TEXT);\n\n//Base SampleEntry types for Audio and Video with specific parsing\nBoxParser.createMediaSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, function(stream) {\n\tvar compressorname_length;\n\tthis.parseHeader(stream);\n\tstream.readUint16();\n\tstream.readUint16();\n\tstream.readUint32Array(3);\n\tthis.width = stream.readUint16();\n\tthis.height = stream.readUint16();\n\tthis.horizresolution = stream.readUint32();\n\tthis.vertresolution = stream.readUint32();\n\tstream.readUint32();\n\tthis.frame_count = stream.readUint16();\n\tcompressorname_length = Math.min(31, stream.readUint8());\n\tthis.compressorname = stream.readString(compressorname_length);\n\tif (compressorname_length < 31) {\n\t\tstream.readString(31 - compressorname_length);\n\t}\n\tthis.depth = stream.readUint16();\n\tstream.readUint16();\n\tthis.parseFooter(stream);\n});\n\nBoxParser.createMediaSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, function(stream) {\n\tthis.parseHeader(stream);\n\tstream.readUint32Array(2);\n\tthis.channel_count = stream.readUint16();\n\tthis.samplesize = stream.readUint16();\n\tstream.readUint16();\n\tstream.readUint16();\n\tthis.samplerate = (stream.readUint32()/(1<<16));\n\tthis.parseFooter(stream);\n});\n\n// Sample entries inheriting from Audio and Video\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"avc1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"avc2\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"avc3\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"avc4\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"av01\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"dav1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"hvc1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"hev1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"hvt1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"lhe1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"dvh1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"dvhe\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"vvc1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"vvi1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"vvs1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"vvcN\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"vp08\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"vp09\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"avs3\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"j2ki\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"mjp2\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"mjpg\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL,\t\"uncv\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, \t\"mp4a\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, \t\"ac-3\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, \t\"ac-4\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, \t\"ec-3\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, \t\"Opus\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, \t\"mha1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, \t\"mha2\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, \t\"mhm1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, \t\"mhm2\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, \t\"fLaC\");\n\n// Encrypted sample entries\nBoxParser.createEncryptedSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \t\"encv\");\nBoxParser.createEncryptedSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, \t\"enca\");\nBoxParser.createEncryptedSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SUBTITLE, \t\"encu\");\nBoxParser.createEncryptedSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SYSTEM, \t\"encs\");\nBoxParser.createEncryptedSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_TEXT, \t\t\"enct\");\nBoxParser.createEncryptedSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_METADATA, \t\"encm\");\n// file:src/parsing/a1lx.js\nBoxParser.createBoxCtor(\"a1lx\", \"AV1LayeredImageIndexingProperty\", function(stream) {\n\tvar large_size = stream.readUint8() & 1;\n\tvar FieldLength = ((large_size & 1) + 1) * 16;\n\tthis.layer_size = [];\n\tfor (var i = 0; i < 3; i++) {\n\t\tif (FieldLength == 16) {\n\t\t\tthis.layer_size[i] = stream.readUint16();\n\t\t} else {\n\t\t\tthis.layer_size[i] = stream.readUint32();\n\t\t}\n\t}\n});// file:src/parsing/a1op.js\nBoxParser.createBoxCtor(\"a1op\", \"OperatingPointSelectorProperty\", function(stream) {\n\tthis.op_index = stream.readUint8();\n});// file:src/parsing/auxC.js\nBoxParser.createFullBoxCtor(\"auxC\", \"AuxiliaryTypeProperty\", function(stream) {\n\tthis.aux_type = stream.readCString();\n\tvar aux_subtype_length = this.size - this.hdr_size - (this.aux_type.length + 1);\n\tthis.aux_subtype = stream.readUint8Array(aux_subtype_length);\n});// file:src/parsing/av1C.js\nBoxParser.createBoxCtor(\"av1C\", \"AV1CodecConfigurationBox\", function(stream) {\n\tvar i;\n\tvar toparse;\n\tvar tmp = stream.readUint8();\n\tif ((tmp >> 7 & 0x1) !== 1) {\n\t\tLog.error(\"av1C marker problem\");\n\t\treturn;\n\t}\n\tthis.version = tmp & 0x7F;\n\tif (this.version !== 1) {\n\t\tLog.error(\"av1C version \"+this.version+\" not supported\");\n\t\treturn;\n\t}\n\ttmp = stream.readUint8();\n\tthis.seq_profile = (tmp >> 5) & 0x7;\n\tthis.seq_level_idx_0 = tmp & 0x1F;\n\ttmp = stream.readUint8();\n\tthis.seq_tier_0 = (tmp >> 7) & 0x1;\n\tthis.high_bitdepth = (tmp >> 6) & 0x1;\n\tthis.twelve_bit = (tmp >> 5) & 0x1;\n\tthis.monochrome = (tmp >> 4) & 0x1;\n\tthis.chroma_subsampling_x = (tmp >> 3) & 0x1;\n\tthis.chroma_subsampling_y = (tmp >> 2) & 0x1;\n\tthis.chroma_sample_position = (tmp & 0x3);\n\ttmp = stream.readUint8();\n\tthis.reserved_1 = (tmp >> 5) & 0x7;\n\tif (this.reserved_1 !== 0) {\n\t\tLog.error(\"av1C reserved_1 parsing problem\");\n\t\treturn;\n\t}\n\tthis.initial_presentation_delay_present = (tmp >> 4) & 0x1;\n\tif (this.initial_presentation_delay_present === 1) {\n\t\tthis.initial_presentation_delay_minus_one = (tmp & 0xF);\n\t} else {\n\t\tthis.reserved_2 = (tmp & 0xF);\n\t\tif (this.reserved_2 !== 0) {\n\t\t\tLog.error(\"av1C reserved_2 parsing problem\");\n\t\t\treturn;\n\t\t}\n\t}\n\n\tvar configOBUs_length = this.size - this.hdr_size - 4;\n\tthis.configOBUs = stream.readUint8Array(configOBUs_length);\n});\n\n// file:src/parsing/avcC.js\nfunction printPS(ps) {\n\tvar str = \"<table class='inner-table'>\";\n\tstr += \"<thead><tr><th>length</th><th>nalu_data</th></tr></thead>\";\n\tstr += \"<tbody>\";\n\n\tfor (var i=0; i < ps.length; i++) {\n\t\tvar nalu = ps[i];\n\t\tstr += \"<tr>\";\n\t\tstr += \"<td>\"+nalu.length+\"</td>\";\n\t\tstr += \"<td>\";\n\t\tstr += nalu.nalu.reduce(function(str, byte) {\n\t\t\treturn str + byte.toString(16).padStart(2, \"0\");\n\t\t}, \"0x\");\n\t\tstr += \"</td></tr>\";\n\t}\n\tstr += \"</tbody></table>\";\n\treturn str;\n}\n\nBoxParser.createBoxCtor(\"avcC\", \"AVCConfigurationBox\", function(stream) {\n\tvar i;\n\tvar toparse;\n\tthis.configurationVersion = stream.readUint8();\n\tthis.AVCProfileIndication = stream.readUint8();\n\tthis.profile_compatibility = stream.readUint8();\n\tthis.AVCLevelIndication = stream.readUint8();\n\tthis.lengthSizeMinusOne = (stream.readUint8() & 0x3);\n\tthis.nb_SPS_nalus = (stream.readUint8() & 0x1F);\n\ttoparse = this.size - this.hdr_size - 6;\n\tthis.SPS = [];\n\tthis.SPS.toString = function () {\n\t\treturn printPS(this);\n\t}\n\tfor (i = 0; i < this.nb_SPS_nalus; i++) {\n\t\tthis.SPS[i] = {};\n\t\tthis.SPS[i].length = stream.readUint16();\n\t\tthis.SPS[i].nalu = stream.readUint8Array(this.SPS[i].length);\n\t\ttoparse -= 2+this.SPS[i].length;\n\t}\n\tthis.nb_PPS_nalus = stream.readUint8();\n\ttoparse--;\n\tthis.PPS = [];\n\tthis.PPS.toString = function () {\n\t\treturn printPS(this);\n\t}\n\tfor (i = 0; i < this.nb_PPS_nalus; i++) {\n\t\tthis.PPS[i] = {};\n\t\tthis.PPS[i].length = stream.readUint16();\n\t\tthis.PPS[i].nalu = stream.readUint8Array(this.PPS[i].length);\n\t\ttoparse -= 2+this.PPS[i].length;\n\t}\n\tif (toparse>0) {\n\t\tthis.ext = stream.readUint8Array(toparse);\n\t}\n});\n\n// file:src/parsing/btrt.js\nBoxParser.createBoxCtor(\"btrt\", \"BitRateBox\", function(stream) {\n\tthis.bufferSizeDB = stream.readUint32();\n\tthis.maxBitrate = stream.readUint32();\n\tthis.avgBitrate = stream.readUint32();\n});\n\n// file:src/parsing/ccst.js\nBoxParser.createFullBoxCtor(\"ccst\", \"CodingConstraintsBox\", function(stream) {\n\tvar flags = stream.readUint8();\n\tthis.all_ref_pics_intra = ((flags & 0x80) == 0x80);\n\tthis.intra_pred_used = ((flags & 0x40) == 0x40);\n\tthis.max_ref_per_pic = ((flags & 0x3f) >> 2);\n\tstream.readUint24();\n});\n\n// file:src/parsing/cdef.js\nBoxParser.createBoxCtor(\"cdef\", \"ComponentDefinitionBox\", function(stream) {\n    var i;\n    this.channel_count = stream.readUint16();\n    this.channel_indexes = [];\n    this.channel_types = [];\n    this.channel_associations = [];\n    for (i = 0; i < this.channel_count; i++) {\n        this.channel_indexes.push(stream.readUint16());\n        this.channel_types.push(stream.readUint16());\n        this.channel_associations.push(stream.readUint16());\n    }\n});\n\n// file:src/parsing/clap.js\nBoxParser.createBoxCtor(\"clap\", \"CleanApertureBox\", function(stream) {\n\tthis.cleanApertureWidthN = stream.readUint32();\n\tthis.cleanApertureWidthD = stream.readUint32();\n\tthis.cleanApertureHeightN = stream.readUint32();\n\tthis.cleanApertureHeightD = stream.readUint32();\n\tthis.horizOffN = stream.readUint32();\n\tthis.horizOffD = stream.readUint32();\n\tthis.vertOffN = stream.readUint32();\n\tthis.vertOffD = stream.readUint32();\n});// file:src/parsing/clli.js\nBoxParser.createBoxCtor(\"clli\", \"ContentLightLevelBox\", function(stream) {\n\tthis.max_content_light_level = stream.readUint16();\n    this.max_pic_average_light_level = stream.readUint16();\n});\n\n// file:src/parsing/cmex.js\nBoxParser.createFullBoxCtor(\"cmex\", \"CameraExtrinsicMatrixProperty\", function(stream) {\n\tif (this.flags & 0x1) {\n\t\tthis.pos_x = stream.readInt32();\n\t}\n\tif (this.flags & 0x2) {\n\t\tthis.pos_y = stream.readInt32();\n\t}\n\tif (this.flags & 0x4) {\n\t\tthis.pos_z = stream.readInt32();\n\t}\n\tif (this.flags & 0x8) {\n\t\tif (this.version == 0) {\n\t\t\tif (this.flags & 0x10) {\n\t\t\t\tthis.quat_x = stream.readInt32();\n\t\t\t\tthis.quat_y = stream.readInt32();\n\t\t\t\tthis.quat_z = stream.readInt32();\n\t\t\t} else {\n\t\t\t\tthis.quat_x = stream.readInt16();\n\t\t\t\tthis.quat_y = stream.readInt16();\n\t\t\t\tthis.quat_z = stream.readInt16();\n\t\t\t}\n\t\t} else if (this.version == 1) {\n\t\t\t//ViewpointGlobalCoordinateSysRotationStruct rot;\n\t\t}\n\t}\n\tif (this.flags & 0x20) {\n\t\tthis.id = stream.readUint32();\n\t}\n});\n// file:src/parsing/cmin.js\nBoxParser.createFullBoxCtor(\"cmin\", \"CameraIntrinsicMatrixProperty\", function(stream) {\n\tthis.focal_length_x = stream.readInt32();\n\tthis.principal_point_x = stream.readInt32();\n\tthis.principal_point_y = stream.readInt32();\n\tif (this.flags & 0x1) {\n\t\tthis.focal_length_y = stream.readInt32();\n\t\tthis.skew_factor = stream.readInt32();\n\t}\n});// file:src/parsing/cmpd.js\nBoxParser.createBoxCtor(\"cmpd\", \"ComponentDefinitionBox\", function(stream) {\n\tthis.component_count = stream.readUint32();\n\tthis.component_types = [];\n\tthis.component_type_urls = [];\n\tfor (i = 0; i < this.component_count; i++) {\n\t\tvar component_type = stream.readUint16();\n\t\tthis.component_types.push(component_type);\n\t\tif (component_type >= 0x8000) {\n\t\t\tthis.component_type_urls.push(stream.readCString());\n\t\t}\n\t}\n});// file:src/parsing/co64.js\nBoxParser.createFullBoxCtor(\"co64\", \"ChunkLargeOffsetBox\", function(stream) {\n\tvar entry_count;\n\tvar i;\n\tentry_count = stream.readUint32();\n\tthis.chunk_offsets = [];\n\tif (this.version === 0) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.chunk_offsets.push(stream.readUint64());\n\t\t}\n\t}\n});\n\n// file:src/parsing/CoLL.js\nBoxParser.createFullBoxCtor(\"CoLL\", \"ContentLightLevelBox\", function(stream) {\n\tthis.maxCLL = stream.readUint16();\n    this.maxFALL = stream.readUint16();\n});\n\n// file:src/parsing/colr.js\nBoxParser.createBoxCtor(\"colr\", \"ColourInformationBox\", function(stream) {\n\tthis.colour_type = stream.readString(4);\n\tif (this.colour_type === 'nclx') {\n\t\tthis.colour_primaries = stream.readUint16();\n\t\tthis.transfer_characteristics = stream.readUint16();\n\t\tthis.matrix_coefficients = stream.readUint16();\n\t\tvar tmp = stream.readUint8();\n\t\tthis.full_range_flag = tmp >> 7;\n\t} else if (this.colour_type === 'rICC') {\n\t\tthis.ICC_profile = stream.readUint8Array(this.size - 4);\n\t} else if (this.colour_type === 'prof') {\n\t\tthis.ICC_profile = stream.readUint8Array(this.size - 4);\n\t}\n});// file:src/parsing/cprt.js\nBoxParser.createFullBoxCtor(\"cprt\", \"CopyrightBox\", function (stream) {\n\tthis.parseLanguage(stream);\n\tthis.notice = stream.readCString();\n});\n\n// file:src/parsing/cslg.js\nBoxParser.createFullBoxCtor(\"cslg\", \"CompositionToDecodeBox\", function(stream) {\n\tvar entry_count;\n\tif (this.version === 0) {\n\t\tthis.compositionToDTSShift = stream.readInt32(); /* signed */\n\t\tthis.leastDecodeToDisplayDelta = stream.readInt32(); /* signed */\n\t\tthis.greatestDecodeToDisplayDelta = stream.readInt32(); /* signed */\n\t\tthis.compositionStartTime = stream.readInt32(); /* signed */\n\t\tthis.compositionEndTime = stream.readInt32(); /* signed */\n\t}\n});\n\n// file:src/parsing/ctts.js\nBoxParser.createFullBoxCtor(\"ctts\", \"CompositionOffsetBox\", function(stream) {\n\tvar entry_count;\n\tvar i;\n\tentry_count = stream.readUint32();\n\tthis.sample_counts = [];\n\tthis.sample_offsets = [];\n\tif (this.version === 0) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.sample_counts.push(stream.readUint32());\n\t\t\t/* some files are buggy and declare version=0 while using signed offsets.\n\t\t\t   The likelyhood of using the most significant bit in a 32-bits time offset is very low,\n\t\t\t   so using signed value here as well */\n\t\t\t   var value = stream.readInt32();\n\t\t\t   if (value < 0) {\n\t\t\t   \t\tLog.warn(\"BoxParser\", \"ctts box uses negative values without using version 1\");\n\t\t\t   }\n\t\t\tthis.sample_offsets.push(value);\n\t\t}\n\t} else if (this.version == 1) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.sample_counts.push(stream.readUint32());\n\t\t\tthis.sample_offsets.push(stream.readInt32()); /* signed */\n\t\t}\n\t}\n});\n\n// file:src/parsing/dac3.js\nBoxParser.createBoxCtor(\"dac3\", \"AC3SpecificBox\", function(stream) {\n\tvar tmp_byte1 = stream.readUint8();\n\tvar tmp_byte2 = stream.readUint8();\n\tvar tmp_byte3 = stream.readUint8();\n\tthis.fscod = tmp_byte1 >> 6;\n\tthis.bsid  = ((tmp_byte1 >> 1) & 0x1F);\n\tthis.bsmod = ((tmp_byte1 & 0x1) <<  2) | ((tmp_byte2 >> 6) & 0x3);\n\tthis.acmod = ((tmp_byte2 >> 3) & 0x7);\n\tthis.lfeon = ((tmp_byte2 >> 2) & 0x1);\n\tthis.bit_rate_code = (tmp_byte2 & 0x3) | ((tmp_byte3 >> 5) & 0x7);\n});\n\n// file:src/parsing/dec3.js\nBoxParser.createBoxCtor(\"dec3\", \"EC3SpecificBox\", function(stream) {\n\tvar tmp_16 = stream.readUint16();\n\tthis.data_rate = tmp_16 >> 3;\n\tthis.num_ind_sub = tmp_16 & 0x7;\n\tthis.ind_subs = [];\n\tfor (var i = 0; i < this.num_ind_sub+1; i++) {\n\t\tvar ind_sub = {};\n\t\tthis.ind_subs.push(ind_sub);\n\t\tvar tmp_byte1 = stream.readUint8();\n\t\tvar tmp_byte2 = stream.readUint8();\n\t\tvar tmp_byte3 = stream.readUint8();\n\t\tind_sub.fscod = tmp_byte1 >> 6;\n\t\tind_sub.bsid  = ((tmp_byte1 >> 1) & 0x1F);\n\t\tind_sub.bsmod = ((tmp_byte1 & 0x1) << 4) | ((tmp_byte2 >> 4) & 0xF);\n\t\tind_sub.acmod = ((tmp_byte2 >> 1) & 0x7);\n\t\tind_sub.lfeon = (tmp_byte2 & 0x1);\n\t\tind_sub.num_dep_sub = ((tmp_byte3 >> 1) & 0xF);\n\t\tif (ind_sub.num_dep_sub > 0) {\n\t\t\tind_sub.chan_loc = ((tmp_byte3 & 0x1) << 8) | stream.readUint8();\n\t\t}\n\t}\n});\n\n// file:src/parsing/dfLa.js\nBoxParser.createFullBoxCtor(\"dfLa\", \"FLACSpecificBox\", function(stream) {\n    var BLOCKTYPE_MASK = 0x7F;\n    var LASTMETADATABLOCKFLAG_MASK = 0x80;\n\n    var boxesFound = [];\n    var knownBlockTypes = [\n        \"STREAMINFO\",\n        \"PADDING\",\n        \"APPLICATION\",\n        \"SEEKTABLE\",\n        \"VORBIS_COMMENT\",\n        \"CUESHEET\",\n        \"PICTURE\",\n        \"RESERVED\"\n    ];\n\n    // for (i=0; ; i++) { // to end of box\n    do {\n        var flagAndType = stream.readUint8();\n\n        var type = Math.min(\n            (flagAndType & BLOCKTYPE_MASK),\n            (knownBlockTypes.length - 1)\n        );\n\n        // if this is a STREAMINFO block, read the true samplerate since this\n        // can be different to the AudioSampleEntry samplerate.\n        if (!(type)) {\n            // read past all the other stuff\n            stream.readUint8Array(13);\n\n            // extract samplerate\n            this.samplerate = (stream.readUint32() >> 12);\n\n            // read to end of STREAMINFO\n            stream.readUint8Array(20);\n        } else {\n            // not interested in other block types so just discard length bytes\n            stream.readUint8Array(stream.readUint24());\n        }\n\n        boxesFound.push(knownBlockTypes[type]);\n\n        if (!!(flagAndType & LASTMETADATABLOCKFLAG_MASK)) {\n            break;\n        }\n    } while (true);\n\n    this.numMetadataBlocks =\n        boxesFound.length + \" (\" + boxesFound.join(\", \") + \")\";\n});\n// file:src/parsing/dimm.js\nBoxParser.createBoxCtor(\"dimm\", \"hintimmediateBytesSent\", function(stream) {\n\tthis.bytessent = stream.readUint64();\n});\n\n// file:src/parsing/dmax.js\nBoxParser.createBoxCtor(\"dmax\", \"hintlongestpacket\", function(stream) {\n\tthis.time = stream.readUint32();\n});\n\n// file:src/parsing/dmed.js\nBoxParser.createBoxCtor(\"dmed\", \"hintmediaBytesSent\", function(stream) {\n\tthis.bytessent = stream.readUint64();\n});\n\n// file:src/parsing/dOps.js\nBoxParser.createBoxCtor(\"dOps\", \"OpusSpecificBox\", function(stream) {\n\tthis.Version = stream.readUint8();\n\tthis.OutputChannelCount = stream.readUint8();\n\tthis.PreSkip = stream.readUint16();\n\tthis.InputSampleRate = stream.readUint32();\n\tthis.OutputGain = stream.readInt16();\n\tthis.ChannelMappingFamily = stream.readUint8();\n\tif (this.ChannelMappingFamily !== 0) {\n\t\tthis.StreamCount = stream.readUint8();\n\t\tthis.CoupledCount = stream.readUint8();\n\t\tthis.ChannelMapping = [];\n\t\tfor (var i = 0; i < this.OutputChannelCount; i++) {\n\t\t\tthis.ChannelMapping[i] = stream.readUint8();\n\t\t}\n\t}\n});\n\n// file:src/parsing/dref.js\nBoxParser.createFullBoxCtor(\"dref\", \"DataReferenceBox\", function(stream) {\n\tvar ret;\n\tvar box;\n\tthis.entries = [];\n\tvar entry_count = stream.readUint32();\n\tfor (var i = 0; i < entry_count; i++) {\n\t\tret = BoxParser.parseOneBox(stream, false, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tbox = ret.box;\n\t\t\tthis.entries.push(box);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n});\n\n// file:src/parsing/drep.js\nBoxParser.createBoxCtor(\"drep\", \"hintrepeatedBytesSent\", function(stream) {\n\tthis.bytessent = stream.readUint64();\n});\n\n// file:src/parsing/elng.js\nBoxParser.createFullBoxCtor(\"elng\", \"ExtendedLanguageBox\", function(stream) {\n\tthis.extended_language = stream.readString(this.size-this.hdr_size);\n});\n\n// file:src/parsing/elst.js\nBoxParser.createFullBoxCtor(\"elst\", \"EditListBox\", function(stream) {\n\tthis.entries = [];\n\tvar entry_count = stream.readUint32();\n\tfor (var i = 0; i < entry_count; i++) {\n\t\tvar entry = {};\n\t\tthis.entries.push(entry);\n\t\tif (this.version === 1) {\n\t\t\tentry.segment_duration = stream.readUint64();\n\t\t\tentry.media_time = stream.readInt64();\n\t\t} else {\n\t\t\tentry.segment_duration = stream.readUint32();\n\t\t\tentry.media_time = stream.readInt32();\n\t\t}\n\t\tentry.media_rate_integer = stream.readInt16();\n\t\tentry.media_rate_fraction = stream.readInt16();\n\t}\n});\n\n// file:src/parsing/emsg.js\nBoxParser.createFullBoxCtor(\"emsg\", \"EventMessageBox\", function(stream) {\n\tif (this.version == 1) {\n\t\tthis.timescale \t\t\t\t\t= stream.readUint32();\n\t\tthis.presentation_time \t\t\t= stream.readUint64();\n\t\tthis.event_duration\t\t\t \t= stream.readUint32();\n\t\tthis.id \t\t\t\t\t\t= stream.readUint32();\n\t\tthis.scheme_id_uri \t\t\t\t= stream.readCString();\n\t\tthis.value \t\t\t\t\t\t= stream.readCString();\n\t} else {\n\t\tthis.scheme_id_uri \t\t\t\t= stream.readCString();\n\t\tthis.value \t\t\t\t\t\t= stream.readCString();\n\t\tthis.timescale \t\t\t\t\t= stream.readUint32();\n\t\tthis.presentation_time_delta \t= stream.readUint32();\n\t\tthis.event_duration\t\t\t \t= stream.readUint32();\n\t\tthis.id \t\t\t\t\t\t= stream.readUint32();\n\t}\n\tvar message_size = this.size - this.hdr_size - (4*4 + (this.scheme_id_uri.length+1) + (this.value.length+1));\n\tif (this.version == 1) {\n\t\tmessage_size -= 4;\n\t}\n\tthis.message_data = stream.readUint8Array(message_size);\n});\n\n// file:src/parsing/EntityToGroup.js\n// ISO/IEC 14496-12:2022 Section 8.18.3 Entity to group box\nBoxParser.createEntityToGroupCtor = function(type, parseMethod) {\n    BoxParser[type+\"Box\"] = function(size) {\n        BoxParser.FullBox.call(this, type, size);\n    }\n    BoxParser[type+\"Box\"].prototype = new BoxParser.FullBox();\n    BoxParser[type+\"Box\"].prototype.parse = function(stream) {\n        this.parseFullHeader(stream);\n        if (parseMethod) {\n            parseMethod.call(this, stream);\n        } else {\n            this.group_id = stream.readUint32();\n            this.num_entities_in_group = stream.readUint32();\n            this.entity_ids = [];\n            for (i = 0; i < this.num_entities_in_group; i++) {\n                var entity_id = stream.readUint32();\n                this.entity_ids.push(entity_id);\n            }\n        }\n    };\n};\n\n// Auto exposure bracketing (ISO/IEC 23008-12:2022 Section 6.8.6.2.1)\nBoxParser.createEntityToGroupCtor(\"aebr\");\n\n// Flash exposure bracketing (ISO/IEC 23008-12:2022 Section 6.8.6.5.1)\nBoxParser.createEntityToGroupCtor(\"afbr\");\n\n// Album collection (ISO/IEC 23008-12:2022 Section 6.8.7.1)\nBoxParser.createEntityToGroupCtor(\"albc\");\n\n// Alternative entity (ISO/IEC 14496-12:2022 Section 8.18.3.1)\nBoxParser.createEntityToGroupCtor(\"altr\");\n\n// Burst image entity group (ISO/IEC 23008-12:2022 Section 6.8.2.2)\nBoxParser.createEntityToGroupCtor(\"brst\");\n\n// Depth of field bracketing (ISO/IEC 23008-12:2022 Section 6.8.6.6.1)\nBoxParser.createEntityToGroupCtor(\"dobr\");\n\n// Equivalent entity (ISO/IEC 23008-12:2022 Section 6.8.1.1)\nBoxParser.createEntityToGroupCtor(\"eqiv\");\n\n// Favourites collection (ISO/IEC 23008-12:2022 Section 6.8.7.2)\nBoxParser.createEntityToGroupCtor(\"favc\");\n\n// Focus bracketing (ISO/IEC 23008-12:2022 Section 6.8.6.4.1)\nBoxParser.createEntityToGroupCtor(\"fobr\");\n\n// Audio to image entity group (ISO/IEC 23008-12:2022 Section 6.8.4)\nBoxParser.createEntityToGroupCtor(\"iaug\");\n\n// Panorama (ISO/IEC 23008-12:2022 Section 6.8.8.1)\nBoxParser.createEntityToGroupCtor(\"pano\");\n\n// Slideshow (ISO/IEC 23008-12:2022 Section 6.8.9.1)\nBoxParser.createEntityToGroupCtor(\"slid\");\n\n// Stereo pair (ISO/IEC 23008-12:2022 Section 6.8.5)\nBoxParser.createEntityToGroupCtor(\"ster\");\n\n// Time-synchronised capture entity group (ISO/IEC 23008-12:2022 Section 6.8.3)\nBoxParser.createEntityToGroupCtor(\"tsyn\");\n\n// White balance bracketing (ISO/IEC 23008-12:2022 Section 6.8.6.3.1)\nBoxParser.createEntityToGroupCtor(\"wbbr\");\n\n// Alternative entity (ISO/IEC 23008-12:2022 AMD1 Section 6.8.10)\nBoxParser.createEntityToGroupCtor(\"prgr\");\n\n// Image Pyramid entity group (ISO/IEC 23008-12:20xx Section 6.8.11)\nBoxParser.createEntityToGroupCtor(\"pymd\", function(stream) {\n    this.group_id = stream.readUint32();\n    this.num_entities_in_group = stream.readUint32();\n    this.entity_ids = [];\n    for (var i = 0; i < this.num_entities_in_group; i++) {\n        var entity_id = stream.readUint32();\n        this.entity_ids.push(entity_id);\n    }\n    \n    this.tile_size_x = stream.readUint16();\n    this.tile_size_y = stream.readUint16();\n    this.layer_binning = [];\n    this.tiles_in_layer_column_minus1 = [];\n    this.tiles_in_layer_row_minus1 = [];\n    for (i = 0; i < this.num_entities_in_group; i++) {\n        this.layer_binning[i] = stream.readUint16();\n        this.tiles_in_layer_row_minus1[i] = stream.readUint16();\n        this.tiles_in_layer_column_minus1[i] = stream.readUint16();\n    }\n});\n\n// file:src/parsing/esds.js\nBoxParser.createFullBoxCtor(\"esds\", \"ElementaryStreamDescriptorBox\", function(stream) {\n\tvar esd_data = stream.readUint8Array(this.size-this.hdr_size);\n\tif (typeof MPEG4DescriptorParser !== \"undefined\") {\n\t\tvar esd_parser = new MPEG4DescriptorParser();\n\t\tthis.esd = esd_parser.parseOneDescriptor(new DataStream(esd_data.buffer, 0, DataStream.BIG_ENDIAN));\n\t}\n});\n\n// file:src/parsing/fiel.js\nBoxParser.createBoxCtor(\"fiel\", \"FieldHandlingBox\", function(stream) {\n\tthis.fieldCount = stream.readUint8();\n\tthis.fieldOrdering = stream.readUint8();\n});\n\n// file:src/parsing/frma.js\nBoxParser.createBoxCtor(\"frma\", \"OriginalFormatBox\", function(stream) {\n\tthis.data_format = stream.readString(4);\n});\n\n// file:src/parsing/ftyp.js\nBoxParser.createBoxCtor(\"ftyp\", \"FileTypeBox\", function(stream) {\n\tvar toparse = this.size - this.hdr_size;\n\tthis.major_brand = stream.readString(4);\n\tthis.minor_version = stream.readUint32();\n\ttoparse -= 8;\n\tthis.compatible_brands = [];\n\tvar i = 0;\n\twhile (toparse>=4) {\n\t\tthis.compatible_brands[i] = stream.readString(4);\n\t\ttoparse -= 4;\n\t\ti++;\n\t}\n});\n\n// file:src/parsing/hdlr.js\nBoxParser.createFullBoxCtor(\"hdlr\", \"HandlerBox\", function(stream) {\n\tif (this.version === 0) {\n\t\tstream.readUint32();\n\t\tthis.handler = stream.readString(4);\n\t\tstream.readUint32Array(3);\n\t\tthis.name = stream.readString(this.size-this.hdr_size-20);\n\t\tif (this.name[this.name.length-1]==='\\0') {\n\t\t\tthis.name = this.name.slice(0,-1);\n\t\t}\n\t}\n});\n\n// file:src/parsing/hvcC.js\nBoxParser.createBoxCtor(\"hvcC\", \"HEVCConfigurationBox\", function(stream) {\n\tvar i, j;\n\tvar nb_nalus;\n\tvar length;\n\tvar tmp_byte;\n\tthis.configurationVersion = stream.readUint8();\n\ttmp_byte = stream.readUint8();\n\tthis.general_profile_space = tmp_byte >> 6;\n\tthis.general_tier_flag = (tmp_byte & 0x20) >> 5;\n\tthis.general_profile_idc = (tmp_byte & 0x1F);\n\tthis.general_profile_compatibility = stream.readUint32();\n\tthis.general_constraint_indicator = stream.readUint8Array(6);\n\tthis.general_level_idc = stream.readUint8();\n\tthis.min_spatial_segmentation_idc = stream.readUint16() & 0xFFF;\n\tthis.parallelismType = (stream.readUint8() & 0x3);\n\tthis.chroma_format_idc = (stream.readUint8() & 0x3);\n\tthis.bit_depth_luma_minus8 = (stream.readUint8() & 0x7);\n\tthis.bit_depth_chroma_minus8 = (stream.readUint8() & 0x7);\n\tthis.avgFrameRate = stream.readUint16();\n\ttmp_byte = stream.readUint8();\n\tthis.constantFrameRate = (tmp_byte >> 6);\n\tthis.numTemporalLayers = (tmp_byte & 0XD) >> 3;\n\tthis.temporalIdNested = (tmp_byte & 0X4) >> 2;\n\tthis.lengthSizeMinusOne = (tmp_byte & 0X3);\n\n\tthis.nalu_arrays = [];\n\tthis.nalu_arrays.toString = function () {\n\t\tvar str = \"<table class='inner-table'>\";\n\t\tstr += \"<thead><tr><th>completeness</th><th>nalu_type</th><th>nalu_data</th></tr></thead>\";\n\t\tstr += \"<tbody>\";\n\n\t\tfor (var i=0; i<this.length; i++) {\n\t\t\tvar nalu_array = this[i];\n\t\t\tstr += \"<tr>\";\n\t\t\tstr += \"<td rowspan='\"+nalu_array.length+\"'>\"+nalu_array.completeness+\"</td>\";\n\t\t\tstr += \"<td rowspan='\"+nalu_array.length+\"'>\"+nalu_array.nalu_type+\"</td>\";\n\t\t\tfor (var j=0; j<nalu_array.length; j++) {\n\t\t\t\tvar nalu = nalu_array[j];\n\t\t\t\tif (j !== 0) str += \"<tr>\";\n\t\t\t\tstr += \"<td>\";\n\t\t\t\tstr += nalu.data.reduce(function(str, byte) {\n\t\t\t\t\treturn str + byte.toString(16).padStart(2, \"0\");\n\t\t\t\t}, \"0x\");\n\t\t\t\tstr += \"</td></tr>\";\n\t\t\t}\n\t\t}\n\t\tstr += \"</tbody></table>\";\n\t\treturn str;\n\t}\n\tvar numOfArrays = stream.readUint8();\n\tfor (i = 0; i < numOfArrays; i++) {\n\t\tvar nalu_array = [];\n\t\tthis.nalu_arrays.push(nalu_array);\n\t\ttmp_byte = stream.readUint8()\n\t\tnalu_array.completeness = (tmp_byte & 0x80) >> 7;\n\t\tnalu_array.nalu_type = tmp_byte & 0x3F;\n\t\tvar numNalus = stream.readUint16();\n\t\tfor (j = 0; j < numNalus; j++) {\n\t\t\tvar nalu = {}\n\t\t\tnalu_array.push(nalu);\n\t\t\tlength = stream.readUint16();\n\t\t\tnalu.data   = stream.readUint8Array(length);\n\t\t}\n\t}\n});\n\n// file:src/parsing/iinf.js\nBoxParser.createFullBoxCtor(\"iinf\", \"ItemInfoBox\", function(stream) {\n\tvar ret;\n\tif (this.version === 0) {\n\t\tthis.entry_count = stream.readUint16();\n\t} else {\n\t\tthis.entry_count = stream.readUint32();\n\t}\n\tthis.item_infos = [];\n\tfor (var i = 0; i < this.entry_count; i++) {\n\t\tret = BoxParser.parseOneBox(stream, false, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tif (ret.box.type !== \"infe\") {\n\t\t\t\tLog.error(\"BoxParser\", \"Expected 'infe' box, got \"+ret.box.type);\n\t\t\t}\n\t\t\tthis.item_infos[i] = ret.box;\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n});\n\n// file:src/parsing/iloc.js\nBoxParser.createFullBoxCtor(\"iloc\", \"ItemLocationBox\", function(stream) {\n\tvar byte;\n\tbyte = stream.readUint8();\n\tthis.offset_size = (byte >> 4) & 0xF;\n\tthis.length_size = byte & 0xF;\n\tbyte = stream.readUint8();\n\tthis.base_offset_size = (byte >> 4) & 0xF;\n\tif (this.version === 1 || this.version === 2) {\n\t\tthis.index_size = byte & 0xF;\n\t} else {\n\t\tthis.index_size = 0;\n\t\t// reserved = byte & 0xF;\n\t}\n\tthis.items = [];\n\tvar item_count = 0;\n\tif (this.version < 2) {\n\t\titem_count = stream.readUint16();\n\t} else if (this.version === 2) {\n\t\titem_count = stream.readUint32();\n\t} else {\n\t\tthrow \"version of iloc box not supported\";\n\t}\n\tfor (var i = 0; i < item_count; i++) {\n\t\tvar item = {};\n\t\tthis.items.push(item);\n\t\tif (this.version < 2) {\n\t\t\titem.item_ID = stream.readUint16();\n\t\t} else if (this.version === 2) {\n\t\t\titem.item_ID = stream.readUint32();\n\t\t} else {\n\t\t\tthrow \"version of iloc box not supported\";\n\t\t}\n\t\tif (this.version === 1 || this.version === 2) {\n\t\t\titem.construction_method = (stream.readUint16() & 0xF);\n\t\t} else {\n\t\t\titem.construction_method = 0;\n\t\t}\n\t\titem.data_reference_index = stream.readUint16();\n\t\tswitch(this.base_offset_size) {\n\t\t\tcase 0:\n\t\t\t\titem.base_offset = 0;\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\titem.base_offset = stream.readUint32();\n\t\t\t\tbreak;\n\t\t\tcase 8:\n\t\t\t\titem.base_offset = stream.readUint64();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow \"Error reading base offset size\";\n\t\t}\n\t\tvar extent_count = stream.readUint16();\n\t\titem.extents = [];\n\t\tfor (var j=0; j < extent_count; j++) {\n\t\t\tvar extent = {};\n\t\t\titem.extents.push(extent);\n\t\t\tif (this.version === 1 || this.version === 2) {\n\t\t\t\tswitch(this.index_size) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\textent.extent_index = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\textent.extent_index = stream.readUint32();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\textent.extent_index = stream.readUint64();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthrow \"Error reading extent index\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tswitch(this.offset_size) {\n\t\t\t\tcase 0:\n\t\t\t\t\textent.extent_offset = 0;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\textent.extent_offset = stream.readUint32();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 8:\n\t\t\t\t\textent.extent_offset = stream.readUint64();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow \"Error reading extent index\";\n\t\t\t}\n\t\t\tswitch(this.length_size) {\n\t\t\t\tcase 0:\n\t\t\t\t\textent.extent_length = 0;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\textent.extent_length = stream.readUint32();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 8:\n\t\t\t\t\textent.extent_length = stream.readUint64();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow \"Error reading extent index\";\n\t\t\t}\n\t\t}\n\t}\n});\n\n// file:src/parsing/imir.js\nBoxParser.createBoxCtor(\"imir\", \"ImageMirror\", function(stream) {\n\tvar tmp = stream.readUint8();\n\tthis.reserved = tmp >> 7;\n\tthis.axis = tmp & 1;\n});// file:src/parsing/infe.js\nBoxParser.createFullBoxCtor(\"infe\", \"ItemInfoEntry\", function(stream) {\n\tif (this.version === 0 || this.version === 1) {\n\t\tthis.item_ID = stream.readUint16();\n\t\tthis.item_protection_index = stream.readUint16();\n\t\tthis.item_name = stream.readCString();\n\t\tthis.content_type = stream.readCString();\n\t\tthis.content_encoding = stream.readCString();\n\t}\n\tif (this.version === 1) {\n\t\tthis.extension_type = stream.readString(4);\n\t\tLog.warn(\"BoxParser\", \"Cannot parse extension type\");\n\t\tstream.seek(this.start+this.size);\n\t\treturn;\n\t}\n\tif (this.version >= 2) {\n\t\tif (this.version === 2) {\n\t\t\tthis.item_ID = stream.readUint16();\n\t\t} else if (this.version === 3) {\n\t\t\tthis.item_ID = stream.readUint32();\n\t\t}\n\t\tthis.item_protection_index = stream.readUint16();\n\t\tthis.item_type = stream.readString(4);\n\t\tthis.item_name = stream.readCString();\n\t\tif (this.item_type === \"mime\") {\n\t\t\tthis.content_type = stream.readCString();\n\t\t\tthis.content_encoding = stream.readCString();\n\t\t} else if (this.item_type === \"uri \") {\n\t\t\tthis.item_uri_type = stream.readCString();\n\t\t}\n\t}\n});\n// file:src/parsing/ipma.js\nBoxParser.createFullBoxCtor(\"ipma\", \"ItemPropertyAssociationBox\", function(stream) {\n\tvar i, j;\n\tentry_count = stream.readUint32();\n\tthis.associations = [];\n\tfor(i=0; i<entry_count; i++) {\n\t\tvar item_assoc = {};\n\t\tthis.associations.push(item_assoc);\n\t\tif (this.version < 1) {\n\t\t\titem_assoc.id = stream.readUint16();\n\t\t} else {\n\t\t\titem_assoc.id = stream.readUint32();\n\t\t}\n\t\tvar association_count = stream.readUint8();\n\t\titem_assoc.props = [];\n\t\tfor (j = 0; j < association_count; j++) {\n\t\t\tvar tmp = stream.readUint8();\n\t\t\tvar p = {};\n\t\t\titem_assoc.props.push(p);\n\t\t\tp.essential = ((tmp & 0x80) >> 7) === 1;\n\t\t\tif (this.flags & 0x1) {\n\t\t\t\tp.property_index = (tmp & 0x7F) << 8 | stream.readUint8();\n\t\t\t} else {\n\t\t\t\tp.property_index = (tmp & 0x7F);\n\t\t\t}\n\t\t}\n\t}\n});\n\n// file:src/parsing/iref.js\nBoxParser.createFullBoxCtor(\"iref\", \"ItemReferenceBox\", function(stream) {\n\tvar ret;\n\tvar entryCount;\n\tvar box;\n\tthis.references = [];\n\n\twhile (stream.getPosition() < this.start+this.size) {\n\t\tret = BoxParser.parseOneBox(stream, true, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tif (this.version === 0) {\n\t\t\t\tbox = new BoxParser.SingleItemTypeReferenceBox(ret.type, ret.size, ret.hdr_size, ret.start);\n\t\t\t} else {\n\t\t\t\tbox = new BoxParser.SingleItemTypeReferenceBoxLarge(ret.type, ret.size, ret.hdr_size, ret.start);\n\t\t\t}\n\t\t\tif (box.write === BoxParser.Box.prototype.write && box.type !== \"mdat\") {\n\t\t\t\tLog.warn(\"BoxParser\", box.type+\" box writing not yet implemented, keeping unparsed data in memory for later write\");\n\t\t\t\tbox.parseDataAndRewind(stream);\n\t\t\t}\n\t\t\tbox.parse(stream);\n\t\t\tthis.references.push(box);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n});\n// file:src/parsing/irot.js\nBoxParser.createBoxCtor(\"irot\", \"ImageRotation\", function(stream) {\n\tthis.angle = stream.readUint8() & 0x3;\n});\n\n// file:src/parsing/ispe.js\nBoxParser.createFullBoxCtor(\"ispe\", \"ImageSpatialExtentsProperty\", function(stream) {\n\tthis.image_width = stream.readUint32();\n\tthis.image_height = stream.readUint32();\n});// file:src/parsing/kind.js\nBoxParser.createFullBoxCtor(\"kind\", \"KindBox\", function(stream) {\n\tthis.schemeURI = stream.readCString();\n\tthis.value = stream.readCString();\n});\n// file:src/parsing/leva.js\nBoxParser.createFullBoxCtor(\"leva\", \"LevelAssignmentBox\", function(stream) {\n\tvar count = stream.readUint8();\n\tthis.levels = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tvar level = {};\n\t\tthis.levels[i] = level;\n\t\tlevel.track_ID = stream.readUint32();\n\t\tvar tmp_byte = stream.readUint8();\n\t\tlevel.padding_flag = tmp_byte >> 7;\n\t\tlevel.assignment_type = tmp_byte & 0x7F;\n\t\tswitch (level.assignment_type) {\n\t\t\tcase 0:\n\t\t\t\tlevel.grouping_type = stream.readString(4);\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tlevel.grouping_type = stream.readString(4);\n\t\t\t\tlevel.grouping_type_parameter = stream.readUint32();\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tlevel.sub_track_id = stream.readUint32();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tLog.warn(\"BoxParser\", \"Unknown leva assignement type\");\n\t\t}\n\t}\n});\n\n// file:src/parsing/lhvC.js\nBoxParser.createBoxCtor(\"lhvC\", \"LHEVCConfigurationBox\", function(stream) {\n\tvar i, j;\n\tvar tmp_byte;\n\tthis.configurationVersion = stream.readUint8();\n\tthis.min_spatial_segmentation_idc = stream.readUint16() & 0xFFF;\n\tthis.parallelismType = (stream.readUint8() & 0x3);\n\ttmp_byte = stream.readUint8();\n\tthis.numTemporalLayers = (tmp_byte & 0XD) >> 3;\n\tthis.temporalIdNested = (tmp_byte & 0X4) >> 2;\n\tthis.lengthSizeMinusOne = (tmp_byte & 0X3);\n\n\tthis.nalu_arrays = [];\n\tthis.nalu_arrays.toString = function () {\n\t\tvar str = \"<table class='inner-table'>\";\n\t\tstr += \"<thead><tr><th>completeness</th><th>nalu_type</th><th>nalu_data</th></tr></thead>\";\n\t\tstr += \"<tbody>\";\n\n\t\tfor (var i=0; i<this.length; i++) {\n\t\t\tvar nalu_array = this[i];\n\t\t\tstr += \"<tr>\";\n\t\t\tstr += \"<td rowspan='\"+nalu_array.length+\"'>\"+nalu_array.completeness+\"</td>\";\n\t\t\tstr += \"<td rowspan='\"+nalu_array.length+\"'>\"+nalu_array.nalu_type+\"</td>\";\n\t\t\tfor (var j=0; j<nalu_array.length; j++) {\n\t\t\t\tvar nalu = nalu_array[j];\n\t\t\t\tif (j !== 0) str += \"<tr>\";\n\t\t\t\tstr += \"<td>\";\n\t\t\t\tstr += nalu.data.reduce(function(str, byte) {\n\t\t\t\t\treturn str + byte.toString(16).padStart(2, \"0\");\n\t\t\t\t}, \"0x\");\n\t\t\t\tstr += \"</td></tr>\";\n\t\t\t}\n\t\t}\n\t\tstr += \"</tbody></table>\";\n\t\treturn str;\n\t}\n\tvar numOfArrays = stream.readUint8();\n\tfor (i = 0; i < numOfArrays; i++) {\n\t\tvar nalu_array = [];\n\t\tthis.nalu_arrays.push(nalu_array);\n\t\ttmp_byte = stream.readUint8()\n\t\tnalu_array.completeness = (tmp_byte & 0x80) >> 7;\n\t\tnalu_array.nalu_type = tmp_byte & 0x3F;\n\t\tvar numNalus = stream.readUint16();\n\t\tfor (j = 0; j < numNalus; j++) {\n\t\t\tvar nalu = {}\n\t\t\tnalu_array.push(nalu);\n\t\t\tvar length = stream.readUint16();\n\t\t\tnalu.data  = stream.readUint8Array(length);\n\t\t}\n\t}\n});\n\n// file:src/parsing/lsel.js\nBoxParser.createBoxCtor(\"lsel\", \"LayerSelectorProperty\", function(stream) {\n\tthis.layer_id = stream.readUint16();\n});// file:src/parsing/maxr.js\nBoxParser.createBoxCtor(\"maxr\", \"hintmaxrate\", function(stream) {\n\tthis.period = stream.readUint32();\n\tthis.bytes = stream.readUint32();\n});\n\n// file:src/parsing/mdcv.js\nfunction ColorPoint(x, y) {\n    this.x = x;\n    this.y = y;\n}\n\nColorPoint.prototype.toString = function() {\n    return \"(\"+this.x+\",\"+this.y+\")\";\n}\n\nBoxParser.createBoxCtor(\"mdcv\", \"MasteringDisplayColourVolumeBox\", function(stream) {\n    this.display_primaries = [];\n    this.display_primaries[0] = new ColorPoint(stream.readUint16(),stream.readUint16());\n    this.display_primaries[1] = new ColorPoint(stream.readUint16(),stream.readUint16());\n    this.display_primaries[2] = new ColorPoint(stream.readUint16(),stream.readUint16());\n    this.white_point = new ColorPoint(stream.readUint16(),stream.readUint16());\n    this.max_display_mastering_luminance = stream.readUint32();\n    this.min_display_mastering_luminance = stream.readUint32();\n});\n\n// file:src/parsing/mdhd.js\nBoxParser.createFullBoxCtor(\"mdhd\", \"MediaHeaderBox\", function(stream) {\n\tif (this.version == 1) {\n\t\tthis.creation_time = stream.readUint64();\n\t\tthis.modification_time = stream.readUint64();\n\t\tthis.timescale = stream.readUint32();\n\t\tthis.duration = stream.readUint64();\n\t} else {\n\t\tthis.creation_time = stream.readUint32();\n\t\tthis.modification_time = stream.readUint32();\n\t\tthis.timescale = stream.readUint32();\n\t\tthis.duration = stream.readUint32();\n\t}\n\tthis.parseLanguage(stream);\n\tstream.readUint16();\n});\n\n// file:src/parsing/mehd.js\nBoxParser.createFullBoxCtor(\"mehd\", \"MovieExtendsHeaderBox\", function(stream) {\n\tif (this.flags & 0x1) {\n\t\tLog.warn(\"BoxParser\", \"mehd box incorrectly uses flags set to 1, converting version to 1\");\n\t\tthis.version = 1;\n\t}\n\tif (this.version == 1) {\n\t\tthis.fragment_duration = stream.readUint64();\n\t} else {\n\t\tthis.fragment_duration = stream.readUint32();\n\t}\n});\n\n// file:src/parsing/meta.js\nBoxParser.createFullBoxCtor(\"meta\", \"MetaBox\", function(stream) {\n\tthis.boxes = [];\n\tBoxParser.ContainerBox.prototype.parse.call(this, stream);\n});\n// file:src/parsing/mfhd.js\nBoxParser.createFullBoxCtor(\"mfhd\", \"MovieFragmentHeaderBox\", function(stream) {\n\tthis.sequence_number = stream.readUint32();\n});\n\n// file:src/parsing/mfro.js\nBoxParser.createFullBoxCtor(\"mfro\", \"MovieFragmentRandomAccessOffsetBox\", function(stream) {\n\tthis._size = stream.readUint32();\n});\n\n// file:src/parsing/mskC.js\nBoxParser.createFullBoxCtor(\"mskC\", \"MaskConfigurationProperty\", function(stream) {\n    this.bits_per_pixel = stream.readUint8();\n});\n\n// file:src/parsing/mvhd.js\nBoxParser.createFullBoxCtor(\"mvhd\", \"MovieHeaderBox\", function(stream) {\n\tif (this.version == 1) {\n\t\tthis.creation_time = stream.readUint64();\n\t\tthis.modification_time = stream.readUint64();\n\t\tthis.timescale = stream.readUint32();\n\t\tthis.duration = stream.readUint64();\n\t} else {\n\t\tthis.creation_time = stream.readUint32();\n\t\tthis.modification_time = stream.readUint32();\n\t\tthis.timescale = stream.readUint32();\n\t\tthis.duration = stream.readUint32();\n\t}\n\tthis.rate = stream.readUint32();\n\tthis.volume = stream.readUint16()>>8;\n\tstream.readUint16();\n\tstream.readUint32Array(2);\n\tthis.matrix = stream.readUint32Array(9);\n\tstream.readUint32Array(6);\n\tthis.next_track_id = stream.readUint32();\n});\n// file:src/parsing/npck.js\nBoxParser.createBoxCtor(\"npck\", \"hintPacketsSent\", function(stream) {\n\tthis.packetssent = stream.readUint32();\n});\n\n// file:src/parsing/nump.js\nBoxParser.createBoxCtor(\"nump\", \"hintPacketsSent\", function(stream) {\n\tthis.packetssent = stream.readUint64();\n});\n\n// file:src/parsing/padb.js\nBoxParser.createFullBoxCtor(\"padb\", \"PaddingBitsBox\", function(stream) {\n\tvar sample_count = stream.readUint32();\n\tthis.padbits = [];\n\tfor (var i = 0; i < Math.floor((sample_count+1)/2); i++) {\n\t\tthis.padbits = stream.readUint8();\n\t}\n});\n\n// file:src/parsing/pasp.js\nBoxParser.createBoxCtor(\"pasp\", \"PixelAspectRatioBox\", function(stream) {\n\tthis.hSpacing = stream.readUint32();\n\tthis.vSpacing = stream.readUint32();\n});// file:src/parsing/payl.js\nBoxParser.createBoxCtor(\"payl\", \"CuePayloadBox\", function(stream) {\n\tthis.text = stream.readString(this.size - this.hdr_size);\n});\n\n// file:src/parsing/payt.js\nBoxParser.createBoxCtor(\"payt\", \"hintpayloadID\", function(stream) {\n\tthis.payloadID = stream.readUint32();\n\tvar count = stream.readUint8();\n\tthis.rtpmap_string = stream.readString(count);\n});\n\n// file:src/parsing/pdin.js\nBoxParser.createFullBoxCtor(\"pdin\", \"ProgressiveDownloadInfoBox\", function(stream) {\n\tvar count = (this.size - this.hdr_size)/8;\n\tthis.rate = [];\n\tthis.initial_delay = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tthis.rate[i] = stream.readUint32();\n\t\tthis.initial_delay[i] = stream.readUint32();\n\t}\n});\n\n// file:src/parsing/pitm.js\nBoxParser.createFullBoxCtor(\"pitm\", \"PrimaryItemBox\", function(stream) {\n\tif (this.version === 0) {\n\t\tthis.item_id = stream.readUint16();\n\t} else {\n\t\tthis.item_id = stream.readUint32();\n\t}\n});\n\n// file:src/parsing/pixi.js\nBoxParser.createFullBoxCtor(\"pixi\", \"PixelInformationProperty\", function(stream) {\n\tvar i;\n\tthis.num_channels = stream.readUint8();\n\tthis.bits_per_channels = [];\n\tfor (i = 0; i < this.num_channels; i++) {\n\t\tthis.bits_per_channels[i] = stream.readUint8();\n\t}\n});\n\n// file:src/parsing/pmax.js\nBoxParser.createBoxCtor(\"pmax\", \"hintlargestpacket\", function(stream) {\n\tthis.bytes = stream.readUint32();\n});\n\n// file:src/parsing/prdi.js\nBoxParser.createFullBoxCtor(\"prdi\", \"ProgressiveDerivedImageItemInformationProperty\", function(stream) {\n\tthis.step_count = stream.readUint16();\n\tthis.item_count = [];\n\tif (this.flags & 0x2) {\n\t\tfor (var i = 0; i < this.step_count; i++) {\n\t\t\tthis.item_count[i] = stream.readUint16();\n\t\t}\n\t}\n});// file:src/parsing/prft.js\nBoxParser.createFullBoxCtor(\"prft\", \"ProducerReferenceTimeBox\", function(stream) {\n\tthis.ref_track_id = stream.readUint32();\n\tthis.ntp_timestamp = stream.readUint64();\n\tif (this.version === 0) {\n\t\tthis.media_time = stream.readUint32();\n\t} else {\n\t\tthis.media_time = stream.readUint64();\n\t}\n});\n\n// file:src/parsing/pssh.js\nBoxParser.createFullBoxCtor(\"pssh\", \"ProtectionSystemSpecificHeaderBox\", function(stream) {\n\tthis.system_id = BoxParser.parseHex16(stream);\n\tif (this.version > 0) {\n\t\tvar count = stream.readUint32();\n\t\tthis.kid = [];\n\t\tfor (var i = 0; i < count; i++) {\n\t\t\tthis.kid[i] = BoxParser.parseHex16(stream);\n\t\t}\n\t}\n\tvar datasize = stream.readUint32();\n\tif (datasize > 0) {\n\t\tthis.data = stream.readUint8Array(datasize);\n\t}\n});\n\n// file:src/parsing/qt/clef.js\nBoxParser.createFullBoxCtor(\"clef\", \"TrackCleanApertureDimensionsBox\", function(stream) {\n\tthis.width = stream.readUint32();\n\tthis.height = stream.readUint32();\n});// file:src/parsing/qt/enof.js\nBoxParser.createFullBoxCtor(\"enof\", \"TrackEncodedPixelsDimensionsBox\", function(stream) {\n\tthis.width = stream.readUint32();\n\tthis.height = stream.readUint32();\n});// file:src/parsing/qt/prof.js\nBoxParser.createFullBoxCtor(\"prof\", \"TrackProductionApertureDimensionsBox\", function(stream) {\n\tthis.width = stream.readUint32();\n\tthis.height = stream.readUint32();\n});// file:src/parsing/qt/tapt.js\nBoxParser.createContainerBoxCtor(\"tapt\", \"TrackApertureModeDimensionsBox\", null, [ \"clef\", \"prof\", \"enof\"]);// file:src/parsing/rtp.js\nBoxParser.createBoxCtor(\"rtp \", \"rtpmoviehintinformation\", function(stream) {\n\tthis.descriptionformat = stream.readString(4);\n\tthis.sdptext = stream.readString(this.size - this.hdr_size - 4);\n});\n\n// file:src/parsing/saio.js\nBoxParser.createFullBoxCtor(\"saio\", \"SampleAuxiliaryInformationOffsetsBox\", function(stream) {\n\tif (this.flags & 0x1) {\n\t\tthis.aux_info_type = stream.readString(4);\n\t\tthis.aux_info_type_parameter = stream.readUint32();\n\t}\n\tvar count = stream.readUint32();\n\tthis.offset = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tif (this.version === 0) {\n\t\t\tthis.offset[i] = stream.readUint32();\n\t\t} else {\n\t\t\tthis.offset[i] = stream.readUint64();\n\t\t}\n\t}\n});\n// file:src/parsing/saiz.js\nBoxParser.createFullBoxCtor(\"saiz\", \"SampleAuxiliaryInformationSizesBox\", function(stream) {\n\tif (this.flags & 0x1) {\n\t\tthis.aux_info_type = stream.readString(4);\n\t\tthis.aux_info_type_parameter = stream.readUint32();\n\t}\n\tthis.default_sample_info_size = stream.readUint8();\n\tthis.sample_count = stream.readUint32();\n\tthis.sample_info_size = [];\n\tif (this.default_sample_info_size === 0) {\n\t\tfor (var i = 0; i < this.sample_count; i++) {\n\t\t\tthis.sample_info_size[i] = stream.readUint8();\n\t\t}\n\t}\n});\n\n// file:src/parsing/sampleentries/mett.js\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_METADATA, \"mett\", function(stream) {\n\tthis.parseHeader(stream);\n\tthis.content_encoding = stream.readCString();\n\tthis.mime_format = stream.readCString();\n\tthis.parseFooter(stream);\n});\n\n// file:src/parsing/sampleentries/metx.js\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_METADATA, \"metx\", function(stream) {\n\tthis.parseHeader(stream);\n\tthis.content_encoding = stream.readCString();\n\tthis.namespace = stream.readCString();\n\tthis.schema_location = stream.readCString();\n\tthis.parseFooter(stream);\n});\n\n// file:src/parsing/sampleentries/sbtt.js\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SUBTITLE, \"sbtt\", function(stream) {\n\tthis.parseHeader(stream);\n\tthis.content_encoding = stream.readCString();\n\tthis.mime_format = stream.readCString();\n\tthis.parseFooter(stream);\n});\n\n// file:src/parsing/sampleentries/stpp.js\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SUBTITLE, \"stpp\", function(stream) {\n\tthis.parseHeader(stream);\n\tthis.namespace = stream.readCString();\n\tthis.schema_location = stream.readCString();\n\tthis.auxiliary_mime_types = stream.readCString();\n\tthis.parseFooter(stream);\n});\n\n// file:src/parsing/sampleentries/stxt.js\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SUBTITLE, \"stxt\", function(stream) {\n\tthis.parseHeader(stream);\n\tthis.content_encoding = stream.readCString();\n\tthis.mime_format = stream.readCString();\n\tthis.parseFooter(stream);\n});\n\n// file:src/parsing/sampleentries/tx3g.js\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SUBTITLE, \"tx3g\", function(stream) {\n\tthis.parseHeader(stream);\n\tthis.displayFlags = stream.readUint32();\n\tthis.horizontal_justification = stream.readInt8();\n\tthis.vertical_justification = stream.readInt8();\n\tthis.bg_color_rgba = stream.readUint8Array(4);\n\tthis.box_record = stream.readInt16Array(4);\n\tthis.style_record = stream.readUint8Array(12);\n\tthis.parseFooter(stream);\n});\n// file:src/parsing/sampleentries/wvtt.js\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_METADATA, \"wvtt\", function(stream) {\n\tthis.parseHeader(stream);\n\tthis.parseFooter(stream);\n});\n\n// file:src/parsing/samplegroups/alst.js\nBoxParser.createSampleGroupCtor(\"alst\", function(stream) {\n\tvar i;\n\tvar roll_count = stream.readUint16();\n\tthis.first_output_sample = stream.readUint16();\n\tthis.sample_offset = [];\n\tfor (i = 0; i < roll_count; i++) {\n\t\tthis.sample_offset[i] = stream.readUint32();\n\t}\n\tvar remaining = this.description_length - 4 - 4*roll_count;\n\tthis.num_output_samples = [];\n\tthis.num_total_samples = [];\n\tfor (i = 0; i < remaining/4; i++) {\n\t\tthis.num_output_samples[i] = stream.readUint16();\n\t\tthis.num_total_samples[i] = stream.readUint16();\n\t}\n});\n\n// file:src/parsing/samplegroups/avll.js\nBoxParser.createSampleGroupCtor(\"avll\", function(stream) {\n\tthis.layerNumber = stream.readUint8();\n\tthis.accurateStatisticsFlag = stream.readUint8();\n\tthis.avgBitRate = stream.readUint16();\n\tthis.avgFrameRate = stream.readUint16();\n});\n\n// file:src/parsing/samplegroups/avss.js\nBoxParser.createSampleGroupCtor(\"avss\", function(stream) {\n\tthis.subSequenceIdentifier = stream.readUint16();\n\tthis.layerNumber = stream.readUint8();\n\tvar tmp_byte = stream.readUint8();\n\tthis.durationFlag = tmp_byte >> 7;\n\tthis.avgRateFlag = (tmp_byte >> 6) & 0x1;\n\tif (this.durationFlag) {\n\t\tthis.duration = stream.readUint32();\n\t}\n\tif (this.avgRateFlag) {\n\t\tthis.accurateStatisticsFlag = stream.readUint8();\n\t\tthis.avgBitRate = stream.readUint16();\n\t\tthis.avgFrameRate = stream.readUint16();\n\t}\n\tthis.dependency = [];\n\tvar numReferences = stream.readUint8();\n\tfor (var i = 0; i < numReferences; i++) {\n\t\tvar dependencyInfo = {};\n\t\tthis.dependency.push(dependencyInfo);\n\t\tdependencyInfo.subSeqDirectionFlag = stream.readUint8();\n\t\tdependencyInfo.layerNumber = stream.readUint8();\n\t\tdependencyInfo.subSequenceIdentifier = stream.readUint16();\n\t}\n});\n\n// file:src/parsing/samplegroups/dtrt.js\nBoxParser.createSampleGroupCtor(\"dtrt\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/samplegroups/mvif.js\nBoxParser.createSampleGroupCtor(\"mvif\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/samplegroups/prol.js\nBoxParser.createSampleGroupCtor(\"prol\", function(stream) {\n\tthis.roll_distance = stream.readInt16();\n});\n\n// file:src/parsing/samplegroups/rap.js\nBoxParser.createSampleGroupCtor(\"rap \", function(stream) {\n\tvar tmp_byte = stream.readUint8();\n\tthis.num_leading_samples_known = tmp_byte >> 7;\n\tthis.num_leading_samples = tmp_byte & 0x7F;\n});\n\n// file:src/parsing/samplegroups/rash.js\nBoxParser.createSampleGroupCtor(\"rash\", function(stream) {\n\tthis.operation_point_count = stream.readUint16();\n\tif (this.description_length !== 2+(this.operation_point_count === 1?2:this.operation_point_count*6)+9) {\n\t\tLog.warn(\"BoxParser\", \"Mismatch in \"+this.grouping_type+\" sample group length\");\n\t\tthis.data =  stream.readUint8Array(this.description_length-2);\n\t} else {\n\t\tif (this.operation_point_count === 1) {\n\t\t\tthis.target_rate_share = stream.readUint16();\n\t\t} else {\n\t\t\tthis.target_rate_share = [];\n\t\t\tthis.available_bitrate = [];\n\t\t\tfor (var i = 0; i < this.operation_point_count; i++) {\n\t\t\t\tthis.available_bitrate[i] = stream.readUint32();\n\t\t\t\tthis.target_rate_share[i] = stream.readUint16();\n\t\t\t}\n\t\t}\n\t\tthis.maximum_bitrate = stream.readUint32();\n\t\tthis.minimum_bitrate = stream.readUint32();\n\t\tthis.discard_priority = stream.readUint8();\n\t}\n});\n\n// file:src/parsing/samplegroups/roll.js\nBoxParser.createSampleGroupCtor(\"roll\", function(stream) {\n\tthis.roll_distance = stream.readInt16();\n});\n\n// file:src/parsing/samplegroups/samplegroup.js\nBoxParser.SampleGroupEntry.prototype.parse = function(stream) {\n\tLog.warn(\"BoxParser\", \"Unknown Sample Group type: \"+this.grouping_type);\n\tthis.data =  stream.readUint8Array(this.description_length);\n}\n\n// file:src/parsing/samplegroups/scif.js\nBoxParser.createSampleGroupCtor(\"scif\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/samplegroups/scnm.js\nBoxParser.createSampleGroupCtor(\"scnm\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/samplegroups/seig.js\nBoxParser.createSampleGroupCtor(\"seig\", function(stream) {\n\tthis.reserved = stream.readUint8();\n\tvar tmp = stream.readUint8();\n\tthis.crypt_byte_block = tmp >> 4;\n\tthis.skip_byte_block = tmp & 0xF;\n\tthis.isProtected = stream.readUint8();\n\tthis.Per_Sample_IV_Size = stream.readUint8();\n\tthis.KID = BoxParser.parseHex16(stream);\n\tthis.constant_IV_size = 0;\n\tthis.constant_IV = 0;\n\tif (this.isProtected === 1 && this.Per_Sample_IV_Size === 0) {\n\t\tthis.constant_IV_size = stream.readUint8();\n\t\tthis.constant_IV = stream.readUint8Array(this.constant_IV_size);\n\t}\n});\n\n// file:src/parsing/samplegroups/stsa.js\nBoxParser.createSampleGroupCtor(\"stsa\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/samplegroups/sync.js\nBoxParser.createSampleGroupCtor(\"sync\", function(stream) {\n\tvar tmp_byte = stream.readUint8();\n\tthis.NAL_unit_type = tmp_byte & 0x3F;\n});\n\n// file:src/parsing/samplegroups/tele.js\nBoxParser.createSampleGroupCtor(\"tele\", function(stream) {\n\tvar tmp_byte = stream.readUint8();\n\tthis.level_independently_decodable = tmp_byte >> 7;\n});\n\n// file:src/parsing/samplegroups/tsas.js\nBoxParser.createSampleGroupCtor(\"tsas\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/samplegroups/tscl.js\nBoxParser.createSampleGroupCtor(\"tscl\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/samplegroups/vipr.js\nBoxParser.createSampleGroupCtor(\"vipr\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/sbgp.js\nBoxParser.createFullBoxCtor(\"sbgp\", \"SampleToGroupBox\", function(stream) {\n\tthis.grouping_type = stream.readString(4);\n\tif (this.version === 1) {\n\t\tthis.grouping_type_parameter = stream.readUint32();\n\t} else {\n\t\tthis.grouping_type_parameter = 0;\n\t}\n\tthis.entries = [];\n\tvar entry_count = stream.readUint32();\n\tfor (var i = 0; i < entry_count; i++) {\n\t\tvar entry = {};\n\t\tthis.entries.push(entry);\n\t\tentry.sample_count = stream.readInt32();\n\t\tentry.group_description_index = stream.readInt32();\n\t}\n});\n\n// file:src/parsing/sbpm.js\nfunction Pixel(row, col) {\n\tthis.bad_pixel_row = row;\n\tthis.bad_pixel_column = col;\n}\n\nPixel.prototype.toString = function pixelToString() {\n\treturn \"[row: \" + this.bad_pixel_row + \", column: \" + this.bad_pixel_column + \"]\";\n}\n\nBoxParser.createFullBoxCtor(\"sbpm\", \"SensorBadPixelsMapBox\", function(stream) {\n\tvar i;\n\tthis.component_count = stream.readUint16();\n    this.component_index = [];\n    for (i = 0; i < this.component_count; i++) {\n        this.component_index.push(stream.readUint16());\n    }\n\tvar flags = stream.readUint8();\n\tthis.correction_applied = (0x80 == (flags & 0x80));\n\tthis.num_bad_rows = stream.readUint32();\n\tthis.num_bad_cols = stream.readUint32();\n\tthis.num_bad_pixels = stream.readUint32();\n\tthis.bad_rows = [];\n\tthis.bad_columns = [];\n\tthis.bad_pixels = [];\n\tfor (i = 0; i < this.num_bad_rows; i++) {\n\t\tthis.bad_rows.push(stream.readUint32());\n\t}\n\tfor (i = 0; i < this.num_bad_cols; i++) {\n\t\tthis.bad_columns.push(stream.readUint32());\n\t}\n\tfor (i = 0; i < this.num_bad_pixels; i++) {\n\t\tvar row = stream.readUint32();\n\t\tvar col = stream.readUint32();\n\t\tthis.bad_pixels.push(new Pixel(row, col));\n\t}\n});\n\n// file:src/parsing/schm.js\nBoxParser.createFullBoxCtor(\"schm\", \"SchemeTypeBox\", function(stream) {\n\tthis.scheme_type = stream.readString(4);\n\tthis.scheme_version = stream.readUint32();\n\tif (this.flags & 0x000001) {\n\t\tthis.scheme_uri = stream.readString(this.size - this.hdr_size - 8);\n\t}\n});\n\n// file:src/parsing/sdp.js\nBoxParser.createBoxCtor(\"sdp \", \"rtptracksdphintinformation\", function(stream) {\n\tthis.sdptext = stream.readString(this.size - this.hdr_size);\n});\n\n// file:src/parsing/sdtp.js\nBoxParser.createFullBoxCtor(\"sdtp\", \"SampleDependencyTypeBox\", function(stream) {\n\tvar tmp_byte;\n\tvar count = (this.size - this.hdr_size);\n\tthis.is_leading = [];\n\tthis.sample_depends_on = [];\n\tthis.sample_is_depended_on = [];\n\tthis.sample_has_redundancy = [];\n\tfor (var i = 0; i < count; i++) {\n\t\ttmp_byte = stream.readUint8();\n\t\tthis.is_leading[i] = tmp_byte >> 6;\n\t\tthis.sample_depends_on[i] = (tmp_byte >> 4) & 0x3;\n\t\tthis.sample_is_depended_on[i] = (tmp_byte >> 2) & 0x3;\n\t\tthis.sample_has_redundancy[i] = tmp_byte & 0x3;\n\t}\n});\n\n// file:src/parsing/senc.js\n// Cannot be fully parsed because Per_Sample_IV_Size needs to be known\r\nBoxParser.createFullBoxCtor(\"senc\", \"SampleEncryptionBox\" /*, function(stream) {\r\n\tthis.parseFullHeader(stream);\r\n\tvar sample_count = stream.readUint32();\r\n\tthis.samples = [];\r\n\tfor (var i = 0; i < sample_count; i++) {\r\n\t\tvar sample = {};\r\n\t\t// tenc.default_Per_Sample_IV_Size or seig.Per_Sample_IV_Size\r\n\t\tsample.InitializationVector = this.readUint8Array(Per_Sample_IV_Size*8);\r\n\t\tif (this.flags & 0x2) {\r\n\t\t\tsample.subsamples = [];\r\n\t\t\tsubsample_count = stream.readUint16();\r\n\t\t\tfor (var j = 0; j < subsample_count; j++) {\r\n\t\t\t\tvar subsample = {};\r\n\t\t\t\tsubsample.BytesOfClearData = stream.readUint16();\r\n\t\t\t\tsubsample.BytesOfProtectedData = stream.readUint32();\r\n\t\t\t\tsample.subsamples.push(subsample);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// TODO\r\n\t\tthis.samples.push(sample);\r\n\t}\r\n}*/);\r\n// file:src/parsing/sgpd.js\nBoxParser.createFullBoxCtor(\"sgpd\", \"SampleGroupDescriptionBox\", function(stream) {\n\tthis.grouping_type = stream.readString(4);\n\tLog.debug(\"BoxParser\", \"Found Sample Groups of type \"+this.grouping_type);\n\tif (this.version === 1) {\n\t\tthis.default_length = stream.readUint32();\n\t} else {\n\t\tthis.default_length = 0;\n\t}\n\tif (this.version >= 2) {\n\t\tthis.default_group_description_index = stream.readUint32();\n\t}\n\tthis.entries = [];\n\tvar entry_count = stream.readUint32();\n\tfor (var i = 0; i < entry_count; i++) {\n\t\tvar entry;\n\t\tif (BoxParser[this.grouping_type+\"SampleGroupEntry\"]) {\n\t\t\tentry = new BoxParser[this.grouping_type+\"SampleGroupEntry\"](this.grouping_type);\n\t\t}  else {\n\t\t\tentry = new BoxParser.SampleGroupEntry(this.grouping_type);\n\t\t}\n\t\tthis.entries.push(entry);\n\t\tif (this.version === 1) {\n\t\t\tif (this.default_length === 0) {\n\t\t\t\tentry.description_length = stream.readUint32();\n\t\t\t} else {\n\t\t\t\tentry.description_length = this.default_length;\n\t\t\t}\n\t\t} else {\n\t\t\tentry.description_length = this.default_length;\n\t\t}\n\t\tif (entry.write === BoxParser.SampleGroupEntry.prototype.write) {\n\t\t\tLog.info(\"BoxParser\", \"SampleGroup for type \"+this.grouping_type+\" writing not yet implemented, keeping unparsed data in memory for later write\");\n\t\t\t// storing data\n\t\t\tentry.data = stream.readUint8Array(entry.description_length);\n\t\t\t// rewinding\n\t\t\tstream.position -= entry.description_length;\n\t\t}\n\t\tentry.parse(stream);\n\t}\n});\n\n// file:src/parsing/sidx.js\nBoxParser.createFullBoxCtor(\"sidx\", \"CompressedSegmentIndexBox\", function(stream) {\n\tthis.reference_ID = stream.readUint32();\n\tthis.timescale = stream.readUint32();\n\tif (this.version === 0) {\n\t\tthis.earliest_presentation_time = stream.readUint32();\n\t\tthis.first_offset = stream.readUint32();\n\t} else {\n\t\tthis.earliest_presentation_time = stream.readUint64();\n\t\tthis.first_offset = stream.readUint64();\n\t}\n\tstream.readUint16();\n\tthis.references = [];\n\tvar count = stream.readUint16();\n\tfor (var i = 0; i < count; i++) {\n\t\tvar ref = {};\n\t\tthis.references.push(ref);\n\t\tvar tmp_32 = stream.readUint32();\n\t\tref.reference_type = (tmp_32 >> 31) & 0x1;\n\t\tref.referenced_size = tmp_32 & 0x7FFFFFFF;\n\t\tref.subsegment_duration = stream.readUint32();\n\t\ttmp_32 = stream.readUint32();\n\t\tref.starts_with_SAP = (tmp_32 >> 31) & 0x1;\n\t\tref.SAP_type = (tmp_32 >> 28) & 0x7;\n\t\tref.SAP_delta_time = tmp_32 & 0xFFFFFFF;\n\t}\n});\n\n// file:src/parsing/singleitemtypereference.js\nBoxParser.SingleItemTypeReferenceBox = function(type, size, hdr_size, start) {\n\tBoxParser.Box.call(this, type, size);\n\tthis.hdr_size = hdr_size;\n\tthis.start = start;\n}\nBoxParser.SingleItemTypeReferenceBox.prototype = new BoxParser.Box();\nBoxParser.SingleItemTypeReferenceBox.prototype.parse = function(stream) {\n\tthis.from_item_ID = stream.readUint16();\n\tvar count =  stream.readUint16();\n\tthis.references = [];\n\tfor(var i = 0; i < count; i++) {\n\t\tthis.references[i] = {};\n\t\tthis.references[i].to_item_ID = stream.readUint16();\n\t}\n}\n\n// file:src/parsing/singleitemtypereferencelarge.js\nBoxParser.SingleItemTypeReferenceBoxLarge = function(type, size, hdr_size, start) {\n\tBoxParser.Box.call(this, type, size);\n\tthis.hdr_size = hdr_size;\n\tthis.start = start;\n}\nBoxParser.SingleItemTypeReferenceBoxLarge.prototype = new BoxParser.Box();\nBoxParser.SingleItemTypeReferenceBoxLarge.prototype.parse = function(stream) {\n\tthis.from_item_ID = stream.readUint32();\n\tvar count =  stream.readUint16();\n\tthis.references = [];\n\tfor(var i = 0; i < count; i++) {\n\t\tthis.references[i] = {};\n\t\tthis.references[i].to_item_ID = stream.readUint32();\n\t}\n}\n\n// file:src/parsing/SmDm.js\nBoxParser.createFullBoxCtor(\"SmDm\", \"SMPTE2086MasteringDisplayMetadataBox\", function(stream) {\n\tthis.primaryRChromaticity_x = stream.readUint16();\n    this.primaryRChromaticity_y = stream.readUint16();\n    this.primaryGChromaticity_x = stream.readUint16();\n    this.primaryGChromaticity_y = stream.readUint16();\n    this.primaryBChromaticity_x = stream.readUint16();\n    this.primaryBChromaticity_y = stream.readUint16();\n    this.whitePointChromaticity_x = stream.readUint16();\n    this.whitePointChromaticity_y = stream.readUint16();\n    this.luminanceMax = stream.readUint32();\n    this.luminanceMin = stream.readUint32();\n});\n\n// file:src/parsing/smhd.js\nBoxParser.createFullBoxCtor(\"smhd\", \"SoundMediaHeaderBox\", function(stream) {\n\tthis.balance = stream.readUint16();\n\tstream.readUint16();\n});\n\n// file:src/parsing/ssix.js\nBoxParser.createFullBoxCtor(\"ssix\", \"CompressedSubsegmentIndexBox\", function(stream) {\n\tthis.subsegments = [];\n\tvar subsegment_count = stream.readUint32();\n\tfor (var i = 0; i < subsegment_count; i++) {\n\t\tvar subsegment = {};\n\t\tthis.subsegments.push(subsegment);\n\t\tsubsegment.ranges = [];\n\t\tvar range_count = stream.readUint32();\n\t\tfor (var j = 0; j < range_count; j++) {\n\t\t\tvar range = {};\n\t\t\tsubsegment.ranges.push(range);\n\t\t\trange.level = stream.readUint8();\n\t\t\trange.range_size = stream.readUint24();\n\t\t}\n\t}\n});\n\n// file:src/parsing/stco.js\nBoxParser.createFullBoxCtor(\"stco\", \"ChunkOffsetBox\", function(stream) {\n\tvar entry_count;\n\tentry_count = stream.readUint32();\n\tthis.chunk_offsets = [];\n\tif (this.version === 0) {\n\t\tfor (var i = 0; i < entry_count; i++) {\n\t\t\tthis.chunk_offsets.push(stream.readUint32());\n\t\t}\n\t}\n});\n\n// file:src/parsing/stdp.js\nBoxParser.createFullBoxCtor(\"stdp\", \"DegradationPriorityBox\", function(stream) {\n\tvar count = (this.size - this.hdr_size)/2;\n\tthis.priority = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tthis.priority[i] = stream.readUint16();\n\t}\n});\n\n// file:src/parsing/sthd.js\nBoxParser.createFullBoxCtor(\"sthd\", \"SubtitleMediaHeaderBox\");\n\n// file:src/parsing/stri.js\nBoxParser.createFullBoxCtor(\"stri\", \"SubTrackInformationBox\", function(stream) {\n\tthis.switch_group = stream.readUint16();\n\tthis.alternate_group = stream.readUint16();\n\tthis.sub_track_id = stream.readUint32();\n\tvar count = (this.size - this.hdr_size - 8)/4;\n\tthis.attribute_list = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tthis.attribute_list[i] = stream.readUint32();\n\t}\n});\n\n// file:src/parsing/stsc.js\nBoxParser.createFullBoxCtor(\"stsc\", \"SampleToChunkBox\", function(stream) {\n\tvar entry_count;\n\tvar i;\n\tentry_count = stream.readUint32();\n\tthis.first_chunk = [];\n\tthis.samples_per_chunk = [];\n\tthis.sample_description_index = [];\n\tif (this.version === 0) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.first_chunk.push(stream.readUint32());\n\t\t\tthis.samples_per_chunk.push(stream.readUint32());\n\t\t\tthis.sample_description_index.push(stream.readUint32());\n\t\t}\n\t}\n});\n\n// file:src/parsing/stsd.js\nBoxParser.createFullBoxCtor(\"stsd\", \"SampleDescriptionBox\", function(stream) {\n\tvar i;\n\tvar ret;\n\tvar entryCount;\n\tvar box;\n\tthis.entries = [];\n\tentryCount = stream.readUint32();\n\tfor (i = 1; i <= entryCount; i++) {\n\t\tret = BoxParser.parseOneBox(stream, true, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tif (BoxParser[ret.type+\"SampleEntry\"]) {\n\t\t\t\tbox = new BoxParser[ret.type+\"SampleEntry\"](ret.size);\n\t\t\t\tbox.hdr_size = ret.hdr_size;\n\t\t\t\tbox.start = ret.start;\n\t\t\t} else {\n\t\t\t\tLog.warn(\"BoxParser\", \"Unknown sample entry type: \"+ret.type);\n\t\t\t\tbox = new BoxParser.SampleEntry(ret.type, ret.size, ret.hdr_size, ret.start);\n\t\t\t}\n\t\t\tif (box.write === BoxParser.SampleEntry.prototype.write) {\n\t\t\t\tLog.info(\"BoxParser\", \"SampleEntry \"+box.type+\" box writing not yet implemented, keeping unparsed data in memory for later write\");\n\t\t\t\tbox.parseDataAndRewind(stream);\n\t\t\t}\n\t\t\tbox.parse(stream);\n\t\t\tthis.entries.push(box);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n});\n\n// file:src/parsing/stsg.js\nBoxParser.createFullBoxCtor(\"stsg\", \"SubTrackSampleGroupBox\", function(stream) {\n\tthis.grouping_type = stream.readUint32();\n\tvar count = stream.readUint16();\n\tthis.group_description_index = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tthis.group_description_index[i] = stream.readUint32();\n\t}\n});\n\n// file:src/parsing/stsh.js\nBoxParser.createFullBoxCtor(\"stsh\", \"ShadowSyncSampleBox\", function(stream) {\n\tvar entry_count;\n\tvar i;\n\tentry_count = stream.readUint32();\n\tthis.shadowed_sample_numbers = [];\n\tthis.sync_sample_numbers = [];\n\tif (this.version === 0) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.shadowed_sample_numbers.push(stream.readUint32());\n\t\t\tthis.sync_sample_numbers.push(stream.readUint32());\n\t\t}\n\t}\n});\n\n// file:src/parsing/stss.js\nBoxParser.createFullBoxCtor(\"stss\", \"SyncSampleBox\", function(stream) {\n\tvar i;\n\tvar entry_count;\n\tentry_count = stream.readUint32();\n\tif (this.version === 0) {\n\t\tthis.sample_numbers = [];\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.sample_numbers.push(stream.readUint32());\n\t\t}\n\t}\n});\n\n// file:src/parsing/stsz.js\nBoxParser.createFullBoxCtor(\"stsz\", \"SampleSizeBox\", function(stream) {\n\tvar i;\n\tthis.sample_sizes = [];\n\tif (this.version === 0) {\n\t\tthis.sample_size = stream.readUint32();\n\t\tthis.sample_count = stream.readUint32();\n\t\tfor (i = 0; i < this.sample_count; i++) {\n\t\t\tif (this.sample_size === 0) {\n\t\t\t\tthis.sample_sizes.push(stream.readUint32());\n\t\t\t} else {\n\t\t\t\tthis.sample_sizes[i] = this.sample_size;\n\t\t\t}\n\t\t}\n\t}\n});\n\n// file:src/parsing/stts.js\nBoxParser.createFullBoxCtor(\"stts\", \"TimeToSampleBox\", function(stream) {\n\tvar entry_count;\n\tvar i;\n\tvar delta;\n\tentry_count = stream.readUint32();\n\tthis.sample_counts = [];\n\tthis.sample_deltas = [];\n\tif (this.version === 0) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.sample_counts.push(stream.readUint32());\n\t\t\tdelta = stream.readInt32();\n\t\t\tif (delta < 0) {\n\t\t\t\tLog.warn(\"BoxParser\", \"File uses negative stts sample delta, using value 1 instead, sync may be lost!\");\n\t\t\t\tdelta = 1;\n\t\t\t}\n\t\t\tthis.sample_deltas.push(delta);\n\t\t}\n\t}\n});\n\n// file:src/parsing/stvi.js\nBoxParser.createFullBoxCtor(\"stvi\", \"StereoVideoBox\", function(stream) {\n\tvar tmp32 = stream.readUint32();\n\tthis.single_view_allowed = tmp32 & 0x3;\n\tthis.stereo_scheme = stream.readUint32();\n\tvar length = stream.readUint32();\n\tthis.stereo_indication_type = stream.readString(length);\n\tvar ret;\n\tvar box;\n\tthis.boxes = [];\n\twhile (stream.getPosition() < this.start+this.size) {\n\t\tret = BoxParser.parseOneBox(stream, false, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tbox = ret.box;\n\t\t\tthis.boxes.push(box);\n\t\t\tthis[box.type] = box;\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n});\n\n// file:src/parsing/styp.js\nBoxParser.createBoxCtor(\"styp\", \"SegmentTypeBox\", function(stream) {\n\tBoxParser.ftypBox.prototype.parse.call(this, stream);\n});\n\n// file:src/parsing/stz2.js\nBoxParser.createFullBoxCtor(\"stz2\", \"CompactSampleSizeBox\", function(stream) {\n\tvar i;\n\tvar sample_size;\n\tvar sample_count;\n\tthis.sample_sizes = [];\n\tif (this.version === 0) {\n\t\tthis.reserved = stream.readUint24();\n\t\tthis.field_size = stream.readUint8();\n\t\tsample_count = stream.readUint32();\n\t\tif (this.field_size === 4) {\n\t\t\tfor (i = 0; i < sample_count; i+=2) {\n\t\t\t\tvar tmp = stream.readUint8();\n\t\t\t\tthis.sample_sizes[i] = (tmp >> 4) & 0xF;\n\t\t\t\tthis.sample_sizes[i+1] = tmp & 0xF;\n\t\t\t}\n\t\t} else if (this.field_size === 8) {\n\t\t\tfor (i = 0; i < sample_count; i++) {\n\t\t\t\tthis.sample_sizes[i] = stream.readUint8();\n\t\t\t}\n\t\t} else if (this.field_size === 16) {\n\t\t\tfor (i = 0; i < sample_count; i++) {\n\t\t\t\tthis.sample_sizes[i] = stream.readUint16();\n\t\t\t}\n\t\t} else {\n\t\t\tLog.error(\"BoxParser\", \"Error in length field in stz2 box\");\n\t\t}\n\t}\n});\n\n// file:src/parsing/subs.js\nBoxParser.createFullBoxCtor(\"subs\", \"SubSampleInformationBox\", function(stream) {\n\tvar i,j;\n\tvar entry_count;\n\tvar subsample_count;\n\tentry_count = stream.readUint32();\n\tthis.entries = [];\n\tfor (i = 0; i < entry_count; i++) {\n\t\tvar sampleInfo = {};\n\t\tthis.entries[i] = sampleInfo;\n\t\tsampleInfo.sample_delta = stream.readUint32();\n\t\tsampleInfo.subsamples = [];\n\t\tsubsample_count = stream.readUint16();\n\t\tif (subsample_count>0) {\n\t\t\tfor (j = 0; j < subsample_count; j++) {\n\t\t\t\tvar subsample = {};\n\t\t\t\tsampleInfo.subsamples.push(subsample);\n\t\t\t\tif (this.version == 1) {\n\t\t\t\t\tsubsample.size = stream.readUint32();\n\t\t\t\t} else {\n\t\t\t\t\tsubsample.size = stream.readUint16();\n\t\t\t\t}\n\t\t\t\tsubsample.priority = stream.readUint8();\n\t\t\t\tsubsample.discardable = stream.readUint8();\n\t\t\t\tsubsample.codec_specific_parameters = stream.readUint32();\n\t\t\t}\n\t\t}\n\t}\n});\n\n// file:src/parsing/tenc.js\nBoxParser.createFullBoxCtor(\"tenc\", \"TrackEncryptionBox\", function(stream) {\n\tstream.readUint8(); // reserved\n\tif (this.version === 0) {\n\t\tstream.readUint8();\n\t} else {\n\t\tvar tmp = stream.readUint8();\n\t\tthis.default_crypt_byte_block = (tmp >> 4) & 0xF;\n\t\tthis.default_skip_byte_block = tmp & 0xF;\n\t}\n\tthis.default_isProtected = stream.readUint8();\n\tthis.default_Per_Sample_IV_Size = stream.readUint8();\n\tthis.default_KID = BoxParser.parseHex16(stream);\n\tif (this.default_isProtected === 1 && this.default_Per_Sample_IV_Size === 0) {\n\t\tthis.default_constant_IV_size = stream.readUint8();\n\t\tthis.default_constant_IV = stream.readUint8Array(this.default_constant_IV_size);\n\t}\n});// file:src/parsing/tfdt.js\nBoxParser.createFullBoxCtor(\"tfdt\", \"TrackFragmentBaseMediaDecodeTimeBox\", function(stream) {\n\tif (this.version == 1) {\n\t\tthis.baseMediaDecodeTime = stream.readUint64();\n\t} else {\n\t\tthis.baseMediaDecodeTime = stream.readUint32();\n\t}\n});\n\n// file:src/parsing/tfhd.js\nBoxParser.createFullBoxCtor(\"tfhd\", \"TrackFragmentHeaderBox\", function(stream) {\n\tvar readBytes = 0;\n\tthis.track_id = stream.readUint32();\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TFHD_FLAG_BASE_DATA_OFFSET)) {\n\t\tthis.base_data_offset = stream.readUint64();\n\t\treadBytes += 8;\n\t} else {\n\t\tthis.base_data_offset = 0;\n\t}\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DESC)) {\n\t\tthis.default_sample_description_index = stream.readUint32();\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.default_sample_description_index = 0;\n\t}\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DUR)) {\n\t\tthis.default_sample_duration = stream.readUint32();\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.default_sample_duration = 0;\n\t}\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TFHD_FLAG_SAMPLE_SIZE)) {\n\t\tthis.default_sample_size = stream.readUint32();\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.default_sample_size = 0;\n\t}\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TFHD_FLAG_SAMPLE_FLAGS)) {\n\t\tthis.default_sample_flags = stream.readUint32();\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.default_sample_flags = 0;\n\t}\n});\n\n// file:src/parsing/tfra.js\nBoxParser.createFullBoxCtor(\"tfra\", \"TrackFragmentRandomAccessBox\", function(stream) {\n\tthis.track_ID = stream.readUint32();\n\tstream.readUint24();\n\tvar tmp_byte = stream.readUint8();\n\tthis.length_size_of_traf_num = (tmp_byte >> 4) & 0x3;\n\tthis.length_size_of_trun_num = (tmp_byte >> 2) & 0x3;\n\tthis.length_size_of_sample_num = (tmp_byte) & 0x3;\n\tthis.entries = [];\n\tvar number_of_entries = stream.readUint32();\n\tfor (var i = 0; i < number_of_entries; i++) {\n\t\tif (this.version === 1) {\n\t\t\tthis.time = stream.readUint64();\n\t\t\tthis.moof_offset = stream.readUint64();\n\t\t} else {\n\t\t\tthis.time = stream.readUint32();\n\t\t\tthis.moof_offset = stream.readUint32();\n\t\t}\n\t\tthis.traf_number = stream[\"readUint\"+(8*(this.length_size_of_traf_num+1))]();\n\t\tthis.trun_number = stream[\"readUint\"+(8*(this.length_size_of_trun_num+1))]();\n\t\tthis.sample_number = stream[\"readUint\"+(8*(this.length_size_of_sample_num+1))]();\n\t}\n});\n\n// file:src/parsing/tkhd.js\nBoxParser.createFullBoxCtor(\"tkhd\", \"TrackHeaderBox\", function(stream) {\n\tif (this.version == 1) {\n\t\tthis.creation_time = stream.readUint64();\n\t\tthis.modification_time = stream.readUint64();\n\t\tthis.track_id = stream.readUint32();\n\t\tstream.readUint32();\n\t\tthis.duration = stream.readUint64();\n\t} else {\n\t\tthis.creation_time = stream.readUint32();\n\t\tthis.modification_time = stream.readUint32();\n\t\tthis.track_id = stream.readUint32();\n\t\tstream.readUint32();\n\t\tthis.duration = stream.readUint32();\n\t}\n\tstream.readUint32Array(2);\n\tthis.layer = stream.readInt16();\n\tthis.alternate_group = stream.readInt16();\n\tthis.volume = stream.readInt16()>>8;\n\tstream.readUint16();\n\tthis.matrix = stream.readInt32Array(9);\n\tthis.width = stream.readUint32();\n\tthis.height = stream.readUint32();\n});\n\n// file:src/parsing/tmax.js\nBoxParser.createBoxCtor(\"tmax\", \"hintmaxrelativetime\", function(stream) {\n\tthis.time = stream.readUint32();\n});\n\n// file:src/parsing/tmin.js\nBoxParser.createBoxCtor(\"tmin\", \"hintminrelativetime\", function(stream) {\n\tthis.time = stream.readUint32();\n});\n\n// file:src/parsing/totl.js\nBoxParser.createBoxCtor(\"totl\", \"hintBytesSent\", function(stream) {\n\tthis.bytessent = stream.readUint32();\n});\n\n// file:src/parsing/tpay.js\nBoxParser.createBoxCtor(\"tpay\", \"hintBytesSent\", function(stream) {\n\tthis.bytessent = stream.readUint32();\n});\n\n// file:src/parsing/tpyl.js\nBoxParser.createBoxCtor(\"tpyl\", \"hintBytesSent\", function(stream) {\n\tthis.bytessent = stream.readUint64();\n});\n\n// file:src/parsing/TrackGroup.js\nBoxParser.TrackGroupTypeBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.track_group_id = stream.readUint32();\n}\n\n// file:src/parsing/trackgroups/msrc.js\nBoxParser.createTrackGroupCtor(\"msrc\");// file:src/parsing/TrakReference.js\nBoxParser.TrackReferenceTypeBox = function(type, size, hdr_size, start) {\n\tBoxParser.Box.call(this, type, size);\n\tthis.hdr_size = hdr_size;\n\tthis.start = start;\n}\nBoxParser.TrackReferenceTypeBox.prototype = new BoxParser.Box();\nBoxParser.TrackReferenceTypeBox.prototype.parse = function(stream) {\n\tthis.track_ids = stream.readUint32Array((this.size-this.hdr_size)/4);\n}\n\n// file:src/parsing/tref.js\nBoxParser.trefBox.prototype.parse = function(stream) {\n\tvar ret;\n\tvar box;\n\twhile (stream.getPosition() < this.start+this.size) {\n\t\tret = BoxParser.parseOneBox(stream, true, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tbox = new BoxParser.TrackReferenceTypeBox(ret.type, ret.size, ret.hdr_size, ret.start);\n\t\t\tif (box.write === BoxParser.Box.prototype.write && box.type !== \"mdat\") {\n\t\t\t\tLog.info(\"BoxParser\", \"TrackReference \"+box.type+\" box writing not yet implemented, keeping unparsed data in memory for later write\");\n\t\t\t\tbox.parseDataAndRewind(stream);\n\t\t\t}\n\t\t\tbox.parse(stream);\n\t\t\tthis.boxes.push(box);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n}\n\n// file:src/parsing/trep.js\nBoxParser.createFullBoxCtor(\"trep\", \"TrackExtensionPropertiesBox\", function(stream) {\n\tthis.track_ID = stream.readUint32();\n\tthis.boxes = [];\n\twhile (stream.getPosition() < this.start+this.size) {\n\t\tret = BoxParser.parseOneBox(stream, false, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tbox = ret.box;\n\t\t\tthis.boxes.push(box);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n});\n\n// file:src/parsing/trex.js\nBoxParser.createFullBoxCtor(\"trex\", \"TrackExtendsBox\", function(stream) {\n\tthis.track_id = stream.readUint32();\n\tthis.default_sample_description_index = stream.readUint32();\n\tthis.default_sample_duration = stream.readUint32();\n\tthis.default_sample_size = stream.readUint32();\n\tthis.default_sample_flags = stream.readUint32();\n});\n\n// file:src/parsing/trpy.js\nBoxParser.createBoxCtor(\"trpy\", \"hintBytesSent\", function(stream) {\n\tthis.bytessent = stream.readUint64();\n});\n\n// file:src/parsing/trun.js\nBoxParser.createFullBoxCtor(\"trun\", \"TrackRunBox\", function(stream) {\n\tvar readBytes = 0;\n\tthis.sample_count = stream.readUint32();\n\treadBytes+= 4;\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TRUN_FLAGS_DATA_OFFSET) ) {\n\t\tthis.data_offset = stream.readInt32(); //signed\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.data_offset = 0;\n\t}\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TRUN_FLAGS_FIRST_FLAG) ) {\n\t\tthis.first_sample_flags = stream.readUint32();\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.first_sample_flags = 0;\n\t}\n\tthis.sample_duration = [];\n\tthis.sample_size = [];\n\tthis.sample_flags = [];\n\tthis.sample_composition_time_offset = [];\n\tif (this.size - this.hdr_size > readBytes) {\n\t\tfor (var i = 0; i < this.sample_count; i++) {\n\t\t\tif (this.flags & BoxParser.TRUN_FLAGS_DURATION) {\n\t\t\t\tthis.sample_duration[i] = stream.readUint32();\n\t\t\t}\n\t\t\tif (this.flags & BoxParser.TRUN_FLAGS_SIZE) {\n\t\t\t\tthis.sample_size[i] = stream.readUint32();\n\t\t\t}\n\t\t\tif (this.flags & BoxParser.TRUN_FLAGS_FLAGS) {\n\t\t\t\tthis.sample_flags[i] = stream.readUint32();\n\t\t\t}\n\t\t\tif (this.flags & BoxParser.TRUN_FLAGS_CTS_OFFSET) {\n\t\t\t\tif (this.version === 0) {\n\t\t\t\t\tthis.sample_composition_time_offset[i] = stream.readUint32();\n\t\t\t\t} else {\n\t\t\t\t\tthis.sample_composition_time_offset[i] = stream.readInt32(); //signed\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n\n// file:src/parsing/tsel.js\nBoxParser.createFullBoxCtor(\"tsel\", \"TrackSelectionBox\", function(stream) {\n\tthis.switch_group = stream.readUint32();\n\tvar count = (this.size - this.hdr_size - 4)/4;\n\tthis.attribute_list = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tthis.attribute_list[i] = stream.readUint32();\n\t}\n});\n\n// file:src/parsing/txtC.js\nBoxParser.createFullBoxCtor(\"txtC\", \"TextConfigBox\", function(stream) {\n\tthis.config = stream.readCString();\n});\n\n// file:src/parsing/tyco.js\nBoxParser.createBoxCtor(\"tyco\", \"TypeCombinationBox\", function(stream) {\n\tvar count = (this.size - this.hdr_size) / 4;\n\tthis.compatible_brands = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tthis.compatible_brands[i] = stream.readString(4);\n\t}\n});\n\n// file:src/parsing/udes.js\nBoxParser.createFullBoxCtor(\"udes\", \"UserDescriptionProperty\", function(stream) {\n\tthis.lang = stream.readCString();\n\tthis.name = stream.readCString();\n\tthis.description = stream.readCString();\n\tthis.tags = stream.readCString();\n});\n\n// file:src/parsing/uncC.js\nBoxParser.createFullBoxCtor(\"uncC\", \"UncompressedFrameConfigBox\", function(stream) {\n    var i;\n    this.profile = stream.readString(4);\n    if (this.version == 1) {\n        // Nothing - just the profile\n    } else if (this.version == 0) {\n        this.component_count = stream.readUint32();\n        this.component_index = [];\n        this.component_bit_depth_minus_one = [];\n        this.component_format = [];\n        this.component_align_size = [];\n        for (i = 0; i < this.component_count; i++) {\n            this.component_index.push(stream.readUint16());\n            this.component_bit_depth_minus_one.push(stream.readUint8());\n            this.component_format.push(stream.readUint8());\n            this.component_align_size.push(stream.readUint8());\n        }\n        this.sampling_type = stream.readUint8();\n        this.interleave_type = stream.readUint8();\n        this.block_size = stream.readUint8();\n        var flags = stream.readUint8();\n        this.component_little_endian = (flags >> 7) & 0x1;\n        this.block_pad_lsb = (flags >> 6) & 0x1;\n        this.block_little_endian = (flags >> 5) & 0x1;\n        this.block_reversed = (flags >> 4) & 0x1;\n        this.pad_unknown = (flags >> 3) & 0x1;\n        this.pixel_size = stream.readUint32();\n        this.row_align_size = stream.readUint32();\n        this.tile_align_size = stream.readUint32();\n        this.num_tile_cols_minus_one = stream.readUint32();\n        this.num_tile_rows_minus_one = stream.readUint32();\n    }\n});\n\n// file:src/parsing/url.js\nBoxParser.createFullBoxCtor(\"url \", \"DataEntryUrlBox\", function(stream) {\n\tif (this.flags !== 0x000001) {\n\t\tthis.location = stream.readCString();\n\t}\n});\n\n// file:src/parsing/urn.js\nBoxParser.createFullBoxCtor(\"urn \", \"DataEntryUrnBox\", function(stream) {\n\tthis.name = stream.readCString();\n\tif (this.size - this.hdr_size - this.name.length - 1 > 0) {\n\t\tthis.location = stream.readCString();\n\t}\n});\n\n// file:src/parsing/uuid/piff/piffLsm.js\nBoxParser.createUUIDBox(\"a5d40b30e81411ddba2f0800200c9a66\", \"LiveServerManifestBox\", true, false, function(stream) {\n    this.LiveServerManifest = stream.readString(this.size - this.hdr_size)\n        .replace(/&/g, \"&amp;\")\n        .replace(/</g, \"&lt;\")\n        .replace(/>/g, \"&gt;\")\n        .replace(/\"/g, \"&quot;\")\n        .replace(/'/g, \"&#039;\");\n});// file:src/parsing/uuid/piff/piffPssh.js\nBoxParser.createUUIDBox(\"d08a4f1810f34a82b6c832d8aba183d3\", \"PiffProtectionSystemSpecificHeaderBox\", true, false, function(stream) {\n\tthis.system_id = BoxParser.parseHex16(stream);\n\tvar datasize = stream.readUint32();\n\tif (datasize > 0) {\n\t\tthis.data = stream.readUint8Array(datasize);\n\t}\n});\n\n// file:src/parsing/uuid/piff/piffSenc.js\nBoxParser.createUUIDBox(\"a2394f525a9b4f14a2446c427c648df4\", \"PiffSampleEncryptionBox\", true, false /*, function(stream) {\n\tif (this.flags & 0x1) {\n\t\tthis.AlgorithmID = stream.readUint24();\n\t\tthis.IV_size = stream.readUint8();\n\t\tthis.KID = BoxParser.parseHex16(stream);\n\t}\n\tvar sample_count = stream.readUint32();\n\tthis.samples = [];\n\tfor (var i = 0; i < sample_count; i++) {\n\t\tvar sample = {};\n\t\tsample.InitializationVector = this.readUint8Array(this.IV_size*8);\n\t\tif (this.flags & 0x2) {\n\t\t\tsample.subsamples = [];\n\t\t\tsample.NumberOfEntries = stream.readUint16();\n\t\t\tfor (var j = 0; j < sample.NumberOfEntries; j++) {\n\t\t\t\tvar subsample = {};\n\t\t\t\tsubsample.BytesOfClearData = stream.readUint16();\n\t\t\t\tsubsample.BytesOfProtectedData = stream.readUint32();\n\t\t\t\tsample.subsamples.push(subsample);\n\t\t\t}\n\t\t}\n\t\tthis.samples.push(sample);\n\t}\n}*/);\n// file:src/parsing/uuid/piff/piffTenc.js\nBoxParser.createUUIDBox(\"8974dbce7be74c5184f97148f9882554\", \"PiffTrackEncryptionBox\", true, false, function(stream) {\n\tthis.default_AlgorithmID = stream.readUint24();\n\tthis.default_IV_size = stream.readUint8();\n\tthis.default_KID = BoxParser.parseHex16(stream);\n});// file:src/parsing/uuid/piff/piffTfrf.js\nBoxParser.createUUIDBox(\"d4807ef2ca3946958e5426cb9e46a79f\", \"TfrfBox\", true, false, function(stream) {\n    this.fragment_count = stream.readUint8();\n    this.entries = [];\n\n    for (var i = 0; i < this.fragment_count; i++) {\n        var entry = {};\n        var absolute_time = 0;\n        var absolute_duration = 0;\n\n        if (this.version === 1) {\n            absolute_time = stream.readUint64();\n            absolute_duration = stream.readUint64();\n        } else {\n            absolute_time = stream.readUint32();\n            absolute_duration = stream.readUint32();\n        }\n\n        entry.absolute_time = absolute_time;\n        entry.absolute_duration = absolute_duration;\n\n        this.entries.push(entry);\n    }\n});// file:src/parsing/uuid/piff/piffTfxd.js\nBoxParser.createUUIDBox(\"6d1d9b0542d544e680e2141daff757b2\", \"TfxdBox\", true, false, function(stream) {\n    if (this.version === 1) {\n       this.absolute_time = stream.readUint64();\n       this.duration = stream.readUint64();\n    } else {\n       this.absolute_time = stream.readUint32();\n       this.duration = stream.readUint32();\n    }\n});// file:src/parsing/vmhd.js\nBoxParser.createFullBoxCtor(\"vmhd\", \"VideoMediaHeaderBox\", function(stream) {\n\tthis.graphicsmode = stream.readUint16();\n\tthis.opcolor = stream.readUint16Array(3);\n});\n\n// file:src/parsing/vpcC.js\nBoxParser.createFullBoxCtor(\"vpcC\", \"VPCodecConfigurationRecord\", function (stream) {\n\tvar tmp;\n\tif (this.version === 1) {\n\t\tthis.profile = stream.readUint8();\n\t\tthis.level = stream.readUint8();\n\t\ttmp = stream.readUint8();\n\t\tthis.bitDepth = tmp >> 4;\n\t\tthis.chromaSubsampling = (tmp >> 1) & 0x7;\n\t\tthis.videoFullRangeFlag = tmp & 0x1;\n\t\tthis.colourPrimaries = stream.readUint8();\n\t\tthis.transferCharacteristics = stream.readUint8();\n\t\tthis.matrixCoefficients = stream.readUint8();\n\t\tthis.codecIntializationDataSize = stream.readUint16();\n\t\tthis.codecIntializationData = stream.readUint8Array(this.codecIntializationDataSize);\n\t} else {\n\t\tthis.profile = stream.readUint8();\n\t\tthis.level = stream.readUint8();\n\t\ttmp = stream.readUint8();\n\t\tthis.bitDepth = (tmp >> 4) & 0xF;\n\t\tthis.colorSpace = tmp & 0xF;\n\t\ttmp = stream.readUint8();\n\t\tthis.chromaSubsampling = (tmp >> 4) & 0xF;\n\t\tthis.transferFunction = (tmp >> 1) & 0x7;\n\t\tthis.videoFullRangeFlag = tmp & 0x1;\n\t\tthis.codecIntializationDataSize = stream.readUint16();\n\t\tthis.codecIntializationData = stream.readUint8Array(this.codecIntializationDataSize);\n\t}\n});// file:src/parsing/vttC.js\nBoxParser.createBoxCtor(\"vttC\", \"WebVTTConfigurationBox\", function(stream) {\n\tthis.text = stream.readString(this.size - this.hdr_size);\n});\n\n// file:src/parsing/vvcC.js\nBoxParser.createFullBoxCtor(\"vvcC\", \"VvcConfigurationBox\", function (stream) {\n  var i, j;\n\n  // helper object to simplify extracting individual bits\n  var bitReader = {\n    held_bits: undefined,\n    num_held_bits: 0,\n\n    stream_read_1_bytes: function (strm) {\n      this.held_bits = strm.readUint8();\n      this.num_held_bits = 1 * 8;\n    },\n    stream_read_2_bytes: function (strm) {\n      this.held_bits = strm.readUint16();\n      this.num_held_bits = 2 * 8;\n    },\n\n    extract_bits: function (num_bits) {\n      var ret = (this.held_bits >> (this.num_held_bits - num_bits)) & ((1 << num_bits) - 1);\n      this.num_held_bits -= num_bits;\n      return ret;\n    }\n  };\n\n  // VvcDecoderConfigurationRecord\n  bitReader.stream_read_1_bytes(stream);\n  bitReader.extract_bits(5);  // reserved\n  this.lengthSizeMinusOne = bitReader.extract_bits(2);\n  this.ptl_present_flag = bitReader.extract_bits(1);\n\n  if (this.ptl_present_flag) {\n    bitReader.stream_read_2_bytes(stream);\n    this.ols_idx = bitReader.extract_bits(9);\n    this.num_sublayers = bitReader.extract_bits(3);\n    this.constant_frame_rate = bitReader.extract_bits(2);\n    this.chroma_format_idc = bitReader.extract_bits(2);\n\n    bitReader.stream_read_1_bytes(stream);\n    this.bit_depth_minus8 = bitReader.extract_bits(3);\n    bitReader.extract_bits(5);  // reserved\n\n    // VvcPTLRecord\n    {\n      bitReader.stream_read_2_bytes(stream);\n      bitReader.extract_bits(2);  // reserved\n      this.num_bytes_constraint_info = bitReader.extract_bits(6);\n      this.general_profile_idc = bitReader.extract_bits(7);\n      this.general_tier_flag = bitReader.extract_bits(1);\n\n      this.general_level_idc = stream.readUint8();\n\n      bitReader.stream_read_1_bytes(stream);\n      this.ptl_frame_only_constraint_flag = bitReader.extract_bits(1);\n      this.ptl_multilayer_enabled_flag = bitReader.extract_bits(1);\n\n      this.general_constraint_info = new Uint8Array(this.num_bytes_constraint_info);\n      if (this.num_bytes_constraint_info) {\n        for (i = 0; i < this.num_bytes_constraint_info - 1; i++) {\n          var cnstr1 = bitReader.extract_bits(6);\n          bitReader.stream_read_1_bytes(stream);\n          var cnstr2 = bitReader.extract_bits(2);\n\n          this.general_constraint_info[i] = ((cnstr1 << 2) | cnstr2);\n        }\n        this.general_constraint_info[this.num_bytes_constraint_info - 1] = bitReader.extract_bits(6);\n      } else {\n        //forbidden in spec!\n        bitReader.extract_bits(6);\n      }\n\n      if (this.num_sublayers > 1) {\n        bitReader.stream_read_1_bytes(stream);\n        this.ptl_sublayer_present_mask = 0;\n        for (j = this.num_sublayers - 2; j >= 0; --j) {\n          var val = bitReader.extract_bits(1);\n          this.ptl_sublayer_present_mask |= val << j;\n        }\n        for (j = this.num_sublayers; j <= 8 && this.num_sublayers > 1; ++j) {\n          bitReader.extract_bits(1);  // ptl_reserved_zero_bit\n        }\n\n        this.sublayer_level_idc = [];\n        for (j = this.num_sublayers - 2; j >= 0; --j) {\n          if (this.ptl_sublayer_present_mask & (1 << j)) {\n            this.sublayer_level_idc[j] = stream.readUint8();\n          }\n        }\n      }\n\n      this.ptl_num_sub_profiles = stream.readUint8();\n      this.general_sub_profile_idc = [];\n      if (this.ptl_num_sub_profiles) {\n        for (i = 0; i < this.ptl_num_sub_profiles; i++) {\n          this.general_sub_profile_idc.push(stream.readUint32());\n        }\n      }\n    }  // end VvcPTLRecord\n\n    this.max_picture_width = stream.readUint16();\n    this.max_picture_height = stream.readUint16();\n    this.avg_frame_rate = stream.readUint16();\n  }\n\n  var VVC_NALU_OPI = 12;\n  var VVC_NALU_DEC_PARAM = 13;\n\n  this.nalu_arrays = [];\n  var num_of_arrays = stream.readUint8();\n  for (i = 0; i < num_of_arrays; i++) {\n    var nalu_array = [];\n    this.nalu_arrays.push(nalu_array);\n\n    bitReader.stream_read_1_bytes(stream);\n    nalu_array.completeness = bitReader.extract_bits(1);\n    bitReader.extract_bits(2);  // reserved\n    nalu_array.nalu_type = bitReader.extract_bits(5);\n\n    var numNalus = 1;\n    if (nalu_array.nalu_type != VVC_NALU_DEC_PARAM && nalu_array.nalu_type != VVC_NALU_OPI) {\n      numNalus = stream.readUint16();\n    }\n\n    for (j = 0; j < numNalus; j++) {\n      var len = stream.readUint16();\n      nalu_array.push({\n        data: stream.readUint8Array(len),\n        length: len\n      });\n    }\n  }\n});\n// file:src/parsing/vvnC.js\nBoxParser.createFullBoxCtor(\"vvnC\", \"VvcNALUConfigBox\", function (stream) {\n  // VvcNALUConfigBox\n  var tmp = strm.readUint8();\n  this.lengthSizeMinusOne = (tmp & 0x3);\n});\n// file:src/box-codecs.js\nBoxParser.SampleEntry.prototype.isVideo = function() {\n\treturn false;\n}\n\nBoxParser.SampleEntry.prototype.isAudio = function() {\n\treturn false;\n}\n\nBoxParser.SampleEntry.prototype.isSubtitle = function() {\n\treturn false;\n}\n\nBoxParser.SampleEntry.prototype.isMetadata = function() {\n\treturn false;\n}\n\nBoxParser.SampleEntry.prototype.isHint = function() {\n\treturn false;\n}\n\nBoxParser.SampleEntry.prototype.getCodec = function() {\n\treturn this.type.replace('.','');\n}\n\nBoxParser.SampleEntry.prototype.getWidth = function() {\n\treturn \"\";\n}\n\nBoxParser.SampleEntry.prototype.getHeight = function() {\n\treturn \"\";\n}\n\nBoxParser.SampleEntry.prototype.getChannelCount = function() {\n\treturn \"\";\n}\n\nBoxParser.SampleEntry.prototype.getSampleRate = function() {\n\treturn \"\";\n}\n\nBoxParser.SampleEntry.prototype.getSampleSize = function() {\n\treturn \"\";\n}\n\nBoxParser.VisualSampleEntry.prototype.isVideo = function() {\n\treturn true;\n}\n\nBoxParser.VisualSampleEntry.prototype.getWidth = function() {\n\treturn this.width;\n}\n\nBoxParser.VisualSampleEntry.prototype.getHeight = function() {\n\treturn this.height;\n}\n\nBoxParser.AudioSampleEntry.prototype.isAudio = function() {\n\treturn true;\n}\n\nBoxParser.AudioSampleEntry.prototype.getChannelCount = function() {\n\treturn this.channel_count;\n}\n\nBoxParser.AudioSampleEntry.prototype.getSampleRate = function() {\n\treturn this.samplerate;\n}\n\nBoxParser.AudioSampleEntry.prototype.getSampleSize = function() {\n\treturn this.samplesize;\n}\n\nBoxParser.SubtitleSampleEntry.prototype.isSubtitle = function() {\n\treturn true;\n}\n\nBoxParser.MetadataSampleEntry.prototype.isMetadata = function() {\n\treturn true;\n}\n\n\nBoxParser.decimalToHex = function(d, padding) {\n\tvar hex = Number(d).toString(16);\n\tpadding = typeof (padding) === \"undefined\" || padding === null ? padding = 2 : padding;\n\twhile (hex.length < padding) {\n\t\thex = \"0\" + hex;\n\t}\n\treturn hex;\n}\n\nBoxParser.avc1SampleEntry.prototype.getCodec =\nBoxParser.avc2SampleEntry.prototype.getCodec =\nBoxParser.avc3SampleEntry.prototype.getCodec =\nBoxParser.avc4SampleEntry.prototype.getCodec = function() {\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tif (this.avcC) {\n\t\treturn baseCodec+\".\"+BoxParser.decimalToHex(this.avcC.AVCProfileIndication)+\n\t\t\t\t\t\t  \"\"+BoxParser.decimalToHex(this.avcC.profile_compatibility)+\n\t\t\t\t\t\t  \"\"+BoxParser.decimalToHex(this.avcC.AVCLevelIndication);\n\t} else {\n\t\treturn baseCodec;\n\t}\n}\n\nBoxParser.hev1SampleEntry.prototype.getCodec =\nBoxParser.hvc1SampleEntry.prototype.getCodec = function() {\n\tvar i;\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tif (this.hvcC) {\n\t\tbaseCodec += '.';\n\t\tswitch (this.hvcC.general_profile_space) {\n\t\t\tcase 0:\n\t\t\t\tbaseCodec += '';\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tbaseCodec += 'A';\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tbaseCodec += 'B';\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tbaseCodec += 'C';\n\t\t\t\tbreak;\n\t\t}\n\t\tbaseCodec += this.hvcC.general_profile_idc;\n\t\tbaseCodec += '.';\n\t\tvar val = this.hvcC.general_profile_compatibility;\n\t\tvar reversed = 0;\n\t\tfor (i=0; i<32; i++) {\n\t\t\treversed |= val & 1;\n\t\t\tif (i==31) break;\n\t\t\treversed <<= 1;\n\t\t\tval >>=1;\n\t\t}\n\t\tbaseCodec += BoxParser.decimalToHex(reversed, 0);\n\t\tbaseCodec += '.';\n\t\tif (this.hvcC.general_tier_flag === 0) {\n\t\t\tbaseCodec += 'L';\n\t\t} else {\n\t\t\tbaseCodec += 'H';\n\t\t}\n\t\tbaseCodec += this.hvcC.general_level_idc;\n\t\tvar hasByte = false;\n\t\tvar constraint_string = \"\";\n\t\tfor (i = 5; i >= 0; i--) {\n\t\t\tif (this.hvcC.general_constraint_indicator[i] || hasByte) {\n\t\t\t\tconstraint_string = \".\"+BoxParser.decimalToHex(this.hvcC.general_constraint_indicator[i], 0)+constraint_string;\n\t\t\t\thasByte = true;\n\t\t\t}\n\t\t}\n\t\tbaseCodec += constraint_string;\n\t}\n\treturn baseCodec;\n}\n\nBoxParser.vvc1SampleEntry.prototype.getCodec =\nBoxParser.vvi1SampleEntry.prototype.getCodec = function () {\n\tvar i;\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tif (this.vvcC) {\n\t\tbaseCodec += '.' + this.vvcC.general_profile_idc;\n\t\tif (this.vvcC.general_tier_flag) {\n\t\t\tbaseCodec += '.H';\n\t\t} else {\n\t\t\tbaseCodec += '.L';\n\t\t}\n\t\tbaseCodec += this.vvcC.general_level_idc;\n\n\t\tvar constraint_string = \"\";\n\t\tif (this.vvcC.general_constraint_info) {\n\t\t\tvar bytes = [];\n\t\t\tvar byte = 0;\n\t\t\tbyte |= this.vvcC.ptl_frame_only_constraint << 7;\n\t\t\tbyte |= this.vvcC.ptl_multilayer_enabled << 6;\n\t\t\tvar last_nonzero;\n\t\t\tfor (i = 0; i < this.vvcC.general_constraint_info.length; ++i) {\n\t\t\t\tbyte |= (this.vvcC.general_constraint_info[i] >> 2) & 0x3f;\n\t\t\t\tbytes.push(byte);\n\t\t\t\tif (byte) {\n\t\t\t\t\tlast_nonzero = i;\n\t\t\t\t}\n\n\t\t\t\tbyte = (this.vvcC.general_constraint_info[i] >> 2) & 0x03;\n\t\t\t}\n\n\t\t\tif (last_nonzero === undefined) {\n\t\t\t\tconstraint_string = \".CA\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconstraint_string = \".C\"\n\t\t\t\tvar base32_chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\";\n\t\t\t\tvar held_bits = 0;\n\t\t\t\tvar num_held_bits = 0;\n\t\t\t\tfor (i = 0; i <= last_nonzero; ++i) {\n\t\t\t\t\theld_bits = (held_bits << 8) | bytes[i];\n\t\t\t\t\tnum_held_bits += 8;\n\n\t\t\t\t\twhile (num_held_bits >= 5) {\n\t\t\t\t\t\tvar val = (held_bits >> (num_held_bits - 5)) & 0x1f;\n\t\t\t\t\t\tconstraint_string += base32_chars[val];\n\n\t\t\t\t\t\tnum_held_bits -= 5;\n\t\t\t\t\t\theld_bits &= (1 << num_held_bits) - 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (num_held_bits) {\n\t\t\t\t\theld_bits <<= (5 - num_held_bits);  // right-pad with zeros to 5 bits (is this correct?)\n\t\t\t\t\tconstraint_string += base32_chars[held_bits & 0x1f];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tbaseCodec += constraint_string;\n\t}\n\treturn baseCodec;\n}\n\nBoxParser.mp4aSampleEntry.prototype.getCodec = function() {\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tif (this.esds && this.esds.esd) {\n\t\tvar oti = this.esds.esd.getOTI();\n\t\tvar dsi = this.esds.esd.getAudioConfig();\n\t\treturn baseCodec+\".\"+BoxParser.decimalToHex(oti)+(dsi ? \".\"+dsi: \"\");\n\t} else {\n\t\treturn baseCodec;\n\t}\n}\n\nBoxParser.stxtSampleEntry.prototype.getCodec = function() {\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tif(this.mime_format) {\n\t\treturn baseCodec + \".\" + this.mime_format;\n\t} else {\n\t\treturn baseCodec\n\t}\n}\n\nBoxParser.vp08SampleEntry.prototype.getCodec =\nBoxParser.vp09SampleEntry.prototype.getCodec = function() {\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tvar level = this.vpcC.level;\n\tif (level == 0) {\n\t\tlevel = \"00\";\n\t}\n\tvar bitDepth = this.vpcC.bitDepth;\n\tif (bitDepth == 8) {\n\t\tbitDepth = \"08\";\n\t}\n\treturn baseCodec + \".0\" + this.vpcC.profile + \".\" + level + \".\" + bitDepth;\n}\n\nBoxParser.av01SampleEntry.prototype.getCodec = function() {\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tvar level = this.av1C.seq_level_idx_0;\n\tif (level < 10) {\n\t\tlevel = \"0\" + level;\n\t}\n\tvar bitdepth;\n\tif (this.av1C.seq_profile === 2 && this.av1C.high_bitdepth === 1) {\n\t\tbitdepth = (this.av1C.twelve_bit === 1) ? \"12\" : \"10\";\n\t} else if ( this.av1C.seq_profile <= 2 ) {\n\t\tbitdepth = (this.av1C.high_bitdepth === 1) ? \"10\" : \"08\";\n\t}\n\t// TODO need to parse the SH to find color config\n\treturn baseCodec+\".\"+this.av1C.seq_profile+\".\"+level+(this.av1C.seq_tier_0?\"H\":\"M\")+\".\"+bitdepth;//+\".\"+this.av1C.monochrome+\".\"+this.av1C.chroma_subsampling_x+\"\"+this.av1C.chroma_subsampling_y+\"\"+this.av1C.chroma_sample_position;\n}\n// file:src/box-write.js\n/* \n * Copyright (c) Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nBoxParser.Box.prototype.writeHeader = function(stream, msg) {\n\tthis.size += 8;\n\tif (this.size > MAX_SIZE) {\n\t\tthis.size += 8;\n\t}\n\tif (this.type === \"uuid\") {\n\t\tthis.size += 16;\n\t}\n\tLog.debug(\"BoxWriter\", \"Writing box \"+this.type+\" of size: \"+this.size+\" at position \"+stream.getPosition()+(msg || \"\"));\n\tif (this.size > MAX_SIZE) {\n\t\tstream.writeUint32(1);\n\t} else {\n\t\tthis.sizePosition = stream.getPosition();\n\t\tstream.writeUint32(this.size);\n\t}\n\tstream.writeString(this.type, null, 4);\n\tif (this.type === \"uuid\") {\n\t\tstream.writeUint8Array(this.uuid);\n\t}\n\tif (this.size > MAX_SIZE) {\n\t\tstream.writeUint64(this.size);\n\t} \n}\n\nBoxParser.FullBox.prototype.writeHeader = function(stream) {\n\tthis.size += 4;\n\tBoxParser.Box.prototype.writeHeader.call(this, stream, \" v=\"+this.version+\" f=\"+this.flags);\n\tstream.writeUint8(this.version);\n\tstream.writeUint24(this.flags);\n}\n\nBoxParser.Box.prototype.write = function(stream) {\n\tif (this.type === \"mdat\") {\n\t\t/* TODO: fix this */\n\t\tif (this.data) {\n\t\t\tthis.size = this.data.length;\n\t\t\tthis.writeHeader(stream);\n\t\t\tstream.writeUint8Array(this.data);\n\t\t}\n\t} else {\n\t\tthis.size = (this.data ? this.data.length : 0);\n\t\tthis.writeHeader(stream);\n\t\tif (this.data) {\n\t\t\tstream.writeUint8Array(this.data);\n\t\t}\n\t}\n}\n\nBoxParser.ContainerBox.prototype.write = function(stream) {\n\tthis.size = 0;\n\tthis.writeHeader(stream);\n\tfor (var i=0; i<this.boxes.length; i++) {\n\t\tif (this.boxes[i]) {\n\t\t\tthis.boxes[i].write(stream);\n\t\t\tthis.size += this.boxes[i].size;\n\t\t}\n\t}\n\t/* adjusting the size, now that all sub-boxes are known */\n\tLog.debug(\"BoxWriter\", \"Adjusting box \"+this.type+\" with new size \"+this.size);\n\tstream.adjustUint32(this.sizePosition, this.size);\n}\n\nBoxParser.TrackReferenceTypeBox.prototype.write = function(stream) {\n\tthis.size = this.track_ids.length*4;\n\tthis.writeHeader(stream);\n\tstream.writeUint32Array(this.track_ids);\n}\n\n// file:src/writing/avcC.js\nBoxParser.avcCBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.size = 7;\n\tfor (i = 0; i < this.SPS.length; i++) {\n\t\tthis.size += 2+this.SPS[i].length;\n\t}\n\tfor (i = 0; i < this.PPS.length; i++) {\n\t\tthis.size += 2+this.PPS[i].length;\n\t}\n\tif (this.ext) {\n\t\tthis.size += this.ext.length;\n\t}\n\tthis.writeHeader(stream);\n\tstream.writeUint8(this.configurationVersion);\n\tstream.writeUint8(this.AVCProfileIndication);\n\tstream.writeUint8(this.profile_compatibility);\n\tstream.writeUint8(this.AVCLevelIndication);\n\tstream.writeUint8(this.lengthSizeMinusOne + (63<<2));\n\tstream.writeUint8(this.SPS.length + (7<<5));\n\tfor (i = 0; i < this.SPS.length; i++) {\n\t\tstream.writeUint16(this.SPS[i].length);\n\t\tstream.writeUint8Array(this.SPS[i].nalu);\n\t}\n\tstream.writeUint8(this.PPS.length);\n\tfor (i = 0; i < this.PPS.length; i++) {\n\t\tstream.writeUint16(this.PPS[i].length);\n\t\tstream.writeUint8Array(this.PPS[i].nalu);\n\t}\n\tif (this.ext) {\n\t\tstream.writeUint8Array(this.ext);\n\t}\n}\n\n// file:src/writing/co64.js\nBoxParser.co64Box.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+8*this.chunk_offsets.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.chunk_offsets.length);\n\tfor(i=0; i<this.chunk_offsets.length; i++) {\n\t\tstream.writeUint64(this.chunk_offsets[i]);\n\t}\n}\n\n// file:src/writing/cslg.js\nBoxParser.cslgBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4*5;\n\tthis.writeHeader(stream);\n\tstream.writeInt32(this.compositionToDTSShift);\n\tstream.writeInt32(this.leastDecodeToDisplayDelta);\n\tstream.writeInt32(this.greatestDecodeToDisplayDelta);\n\tstream.writeInt32(this.compositionStartTime);\n\tstream.writeInt32(this.compositionEndTime);\n}\n\n// file:src/writing/ctts.js\nBoxParser.cttsBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+8*this.sample_counts.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.sample_counts.length);\n\tfor(i=0; i<this.sample_counts.length; i++) {\n\t\tstream.writeUint32(this.sample_counts[i]);\n\t\tif (this.version === 1) {\n\t\t\tstream.writeInt32(this.sample_offsets[i]); /* signed */\n\t\t} else {\t\t\t\n\t\t\tstream.writeUint32(this.sample_offsets[i]); /* unsigned */\n\t\t}\n\t}\n}\n\n// file:src/writing/dref.js\nBoxParser.drefBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4; //\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.entries.length);\n\tfor (var i = 0; i < this.entries.length; i++) {\n\t\tthis.entries[i].write(stream);\n\t\tthis.size += this.entries[i].size;\n\t}\t\n\t/* adjusting the size, now that all sub-boxes are known */\n\tLog.debug(\"BoxWriter\", \"Adjusting box \"+this.type+\" with new size \"+this.size);\n\tstream.adjustUint32(this.sizePosition, this.size);\n}\n\n// file:src/writing/elng.js\nBoxParser.elngBox.prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = this.extended_language.length;\n\tthis.writeHeader(stream);\n\tstream.writeString(this.extended_language);\n}\n\n// file:src/writing/elst.js\nBoxParser.elstBox.prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = 4+12*this.entries.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.entries.length);\n\tfor (var i = 0; i < this.entries.length; i++) {\n\t\tvar entry = this.entries[i];\n\t\tstream.writeUint32(entry.segment_duration);\n\t\tstream.writeInt32(entry.media_time);\n\t\tstream.writeInt16(entry.media_rate_integer);\n\t\tstream.writeInt16(entry.media_rate_fraction);\n\t}\n}\n\n// file:src/writing/emsg.js\nBoxParser.emsgBox.prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = 4*4+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1);\n\tthis.writeHeader(stream);\n\tstream.writeCString(this.scheme_id_uri);\n\tstream.writeCString(this.value);\n\tstream.writeUint32(this.timescale);\n\tstream.writeUint32(this.presentation_time_delta);\n\tstream.writeUint32(this.event_duration);\n\tstream.writeUint32(this.id);\n\tstream.writeUint8Array(this.message_data);\n}\n\n// file:src/writing/ftyp.js\nBoxParser.ftypBox.prototype.write = function(stream) {\n\tthis.size = 8+4*this.compatible_brands.length;\n\tthis.writeHeader(stream);\n\tstream.writeString(this.major_brand, null, 4);\n\tstream.writeUint32(this.minor_version);\n\tfor (var i = 0; i < this.compatible_brands.length; i++) {\n\t\tstream.writeString(this.compatible_brands[i], null, 4);\n\t}\n}\n\n// file:src/writing/hdlr.js\nBoxParser.hdlrBox.prototype.write = function(stream) {\n\tthis.size = 5*4+this.name.length+1;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(0);\n\tstream.writeString(this.handler, null, 4);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeCString(this.name);\n}\n\n// file:src/writing/hvcC.js\nBoxParser.hvcCBox.prototype.write = function(stream) {\n    var i,j;\n    this.size = 23;\n\n    for (i = 0; i < this.nalu_arrays.length; i++) {\n      this.size += 3;\n      for (j = 0; j < this.nalu_arrays[i].length; j++) {\n        this.size += 2 + this.nalu_arrays[i][j].data.length;\n      }\n    }\n\n    this.writeHeader(stream);\n\n    stream.writeUint8(this.configurationVersion);\n    stream.writeUint8((this.general_profile_space << 6) +\n                      (this.general_tier_flag << 5) +\n                      this.general_profile_idc);\n    stream.writeUint32(this.general_profile_compatibility);\n    stream.writeUint8Array(this.general_constraint_indicator);\n    stream.writeUint8(this.general_level_idc);\n    stream.writeUint16(this.min_spatial_segmentation_idc + (15<<24));\n    stream.writeUint8(this.parallelismType + (63<<2));\n    stream.writeUint8(this.chroma_format_idc + (63<<2));\n    stream.writeUint8(this.bit_depth_luma_minus8 + (31<<3));\n    stream.writeUint8(this.bit_depth_chroma_minus8 + (31<<3));\n    stream.writeUint16(this.avgFrameRate);\n    stream.writeUint8((this.constantFrameRate<<6) +\n                   (this.numTemporalLayers<<3) +\n                   (this.temporalIdNested<<2) +\n                   this.lengthSizeMinusOne);\n    stream.writeUint8(this.nalu_arrays.length);\n    for (i = 0; i < this.nalu_arrays.length; i++) {\n      // bit(1) array_completeness + bit(1) reserved = 0 + bit(6) nal_unit_type\n      stream.writeUint8((this.nalu_arrays[i].completeness<<7) +\n                         this.nalu_arrays[i].nalu_type);\n      stream.writeUint16(this.nalu_arrays[i].length);\n      for (j = 0; j < this.nalu_arrays[i].length; j++) {\n        stream.writeUint16(this.nalu_arrays[i][j].data.length);\n        stream.writeUint8Array(this.nalu_arrays[i][j].data);\n      }\n    }\n}\n// file:src/writing/kind.js\nBoxParser.kindBox.prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = (this.schemeURI.length+1)+(this.value.length+1);\n\tthis.writeHeader(stream);\n\tstream.writeCString(this.schemeURI);\n\tstream.writeCString(this.value);\n}\n\n// file:src/writing/mdhd.js\nBoxParser.mdhdBox.prototype.write = function(stream) {\n\tthis.size = 4*4+2*2;\n\tthis.flags = 0;\n\tthis.version = 0;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.creation_time);\n\tstream.writeUint32(this.modification_time);\n\tstream.writeUint32(this.timescale);\n\tstream.writeUint32(this.duration);\n\tstream.writeUint16(this.language);\n\tstream.writeUint16(0);\n}\n\n// file:src/writing/mehd.js\nBoxParser.mehdBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.fragment_duration);\n}\n\n// file:src/writing/mfhd.js\nBoxParser.mfhdBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.sequence_number);\n}\n\n// file:src/writing/mvhd.js\nBoxParser.mvhdBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 23*4+2*2;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.creation_time);\n\tstream.writeUint32(this.modification_time);\n\tstream.writeUint32(this.timescale);\n\tstream.writeUint32(this.duration);\n\tstream.writeUint32(this.rate);\n\tstream.writeUint16(this.volume<<8);\n\tstream.writeUint16(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32Array(this.matrix);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(this.next_track_id);\n}\n\n// file:src/writing/sampleentry.js\nBoxParser.SampleEntry.prototype.writeHeader = function(stream) {\n\tthis.size = 8;\n\tBoxParser.Box.prototype.writeHeader.call(this, stream);\n\tstream.writeUint8(0);\n\tstream.writeUint8(0);\n\tstream.writeUint8(0);\n\tstream.writeUint8(0);\n\tstream.writeUint8(0);\n\tstream.writeUint8(0);\n\tstream.writeUint16(this.data_reference_index);\n}\n\nBoxParser.SampleEntry.prototype.writeFooter = function(stream) {\n\tfor (var i=0; i<this.boxes.length; i++) {\n\t\tthis.boxes[i].write(stream);\n\t\tthis.size += this.boxes[i].size;\n\t}\n\tLog.debug(\"BoxWriter\", \"Adjusting box \"+this.type+\" with new size \"+this.size);\n\tstream.adjustUint32(this.sizePosition, this.size);\t\n}\n\nBoxParser.SampleEntry.prototype.write = function(stream) {\n\tthis.writeHeader(stream);\n\tstream.writeUint8Array(this.data);\n\tthis.size += this.data.length;\n\tLog.debug(\"BoxWriter\", \"Adjusting box \"+this.type+\" with new size \"+this.size);\n\tstream.adjustUint32(this.sizePosition, this.size);\t\n}\n\nBoxParser.VisualSampleEntry.prototype.write = function(stream) {\n\tthis.writeHeader(stream);\n\tthis.size += 2*7+6*4+32;\n\tstream.writeUint16(0); \n\tstream.writeUint16(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint16(this.width);\n\tstream.writeUint16(this.height);\n\tstream.writeUint32(this.horizresolution);\n\tstream.writeUint32(this.vertresolution);\n\tstream.writeUint32(0);\n\tstream.writeUint16(this.frame_count);\n\tstream.writeUint8(Math.min(31, this.compressorname.length));\n\tstream.writeString(this.compressorname, null, 31);\n\tstream.writeUint16(this.depth);\n\tstream.writeInt16(-1);\n\tthis.writeFooter(stream);\n}\n\nBoxParser.AudioSampleEntry.prototype.write = function(stream) {\n\tthis.writeHeader(stream);\n\tthis.size += 2*4+3*4;\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint16(this.channel_count);\n\tstream.writeUint16(this.samplesize);\n\tstream.writeUint16(0);\n\tstream.writeUint16(0);\n\tstream.writeUint32(this.samplerate<<16);\n\tthis.writeFooter(stream);\n}\n\nBoxParser.stppSampleEntry.prototype.write = function(stream) {\n\tthis.writeHeader(stream);\n\tthis.size += this.namespace.length+1+\n\t\t\t\t this.schema_location.length+1+\n\t\t\t\t this.auxiliary_mime_types.length+1;\n\tstream.writeCString(this.namespace);\n\tstream.writeCString(this.schema_location);\n\tstream.writeCString(this.auxiliary_mime_types);\n\tthis.writeFooter(stream);\n}\n\n// file:src/writing/samplegroups/samplegroup.js\nBoxParser.SampleGroupEntry.prototype.write = function(stream) {\n\tstream.writeUint8Array(this.data);\n}\n\n// file:src/writing/sbgp.js\nBoxParser.sbgpBox.prototype.write = function(stream) {\n\tthis.version = 1;\t\n\tthis.flags = 0;\n\tthis.size = 12+8*this.entries.length;\n\tthis.writeHeader(stream);\n\tstream.writeString(this.grouping_type, null, 4);\n\tstream.writeUint32(this.grouping_type_parameter);\n\tstream.writeUint32(this.entries.length);\n\tfor (var i = 0; i < this.entries.length; i++) {\n\t\tvar entry = this.entries[i];\n\t\tstream.writeInt32(entry.sample_count);\n\t\tstream.writeInt32(entry.group_description_index);\n\t}\n}\n\n// file:src/writing/sgpd.js\nBoxParser.sgpdBox.prototype.write = function(stream) {\n\tvar i;\n\tvar entry;\n\t// leave version as read\n\t// this.version;\n\tthis.flags = 0;\n\tthis.size = 12;\n\tfor (i = 0; i < this.entries.length; i++) {\n\t\tentry = this.entries[i];\n\t\tif (this.version === 1) {\n\t\t\tif (this.default_length === 0) {\n\t\t\t\tthis.size += 4;\n\t\t\t}\n\t\t\tthis.size += entry.data.length;\n\t\t}\n\t}\n\tthis.writeHeader(stream);\n\tstream.writeString(this.grouping_type, null, 4);\n\tif (this.version === 1) {\n\t\tstream.writeUint32(this.default_length);\n\t}\n\tif (this.version >= 2) {\n\t\tstream.writeUint32(this.default_sample_description_index);\n\t}\n\tstream.writeUint32(this.entries.length);\n\tfor (i = 0; i < this.entries.length; i++) {\n\t\tentry = this.entries[i];\n\t\tif (this.version === 1) {\n\t\t\tif (this.default_length === 0) {\n\t\t\t\tstream.writeUint32(entry.description_length);\n\t\t\t}\n\t\t}\n\t\tentry.write(stream);\n\t}\n}\n\n\n// file:src/writing/sidx.js\nBoxParser.sidxBox.prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = 4*4+2+2+12*this.references.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.reference_ID);\n\tstream.writeUint32(this.timescale);\n\tstream.writeUint32(this.earliest_presentation_time);\n\tstream.writeUint32(this.first_offset);\n\tstream.writeUint16(0);\n\tstream.writeUint16(this.references.length);\n\tfor (var i = 0; i < this.references.length; i++) {\n\t\tvar ref = this.references[i];\n\t\tstream.writeUint32(ref.reference_type << 31 | ref.referenced_size);\n\t\tstream.writeUint32(ref.subsegment_duration);\n\t\tstream.writeUint32(ref.starts_with_SAP << 31 | ref.SAP_type << 28 | ref.SAP_delta_time);\n\t}\n}\n\n// file:src/writing/smhd.js\nBoxParser.smhdBox.prototype.write = function(stream) {\n  var i;\n  this.version = 0;\n  this.flags = 1;\n  this.size = 4;\n  this.writeHeader(stream);\n  stream.writeUint16(this.balance);\n  stream.writeUint16(0);\n}\n// file:src/writing/stco.js\nBoxParser.stcoBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+4*this.chunk_offsets.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.chunk_offsets.length);\n\tstream.writeUint32Array(this.chunk_offsets);\n}\n\n// file:src/writing/stsc.js\nBoxParser.stscBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+12*this.first_chunk.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.first_chunk.length);\n\tfor(i=0; i<this.first_chunk.length; i++) {\n\t\tstream.writeUint32(this.first_chunk[i]);\n\t\tstream.writeUint32(this.samples_per_chunk[i]);\n\t\tstream.writeUint32(this.sample_description_index[i]);\n\t}\n}\n\n// file:src/writing/stsd.js\nBoxParser.stsdBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 0;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.entries.length);\n\tthis.size += 4;\n\tfor (i = 0; i < this.entries.length; i++) {\n\t\tthis.entries[i].write(stream);\n\t\tthis.size += this.entries[i].size;\n\t}\n\t/* adjusting the size, now that all sub-boxes are known */\n\tLog.debug(\"BoxWriter\", \"Adjusting box \"+this.type+\" with new size \"+this.size);\n\tstream.adjustUint32(this.sizePosition, this.size);\n}\n\n// file:src/writing/stsh.js\nBoxParser.stshBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+8*this.shadowed_sample_numbers.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.shadowed_sample_numbers.length);\n\tfor(i=0; i<this.shadowed_sample_numbers.length; i++) {\n\t\tstream.writeUint32(this.shadowed_sample_numbers[i]);\n\t\tstream.writeUint32(this.sync_sample_numbers[i]);\n\t}\n}\n\n// file:src/writing/stss.js\nBoxParser.stssBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+4*this.sample_numbers.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.sample_numbers.length);\n\tstream.writeUint32Array(this.sample_numbers);\n}\n\n// file:src/writing/stsz.js\nBoxParser.stszBox.prototype.write = function(stream) {\n\tvar i;\n\tvar constant = true;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tif (this.sample_sizes.length > 0) {\n\t\ti = 0;\n\t\twhile (i+1 < this.sample_sizes.length) {\n\t\t\tif (this.sample_sizes[i+1] !==  this.sample_sizes[0]) {\n\t\t\t\tconstant = false;\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\ti++;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tconstant = false;\n\t}\n\tthis.size = 8;\n\tif (!constant) {\n\t\tthis.size += 4*this.sample_sizes.length;\n\t}\n\tthis.writeHeader(stream);\n\tif (!constant) {\n\t\tstream.writeUint32(0);\n\t} else {\n\t\tstream.writeUint32(this.sample_sizes[0]);\n\t}\n\tstream.writeUint32(this.sample_sizes.length);\n\tif (!constant) {\n\t\tstream.writeUint32Array(this.sample_sizes);\n\t}\t\n}\n\n// file:src/writing/stts.js\nBoxParser.sttsBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+8*this.sample_counts.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.sample_counts.length);\n\tfor(i=0; i<this.sample_counts.length; i++) {\n\t\tstream.writeUint32(this.sample_counts[i]);\n\t\tstream.writeUint32(this.sample_deltas[i]);\n\t}\n}\n\n// file:src/writing/tfdt.js\nBoxParser.tfdtBox.prototype.write = function(stream) {\n\tvar UINT32_MAX = Math.pow(2, 32) - 1;\n\t// use version 1 if baseMediaDecodeTime does not fit 32 bits\n\tthis.version = this.baseMediaDecodeTime > UINT32_MAX ? 1 : 0;\n\tthis.flags = 0;\n\tthis.size = 4;\n\tif (this.version === 1) {\n\t\tthis.size += 4;\n\t}\n\tthis.writeHeader(stream);\n\tif (this.version === 1) {\n\t\tstream.writeUint64(this.baseMediaDecodeTime);\n\t} else {\n\t\tstream.writeUint32(this.baseMediaDecodeTime);\n\t}\n}\n\n// file:src/writing/tfhd.js\nBoxParser.tfhdBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.size = 4;\n\tif (this.flags & BoxParser.TFHD_FLAG_BASE_DATA_OFFSET) {\n\t\tthis.size += 8;\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DESC) {\n\t\tthis.size += 4;\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DUR) {\n\t\tthis.size += 4;\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_SIZE) {\n\t\tthis.size += 4;\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_FLAGS) {\n\t\tthis.size += 4;\n\t}\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.track_id);\n\tif (this.flags & BoxParser.TFHD_FLAG_BASE_DATA_OFFSET) {\n\t\tstream.writeUint64(this.base_data_offset);\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DESC) {\n\t\tstream.writeUint32(this.default_sample_description_index);\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DUR) {\n\t\tstream.writeUint32(this.default_sample_duration);\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_SIZE) {\n\t\tstream.writeUint32(this.default_sample_size);\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_FLAGS) {\n\t\tstream.writeUint32(this.default_sample_flags);\n\t}\n}\n\n// file:src/writing/tkhd.js\nBoxParser.tkhdBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\t//this.flags = 0;\n\tthis.size = 4*18+2*4;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.creation_time);\n\tstream.writeUint32(this.modification_time);\n\tstream.writeUint32(this.track_id);\n\tstream.writeUint32(0);\n\tstream.writeUint32(this.duration);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeInt16(this.layer);\n\tstream.writeInt16(this.alternate_group);\n\tstream.writeInt16(this.volume<<8);\n\tstream.writeUint16(0);\n\tstream.writeInt32Array(this.matrix);\n\tstream.writeUint32(this.width);\n\tstream.writeUint32(this.height);\n}\n\n// file:src/writing/trex.js\nBoxParser.trexBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4*5;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.track_id);\n\tstream.writeUint32(this.default_sample_description_index);\n\tstream.writeUint32(this.default_sample_duration);\n\tstream.writeUint32(this.default_sample_size);\n\tstream.writeUint32(this.default_sample_flags);\n}\n\n// file:src/writing/trun.js\nBoxParser.trunBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.size = 4;\n\tif (this.flags & BoxParser.TRUN_FLAGS_DATA_OFFSET) {\n\t\tthis.size += 4;\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_FIRST_FLAG) {\n\t\tthis.size += 4;\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_DURATION) {\n\t\tthis.size += 4*this.sample_duration.length;\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_SIZE) {\n\t\tthis.size += 4*this.sample_size.length;\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_FLAGS) {\n\t\tthis.size += 4*this.sample_flags.length;\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_CTS_OFFSET) {\n\t\tthis.size += 4*this.sample_composition_time_offset.length;\n\t}\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.sample_count);\n\tif (this.flags & BoxParser.TRUN_FLAGS_DATA_OFFSET) {\n\t\tthis.data_offset_position = stream.getPosition();\n\t\tstream.writeInt32(this.data_offset); //signed\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_FIRST_FLAG) {\n\t\tstream.writeUint32(this.first_sample_flags);\n\t}\n\tfor (var i = 0; i < this.sample_count; i++) {\n\t\tif (this.flags & BoxParser.TRUN_FLAGS_DURATION) {\n\t\t\tstream.writeUint32(this.sample_duration[i]);\n\t\t}\n\t\tif (this.flags & BoxParser.TRUN_FLAGS_SIZE) {\n\t\t\tstream.writeUint32(this.sample_size[i]);\n\t\t}\n\t\tif (this.flags & BoxParser.TRUN_FLAGS_FLAGS) {\n\t\t\tstream.writeUint32(this.sample_flags[i]);\n\t\t}\n\t\tif (this.flags & BoxParser.TRUN_FLAGS_CTS_OFFSET) {\n\t\t\tif (this.version === 0) {\n\t\t\t\tstream.writeUint32(this.sample_composition_time_offset[i]);\n\t\t\t} else {\n\t\t\t\tstream.writeInt32(this.sample_composition_time_offset[i]); //signed\n\t\t\t}\n\t\t}\n\t}\t\t\n}\n\n// file:src/writing/url.js\nBoxParser[\"url Box\"].prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tif (this.location) {\n\t\tthis.flags = 0;\n\t\tthis.size = this.location.length+1;\n\t} else {\n\t\tthis.flags = 0x000001;\n\t\tthis.size = 0;\n\t}\n\tthis.writeHeader(stream);\n\tif (this.location) {\n\t\tstream.writeCString(this.location);\n\t}\n}\n\n// file:src/writing/urn.js\nBoxParser[\"urn Box\"].prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = this.name.length+1+(this.location ? this.location.length+1 : 0);\n\tthis.writeHeader(stream);\n\tstream.writeCString(this.name);\n\tif (this.location) {\n\t\tstream.writeCString(this.location);\n\t}\n}\n\n// file:src/writing/vmhd.js\nBoxParser.vmhdBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 1;\n\tthis.size = 8;\n\tthis.writeHeader(stream);\n\tstream.writeUint16(this.graphicsmode);\n\tstream.writeUint16Array(this.opcolor);\n}\n\n// file:src/box-unpack.js\n/* \n * Copyright (c) Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nBoxParser.cttsBox.prototype.unpack = function(samples) {\n\tvar i, j, k;\n\tk = 0;\n\tfor (i = 0; i < this.sample_counts.length; i++) {\n\t\tfor (j = 0; j < this.sample_counts[i]; j++) {\n\t\t\tsamples[k].pts = samples[k].dts + this.sample_offsets[i];\n\t\t\tk++;\n\t\t}\n\t}\n}\n\nBoxParser.sttsBox.prototype.unpack = function(samples) {\n\tvar i, j, k;\n\tk = 0;\n\tfor (i = 0; i < this.sample_counts.length; i++) {\n\t\tfor (j = 0; j < this.sample_counts[i]; j++) {\n\t\t\tif (k === 0) {\n\t\t\t\tsamples[k].dts = 0;\n\t\t\t} else {\n\t\t\t\tsamples[k].dts = samples[k-1].dts + this.sample_deltas[i];\n\t\t\t}\n\t\t\tk++;\n\t\t}\n\t}\n}\n\nBoxParser.stcoBox.prototype.unpack = function(samples) {\n\tvar i;\n\tfor (i = 0; i < this.chunk_offsets.length; i++) {\n\t\tsamples[i].offset = this.chunk_offsets[i];\n\t}\n}\n\nBoxParser.stscBox.prototype.unpack = function(samples) {\n\tvar i, j, k, l, m;\n\tl = 0;\n\tm = 0;\n\tfor (i = 0; i < this.first_chunk.length; i++) {\n\t\tfor (j = 0; j < (i+1 < this.first_chunk.length ? this.first_chunk[i+1] : Infinity); j++) {\n\t\t\tm++;\n\t\t\tfor (k = 0; k < this.samples_per_chunk[i]; k++) {\n\t\t\t\tif (samples[l]) {\n\t\t\t\t\tsamples[l].description_index = this.sample_description_index[i];\n\t\t\t\t\tsamples[l].chunk_index = m;\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tl++;\n\t\t\t}\t\t\t\n\t\t}\n\t}\n}\n\nBoxParser.stszBox.prototype.unpack = function(samples) {\n\tvar i;\n\tfor (i = 0; i < this.sample_sizes.length; i++) {\n\t\tsamples[i].size = this.sample_sizes[i];\n\t}\n}\n// file:src/box-diff.js\n\nBoxParser.DIFF_BOXES_PROP_NAMES = [ \"boxes\", \"entries\", \"references\", \"subsamples\",\n\t\t\t\t\t \t \"items\", \"item_infos\", \"extents\", \"associations\",\n\t\t\t\t\t \t \"subsegments\", \"ranges\", \"seekLists\", \"seekPoints\",\n\t\t\t\t\t \t \"esd\", \"levels\"];\n\nBoxParser.DIFF_PRIMITIVE_ARRAY_PROP_NAMES = [ \"compatible_brands\", \"matrix\", \"opcolor\", \"sample_counts\", \"sample_deltas\",\n\"first_chunk\", \"samples_per_chunk\", \"sample_sizes\", \"chunk_offsets\", \"sample_offsets\", \"sample_description_index\", \"sample_duration\" ];\n\nBoxParser.boxEqualFields = function(box_a, box_b) {\n\tif (box_a && !box_b) return false;\n\tvar prop;\n\tfor (prop in box_a) {\n\t\tif (BoxParser.DIFF_BOXES_PROP_NAMES.indexOf(prop) > -1) {\n\t\t\tcontinue;\n\t\t// } else if (excluded_fields && excluded_fields.indexOf(prop) > -1) {\n\t\t// \tcontinue;\n\t\t} else if (box_a[prop] instanceof BoxParser.Box || box_b[prop] instanceof BoxParser.Box) {\n\t\t\tcontinue;\n\t\t} else if (typeof box_a[prop] === \"undefined\" || typeof box_b[prop] === \"undefined\") {\n\t\t\tcontinue;\n\t\t} else if (typeof box_a[prop] === \"function\" || typeof box_b[prop] === \"function\") {\n\t\t\tcontinue;\n\t\t} else if (\n\t\t\t(box_a.subBoxNames && box_a.subBoxNames.indexOf(prop.slice(0,4)) > -1) ||\n\t\t\t(box_b.subBoxNames && box_b.subBoxNames.indexOf(prop.slice(0,4)) > -1))  {\n\t\t\tcontinue;\n\t\t} else {\n\t\t\tif (prop === \"data\" || prop === \"start\" || prop === \"size\" || prop === \"creation_time\" || prop === \"modification_time\") {\n\t\t\t\tcontinue;\n\t\t\t} else if (BoxParser.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(prop) > -1) {\n\t\t\t\tcontinue;\n\t\t\t} else {\n\t\t\t\tif (box_a[prop] !== box_b[prop]) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn true;\n}\n\nBoxParser.boxEqual = function(box_a, box_b) {\n\tif (!BoxParser.boxEqualFields(box_a, box_b)) {\n\t\treturn false;\n\t}\n\tfor (var j = 0; j < BoxParser.DIFF_BOXES_PROP_NAMES.length; j++) {\n\t\tvar name = BoxParser.DIFF_BOXES_PROP_NAMES[j];\n\t\tif (box_a[name] && box_b[name]) {\n\t\t\tif (!BoxParser.boxEqual(box_a[name], box_b[name])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\treturn true;\n}\n// file:src/text-mp4.js\n/* \n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar VTTin4Parser = function() {\t\n}\n\nVTTin4Parser.prototype.parseSample = function(data) {\n\tvar cues, cue;\n\tvar stream = new MP4BoxStream(data.buffer);\n\tcues = [];\n\twhile (!stream.isEos()) {\n\t\tcue = BoxParser.parseOneBox(stream, false);\n\t\tif (cue.code === BoxParser.OK && cue.box.type === \"vttc\") {\n\t\t\tcues.push(cue.box);\n\t\t}\t\t\n\t}\n\treturn cues;\n}\n\nVTTin4Parser.prototype.getText = function (startTime, endTime, data) {\n\tfunction pad(n, width, z) {\n\t  z = z || '0';\n\t  n = n + '';\n\t  return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;\n\t}\n\tfunction secToTimestamp(insec) {\n\t\tvar h = Math.floor(insec/3600);\n\t\tvar m = Math.floor((insec - h*3600)/60);\n\t\tvar s = Math.floor(insec - h*3600 - m*60);\n\t\tvar ms = Math.floor((insec - h*3600 - m*60 - s)*1000);\n\t\treturn \"\"+pad(h, 2)+\":\"+pad(m,2)+\":\"+pad(s, 2)+\".\"+pad(ms, 3);\n\t}\n\tvar cues = this.parseSample(data);\n\tvar string = \"\";\n\tfor (var i = 0; i < cues.length; i++) {\n\t\tvar cueIn4 = cues[i];\n\t\tstring += secToTimestamp(startTime)+\" --> \"+secToTimestamp(endTime)+\"\\r\\n\";\n\t\tstring += cueIn4.payl.text;\n\t}\n\treturn string;\n}\n\nvar XMLSubtitlein4Parser = function() {\t\n}\n\nXMLSubtitlein4Parser.prototype.parseSample = function(sample) {\n\tvar res = {};\t\n\tvar i;\n\tres.resources = [];\n\tvar stream = new MP4BoxStream(sample.data.buffer);\n\tif (!sample.subsamples || sample.subsamples.length === 0) {\n\t\tres.documentString = stream.readString(sample.data.length);\n\t} else {\n\t\tres.documentString = stream.readString(sample.subsamples[0].size);\n\t\tif (sample.subsamples.length > 1) {\n\t\t\tfor (i = 1; i < sample.subsamples.length; i++) {\n\t\t\t\tres.resources[i] = stream.readUint8Array(sample.subsamples[i].size);\n\t\t\t}\n\t\t}\n\t}\n\tif (typeof (DOMParser) !== \"undefined\") {\n\t\tres.document = (new DOMParser()).parseFromString(res.documentString, \"application/xml\");\n\t}\n\treturn res;\n}\n\nvar Textin4Parser = function() {\t\n}\n\nTextin4Parser.prototype.parseSample = function(sample) {\n\tvar textString;\n\tvar stream = new MP4BoxStream(sample.data.buffer);\n\ttextString = stream.readString(sample.data.length);\n\treturn textString;\n}\n\nTextin4Parser.prototype.parseConfig = function(data) {\n\tvar textString;\n\tvar stream = new MP4BoxStream(data.buffer);\n\tstream.readUint32(); // version & flags\n\ttextString = stream.readCString();\n\treturn textString;\n}\n\nif (true) {\n\texports.VTTin4Parser = VTTin4Parser;\n\texports.XMLSubtitlein4Parser = XMLSubtitlein4Parser;\n\texports.Textin4Parser = Textin4Parser;\n}\n// file:src/isofile.js\n/*\n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar ISOFile = function (stream) {\n\t/* MutiBufferStream object used to parse boxes */\n\tthis.stream = stream || new MultiBufferStream();\n\t/* Array of all boxes (in order) found in the file */\n\tthis.boxes = [];\n\t/* Array of all mdats */\n\tthis.mdats = [];\n\t/* Array of all moofs */\n\tthis.moofs = [];\n\t/* Boolean indicating if the file is compatible with progressive parsing (moov first) */\n\tthis.isProgressive = false;\n\t/* Boolean used to fire moov start event only once */\n\tthis.moovStartFound = false;\n\t/* Callback called when the moov parsing starts */\n\tthis.onMoovStart = null;\n\t/* Boolean keeping track of the call to onMoovStart, to avoid double calls */\n\tthis.moovStartSent = false;\n\t/* Callback called when the moov is entirely parsed */\n\tthis.onReady = null;\n\t/* Boolean keeping track of the call to onReady, to avoid double calls */\n\tthis.readySent = false;\n\t/* Callback to call when segments are ready */\n\tthis.onSegment = null;\n\t/* Callback to call when samples are ready */\n\tthis.onSamples = null;\n\t/* Callback to call when there is an error in the parsing or processing of samples */\n\tthis.onError = null;\n\t/* Boolean indicating if the moov box run-length encoded tables of sample information have been processed */\n\tthis.sampleListBuilt = false;\n\t/* Array of Track objects for which fragmentation of samples is requested */\n\tthis.fragmentedTracks = [];\n\t/* Array of Track objects for which extraction of samples is requested */\n\tthis.extractedTracks = [];\n\t/* Boolean indicating that fragmention is ready */\n\tthis.isFragmentationInitialized = false;\n\t/* Boolean indicating that fragmented has started */\n\tthis.sampleProcessingStarted = false;\n\t/* Number of the next 'moof' to generate when fragmenting */\n\tthis.nextMoofNumber = 0;\n\t/* Boolean indicating if the initial list of items has been produced */\n\tthis.itemListBuilt = false;\n\t/* Array of items */\n\tthis.items = [];\n\t/* Array of entity groups */\n\tthis.entity_groups = [];\n\t/* Callback called when the sidx box is entirely parsed */\n\tthis.onSidx = null;\n\t/* Boolean keeping track of the call to onSidx, to avoid double calls */\n\tthis.sidxSent = false;\n}\n\nISOFile.prototype.setSegmentOptions = function(id, user, options) {\n\tvar trak = this.getTrackById(id);\n\tif (trak) {\n\t\tvar fragTrack = {};\n\t\tthis.fragmentedTracks.push(fragTrack);\n\t\tfragTrack.id = id;\n\t\tfragTrack.user = user;\n\t\tfragTrack.trak = trak;\n\t\ttrak.nextSample = 0;\n\t\tfragTrack.segmentStream = null;\n\t\tfragTrack.nb_samples = 1000;\n\t\tfragTrack.rapAlignement = true;\n\t\tif (options) {\n\t\t\tif (options.nbSamples) fragTrack.nb_samples = options.nbSamples;\n\t\t\tif (options.rapAlignement) fragTrack.rapAlignement = options.rapAlignement;\n\t\t}\n\t}\n}\n\nISOFile.prototype.unsetSegmentOptions = function(id) {\n\tvar index = -1;\n\tfor (var i = 0; i < this.fragmentedTracks.length; i++) {\n\t\tvar fragTrack = this.fragmentedTracks[i];\n\t\tif (fragTrack.id == id) {\n\t\t\tindex = i;\n\t\t}\n\t}\n\tif (index > -1) {\n\t\tthis.fragmentedTracks.splice(index, 1);\n\t}\n}\n\nISOFile.prototype.setExtractionOptions = function(id, user, options) {\n\tvar trak = this.getTrackById(id);\n\tif (trak) {\n\t\tvar extractTrack = {};\n\t\tthis.extractedTracks.push(extractTrack);\n\t\textractTrack.id = id;\n\t\textractTrack.user = user;\n\t\textractTrack.trak = trak;\n\t\ttrak.nextSample = 0;\n\t\textractTrack.nb_samples = 1000;\n\t\textractTrack.samples = [];\n\t\tif (options) {\n\t\t\tif (options.nbSamples) extractTrack.nb_samples = options.nbSamples;\n\t\t}\n\t}\n}\n\nISOFile.prototype.unsetExtractionOptions = function(id) {\n\tvar index = -1;\n\tfor (var i = 0; i < this.extractedTracks.length; i++) {\n\t\tvar extractTrack = this.extractedTracks[i];\n\t\tif (extractTrack.id == id) {\n\t\t\tindex = i;\n\t\t}\n\t}\n\tif (index > -1) {\n\t\tthis.extractedTracks.splice(index, 1);\n\t}\n}\n\nISOFile.prototype.parse = function() {\n\tvar found;\n\tvar ret;\n\tvar box;\n\tvar parseBoxHeadersOnly = false;\n\n\tif (this.restoreParsePosition)\t{\n\t\tif (!this.restoreParsePosition()) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\twhile (true) {\n\n\t\tif (this.hasIncompleteMdat && this.hasIncompleteMdat()) {\n\t\t\tif (this.processIncompleteMdat()) {\n\t\t\t\tcontinue;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.saveParsePosition)\t{\n\t\t\t\tthis.saveParsePosition();\n\t\t\t}\n\t\t\tret = BoxParser.parseOneBox(this.stream, parseBoxHeadersOnly);\n\t\t\tif (ret.code === BoxParser.ERR_NOT_ENOUGH_DATA) {\n\t\t\t\tif (this.processIncompleteBox) {\n\t\t\t\t\tif (this.processIncompleteBox(ret)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar box_type;\n\t\t\t\t/* the box is entirely parsed */\n\t\t\t\tbox = ret.box;\n\t\t\t\tbox_type = (box.type !== \"uuid\" ? box.type : box.uuid);\n\t\t\t\t/* store the box in the 'boxes' array to preserve box order (for file rewrite if needed)  */\n\t\t\t\tthis.boxes.push(box);\n\t\t\t\t/* but also store box in a property for more direct access */\n\t\t\t\tswitch (box_type) {\n\t\t\t\t\tcase \"mdat\":\n\t\t\t\t\t\tthis.mdats.push(box);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"moof\":\n\t\t\t\t\t\tthis.moofs.push(box);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"moov\":\n\t\t\t\t\t\tthis.moovStartFound = true;\n\t\t\t\t\t\tif (this.mdats.length === 0) {\n\t\t\t\t\t\t\tthis.isProgressive = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t/* no break */\n\t\t\t\t\t\t/* falls through */\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif (this[box_type] !== undefined) {\n\t\t\t\t\t\t\tLog.warn(\"ISOFile\", \"Duplicate Box of type: \"+box_type+\", overriding previous occurrence\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis[box_type] = box;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (this.updateUsedBytes) {\n\t\t\t\t\tthis.updateUsedBytes(box, ret);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nISOFile.prototype.checkBuffer = function (ab) {\n\tif (ab === null || ab === undefined) {\n\t\tthrow(\"Buffer must be defined and non empty\");\n\t}\n\tif (ab.fileStart === undefined) {\n\t\tthrow(\"Buffer must have a fileStart property\");\n\t}\n\tif (ab.byteLength === 0) {\n\t\tLog.warn(\"ISOFile\", \"Ignoring empty buffer (fileStart: \"+ab.fileStart+\")\");\n\t\tthis.stream.logBufferLevel();\n\t\treturn false;\n\t}\n\tLog.info(\"ISOFile\", \"Processing buffer (fileStart: \"+ab.fileStart+\")\");\n\n\t/* mark the bytes in the buffer as not being used yet */\n\tab.usedBytes = 0;\n\tthis.stream.insertBuffer(ab);\n\tthis.stream.logBufferLevel();\n\n\tif (!this.stream.initialized()) {\n\t\tLog.warn(\"ISOFile\", \"Not ready to start parsing\");\n\t\treturn false;\n\t}\n\treturn true;\n}\n\n/* Processes a new ArrayBuffer (with a fileStart property)\n   Returns the next expected file position, or undefined if not ready to parse */\nISOFile.prototype.appendBuffer = function(ab, last) {\n\tvar nextFileStart;\n\tif (!this.checkBuffer(ab)) {\n\t\treturn;\n\t}\n\n\t/* Parse whatever is in the existing buffers */\n\tthis.parse();\n\n\t/* Check if the moovStart callback needs to be called */\n\tif (this.moovStartFound && !this.moovStartSent) {\n\t\tthis.moovStartSent = true;\n\t\tif (this.onMoovStart) this.onMoovStart();\n\t}\n\n\tif (this.moov) {\n\t\t/* A moov box has been entirely parsed */\n\n\t\t/* if this is the first call after the moov is found we initialize the list of samples (may be empty in fragmented files) */\n\t\tif (!this.sampleListBuilt) {\n\t\t\tthis.buildSampleLists();\n\t\t\tthis.sampleListBuilt = true;\n\t\t}\n\n\t\t/* We update the sample information if there are any new moof boxes */\n\t\tthis.updateSampleLists();\n\n\t\t/* If the application needs to be informed that the 'moov' has been found,\n\t\t   we create the information object and callback the application */\n\t\tif (this.onReady && !this.readySent) {\n\t\t\tthis.readySent = true;\n\t\t\tthis.onReady(this.getInfo());\n\t\t}\n\n\t\t/* See if any sample extraction or segment creation needs to be done with the available samples */\n\t\tthis.processSamples(last);\n\n\t\t/* Inform about the best range to fetch next */\n\t\tif (this.nextSeekPosition) {\n\t\t\tnextFileStart = this.nextSeekPosition;\n\t\t\tthis.nextSeekPosition = undefined;\n\t\t} else {\n\t\t\tnextFileStart = this.nextParsePosition;\n\t\t}\n\t\tif (this.stream.getEndFilePositionAfter) {\n\t\t\tnextFileStart = this.stream.getEndFilePositionAfter(nextFileStart);\n\t\t}\n\t} else {\n\t\tif (this.nextParsePosition) {\n\t\t\t/* moov has not been parsed but the first buffer was received,\n\t\t\t   the next fetch should probably be the next box start */\n\t\t\tnextFileStart = this.nextParsePosition;\n\t\t} else {\n\t\t\t/* No valid buffer has been parsed yet, we cannot know what to parse next */\n\t\t\tnextFileStart = 0;\n\t\t}\n\t}\n\tif (this.sidx) {\n\t\tif (this.onSidx && !this.sidxSent) {\n\t\t\tthis.onSidx(this.sidx);\n\t\t\tthis.sidxSent = true;\n\t\t}\n\t}\n\tif (this.meta) {\n\t\tif (this.flattenItemInfo && !this.itemListBuilt) {\n\t\t\tthis.flattenItemInfo();\n\t\t\tthis.itemListBuilt = true;\n\t\t}\n\t\tif (this.processItems) {\n\t\t\tthis.processItems(this.onItem);\n\t\t}\n\t}\n\n\tif (this.stream.cleanBuffers) {\n\t\tLog.info(\"ISOFile\", \"Done processing buffer (fileStart: \"+ab.fileStart+\") - next buffer to fetch should have a fileStart position of \"+nextFileStart);\n\t\tthis.stream.logBufferLevel();\n\t\tthis.stream.cleanBuffers();\n\t\tthis.stream.logBufferLevel(true);\n\t\tLog.info(\"ISOFile\", \"Sample data size in memory: \"+this.getAllocatedSampleDataSize());\n\t}\n\treturn nextFileStart;\n}\n\nISOFile.prototype.getInfo = function() {\n\tvar i, j;\n\tvar movie = {};\n\tvar trak;\n\tvar track;\n\tvar ref;\n\tvar sample_desc;\n\tvar _1904 = (new Date('1904-01-01T00:00:00Z').getTime());\n\n\tif (this.moov) {\n\t\tmovie.hasMoov = true;\n\t\tmovie.duration = this.moov.mvhd.duration;\n\t\tmovie.timescale = this.moov.mvhd.timescale;\n\t\tmovie.isFragmented = (this.moov.mvex != null);\n\t\tif (movie.isFragmented && this.moov.mvex.mehd) {\n\t\t\tmovie.fragment_duration = this.moov.mvex.mehd.fragment_duration;\n\t\t}\n\t\tmovie.isProgressive = this.isProgressive;\n\t\tmovie.hasIOD = (this.moov.iods != null);\n\t\tmovie.brands = [];\n\t\tmovie.brands.push(this.ftyp.major_brand);\n\t\tmovie.brands = movie.brands.concat(this.ftyp.compatible_brands);\n\t\tmovie.created = new Date(_1904+this.moov.mvhd.creation_time*1000);\n\t\tmovie.modified = new Date(_1904+this.moov.mvhd.modification_time*1000);\n\t\tmovie.tracks = [];\n\t\tmovie.audioTracks = [];\n\t\tmovie.videoTracks = [];\n\t\tmovie.subtitleTracks = [];\n\t\tmovie.metadataTracks = [];\n\t\tmovie.hintTracks = [];\n\t\tmovie.otherTracks = [];\n\t\tfor (i = 0; i < this.moov.traks.length; i++) {\n\t\t\ttrak = this.moov.traks[i];\n\t\t\tsample_desc = trak.mdia.minf.stbl.stsd.entries[0];\n\t\t\ttrack = {};\n\t\t\tmovie.tracks.push(track);\n\t\t\ttrack.id = trak.tkhd.track_id;\n\t\t\ttrack.name = trak.mdia.hdlr.name;\n\t\t\ttrack.references = [];\n\t\t\tif (trak.tref) {\n\t\t\t\tfor (j = 0; j < trak.tref.boxes.length; j++) {\n\t\t\t\t\tref = {};\n\t\t\t\t\ttrack.references.push(ref);\n\t\t\t\t\tref.type = trak.tref.boxes[j].type;\n\t\t\t\t\tref.track_ids = trak.tref.boxes[j].track_ids;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (trak.edts) {\n\t\t\t\ttrack.edits = trak.edts.elst.entries;\n\t\t\t}\n\t\t\ttrack.created = new Date(_1904+trak.tkhd.creation_time*1000);\n\t\t\ttrack.modified = new Date(_1904+trak.tkhd.modification_time*1000);\n\t\t\ttrack.movie_duration = trak.tkhd.duration;\n\t\t\ttrack.movie_timescale = movie.timescale;\n\t\t\ttrack.layer = trak.tkhd.layer;\n\t\t\ttrack.alternate_group = trak.tkhd.alternate_group;\n\t\t\ttrack.volume = trak.tkhd.volume;\n\t\t\ttrack.matrix = trak.tkhd.matrix;\n\t\t\ttrack.track_width = trak.tkhd.width/(1<<16);\n\t\t\ttrack.track_height = trak.tkhd.height/(1<<16);\n\t\t\ttrack.timescale = trak.mdia.mdhd.timescale;\n\t\t\ttrack.cts_shift = trak.mdia.minf.stbl.cslg;\n\t\t\ttrack.duration = trak.mdia.mdhd.duration;\n\t\t\ttrack.samples_duration = trak.samples_duration;\n\t\t\ttrack.codec = sample_desc.getCodec();\n\t\t\ttrack.kind = (trak.udta && trak.udta.kinds.length ? trak.udta.kinds[0] : { schemeURI: \"\", value: \"\"});\n\t\t\ttrack.language = (trak.mdia.elng ? trak.mdia.elng.extended_language : trak.mdia.mdhd.languageString);\n\t\t\ttrack.nb_samples = trak.samples.length;\n\t\t\ttrack.size = trak.samples_size;\n\t\t\ttrack.bitrate = (track.size*8*track.timescale)/track.samples_duration;\n\t\t\tif (sample_desc.isAudio()) {\n\t\t\t\ttrack.type = \"audio\";\n\t\t\t\tmovie.audioTracks.push(track);\n\t\t\t\ttrack.audio = {};\n\t\t\t\ttrack.audio.sample_rate = sample_desc.getSampleRate();\n\t\t\t\ttrack.audio.channel_count = sample_desc.getChannelCount();\n\t\t\t\ttrack.audio.sample_size = sample_desc.getSampleSize();\n\t\t\t} else if (sample_desc.isVideo()) {\n\t\t\t\ttrack.type = \"video\";\n\t\t\t\tmovie.videoTracks.push(track);\n\t\t\t\ttrack.video = {};\n\t\t\t\ttrack.video.width = sample_desc.getWidth();\n\t\t\t\ttrack.video.height = sample_desc.getHeight();\n\t\t\t} else if (sample_desc.isSubtitle()) {\n\t\t\t\ttrack.type = \"subtitles\";\n\t\t\t\tmovie.subtitleTracks.push(track);\n\t\t\t} else if (sample_desc.isHint()) {\n\t\t\t\ttrack.type = \"metadata\";\n\t\t\t\tmovie.hintTracks.push(track);\n\t\t\t} else if (sample_desc.isMetadata()) {\n\t\t\t\ttrack.type = \"metadata\";\n\t\t\t\tmovie.metadataTracks.push(track);\n\t\t\t} else {\n\t\t\t\ttrack.type = \"metadata\";\n\t\t\t\tmovie.otherTracks.push(track);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tmovie.hasMoov = false;\n\t}\n\tmovie.mime = \"\";\n\tif (movie.hasMoov && movie.tracks) {\n\t\tif (movie.videoTracks && movie.videoTracks.length > 0) {\n\t\t\tmovie.mime += 'video/mp4; codecs=\\\"';\n\t\t} else if (movie.audioTracks && movie.audioTracks.length > 0) {\n\t\t\tmovie.mime += 'audio/mp4; codecs=\\\"';\n\t\t} else {\n\t\t\tmovie.mime += 'application/mp4; codecs=\\\"';\n\t\t}\n\t\tfor (i = 0; i < movie.tracks.length; i++) {\n\t\t\tif (i !== 0) movie.mime += ',';\n\t\t\tmovie.mime+= movie.tracks[i].codec;\n\t\t}\n\t\tmovie.mime += '\\\"; profiles=\\\"';\n\t\tmovie.mime += this.ftyp.compatible_brands.join();\n\t\tmovie.mime += '\\\"';\n\t}\n\treturn movie;\n}\n\nISOFile.prototype.setNextSeekPositionFromSample = function (sample) {\n\tif (!sample) {\n\t\treturn;\n\t}\n\tif (this.nextSeekPosition) {\n\t\tthis.nextSeekPosition = Math.min(sample.offset+sample.alreadyRead,this.nextSeekPosition);\n\t} else {\n\t\tthis.nextSeekPosition = sample.offset+sample.alreadyRead;\n\t}\n}\n\nISOFile.prototype.processSamples = function(last) {\n\tvar i;\n\tvar trak;\n\tif (!this.sampleProcessingStarted) return;\n\n\t/* For each track marked for fragmentation,\n\t   check if the next sample is there (i.e. if the sample information is known (i.e. moof has arrived) and if it has been downloaded)\n\t   and create a fragment with it */\n\tif (this.isFragmentationInitialized && this.onSegment !== null) {\n\t\tfor (i = 0; i < this.fragmentedTracks.length; i++) {\n\t\t\tvar fragTrak = this.fragmentedTracks[i];\n\t\t\ttrak = fragTrak.trak;\n\t\t\twhile (trak.nextSample < trak.samples.length && this.sampleProcessingStarted) {\n\t\t\t\t/* The sample information is there (either because the file is not fragmented and this is not the last sample,\n\t\t\t\tor because the file is fragmented and the moof for that sample has been received */\n\t\t\t\tLog.debug(\"ISOFile\", \"Creating media fragment on track #\"+fragTrak.id +\" for sample \"+trak.nextSample);\n\t\t\t\tvar result = this.createFragment(fragTrak.id, trak.nextSample, fragTrak.segmentStream);\n\t\t\t\tif (result) {\n\t\t\t\t\tfragTrak.segmentStream = result;\n\t\t\t\t\ttrak.nextSample++;\n\t\t\t\t} else {\n\t\t\t\t\t/* The fragment could not be created because the media data is not there (not downloaded), wait for it */\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t/* A fragment is created by sample, but the segment is the accumulation in the buffer of these fragments.\n\t\t\t\t   It is flushed only as requested by the application (nb_samples) to avoid too many callbacks */\n\t\t\t\tif (trak.nextSample % fragTrak.nb_samples === 0 || (last || trak.nextSample >= trak.samples.length)) {\n\t\t\t\t\tLog.info(\"ISOFile\", \"Sending fragmented data on track #\"+fragTrak.id+\" for samples [\"+Math.max(0,trak.nextSample-fragTrak.nb_samples)+\",\"+(trak.nextSample-1)+\"]\");\n\t\t\t\t\tLog.info(\"ISOFile\", \"Sample data size in memory: \"+this.getAllocatedSampleDataSize());\n\t\t\t\t\tif (this.onSegment) {\n\t\t\t\t\t\tthis.onSegment(fragTrak.id, fragTrak.user, fragTrak.segmentStream.buffer, trak.nextSample, (last || trak.nextSample >= trak.samples.length));\n\t\t\t\t\t}\n\t\t\t\t\t/* force the creation of a new buffer */\n\t\t\t\t\tfragTrak.segmentStream = null;\n\t\t\t\t\tif (fragTrak !== this.fragmentedTracks[i]) {\n\t\t\t\t\t\t/* make sure we can stop fragmentation if needed */\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tif (this.onSamples !== null) {\n\t\t/* For each track marked for data export,\n\t\t   check if the next sample is there (i.e. has been downloaded) and send it */\n\t\tfor (i = 0; i < this.extractedTracks.length; i++) {\n\t\t\tvar extractTrak = this.extractedTracks[i];\n\t\t\ttrak = extractTrak.trak;\n\t\t\twhile (trak.nextSample < trak.samples.length && this.sampleProcessingStarted) {\n\t\t\t\tLog.debug(\"ISOFile\", \"Exporting on track #\"+extractTrak.id +\" sample #\"+trak.nextSample);\n\t\t\t\tvar sample = this.getSample(trak, trak.nextSample);\n\t\t\t\tif (sample) {\n\t\t\t\t\ttrak.nextSample++;\n\t\t\t\t\textractTrak.samples.push(sample);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setNextSeekPositionFromSample(trak.samples[trak.nextSample]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (trak.nextSample % extractTrak.nb_samples === 0 || trak.nextSample >= trak.samples.length) {\n\t\t\t\t\tLog.debug(\"ISOFile\", \"Sending samples on track #\"+extractTrak.id+\" for sample \"+trak.nextSample);\n\t\t\t\t\tif (this.onSamples) {\n\t\t\t\t\t\tthis.onSamples(extractTrak.id, extractTrak.user, extractTrak.samples);\n\t\t\t\t\t}\n\t\t\t\t\textractTrak.samples = [];\n\t\t\t\t\tif (extractTrak !== this.extractedTracks[i]) {\n\t\t\t\t\t\t/* check if the extraction needs to be stopped */\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* Find and return specific boxes using recursion and early return */\nISOFile.prototype.getBox = function(type) {\n  var result = this.getBoxes(type, true);\n  return (result.length ? result[0] : null);\n}\n\nISOFile.prototype.getBoxes = function(type, returnEarly) {\n  var result = [];\n  ISOFile._sweep.call(this, type, result, returnEarly);\n  return result;\n}\n\nISOFile._sweep = function(type, result, returnEarly) {\n  if (this.type && this.type == type) result.push(this);\n  for (var box in this.boxes) {\n    if (result.length && returnEarly) return;\n    ISOFile._sweep.call(this.boxes[box], type, result, returnEarly);\n  }\n}\n\nISOFile.prototype.getTrackSamplesInfo = function(track_id) {\n\tvar track = this.getTrackById(track_id);\n\tif (track) {\n\t\treturn track.samples;\n\t} else {\n\t\treturn;\n\t}\n}\n\nISOFile.prototype.getTrackSample = function(track_id, number) {\n\tvar track = this.getTrackById(track_id);\n\tvar sample = this.getSample(track, number);\n\treturn sample;\n}\n\n/* Called by the application to release the resources associated to samples already forwarded to the application */\nISOFile.prototype.releaseUsedSamples = function (id, sampleNum) {\n\tvar size = 0;\n\tvar trak = this.getTrackById(id);\n\tif (!trak.lastValidSample) trak.lastValidSample = 0;\n\tfor (var i = trak.lastValidSample; i < sampleNum; i++) {\n\t\tsize+=this.releaseSample(trak, i);\n\t}\n\tLog.info(\"ISOFile\", \"Track #\"+id+\" released samples up to \"+sampleNum+\" (released size: \"+size+\", remaining: \"+this.samplesDataSize+\")\");\n\ttrak.lastValidSample = sampleNum;\n}\n\nISOFile.prototype.start = function() {\n\tthis.sampleProcessingStarted = true;\n\tthis.processSamples(false);\n}\n\nISOFile.prototype.stop = function() {\n\tthis.sampleProcessingStarted = false;\n}\n\n/* Called by the application to flush the remaining samples (e.g. once the download is finished or when no more samples will be added) */\nISOFile.prototype.flush = function() {\n\tLog.info(\"ISOFile\", \"Flushing remaining samples\");\n\tthis.updateSampleLists();\n\tthis.processSamples(true);\n\tthis.stream.cleanBuffers();\n\tthis.stream.logBufferLevel(true);\n}\n\n/* Finds the byte offset for a given time on a given track\n   also returns the time of the previous rap */\nISOFile.prototype.seekTrack = function(time, useRap, trak) {\n\tvar j;\n\tvar sample;\n\tvar seek_offset = Infinity;\n\tvar rap_seek_sample_num = 0;\n\tvar seek_sample_num = 0;\n\tvar timescale;\n\n\tif (trak.samples.length === 0) {\n\t\tLog.info(\"ISOFile\", \"No sample in track, cannot seek! Using time \"+Log.getDurationString(0, 1) +\" and offset: \"+0);\n\t\treturn { offset: 0, time: 0 };\n\t}\n\n\tfor (j = 0; j < trak.samples.length; j++) {\n\t\tsample = trak.samples[j];\n\t\tif (j === 0) {\n\t\t\tseek_sample_num = 0;\n\t\t\ttimescale = sample.timescale;\n\t\t} else if (sample.cts > time * sample.timescale) {\n\t\t\tseek_sample_num = j-1;\n\t\t\tbreak;\n\t\t}\n\t\tif (useRap && sample.is_sync) {\n\t\t\trap_seek_sample_num = j;\n\t\t}\n\t}\n\tif (useRap) {\n\t\tseek_sample_num = rap_seek_sample_num;\n\t}\n\ttime = trak.samples[seek_sample_num].cts;\n\ttrak.nextSample = seek_sample_num;\n\twhile (trak.samples[seek_sample_num].alreadyRead === trak.samples[seek_sample_num].size) {\n\t\t// No remaining samples to look for, all are downloaded.\n\t\tif (!trak.samples[seek_sample_num + 1]) {\n\t\t\tbreak;\n\t\t}\n\t\tseek_sample_num++;\n\t}\n\tseek_offset = trak.samples[seek_sample_num].offset+trak.samples[seek_sample_num].alreadyRead;\n\tLog.info(\"ISOFile\", \"Seeking to \"+(useRap ? \"RAP\": \"\")+\" sample #\"+trak.nextSample+\" on track \"+trak.tkhd.track_id+\", time \"+Log.getDurationString(time, timescale) +\" and offset: \"+seek_offset);\n\treturn { offset: seek_offset, time: time/timescale };\n}\n\nISOFile.prototype.getTrackDuration = function (trak) {\n\tvar sample;\n\n\tif (!trak.samples) {\n\t\treturn Infinity;\n\t}\n\tsample = trak.samples[trak.samples.length - 1];\n\treturn (sample.cts + sample.duration) / sample.timescale;\n}\n\n/* Finds the byte offset in the file corresponding to the given time or to the time of the previous RAP */\nISOFile.prototype.seek = function(time, useRap) {\n\tvar moov = this.moov;\n\tvar trak;\n\tvar trak_seek_info;\n\tvar i;\n\tvar seek_info = { offset: Infinity, time: Infinity };\n\tif (!this.moov) {\n\t\tthrow \"Cannot seek: moov not received!\";\n\t} else {\n\t\tfor (i = 0; i<moov.traks.length; i++) {\n\t\t\ttrak = moov.traks[i];\n\t\t\tif (time > this.getTrackDuration(trak)) { // skip tracks that already ended\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\ttrak_seek_info = this.seekTrack(time, useRap, trak);\n\t\t\tif (trak_seek_info.offset < seek_info.offset) {\n\t\t\t\tseek_info.offset = trak_seek_info.offset;\n\t\t\t}\n\t\t\tif (trak_seek_info.time < seek_info.time) {\n\t\t\t\tseek_info.time = trak_seek_info.time;\n\t\t\t}\n\t\t}\n\t\tLog.info(\"ISOFile\", \"Seeking at time \"+Log.getDurationString(seek_info.time, 1)+\" needs a buffer with a fileStart position of \"+seek_info.offset);\n\t\tif (seek_info.offset === Infinity) {\n\t\t\t/* No sample info, in all tracks, cannot seek */\n\t\t\tseek_info = { offset: this.nextParsePosition, time: 0 };\n\t\t} else {\n\t\t\t/* check if the seek position is already in some buffer and\n\t\t\t in that case return the end of that buffer (or of the last contiguous buffer) */\n\t\t\t/* TODO: Should wait until append operations are done */\n\t\t\tseek_info.offset = this.stream.getEndFilePositionAfter(seek_info.offset);\n\t\t}\n\t\tLog.info(\"ISOFile\", \"Adjusted seek position (after checking data already in buffer): \"+seek_info.offset);\n\t\treturn seek_info;\n\t}\n}\n\nISOFile.prototype.equal = function(b) {\n\tvar box_index = 0;\n\twhile (box_index < this.boxes.length && box_index < b.boxes.length) {\n\t\tvar a_box = this.boxes[box_index];\n\t\tvar b_box = b.boxes[box_index];\n\t\tif (!BoxParser.boxEqual(a_box, b_box)) {\n\t\t\treturn false;\n\t\t}\n\t\tbox_index++;\n\t}\n\treturn true;\n}\n\nif (true) {\n\texports.ISOFile = ISOFile;\n}\n// file:src/isofile-advanced-parsing.js\n/* position in the current buffer of the beginning of the last box parsed */\nISOFile.prototype.lastBoxStartPosition = 0;\n/* indicator if the parsing is stuck in the middle of an mdat box */\nISOFile.prototype.parsingMdat = null;\n/* next file position that the parser needs:\n    - 0 until the first buffer (i.e. fileStart ===0) has been received \n    - otherwise, the next box start until the moov box has been parsed\n    - otherwise, the position of the next sample to fetch\n */\nISOFile.prototype.nextParsePosition = 0;\n/* keep mdat data */\nISOFile.prototype.discardMdatData = false;\n\nISOFile.prototype.processIncompleteBox = function(ret) {\n\tvar box;\n\tvar merged;\n\tvar found;\n\t\n\t/* we did not have enough bytes in the current buffer to parse the entire box */\n\tif (ret.type === \"mdat\") { \n\t\t/* we had enough bytes to get its type and size and it's an 'mdat' */\n\t\t\n\t\t/* special handling for mdat boxes, since we don't actually need to parse it linearly \n\t\t   we create the box */\n\t\tbox = new BoxParser[ret.type+\"Box\"](ret.size);\t\n\t\tthis.parsingMdat = box;\n\t\tthis.boxes.push(box);\n\t\tthis.mdats.push(box);\t\t\t\n\t\tbox.start = ret.start;\n\t\tbox.hdr_size = ret.hdr_size;\n\t\tthis.stream.addUsedBytes(box.hdr_size);\n\n\t\t/* indicate that the parsing should start from the end of the box */\n\t\tthis.lastBoxStartPosition = box.start + box.size;\n \t\t/* let's see if we have the end of the box in the other buffers */\n\t\tfound = this.stream.seek(box.start + box.size, false, this.discardMdatData);\n\t\tif (found) {\n\t\t\t/* found the end of the box */\n\t\t\tthis.parsingMdat = null;\n\t\t\t/* let's see if we can parse more in this buffer */\n\t\t\treturn true;\n\t\t} else {\n\t\t\t/* 'mdat' end not found in the existing buffers */\n\t\t\t/* determine the next position in the file to start parsing from */\n\t\t\tif (!this.moovStartFound) {\n\t\t\t\t/* moov not find yet, \n\t\t\t\t   the file probably has 'mdat' at the beginning, and 'moov' at the end, \n\t\t\t\t   indicate that the downloader should not try to download those bytes now */\n\t\t\t\tthis.nextParsePosition = box.start + box.size;\n\t\t\t} else {\n\t\t\t\t/* we have the start of the moov box, \n\t\t\t\t   the next bytes should try to complete the current 'mdat' */\n\t\t\t\tthis.nextParsePosition = this.stream.findEndContiguousBuf();\n\t\t\t}\n\t\t\t/* not much we can do, wait for more buffers to arrive */\n\t\t\treturn false;\n\t\t}\n\t} else {\n\t\t/* box is incomplete, we may not even know its type */\n\t\tif (ret.type === \"moov\") { \n\t\t\t/* the incomplete box is a 'moov' box */\n\t\t\tthis.moovStartFound = true;\n\t\t\tif (this.mdats.length === 0) {\n\t\t\t\tthis.isProgressive = true;\n\t\t\t}\n\t\t}\n\t\t/* either it's not an mdat box (and we need to parse it, we cannot skip it)\n\t\t   (TODO: we could skip 'free' boxes ...)\n\t\t\t   or we did not have enough data to parse the type and size of the box, \n\t\t   we try to concatenate the current buffer with the next buffer to restart parsing */\n\t\tmerged = (this.stream.mergeNextBuffer ? this.stream.mergeNextBuffer() : false);\n\t\tif (merged) {\n\t\t\t/* The next buffer was contiguous, the merging succeeded,\n\t\t\t   we can now continue parsing, \n\t\t\t   the next best position to parse is at the end of this new buffer */\n\t\t\tthis.nextParsePosition = this.stream.getEndPosition();\n\t\t\treturn true;\n\t\t} else {\n\t\t\t/* we cannot concatenate existing buffers because they are not contiguous or because there is no additional buffer */\n\t\t\t/* The next best position to parse is still at the end of this old buffer */\n\t\t\tif (!ret.type) {\n\t\t\t\t/* There were not enough bytes in the buffer to parse the box type and length,\n\t\t\t\t   the next fetch should retrieve those missing bytes, i.e. the next bytes after this buffer */\n\t\t\t\tthis.nextParsePosition = this.stream.getEndPosition();\n\t\t\t} else {\n\t\t\t\t/* we had enough bytes to parse size and type of the incomplete box\n\t\t\t\t   if we haven't found yet the moov box, skip this one and try the next one \n\t\t\t\t   if we have found the moov box, let's continue linear parsing */\n\t\t\t\tif (this.moovStartFound) {\n\t\t\t\t\tthis.nextParsePosition = this.stream.getEndPosition();\n\t\t\t\t} else {\n\t\t\t\t\tthis.nextParsePosition = this.stream.getPosition() + ret.size;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n}\n\nISOFile.prototype.hasIncompleteMdat = function () {\n\treturn (this.parsingMdat !== null);\n}\n\nISOFile.prototype.processIncompleteMdat = function () {\n\tvar box;\n\tvar found;\n\t\n\t/* we are in the parsing of an incomplete mdat box */\n\tbox = this.parsingMdat;\n\n\tfound = this.stream.seek(box.start + box.size, false, this.discardMdatData);\n\tif (found) {\n\t\tLog.debug(\"ISOFile\", \"Found 'mdat' end in buffered data\");\n\t\t/* the end of the mdat has been found */ \n\t\tthis.parsingMdat = null;\n\t\t/* we can parse more in this buffer */\n\t\treturn true;\n\t} else {\n\t\t/* we don't have the end of this mdat yet, \n\t\t   indicate that the next byte to fetch is the end of the buffers we have so far, \n\t\t   return and wait for more buffer to come */\n\t\tthis.nextParsePosition = this.stream.findEndContiguousBuf();\n\t\treturn false;\n\t}\n}\n\nISOFile.prototype.restoreParsePosition = function() {\n\t/* Reposition at the start position of the previous box not entirely parsed */\n\treturn this.stream.seek(this.lastBoxStartPosition, true, this.discardMdatData);\n}\n\nISOFile.prototype.saveParsePosition = function() {\n\t/* remember the position of the box start in case we need to roll back (if the box is incomplete) */\n\tthis.lastBoxStartPosition = this.stream.getPosition();\t\n}\n\nISOFile.prototype.updateUsedBytes = function(box, ret) {\n\tif (this.stream.addUsedBytes) {\n\t\tif (box.type === \"mdat\") {\n\t\t\t/* for an mdat box, only its header is considered used, other bytes will be used when sample data is requested */\n\t\t\tthis.stream.addUsedBytes(box.hdr_size);\n\t\t\tif (this.discardMdatData) {\n\t\t\t\tthis.stream.addUsedBytes(box.size-box.hdr_size);\n\t\t\t}\n\t\t} else {\n\t\t\t/* for all other boxes, the entire box data is considered used */\n\t\t\tthis.stream.addUsedBytes(box.size);\n\t\t}\t\n\t}\n}\n// file:src/isofile-advanced-creation.js\nISOFile.prototype.add = BoxParser.Box.prototype.add;\nISOFile.prototype.addBox = BoxParser.Box.prototype.addBox;\n\nISOFile.prototype.init = function (_options) {\n\tvar options = _options || {}; \n\tvar ftyp = this.add(\"ftyp\").set(\"major_brand\", (options.brands && options.brands[0]) || \"iso4\")\n\t\t\t\t\t\t\t   .set(\"minor_version\", 0)\n\t\t\t\t\t\t\t   .set(\"compatible_brands\", options.brands || [\"iso4\"]);\n\tvar moov = this.add(\"moov\");\n\tmoov.add(\"mvhd\").set(\"timescale\", options.timescale || 600)\n\t\t\t\t\t.set(\"rate\", options.rate || 1<<16)\n\t\t\t\t\t.set(\"creation_time\", 0)\n\t\t\t\t\t.set(\"modification_time\", 0)\n\t\t\t\t\t.set(\"duration\", options.duration || 0)\n\t\t\t\t\t.set(\"volume\", (options.width) ? 0 : 0x0100)\n\t\t\t\t\t.set(\"matrix\", [ 1<<16, 0, 0, 0, 1<<16, 0, 0, 0, 0x40000000])\n\t\t\t\t\t.set(\"next_track_id\", 1);\n\tmoov.add(\"mvex\");\n\treturn this;\n}\n\nISOFile.prototype.addTrack = function (_options) {\n\tif (!this.moov) {\n\t\tthis.init(_options);\n\t}\n\n\tvar options = _options || {}; \n\toptions.width = options.width || 320;\n\toptions.height = options.height || 320;\n\toptions.id = options.id || this.moov.mvhd.next_track_id;\n\toptions.type = options.type || \"avc1\";\n\n\tvar trak = this.moov.add(\"trak\");\n\tthis.moov.mvhd.next_track_id = options.id+1;\n\ttrak.add(\"tkhd\").set(\"flags\",BoxParser.TKHD_FLAG_ENABLED | \n\t\t\t\t\t\t\t\t BoxParser.TKHD_FLAG_IN_MOVIE | \n\t\t\t\t\t\t\t\t BoxParser.TKHD_FLAG_IN_PREVIEW)\n\t\t\t\t\t.set(\"creation_time\",0)\n\t\t\t\t\t.set(\"modification_time\", 0)\n\t\t\t\t\t.set(\"track_id\", options.id)\n\t\t\t\t\t.set(\"duration\", options.duration || 0)\n\t\t\t\t\t.set(\"layer\", options.layer || 0)\n\t\t\t\t\t.set(\"alternate_group\", 0)\n\t\t\t\t\t.set(\"volume\", 1)\n\t\t\t\t\t.set(\"matrix\", [ 1<<16, 0, 0, 0, 1<<16, 0, 0, 0, 0x40000000 ])\n\t\t\t\t\t.set(\"width\", options.width << 16)\n\t\t\t\t\t.set(\"height\", options.height << 16);\n\n\tvar mdia = trak.add(\"mdia\");\n\tmdia.add(\"mdhd\").set(\"creation_time\", 0)\n\t\t\t\t\t.set(\"modification_time\", 0)\n\t\t\t\t\t.set(\"timescale\", options.timescale || 1)\n\t\t\t\t\t.set(\"duration\", options.media_duration || 0)\n\t\t\t\t\t.set(\"language\", options.language || \"und\");\n\n\tmdia.add(\"hdlr\").set(\"handler\", options.hdlr || \"vide\")\n\t\t\t\t\t.set(\"name\", options.name || \"Track created with MP4Box.js\");\n\n\tmdia.add(\"elng\").set(\"extended_language\", options.language || \"fr-FR\");\n\n\tvar minf = mdia.add(\"minf\");\n\tif (BoxParser[options.type+\"SampleEntry\"] === undefined) return;\n\tvar sample_description_entry = new BoxParser[options.type+\"SampleEntry\"]();\n\tsample_description_entry.data_reference_index = 1;\n\tvar media_type = \"\";\n\tfor (var mediaType in BoxParser.sampleEntryCodes) {\n\t\tvar codes = BoxParser.sampleEntryCodes[mediaType];\n\t\tfor (var i = 0; i < codes.length; i++) {\n\t\t\tif (codes.indexOf(options.type) > -1) {\n\t\t\t\tmedia_type = mediaType;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tswitch(media_type) {\n\t\tcase \"Visual\":\n\t\t\tminf.add(\"vmhd\").set(\"graphicsmode\",0).set(\"opcolor\", [ 0, 0, 0 ]);\n\t\t\tsample_description_entry.set(\"width\", options.width)\n\t\t\t\t\t\t.set(\"height\", options.height)\n\t\t\t\t\t\t.set(\"horizresolution\", 0x48<<16)\n\t\t\t\t\t\t.set(\"vertresolution\", 0x48<<16)\n\t\t\t\t\t\t.set(\"frame_count\", 1)\n\t\t\t\t\t\t.set(\"compressorname\", options.type+\" Compressor\")\n\t\t\t\t\t\t.set(\"depth\", 0x18);\n\t\t\tif (options.avcDecoderConfigRecord) {\n\t\t\t\tvar avcC = new BoxParser.avcCBox();\n\t\t\t\tavcC.parse(new MP4BoxStream(options.avcDecoderConfigRecord));\n\t\t\t\tsample_description_entry.addBox(avcC);\n\t\t\t} else if (options.hevcDecoderConfigRecord) {\n\t\t\t\tvar hvcC = new BoxParser.hvcCBox();\n\t\t\t\thvcC.parse(new MP4BoxStream(options.hevcDecoderConfigRecord));\n\t\t\t\tsample_description_entry.addBox(hvcC);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"Audio\":\n\t\t\tminf.add(\"smhd\").set(\"balance\", options.balance || 0);\n\t\t\tsample_description_entry.set(\"channel_count\", options.channel_count || 2)\n\t\t\t\t\t\t.set(\"samplesize\", options.samplesize || 16)\n\t\t\t\t\t\t.set(\"samplerate\", options.samplerate || 1<<16);\n\t\t\tbreak;\n\t\tcase \"Hint\":\n\t\t\tminf.add(\"hmhd\"); // TODO: add properties\n\t\t\tbreak;\n\t\tcase \"Subtitle\":\n\t\t\tminf.add(\"sthd\");\n\t\t\tswitch (options.type) {\n\t\t\t\tcase \"stpp\":\n\t\t\t\t\tsample_description_entry.set(\"namespace\", options.namespace || \"nonamespace\")\n\t\t\t\t\t\t\t\t.set(\"schema_location\", options.schema_location || \"\")\n\t\t\t\t\t\t\t\t.set(\"auxiliary_mime_types\", options.auxiliary_mime_types || \"\");\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"Metadata\":\n\t\t\tminf.add(\"nmhd\");\n\t\t\tbreak;\n\t\tcase \"System\":\n\t\t\tminf.add(\"nmhd\");\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tminf.add(\"nmhd\");\n\t\t\tbreak;\n\t}\n\tif (options.description) {\n\t\tsample_description_entry.addBox(options.description);\n\t}\n\tif (options.description_boxes) {\n\t\toptions.description_boxes.forEach(function (b) {\n\t\t\tsample_description_entry.addBox(b);\n\t\t});\n\t}\n\tminf.add(\"dinf\").add(\"dref\").addEntry((new BoxParser[\"url Box\"]()).set(\"flags\", 0x1));\n\tvar stbl = minf.add(\"stbl\");\n\tstbl.add(\"stsd\").addEntry(sample_description_entry);\n\tstbl.add(\"stts\").set(\"sample_counts\", [])\n\t\t\t\t\t.set(\"sample_deltas\", []);\n\tstbl.add(\"stsc\").set(\"first_chunk\", [])\n\t\t\t\t\t.set(\"samples_per_chunk\", [])\n\t\t\t\t\t.set(\"sample_description_index\", []);\n\tstbl.add(\"stco\").set(\"chunk_offsets\", []);\n\tstbl.add(\"stsz\").set(\"sample_sizes\", []);\n\n\tthis.moov.mvex.add(\"trex\").set(\"track_id\", options.id)\n\t\t\t\t\t\t\t  .set(\"default_sample_description_index\", options.default_sample_description_index || 1)\n\t\t\t\t\t\t\t  .set(\"default_sample_duration\", options.default_sample_duration || 0)\n\t\t\t\t\t\t\t  .set(\"default_sample_size\", options.default_sample_size || 0)\n\t\t\t\t\t\t\t  .set(\"default_sample_flags\", options.default_sample_flags || 0);\n\tthis.buildTrakSampleLists(trak);\n\treturn options.id;\n}\n\nBoxParser.Box.prototype.computeSize = function(stream_) {\n\tvar stream = stream_ || new DataStream();\n\tstream.endianness = DataStream.BIG_ENDIAN;\n\tthis.write(stream);\n}\n\nISOFile.prototype.addSample = function (track_id, data, _options) {\n\tvar options = _options || {};\n\tvar sample = {};\n\tvar trak = this.getTrackById(track_id);\n\tif (trak === null) return;\n    sample.number = trak.samples.length;\n\tsample.track_id = trak.tkhd.track_id;\n\tsample.timescale = trak.mdia.mdhd.timescale;\n\tsample.description_index = (options.sample_description_index ? options.sample_description_index - 1: 0);\n\tsample.description = trak.mdia.minf.stbl.stsd.entries[sample.description_index];\n\tsample.data = data;\n\tsample.size = data.byteLength;\n\tsample.alreadyRead = sample.size;\n\tsample.duration = options.duration || 1;\n\tsample.cts = options.cts || 0;\n\tsample.dts = options.dts || 0;\n\tsample.is_sync = options.is_sync || false;\n\tsample.is_leading = options.is_leading || 0;\n\tsample.depends_on = options.depends_on || 0;\n\tsample.is_depended_on = options.is_depended_on || 0;\n\tsample.has_redundancy = options.has_redundancy || 0;\n\tsample.degradation_priority = options.degradation_priority || 0;\n\tsample.offset = 0;\n\tsample.subsamples = options.subsamples;\n\ttrak.samples.push(sample);\n\ttrak.samples_size += sample.size;\n\ttrak.samples_duration += sample.duration;\n\tif (trak.first_dts === undefined) {\n\t\ttrak.first_dts = options.dts;\n\t}\n\n\tthis.processSamples();\n\t\n\tvar moof = this.createSingleSampleMoof(sample);\n\tthis.addBox(moof);\n\tmoof.computeSize();\n\t/* adjusting the data_offset now that the moof size is known*/\n\tmoof.trafs[0].truns[0].data_offset = moof.size+8; //8 is mdat header\n\tthis.add(\"mdat\").data = new Uint8Array(data);\n\treturn sample;\n}\n\nISOFile.prototype.createSingleSampleMoof = function(sample) {\n\tvar sample_flags = 0;\n\tif (sample.is_sync)\n\t\tsample_flags = (1 << 25);  // sample_depends_on_none (I picture)\n\telse\n\t\tsample_flags = (1 << 16);  // non-sync\n\n\tvar moof = new BoxParser.moofBox();\n\tmoof.add(\"mfhd\").set(\"sequence_number\", this.nextMoofNumber);\n\tthis.nextMoofNumber++;\n\tvar traf = moof.add(\"traf\");\n\tvar trak = this.getTrackById(sample.track_id);\n\ttraf.add(\"tfhd\").set(\"track_id\", sample.track_id)\n\t\t\t\t\t.set(\"flags\", BoxParser.TFHD_FLAG_DEFAULT_BASE_IS_MOOF);\n\ttraf.add(\"tfdt\").set(\"baseMediaDecodeTime\", (sample.dts - (trak.first_dts || 0)));\n\ttraf.add(\"trun\").set(\"flags\", BoxParser.TRUN_FLAGS_DATA_OFFSET | BoxParser.TRUN_FLAGS_DURATION | \n\t\t\t\t \t\t\t\t  BoxParser.TRUN_FLAGS_SIZE | BoxParser.TRUN_FLAGS_FLAGS | \n\t\t\t\t \t\t\t\t  BoxParser.TRUN_FLAGS_CTS_OFFSET)\n\t\t\t\t\t.set(\"data_offset\",0)\n\t\t\t\t\t.set(\"first_sample_flags\",0)\n\t\t\t\t\t.set(\"sample_count\",1)\n\t\t\t\t\t.set(\"sample_duration\",[sample.duration])\n\t\t\t\t\t.set(\"sample_size\",[sample.size])\n\t\t\t\t\t.set(\"sample_flags\",[sample_flags])\n\t\t\t\t\t.set(\"sample_composition_time_offset\", [sample.cts - sample.dts]);\n\treturn moof;\n}\n\n// file:src/isofile-sample-processing.js\n/* Index of the last moof box received */\nISOFile.prototype.lastMoofIndex = 0;\n\n/* size of the buffers allocated for samples */\nISOFile.prototype.samplesDataSize = 0;\n\n/* Resets all sample tables */\nISOFile.prototype.resetTables = function () {\n\tvar i;\n\tvar trak, stco, stsc, stsz, stts, ctts, stss;\n\tthis.initial_duration = this.moov.mvhd.duration;\n\tthis.moov.mvhd.duration = 0;\n\tfor (i = 0; i < this.moov.traks.length; i++) {\n\t\ttrak = this.moov.traks[i];\n\t\ttrak.tkhd.duration = 0;\n\t\ttrak.mdia.mdhd.duration = 0;\n\t\tstco = trak.mdia.minf.stbl.stco || trak.mdia.minf.stbl.co64;\n\t\tstco.chunk_offsets = [];\n\t\tstsc = trak.mdia.minf.stbl.stsc;\n\t\tstsc.first_chunk = [];\n\t\tstsc.samples_per_chunk = [];\n\t\tstsc.sample_description_index = [];\n\t\tstsz = trak.mdia.minf.stbl.stsz || trak.mdia.minf.stbl.stz2;\n\t\tstsz.sample_sizes = [];\n\t\tstts = trak.mdia.minf.stbl.stts;\n\t\tstts.sample_counts = [];\n\t\tstts.sample_deltas = [];\n\t\tctts = trak.mdia.minf.stbl.ctts;\n\t\tif (ctts) {\n\t\t\tctts.sample_counts = [];\n\t\t\tctts.sample_offsets = [];\n\t\t}\n\t\tstss = trak.mdia.minf.stbl.stss;\n\t\tvar k = trak.mdia.minf.stbl.boxes.indexOf(stss);\n\t\tif (k != -1) trak.mdia.minf.stbl.boxes[k] = null;\n\t}\n}\n\nISOFile.initSampleGroups = function(trak, traf, sbgps, trak_sgpds, traf_sgpds) {\n\tvar l;\n\tvar k;\n\tvar sample_groups_info;\n\tvar sample_group_info;\n\tvar sample_group_key;\n\tfunction SampleGroupInfo(_type, _parameter, _sbgp) {\n\t\tthis.grouping_type = _type;\n\t\tthis.grouping_type_parameter = _parameter;\n\t\tthis.sbgp = _sbgp;\n\t\tthis.last_sample_in_run = -1;\n\t\tthis.entry_index = -1;\t\t\n\t}\n\tif (traf) {\n\t\ttraf.sample_groups_info = [];\n\t} \n\tif (!trak.sample_groups_info) {\n\t\ttrak.sample_groups_info = [];\n\t}\n\tfor (k = 0; k < sbgps.length; k++) {\n\t\tsample_group_key = sbgps[k].grouping_type +\"/\"+ sbgps[k].grouping_type_parameter;\n\t\tsample_group_info = new SampleGroupInfo(sbgps[k].grouping_type, sbgps[k].grouping_type_parameter, sbgps[k]);\n\t\tif (traf) {\n\t\t\ttraf.sample_groups_info[sample_group_key] = sample_group_info;\n\t\t}\n\t\tif (!trak.sample_groups_info[sample_group_key]) {\n\t\t\ttrak.sample_groups_info[sample_group_key] = sample_group_info;\n\t\t}\n\t\tfor (l=0; l <trak_sgpds.length; l++) {\n\t\t\tif (trak_sgpds[l].grouping_type === sbgps[k].grouping_type) {\n\t\t\t\tsample_group_info.description = trak_sgpds[l];\n\t\t\t\tsample_group_info.description.used = true;\n\t\t\t}\n\t\t}\n\t\tif (traf_sgpds) {\n\t\t\tfor (l=0; l <traf_sgpds.length; l++) {\n\t\t\t\tif (traf_sgpds[l].grouping_type === sbgps[k].grouping_type) {\n\t\t\t\t\tsample_group_info.fragment_description = traf_sgpds[l];\n\t\t\t\t\tsample_group_info.fragment_description.used = true;\n\t\t\t\t\tsample_group_info.is_fragment = true;\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t}\n\t}\n\tif (!traf) {\n\t\tfor (k = 0; k < trak_sgpds.length; k++) {\n\t\t\tif (!trak_sgpds[k].used && trak_sgpds[k].version >= 2) {\n\t\t\t\tsample_group_key = trak_sgpds[k].grouping_type +\"/0\";\n\t\t\t\tsample_group_info = new SampleGroupInfo(trak_sgpds[k].grouping_type, 0);\n\t\t\t\tif (!trak.sample_groups_info[sample_group_key]) {\n\t\t\t\t\ttrak.sample_groups_info[sample_group_key] = sample_group_info;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif (traf_sgpds) {\n\t\t\tfor (k = 0; k < traf_sgpds.length; k++) {\n\t\t\t\tif (!traf_sgpds[k].used && traf_sgpds[k].version >= 2) {\n\t\t\t\t\tsample_group_key = traf_sgpds[k].grouping_type +\"/0\";\n\t\t\t\t\tsample_group_info = new SampleGroupInfo(traf_sgpds[k].grouping_type, 0);\n\t\t\t\t\tsample_group_info.is_fragment = true;\n\t\t\t\t\tif (!traf.sample_groups_info[sample_group_key]) {\n\t\t\t\t\t\ttraf.sample_groups_info[sample_group_key] = sample_group_info;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nISOFile.setSampleGroupProperties = function(trak, sample, sample_number, sample_groups_info) {\n\tvar k;\n\tvar index;\n\tsample.sample_groups = [];\n\tfor (k in sample_groups_info) {\n\t\tsample.sample_groups[k] = {};\n\t\tsample.sample_groups[k].grouping_type = sample_groups_info[k].grouping_type;\n\t\tsample.sample_groups[k].grouping_type_parameter = sample_groups_info[k].grouping_type_parameter;\n\t\tif (sample_number >= sample_groups_info[k].last_sample_in_run) {\n\t\t\tif (sample_groups_info[k].last_sample_in_run < 0) {\n\t\t\t\tsample_groups_info[k].last_sample_in_run = 0;\n\t\t\t}\n\t\t\tsample_groups_info[k].entry_index++;\t\n\t\t\tif (sample_groups_info[k].entry_index <= sample_groups_info[k].sbgp.entries.length - 1) {\n\t\t\t\tsample_groups_info[k].last_sample_in_run += sample_groups_info[k].sbgp.entries[sample_groups_info[k].entry_index].sample_count;\n\t\t\t}\n\t\t}\n\t\tif (sample_groups_info[k].entry_index <= sample_groups_info[k].sbgp.entries.length - 1) {\n\t\t\tsample.sample_groups[k].group_description_index = sample_groups_info[k].sbgp.entries[sample_groups_info[k].entry_index].group_description_index;\n\t\t} else {\n\t\t\tsample.sample_groups[k].group_description_index = -1; // special value for not defined\n\t\t}\n\t\tif (sample.sample_groups[k].group_description_index !== 0) {\n\t\t\tvar description;\n\t\t\tif (sample_groups_info[k].fragment_description) {\n\t\t\t\tdescription = sample_groups_info[k].fragment_description;\n\t\t\t} else {\n\t\t\t\tdescription = sample_groups_info[k].description;\n\t\t\t}\n\t\t\tif (sample.sample_groups[k].group_description_index > 0) {\n\t\t\t\tif (sample.sample_groups[k].group_description_index > 65535) {\n\t\t\t\t\tindex = (sample.sample_groups[k].group_description_index >> 16)-1;\n\t\t\t\t} else {\n\t\t\t\t\tindex = sample.sample_groups[k].group_description_index-1;\n\t\t\t\t}\n\t\t\t\tif (description && index >= 0) {\n\t\t\t\t\tsample.sample_groups[k].description = description.entries[index];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (description && description.version >= 2) {\n\t\t\t\t\tif (description.default_group_description_index > 0) {\t\t\t\t\t\t\t\t\n\t\t\t\t\t\tsample.sample_groups[k].description = description.entries[description.default_group_description_index-1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nISOFile.process_sdtp = function (sdtp, sample, number) {\n\tif (!sample) {\n\t\treturn;\n\t}\n\tif (sdtp) {\n\t\tsample.is_leading = sdtp.is_leading[number];\n\t\tsample.depends_on = sdtp.sample_depends_on[number];\n\t\tsample.is_depended_on = sdtp.sample_is_depended_on[number];\n\t\tsample.has_redundancy = sdtp.sample_has_redundancy[number];\n\t} else {\n\t\tsample.is_leading = 0;\n\t\tsample.depends_on = 0;\n\t\tsample.is_depended_on = 0\n\t\tsample.has_redundancy = 0;\n\t}\t\n}\n\n/* Build initial sample list from  sample tables */\nISOFile.prototype.buildSampleLists = function() {\t\n\tvar i;\n\tvar trak;\n\tfor (i = 0; i < this.moov.traks.length; i++) {\n\t\ttrak = this.moov.traks[i];\n\t\tthis.buildTrakSampleLists(trak);\n\t}\n}\n\nISOFile.prototype.buildTrakSampleLists = function(trak) {\t\n\tvar j, k;\n\tvar stco, stsc, stsz, stts, ctts, stss, stsd, subs, sbgps, sgpds, stdp;\n\tvar chunk_run_index, chunk_index, last_chunk_in_run, offset_in_chunk, last_sample_in_chunk;\n\tvar last_sample_in_stts_run, stts_run_index, last_sample_in_ctts_run, ctts_run_index, last_stss_index, last_subs_index, subs_entry_index, last_subs_sample_index;\n\n\ttrak.samples = [];\n\ttrak.samples_duration = 0;\n\ttrak.samples_size = 0;\n\tstco = trak.mdia.minf.stbl.stco || trak.mdia.minf.stbl.co64;\n\tstsc = trak.mdia.minf.stbl.stsc;\n\tstsz = trak.mdia.minf.stbl.stsz || trak.mdia.minf.stbl.stz2;\n\tstts = trak.mdia.minf.stbl.stts;\n\tctts = trak.mdia.minf.stbl.ctts;\n\tstss = trak.mdia.minf.stbl.stss;\n\tstsd = trak.mdia.minf.stbl.stsd;\n\tsubs = trak.mdia.minf.stbl.subs;\n\tstdp = trak.mdia.minf.stbl.stdp;\n\tsbgps = trak.mdia.minf.stbl.sbgps;\n\tsgpds = trak.mdia.minf.stbl.sgpds;\n\t\n\tlast_sample_in_stts_run = -1;\n\tstts_run_index = -1;\n\tlast_sample_in_ctts_run = -1;\n\tctts_run_index = -1;\n\tlast_stss_index = 0;\n\tsubs_entry_index = 0;\n\tlast_subs_sample_index = 0;\t\t\n\n\tISOFile.initSampleGroups(trak, null, sbgps, sgpds);\n\n\tif (typeof stsz === \"undefined\") {\n\t\treturn;\n\t}\n\n\t/* we build the samples one by one and compute their properties */\n\tfor (j = 0; j < stsz.sample_sizes.length; j++) {\n\t\tvar sample = {};\n\t\tsample.number = j;\n\t\tsample.track_id = trak.tkhd.track_id;\n\t\tsample.timescale = trak.mdia.mdhd.timescale;\n\t\tsample.alreadyRead = 0;\n\t\ttrak.samples[j] = sample;\n\t\t/* size can be known directly */\n\t\tsample.size = stsz.sample_sizes[j];\n\t\ttrak.samples_size += sample.size;\n\t\t/* computing chunk-based properties (offset, sample description index)*/\n\t\tif (j === 0) {\t\t\t\t\n\t\t\tchunk_index = 1; /* the first sample is in the first chunk (chunk indexes are 1-based) */\n\t\t\tchunk_run_index = 0; /* the first chunk is the first entry in the first_chunk table */\n\t\t\tsample.chunk_index = chunk_index;\n\t\t\tsample.chunk_run_index = chunk_run_index;\n\t\t\tlast_sample_in_chunk = stsc.samples_per_chunk[chunk_run_index];\n\t\t\toffset_in_chunk = 0;\n\n\t\t\t/* Is there another entry in the first_chunk table ? */\n\t\t\tif (chunk_run_index + 1 < stsc.first_chunk.length) {\n\t\t\t\t/* The last chunk in the run is the chunk before the next first chunk */\n\t\t\t\tlast_chunk_in_run = stsc.first_chunk[chunk_run_index+1]-1; \t\n\t\t\t} else {\n\t\t\t\t/* There is only one entry in the table, it is valid for all future chunks*/\n\t\t\t\tlast_chunk_in_run = Infinity;\n\t\t\t}\n\t\t} else {\n\t\t\tif (j < last_sample_in_chunk) {\n\t\t\t\t/* the sample is still in the current chunk */\n\t\t\t\tsample.chunk_index = chunk_index;\n\t\t\t\tsample.chunk_run_index = chunk_run_index;\n\t\t\t} else {\n\t\t\t\t/* the sample is in the next chunk */\n\t\t\t\tchunk_index++;\n\t\t\t\tsample.chunk_index = chunk_index;\n\t\t\t\t/* reset the accumulated offset in the chunk */\n\t\t\t\toffset_in_chunk = 0;\n\t\t\t\tif (chunk_index <= last_chunk_in_run) {\n\t\t\t\t\t/* stay in the same entry of the first_chunk table */\n\t\t\t\t\t/* chunk_run_index unmodified */\n\t\t\t\t} else {\n\t\t\t\t\tchunk_run_index++;\n\t\t\t\t\t/* Is there another entry in the first_chunk table ? */\n\t\t\t\t\tif (chunk_run_index + 1 < stsc.first_chunk.length) {\n\t\t\t\t\t\t/* The last chunk in the run is the chunk before the next first chunk */\n\t\t\t\t\t\tlast_chunk_in_run = stsc.first_chunk[chunk_run_index+1]-1; \t\n\t\t\t\t\t} else {\n\t\t\t\t\t\t/* There is only one entry in the table, it is valid for all future chunks*/\n\t\t\t\t\t\tlast_chunk_in_run = Infinity;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tsample.chunk_run_index = chunk_run_index;\n\t\t\t\tlast_sample_in_chunk += stsc.samples_per_chunk[chunk_run_index];\n\t\t\t}\n\t\t}\n\n\t\tsample.description_index = stsc.sample_description_index[sample.chunk_run_index]-1;\n\t\tsample.description = stsd.entries[sample.description_index];\n\t\tsample.offset = stco.chunk_offsets[sample.chunk_index-1] + offset_in_chunk; /* chunk indexes are 1-based */\n\t\toffset_in_chunk += sample.size;\n\n\t\t/* setting dts, cts, duration and rap flags */\n\t\tif (j > last_sample_in_stts_run) {\n\t\t\tstts_run_index++;\n\t\t\tif (last_sample_in_stts_run < 0) {\n\t\t\t\tlast_sample_in_stts_run = 0;\n\t\t\t}\n\t\t\tlast_sample_in_stts_run += stts.sample_counts[stts_run_index];\t\t\t\t\n\t\t}\n\t\tif (j > 0) {\n\t\t\ttrak.samples[j-1].duration = stts.sample_deltas[stts_run_index];\n\t\t\ttrak.samples_duration += trak.samples[j-1].duration;\n\t\t\tsample.dts = trak.samples[j-1].dts + trak.samples[j-1].duration;\n\t\t} else {\n\t\t\tsample.dts = 0;\n\t\t}\n\t\tif (ctts) {\n\t\t\tif (j >= last_sample_in_ctts_run) {\n\t\t\t\tctts_run_index++;\n\t\t\t\tif (last_sample_in_ctts_run < 0) {\n\t\t\t\t\tlast_sample_in_ctts_run = 0;\n\t\t\t\t}\n\t\t\t\tlast_sample_in_ctts_run += ctts.sample_counts[ctts_run_index];\t\t\t\t\n\t\t\t}\n\t\t\tsample.cts = trak.samples[j].dts + ctts.sample_offsets[ctts_run_index];\n\t\t} else {\n\t\t\tsample.cts = sample.dts;\n\t\t}\n\t\tif (stss) {\n\t\t\tif (j == stss.sample_numbers[last_stss_index] - 1) { // sample numbers are 1-based\n\t\t\t\tsample.is_sync = true;\n\t\t\t\tlast_stss_index++;\n\t\t\t} else {\n\t\t\t\tsample.is_sync = false;\t\t\t\t\n\t\t\t\tsample.degradation_priority = 0;\n\t\t\t}\n\t\t\tif (subs) {\n\t\t\t\tif (subs.entries[subs_entry_index].sample_delta + last_subs_sample_index == j+1) {\n\t\t\t\t\tsample.subsamples = subs.entries[subs_entry_index].subsamples;\n\t\t\t\t\tlast_subs_sample_index += subs.entries[subs_entry_index].sample_delta;\n\t\t\t\t\tsubs_entry_index++;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tsample.is_sync = true;\n\t\t}\n\t\tISOFile.process_sdtp(trak.mdia.minf.stbl.sdtp, sample, sample.number);\n\t\tif (stdp) {\n\t\t\tsample.degradation_priority = stdp.priority[j];\n\t\t} else {\n\t\t\tsample.degradation_priority = 0;\n\t\t}\n\t\tif (subs) {\n\t\t\tif (subs.entries[subs_entry_index].sample_delta + last_subs_sample_index == j) {\n\t\t\t\tsample.subsamples = subs.entries[subs_entry_index].subsamples;\n\t\t\t\tlast_subs_sample_index += subs.entries[subs_entry_index].sample_delta;\n\t\t\t}\n\t\t}\n\t\tif (sbgps.length > 0 || sgpds.length > 0) {\n\t\t\tISOFile.setSampleGroupProperties(trak, sample, j, trak.sample_groups_info);\n\t\t}\n\t}\n\tif (j>0) {\n\t\ttrak.samples[j-1].duration = Math.max(trak.mdia.mdhd.duration - trak.samples[j-1].dts, 0);\n\t\ttrak.samples_duration += trak.samples[j-1].duration;\n\t}\n}\n\n/* Update sample list when new 'moof' boxes are received */\nISOFile.prototype.updateSampleLists = function() {\t\n\tvar i, j, k;\n\tvar default_sample_description_index, default_sample_duration, default_sample_size, default_sample_flags;\n\tvar last_run_position;\n\tvar box, moof, traf, trak, trex;\n\tvar sample;\n\tvar sample_flags;\n\t\n\tif (this.moov === undefined) {\n\t\treturn;\n\t}\n\t/* if the input file is fragmented and fetched in multiple downloads, we need to update the list of samples */\n\twhile (this.lastMoofIndex < this.moofs.length) {\n\t\tbox = this.moofs[this.lastMoofIndex];\n\t\tthis.lastMoofIndex++;\n\t\tif (box.type == \"moof\") {\n\t\t\tmoof = box;\n\t\t\tfor (i = 0; i < moof.trafs.length; i++) {\n\t\t\t\ttraf = moof.trafs[i];\n\t\t\t\ttrak = this.getTrackById(traf.tfhd.track_id);\n\t\t\t\ttrex = this.getTrexById(traf.tfhd.track_id);\n\t\t\t\tif (traf.tfhd.flags & BoxParser.TFHD_FLAG_SAMPLE_DESC) {\n\t\t\t\t\tdefault_sample_description_index = traf.tfhd.default_sample_description_index;\n\t\t\t\t} else {\n\t\t\t\t\tdefault_sample_description_index = (trex ? trex.default_sample_description_index: 1);\n\t\t\t\t}\n\t\t\t\tif (traf.tfhd.flags & BoxParser.TFHD_FLAG_SAMPLE_DUR) {\n\t\t\t\t\tdefault_sample_duration = traf.tfhd.default_sample_duration;\n\t\t\t\t} else {\n\t\t\t\t\tdefault_sample_duration = (trex ? trex.default_sample_duration : 0);\n\t\t\t\t}\n\t\t\t\tif (traf.tfhd.flags & BoxParser.TFHD_FLAG_SAMPLE_SIZE) {\n\t\t\t\t\tdefault_sample_size = traf.tfhd.default_sample_size;\n\t\t\t\t} else {\n\t\t\t\t\tdefault_sample_size = (trex ? trex.default_sample_size : 0);\n\t\t\t\t}\n\t\t\t\tif (traf.tfhd.flags & BoxParser.TFHD_FLAG_SAMPLE_FLAGS) {\n\t\t\t\t\tdefault_sample_flags = traf.tfhd.default_sample_flags;\n\t\t\t\t} else {\n\t\t\t\t\tdefault_sample_flags = (trex ? trex.default_sample_flags : 0);\n\t\t\t\t}\n\t\t\t\ttraf.sample_number = 0;\n\t\t\t\t/* process sample groups */\n\t\t\t\tif (traf.sbgps.length > 0) {\n\t\t\t\t\tISOFile.initSampleGroups(trak, traf, traf.sbgps, trak.mdia.minf.stbl.sgpds, traf.sgpds);\n\t\t\t\t}\n\t\t\t\tfor (j = 0; j < traf.truns.length; j++) {\n\t\t\t\t\tvar trun = traf.truns[j];\n\t\t\t\t\tfor (k = 0; k < trun.sample_count; k++) {\n\t\t\t\t\t\tsample = {};\n\t\t\t\t\t\tsample.moof_number = this.lastMoofIndex;\n\t\t\t\t\t\tsample.number_in_traf = traf.sample_number;\n\t\t\t\t\t\ttraf.sample_number++;\n\t\t\t            sample.number = trak.samples.length;\n\t\t\t\t\t\ttraf.first_sample_index = trak.samples.length;\n\t\t\t\t\t\ttrak.samples.push(sample);\n\t\t\t\t\t\tsample.track_id = trak.tkhd.track_id;\n\t\t\t\t\t\tsample.timescale = trak.mdia.mdhd.timescale;\n\t\t\t\t\t\tsample.description_index = default_sample_description_index-1;\n\t\t\t\t\t\tsample.description = trak.mdia.minf.stbl.stsd.entries[sample.description_index];\n\t\t\t\t\t\tsample.size = default_sample_size;\n\t\t\t\t\t\tif (trun.flags & BoxParser.TRUN_FLAGS_SIZE) {\n\t\t\t\t\t\t\tsample.size = trun.sample_size[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttrak.samples_size += sample.size;\n\t\t\t\t\t\tsample.duration = default_sample_duration;\n\t\t\t\t\t\tif (trun.flags & BoxParser.TRUN_FLAGS_DURATION) {\n\t\t\t\t\t\t\tsample.duration = trun.sample_duration[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttrak.samples_duration += sample.duration;\n\t\t\t\t\t\tif (trak.first_traf_merged || k > 0) {\n\t\t\t\t\t\t\tsample.dts = trak.samples[trak.samples.length-2].dts+trak.samples[trak.samples.length-2].duration;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (traf.tfdt) {\n\t\t\t\t\t\t\t\tsample.dts = traf.tfdt.baseMediaDecodeTime;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsample.dts = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttrak.first_traf_merged = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsample.cts = sample.dts;\n\t\t\t\t\t\tif (trun.flags & BoxParser.TRUN_FLAGS_CTS_OFFSET) {\n\t\t\t\t\t\t\tsample.cts = sample.dts + trun.sample_composition_time_offset[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsample_flags = default_sample_flags;\n\t\t\t\t\t\tif (trun.flags & BoxParser.TRUN_FLAGS_FLAGS) {\n\t\t\t\t\t\t\tsample_flags = trun.sample_flags[k];\n\t\t\t\t\t\t} else if (k === 0 && (trun.flags & BoxParser.TRUN_FLAGS_FIRST_FLAG)) {\n\t\t\t\t\t\t\tsample_flags = trun.first_sample_flags;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsample.is_sync = ((sample_flags >> 16 & 0x1) ? false : true);\n\t\t\t\t\t\tsample.is_leading = (sample_flags >> 26 & 0x3);\n\t\t\t\t\t\tsample.depends_on = (sample_flags >> 24 & 0x3);\n\t\t\t\t\t\tsample.is_depended_on = (sample_flags >> 22 & 0x3);\n\t\t\t\t\t\tsample.has_redundancy = (sample_flags >> 20 & 0x3);\n\t\t\t\t\t\tsample.degradation_priority = (sample_flags & 0xFFFF);\n\t\t\t\t\t\t//ISOFile.process_sdtp(traf.sdtp, sample, sample.number_in_traf);\n\t\t\t\t\t\tvar bdop = (traf.tfhd.flags & BoxParser.TFHD_FLAG_BASE_DATA_OFFSET) ? true : false;\n\t\t\t\t\t\tvar dbim = (traf.tfhd.flags & BoxParser.TFHD_FLAG_DEFAULT_BASE_IS_MOOF) ? true : false;\n\t\t\t\t\t\tvar dop = (trun.flags & BoxParser.TRUN_FLAGS_DATA_OFFSET) ? true : false;\n\t\t\t\t\t\tvar bdo = 0;\n\t\t\t\t\t\tif (!bdop) {\n\t\t\t\t\t\t\tif (!dbim) {\n\t\t\t\t\t\t\t\tif (j === 0) { // the first track in the movie fragment\n\t\t\t\t\t\t\t\t\tbdo = moof.start; // the position of the first byte of the enclosing Movie Fragment Box\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tbdo = last_run_position; // end of the data defined by the preceding *track* (irrespective of the track id) fragment in the moof\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tbdo = moof.start;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbdo = traf.tfhd.base_data_offset;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (j === 0 && k === 0) {\n\t\t\t\t\t\t\tif (dop) {\n\t\t\t\t\t\t\t\tsample.offset = bdo + trun.data_offset; // If the data-offset is present, it is relative to the base-data-offset established in the track fragment header\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsample.offset = bdo; // the data for this run starts the base-data-offset defined by the track fragment header\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsample.offset = last_run_position; // this run starts immediately after the data of the previous run\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlast_run_position = sample.offset + sample.size;\n\t\t\t\t\t\tif (traf.sbgps.length > 0 || traf.sgpds.length > 0 ||\n\t\t\t\t\t\t\ttrak.mdia.minf.stbl.sbgps.length > 0 || trak.mdia.minf.stbl.sgpds.length > 0) {\n\t\t\t\t\t\t\tISOFile.setSampleGroupProperties(trak, sample, sample.number_in_traf, traf.sample_groups_info);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (traf.subs) {\n\t\t\t\t\ttrak.has_fragment_subsamples = true;\n\t\t\t\t\tvar sample_index = traf.first_sample_index;\n\t\t\t\t\tfor (j = 0; j < traf.subs.entries.length; j++) {\n\t\t\t\t\t\tsample_index += traf.subs.entries[j].sample_delta;\n\t\t\t\t\t\tsample = trak.samples[sample_index-1];\n\t\t\t\t\t\tsample.subsamples = traf.subs.entries[j].subsamples;\n\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\t\n}\n\n/* Try to get sample data for a given sample:\n   returns null if not found\n   returns the same sample if already requested\n */\nISOFile.prototype.getSample = function(trak, sampleNum) {\t\n\tvar buffer;\n\tvar sample = trak.samples[sampleNum];\n\t\n\tif (!this.moov) {\n\t\treturn null;\n\t}\n\n\tif (!sample.data) {\n\t\t/* Not yet fetched */\n\t\tsample.data = new Uint8Array(sample.size);\n\t\tsample.alreadyRead = 0;\n\t\tthis.samplesDataSize += sample.size;\n\t\tLog.debug(\"ISOFile\", \"Allocating sample #\"+sampleNum+\" on track #\"+trak.tkhd.track_id+\" of size \"+sample.size+\" (total: \"+this.samplesDataSize+\")\");\n\t} else if (sample.alreadyRead == sample.size) {\n\t\t/* Already fetched entirely */\n\t\treturn sample;\n\t}\n\n\t/* The sample has only been partially fetched, we need to check in all buffers */\n\twhile(true) {\n\t\tvar index =\tthis.stream.findPosition(true, sample.offset + sample.alreadyRead, false);\n\t\tif (index > -1) {\n\t\t\tbuffer = this.stream.buffers[index];\n\t\t\tvar lengthAfterStart = buffer.byteLength - (sample.offset + sample.alreadyRead - buffer.fileStart);\n\t\t\tif (sample.size - sample.alreadyRead <= lengthAfterStart) {\n\t\t\t\t/* the (rest of the) sample is entirely contained in this buffer */\n\n\t\t\t\tLog.debug(\"ISOFile\",\"Getting sample #\"+sampleNum+\" data (alreadyRead: \"+sample.alreadyRead+\" offset: \"+\n\t\t\t\t\t(sample.offset+sample.alreadyRead - buffer.fileStart)+\" read size: \"+(sample.size - sample.alreadyRead)+\" full size: \"+sample.size+\")\");\n\n\t\t\t\tDataStream.memcpy(sample.data.buffer, sample.alreadyRead,\n\t\t\t\t                  buffer, sample.offset+sample.alreadyRead - buffer.fileStart, sample.size - sample.alreadyRead);\n\n\t\t\t\t/* update the number of bytes used in this buffer and check if it needs to be removed */\n\t\t\t\tbuffer.usedBytes += sample.size - sample.alreadyRead;\n\t\t\t\tthis.stream.logBufferLevel();\n\n\t\t\t\tsample.alreadyRead = sample.size;\n\n\t\t\t\treturn sample;\n\t\t\t} else {\n\t\t\t\t/* the sample does not end in this buffer */\n\n\t\t\t\tif (lengthAfterStart === 0) return null;\n\n\t\t\t\tLog.debug(\"ISOFile\",\"Getting sample #\"+sampleNum+\" partial data (alreadyRead: \"+sample.alreadyRead+\" offset: \"+\n\t\t\t\t\t(sample.offset+sample.alreadyRead - buffer.fileStart)+\" read size: \"+lengthAfterStart+\" full size: \"+sample.size+\")\");\n\n\t\t\t\tDataStream.memcpy(sample.data.buffer, sample.alreadyRead,\n\t\t\t\t                  buffer, sample.offset+sample.alreadyRead - buffer.fileStart, lengthAfterStart);\n\t\t\t\tsample.alreadyRead += lengthAfterStart;\n\n\t\t\t\t/* update the number of bytes used in this buffer and check if it needs to be removed */\n\t\t\t\tbuffer.usedBytes += lengthAfterStart;\n\t\t\t\tthis.stream.logBufferLevel();\n\n\t\t\t\t/* keep looking in the next buffer */\n\t\t\t}\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n}\n\n/* Release the memory used to store the data of the sample */\nISOFile.prototype.releaseSample = function(trak, sampleNum) {\t\n\tvar sample = trak.samples[sampleNum];\n\tif (sample.data) {\n\t\tthis.samplesDataSize -= sample.size;\n\t\tsample.data = null;\n\t\tsample.alreadyRead = 0;\n\t\treturn sample.size;\n\t} else {\n\t\treturn 0;\n\t}\n}\n\nISOFile.prototype.getAllocatedSampleDataSize = function() {\n\treturn this.samplesDataSize;\n}\n\n/* Builds the MIME Type 'codecs' sub-parameters for the whole file */\nISOFile.prototype.getCodecs = function() {\t\n\tvar i;\n\tvar codecs = \"\";\n\tfor (i = 0; i < this.moov.traks.length; i++) {\n\t\tvar trak = this.moov.traks[i];\n\t\tif (i>0) {\n\t\t\tcodecs+=\",\"; \n\t\t}\n\t\tcodecs += trak.mdia.minf.stbl.stsd.entries[0].getCodec();\t\t\n\t}\n\treturn codecs;\n}\n\n/* Helper function */\nISOFile.prototype.getTrexById = function(id) {\t\n\tvar i;\n\tif (!this.moov || !this.moov.mvex) return null;\n\tfor (i = 0; i < this.moov.mvex.trexs.length; i++) {\n\t\tvar trex = this.moov.mvex.trexs[i];\n\t\tif (trex.track_id == id) return trex;\n\t}\n\treturn null;\n}\n\n/* Helper function */\nISOFile.prototype.getTrackById = function(id) {\n\tif (this.moov === undefined) {\n\t\treturn null;\n\t}\n\tfor (var j = 0; j < this.moov.traks.length; j++) {\n\t\tvar trak = this.moov.traks[j];\n\t\tif (trak.tkhd.track_id == id) return trak;\n\t}\n\treturn null;\n}\n// file:src/isofile-item-processing.js\n/* size of the buffers allocated for samples */\nISOFile.prototype.itemsDataSize = 0;\n\nISOFile.prototype.flattenItemInfo = function() {\t\n\tvar items = this.items;\n\tvar entity_groups = this.entity_groups;\n\tvar i, j;\n\tvar item;\n\tvar meta = this.meta;\n\tif (meta === null || meta === undefined) return;\n\tif (meta.hdlr === undefined) return;\n\tif (meta.iinf === undefined) return;\n\tfor (i = 0; i < meta.iinf.item_infos.length; i++) {\n\t\titem = {};\n\t\titem.id = meta.iinf.item_infos[i].item_ID;\n\t\titems[item.id] = item;\n\t\titem.ref_to = [];\n\t\titem.name = meta.iinf.item_infos[i].item_name;\n\t\tif (meta.iinf.item_infos[i].protection_index > 0) {\n\t\t\titem.protection = meta.ipro.protections[meta.iinf.item_infos[i].protection_index-1];\n\t\t}\n\t\tif (meta.iinf.item_infos[i].item_type) {\n\t\t\titem.type = meta.iinf.item_infos[i].item_type;\n\t\t} else {\n\t\t\titem.type = \"mime\";\n\t\t}\n\t\titem.content_type = meta.iinf.item_infos[i].content_type;\n\t\titem.content_encoding = meta.iinf.item_infos[i].content_encoding;\n\t\titem.item_uri_type = meta.iinf.item_infos[i].item_uri_type;\n\t}\n\tif (meta.grpl) {\n\t\tfor (i = 0; i < meta.grpl.boxes.length; i++) {\n\t\t\tentity_group = {};\n\t\t\tentity_group.id = meta.grpl.boxes[i].group_id;\n\t\t\tentity_group.entity_ids = meta.grpl.boxes[i].entity_ids;\n\t\t\tentity_group.type = meta.grpl.boxes[i].type;\n\t\t\tentity_groups[entity_group.id] = entity_group;\n\t\t}\n\t}\n\tif (meta.iloc) {\n\t\tfor(i = 0; i < meta.iloc.items.length; i++) {\n\t\t\tvar offset;\n\t\t\tvar itemloc = meta.iloc.items[i];\n\t\t\titem = items[itemloc.item_ID];\n\t\t\tif (itemloc.data_reference_index !== 0) {\n\t\t\t\tLog.warn(\"Item storage with reference to other files: not supported\");\n\t\t\t\titem.source = meta.dinf.boxes[itemloc.data_reference_index-1];\n\t\t\t}\n\t\t\tswitch(itemloc.construction_method) {\n\t\t\t\tcase 0: // offset into the file referenced by the data reference index\n\t\t\t\tbreak;\n\t\t\t\tcase 1: // offset into the idat box of this meta box\n\t\t\t\tbreak;\n\t\t\t\tcase 2: // offset into another item\n\t\t\t\tLog.warn(\"Item storage with construction_method : not supported\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\titem.extents = [];\n\t\t\titem.size = 0;\n\t\t\tfor (j = 0; j < itemloc.extents.length; j++) {\n\t\t\t\titem.extents[j] = {};\n\t\t\t\titem.extents[j].offset = itemloc.extents[j].extent_offset + itemloc.base_offset;\n\t\t\t\tif (itemloc.construction_method == 1) {\n\t\t\t\t\titem.extents[j].offset += meta.idat.start + meta.idat.hdr_size;\n\t\t\t\t}\n\t\t\t\titem.extents[j].length = itemloc.extents[j].extent_length;\n\t\t\t\titem.extents[j].alreadyRead = 0;\n\t\t\t\titem.size += item.extents[j].length;\n\t\t\t}\n\t\t}\n\t}\n\tif (meta.pitm) {\n\t\titems[meta.pitm.item_id].primary = true;\n\t}\n\tif (meta.iref) {\n\t\tfor (i=0; i <meta.iref.references.length; i++) {\n\t\t\tvar ref = meta.iref.references[i];\n\t\t\tfor (j=0; j<ref.references.length; j++) {\n\t\t\t\titems[ref.from_item_ID].ref_to.push({type: ref.type, id: ref.references[j]});\n\t\t\t}\n\t\t}\n\t}\n\tif (meta.iprp) {\n\t\tfor (var k = 0; k < meta.iprp.ipmas.length; k++) {\n\t\t\tvar ipma = meta.iprp.ipmas[k];\n\t\t\tfor (i = 0; i < ipma.associations.length; i++) {\n\t\t\t\tvar association = ipma.associations[i];\n\t\t\t\titem = items[association.id];\n\t\t\t\tif (!item) {\n\t\t\t\t\titem = entity_groups[association.id];\n\t\t\t\t}\n\t\t\t\tif (item) {\n\t\t\t\t\tif (item.properties === undefined) {\n\t\t\t\t\t\titem.properties = {};\n\t\t\t\t\t\titem.properties.boxes = [];\n\t\t\t\t\t}\n\t\t\t\t\tfor (j = 0; j < association.props.length; j++) {\n\t\t\t\t\t\tvar propEntry = association.props[j];\n\t\t\t\t\t\tif (propEntry.property_index > 0 && propEntry.property_index-1 < meta.iprp.ipco.boxes.length) {\n\t\t\t\t\t\t\tvar propbox = meta.iprp.ipco.boxes[propEntry.property_index-1];\n\t\t\t\t\t\t\titem.properties[propbox.type] = propbox;\n\t\t\t\t\t\t\titem.properties.boxes.push(propbox);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nISOFile.prototype.getItem = function(item_id) {\t\n\tvar buffer;\n\tvar item;\n\t\n\tif (!this.meta) {\n\t\treturn null;\n\t}\n\n \titem = this.items[item_id];\n\tif (!item.data && item.size) {\n\t\t/* Not yet fetched */\n\t\titem.data = new Uint8Array(item.size);\n\t\titem.alreadyRead = 0;\n\t\tthis.itemsDataSize += item.size;\n\t\tLog.debug(\"ISOFile\", \"Allocating item #\"+item_id+\" of size \"+item.size+\" (total: \"+this.itemsDataSize+\")\");\n\t} else if (item.alreadyRead === item.size) {\n\t\t/* Already fetched entirely */\n\t\treturn item;\n\t}\n\n\t/* The item has only been partially fetched, we need to check in all buffers to find the remaining extents*/\n\n\tfor (var i = 0; i < item.extents.length; i++) {\n\t\tvar extent = item.extents[i];\n\t\tif (extent.alreadyRead === extent.length) {\n\t\t\tcontinue;\n\t\t} else {\n\t\t\tvar index =\tthis.stream.findPosition(true, extent.offset + extent.alreadyRead, false);\n\t\t\tif (index > -1) {\n\t\t\t\tbuffer = this.stream.buffers[index];\n\t\t\t\tvar lengthAfterStart = buffer.byteLength - (extent.offset + extent.alreadyRead - buffer.fileStart);\n\t\t\t\tif (extent.length - extent.alreadyRead <= lengthAfterStart) {\n\t\t\t\t\t/* the (rest of the) extent is entirely contained in this buffer */\n\n\t\t\t\t\tLog.debug(\"ISOFile\",\"Getting item #\"+item_id+\" extent #\"+i+\" data (alreadyRead: \"+extent.alreadyRead+\n\t\t\t\t\t\t\" offset: \"+(extent.offset+extent.alreadyRead - buffer.fileStart)+\" read size: \"+(extent.length - extent.alreadyRead)+\n\t\t\t\t\t\t\" full extent size: \"+extent.length+\" full item size: \"+item.size+\")\");\n\n\t\t\t\t\tDataStream.memcpy(item.data.buffer, item.alreadyRead, \n\t\t\t\t\t                  buffer, extent.offset+extent.alreadyRead - buffer.fileStart, extent.length - extent.alreadyRead);\n\n\t\t\t\t\t/* update the number of bytes used in this buffer and check if it needs to be removed */\n\t\t\t\t\tbuffer.usedBytes += extent.length - extent.alreadyRead;\n\t\t\t\t\tthis.stream.logBufferLevel();\n\n\t\t\t\t\titem.alreadyRead += (extent.length - extent.alreadyRead);\n\t\t\t\t\textent.alreadyRead = extent.length;\n\t\t\t\t} else {\n\t\t\t\t\t/* the sample does not end in this buffer */\n\n\t\t\t\t\tLog.debug(\"ISOFile\",\"Getting item #\"+item_id+\" extent #\"+i+\" partial data (alreadyRead: \"+extent.alreadyRead+\" offset: \"+\n\t\t\t\t\t\t(extent.offset+extent.alreadyRead - buffer.fileStart)+\" read size: \"+lengthAfterStart+\n\t\t\t\t\t\t\" full extent size: \"+extent.length+\" full item size: \"+item.size+\")\");\n\n\t\t\t\t\tDataStream.memcpy(item.data.buffer, item.alreadyRead, \n\t\t\t\t\t                  buffer, extent.offset+extent.alreadyRead - buffer.fileStart, lengthAfterStart);\n\t\t\t\t\textent.alreadyRead += lengthAfterStart;\n\t\t\t\t\titem.alreadyRead += lengthAfterStart;\n\n\t\t\t\t\t/* update the number of bytes used in this buffer and check if it needs to be removed */\n\t\t\t\t\tbuffer.usedBytes += lengthAfterStart;\n\t\t\t\t\tthis.stream.logBufferLevel();\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n\tif (item.alreadyRead === item.size) {\n\t\t/* fetched entirely */\n\t\treturn item;\n\t} else {\n\t\treturn null;\n\t}\n}\n\n/* Release the memory used to store the data of the item */\nISOFile.prototype.releaseItem = function(item_id) {\t\n\tvar item = this.items[item_id];\n\tif (item.data) {\n\t\tthis.itemsDataSize -= item.size;\n\t\titem.data = null;\n\t\titem.alreadyRead = 0;\n\t\tfor (var i = 0; i < item.extents.length; i++) {\n\t\t\tvar extent = item.extents[i];\n\t\t\textent.alreadyRead = 0;\n\t\t}\n\t\treturn item.size;\n\t} else {\n\t\treturn 0;\n\t}\n}\n\n\nISOFile.prototype.processItems = function(callback) {\n\tfor(var i in this.items) {\n\t\tvar item = this.items[i];\n\t\tthis.getItem(item.id);\n\t\tif (callback && !item.sent) {\n\t\t\tcallback(item);\n\t\t\titem.sent = true;\n\t\t\titem.data = null;\n\t\t}\n\t}\n}\n\nISOFile.prototype.hasItem = function(name) {\n\tfor(var i in this.items) {\n\t\tvar item = this.items[i];\n\t\tif (item.name === name) {\n\t\t\treturn item.id;\n\t\t}\n\t}\n\treturn -1;\n}\n\nISOFile.prototype.getMetaHandler = function() {\n\tif (!this.meta) {\n\t\treturn null;\n\t} else {\n\t\treturn this.meta.hdlr.handler;\t\t\n\t}\n}\n\nISOFile.prototype.getPrimaryItem = function() {\n\tif (!this.meta || !this.meta.pitm) {\n\t\treturn null;\n\t} else {\n\t\treturn this.getItem(this.meta.pitm.item_id);\n\t}\n}\n\nISOFile.prototype.itemToFragmentedTrackFile = function(_options) {\n\tvar options = _options || {};\n\tvar item = null;\n\tif (options.itemId) {\n\t\titem = this.getItem(options.itemId);\n\t} else {\n\t\titem = this.getPrimaryItem();\n\t}\n\tif (item == null) return null;\n\n\tvar file = new ISOFile();\n\tfile.discardMdatData = false;\n\t// assuming the track type is the same as the item type\n\tvar trackOptions = { type: item.type, description_boxes: item.properties.boxes};\n\tif (item.properties.ispe) {\n\t\ttrackOptions.width = item.properties.ispe.image_width;\n\t\ttrackOptions.height = item.properties.ispe.image_height;\n\t}\n\tvar trackId = file.addTrack(trackOptions);\n\tif (trackId) {\n\t\tfile.addSample(trackId, item.data);\n\t\treturn file;\n\t} else {\n\t\treturn null;\n\t}\n}\n\n// file:src/isofile-write.js\n/* Rewrite the entire file */\nISOFile.prototype.write = function(outstream) {\n\tfor (var i=0; i<this.boxes.length; i++) {\n\t\tthis.boxes[i].write(outstream);\n\t}\n}\n\nISOFile.prototype.createFragment = function(track_id, sampleNumber, stream_) {\n\tvar trak = this.getTrackById(track_id);\n\tvar sample = this.getSample(trak, sampleNumber);\n\tif (sample == null) {\n\t\tthis.setNextSeekPositionFromSample(trak.samples[sampleNumber]);\n\t\treturn null;\n\t}\n\t\n\tvar stream = stream_ || new DataStream();\n\tstream.endianness = DataStream.BIG_ENDIAN;\n\n\tvar moof = this.createSingleSampleMoof(sample);\n\tmoof.write(stream);\n\n\t/* adjusting the data_offset now that the moof size is known*/\n\tmoof.trafs[0].truns[0].data_offset = moof.size+8; //8 is mdat header\n\tLog.debug(\"MP4Box\", \"Adjusting data_offset with new value \"+moof.trafs[0].truns[0].data_offset);\n\tstream.adjustUint32(moof.trafs[0].truns[0].data_offset_position, moof.trafs[0].truns[0].data_offset);\n\t\t\n\tvar mdat = new BoxParser.mdatBox();\n\tmdat.data = sample.data;\n\tmdat.write(stream);\n\treturn stream;\n}\n\n/* Modify the file and create the initialization segment */\nISOFile.writeInitializationSegment = function(ftyp, moov, total_duration, sample_duration) {\n\tvar i;\n\tvar index;\n\tvar mehd;\n\tvar trex;\n\tvar box;\n\tLog.debug(\"ISOFile\", \"Generating initialization segment\");\n\n\tvar stream = new DataStream();\n\tstream.endianness = DataStream.BIG_ENDIAN;\n\tftyp.write(stream);\n\t\n\t/* we can now create the new mvex box */\n\tvar mvex = moov.add(\"mvex\");\n\tif (total_duration) {\n\t\tmvex.add(\"mehd\").set(\"fragment_duration\", total_duration);\n\t}\n\tfor (i = 0; i < moov.traks.length; i++) {\n\t\tmvex.add(\"trex\").set(\"track_id\", moov.traks[i].tkhd.track_id)\n\t\t\t\t\t\t.set(\"default_sample_description_index\", 1)\n\t\t\t\t\t\t.set(\"default_sample_duration\", sample_duration)\n\t\t\t\t\t\t.set(\"default_sample_size\", 0)\n\t\t\t\t\t\t.set(\"default_sample_flags\", 1<<16)\n\t}\n\tmoov.write(stream);\n\n\treturn stream.buffer;\n\n}\n\nISOFile.prototype.save = function(name) {\n\tvar stream = new DataStream();\n\tstream.endianness = DataStream.BIG_ENDIAN;\n\tthis.write(stream);\n\tstream.save(name);\t\n}\n\nISOFile.prototype.getBuffer = function() {\n\tvar stream = new DataStream();\n\tstream.endianness = DataStream.BIG_ENDIAN;\n\tthis.write(stream);\n\treturn stream.buffer;\n}\n\nISOFile.prototype.initializeSegmentation = function() {\n\tvar i;\n\tvar j;\n\tvar box;\n\tvar initSegs;\n\tvar trak;\n\tvar seg;\n\tif (this.onSegment === null) {\n\t\tLog.warn(\"MP4Box\", \"No segmentation callback set!\");\n\t}\n\tif (!this.isFragmentationInitialized) {\n\t\tthis.isFragmentationInitialized = true;\t\t\n\t\tthis.nextMoofNumber = 0;\n\t\tthis.resetTables();\n\t}\t\n\tinitSegs = [];\t\n\tfor (i = 0; i < this.fragmentedTracks.length; i++) {\n\t\tvar moov = new BoxParser.moovBox();\n\t\tmoov.mvhd = this.moov.mvhd;\n\t    moov.boxes.push(moov.mvhd);\n\t\ttrak = this.getTrackById(this.fragmentedTracks[i].id);\n\t\tmoov.boxes.push(trak);\n\t\tmoov.traks.push(trak);\n\t\tseg = {};\n\t\tseg.id = trak.tkhd.track_id;\n\t\tseg.user = this.fragmentedTracks[i].user;\n\t\tseg.buffer = ISOFile.writeInitializationSegment(this.ftyp, moov, (this.moov.mvex && this.moov.mvex.mehd ? this.moov.mvex.mehd.fragment_duration: undefined), (this.moov.traks[i].samples.length>0 ? this.moov.traks[i].samples[0].duration: 0));\n\t\tinitSegs.push(seg);\n\t}\n\treturn initSegs;\n}\n\n// file:src/box-print.js\n/* \n * Copyright (c) Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nBoxParser.Box.prototype.printHeader = function(output) {\n\tthis.size += 8;\n\tif (this.size > MAX_SIZE) {\n\t\tthis.size += 8;\n\t}\n\tif (this.type === \"uuid\") {\n\t\tthis.size += 16;\n\t}\n\toutput.log(output.indent+\"size:\"+this.size);\n\toutput.log(output.indent+\"type:\"+this.type);\n}\n\nBoxParser.FullBox.prototype.printHeader = function(output) {\n\tthis.size += 4;\n\tBoxParser.Box.prototype.printHeader.call(this, output);\n\toutput.log(output.indent+\"version:\"+this.version);\n\toutput.log(output.indent+\"flags:\"+this.flags);\n}\n\nBoxParser.Box.prototype.print = function(output) {\n\tthis.printHeader(output);\n}\n\nBoxParser.ContainerBox.prototype.print = function(output) {\n\tthis.printHeader(output);\n\tfor (var i=0; i<this.boxes.length; i++) {\n\t\tif (this.boxes[i]) {\n\t\t\tvar prev_indent = output.indent;\n\t\t\toutput.indent += \" \";\n\t\t\tthis.boxes[i].print(output);\n\t\t\toutput.indent = prev_indent;\n\t\t}\n\t}\n}\n\nISOFile.prototype.print = function(output) {\n\toutput.indent = \"\";\n\tfor (var i=0; i<this.boxes.length; i++) {\n\t\tif (this.boxes[i]) {\n\t\t\tthis.boxes[i].print(output);\n\t\t}\n\t}\t\n}\n\nBoxParser.mvhdBox.prototype.print = function(output) {\n\tBoxParser.FullBox.prototype.printHeader.call(this, output);\n\toutput.log(output.indent+\"creation_time: \"+this.creation_time);\n\toutput.log(output.indent+\"modification_time: \"+this.modification_time);\n\toutput.log(output.indent+\"timescale: \"+this.timescale);\n\toutput.log(output.indent+\"duration: \"+this.duration);\n\toutput.log(output.indent+\"rate: \"+this.rate);\n\toutput.log(output.indent+\"volume: \"+(this.volume>>8));\n\toutput.log(output.indent+\"matrix: \"+this.matrix.join(\", \"));\n\toutput.log(output.indent+\"next_track_id: \"+this.next_track_id);\n}\n\nBoxParser.tkhdBox.prototype.print = function(output) {\n\tBoxParser.FullBox.prototype.printHeader.call(this, output);\n\toutput.log(output.indent+\"creation_time: \"+this.creation_time);\n\toutput.log(output.indent+\"modification_time: \"+this.modification_time);\n\toutput.log(output.indent+\"track_id: \"+this.track_id);\n\toutput.log(output.indent+\"duration: \"+this.duration);\n\toutput.log(output.indent+\"volume: \"+(this.volume>>8));\n\toutput.log(output.indent+\"matrix: \"+this.matrix.join(\", \"));\n\toutput.log(output.indent+\"layer: \"+this.layer);\n\toutput.log(output.indent+\"alternate_group: \"+this.alternate_group);\n\toutput.log(output.indent+\"width: \"+this.width);\n\toutput.log(output.indent+\"height: \"+this.height);\n}// file:src/mp4box.js\n/*\n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar MP4Box = {};\n\nMP4Box.createFile = function (_keepMdatData, _stream) {\n\t/* Boolean indicating if bytes containing media data should be kept in memory */\n\tvar keepMdatData = (_keepMdatData !== undefined ? _keepMdatData : true);\n\tvar file = new ISOFile(_stream);\n\tfile.discardMdatData = (keepMdatData ? false : true);\n\treturn file;\n}\n\nif (true) {\n\texports.createFile = MP4Box.createFile;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbXA0Ym94L2Rpc3QvbXA0Ym94LmFsbC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUEsSUFBSSxJQUE4QjtBQUNsQyxDQUFDLFdBQVc7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFlBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixZQUFZO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCLFlBQVk7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixZQUFZO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLElBQThCO0FBQ2xDLEVBQUUsb0JBQW9CO0FBQ3RCLENBQUM7QUFDRDtBQUNBO0FBQ0E7O0FBRUEsVUFBVSxhQUFhO0FBQ3ZCLFVBQVUsU0FBUztBQUNuQixVQUFVLFVBQVU7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVLFFBQVE7QUFDbEIsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQSxVQUFVLFFBQVE7QUFDbEIsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTs7QUFFQSxVQUFVLFFBQVE7QUFDbEIsVUFBVSxVQUFVO0FBQ3BCLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQSxVQUFVLFFBQVE7QUFDbEIsVUFBVSxVQUFVO0FBQ3BCLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsVUFBVSxRQUFRO0FBQ2xCLFVBQVUsVUFBVTtBQUNwQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFVBQVUsUUFBUTtBQUNsQixVQUFVLFVBQVU7QUFDcEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsVUFBVSxRQUFRO0FBQ2xCLFVBQVUsVUFBVTtBQUNwQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFVBQVUsUUFBUTtBQUNsQixVQUFVLFVBQVU7QUFDcEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxVQUFVLFFBQVE7QUFDbEIsVUFBVSxVQUFVO0FBQ3BCLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFVBQVUsUUFBUTtBQUNsQixVQUFVLFVBQVU7QUFDcEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxVQUFVLFFBQVE7QUFDbEIsVUFBVSxVQUFVO0FBQ3BCLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBLFVBQVUsVUFBVTtBQUNwQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsVUFBVSxVQUFVO0FBQ3BCLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsVUFBVSxVQUFVO0FBQ3BCLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxVQUFVLFVBQVU7QUFDcEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxVQUFVLFVBQVU7QUFDcEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFVBQVUsVUFBVTtBQUNwQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsVUFBVSxRQUFRO0FBQ2xCLFVBQVUsUUFBUTtBQUNsQixVQUFVLFFBQVE7QUFDbEIsVUFBVSxRQUFRO0FBQ2xCLFVBQVUsUUFBUTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxVQUFVLFFBQVE7QUFDbEIsVUFBVSxTQUFTO0FBQ25CO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFVBQVUsUUFBUTtBQUNsQixVQUFVLFNBQVM7QUFDbkI7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsVUFBVSxRQUFRO0FBQ2xCLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isb0JBQW9CO0FBQ3BDLGlEQUFpRCxLQUFLO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CLHFCQUFxQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsVUFBVSxRQUFRO0FBQ2xCLFVBQVUsU0FBUztBQUNuQjtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLFVBQVUsU0FBUztBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix3QkFBd0IsTUFBTTtBQUNoRDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLElBQUksSUFBOEI7QUFDbEMsRUFBRSxrQkFBa0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxRQUFRO0FBQ2xCLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBOztBQUVBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxVQUFVLFFBQVE7QUFDbEIsVUFBVSxVQUFVO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixrQkFBa0IsY0FBYztBQUNoQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFVBQVUsUUFBUTtBQUNsQixVQUFVLFVBQVU7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGtCQUFrQixjQUFjO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsVUFBVSxRQUFRO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixrQkFBa0IsY0FBYztBQUNoQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFVBQVUsUUFBUTtBQUNsQixVQUFVLFVBQVU7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGtCQUFrQixjQUFjO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsVUFBVSxRQUFRO0FBQ2xCLFVBQVUsVUFBVTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osa0JBQWtCLGNBQWM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxVQUFVLFFBQVE7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGtCQUFrQixjQUFjO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsVUFBVSxRQUFRO0FBQ2xCLFVBQVUsVUFBVTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osa0JBQWtCLGNBQWM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxVQUFVLFFBQVE7QUFDbEIsVUFBVSxVQUFVO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixrQkFBa0IsY0FBYztBQUNoQztBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQSxVQUFVLFFBQVE7QUFDbEIsVUFBVSxVQUFVO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFVBQVUsUUFBUTtBQUNsQixVQUFVLFVBQVU7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsVUFBVSxRQUFRO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFVBQVUsUUFBUTtBQUNsQixVQUFVLFVBQVU7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsVUFBVSxRQUFRO0FBQ2xCLFVBQVUsVUFBVTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxVQUFVLFFBQVE7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsVUFBVSxRQUFRO0FBQ2xCLFVBQVUsVUFBVTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxVQUFVLFFBQVE7QUFDbEIsVUFBVSxVQUFVO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFVBQVUsUUFBUTtBQUNsQixVQUFVLFVBQVU7QUFDcEIsVUFBVSxTQUFTO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isc0NBQXNDO0FBQ3hEO0FBQ0E7QUFDQSxTQUFTLGtCQUFrQjtBQUMzQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxVQUFVLFFBQVE7QUFDbEIsVUFBVSxTQUFTO0FBQ25CO0FBQ0EsVUFBVSxTQUFTO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBLE1BQU07QUFDTixnQkFBZ0IsWUFBWTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsVUFBVSxRQUFRO0FBQ2xCLFVBQVUsU0FBUztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBLElBQUk7QUFDSixjQUFjLFlBQVk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVLFFBQVE7QUFDbEIsVUFBVSxRQUFRO0FBQ2xCO0FBQ0E7QUFDQSxrQkFBa0IsNkJBQTZCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsVUFBVSxRQUFRO0FBQ2xCLFVBQVUsUUFBUTtBQUNsQixVQUFVLFFBQVE7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsWUFBWTtBQUNsQztBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsVUFBVSxRQUFRO0FBQ2xCLFVBQVUsVUFBVTtBQUNwQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFVBQVUsUUFBUTtBQUNsQixVQUFVLFVBQVU7QUFDcEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSxVQUFVLFFBQVE7QUFDbEIsVUFBVSxVQUFVO0FBQ3BCLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7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SUFBSSxzQ0FBc0M7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGNBQWM7QUFDakM7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLElBQThCO0FBQ2xDLENBQUMsaUJBQWlCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsV0FBVztBQUNYLEdBQUc7QUFDSDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QWlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnQ0FBZ0M7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnQ0FBZ0M7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdDQUFnQztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdCQUFnQixlQUFlO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHFCQUFxQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxpQkFBaUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxjQUFjO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsc0JBQXNCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxpQkFBaUIsZ0JBQWdCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrQkFBa0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFFO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxlQUFlO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx1QkFBdUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFFO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFdBQVc7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHVCQUF1QjtBQUN4QztBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLENBQUM7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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSxxQkFBcUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix5QkFBeUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx5QkFBeUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEseUJBQXlCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDRCQUE0QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsMkJBQTJCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx5QkFBeUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsdUNBQXVDO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSw2QkFBNkI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDRCQUE0QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDRCQUE0QjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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LElBQThCO0FBQ2xDLENBQUMsZUFBZTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixrQkFBa0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNB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QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHlCQUF5QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxQkFBcUI7QUFDcEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsdUJBQXVCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGtDQUFrQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUscUJBQXFCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUscUJBQXFCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLElBQThCO0FBQ2xDLENBQUMsa0JBQWtCO0FBQ25CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9tcDRib3gvZGlzdC9tcDRib3guYWxsLmpzP2Y5MWMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZmlsZTpzcmMvbG9nLmpzXG4vKiBcbiAqIENvcHlyaWdodCAoYykgMjAxMi0yMDEzLiBUZWxlY29tIFBhcmlzVGVjaC9UU0kvTU0vR1BBQyBDeXJpbCBDb25jb2xhdG9cbiAqIExpY2Vuc2U6IEJTRC0zLUNsYXVzZSAoc2VlIExJQ0VOU0UgZmlsZSlcbiAqL1xudmFyIExvZyA9IChmdW5jdGlvbiAoKXtcblx0XHR2YXIgc3RhcnQgPSBuZXcgRGF0ZSgpO1xuXHRcdHZhciBMT0dfTEVWRUxfRVJST1IgXHQ9IDQ7XG5cdFx0dmFyIExPR19MRVZFTF9XQVJOSU5HIFx0PSAzO1xuXHRcdHZhciBMT0dfTEVWRUxfSU5GTyBcdFx0PSAyO1xuXHRcdHZhciBMT0dfTEVWRUxfREVCVUdcdFx0PSAxO1xuXHRcdHZhciBsb2dfbGV2ZWwgPSBMT0dfTEVWRUxfRVJST1I7XG5cdFx0dmFyIGxvZ09iamVjdCA9IHtcblx0XHRcdHNldExvZ0xldmVsIDogZnVuY3Rpb24obGV2ZWwpIHtcblx0XHRcdFx0aWYgKGxldmVsID09IHRoaXMuZGVidWcpIGxvZ19sZXZlbCA9IExPR19MRVZFTF9ERUJVRztcblx0XHRcdFx0ZWxzZSBpZiAobGV2ZWwgPT0gdGhpcy5pbmZvKSBsb2dfbGV2ZWwgPSBMT0dfTEVWRUxfSU5GTztcblx0XHRcdFx0ZWxzZSBpZiAobGV2ZWwgPT0gdGhpcy53YXJuKSBsb2dfbGV2ZWwgPSBMT0dfTEVWRUxfV0FSTklORztcblx0XHRcdFx0ZWxzZSBpZiAobGV2ZWwgPT0gdGhpcy5lcnJvcikgbG9nX2xldmVsID0gTE9HX0xFVkVMX0VSUk9SO1xuXHRcdFx0XHRlbHNlIGxvZ19sZXZlbCA9IExPR19MRVZFTF9FUlJPUjtcblx0XHRcdH0sXG5cdFx0XHRkZWJ1ZyA6IGZ1bmN0aW9uKG1vZHVsZSwgbXNnKSB7XG5cdFx0XHRcdGlmIChjb25zb2xlLmRlYnVnID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zb2xlLmRlYnVnID0gY29uc29sZS5sb2c7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKExPR19MRVZFTF9ERUJVRyA+PSBsb2dfbGV2ZWwpIHtcblx0XHRcdFx0XHRjb25zb2xlLmRlYnVnKFwiW1wiK0xvZy5nZXREdXJhdGlvblN0cmluZyhuZXcgRGF0ZSgpLXN0YXJ0LDEwMDApK1wiXVwiLFwiW1wiK21vZHVsZStcIl1cIixtc2cpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0bG9nIDogZnVuY3Rpb24obW9kdWxlLCBtc2cpIHtcblx0XHRcdFx0dGhpcy5kZWJ1Zyhtb2R1bGUubXNnKVxuXHRcdFx0fSxcblx0XHRcdGluZm8gOiBmdW5jdGlvbihtb2R1bGUsIG1zZykge1xuXHRcdFx0XHRpZiAoTE9HX0xFVkVMX0lORk8gPj0gbG9nX2xldmVsKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5pbmZvKFwiW1wiK0xvZy5nZXREdXJhdGlvblN0cmluZyhuZXcgRGF0ZSgpLXN0YXJ0LDEwMDApK1wiXVwiLFwiW1wiK21vZHVsZStcIl1cIixtc2cpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0d2FybiA6IGZ1bmN0aW9uKG1vZHVsZSwgbXNnKSB7XG5cdFx0XHRcdGlmIChMT0dfTEVWRUxfV0FSTklORyA+PSBsb2dfbGV2ZWwpIHtcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oXCJbXCIrTG9nLmdldER1cmF0aW9uU3RyaW5nKG5ldyBEYXRlKCktc3RhcnQsMTAwMCkrXCJdXCIsXCJbXCIrbW9kdWxlK1wiXVwiLG1zZyk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRlcnJvciA6IGZ1bmN0aW9uKG1vZHVsZSwgbXNnKSB7XG5cdFx0XHRcdGlmIChMT0dfTEVWRUxfRVJST1IgPj0gbG9nX2xldmVsKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcihcIltcIitMb2cuZ2V0RHVyYXRpb25TdHJpbmcobmV3IERhdGUoKS1zdGFydCwxMDAwKStcIl1cIixcIltcIittb2R1bGUrXCJdXCIsbXNnKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdFx0cmV0dXJuIGxvZ09iamVjdDtcblx0fSkoKTtcblx0XG4vKiBIZWxwZXIgZnVuY3Rpb24gdG8gcHJpbnQgYSBkdXJhdGlvbiB2YWx1ZSBpbiB0aGUgZm9ybSBIOk1NOlNTLk1TICovXG5Mb2cuZ2V0RHVyYXRpb25TdHJpbmcgPSBmdW5jdGlvbihkdXJhdGlvbiwgX3RpbWVzY2FsZSkge1xuXHR2YXIgbmVnO1xuXHQvKiBIZWxwZXIgZnVuY3Rpb24gdG8gcHJpbnQgYSBudW1iZXIgb24gYSBmaXhlZCBudW1iZXIgb2YgZGlnaXRzICovXG5cdGZ1bmN0aW9uIHBhZChudW1iZXIsIGxlbmd0aCkge1xuXHRcdHZhciBzdHIgPSAnJyArIG51bWJlcjtcblx0XHR2YXIgYSA9IHN0ci5zcGxpdCgnLicpO1x0XHRcblx0XHR3aGlsZSAoYVswXS5sZW5ndGggPCBsZW5ndGgpIHtcblx0XHRcdGFbMF0gPSAnMCcgKyBhWzBdO1xuXHRcdH1cblx0XHRyZXR1cm4gYS5qb2luKCcuJyk7XG5cdH1cblx0aWYgKGR1cmF0aW9uIDwgMCkge1xuXHRcdG5lZyA9IHRydWU7XG5cdFx0ZHVyYXRpb24gPSAtZHVyYXRpb247XG5cdH0gZWxzZSB7XG5cdFx0bmVnID0gZmFsc2U7XHRcblx0fVxuXHR2YXIgdGltZXNjYWxlID0gX3RpbWVzY2FsZSB8fCAxO1xuXHR2YXIgZHVyYXRpb25fc2VjID0gZHVyYXRpb24vdGltZXNjYWxlO1xuXHR2YXIgaG91cnMgPSBNYXRoLmZsb29yKGR1cmF0aW9uX3NlYy8zNjAwKTtcblx0ZHVyYXRpb25fc2VjIC09IGhvdXJzICogMzYwMDtcblx0dmFyIG1pbnV0ZXMgPSBNYXRoLmZsb29yKGR1cmF0aW9uX3NlYy82MCk7XG5cdGR1cmF0aW9uX3NlYyAtPSBtaW51dGVzICogNjA7XHRcdFxuXHR2YXIgbXNlYyA9IGR1cmF0aW9uX3NlYyoxMDAwO1xuXHRkdXJhdGlvbl9zZWMgPSBNYXRoLmZsb29yKGR1cmF0aW9uX3NlYyk7XG5cdG1zZWMgLT0gZHVyYXRpb25fc2VjKjEwMDA7XG5cdG1zZWMgPSBNYXRoLmZsb29yKG1zZWMpO1xuXHRyZXR1cm4gKG5lZyA/IFwiLVwiOiBcIlwiKStob3VycytcIjpcIitwYWQobWludXRlcywyKStcIjpcIitwYWQoZHVyYXRpb25fc2VjLDIpK1wiLlwiK3BhZChtc2VjLDMpO1xufVxuXHRcbi8qIEhlbHBlciBmdW5jdGlvbiB0byBzdHJpbmdpZnkgSFRNTDUgVGltZVJhbmdlcyBvYmplY3RzICovXHRcbkxvZy5wcmludFJhbmdlcyA9IGZ1bmN0aW9uKHJhbmdlcykge1xuXHR2YXIgbGVuZ3RoID0gcmFuZ2VzLmxlbmd0aDtcblx0aWYgKGxlbmd0aCA+IDApIHtcblx0XHR2YXIgc3RyID0gXCJcIjtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0ICBpZiAoaSA+IDApIHN0ciArPSBcIixcIjtcblx0XHQgIHN0ciArPSBcIltcIitMb2cuZ2V0RHVyYXRpb25TdHJpbmcocmFuZ2VzLnN0YXJ0KGkpKSsgXCIsXCIrTG9nLmdldER1cmF0aW9uU3RyaW5nKHJhbmdlcy5lbmQoaSkpK1wiXVwiO1xuXHRcdH1cblx0XHRyZXR1cm4gc3RyO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBcIihlbXB0eSlcIjtcblx0fVxufVxuXG5pZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG5cdGV4cG9ydHMuTG9nID0gTG9nO1xufVxuLy8gZmlsZTpzcmMvc3RyZWFtLmpzXG52YXIgTVA0Qm94U3RyZWFtID0gZnVuY3Rpb24oYXJyYXlCdWZmZXIpIHtcbiAgaWYgKGFycmF5QnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICB0aGlzLmJ1ZmZlciA9IGFycmF5QnVmZmVyO1xuICAgIHRoaXMuZGF0YXZpZXcgPSBuZXcgRGF0YVZpZXcoYXJyYXlCdWZmZXIpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IChcIk5lZWRzIGFuIGFycmF5IGJ1ZmZlclwiKTtcbiAgfVxuICB0aGlzLnBvc2l0aW9uID0gMDtcbn07XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gIENvbW1vbiBBUEkgYmV0d2VlbiBNdWx0aUJ1ZmZlclN0cmVhbSBhbmQgU2ltcGxlU3RyZWFtXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbk1QNEJveFN0cmVhbS5wcm90b3R5cGUuZ2V0UG9zaXRpb24gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucG9zaXRpb247XG59XG5cbk1QNEJveFN0cmVhbS5wcm90b3R5cGUuZ2V0RW5kUG9zaXRpb24gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7XG59XG5cbk1QNEJveFN0cmVhbS5wcm90b3R5cGUuZ2V0TGVuZ3RoID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO1xufVxuXG5NUDRCb3hTdHJlYW0ucHJvdG90eXBlLnNlZWsgPSBmdW5jdGlvbiAocG9zKSB7XG4gIHZhciBucG9zID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odGhpcy5idWZmZXIuYnl0ZUxlbmd0aCwgcG9zKSk7XG4gIHRoaXMucG9zaXRpb24gPSAoaXNOYU4obnBvcykgfHwgIWlzRmluaXRlKG5wb3MpKSA/IDAgOiBucG9zO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuTVA0Qm94U3RyZWFtLnByb3RvdHlwZS5pc0VvcyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuZ2V0UG9zaXRpb24oKSA+PSB0aGlzLmdldEVuZFBvc2l0aW9uKCk7XG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gIFJlYWQgbWV0aG9kcywgc2ltaW1hciB0byBEYXRhU3RyZWFtIGJ1dCBzaW1wbGVyXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbk1QNEJveFN0cmVhbS5wcm90b3R5cGUucmVhZEFueUludCA9IGZ1bmN0aW9uKHNpemUsIHNpZ25lZCkge1xuICB2YXIgcmVzID0gMDtcbiAgaWYgKHRoaXMucG9zaXRpb24gKyBzaXplIDw9IHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpIHtcbiAgICBzd2l0Y2ggKHNpemUpIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgaWYgKHNpZ25lZCkge1xuICAgICAgICAgIHJlcyA9IHRoaXMuZGF0YXZpZXcuZ2V0SW50OCh0aGlzLnBvc2l0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXMgPSB0aGlzLmRhdGF2aWV3LmdldFVpbnQ4KHRoaXMucG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBpZiAoc2lnbmVkKSB7XG4gICAgICAgICAgcmVzID0gdGhpcy5kYXRhdmlldy5nZXRJbnQxNih0aGlzLnBvc2l0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXMgPSB0aGlzLmRhdGF2aWV3LmdldFVpbnQxNih0aGlzLnBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgaWYgKHNpZ25lZCkge1xuICAgICAgICAgIHRocm93IChcIk5vIG1ldGhvZCBmb3IgcmVhZGluZyBzaWduZWQgMjQgYml0cyB2YWx1ZXNcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzID0gdGhpcy5kYXRhdmlldy5nZXRVaW50OCh0aGlzLnBvc2l0aW9uKSA8PCAxNjtcbiAgICAgICAgICByZXMgfD0gdGhpcy5kYXRhdmlldy5nZXRVaW50OCh0aGlzLnBvc2l0aW9uKzEpIDw8IDg7XG4gICAgICAgICAgcmVzIHw9IHRoaXMuZGF0YXZpZXcuZ2V0VWludDgodGhpcy5wb3NpdGlvbisyKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNDpcbiAgICAgICAgaWYgKHNpZ25lZCkge1xuICAgICAgICAgIHJlcyA9IHRoaXMuZGF0YXZpZXcuZ2V0SW50MzIodGhpcy5wb3NpdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzID0gdGhpcy5kYXRhdmlldy5nZXRVaW50MzIodGhpcy5wb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDg6XG4gICAgICAgIGlmIChzaWduZWQpIHtcbiAgICAgICAgICB0aHJvdyAoXCJObyBtZXRob2QgZm9yIHJlYWRpbmcgc2lnbmVkIDY0IGJpdHMgdmFsdWVzXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlcyA9IHRoaXMuZGF0YXZpZXcuZ2V0VWludDMyKHRoaXMucG9zaXRpb24pIDw8IDMyO1xuICAgICAgICAgIHJlcyB8PSB0aGlzLmRhdGF2aWV3LmdldFVpbnQzMih0aGlzLnBvc2l0aW9uKzQpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgKFwicmVhZEludCBtZXRob2Qgbm90IGltcGxlbWVudGVkIGZvciBzaXplOiBcIitzaXplKTtcbiAgICB9XG4gICAgdGhpcy5wb3NpdGlvbis9IHNpemU7XG4gICAgcmV0dXJuIHJlcztcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyAoXCJOb3QgZW5vdWdoIGJ5dGVzIGluIGJ1ZmZlclwiKTtcbiAgfVxufVxuXG5NUDRCb3hTdHJlYW0ucHJvdG90eXBlLnJlYWRVaW50OCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5yZWFkQW55SW50KDEsIGZhbHNlKTtcbn1cblxuTVA0Qm94U3RyZWFtLnByb3RvdHlwZS5yZWFkVWludDE2ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnJlYWRBbnlJbnQoMiwgZmFsc2UpO1xufVxuXG5NUDRCb3hTdHJlYW0ucHJvdG90eXBlLnJlYWRVaW50MjQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucmVhZEFueUludCgzLCBmYWxzZSk7XG59XG5cbk1QNEJveFN0cmVhbS5wcm90b3R5cGUucmVhZFVpbnQzMiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5yZWFkQW55SW50KDQsIGZhbHNlKTtcbn1cblxuTVA0Qm94U3RyZWFtLnByb3RvdHlwZS5yZWFkVWludDY0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnJlYWRBbnlJbnQoOCwgZmFsc2UpO1xufVxuXG5NUDRCb3hTdHJlYW0ucHJvdG90eXBlLnJlYWRTdHJpbmcgPSBmdW5jdGlvbihsZW5ndGgpIHtcbiAgaWYgKHRoaXMucG9zaXRpb24gKyBsZW5ndGggPD0gdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCkge1xuICAgIHZhciBzID0gXCJcIjtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5yZWFkVWludDgoKSk7XG4gICAgfVxuICAgIHJldHVybiBzO1xuICB9IGVsc2Uge1xuICAgIHRocm93IChcIk5vdCBlbm91Z2ggYnl0ZXMgaW4gYnVmZmVyXCIpO1xuICB9XG59XG5cbk1QNEJveFN0cmVhbS5wcm90b3R5cGUucmVhZENTdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGFyciA9IFtdO1xuICB3aGlsZSh0cnVlKSB7XG4gICAgdmFyIGIgPSB0aGlzLnJlYWRVaW50OCgpO1xuICAgIGlmIChiICE9PSAwKSB7XG4gICAgICBhcnIucHVzaChiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGFycik7IFxufVxuXG5NUDRCb3hTdHJlYW0ucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnJlYWRBbnlJbnQoMSwgdHJ1ZSk7XG59XG5cbk1QNEJveFN0cmVhbS5wcm90b3R5cGUucmVhZEludDE2ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnJlYWRBbnlJbnQoMiwgdHJ1ZSk7XG59XG5cbk1QNEJveFN0cmVhbS5wcm90b3R5cGUucmVhZEludDMyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnJlYWRBbnlJbnQoNCwgdHJ1ZSk7XG59XG5cbk1QNEJveFN0cmVhbS5wcm90b3R5cGUucmVhZEludDY0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnJlYWRBbnlJbnQoOCwgZmFsc2UpO1xufVxuXG5NUDRCb3hTdHJlYW0ucHJvdG90eXBlLnJlYWRVaW50OEFycmF5ID0gZnVuY3Rpb24obGVuZ3RoKSB7XG4gIHZhciBhcnIgPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgYXJyW2ldID0gdGhpcy5yZWFkVWludDgoKTtcbiAgfVxuICByZXR1cm4gYXJyO1xufVxuXG5NUDRCb3hTdHJlYW0ucHJvdG90eXBlLnJlYWRJbnQxNkFycmF5ID0gZnVuY3Rpb24obGVuZ3RoKSB7XG4gIHZhciBhcnIgPSBuZXcgSW50MTZBcnJheShsZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgYXJyW2ldID0gdGhpcy5yZWFkSW50MTYoKTtcbiAgfVxuICByZXR1cm4gYXJyO1xufVxuXG5NUDRCb3hTdHJlYW0ucHJvdG90eXBlLnJlYWRVaW50MTZBcnJheSA9IGZ1bmN0aW9uKGxlbmd0aCkge1xuICB2YXIgYXJyID0gbmV3IEludDE2QXJyYXkobGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGFycltpXSA9IHRoaXMucmVhZFVpbnQxNigpO1xuICB9XG4gIHJldHVybiBhcnI7XG59XG5cbk1QNEJveFN0cmVhbS5wcm90b3R5cGUucmVhZFVpbnQzMkFycmF5ID0gZnVuY3Rpb24obGVuZ3RoKSB7XG4gIHZhciBhcnIgPSBuZXcgVWludDMyQXJyYXkobGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGFycltpXSA9IHRoaXMucmVhZFVpbnQzMigpO1xuICB9XG4gIHJldHVybiBhcnI7XG59XG5cbk1QNEJveFN0cmVhbS5wcm90b3R5cGUucmVhZEludDMyQXJyYXkgPSBmdW5jdGlvbihsZW5ndGgpIHtcbiAgdmFyIGFyciA9IG5ldyBJbnQzMkFycmF5KGxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBhcnJbaV0gPSB0aGlzLnJlYWRJbnQzMigpO1xuICB9XG4gIHJldHVybiBhcnI7XG59XG5cbmlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgZXhwb3J0cy5NUDRCb3hTdHJlYW0gPSBNUDRCb3hTdHJlYW07XG59Ly8gZmlsZTpzcmMvRGF0YVN0cmVhbS5qc1xuLyoqXG4gIERhdGFTdHJlYW0gcmVhZHMgc2NhbGFycywgYXJyYXlzIGFuZCBzdHJ1Y3RzIG9mIGRhdGEgZnJvbSBhbiBBcnJheUJ1ZmZlci5cbiAgSXQncyBsaWtlIGEgZmlsZS1saWtlIERhdGFWaWV3IG9uIHN0ZXJvaWRzLlxuXG4gIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIEFycmF5QnVmZmVyIHRvIHJlYWQgZnJvbS5cbiAgQHBhcmFtIHs/TnVtYmVyfSBieXRlT2Zmc2V0IE9mZnNldCBmcm9tIGFycmF5QnVmZmVyIGJlZ2lubmluZyBmb3IgdGhlIERhdGFTdHJlYW0uXG4gIEBwYXJhbSB7P0Jvb2xlYW59IGVuZGlhbm5lc3MgRGF0YVN0cmVhbS5CSUdfRU5ESUFOIG9yIERhdGFTdHJlYW0uTElUVExFX0VORElBTiAodGhlIGRlZmF1bHQpLlxuICAqL1xudmFyIERhdGFTdHJlYW0gPSBmdW5jdGlvbihhcnJheUJ1ZmZlciwgYnl0ZU9mZnNldCwgZW5kaWFubmVzcykge1xuICB0aGlzLl9ieXRlT2Zmc2V0ID0gYnl0ZU9mZnNldCB8fCAwO1xuICBpZiAoYXJyYXlCdWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHRoaXMuYnVmZmVyID0gYXJyYXlCdWZmZXI7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGFycmF5QnVmZmVyID09IFwib2JqZWN0XCIpIHtcbiAgICB0aGlzLmRhdGFWaWV3ID0gYXJyYXlCdWZmZXI7XG4gICAgaWYgKGJ5dGVPZmZzZXQpIHtcbiAgICAgIHRoaXMuX2J5dGVPZmZzZXQgKz0gYnl0ZU9mZnNldDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5idWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoYXJyYXlCdWZmZXIgfHwgMCk7XG4gIH1cbiAgdGhpcy5wb3NpdGlvbiA9IDA7XG4gIHRoaXMuZW5kaWFubmVzcyA9IGVuZGlhbm5lc3MgPT0gbnVsbCA/IERhdGFTdHJlYW0uTElUVExFX0VORElBTiA6IGVuZGlhbm5lc3M7XG59O1xuRGF0YVN0cmVhbS5wcm90b3R5cGUgPSB7fTtcblxuRGF0YVN0cmVhbS5wcm90b3R5cGUuZ2V0UG9zaXRpb24gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucG9zaXRpb247XG59XG5cbi8qKlxuICBJbnRlcm5hbCBmdW5jdGlvbiB0byByZXNpemUgdGhlIERhdGFTdHJlYW0gYnVmZmVyIHdoZW4gcmVxdWlyZWQuXG4gIEBwYXJhbSB7bnVtYmVyfSBleHRyYSBOdW1iZXIgb2YgYnl0ZXMgdG8gYWRkIHRvIHRoZSBidWZmZXIgYWxsb2NhdGlvbi5cbiAgQHJldHVybiB7bnVsbH1cbiAgKi9cbkRhdGFTdHJlYW0ucHJvdG90eXBlLl9yZWFsbG9jID0gZnVuY3Rpb24oZXh0cmEpIHtcbiAgaWYgKCF0aGlzLl9keW5hbWljU2l6ZSkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgcmVxID0gdGhpcy5fYnl0ZU9mZnNldCArIHRoaXMucG9zaXRpb24gKyBleHRyYTtcbiAgdmFyIGJsZW4gPSB0aGlzLl9idWZmZXIuYnl0ZUxlbmd0aDtcbiAgaWYgKHJlcSA8PSBibGVuKSB7XG4gICAgaWYgKHJlcSA+IHRoaXMuX2J5dGVMZW5ndGgpIHtcbiAgICAgIHRoaXMuX2J5dGVMZW5ndGggPSByZXE7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBpZiAoYmxlbiA8IDEpIHtcbiAgICBibGVuID0gMTtcbiAgfVxuICB3aGlsZSAocmVxID4gYmxlbikge1xuICAgIGJsZW4gKj0gMjtcbiAgfVxuICB2YXIgYnVmID0gbmV3IEFycmF5QnVmZmVyKGJsZW4pO1xuICB2YXIgc3JjID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fYnVmZmVyKTtcbiAgdmFyIGRzdCA9IG5ldyBVaW50OEFycmF5KGJ1ZiwgMCwgc3JjLmxlbmd0aCk7XG4gIGRzdC5zZXQoc3JjKTtcbiAgdGhpcy5idWZmZXIgPSBidWY7XG4gIHRoaXMuX2J5dGVMZW5ndGggPSByZXE7XG59O1xuXG4vKipcbiAgSW50ZXJuYWwgZnVuY3Rpb24gdG8gdHJpbSB0aGUgRGF0YVN0cmVhbSBidWZmZXIgd2hlbiByZXF1aXJlZC5cbiAgVXNlZCBmb3Igc3RyaXBwaW5nIG91dCB0aGUgZXh0cmEgYnl0ZXMgZnJvbSB0aGUgYmFja2luZyBidWZmZXIgd2hlblxuICB0aGUgdmlydHVhbCBieXRlTGVuZ3RoIGlzIHNtYWxsZXIgdGhhbiB0aGUgYnVmZmVyIGJ5dGVMZW5ndGggKGhhcHBlbnMgYWZ0ZXJcbiAgZ3Jvd2luZyB0aGUgYnVmZmVyIHdpdGggd3JpdGVzIGFuZCBub3QgZmlsbGluZyB0aGUgZXh0cmEgc3BhY2UgY29tcGxldGVseSkuXG5cbiAgQHJldHVybiB7bnVsbH1cbiAgKi9cbkRhdGFTdHJlYW0ucHJvdG90eXBlLl90cmltQWxsb2MgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuX2J5dGVMZW5ndGggPT0gdGhpcy5fYnVmZmVyLmJ5dGVMZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGJ1ZiA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLl9ieXRlTGVuZ3RoKTtcbiAgdmFyIGRzdCA9IG5ldyBVaW50OEFycmF5KGJ1Zik7XG4gIHZhciBzcmMgPSBuZXcgVWludDhBcnJheSh0aGlzLl9idWZmZXIsIDAsIGRzdC5sZW5ndGgpO1xuICBkc3Quc2V0KHNyYyk7XG4gIHRoaXMuYnVmZmVyID0gYnVmO1xufTtcblxuXG4vKipcbiAgQmlnLWVuZGlhbiBjb25zdCB0byB1c2UgYXMgZGVmYXVsdCBlbmRpYW5uZXNzLlxuICBAdHlwZSB7Ym9vbGVhbn1cbiAgKi9cbkRhdGFTdHJlYW0uQklHX0VORElBTiA9IGZhbHNlO1xuXG4vKipcbiAgTGl0dGxlLWVuZGlhbiBjb25zdCB0byB1c2UgYXMgZGVmYXVsdCBlbmRpYW5uZXNzLlxuICBAdHlwZSB7Ym9vbGVhbn1cbiAgKi9cbkRhdGFTdHJlYW0uTElUVExFX0VORElBTiA9IHRydWU7XG5cbi8qKlxuICBWaXJ0dWFsIGJ5dGUgbGVuZ3RoIG9mIHRoZSBEYXRhU3RyZWFtIGJhY2tpbmcgYnVmZmVyLlxuICBVcGRhdGVkIHRvIGJlIG1heCBvZiBvcmlnaW5hbCBidWZmZXIgc2l6ZSBhbmQgbGFzdCB3cml0dGVuIHNpemUuXG4gIElmIGR5bmFtaWNTaXplIGlzIGZhbHNlIGlzIHNldCB0byBidWZmZXIgc2l6ZS5cbiAgQHR5cGUge251bWJlcn1cbiAgKi9cbkRhdGFTdHJlYW0ucHJvdG90eXBlLl9ieXRlTGVuZ3RoID0gMDtcblxuLyoqXG4gIFJldHVybnMgdGhlIGJ5dGUgbGVuZ3RoIG9mIHRoZSBEYXRhU3RyZWFtIG9iamVjdC5cbiAgQHR5cGUge251bWJlcn1cbiAgKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShEYXRhU3RyZWFtLnByb3RvdHlwZSwgJ2J5dGVMZW5ndGgnLFxuICB7IGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2J5dGVMZW5ndGggLSB0aGlzLl9ieXRlT2Zmc2V0O1xuICB9fSk7XG5cbi8qKlxuICBTZXQvZ2V0IHRoZSBiYWNraW5nIEFycmF5QnVmZmVyIG9mIHRoZSBEYXRhU3RyZWFtIG9iamVjdC5cbiAgVGhlIHNldHRlciB1cGRhdGVzIHRoZSBEYXRhVmlldyB0byBwb2ludCB0byB0aGUgbmV3IGJ1ZmZlci5cbiAgQHR5cGUge09iamVjdH1cbiAgKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShEYXRhU3RyZWFtLnByb3RvdHlwZSwgJ2J1ZmZlcicsXG4gIHsgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX3RyaW1BbGxvYygpO1xuICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlcjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odikge1xuICAgICAgdGhpcy5fYnVmZmVyID0gdjtcbiAgICAgIHRoaXMuX2RhdGFWaWV3ID0gbmV3IERhdGFWaWV3KHRoaXMuX2J1ZmZlciwgdGhpcy5fYnl0ZU9mZnNldCk7XG4gICAgICB0aGlzLl9ieXRlTGVuZ3RoID0gdGhpcy5fYnVmZmVyLmJ5dGVMZW5ndGg7XG4gICAgfSB9KTtcblxuLyoqXG4gIFNldC9nZXQgdGhlIGJ5dGVPZmZzZXQgb2YgdGhlIERhdGFTdHJlYW0gb2JqZWN0LlxuICBUaGUgc2V0dGVyIHVwZGF0ZXMgdGhlIERhdGFWaWV3IHRvIHBvaW50IHRvIHRoZSBuZXcgYnl0ZU9mZnNldC5cbiAgQHR5cGUge251bWJlcn1cbiAgKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShEYXRhU3RyZWFtLnByb3RvdHlwZSwgJ2J5dGVPZmZzZXQnLFxuICB7IGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYnl0ZU9mZnNldDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odikge1xuICAgICAgdGhpcy5fYnl0ZU9mZnNldCA9IHY7XG4gICAgICB0aGlzLl9kYXRhVmlldyA9IG5ldyBEYXRhVmlldyh0aGlzLl9idWZmZXIsIHRoaXMuX2J5dGVPZmZzZXQpO1xuICAgICAgdGhpcy5fYnl0ZUxlbmd0aCA9IHRoaXMuX2J1ZmZlci5ieXRlTGVuZ3RoO1xuICAgIH0gfSk7XG5cbi8qKlxuICBTZXQvZ2V0IHRoZSBiYWNraW5nIERhdGFWaWV3IG9mIHRoZSBEYXRhU3RyZWFtIG9iamVjdC5cbiAgVGhlIHNldHRlciB1cGRhdGVzIHRoZSBidWZmZXIgYW5kIGJ5dGVPZmZzZXQgdG8gcG9pbnQgdG8gdGhlIERhdGFWaWV3IHZhbHVlcy5cbiAgQHR5cGUge09iamVjdH1cbiAgKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShEYXRhU3RyZWFtLnByb3RvdHlwZSwgJ2RhdGFWaWV3JyxcbiAgeyBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RhdGFWaWV3O1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2KSB7XG4gICAgICB0aGlzLl9ieXRlT2Zmc2V0ID0gdi5ieXRlT2Zmc2V0O1xuICAgICAgdGhpcy5fYnVmZmVyID0gdi5idWZmZXI7XG4gICAgICB0aGlzLl9kYXRhVmlldyA9IG5ldyBEYXRhVmlldyh0aGlzLl9idWZmZXIsIHRoaXMuX2J5dGVPZmZzZXQpO1xuICAgICAgdGhpcy5fYnl0ZUxlbmd0aCA9IHRoaXMuX2J5dGVPZmZzZXQgKyB2LmJ5dGVMZW5ndGg7XG4gICAgfSB9KTtcblxuLyoqXG4gIFNldHMgdGhlIERhdGFTdHJlYW0gcmVhZC93cml0ZSBwb3NpdGlvbiB0byBnaXZlbiBwb3NpdGlvbi5cbiAgQ2xhbXBzIGJldHdlZW4gMCBhbmQgRGF0YVN0cmVhbSBsZW5ndGguXG5cbiAgQHBhcmFtIHtudW1iZXJ9IHBvcyBQb3NpdGlvbiB0byBzZWVrIHRvLlxuICBAcmV0dXJuIHtudWxsfVxuICAqL1xuRGF0YVN0cmVhbS5wcm90b3R5cGUuc2VlayA9IGZ1bmN0aW9uKHBvcykge1xuICB2YXIgbnBvcyA9IE1hdGgubWF4KDAsIE1hdGgubWluKHRoaXMuYnl0ZUxlbmd0aCwgcG9zKSk7XG4gIHRoaXMucG9zaXRpb24gPSAoaXNOYU4obnBvcykgfHwgIWlzRmluaXRlKG5wb3MpKSA/IDAgOiBucG9zO1xufTtcblxuLyoqXG4gIFJldHVybnMgdHJ1ZSBpZiB0aGUgRGF0YVN0cmVhbSBzZWVrIHBvaW50ZXIgaXMgYXQgdGhlIGVuZCBvZiBidWZmZXIgYW5kXG4gIHRoZXJlJ3Mgbm8gbW9yZSBkYXRhIHRvIHJlYWQuXG5cbiAgQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgc2VlayBwb2ludGVyIGlzIGF0IHRoZSBlbmQgb2YgdGhlIGJ1ZmZlci5cbiAgKi9cbkRhdGFTdHJlYW0ucHJvdG90eXBlLmlzRW9mID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAodGhpcy5wb3NpdGlvbiA+PSB0aGlzLl9ieXRlTGVuZ3RoKTtcbn07XG5cblxuLyoqXG4gIE1hcHMgYSBVaW50OEFycmF5IGludG8gdGhlIERhdGFTdHJlYW0gYnVmZmVyLlxuXG4gIE5pY2UgZm9yIHF1aWNrbHkgcmVhZGluZyBpbiBkYXRhLlxuXG4gIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggTnVtYmVyIG9mIGVsZW1lbnRzIHRvIG1hcC5cbiAgQHBhcmFtIHs/Ym9vbGVhbn0gZSBFbmRpYW5uZXNzIG9mIHRoZSBkYXRhIHRvIHJlYWQuXG4gIEByZXR1cm4ge09iamVjdH0gVWludDhBcnJheSB0byB0aGUgRGF0YVN0cmVhbSBiYWNraW5nIGJ1ZmZlci5cbiAgKi9cbkRhdGFTdHJlYW0ucHJvdG90eXBlLm1hcFVpbnQ4QXJyYXkgPSBmdW5jdGlvbihsZW5ndGgpIHtcbiAgdGhpcy5fcmVhbGxvYyhsZW5ndGggKiAxKTtcbiAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KHRoaXMuX2J1ZmZlciwgdGhpcy5ieXRlT2Zmc2V0K3RoaXMucG9zaXRpb24sIGxlbmd0aCk7XG4gIHRoaXMucG9zaXRpb24gKz0gbGVuZ3RoICogMTtcbiAgcmV0dXJuIGFycjtcbn07XG5cblxuLyoqXG4gIFJlYWRzIGFuIEludDMyQXJyYXkgb2YgZGVzaXJlZCBsZW5ndGggYW5kIGVuZGlhbm5lc3MgZnJvbSB0aGUgRGF0YVN0cmVhbS5cblxuICBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIE51bWJlciBvZiBlbGVtZW50cyB0byBtYXAuXG4gIEBwYXJhbSB7P2Jvb2xlYW59IGUgRW5kaWFubmVzcyBvZiB0aGUgZGF0YSB0byByZWFkLlxuICBAcmV0dXJuIHtPYmplY3R9IFRoZSByZWFkIEludDMyQXJyYXkuXG4gKi9cbkRhdGFTdHJlYW0ucHJvdG90eXBlLnJlYWRJbnQzMkFycmF5ID0gZnVuY3Rpb24obGVuZ3RoLCBlKSB7XG4gIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gKHRoaXMuYnl0ZUxlbmd0aC10aGlzLnBvc2l0aW9uIC8gNCkgOiBsZW5ndGg7XG4gIHZhciBhcnIgPSBuZXcgSW50MzJBcnJheShsZW5ndGgpO1xuICBEYXRhU3RyZWFtLm1lbWNweShhcnIuYnVmZmVyLCAwLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlciwgdGhpcy5ieXRlT2Zmc2V0K3RoaXMucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aCphcnIuQllURVNfUEVSX0VMRU1FTlQpO1xuICBEYXRhU3RyZWFtLmFycmF5VG9OYXRpdmUoYXJyLCBlID09IG51bGwgPyB0aGlzLmVuZGlhbm5lc3MgOiBlKTtcbiAgdGhpcy5wb3NpdGlvbiArPSBhcnIuYnl0ZUxlbmd0aDtcbiAgcmV0dXJuIGFycjtcbn07XG5cbi8qKlxuICBSZWFkcyBhbiBJbnQxNkFycmF5IG9mIGRlc2lyZWQgbGVuZ3RoIGFuZCBlbmRpYW5uZXNzIGZyb20gdGhlIERhdGFTdHJlYW0uXG5cbiAgQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gbWFwLlxuICBAcGFyYW0gez9ib29sZWFufSBlIEVuZGlhbm5lc3Mgb2YgdGhlIGRhdGEgdG8gcmVhZC5cbiAgQHJldHVybiB7T2JqZWN0fSBUaGUgcmVhZCBJbnQxNkFycmF5LlxuICovXG5EYXRhU3RyZWFtLnByb3RvdHlwZS5yZWFkSW50MTZBcnJheSA9IGZ1bmN0aW9uKGxlbmd0aCwgZSkge1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/ICh0aGlzLmJ5dGVMZW5ndGgtdGhpcy5wb3NpdGlvbiAvIDIpIDogbGVuZ3RoO1xuICB2YXIgYXJyID0gbmV3IEludDE2QXJyYXkobGVuZ3RoKTtcbiAgRGF0YVN0cmVhbS5tZW1jcHkoYXJyLmJ1ZmZlciwgMCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idWZmZXIsIHRoaXMuYnl0ZU9mZnNldCt0aGlzLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICBsZW5ndGgqYXJyLkJZVEVTX1BFUl9FTEVNRU5UKTtcbiAgRGF0YVN0cmVhbS5hcnJheVRvTmF0aXZlKGFyciwgZSA9PSBudWxsID8gdGhpcy5lbmRpYW5uZXNzIDogZSk7XG4gIHRoaXMucG9zaXRpb24gKz0gYXJyLmJ5dGVMZW5ndGg7XG4gIHJldHVybiBhcnI7XG59O1xuXG4vKipcbiAgUmVhZHMgYW4gSW50OEFycmF5IG9mIGRlc2lyZWQgbGVuZ3RoIGZyb20gdGhlIERhdGFTdHJlYW0uXG5cbiAgQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gbWFwLlxuICBAcGFyYW0gez9ib29sZWFufSBlIEVuZGlhbm5lc3Mgb2YgdGhlIGRhdGEgdG8gcmVhZC5cbiAgQHJldHVybiB7T2JqZWN0fSBUaGUgcmVhZCBJbnQ4QXJyYXkuXG4gKi9cbkRhdGFTdHJlYW0ucHJvdG90eXBlLnJlYWRJbnQ4QXJyYXkgPSBmdW5jdGlvbihsZW5ndGgpIHtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyAodGhpcy5ieXRlTGVuZ3RoLXRoaXMucG9zaXRpb24pIDogbGVuZ3RoO1xuICB2YXIgYXJyID0gbmV3IEludDhBcnJheShsZW5ndGgpO1xuICBEYXRhU3RyZWFtLm1lbWNweShhcnIuYnVmZmVyLCAwLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlciwgdGhpcy5ieXRlT2Zmc2V0K3RoaXMucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aCphcnIuQllURVNfUEVSX0VMRU1FTlQpO1xuICB0aGlzLnBvc2l0aW9uICs9IGFyci5ieXRlTGVuZ3RoO1xuICByZXR1cm4gYXJyO1xufTtcblxuLyoqXG4gIFJlYWRzIGEgVWludDMyQXJyYXkgb2YgZGVzaXJlZCBsZW5ndGggYW5kIGVuZGlhbm5lc3MgZnJvbSB0aGUgRGF0YVN0cmVhbS5cblxuICBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIE51bWJlciBvZiBlbGVtZW50cyB0byBtYXAuXG4gIEBwYXJhbSB7P2Jvb2xlYW59IGUgRW5kaWFubmVzcyBvZiB0aGUgZGF0YSB0byByZWFkLlxuICBAcmV0dXJuIHtPYmplY3R9IFRoZSByZWFkIFVpbnQzMkFycmF5LlxuICovXG5EYXRhU3RyZWFtLnByb3RvdHlwZS5yZWFkVWludDMyQXJyYXkgPSBmdW5jdGlvbihsZW5ndGgsIGUpIHtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyAodGhpcy5ieXRlTGVuZ3RoLXRoaXMucG9zaXRpb24gLyA0KSA6IGxlbmd0aDtcbiAgdmFyIGFyciA9IG5ldyBVaW50MzJBcnJheShsZW5ndGgpO1xuICBEYXRhU3RyZWFtLm1lbWNweShhcnIuYnVmZmVyLCAwLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlciwgdGhpcy5ieXRlT2Zmc2V0K3RoaXMucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aCphcnIuQllURVNfUEVSX0VMRU1FTlQpO1xuICBEYXRhU3RyZWFtLmFycmF5VG9OYXRpdmUoYXJyLCBlID09IG51bGwgPyB0aGlzLmVuZGlhbm5lc3MgOiBlKTtcbiAgdGhpcy5wb3NpdGlvbiArPSBhcnIuYnl0ZUxlbmd0aDtcbiAgcmV0dXJuIGFycjtcbn07XG5cbi8qKlxuICBSZWFkcyBhIFVpbnQxNkFycmF5IG9mIGRlc2lyZWQgbGVuZ3RoIGFuZCBlbmRpYW5uZXNzIGZyb20gdGhlIERhdGFTdHJlYW0uXG5cbiAgQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gbWFwLlxuICBAcGFyYW0gez9ib29sZWFufSBlIEVuZGlhbm5lc3Mgb2YgdGhlIGRhdGEgdG8gcmVhZC5cbiAgQHJldHVybiB7T2JqZWN0fSBUaGUgcmVhZCBVaW50MTZBcnJheS5cbiAqL1xuRGF0YVN0cmVhbS5wcm90b3R5cGUucmVhZFVpbnQxNkFycmF5ID0gZnVuY3Rpb24obGVuZ3RoLCBlKSB7XG4gIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gKHRoaXMuYnl0ZUxlbmd0aC10aGlzLnBvc2l0aW9uIC8gMikgOiBsZW5ndGg7XG4gIHZhciBhcnIgPSBuZXcgVWludDE2QXJyYXkobGVuZ3RoKTtcbiAgRGF0YVN0cmVhbS5tZW1jcHkoYXJyLmJ1ZmZlciwgMCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idWZmZXIsIHRoaXMuYnl0ZU9mZnNldCt0aGlzLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICBsZW5ndGgqYXJyLkJZVEVTX1BFUl9FTEVNRU5UKTtcbiAgRGF0YVN0cmVhbS5hcnJheVRvTmF0aXZlKGFyciwgZSA9PSBudWxsID8gdGhpcy5lbmRpYW5uZXNzIDogZSk7XG4gIHRoaXMucG9zaXRpb24gKz0gYXJyLmJ5dGVMZW5ndGg7XG4gIHJldHVybiBhcnI7XG59O1xuXG4vKipcbiAgUmVhZHMgYSBVaW50OEFycmF5IG9mIGRlc2lyZWQgbGVuZ3RoIGZyb20gdGhlIERhdGFTdHJlYW0uXG5cbiAgQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gbWFwLlxuICBAcGFyYW0gez9ib29sZWFufSBlIEVuZGlhbm5lc3Mgb2YgdGhlIGRhdGEgdG8gcmVhZC5cbiAgQHJldHVybiB7T2JqZWN0fSBUaGUgcmVhZCBVaW50OEFycmF5LlxuICovXG5EYXRhU3RyZWFtLnByb3RvdHlwZS5yZWFkVWludDhBcnJheSA9IGZ1bmN0aW9uKGxlbmd0aCkge1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/ICh0aGlzLmJ5dGVMZW5ndGgtdGhpcy5wb3NpdGlvbikgOiBsZW5ndGg7XG4gIHZhciBhcnIgPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuICBEYXRhU3RyZWFtLm1lbWNweShhcnIuYnVmZmVyLCAwLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlciwgdGhpcy5ieXRlT2Zmc2V0K3RoaXMucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aCphcnIuQllURVNfUEVSX0VMRU1FTlQpO1xuICB0aGlzLnBvc2l0aW9uICs9IGFyci5ieXRlTGVuZ3RoO1xuICByZXR1cm4gYXJyO1xufTtcblxuLyoqXG4gIFJlYWRzIGEgRmxvYXQ2NEFycmF5IG9mIGRlc2lyZWQgbGVuZ3RoIGFuZCBlbmRpYW5uZXNzIGZyb20gdGhlIERhdGFTdHJlYW0uXG5cbiAgQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gbWFwLlxuICBAcGFyYW0gez9ib29sZWFufSBlIEVuZGlhbm5lc3Mgb2YgdGhlIGRhdGEgdG8gcmVhZC5cbiAgQHJldHVybiB7T2JqZWN0fSBUaGUgcmVhZCBGbG9hdDY0QXJyYXkuXG4gKi9cbkRhdGFTdHJlYW0ucHJvdG90eXBlLnJlYWRGbG9hdDY0QXJyYXkgPSBmdW5jdGlvbihsZW5ndGgsIGUpIHtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyAodGhpcy5ieXRlTGVuZ3RoLXRoaXMucG9zaXRpb24gLyA4KSA6IGxlbmd0aDtcbiAgdmFyIGFyciA9IG5ldyBGbG9hdDY0QXJyYXkobGVuZ3RoKTtcbiAgRGF0YVN0cmVhbS5tZW1jcHkoYXJyLmJ1ZmZlciwgMCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idWZmZXIsIHRoaXMuYnl0ZU9mZnNldCt0aGlzLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICBsZW5ndGgqYXJyLkJZVEVTX1BFUl9FTEVNRU5UKTtcbiAgRGF0YVN0cmVhbS5hcnJheVRvTmF0aXZlKGFyciwgZSA9PSBudWxsID8gdGhpcy5lbmRpYW5uZXNzIDogZSk7XG4gIHRoaXMucG9zaXRpb24gKz0gYXJyLmJ5dGVMZW5ndGg7XG4gIHJldHVybiBhcnI7XG59O1xuXG4vKipcbiAgUmVhZHMgYSBGbG9hdDMyQXJyYXkgb2YgZGVzaXJlZCBsZW5ndGggYW5kIGVuZGlhbm5lc3MgZnJvbSB0aGUgRGF0YVN0cmVhbS5cblxuICBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIE51bWJlciBvZiBlbGVtZW50cyB0byBtYXAuXG4gIEBwYXJhbSB7P2Jvb2xlYW59IGUgRW5kaWFubmVzcyBvZiB0aGUgZGF0YSB0byByZWFkLlxuICBAcmV0dXJuIHtPYmplY3R9IFRoZSByZWFkIEZsb2F0MzJBcnJheS5cbiAqL1xuRGF0YVN0cmVhbS5wcm90b3R5cGUucmVhZEZsb2F0MzJBcnJheSA9IGZ1bmN0aW9uKGxlbmd0aCwgZSkge1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/ICh0aGlzLmJ5dGVMZW5ndGgtdGhpcy5wb3NpdGlvbiAvIDQpIDogbGVuZ3RoO1xuICB2YXIgYXJyID0gbmV3IEZsb2F0MzJBcnJheShsZW5ndGgpO1xuICBEYXRhU3RyZWFtLm1lbWNweShhcnIuYnVmZmVyLCAwLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlciwgdGhpcy5ieXRlT2Zmc2V0K3RoaXMucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aCphcnIuQllURVNfUEVSX0VMRU1FTlQpO1xuICBEYXRhU3RyZWFtLmFycmF5VG9OYXRpdmUoYXJyLCBlID09IG51bGwgPyB0aGlzLmVuZGlhbm5lc3MgOiBlKTtcbiAgdGhpcy5wb3NpdGlvbiArPSBhcnIuYnl0ZUxlbmd0aDtcbiAgcmV0dXJuIGFycjtcbn07XG5cblxuLyoqXG4gIFJlYWRzIGEgMzItYml0IGludCBmcm9tIHRoZSBEYXRhU3RyZWFtIHdpdGggdGhlIGRlc2lyZWQgZW5kaWFubmVzcy5cblxuICBAcGFyYW0gez9ib29sZWFufSBlIEVuZGlhbm5lc3Mgb2YgdGhlIG51bWJlci5cbiAgQHJldHVybiB7bnVtYmVyfSBUaGUgcmVhZCBudW1iZXIuXG4gKi9cbkRhdGFTdHJlYW0ucHJvdG90eXBlLnJlYWRJbnQzMiA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHYgPSB0aGlzLl9kYXRhVmlldy5nZXRJbnQzMih0aGlzLnBvc2l0aW9uLCBlID09IG51bGwgPyB0aGlzLmVuZGlhbm5lc3MgOiBlKTtcbiAgdGhpcy5wb3NpdGlvbiArPSA0O1xuICByZXR1cm4gdjtcbn07XG5cbi8qKlxuICBSZWFkcyBhIDE2LWJpdCBpbnQgZnJvbSB0aGUgRGF0YVN0cmVhbSB3aXRoIHRoZSBkZXNpcmVkIGVuZGlhbm5lc3MuXG5cbiAgQHBhcmFtIHs/Ym9vbGVhbn0gZSBFbmRpYW5uZXNzIG9mIHRoZSBudW1iZXIuXG4gIEByZXR1cm4ge251bWJlcn0gVGhlIHJlYWQgbnVtYmVyLlxuICovXG5EYXRhU3RyZWFtLnByb3RvdHlwZS5yZWFkSW50MTYgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB2ID0gdGhpcy5fZGF0YVZpZXcuZ2V0SW50MTYodGhpcy5wb3NpdGlvbiwgZSA9PSBudWxsID8gdGhpcy5lbmRpYW5uZXNzIDogZSk7XG4gIHRoaXMucG9zaXRpb24gKz0gMjtcbiAgcmV0dXJuIHY7XG59O1xuXG4vKipcbiAgUmVhZHMgYW4gOC1iaXQgaW50IGZyb20gdGhlIERhdGFTdHJlYW0uXG5cbiAgQHJldHVybiB7bnVtYmVyfSBUaGUgcmVhZCBudW1iZXIuXG4gKi9cbkRhdGFTdHJlYW0ucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24oKSB7XG4gIHZhciB2ID0gdGhpcy5fZGF0YVZpZXcuZ2V0SW50OCh0aGlzLnBvc2l0aW9uKTtcbiAgdGhpcy5wb3NpdGlvbiArPSAxO1xuICByZXR1cm4gdjtcbn07XG5cbi8qKlxuICBSZWFkcyBhIDMyLWJpdCB1bnNpZ25lZCBpbnQgZnJvbSB0aGUgRGF0YVN0cmVhbSB3aXRoIHRoZSBkZXNpcmVkIGVuZGlhbm5lc3MuXG5cbiAgQHBhcmFtIHs/Ym9vbGVhbn0gZSBFbmRpYW5uZXNzIG9mIHRoZSBudW1iZXIuXG4gIEByZXR1cm4ge251bWJlcn0gVGhlIHJlYWQgbnVtYmVyLlxuICovXG5EYXRhU3RyZWFtLnByb3RvdHlwZS5yZWFkVWludDMyID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdiA9IHRoaXMuX2RhdGFWaWV3LmdldFVpbnQzMih0aGlzLnBvc2l0aW9uLCBlID09IG51bGwgPyB0aGlzLmVuZGlhbm5lc3MgOiBlKTtcbiAgdGhpcy5wb3NpdGlvbiArPSA0O1xuICByZXR1cm4gdjtcbn07XG5cbi8qKlxuICBSZWFkcyBhIDE2LWJpdCB1bnNpZ25lZCBpbnQgZnJvbSB0aGUgRGF0YVN0cmVhbSB3aXRoIHRoZSBkZXNpcmVkIGVuZGlhbm5lc3MuXG5cbiAgQHBhcmFtIHs/Ym9vbGVhbn0gZSBFbmRpYW5uZXNzIG9mIHRoZSBudW1iZXIuXG4gIEByZXR1cm4ge251bWJlcn0gVGhlIHJlYWQgbnVtYmVyLlxuICovXG5EYXRhU3RyZWFtLnByb3RvdHlwZS5yZWFkVWludDE2ID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdiA9IHRoaXMuX2RhdGFWaWV3LmdldFVpbnQxNih0aGlzLnBvc2l0aW9uLCBlID09IG51bGwgPyB0aGlzLmVuZGlhbm5lc3MgOiBlKTtcbiAgdGhpcy5wb3NpdGlvbiArPSAyO1xuICByZXR1cm4gdjtcbn07XG5cbi8qKlxuICBSZWFkcyBhbiA4LWJpdCB1bnNpZ25lZCBpbnQgZnJvbSB0aGUgRGF0YVN0cmVhbS5cblxuICBAcmV0dXJuIHtudW1iZXJ9IFRoZSByZWFkIG51bWJlci5cbiAqL1xuRGF0YVN0cmVhbS5wcm90b3R5cGUucmVhZFVpbnQ4ID0gZnVuY3Rpb24oKSB7XG4gIHZhciB2ID0gdGhpcy5fZGF0YVZpZXcuZ2V0VWludDgodGhpcy5wb3NpdGlvbik7XG4gIHRoaXMucG9zaXRpb24gKz0gMTtcbiAgcmV0dXJuIHY7XG59O1xuXG4vKipcbiAgUmVhZHMgYSAzMi1iaXQgZmxvYXQgZnJvbSB0aGUgRGF0YVN0cmVhbSB3aXRoIHRoZSBkZXNpcmVkIGVuZGlhbm5lc3MuXG5cbiAgQHBhcmFtIHs/Ym9vbGVhbn0gZSBFbmRpYW5uZXNzIG9mIHRoZSBudW1iZXIuXG4gIEByZXR1cm4ge251bWJlcn0gVGhlIHJlYWQgbnVtYmVyLlxuICovXG5EYXRhU3RyZWFtLnByb3RvdHlwZS5yZWFkRmxvYXQzMiA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHYgPSB0aGlzLl9kYXRhVmlldy5nZXRGbG9hdDMyKHRoaXMucG9zaXRpb24sIGUgPT0gbnVsbCA/IHRoaXMuZW5kaWFubmVzcyA6IGUpO1xuICB0aGlzLnBvc2l0aW9uICs9IDQ7XG4gIHJldHVybiB2O1xufTtcblxuLyoqXG4gIFJlYWRzIGEgNjQtYml0IGZsb2F0IGZyb20gdGhlIERhdGFTdHJlYW0gd2l0aCB0aGUgZGVzaXJlZCBlbmRpYW5uZXNzLlxuXG4gIEBwYXJhbSB7P2Jvb2xlYW59IGUgRW5kaWFubmVzcyBvZiB0aGUgbnVtYmVyLlxuICBAcmV0dXJuIHtudW1iZXJ9IFRoZSByZWFkIG51bWJlci5cbiAqL1xuRGF0YVN0cmVhbS5wcm90b3R5cGUucmVhZEZsb2F0NjQgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB2ID0gdGhpcy5fZGF0YVZpZXcuZ2V0RmxvYXQ2NCh0aGlzLnBvc2l0aW9uLCBlID09IG51bGwgPyB0aGlzLmVuZGlhbm5lc3MgOiBlKTtcbiAgdGhpcy5wb3NpdGlvbiArPSA4O1xuICByZXR1cm4gdjtcbn07XG5cbi8qKlxuICBOYXRpdmUgZW5kaWFubmVzcy4gRWl0aGVyIERhdGFTdHJlYW0uQklHX0VORElBTiBvciBEYXRhU3RyZWFtLkxJVFRMRV9FTkRJQU5cbiAgZGVwZW5kaW5nIG9uIHRoZSBwbGF0Zm9ybSBlbmRpYW5uZXNzLlxuXG4gIEB0eXBlIHtib29sZWFufVxuICovXG5EYXRhU3RyZWFtLmVuZGlhbm5lc3MgPSBuZXcgSW50OEFycmF5KG5ldyBJbnQxNkFycmF5KFsxXSkuYnVmZmVyKVswXSA+IDA7XG5cbi8qKlxuICBDb3BpZXMgYnl0ZUxlbmd0aCBieXRlcyBmcm9tIHRoZSBzcmMgYnVmZmVyIGF0IHNyY09mZnNldCB0byB0aGVcbiAgZHN0IGJ1ZmZlciBhdCBkc3RPZmZzZXQuXG5cbiAgQHBhcmFtIHtPYmplY3R9IGRzdCBEZXN0aW5hdGlvbiBBcnJheUJ1ZmZlciB0byB3cml0ZSB0by5cbiAgQHBhcmFtIHtudW1iZXJ9IGRzdE9mZnNldCBPZmZzZXQgdG8gdGhlIGRlc3RpbmF0aW9uIEFycmF5QnVmZmVyLlxuICBAcGFyYW0ge09iamVjdH0gc3JjIFNvdXJjZSBBcnJheUJ1ZmZlciB0byByZWFkIGZyb20uXG4gIEBwYXJhbSB7bnVtYmVyfSBzcmNPZmZzZXQgT2Zmc2V0IHRvIHRoZSBzb3VyY2UgQXJyYXlCdWZmZXIuXG4gIEBwYXJhbSB7bnVtYmVyfSBieXRlTGVuZ3RoIE51bWJlciBvZiBieXRlcyB0byBjb3B5LlxuICovXG5EYXRhU3RyZWFtLm1lbWNweSA9IGZ1bmN0aW9uKGRzdCwgZHN0T2Zmc2V0LCBzcmMsIHNyY09mZnNldCwgYnl0ZUxlbmd0aCkge1xuICB2YXIgZHN0VTggPSBuZXcgVWludDhBcnJheShkc3QsIGRzdE9mZnNldCwgYnl0ZUxlbmd0aCk7XG4gIHZhciBzcmNVOCA9IG5ldyBVaW50OEFycmF5KHNyYywgc3JjT2Zmc2V0LCBieXRlTGVuZ3RoKTtcbiAgZHN0VTguc2V0KHNyY1U4KTtcbn07XG5cbi8qKlxuICBDb252ZXJ0cyBhcnJheSB0byBuYXRpdmUgZW5kaWFubmVzcyBpbi1wbGFjZS5cblxuICBAcGFyYW0ge09iamVjdH0gYXJyYXkgVHlwZWQgYXJyYXkgdG8gY29udmVydC5cbiAgQHBhcmFtIHtib29sZWFufSBhcnJheUlzTGl0dGxlRW5kaWFuIFRydWUgaWYgdGhlIGRhdGEgaW4gdGhlIGFycmF5IGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXR0bGUtZW5kaWFuLiBTZXQgZmFsc2UgZm9yIGJpZy1lbmRpYW4uXG4gIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnZlcnRlZCB0eXBlZCBhcnJheS5cbiAqL1xuRGF0YVN0cmVhbS5hcnJheVRvTmF0aXZlID0gZnVuY3Rpb24oYXJyYXksIGFycmF5SXNMaXR0bGVFbmRpYW4pIHtcbiAgaWYgKGFycmF5SXNMaXR0bGVFbmRpYW4gPT0gdGhpcy5lbmRpYW5uZXNzKSB7XG4gICAgcmV0dXJuIGFycmF5O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0aGlzLmZsaXBBcnJheUVuZGlhbm5lc3MoYXJyYXkpO1xuICB9XG59O1xuXG4vKipcbiAgQ29udmVydHMgbmF0aXZlIGVuZGlhbm5lc3MgYXJyYXkgdG8gZGVzaXJlZCBlbmRpYW5uZXNzIGluLXBsYWNlLlxuXG4gIEBwYXJhbSB7T2JqZWN0fSBhcnJheSBUeXBlZCBhcnJheSB0byBjb252ZXJ0LlxuICBAcGFyYW0ge2Jvb2xlYW59IGxpdHRsZUVuZGlhbiBUcnVlIGlmIHRoZSBjb252ZXJ0ZWQgYXJyYXkgc2hvdWxkIGJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpdHRsZS1lbmRpYW4uIFNldCBmYWxzZSBmb3IgYmlnLWVuZGlhbi5cbiAgQHJldHVybiB7T2JqZWN0fSBUaGUgY29udmVydGVkIHR5cGVkIGFycmF5LlxuICovXG5EYXRhU3RyZWFtLm5hdGl2ZVRvRW5kaWFuID0gZnVuY3Rpb24oYXJyYXksIGxpdHRsZUVuZGlhbikge1xuICBpZiAodGhpcy5lbmRpYW5uZXNzID09IGxpdHRsZUVuZGlhbikge1xuICAgIHJldHVybiBhcnJheTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdGhpcy5mbGlwQXJyYXlFbmRpYW5uZXNzKGFycmF5KTtcbiAgfVxufTtcblxuLyoqXG4gIEZsaXBzIHR5cGVkIGFycmF5IGVuZGlhbm5lc3MgaW4tcGxhY2UuXG5cbiAgQHBhcmFtIHtPYmplY3R9IGFycmF5IFR5cGVkIGFycmF5IHRvIGZsaXAuXG4gIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnZlcnRlZCB0eXBlZCBhcnJheS5cbiAqL1xuRGF0YVN0cmVhbS5mbGlwQXJyYXlFbmRpYW5uZXNzID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgdmFyIHU4ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXkuYnVmZmVyLCBhcnJheS5ieXRlT2Zmc2V0LCBhcnJheS5ieXRlTGVuZ3RoKTtcbiAgZm9yICh2YXIgaT0wOyBpPGFycmF5LmJ5dGVMZW5ndGg7IGkrPWFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKSB7XG4gICAgZm9yICh2YXIgaj1pK2FycmF5LkJZVEVTX1BFUl9FTEVNRU5ULTEsIGs9aTsgaj5rOyBqLS0sIGsrKykge1xuICAgICAgdmFyIHRtcCA9IHU4W2tdO1xuICAgICAgdThba10gPSB1OFtqXTtcbiAgICAgIHU4W2pdID0gdG1wO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYXJyYXk7XG59O1xuXG4vKipcbiAgU2VlayBwb3NpdGlvbiB3aGVyZSBEYXRhU3RyZWFtI3JlYWRTdHJ1Y3QgcmFuIGludG8gYSBwcm9ibGVtLlxuICBVc2VmdWwgZm9yIGRlYnVnZ2luZyBzdHJ1Y3QgcGFyc2luZy5cblxuICBAdHlwZSB7bnVtYmVyfVxuICovXG5EYXRhU3RyZWFtLnByb3RvdHlwZS5mYWlsdXJlUG9zaXRpb24gPSAwO1xuXG5TdHJpbmcuZnJvbUNoYXJDb2RlVWludDggPSBmdW5jdGlvbih1aW50OGFycikge1xuICAgIHZhciBhcnIgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVpbnQ4YXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcnJbaV0gPSB1aW50OGFycltpXTtcbiAgICB9XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgYXJyKTtcbn1cbi8qKlxuICBSZWFkIGEgc3RyaW5nIG9mIGRlc2lyZWQgbGVuZ3RoIGFuZCBlbmNvZGluZyBmcm9tIHRoZSBEYXRhU3RyZWFtLlxuXG4gIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggVGhlIGxlbmd0aCBvZiB0aGUgc3RyaW5nIHRvIHJlYWQgaW4gYnl0ZXMuXG4gIEBwYXJhbSB7P3N0cmluZ30gZW5jb2RpbmcgVGhlIGVuY29kaW5nIG9mIHRoZSBzdHJpbmcgZGF0YSBpbiB0aGUgRGF0YVN0cmVhbS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0cyB0byBBU0NJSS5cbiAgQHJldHVybiB7c3RyaW5nfSBUaGUgcmVhZCBzdHJpbmcuXG4gKi9cbkRhdGFTdHJlYW0ucHJvdG90eXBlLnJlYWRTdHJpbmcgPSBmdW5jdGlvbihsZW5ndGgsIGVuY29kaW5nKSB7XG4gIGlmIChlbmNvZGluZyA9PSBudWxsIHx8IGVuY29kaW5nID09IFwiQVNDSUlcIikge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlVWludDguYXBwbHkobnVsbCwgW3RoaXMubWFwVWludDhBcnJheShsZW5ndGggPT0gbnVsbCA/IHRoaXMuYnl0ZUxlbmd0aC10aGlzLnBvc2l0aW9uIDogbGVuZ3RoKV0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAobmV3IFRleHREZWNvZGVyKGVuY29kaW5nKSkuZGVjb2RlKHRoaXMubWFwVWludDhBcnJheShsZW5ndGgpKTtcbiAgfVxufTtcblxuLyoqXG4gIFJlYWQgbnVsbC10ZXJtaW5hdGVkIHN0cmluZyBvZiBkZXNpcmVkIGxlbmd0aCBmcm9tIHRoZSBEYXRhU3RyZWFtLiBUcnVuY2F0ZXNcbiAgdGhlIHJldHVybmVkIHN0cmluZyBzbyB0aGF0IHRoZSBudWxsIGJ5dGUgaXMgbm90IGEgcGFydCBvZiBpdC5cblxuICBAcGFyYW0gez9udW1iZXJ9IGxlbmd0aCBUaGUgbGVuZ3RoIG9mIHRoZSBzdHJpbmcgdG8gcmVhZC5cbiAgQHJldHVybiB7c3RyaW5nfSBUaGUgcmVhZCBzdHJpbmcuXG4gKi9cbkRhdGFTdHJlYW0ucHJvdG90eXBlLnJlYWRDU3RyaW5nID0gZnVuY3Rpb24obGVuZ3RoKSB7XG4gIHZhciBibGVuID0gdGhpcy5ieXRlTGVuZ3RoLXRoaXMucG9zaXRpb247XG4gIHZhciB1OCA9IG5ldyBVaW50OEFycmF5KHRoaXMuX2J1ZmZlciwgdGhpcy5fYnl0ZU9mZnNldCArIHRoaXMucG9zaXRpb24pO1xuICB2YXIgbGVuID0gYmxlbjtcbiAgaWYgKGxlbmd0aCAhPSBudWxsKSB7XG4gICAgbGVuID0gTWF0aC5taW4obGVuZ3RoLCBibGVuKTtcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbiAmJiB1OFtpXSAhPT0gMDsgaSsrKTsgLy8gZmluZCBmaXJzdCB6ZXJvIGJ5dGVcbiAgdmFyIHMgPSBTdHJpbmcuZnJvbUNoYXJDb2RlVWludDguYXBwbHkobnVsbCwgW3RoaXMubWFwVWludDhBcnJheShpKV0pO1xuICBpZiAobGVuZ3RoICE9IG51bGwpIHtcbiAgICB0aGlzLnBvc2l0aW9uICs9IGxlbi1pO1xuICB9IGVsc2UgaWYgKGkgIT0gYmxlbikge1xuICAgIHRoaXMucG9zaXRpb24gKz0gMTsgLy8gdHJhaWxpbmcgemVybyBpZiBub3QgYXQgZW5kIG9mIGJ1ZmZlclxuICB9XG4gIHJldHVybiBzO1xufTtcblxuLyogXG4gICBUT0RPOiBmaXggZW5kaWFubmVzcyBmb3IgMjQvNjQtYml0IGZpZWxkc1xuICAgVE9ETzogY2hlY2sgcmFuZ2Uvc3VwcG9ydCBmb3IgNjQtYml0cyBudW1iZXJzIGluIEphdmFTY3JpcHRcbiovXG52YXIgTUFYX1NJWkUgPSBNYXRoLnBvdygyLCAzMik7XG5cbkRhdGFTdHJlYW0ucHJvdG90eXBlLnJlYWRJbnQ2NCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICh0aGlzLnJlYWRJbnQzMigpKk1BWF9TSVpFKSt0aGlzLnJlYWRVaW50MzIoKTtcbn1cbkRhdGFTdHJlYW0ucHJvdG90eXBlLnJlYWRVaW50NjQgPSBmdW5jdGlvbiAoKSB7XG5cdHJldHVybiAodGhpcy5yZWFkVWludDMyKCkqTUFYX1NJWkUpK3RoaXMucmVhZFVpbnQzMigpO1xufVxuXG5EYXRhU3RyZWFtLnByb3RvdHlwZS5yZWFkSW50NjQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAodGhpcy5yZWFkVWludDMyKCkqTUFYX1NJWkUpK3RoaXMucmVhZFVpbnQzMigpO1xufVxuXG5EYXRhU3RyZWFtLnByb3RvdHlwZS5yZWFkVWludDI0ID0gZnVuY3Rpb24gKCkge1xuXHRyZXR1cm4gKHRoaXMucmVhZFVpbnQ4KCk8PDE2KSsodGhpcy5yZWFkVWludDgoKTw8OCkrdGhpcy5yZWFkVWludDgoKTtcbn1cblxuaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICBleHBvcnRzLkRhdGFTdHJlYW0gPSBEYXRhU3RyZWFtOyAgXG59XG4vLyBmaWxlOnNyYy9EYXRhU3RyZWFtLXdyaXRlLmpzXG4vKipcbiAgU2F2ZXMgdGhlIERhdGFTdHJlYW0gY29udGVudHMgdG8gdGhlIGdpdmVuIGZpbGVuYW1lLlxuICBVc2VzIENocm9tZSdzIGFuY2hvciBkb3dubG9hZCBwcm9wZXJ0eSB0byBpbml0aWF0ZSBkb3dubG9hZC5cbiBcbiAgQHBhcmFtIHtzdHJpbmd9IGZpbGVuYW1lIEZpbGVuYW1lIHRvIHNhdmUgYXMuXG4gIEByZXR1cm4ge251bGx9XG4gICovXG5EYXRhU3RyZWFtLnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24oZmlsZW5hbWUpIHtcbiAgdmFyIGJsb2IgPSBuZXcgQmxvYihbdGhpcy5idWZmZXJdKTtcbiAgaWYgKHdpbmRvdy5VUkwgJiYgVVJMLmNyZWF0ZU9iamVjdFVSTCkge1xuICAgICAgdmFyIHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAvLyBSZXF1aXJlZCBpbiBGaXJlZm94OlxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICAgIGEuc2V0QXR0cmlidXRlKCdocmVmJywgdXJsKTtcbiAgICAgIGEuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIGZpbGVuYW1lKTtcbiAgICAgIC8vIFJlcXVpcmVkIGluIEZpcmVmb3g6XG4gICAgICBhLnNldEF0dHJpYnV0ZSgndGFyZ2V0JywgJ19zZWxmJyk7XG4gICAgICBhLmNsaWNrKCk7XG4gICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICB9IGVsc2Uge1xuICAgICAgdGhyb3coXCJEYXRhU3RyZWFtLnNhdmU6IENhbid0IGNyZWF0ZSBvYmplY3QgVVJMLlwiKTtcbiAgfVxufTtcblxuLyoqXG4gIFdoZXRoZXIgdG8gZXh0ZW5kIERhdGFTdHJlYW0gYnVmZmVyIHdoZW4gdHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBpdHMgc2l6ZS5cbiAgSWYgc2V0LCB0aGUgYnVmZmVyIGlzIHJlYWxsb2NhdGVkIHRvIHR3aWNlIGl0cyBjdXJyZW50IHNpemUgdW50aWwgdGhlXG4gIHJlcXVlc3RlZCB3cml0ZSBmaXRzIHRoZSBidWZmZXIuXG4gIEB0eXBlIHtib29sZWFufVxuICAqL1xuRGF0YVN0cmVhbS5wcm90b3R5cGUuX2R5bmFtaWNTaXplID0gdHJ1ZTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShEYXRhU3RyZWFtLnByb3RvdHlwZSwgJ2R5bmFtaWNTaXplJyxcbiAgeyBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2R5bmFtaWNTaXplO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2KSB7XG4gICAgICBpZiAoIXYpIHtcbiAgICAgICAgdGhpcy5fdHJpbUFsbG9jKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9keW5hbWljU2l6ZSA9IHY7XG4gICAgfSB9KTtcblxuLyoqXG4gIEludGVybmFsIGZ1bmN0aW9uIHRvIHRyaW0gdGhlIERhdGFTdHJlYW0gYnVmZmVyIHdoZW4gcmVxdWlyZWQuXG4gIFVzZWQgZm9yIHN0cmlwcGluZyBvdXQgdGhlIGZpcnN0IGJ5dGVzIHdoZW4gbm90IG5lZWRlZCBhbnltb3JlLlxuXG4gIEByZXR1cm4ge251bGx9XG4gICovXG5EYXRhU3RyZWFtLnByb3RvdHlwZS5zaGlmdCA9IGZ1bmN0aW9uKG9mZnNldCkge1xuICB2YXIgYnVmID0gbmV3IEFycmF5QnVmZmVyKHRoaXMuX2J5dGVMZW5ndGgtb2Zmc2V0KTtcbiAgdmFyIGRzdCA9IG5ldyBVaW50OEFycmF5KGJ1Zik7XG4gIHZhciBzcmMgPSBuZXcgVWludDhBcnJheSh0aGlzLl9idWZmZXIsIG9mZnNldCwgZHN0Lmxlbmd0aCk7XG4gIGRzdC5zZXQoc3JjKTtcbiAgdGhpcy5idWZmZXIgPSBidWY7XG4gIHRoaXMucG9zaXRpb24gLT0gb2Zmc2V0O1xufTtcblxuLyoqXG4gIFdyaXRlcyBhbiBJbnQzMkFycmF5IG9mIHNwZWNpZmllZCBlbmRpYW5uZXNzIHRvIHRoZSBEYXRhU3RyZWFtLlxuXG4gIEBwYXJhbSB7T2JqZWN0fSBhcnIgVGhlIGFycmF5IHRvIHdyaXRlLlxuICBAcGFyYW0gez9ib29sZWFufSBlIEVuZGlhbm5lc3Mgb2YgdGhlIGRhdGEgdG8gd3JpdGUuXG4gKi9cbkRhdGFTdHJlYW0ucHJvdG90eXBlLndyaXRlSW50MzJBcnJheSA9IGZ1bmN0aW9uKGFyciwgZSkge1xuICB0aGlzLl9yZWFsbG9jKGFyci5sZW5ndGggKiA0KTtcbiAgaWYgKGFyciBpbnN0YW5jZW9mIEludDMyQXJyYXkgJiZcbiAgICAgIHRoaXMuYnl0ZU9mZnNldCt0aGlzLnBvc2l0aW9uICUgYXJyLkJZVEVTX1BFUl9FTEVNRU5UID09PSAwKSB7XG4gICAgRGF0YVN0cmVhbS5tZW1jcHkodGhpcy5fYnVmZmVyLCB0aGlzLmJ5dGVPZmZzZXQrdGhpcy5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICBhcnIuYnVmZmVyLCAwLFxuICAgICAgICAgICAgICAgICAgICAgIGFyci5ieXRlTGVuZ3RoKTtcbiAgICB0aGlzLm1hcEludDMyQXJyYXkoYXJyLmxlbmd0aCwgZSk7XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaT0wOyBpPGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy53cml0ZUludDMyKGFycltpXSwgZSk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAgV3JpdGVzIGFuIEludDE2QXJyYXkgb2Ygc3BlY2lmaWVkIGVuZGlhbm5lc3MgdG8gdGhlIERhdGFTdHJlYW0uXG5cbiAgQHBhcmFtIHtPYmplY3R9IGFyciBUaGUgYXJyYXkgdG8gd3JpdGUuXG4gIEBwYXJhbSB7P2Jvb2xlYW59IGUgRW5kaWFubmVzcyBvZiB0aGUgZGF0YSB0byB3cml0ZS5cbiAqL1xuRGF0YVN0cmVhbS5wcm90b3R5cGUud3JpdGVJbnQxNkFycmF5ID0gZnVuY3Rpb24oYXJyLCBlKSB7XG4gIHRoaXMuX3JlYWxsb2MoYXJyLmxlbmd0aCAqIDIpO1xuICBpZiAoYXJyIGluc3RhbmNlb2YgSW50MTZBcnJheSAmJlxuICAgICAgdGhpcy5ieXRlT2Zmc2V0K3RoaXMucG9zaXRpb24gJSBhcnIuQllURVNfUEVSX0VMRU1FTlQgPT09IDApIHtcbiAgICBEYXRhU3RyZWFtLm1lbWNweSh0aGlzLl9idWZmZXIsIHRoaXMuYnl0ZU9mZnNldCt0aGlzLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgIGFyci5idWZmZXIsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgYXJyLmJ5dGVMZW5ndGgpO1xuICAgIHRoaXMubWFwSW50MTZBcnJheShhcnIubGVuZ3RoLCBlKTtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpPTA7IGk8YXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLndyaXRlSW50MTYoYXJyW2ldLCBlKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICBXcml0ZXMgYW4gSW50OEFycmF5IHRvIHRoZSBEYXRhU3RyZWFtLlxuXG4gIEBwYXJhbSB7T2JqZWN0fSBhcnIgVGhlIGFycmF5IHRvIHdyaXRlLlxuICovXG5EYXRhU3RyZWFtLnByb3RvdHlwZS53cml0ZUludDhBcnJheSA9IGZ1bmN0aW9uKGFycikge1xuICB0aGlzLl9yZWFsbG9jKGFyci5sZW5ndGggKiAxKTtcbiAgaWYgKGFyciBpbnN0YW5jZW9mIEludDhBcnJheSAmJlxuICAgICAgdGhpcy5ieXRlT2Zmc2V0K3RoaXMucG9zaXRpb24gJSBhcnIuQllURVNfUEVSX0VMRU1FTlQgPT09IDApIHtcbiAgICBEYXRhU3RyZWFtLm1lbWNweSh0aGlzLl9idWZmZXIsIHRoaXMuYnl0ZU9mZnNldCt0aGlzLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgIGFyci5idWZmZXIsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgYXJyLmJ5dGVMZW5ndGgpO1xuICAgIHRoaXMubWFwSW50OEFycmF5KGFyci5sZW5ndGgpO1xuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGk9MDsgaTxhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMud3JpdGVJbnQ4KGFycltpXSk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAgV3JpdGVzIGEgVWludDMyQXJyYXkgb2Ygc3BlY2lmaWVkIGVuZGlhbm5lc3MgdG8gdGhlIERhdGFTdHJlYW0uXG5cbiAgQHBhcmFtIHtPYmplY3R9IGFyciBUaGUgYXJyYXkgdG8gd3JpdGUuXG4gIEBwYXJhbSB7P2Jvb2xlYW59IGUgRW5kaWFubmVzcyBvZiB0aGUgZGF0YSB0byB3cml0ZS5cbiAqL1xuRGF0YVN0cmVhbS5wcm90b3R5cGUud3JpdGVVaW50MzJBcnJheSA9IGZ1bmN0aW9uKGFyciwgZSkge1xuICB0aGlzLl9yZWFsbG9jKGFyci5sZW5ndGggKiA0KTtcbiAgaWYgKGFyciBpbnN0YW5jZW9mIFVpbnQzMkFycmF5ICYmXG4gICAgICB0aGlzLmJ5dGVPZmZzZXQrdGhpcy5wb3NpdGlvbiAlIGFyci5CWVRFU19QRVJfRUxFTUVOVCA9PT0gMCkge1xuICAgIERhdGFTdHJlYW0ubWVtY3B5KHRoaXMuX2J1ZmZlciwgdGhpcy5ieXRlT2Zmc2V0K3RoaXMucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgYXJyLmJ1ZmZlciwgMCxcbiAgICAgICAgICAgICAgICAgICAgICBhcnIuYnl0ZUxlbmd0aCk7XG4gICAgdGhpcy5tYXBVaW50MzJBcnJheShhcnIubGVuZ3RoLCBlKTtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpPTA7IGk8YXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLndyaXRlVWludDMyKGFycltpXSwgZSk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAgV3JpdGVzIGEgVWludDE2QXJyYXkgb2Ygc3BlY2lmaWVkIGVuZGlhbm5lc3MgdG8gdGhlIERhdGFTdHJlYW0uXG5cbiAgQHBhcmFtIHtPYmplY3R9IGFyciBUaGUgYXJyYXkgdG8gd3JpdGUuXG4gIEBwYXJhbSB7P2Jvb2xlYW59IGUgRW5kaWFubmVzcyBvZiB0aGUgZGF0YSB0byB3cml0ZS5cbiAqL1xuRGF0YVN0cmVhbS5wcm90b3R5cGUud3JpdGVVaW50MTZBcnJheSA9IGZ1bmN0aW9uKGFyciwgZSkge1xuICB0aGlzLl9yZWFsbG9jKGFyci5sZW5ndGggKiAyKTtcbiAgaWYgKGFyciBpbnN0YW5jZW9mIFVpbnQxNkFycmF5ICYmXG4gICAgICB0aGlzLmJ5dGVPZmZzZXQrdGhpcy5wb3NpdGlvbiAlIGFyci5CWVRFU19QRVJfRUxFTUVOVCA9PT0gMCkge1xuICAgIERhdGFTdHJlYW0ubWVtY3B5KHRoaXMuX2J1ZmZlciwgdGhpcy5ieXRlT2Zmc2V0K3RoaXMucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgYXJyLmJ1ZmZlciwgMCxcbiAgICAgICAgICAgICAgICAgICAgICBhcnIuYnl0ZUxlbmd0aCk7XG4gICAgdGhpcy5tYXBVaW50MTZBcnJheShhcnIubGVuZ3RoLCBlKTtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpPTA7IGk8YXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLndyaXRlVWludDE2KGFycltpXSwgZSk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAgV3JpdGVzIGEgVWludDhBcnJheSB0byB0aGUgRGF0YVN0cmVhbS5cblxuICBAcGFyYW0ge09iamVjdH0gYXJyIFRoZSBhcnJheSB0byB3cml0ZS5cbiAqL1xuRGF0YVN0cmVhbS5wcm90b3R5cGUud3JpdGVVaW50OEFycmF5ID0gZnVuY3Rpb24oYXJyKSB7XG4gIHRoaXMuX3JlYWxsb2MoYXJyLmxlbmd0aCAqIDEpO1xuICBpZiAoYXJyIGluc3RhbmNlb2YgVWludDhBcnJheSAmJlxuICAgICAgdGhpcy5ieXRlT2Zmc2V0K3RoaXMucG9zaXRpb24gJSBhcnIuQllURVNfUEVSX0VMRU1FTlQgPT09IDApIHtcbiAgICBEYXRhU3RyZWFtLm1lbWNweSh0aGlzLl9idWZmZXIsIHRoaXMuYnl0ZU9mZnNldCt0aGlzLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgIGFyci5idWZmZXIsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgYXJyLmJ5dGVMZW5ndGgpO1xuICAgIHRoaXMubWFwVWludDhBcnJheShhcnIubGVuZ3RoKTtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpPTA7IGk8YXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLndyaXRlVWludDgoYXJyW2ldKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICBXcml0ZXMgYSBGbG9hdDY0QXJyYXkgb2Ygc3BlY2lmaWVkIGVuZGlhbm5lc3MgdG8gdGhlIERhdGFTdHJlYW0uXG5cbiAgQHBhcmFtIHtPYmplY3R9IGFyciBUaGUgYXJyYXkgdG8gd3JpdGUuXG4gIEBwYXJhbSB7P2Jvb2xlYW59IGUgRW5kaWFubmVzcyBvZiB0aGUgZGF0YSB0byB3cml0ZS5cbiAqL1xuRGF0YVN0cmVhbS5wcm90b3R5cGUud3JpdGVGbG9hdDY0QXJyYXkgPSBmdW5jdGlvbihhcnIsIGUpIHtcbiAgdGhpcy5fcmVhbGxvYyhhcnIubGVuZ3RoICogOCk7XG4gIGlmIChhcnIgaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXkgJiZcbiAgICAgIHRoaXMuYnl0ZU9mZnNldCt0aGlzLnBvc2l0aW9uICUgYXJyLkJZVEVTX1BFUl9FTEVNRU5UID09PSAwKSB7XG4gICAgRGF0YVN0cmVhbS5tZW1jcHkodGhpcy5fYnVmZmVyLCB0aGlzLmJ5dGVPZmZzZXQrdGhpcy5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICBhcnIuYnVmZmVyLCAwLFxuICAgICAgICAgICAgICAgICAgICAgIGFyci5ieXRlTGVuZ3RoKTtcbiAgICB0aGlzLm1hcEZsb2F0NjRBcnJheShhcnIubGVuZ3RoLCBlKTtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpPTA7IGk8YXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLndyaXRlRmxvYXQ2NChhcnJbaV0sIGUpO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gIFdyaXRlcyBhIEZsb2F0MzJBcnJheSBvZiBzcGVjaWZpZWQgZW5kaWFubmVzcyB0byB0aGUgRGF0YVN0cmVhbS5cblxuICBAcGFyYW0ge09iamVjdH0gYXJyIFRoZSBhcnJheSB0byB3cml0ZS5cbiAgQHBhcmFtIHs/Ym9vbGVhbn0gZSBFbmRpYW5uZXNzIG9mIHRoZSBkYXRhIHRvIHdyaXRlLlxuICovXG5EYXRhU3RyZWFtLnByb3RvdHlwZS53cml0ZUZsb2F0MzJBcnJheSA9IGZ1bmN0aW9uKGFyciwgZSkge1xuICB0aGlzLl9yZWFsbG9jKGFyci5sZW5ndGggKiA0KTtcbiAgaWYgKGFyciBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSAmJlxuICAgICAgdGhpcy5ieXRlT2Zmc2V0K3RoaXMucG9zaXRpb24gJSBhcnIuQllURVNfUEVSX0VMRU1FTlQgPT09IDApIHtcbiAgICBEYXRhU3RyZWFtLm1lbWNweSh0aGlzLl9idWZmZXIsIHRoaXMuYnl0ZU9mZnNldCt0aGlzLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgIGFyci5idWZmZXIsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgYXJyLmJ5dGVMZW5ndGgpO1xuICAgIHRoaXMubWFwRmxvYXQzMkFycmF5KGFyci5sZW5ndGgsIGUpO1xuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGk9MDsgaTxhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMud3JpdGVGbG9hdDMyKGFycltpXSwgZSk7XG4gICAgfVxuICB9XG59O1xuXG5cbi8qKlxuICBXcml0ZXMgYSAzMi1iaXQgaW50IHRvIHRoZSBEYXRhU3RyZWFtIHdpdGggdGhlIGRlc2lyZWQgZW5kaWFubmVzcy5cblxuICBAcGFyYW0ge251bWJlcn0gdiBOdW1iZXIgdG8gd3JpdGUuXG4gIEBwYXJhbSB7P2Jvb2xlYW59IGUgRW5kaWFubmVzcyBvZiB0aGUgbnVtYmVyLlxuICovXG5EYXRhU3RyZWFtLnByb3RvdHlwZS53cml0ZUludDMyID0gZnVuY3Rpb24odiwgZSkge1xuICB0aGlzLl9yZWFsbG9jKDQpO1xuICB0aGlzLl9kYXRhVmlldy5zZXRJbnQzMih0aGlzLnBvc2l0aW9uLCB2LCBlID09IG51bGwgPyB0aGlzLmVuZGlhbm5lc3MgOiBlKTtcbiAgdGhpcy5wb3NpdGlvbiArPSA0O1xufTtcblxuLyoqXG4gIFdyaXRlcyBhIDE2LWJpdCBpbnQgdG8gdGhlIERhdGFTdHJlYW0gd2l0aCB0aGUgZGVzaXJlZCBlbmRpYW5uZXNzLlxuXG4gIEBwYXJhbSB7bnVtYmVyfSB2IE51bWJlciB0byB3cml0ZS5cbiAgQHBhcmFtIHs/Ym9vbGVhbn0gZSBFbmRpYW5uZXNzIG9mIHRoZSBudW1iZXIuXG4gKi9cbkRhdGFTdHJlYW0ucHJvdG90eXBlLndyaXRlSW50MTYgPSBmdW5jdGlvbih2LCBlKSB7XG4gIHRoaXMuX3JlYWxsb2MoMik7XG4gIHRoaXMuX2RhdGFWaWV3LnNldEludDE2KHRoaXMucG9zaXRpb24sIHYsIGUgPT0gbnVsbCA/IHRoaXMuZW5kaWFubmVzcyA6IGUpO1xuICB0aGlzLnBvc2l0aW9uICs9IDI7XG59O1xuXG4vKipcbiAgV3JpdGVzIGFuIDgtYml0IGludCB0byB0aGUgRGF0YVN0cmVhbS5cblxuICBAcGFyYW0ge251bWJlcn0gdiBOdW1iZXIgdG8gd3JpdGUuXG4gKi9cbkRhdGFTdHJlYW0ucHJvdG90eXBlLndyaXRlSW50OCA9IGZ1bmN0aW9uKHYpIHtcbiAgdGhpcy5fcmVhbGxvYygxKTtcbiAgdGhpcy5fZGF0YVZpZXcuc2V0SW50OCh0aGlzLnBvc2l0aW9uLCB2KTtcbiAgdGhpcy5wb3NpdGlvbiArPSAxO1xufTtcblxuLyoqXG4gIFdyaXRlcyBhIDMyLWJpdCB1bnNpZ25lZCBpbnQgdG8gdGhlIERhdGFTdHJlYW0gd2l0aCB0aGUgZGVzaXJlZCBlbmRpYW5uZXNzLlxuXG4gIEBwYXJhbSB7bnVtYmVyfSB2IE51bWJlciB0byB3cml0ZS5cbiAgQHBhcmFtIHs/Ym9vbGVhbn0gZSBFbmRpYW5uZXNzIG9mIHRoZSBudW1iZXIuXG4gKi9cbkRhdGFTdHJlYW0ucHJvdG90eXBlLndyaXRlVWludDMyID0gZnVuY3Rpb24odiwgZSkge1xuICB0aGlzLl9yZWFsbG9jKDQpO1xuICB0aGlzLl9kYXRhVmlldy5zZXRVaW50MzIodGhpcy5wb3NpdGlvbiwgdiwgZSA9PSBudWxsID8gdGhpcy5lbmRpYW5uZXNzIDogZSk7XG4gIHRoaXMucG9zaXRpb24gKz0gNDtcbn07XG5cbi8qKlxuICBXcml0ZXMgYSAxNi1iaXQgdW5zaWduZWQgaW50IHRvIHRoZSBEYXRhU3RyZWFtIHdpdGggdGhlIGRlc2lyZWQgZW5kaWFubmVzcy5cblxuICBAcGFyYW0ge251bWJlcn0gdiBOdW1iZXIgdG8gd3JpdGUuXG4gIEBwYXJhbSB7P2Jvb2xlYW59IGUgRW5kaWFubmVzcyBvZiB0aGUgbnVtYmVyLlxuICovXG5EYXRhU3RyZWFtLnByb3RvdHlwZS53cml0ZVVpbnQxNiA9IGZ1bmN0aW9uKHYsIGUpIHtcbiAgdGhpcy5fcmVhbGxvYygyKTtcbiAgdGhpcy5fZGF0YVZpZXcuc2V0VWludDE2KHRoaXMucG9zaXRpb24sIHYsIGUgPT0gbnVsbCA/IHRoaXMuZW5kaWFubmVzcyA6IGUpO1xuICB0aGlzLnBvc2l0aW9uICs9IDI7XG59O1xuXG4vKipcbiAgV3JpdGVzIGFuIDgtYml0IHVuc2lnbmVkICBpbnQgdG8gdGhlIERhdGFTdHJlYW0uXG5cbiAgQHBhcmFtIHtudW1iZXJ9IHYgTnVtYmVyIHRvIHdyaXRlLlxuICovXG5EYXRhU3RyZWFtLnByb3RvdHlwZS53cml0ZVVpbnQ4ID0gZnVuY3Rpb24odikge1xuICB0aGlzLl9yZWFsbG9jKDEpO1xuICB0aGlzLl9kYXRhVmlldy5zZXRVaW50OCh0aGlzLnBvc2l0aW9uLCB2KTtcbiAgdGhpcy5wb3NpdGlvbiArPSAxO1xufTtcblxuLyoqXG4gIFdyaXRlcyBhIDMyLWJpdCBmbG9hdCB0byB0aGUgRGF0YVN0cmVhbSB3aXRoIHRoZSBkZXNpcmVkIGVuZGlhbm5lc3MuXG5cbiAgQHBhcmFtIHtudW1iZXJ9IHYgTnVtYmVyIHRvIHdyaXRlLlxuICBAcGFyYW0gez9ib29sZWFufSBlIEVuZGlhbm5lc3Mgb2YgdGhlIG51bWJlci5cbiAqL1xuRGF0YVN0cmVhbS5wcm90b3R5cGUud3JpdGVGbG9hdDMyID0gZnVuY3Rpb24odiwgZSkge1xuICB0aGlzLl9yZWFsbG9jKDQpO1xuICB0aGlzLl9kYXRhVmlldy5zZXRGbG9hdDMyKHRoaXMucG9zaXRpb24sIHYsIGUgPT0gbnVsbCA/IHRoaXMuZW5kaWFubmVzcyA6IGUpO1xuICB0aGlzLnBvc2l0aW9uICs9IDQ7XG59O1xuXG4vKipcbiAgV3JpdGVzIGEgNjQtYml0IGZsb2F0IHRvIHRoZSBEYXRhU3RyZWFtIHdpdGggdGhlIGRlc2lyZWQgZW5kaWFubmVzcy5cblxuICBAcGFyYW0ge251bWJlcn0gdiBOdW1iZXIgdG8gd3JpdGUuXG4gIEBwYXJhbSB7P2Jvb2xlYW59IGUgRW5kaWFubmVzcyBvZiB0aGUgbnVtYmVyLlxuICovXG5EYXRhU3RyZWFtLnByb3RvdHlwZS53cml0ZUZsb2F0NjQgPSBmdW5jdGlvbih2LCBlKSB7XG4gIHRoaXMuX3JlYWxsb2MoOCk7XG4gIHRoaXMuX2RhdGFWaWV3LnNldEZsb2F0NjQodGhpcy5wb3NpdGlvbiwgdiwgZSA9PSBudWxsID8gdGhpcy5lbmRpYW5uZXNzIDogZSk7XG4gIHRoaXMucG9zaXRpb24gKz0gODtcbn07XG5cbi8qKlxuICBXcml0ZSBhIFVDUy0yIHN0cmluZyBvZiBkZXNpcmVkIGVuZGlhbm5lc3MgdG8gdGhlIERhdGFTdHJlYW0uIFRoZVxuICBsZW5ndGhPdmVycmlkZSBhcmd1bWVudCBsZXRzIHlvdSBkZWZpbmUgdGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzIHRvIHdyaXRlLlxuICBJZiB0aGUgc3RyaW5nIGlzIHNob3J0ZXIgdGhhbiBsZW5ndGhPdmVycmlkZSwgdGhlIGV4dHJhIHNwYWNlIGlzIHBhZGRlZCB3aXRoXG4gIHplcm9lcy5cblxuICBAcGFyYW0ge3N0cmluZ30gc3RyIFRoZSBzdHJpbmcgdG8gd3JpdGUuXG4gIEBwYXJhbSB7P2Jvb2xlYW59IGVuZGlhbm5lc3MgVGhlIGVuZGlhbm5lc3MgdG8gdXNlIGZvciB0aGUgd3JpdHRlbiBzdHJpbmcgZGF0YS5cbiAgQHBhcmFtIHs/bnVtYmVyfSBsZW5ndGhPdmVycmlkZSBUaGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgdG8gd3JpdGUuXG4gKi9cbkRhdGFTdHJlYW0ucHJvdG90eXBlLndyaXRlVUNTMlN0cmluZyA9IGZ1bmN0aW9uKHN0ciwgZW5kaWFubmVzcywgbGVuZ3RoT3ZlcnJpZGUpIHtcbiAgaWYgKGxlbmd0aE92ZXJyaWRlID09IG51bGwpIHtcbiAgICBsZW5ndGhPdmVycmlkZSA9IHN0ci5sZW5ndGg7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoICYmIGkgPCBsZW5ndGhPdmVycmlkZTsgaSsrKSB7XG4gICAgdGhpcy53cml0ZVVpbnQxNihzdHIuY2hhckNvZGVBdChpKSwgZW5kaWFubmVzcyk7XG4gIH1cbiAgZm9yICg7IGk8bGVuZ3RoT3ZlcnJpZGU7IGkrKykge1xuICAgIHRoaXMud3JpdGVVaW50MTYoMCk7XG4gIH1cbn07XG5cbi8qKlxuICBXcml0ZXMgYSBzdHJpbmcgb2YgZGVzaXJlZCBsZW5ndGggYW5kIGVuY29kaW5nIHRvIHRoZSBEYXRhU3RyZWFtLlxuXG4gIEBwYXJhbSB7c3RyaW5nfSBzIFRoZSBzdHJpbmcgdG8gd3JpdGUuXG4gIEBwYXJhbSB7P3N0cmluZ30gZW5jb2RpbmcgVGhlIGVuY29kaW5nIGZvciB0aGUgd3JpdHRlbiBzdHJpbmcgZGF0YS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0cyB0byBBU0NJSS5cbiAgQHBhcmFtIHs/bnVtYmVyfSBsZW5ndGggVGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzIHRvIHdyaXRlLlxuICovXG5EYXRhU3RyZWFtLnByb3RvdHlwZS53cml0ZVN0cmluZyA9IGZ1bmN0aW9uKHMsIGVuY29kaW5nLCBsZW5ndGgpIHtcbiAgdmFyIGkgPSAwO1xuICBpZiAoZW5jb2RpbmcgPT0gbnVsbCB8fCBlbmNvZGluZyA9PSBcIkFTQ0lJXCIpIHtcbiAgICBpZiAobGVuZ3RoICE9IG51bGwpIHtcbiAgICAgIHZhciBsZW4gPSBNYXRoLm1pbihzLmxlbmd0aCwgbGVuZ3RoKTtcbiAgICAgIGZvciAoaT0wOyBpPGxlbjsgaSsrKSB7XG4gICAgICAgIHRoaXMud3JpdGVVaW50OChzLmNoYXJDb2RlQXQoaSkpO1xuICAgICAgfVxuICAgICAgZm9yICg7IGk8bGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy53cml0ZVVpbnQ4KDApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGk9MDsgaTxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMud3JpdGVVaW50OChzLmNoYXJDb2RlQXQoaSkpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLndyaXRlVWludDhBcnJheSgobmV3IFRleHRFbmNvZGVyKGVuY29kaW5nKSkuZW5jb2RlKHMuc3Vic3RyaW5nKDAsIGxlbmd0aCkpKTtcbiAgfVxufTtcblxuLyoqXG4gIFdyaXRlcyBhIG51bGwtdGVybWluYXRlZCBzdHJpbmcgdG8gRGF0YVN0cmVhbSBhbmQgemVyby1wYWRzIGl0IHRvIGxlbmd0aFxuICBieXRlcy4gSWYgbGVuZ3RoIGlzIG5vdCBnaXZlbiwgd3JpdGVzIHRoZSBzdHJpbmcgZm9sbG93ZWQgYnkgYSB6ZXJvLlxuICBJZiBzdHJpbmcgaXMgbG9uZ2VyIHRoYW4gbGVuZ3RoLCB0aGUgd3JpdHRlbiBwYXJ0IG9mIHRoZSBzdHJpbmcgZG9lcyBub3QgaGF2ZVxuICBhIHRyYWlsaW5nIHplcm8uXG5cbiAgQHBhcmFtIHtzdHJpbmd9IHMgVGhlIHN0cmluZyB0byB3cml0ZS5cbiAgQHBhcmFtIHs/bnVtYmVyfSBsZW5ndGggVGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzIHRvIHdyaXRlLlxuICovXG5EYXRhU3RyZWFtLnByb3RvdHlwZS53cml0ZUNTdHJpbmcgPSBmdW5jdGlvbihzLCBsZW5ndGgpIHtcbiAgdmFyIGkgPSAwO1xuICBpZiAobGVuZ3RoICE9IG51bGwpIHtcbiAgICB2YXIgbGVuID0gTWF0aC5taW4ocy5sZW5ndGgsIGxlbmd0aCk7XG4gICAgZm9yIChpPTA7IGk8bGVuOyBpKyspIHtcbiAgICAgIHRoaXMud3JpdGVVaW50OChzLmNoYXJDb2RlQXQoaSkpO1xuICAgIH1cbiAgICBmb3IgKDsgaTxsZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy53cml0ZVVpbnQ4KDApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKGk9MDsgaTxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLndyaXRlVWludDgocy5jaGFyQ29kZUF0KGkpKTtcbiAgICB9XG4gICAgdGhpcy53cml0ZVVpbnQ4KDApO1xuICB9XG59O1xuXG4vKipcbiAgV3JpdGVzIGEgc3RydWN0IHRvIHRoZSBEYXRhU3RyZWFtLiBUYWtlcyBhIHN0cnVjdERlZmluaXRpb24gdGhhdCBnaXZlcyB0aGVcbiAgdHlwZXMgYW5kIGEgc3RydWN0IG9iamVjdCB0aGF0IGdpdmVzIHRoZSB2YWx1ZXMuIFJlZmVyIHRvIHJlYWRTdHJ1Y3QgZm9yIHRoZVxuICBzdHJ1Y3R1cmUgb2Ygc3RydWN0RGVmaW5pdGlvbi5cblxuICBAcGFyYW0ge09iamVjdH0gc3RydWN0RGVmaW5pdGlvbiBUeXBlIGRlZmluaXRpb24gb2YgdGhlIHN0cnVjdC5cbiAgQHBhcmFtIHtPYmplY3R9IHN0cnVjdCBUaGUgc3RydWN0IGRhdGEgb2JqZWN0LlxuICAqL1xuRGF0YVN0cmVhbS5wcm90b3R5cGUud3JpdGVTdHJ1Y3QgPSBmdW5jdGlvbihzdHJ1Y3REZWZpbml0aW9uLCBzdHJ1Y3QpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJ1Y3REZWZpbml0aW9uLmxlbmd0aDsgaSs9Mikge1xuICAgIHZhciB0ID0gc3RydWN0RGVmaW5pdGlvbltpKzFdO1xuICAgIHRoaXMud3JpdGVUeXBlKHQsIHN0cnVjdFtzdHJ1Y3REZWZpbml0aW9uW2ldXSwgc3RydWN0KTtcbiAgfVxufTtcblxuLyoqXG4gIFdyaXRlcyBvYmplY3QgdiBvZiB0eXBlIHQgdG8gdGhlIERhdGFTdHJlYW0uXG5cbiAgQHBhcmFtIHtPYmplY3R9IHQgVHlwZSBvZiBkYXRhIHRvIHdyaXRlLlxuICBAcGFyYW0ge09iamVjdH0gdiBWYWx1ZSBvZiBkYXRhIHRvIHdyaXRlLlxuICBAcGFyYW0ge09iamVjdH0gc3RydWN0IFN0cnVjdCB0byBwYXNzIHRvIHdyaXRlIGNhbGxiYWNrIGZ1bmN0aW9ucy5cbiAgKi9cbkRhdGFTdHJlYW0ucHJvdG90eXBlLndyaXRlVHlwZSA9IGZ1bmN0aW9uKHQsIHYsIHN0cnVjdCkge1xuICB2YXIgdHA7XG4gIGlmICh0eXBlb2YgdCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gdCh0aGlzLCB2KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdCA9PSBcIm9iamVjdFwiICYmICEodCBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgIHJldHVybiB0LnNldCh0aGlzLCB2LCBzdHJ1Y3QpO1xuICB9XG4gIHZhciBsZW5ndGhPdmVycmlkZSA9IG51bGw7XG4gIHZhciBjaGFyc2V0ID0gXCJBU0NJSVwiO1xuICB2YXIgcG9zID0gdGhpcy5wb3NpdGlvbjtcbiAgaWYgKHR5cGVvZih0KSA9PSAnc3RyaW5nJyAmJiAvOi8udGVzdCh0KSkge1xuICAgIHRwID0gdC5zcGxpdChcIjpcIik7XG4gICAgdCA9IHRwWzBdO1xuICAgIGxlbmd0aE92ZXJyaWRlID0gcGFyc2VJbnQodHBbMV0pO1xuICB9XG4gIGlmICh0eXBlb2YgdCA9PSAnc3RyaW5nJyAmJiAvLC8udGVzdCh0KSkge1xuICAgIHRwID0gdC5zcGxpdChcIixcIik7XG4gICAgdCA9IHRwWzBdO1xuICAgIGNoYXJzZXQgPSBwYXJzZUludCh0cFsxXSk7XG4gIH1cblxuICBzd2l0Y2godCkge1xuICAgIGNhc2UgJ3VpbnQ4JzpcbiAgICAgIHRoaXMud3JpdGVVaW50OCh2KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2ludDgnOlxuICAgICAgdGhpcy53cml0ZUludDgodik7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3VpbnQxNic6XG4gICAgICB0aGlzLndyaXRlVWludDE2KHYsIHRoaXMuZW5kaWFubmVzcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdpbnQxNic6XG4gICAgICB0aGlzLndyaXRlSW50MTYodiwgdGhpcy5lbmRpYW5uZXNzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3VpbnQzMic6XG4gICAgICB0aGlzLndyaXRlVWludDMyKHYsIHRoaXMuZW5kaWFubmVzcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdpbnQzMic6XG4gICAgICB0aGlzLndyaXRlSW50MzIodiwgdGhpcy5lbmRpYW5uZXNzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Zsb2F0MzInOlxuICAgICAgdGhpcy53cml0ZUZsb2F0MzIodiwgdGhpcy5lbmRpYW5uZXNzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Zsb2F0NjQnOlxuICAgICAgdGhpcy53cml0ZUZsb2F0NjQodiwgdGhpcy5lbmRpYW5uZXNzKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAndWludDE2YmUnOlxuICAgICAgdGhpcy53cml0ZVVpbnQxNih2LCBEYXRhU3RyZWFtLkJJR19FTkRJQU4pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaW50MTZiZSc6XG4gICAgICB0aGlzLndyaXRlSW50MTYodiwgRGF0YVN0cmVhbS5CSUdfRU5ESUFOKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3VpbnQzMmJlJzpcbiAgICAgIHRoaXMud3JpdGVVaW50MzIodiwgRGF0YVN0cmVhbS5CSUdfRU5ESUFOKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2ludDMyYmUnOlxuICAgICAgdGhpcy53cml0ZUludDMyKHYsIERhdGFTdHJlYW0uQklHX0VORElBTik7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdmbG9hdDMyYmUnOlxuICAgICAgdGhpcy53cml0ZUZsb2F0MzIodiwgRGF0YVN0cmVhbS5CSUdfRU5ESUFOKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Zsb2F0NjRiZSc6XG4gICAgICB0aGlzLndyaXRlRmxvYXQ2NCh2LCBEYXRhU3RyZWFtLkJJR19FTkRJQU4pO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICd1aW50MTZsZSc6XG4gICAgICB0aGlzLndyaXRlVWludDE2KHYsIERhdGFTdHJlYW0uTElUVExFX0VORElBTik7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdpbnQxNmxlJzpcbiAgICAgIHRoaXMud3JpdGVJbnQxNih2LCBEYXRhU3RyZWFtLkxJVFRMRV9FTkRJQU4pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndWludDMybGUnOlxuICAgICAgdGhpcy53cml0ZVVpbnQzMih2LCBEYXRhU3RyZWFtLkxJVFRMRV9FTkRJQU4pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaW50MzJsZSc6XG4gICAgICB0aGlzLndyaXRlSW50MzIodiwgRGF0YVN0cmVhbS5MSVRUTEVfRU5ESUFOKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Zsb2F0MzJsZSc6XG4gICAgICB0aGlzLndyaXRlRmxvYXQzMih2LCBEYXRhU3RyZWFtLkxJVFRMRV9FTkRJQU4pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZmxvYXQ2NGxlJzpcbiAgICAgIHRoaXMud3JpdGVGbG9hdDY0KHYsIERhdGFTdHJlYW0uTElUVExFX0VORElBTik7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2NzdHJpbmcnOlxuICAgICAgdGhpcy53cml0ZUNTdHJpbmcodiwgbGVuZ3RoT3ZlcnJpZGUpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgdGhpcy53cml0ZVN0cmluZyh2LCBjaGFyc2V0LCBsZW5ndGhPdmVycmlkZSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3UxNnN0cmluZyc6XG4gICAgICB0aGlzLndyaXRlVUNTMlN0cmluZyh2LCB0aGlzLmVuZGlhbm5lc3MsIGxlbmd0aE92ZXJyaWRlKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAndTE2c3RyaW5nbGUnOlxuICAgICAgdGhpcy53cml0ZVVDUzJTdHJpbmcodiwgRGF0YVN0cmVhbS5MSVRUTEVfRU5ESUFOLCBsZW5ndGhPdmVycmlkZSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3UxNnN0cmluZ2JlJzpcbiAgICAgIHRoaXMud3JpdGVVQ1MyU3RyaW5nKHYsIERhdGFTdHJlYW0uQklHX0VORElBTiwgbGVuZ3RoT3ZlcnJpZGUpO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgaWYgKHQubGVuZ3RoID09IDMpIHtcbiAgICAgICAgdmFyIHRhID0gdFsxXTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHYubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB0aGlzLndyaXRlVHlwZSh0YSwgdltpXSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLndyaXRlU3RydWN0KHQsIHYpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgfVxuICBpZiAobGVuZ3RoT3ZlcnJpZGUgIT0gbnVsbCkge1xuICAgIHRoaXMucG9zaXRpb24gPSBwb3M7XG4gICAgdGhpcy5fcmVhbGxvYyhsZW5ndGhPdmVycmlkZSk7XG4gICAgdGhpcy5wb3NpdGlvbiA9IHBvcyArIGxlbmd0aE92ZXJyaWRlO1xuICB9XG59O1xuXG5cbkRhdGFTdHJlYW0ucHJvdG90eXBlLndyaXRlVWludDY0ID0gZnVuY3Rpb24gKHYpIHtcblx0dmFyIGggPSBNYXRoLmZsb29yKHYgLyBNQVhfU0laRSk7XG5cdHRoaXMud3JpdGVVaW50MzIoaCk7XG5cdHRoaXMud3JpdGVVaW50MzIodiAmIDB4RkZGRkZGRkYpO1xufVxuXG5EYXRhU3RyZWFtLnByb3RvdHlwZS53cml0ZVVpbnQyNCA9IGZ1bmN0aW9uICh2KSB7XG5cdHRoaXMud3JpdGVVaW50OCgodiAmIDB4MDBGRjAwMDApPj4xNik7XG5cdHRoaXMud3JpdGVVaW50OCgodiAmIDB4MDAwMEZGMDApPj44KTtcblx0dGhpcy53cml0ZVVpbnQ4KCh2ICYgMHgwMDAwMDBGRikpO1xufVxuXG5EYXRhU3RyZWFtLnByb3RvdHlwZS5hZGp1c3RVaW50MzIgPSBmdW5jdGlvbihwb3NpdGlvbiwgdmFsdWUpIHtcblx0dmFyIHBvcyA9IHRoaXMucG9zaXRpb247XG5cdHRoaXMuc2Vlayhwb3NpdGlvbik7XG5cdHRoaXMud3JpdGVVaW50MzIodmFsdWUpO1xuXHR0aGlzLnNlZWsocG9zKTtcbn1cbi8vIGZpbGU6c3JjL0RhdGFTdHJlYW0tbWFwLmpzXG4vKipcbiAgTWFwcyBhbiBJbnQzMkFycmF5IGludG8gdGhlIERhdGFTdHJlYW0gYnVmZmVyLCBzd2l6emxpbmcgaXQgdG8gbmF0aXZlXG4gIGVuZGlhbm5lc3MgaW4tcGxhY2UuIFRoZSBjdXJyZW50IG9mZnNldCBmcm9tIHRoZSBzdGFydCBvZiB0aGUgYnVmZmVyIG5lZWRzIHRvXG4gIGJlIGEgbXVsdGlwbGUgb2YgZWxlbWVudCBzaXplLCBqdXN0IGxpa2Ugd2l0aCB0eXBlZCBhcnJheSB2aWV3cy5cblxuICBOaWNlIGZvciBxdWlja2x5IHJlYWRpbmcgaW4gZGF0YS4gV2FybmluZzogcG90ZW50aWFsbHkgbW9kaWZpZXMgdGhlIGJ1ZmZlclxuICBjb250ZW50cy5cblxuICBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIE51bWJlciBvZiBlbGVtZW50cyB0byBtYXAuXG4gIEBwYXJhbSB7P2Jvb2xlYW59IGUgRW5kaWFubmVzcyBvZiB0aGUgZGF0YSB0byByZWFkLlxuICBAcmV0dXJuIHtPYmplY3R9IEludDMyQXJyYXkgdG8gdGhlIERhdGFTdHJlYW0gYmFja2luZyBidWZmZXIuXG4gICovXG5EYXRhU3RyZWFtLnByb3RvdHlwZS5tYXBJbnQzMkFycmF5ID0gZnVuY3Rpb24obGVuZ3RoLCBlKSB7XG4gIHRoaXMuX3JlYWxsb2MobGVuZ3RoICogNCk7XG4gIHZhciBhcnIgPSBuZXcgSW50MzJBcnJheSh0aGlzLl9idWZmZXIsIHRoaXMuYnl0ZU9mZnNldCt0aGlzLnBvc2l0aW9uLCBsZW5ndGgpO1xuICBEYXRhU3RyZWFtLmFycmF5VG9OYXRpdmUoYXJyLCBlID09IG51bGwgPyB0aGlzLmVuZGlhbm5lc3MgOiBlKTtcbiAgdGhpcy5wb3NpdGlvbiArPSBsZW5ndGggKiA0O1xuICByZXR1cm4gYXJyO1xufTtcblxuLyoqXG4gIE1hcHMgYW4gSW50MTZBcnJheSBpbnRvIHRoZSBEYXRhU3RyZWFtIGJ1ZmZlciwgc3dpenpsaW5nIGl0IHRvIG5hdGl2ZVxuICBlbmRpYW5uZXNzIGluLXBsYWNlLiBUaGUgY3VycmVudCBvZmZzZXQgZnJvbSB0aGUgc3RhcnQgb2YgdGhlIGJ1ZmZlciBuZWVkcyB0b1xuICBiZSBhIG11bHRpcGxlIG9mIGVsZW1lbnQgc2l6ZSwganVzdCBsaWtlIHdpdGggdHlwZWQgYXJyYXkgdmlld3MuXG5cbiAgTmljZSBmb3IgcXVpY2tseSByZWFkaW5nIGluIGRhdGEuIFdhcm5pbmc6IHBvdGVudGlhbGx5IG1vZGlmaWVzIHRoZSBidWZmZXJcbiAgY29udGVudHMuXG5cbiAgQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gbWFwLlxuICBAcGFyYW0gez9ib29sZWFufSBlIEVuZGlhbm5lc3Mgb2YgdGhlIGRhdGEgdG8gcmVhZC5cbiAgQHJldHVybiB7T2JqZWN0fSBJbnQxNkFycmF5IHRvIHRoZSBEYXRhU3RyZWFtIGJhY2tpbmcgYnVmZmVyLlxuICAqL1xuRGF0YVN0cmVhbS5wcm90b3R5cGUubWFwSW50MTZBcnJheSA9IGZ1bmN0aW9uKGxlbmd0aCwgZSkge1xuICB0aGlzLl9yZWFsbG9jKGxlbmd0aCAqIDIpO1xuICB2YXIgYXJyID0gbmV3IEludDE2QXJyYXkodGhpcy5fYnVmZmVyLCB0aGlzLmJ5dGVPZmZzZXQrdGhpcy5wb3NpdGlvbiwgbGVuZ3RoKTtcbiAgRGF0YVN0cmVhbS5hcnJheVRvTmF0aXZlKGFyciwgZSA9PSBudWxsID8gdGhpcy5lbmRpYW5uZXNzIDogZSk7XG4gIHRoaXMucG9zaXRpb24gKz0gbGVuZ3RoICogMjtcbiAgcmV0dXJuIGFycjtcbn07XG5cbi8qKlxuICBNYXBzIGFuIEludDhBcnJheSBpbnRvIHRoZSBEYXRhU3RyZWFtIGJ1ZmZlci5cblxuICBOaWNlIGZvciBxdWlja2x5IHJlYWRpbmcgaW4gZGF0YS5cblxuICBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIE51bWJlciBvZiBlbGVtZW50cyB0byBtYXAuXG4gIEBwYXJhbSB7P2Jvb2xlYW59IGUgRW5kaWFubmVzcyBvZiB0aGUgZGF0YSB0byByZWFkLlxuICBAcmV0dXJuIHtPYmplY3R9IEludDhBcnJheSB0byB0aGUgRGF0YVN0cmVhbSBiYWNraW5nIGJ1ZmZlci5cbiAgKi9cbkRhdGFTdHJlYW0ucHJvdG90eXBlLm1hcEludDhBcnJheSA9IGZ1bmN0aW9uKGxlbmd0aCkge1xuICB0aGlzLl9yZWFsbG9jKGxlbmd0aCAqIDEpO1xuICB2YXIgYXJyID0gbmV3IEludDhBcnJheSh0aGlzLl9idWZmZXIsIHRoaXMuYnl0ZU9mZnNldCt0aGlzLnBvc2l0aW9uLCBsZW5ndGgpO1xuICB0aGlzLnBvc2l0aW9uICs9IGxlbmd0aCAqIDE7XG4gIHJldHVybiBhcnI7XG59O1xuXG4vKipcbiAgTWFwcyBhIFVpbnQzMkFycmF5IGludG8gdGhlIERhdGFTdHJlYW0gYnVmZmVyLCBzd2l6emxpbmcgaXQgdG8gbmF0aXZlXG4gIGVuZGlhbm5lc3MgaW4tcGxhY2UuIFRoZSBjdXJyZW50IG9mZnNldCBmcm9tIHRoZSBzdGFydCBvZiB0aGUgYnVmZmVyIG5lZWRzIHRvXG4gIGJlIGEgbXVsdGlwbGUgb2YgZWxlbWVudCBzaXplLCBqdXN0IGxpa2Ugd2l0aCB0eXBlZCBhcnJheSB2aWV3cy5cblxuICBOaWNlIGZvciBxdWlja2x5IHJlYWRpbmcgaW4gZGF0YS4gV2FybmluZzogcG90ZW50aWFsbHkgbW9kaWZpZXMgdGhlIGJ1ZmZlclxuICBjb250ZW50cy5cblxuICBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIE51bWJlciBvZiBlbGVtZW50cyB0byBtYXAuXG4gIEBwYXJhbSB7P2Jvb2xlYW59IGUgRW5kaWFubmVzcyBvZiB0aGUgZGF0YSB0byByZWFkLlxuICBAcmV0dXJuIHtPYmplY3R9IFVpbnQzMkFycmF5IHRvIHRoZSBEYXRhU3RyZWFtIGJhY2tpbmcgYnVmZmVyLlxuICAqL1xuRGF0YVN0cmVhbS5wcm90b3R5cGUubWFwVWludDMyQXJyYXkgPSBmdW5jdGlvbihsZW5ndGgsIGUpIHtcbiAgdGhpcy5fcmVhbGxvYyhsZW5ndGggKiA0KTtcbiAgdmFyIGFyciA9IG5ldyBVaW50MzJBcnJheSh0aGlzLl9idWZmZXIsIHRoaXMuYnl0ZU9mZnNldCt0aGlzLnBvc2l0aW9uLCBsZW5ndGgpO1xuICBEYXRhU3RyZWFtLmFycmF5VG9OYXRpdmUoYXJyLCBlID09IG51bGwgPyB0aGlzLmVuZGlhbm5lc3MgOiBlKTtcbiAgdGhpcy5wb3NpdGlvbiArPSBsZW5ndGggKiA0O1xuICByZXR1cm4gYXJyO1xufTtcblxuLyoqXG4gIE1hcHMgYSBVaW50MTZBcnJheSBpbnRvIHRoZSBEYXRhU3RyZWFtIGJ1ZmZlciwgc3dpenpsaW5nIGl0IHRvIG5hdGl2ZVxuICBlbmRpYW5uZXNzIGluLXBsYWNlLiBUaGUgY3VycmVudCBvZmZzZXQgZnJvbSB0aGUgc3RhcnQgb2YgdGhlIGJ1ZmZlciBuZWVkcyB0b1xuICBiZSBhIG11bHRpcGxlIG9mIGVsZW1lbnQgc2l6ZSwganVzdCBsaWtlIHdpdGggdHlwZWQgYXJyYXkgdmlld3MuXG5cbiAgTmljZSBmb3IgcXVpY2tseSByZWFkaW5nIGluIGRhdGEuIFdhcm5pbmc6IHBvdGVudGlhbGx5IG1vZGlmaWVzIHRoZSBidWZmZXJcbiAgY29udGVudHMuXG5cbiAgQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gbWFwLlxuICBAcGFyYW0gez9ib29sZWFufSBlIEVuZGlhbm5lc3Mgb2YgdGhlIGRhdGEgdG8gcmVhZC5cbiAgQHJldHVybiB7T2JqZWN0fSBVaW50MTZBcnJheSB0byB0aGUgRGF0YVN0cmVhbSBiYWNraW5nIGJ1ZmZlci5cbiAgKi9cbkRhdGFTdHJlYW0ucHJvdG90eXBlLm1hcFVpbnQxNkFycmF5ID0gZnVuY3Rpb24obGVuZ3RoLCBlKSB7XG4gIHRoaXMuX3JlYWxsb2MobGVuZ3RoICogMik7XG4gIHZhciBhcnIgPSBuZXcgVWludDE2QXJyYXkodGhpcy5fYnVmZmVyLCB0aGlzLmJ5dGVPZmZzZXQrdGhpcy5wb3NpdGlvbiwgbGVuZ3RoKTtcbiAgRGF0YVN0cmVhbS5hcnJheVRvTmF0aXZlKGFyciwgZSA9PSBudWxsID8gdGhpcy5lbmRpYW5uZXNzIDogZSk7XG4gIHRoaXMucG9zaXRpb24gKz0gbGVuZ3RoICogMjtcbiAgcmV0dXJuIGFycjtcbn07XG5cbi8qKlxuICBNYXBzIGEgRmxvYXQ2NEFycmF5IGludG8gdGhlIERhdGFTdHJlYW0gYnVmZmVyLCBzd2l6emxpbmcgaXQgdG8gbmF0aXZlXG4gIGVuZGlhbm5lc3MgaW4tcGxhY2UuIFRoZSBjdXJyZW50IG9mZnNldCBmcm9tIHRoZSBzdGFydCBvZiB0aGUgYnVmZmVyIG5lZWRzIHRvXG4gIGJlIGEgbXVsdGlwbGUgb2YgZWxlbWVudCBzaXplLCBqdXN0IGxpa2Ugd2l0aCB0eXBlZCBhcnJheSB2aWV3cy5cblxuICBOaWNlIGZvciBxdWlja2x5IHJlYWRpbmcgaW4gZGF0YS4gV2FybmluZzogcG90ZW50aWFsbHkgbW9kaWZpZXMgdGhlIGJ1ZmZlclxuICBjb250ZW50cy5cblxuICBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIE51bWJlciBvZiBlbGVtZW50cyB0byBtYXAuXG4gIEBwYXJhbSB7P2Jvb2xlYW59IGUgRW5kaWFubmVzcyBvZiB0aGUgZGF0YSB0byByZWFkLlxuICBAcmV0dXJuIHtPYmplY3R9IEZsb2F0NjRBcnJheSB0byB0aGUgRGF0YVN0cmVhbSBiYWNraW5nIGJ1ZmZlci5cbiAgKi9cbkRhdGFTdHJlYW0ucHJvdG90eXBlLm1hcEZsb2F0NjRBcnJheSA9IGZ1bmN0aW9uKGxlbmd0aCwgZSkge1xuICB0aGlzLl9yZWFsbG9jKGxlbmd0aCAqIDgpO1xuICB2YXIgYXJyID0gbmV3IEZsb2F0NjRBcnJheSh0aGlzLl9idWZmZXIsIHRoaXMuYnl0ZU9mZnNldCt0aGlzLnBvc2l0aW9uLCBsZW5ndGgpO1xuICBEYXRhU3RyZWFtLmFycmF5VG9OYXRpdmUoYXJyLCBlID09IG51bGwgPyB0aGlzLmVuZGlhbm5lc3MgOiBlKTtcbiAgdGhpcy5wb3NpdGlvbiArPSBsZW5ndGggKiA4O1xuICByZXR1cm4gYXJyO1xufTtcblxuLyoqXG4gIE1hcHMgYSBGbG9hdDMyQXJyYXkgaW50byB0aGUgRGF0YVN0cmVhbSBidWZmZXIsIHN3aXp6bGluZyBpdCB0byBuYXRpdmVcbiAgZW5kaWFubmVzcyBpbi1wbGFjZS4gVGhlIGN1cnJlbnQgb2Zmc2V0IGZyb20gdGhlIHN0YXJ0IG9mIHRoZSBidWZmZXIgbmVlZHMgdG9cbiAgYmUgYSBtdWx0aXBsZSBvZiBlbGVtZW50IHNpemUsIGp1c3QgbGlrZSB3aXRoIHR5cGVkIGFycmF5IHZpZXdzLlxuXG4gIE5pY2UgZm9yIHF1aWNrbHkgcmVhZGluZyBpbiBkYXRhLiBXYXJuaW5nOiBwb3RlbnRpYWxseSBtb2RpZmllcyB0aGUgYnVmZmVyXG4gIGNvbnRlbnRzLlxuXG4gIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggTnVtYmVyIG9mIGVsZW1lbnRzIHRvIG1hcC5cbiAgQHBhcmFtIHs/Ym9vbGVhbn0gZSBFbmRpYW5uZXNzIG9mIHRoZSBkYXRhIHRvIHJlYWQuXG4gIEByZXR1cm4ge09iamVjdH0gRmxvYXQzMkFycmF5IHRvIHRoZSBEYXRhU3RyZWFtIGJhY2tpbmcgYnVmZmVyLlxuICAqL1xuRGF0YVN0cmVhbS5wcm90b3R5cGUubWFwRmxvYXQzMkFycmF5ID0gZnVuY3Rpb24obGVuZ3RoLCBlKSB7XG4gIHRoaXMuX3JlYWxsb2MobGVuZ3RoICogNCk7XG4gIHZhciBhcnIgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuX2J1ZmZlciwgdGhpcy5ieXRlT2Zmc2V0K3RoaXMucG9zaXRpb24sIGxlbmd0aCk7XG4gIERhdGFTdHJlYW0uYXJyYXlUb05hdGl2ZShhcnIsIGUgPT0gbnVsbCA/IHRoaXMuZW5kaWFubmVzcyA6IGUpO1xuICB0aGlzLnBvc2l0aW9uICs9IGxlbmd0aCAqIDQ7XG4gIHJldHVybiBhcnI7XG59O1xuLy8gZmlsZTpzcmMvYnVmZmVyLmpzXG4vKipcbiAqIE11bHRpQnVmZmVyU3RyZWFtIGlzIGEgY2xhc3MgdGhhdCBhY3RzIGFzIGEgU2ltcGxlU3RyZWFtIGZvciBwYXJzaW5nIFxuICogSXQgaG9sZHMgc2V2ZXJhbCwgcG9zc2libHkgbm9uLWNvbnRpZ3VvdXMgQXJyYXlCdWZmZXIgb2JqZWN0cywgZWFjaCB3aXRoIGEgZmlsZVN0YXJ0IHByb3BlcnR5IFxuICogY29udGFpbmluZyB0aGUgb2Zmc2V0IGZvciB0aGUgYnVmZmVyIGRhdGEgaW4gYW4gb3JpZ2luYWwvdmlydHVhbCBmaWxlIFxuICpcbiAqIEl0IGluaGVyaXRzIGFsc28gZnJvbSBEYXRhU3RyZWFtIGZvciBhbGwgcmVhZC93cml0ZS9hbGxvYyBvcGVyYXRpb25zXG4gKi9cblxuLyoqXG4gKiBDb25zdHJ1Y3RvclxuICovXG52YXIgTXVsdGlCdWZmZXJTdHJlYW0gPSBmdW5jdGlvbihidWZmZXIpIHtcblx0LyogTGlzdCBvZiBBcnJheUJ1ZmZlcnMsIHdpdGggYSBmaWxlU3RhcnQgcHJvcGVydHksIHNvcnRlZCBpbiBmaWxlU3RhcnQgb3JkZXIgYW5kIG5vbiBvdmVybGFwcGluZyAqL1xuXHR0aGlzLmJ1ZmZlcnMgPSBbXTtcdFxuXHR0aGlzLmJ1ZmZlckluZGV4ID0gLTE7XG5cdGlmIChidWZmZXIpIHtcblx0XHR0aGlzLmluc2VydEJ1ZmZlcihidWZmZXIpO1xuXHRcdHRoaXMuYnVmZmVySW5kZXggPSAwO1xuXHR9XG59XG5NdWx0aUJ1ZmZlclN0cmVhbS5wcm90b3R5cGUgPSBuZXcgRGF0YVN0cmVhbShuZXcgQXJyYXlCdWZmZXIoKSwgMCwgRGF0YVN0cmVhbS5CSUdfRU5ESUFOKTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICBNZXRob2RzIGZvciB0aGUgbWFuYWduZW1lbnQgb2YgdGhlIGJ1ZmZlcnMgKGluc2VydGlvbiwgcmVtb3ZhbCwgY29uY2F0ZW5hdGlvbiwgLi4uKVxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5NdWx0aUJ1ZmZlclN0cmVhbS5wcm90b3R5cGUuaW5pdGlhbGl6ZWQgPSBmdW5jdGlvbigpIHtcblx0dmFyIGZpcnN0QnVmZmVyO1xuXHRpZiAodGhpcy5idWZmZXJJbmRleCA+IC0xKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gZWxzZSBpZiAodGhpcy5idWZmZXJzLmxlbmd0aCA+IDApIHtcblx0XHRmaXJzdEJ1ZmZlciA9IHRoaXMuYnVmZmVyc1swXTtcblx0XHRpZiAoZmlyc3RCdWZmZXIuZmlsZVN0YXJ0ID09PSAwKSB7XG5cdFx0XHR0aGlzLmJ1ZmZlciA9IGZpcnN0QnVmZmVyO1xuXHRcdFx0dGhpcy5idWZmZXJJbmRleCA9IDA7XG5cdFx0XHRMb2cuZGVidWcoXCJNdWx0aUJ1ZmZlclN0cmVhbVwiLCBcIlN0cmVhbSByZWFkeSBmb3IgcGFyc2luZ1wiKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRMb2cud2FybihcIk11bHRpQnVmZmVyU3RyZWFtXCIsIFwiVGhlIGZpcnN0IGJ1ZmZlciBzaG91bGQgaGF2ZSBhIGZpbGVTdGFydCBvZiAwXCIpO1xuXHRcdFx0dGhpcy5sb2dCdWZmZXJMZXZlbCgpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRMb2cud2FybihcIk11bHRpQnVmZmVyU3RyZWFtXCIsIFwiTm8gYnVmZmVyIHRvIHN0YXJ0IHBhcnNpbmcgZnJvbVwiKTtcblx0XHR0aGlzLmxvZ0J1ZmZlckxldmVsKCk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XHRcdFx0XG59XG5cbi8qKlxuICogaGVscGVyIGZ1bmN0aW9ucyB0byBjb25jYXRlbmF0ZSB0d28gQXJyYXlCdWZmZXIgb2JqZWN0c1xuICogQHBhcmFtICB7QXJyYXlCdWZmZXJ9IGJ1ZmZlcjEgXG4gKiBAcGFyYW0gIHtBcnJheUJ1ZmZlcn0gYnVmZmVyMiBcbiAqIEByZXR1cm4ge0FycmF5QnVmZmVyfSB0aGUgY29uY2F0ZW5hdGlvbiBvZiBidWZmZXIxIGFuZCBidWZmZXIyIGluIHRoYXQgb3JkZXJcbiAqL1xuQXJyYXlCdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24oYnVmZmVyMSwgYnVmZmVyMikge1xuICBMb2cuZGVidWcoXCJBcnJheUJ1ZmZlclwiLCBcIlRyeWluZyB0byBjcmVhdGUgYSBuZXcgYnVmZmVyIG9mIHNpemU6IFwiKyhidWZmZXIxLmJ5dGVMZW5ndGggKyBidWZmZXIyLmJ5dGVMZW5ndGgpKTtcbiAgdmFyIHRtcCA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcjEuYnl0ZUxlbmd0aCArIGJ1ZmZlcjIuYnl0ZUxlbmd0aCk7XG4gIHRtcC5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmZmVyMSksIDApO1xuICB0bXAuc2V0KG5ldyBVaW50OEFycmF5KGJ1ZmZlcjIpLCBidWZmZXIxLmJ5dGVMZW5ndGgpO1xuICByZXR1cm4gdG1wLmJ1ZmZlcjtcbn07XG5cbi8qKlxuICogUmVkdWNlcyB0aGUgc2l6ZSBvZiBhIGdpdmVuIGJ1ZmZlciwgYnV0IHRha2luZyB0aGUgcGFydCBiZXR3ZWVuIG9mZnNldCBhbmQgb2Zmc2V0K25ld2xlbmd0aFxuICogQHBhcmFtICB7QXJyYXlCdWZmZXJ9IGJ1ZmZlciAgICBcbiAqIEBwYXJhbSAge051bWJlcn0gICAgICBvZmZzZXQgICAgdGhlIHN0YXJ0IG9mIG5ldyBidWZmZXJcbiAqIEBwYXJhbSAge051bWJlcn0gICAgICBuZXdMZW5ndGggdGhlIGxlbmd0aCBvZiB0aGUgbmV3IGJ1ZmZlclxuICogQHJldHVybiB7QXJyYXlCdWZmZXJ9ICAgICAgICAgICB0aGUgbmV3IGJ1ZmZlclxuICovXG5NdWx0aUJ1ZmZlclN0cmVhbS5wcm90b3R5cGUucmVkdWNlQnVmZmVyID0gZnVuY3Rpb24oYnVmZmVyLCBvZmZzZXQsIG5ld0xlbmd0aCkge1xuXHR2YXIgc21hbGxCO1xuXHRzbWFsbEIgPSBuZXcgVWludDhBcnJheShuZXdMZW5ndGgpO1xuXHRzbWFsbEIuc2V0KG5ldyBVaW50OEFycmF5KGJ1ZmZlciwgb2Zmc2V0LCBuZXdMZW5ndGgpKTtcblx0c21hbGxCLmJ1ZmZlci5maWxlU3RhcnQgPSBidWZmZXIuZmlsZVN0YXJ0K29mZnNldDtcblx0c21hbGxCLmJ1ZmZlci51c2VkQnl0ZXMgPSAwO1xuXHRyZXR1cm4gc21hbGxCLmJ1ZmZlcjtcdFxufVxuXG4vKipcbiAqIEluc2VydHMgdGhlIG5ldyBidWZmZXIgaW4gdGhlIHNvcnRlZCBsaXN0IG9mIGJ1ZmZlcnMsXG4gKiAgbWFraW5nIHN1cmUsIGl0IGlzIG5vdCBvdmVybGFwcGluZyB3aXRoIGV4aXN0aW5nIG9uZXMgKHBvc3NpYmx5IHJlZHVjaW5nIGl0cyBzaXplKS5cbiAqICBpZiB0aGUgbmV3IGJ1ZmZlciBvdmVycmlkZXMvcmVwbGFjZXMgdGhlIDAtdGggYnVmZmVyIChmb3IgaW5zdGFuY2UgYmVjYXVzZSBpdCBpcyBiaWdnZXIpLCBcbiAqICB1cGRhdGVzIHRoZSBEYXRhU3RyZWFtIGJ1ZmZlciBmb3IgcGFyc2luZyBcbiovXG5NdWx0aUJ1ZmZlclN0cmVhbS5wcm90b3R5cGUuaW5zZXJ0QnVmZmVyID0gZnVuY3Rpb24oYWIpIHtcdFxuXHR2YXIgdG9fYWRkID0gdHJ1ZTtcblx0LyogVE9ETzogaW1wcm92ZSBpbnNlcnRpb24gaWYgbWFueSBidWZmZXJzICovXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGIgPSB0aGlzLmJ1ZmZlcnNbaV07XG5cdFx0aWYgKGFiLmZpbGVTdGFydCA8PSBiLmZpbGVTdGFydCkge1xuXHRcdFx0LyogdGhlIGluc2VydGlvbiBwb3NpdGlvbiBpcyBmb3VuZCAqL1xuXHRcdFx0aWYgKGFiLmZpbGVTdGFydCA9PT0gYi5maWxlU3RhcnQpIHtcblx0XHRcdFx0LyogVGhlIG5ldyBidWZmZXIgb3ZlcmxhcHMgd2l0aCBhbiBleGlzdGluZyBidWZmZXIgKi9cblx0XHRcdFx0aWYgKGFiLmJ5dGVMZW5ndGggPiAgYi5ieXRlTGVuZ3RoKSB7XG5cdFx0XHRcdFx0LyogdGhlIG5ldyBidWZmZXIgaXMgYmlnZ2VyIHRoYW4gdGhlIGV4aXN0aW5nIG9uZVxuXHRcdFx0XHRcdCAgIHJlbW92ZSB0aGUgZXhpc3RpbmcgYnVmZmVyIGFuZCB0cnkgYWdhaW4gdG8gaW5zZXJ0IFxuXHRcdFx0XHRcdCAgIHRoZSBuZXcgYnVmZmVyIHRvIGNoZWNrIG92ZXJsYXAgd2l0aCB0aGUgbmV4dCBvbmVzICovXG5cdFx0XHRcdFx0dGhpcy5idWZmZXJzLnNwbGljZShpLCAxKTtcblx0XHRcdFx0XHRpLS07IFxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8qIHRoZSBuZXcgYnVmZmVyIGlzIHNtYWxsZXIgdGhhbiB0aGUgZXhpc3Rpbmcgb25lLCBqdXN0IGRyb3AgaXQgKi9cblx0XHRcdFx0XHRMb2cud2FybihcIk11bHRpQnVmZmVyU3RyZWFtXCIsIFwiQnVmZmVyIChmaWxlU3RhcnQ6IFwiK2FiLmZpbGVTdGFydCtcIiAtIExlbmd0aDogXCIrYWIuYnl0ZUxlbmd0aCtcIikgYWxyZWFkeSBhcHBlbmRlZCwgaWdub3JpbmdcIik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8qIFRoZSBiZWdpbm5pbmcgb2YgdGhlIG5ldyBidWZmZXIgaXMgbm90IG92ZXJsYXBwaW5nIHdpdGggYW4gZXhpc3RpbmcgYnVmZmVyXG5cdFx0XHRcdCAgIGxldCdzIGNoZWNrIHRoZSBlbmQgb2YgaXQgKi9cblx0XHRcdFx0aWYgKGFiLmZpbGVTdGFydCArIGFiLmJ5dGVMZW5ndGggPD0gYi5maWxlU3RhcnQpIHtcblx0XHRcdFx0XHQvKiBubyBvdmVybGFwLCB3ZSBjYW4gYWRkIGl0IGFzIGlzICovXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0LyogVGhlcmUgaXMgc29tZSBvdmVybGFwLCBjdXQgdGhlIG5ldyBidWZmZXIgc2hvcnQsIGFuZCBhZGQgaXQqL1xuXHRcdFx0XHRcdGFiID0gdGhpcy5yZWR1Y2VCdWZmZXIoYWIsIDAsIGIuZmlsZVN0YXJ0IC0gYWIuZmlsZVN0YXJ0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRMb2cuZGVidWcoXCJNdWx0aUJ1ZmZlclN0cmVhbVwiLCBcIkFwcGVuZGluZyBuZXcgYnVmZmVyIChmaWxlU3RhcnQ6IFwiK2FiLmZpbGVTdGFydCtcIiAtIExlbmd0aDogXCIrYWIuYnl0ZUxlbmd0aCtcIilcIik7XG5cdFx0XHRcdHRoaXMuYnVmZmVycy5zcGxpY2UoaSwgMCwgYWIpO1xuXHRcdFx0XHQvKiBpZiB0aGlzIG5ldyBidWZmZXIgaXMgaW5zZXJ0ZWQgaW4gdGhlIGZpcnN0IHBsYWNlIGluIHRoZSBsaXN0IG9mIHRoZSBidWZmZXIsIFxuXHRcdFx0XHQgICBhbmQgdGhlIERhdGFTdHJlYW0gaXMgaW5pdGlhbGl6ZWQsIG1ha2UgaXQgdGhlIGJ1ZmZlciB1c2VkIGZvciBwYXJzaW5nICovXG5cdFx0XHRcdGlmIChpID09PSAwKSB7XG5cdFx0XHRcdFx0dGhpcy5idWZmZXIgPSBhYjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0dG9fYWRkID0gZmFsc2U7XG5cdFx0XHRicmVhaztcblx0XHR9IGVsc2UgaWYgKGFiLmZpbGVTdGFydCA8IGIuZmlsZVN0YXJ0ICsgYi5ieXRlTGVuZ3RoKSB7XG5cdFx0XHQvKiB0aGUgbmV3IGJ1ZmZlciBvdmVybGFwcyBpdHMgYmVnaW5uaW5nIHdpdGggdGhlIGVuZCBvZiB0aGUgY3VycmVudCBidWZmZXIgKi9cblx0XHRcdHZhciBvZmZzZXQgPSBiLmZpbGVTdGFydCArIGIuYnl0ZUxlbmd0aCAtIGFiLmZpbGVTdGFydDtcblx0XHRcdHZhciBuZXdMZW5ndGggPSBhYi5ieXRlTGVuZ3RoIC0gb2Zmc2V0O1xuXHRcdFx0aWYgKG5ld0xlbmd0aCA+IDApIHtcblx0XHRcdFx0LyogdGhlIG5ldyBidWZmZXIgaXMgYmlnZ2VyIHRoYW4gdGhlIGN1cnJlbnQgb3ZlcmxhcCwgZHJvcCB0aGUgb3ZlcmxhcHBpbmcgcGFydCBhbmQgdHJ5IGFnYWluIGluc2VydGluZyB0aGUgcmVtYWluaW5nIGJ1ZmZlciAqL1xuXHRcdFx0XHRhYiA9IHRoaXMucmVkdWNlQnVmZmVyKGFiLCBvZmZzZXQsIG5ld0xlbmd0aCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvKiB0aGUgY29udGVudCBvZiB0aGUgbmV3IGJ1ZmZlciBpcyBlbnRpcmVseSBjb250YWluZWQgaW4gdGhlIGV4aXN0aW5nIGJ1ZmZlciwgZHJvcCBpdCBlbnRpcmVseSAqL1xuXHRcdFx0XHR0b19hZGQgPSBmYWxzZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdC8qIGlmIHRoZSBidWZmZXIgaGFzIG5vdCBiZWVuIGFkZGVkLCB3ZSBjYW4gYWRkIGl0IGF0IHRoZSBlbmQgKi9cblx0aWYgKHRvX2FkZCkge1xuXHRcdExvZy5kZWJ1ZyhcIk11bHRpQnVmZmVyU3RyZWFtXCIsIFwiQXBwZW5kaW5nIG5ldyBidWZmZXIgKGZpbGVTdGFydDogXCIrYWIuZmlsZVN0YXJ0K1wiIC0gTGVuZ3RoOiBcIithYi5ieXRlTGVuZ3RoK1wiKVwiKTtcblx0XHR0aGlzLmJ1ZmZlcnMucHVzaChhYik7XG5cdFx0LyogaWYgdGhpcyBuZXcgYnVmZmVyIGlzIGluc2VydGVkIGluIHRoZSBmaXJzdCBwbGFjZSBpbiB0aGUgbGlzdCBvZiB0aGUgYnVmZmVyLCBcblx0XHQgICBhbmQgdGhlIERhdGFTdHJlYW0gaXMgaW5pdGlhbGl6ZWQsIG1ha2UgaXQgdGhlIGJ1ZmZlciB1c2VkIGZvciBwYXJzaW5nICovXG5cdFx0aWYgKGkgPT09IDApIHtcblx0XHRcdHRoaXMuYnVmZmVyID0gYWI7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogRGlzcGxheXMgdGhlIHN0YXR1cyBvZiB0aGUgYnVmZmVycyAobnVtYmVyIGFuZCB1c2VkIGJ5dGVzKVxuICogQHBhcmFtICB7T2JqZWN0fSBpbmZvIGNhbGxiYWNrIG1ldGhvZCBmb3IgZGlzcGxheVxuICovXG5NdWx0aUJ1ZmZlclN0cmVhbS5wcm90b3R5cGUubG9nQnVmZmVyTGV2ZWwgPSBmdW5jdGlvbihpbmZvKSB7XG5cdHZhciBpO1xuXHR2YXIgYnVmZmVyO1xuXHR2YXIgdXNlZCwgdG90YWw7XG5cdHZhciByYW5nZXMgPSBbXTtcblx0dmFyIHJhbmdlO1xuXHR2YXIgYnVmZmVyZWRTdHJpbmcgPSBcIlwiO1xuXHR1c2VkID0gMDtcblx0dG90YWwgPSAwO1xuXHRmb3IgKGkgPSAwOyBpIDwgdGhpcy5idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0YnVmZmVyID0gdGhpcy5idWZmZXJzW2ldO1xuXHRcdGlmIChpID09PSAwKSB7XG5cdFx0XHRyYW5nZSA9IHt9O1xuXHRcdFx0cmFuZ2VzLnB1c2gocmFuZ2UpO1xuXHRcdFx0cmFuZ2Uuc3RhcnQgPSBidWZmZXIuZmlsZVN0YXJ0O1xuXHRcdFx0cmFuZ2UuZW5kID0gYnVmZmVyLmZpbGVTdGFydCtidWZmZXIuYnl0ZUxlbmd0aDtcblx0XHRcdGJ1ZmZlcmVkU3RyaW5nICs9IFwiW1wiK3JhbmdlLnN0YXJ0K1wiLVwiO1xuXHRcdH0gZWxzZSBpZiAocmFuZ2UuZW5kID09PSBidWZmZXIuZmlsZVN0YXJ0KSB7XG5cdFx0XHRyYW5nZS5lbmQgPSBidWZmZXIuZmlsZVN0YXJ0K2J1ZmZlci5ieXRlTGVuZ3RoO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyYW5nZSA9IHt9O1xuXHRcdFx0cmFuZ2Uuc3RhcnQgPSBidWZmZXIuZmlsZVN0YXJ0O1xuXHRcdFx0YnVmZmVyZWRTdHJpbmcgKz0gKHJhbmdlc1tyYW5nZXMubGVuZ3RoLTFdLmVuZC0xKStcIl0sIFtcIityYW5nZS5zdGFydCtcIi1cIjtcblx0XHRcdHJhbmdlLmVuZCA9IGJ1ZmZlci5maWxlU3RhcnQrYnVmZmVyLmJ5dGVMZW5ndGg7XG5cdFx0XHRyYW5nZXMucHVzaChyYW5nZSk7XG5cdFx0fVxuXHRcdHVzZWQgKz0gYnVmZmVyLnVzZWRCeXRlcztcblx0XHR0b3RhbCArPSBidWZmZXIuYnl0ZUxlbmd0aDtcblx0fVxuXHRpZiAocmFuZ2VzLmxlbmd0aCA+IDApIHtcblx0XHRidWZmZXJlZFN0cmluZyArPSAocmFuZ2UuZW5kLTEpK1wiXVwiO1xuXHR9XG5cdHZhciBsb2cgPSAoaW5mbyA/IExvZy5pbmZvIDogTG9nLmRlYnVnKVxuXHRpZiAodGhpcy5idWZmZXJzLmxlbmd0aCA9PT0gMCkge1xuXHRcdGxvZyhcIk11bHRpQnVmZmVyU3RyZWFtXCIsIFwiTm8gbW9yZSBidWZmZXIgaW4gbWVtb3J5XCIpO1xuXHR9IGVsc2Uge1xuXHRcdGxvZyhcIk11bHRpQnVmZmVyU3RyZWFtXCIsIFwiXCIrdGhpcy5idWZmZXJzLmxlbmd0aCtcIiBzdG9yZWQgYnVmZmVyKHMpIChcIit1c2VkK1wiL1wiK3RvdGFsK1wiIGJ5dGVzKSwgY29udGludW91cyByYW5nZXM6IFwiK2J1ZmZlcmVkU3RyaW5nKTtcblx0fVxufVxuXG5NdWx0aUJ1ZmZlclN0cmVhbS5wcm90b3R5cGUuY2xlYW5CdWZmZXJzID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgaTtcblx0dmFyIGJ1ZmZlcjtcblx0Zm9yIChpID0gMDsgaSA8IHRoaXMuYnVmZmVycy5sZW5ndGg7IGkrKykge1xuXHRcdGJ1ZmZlciA9IHRoaXMuYnVmZmVyc1tpXTtcblx0XHRpZiAoYnVmZmVyLnVzZWRCeXRlcyA9PT0gYnVmZmVyLmJ5dGVMZW5ndGgpIHtcblx0XHRcdExvZy5kZWJ1ZyhcIk11bHRpQnVmZmVyU3RyZWFtXCIsIFwiUmVtb3ZpbmcgYnVmZmVyICNcIitpKTtcblx0XHRcdHRoaXMuYnVmZmVycy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRpLS07XG5cdFx0fVxuXHR9XG59XG5cbk11bHRpQnVmZmVyU3RyZWFtLnByb3RvdHlwZS5tZXJnZU5leHRCdWZmZXIgPSBmdW5jdGlvbigpIHtcblx0dmFyIG5leHRfYnVmZmVyO1xuXHRpZiAodGhpcy5idWZmZXJJbmRleCsxIDwgdGhpcy5idWZmZXJzLmxlbmd0aCkge1xuXHRcdG5leHRfYnVmZmVyID0gdGhpcy5idWZmZXJzW3RoaXMuYnVmZmVySW5kZXgrMV07XG5cdFx0aWYgKG5leHRfYnVmZmVyLmZpbGVTdGFydCA9PT0gdGhpcy5idWZmZXIuZmlsZVN0YXJ0ICsgdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCkge1xuXHRcdFx0dmFyIG9sZExlbmd0aCA9IHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7XG5cdFx0XHR2YXIgb2xkVXNlZEJ5dGVzID0gdGhpcy5idWZmZXIudXNlZEJ5dGVzO1xuXHRcdFx0dmFyIG9sZEZpbGVTdGFydCA9IHRoaXMuYnVmZmVyLmZpbGVTdGFydDtcblx0XHRcdHRoaXMuYnVmZmVyc1t0aGlzLmJ1ZmZlckluZGV4XSA9IEFycmF5QnVmZmVyLmNvbmNhdCh0aGlzLmJ1ZmZlciwgbmV4dF9idWZmZXIpO1xuXHRcdFx0dGhpcy5idWZmZXIgPSB0aGlzLmJ1ZmZlcnNbdGhpcy5idWZmZXJJbmRleF07XG5cdFx0XHR0aGlzLmJ1ZmZlcnMuc3BsaWNlKHRoaXMuYnVmZmVySW5kZXgrMSwgMSk7XG5cdFx0XHR0aGlzLmJ1ZmZlci51c2VkQnl0ZXMgPSBvbGRVc2VkQnl0ZXM7IC8qIFRPRE86IHNob3VsZCBpdCBiZSArPSA/ICovXG5cdFx0XHR0aGlzLmJ1ZmZlci5maWxlU3RhcnQgPSBvbGRGaWxlU3RhcnQ7XG5cdFx0XHRMb2cuZGVidWcoXCJJU09GaWxlXCIsIFwiQ29uY2F0ZW5hdGluZyBidWZmZXIgZm9yIGJveCBwYXJzaW5nIChsZW5ndGg6IFwiK29sZExlbmd0aCtcIi0+XCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCtcIilcIik7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICBTZWVrLXJlbGF0ZWQgZnVuY3Rpb25zXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBGaW5kcyB0aGUgYnVmZmVyIHRoYXQgaG9sZHMgdGhlIGdpdmVuIGZpbGUgcG9zaXRpb25cbiAqIEBwYXJhbSAge0Jvb2xlYW59IGZyb21TdGFydCAgICBpbmRpY2F0ZXMgaWYgdGhlIHNlYXJjaCBzaG91bGQgc3RhcnQgZnJvbSB0aGUgY3VycmVudCBidWZmZXIgKGZhbHNlKSBcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBmcm9tIHRoZSBmaXJzdCBidWZmZXIgKHRydWUpXG4gKiBAcGFyYW0gIHtOdW1iZXJ9ICBmaWxlUG9zaXRpb24gcG9zaXRpb24gaW4gdGhlIGZpbGUgdG8gc2VlayB0b1xuICogQHBhcmFtICB7Qm9vbGVhbn0gbWFya0FzVXNlZCAgIGluZGljYXRlcyBpZiB0aGUgYnl0ZXMgaW4gYmV0d2VlbiB0aGUgY3VycmVudCBwb3NpdGlvbiBhbmQgdGhlIHNlZWsgcG9zaXRpb24gXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkIGJlIG1hcmtlZCBhcyB1c2VkIGZvciBnYXJiYWdlIGNvbGxlY3Rpb25cbiAqIEByZXR1cm4ge051bWJlcn0gICAgICAgICAgICAgICB0aGUgaW5kZXggb2YgdGhlIGJ1ZmZlciBob2xkaW5nIHRoZSBzZWVrZWQgZmlsZSBwb3NpdGlvbiwgLTEgaWYgbm90IGZvdW5kLlxuICovXG5NdWx0aUJ1ZmZlclN0cmVhbS5wcm90b3R5cGUuZmluZFBvc2l0aW9uID0gZnVuY3Rpb24oZnJvbVN0YXJ0LCBmaWxlUG9zaXRpb24sIG1hcmtBc1VzZWQpIHtcblx0dmFyIGk7XG5cdHZhciBhYnVmZmVyID0gbnVsbDtcblx0dmFyIGluZGV4ID0gLTE7XG5cblx0LyogZmluZCB0aGUgYnVmZmVyIHdpdGggdGhlIGxhcmdlc3QgcG9zaXRpb24gc21hbGxlciB0aGFuIHRoZSBnaXZlbiBwb3NpdGlvbiAqL1xuXHRpZiAoZnJvbVN0YXJ0ID09PSB0cnVlKSB7XG5cdCAgIC8qIHRoZSByZXBvc2l0aW9uIGNhbiBiZSBpbiB0aGUgcGFzdCwgd2UgbmVlZCB0byBjaGVjayBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpc3Qgb2YgYnVmZmVycyAqL1xuXHRcdGkgPSAwO1xuXHR9IGVsc2Uge1xuXHRcdGkgPSB0aGlzLmJ1ZmZlckluZGV4O1xuXHR9XG5cblx0d2hpbGUgKGkgPCB0aGlzLmJ1ZmZlcnMubGVuZ3RoKSB7XG5cdFx0YWJ1ZmZlciA9IHRoaXMuYnVmZmVyc1tpXTtcblx0XHRpZiAoYWJ1ZmZlci5maWxlU3RhcnQgPD0gZmlsZVBvc2l0aW9uKSB7XG5cdFx0XHRpbmRleCA9IGk7XG5cdFx0XHRpZiAobWFya0FzVXNlZCkge1xuXHRcdFx0XHRpZiAoYWJ1ZmZlci5maWxlU3RhcnQgKyBhYnVmZmVyLmJ5dGVMZW5ndGggPD0gZmlsZVBvc2l0aW9uKSB7XG5cdFx0XHRcdFx0YWJ1ZmZlci51c2VkQnl0ZXMgPSBhYnVmZmVyLmJ5dGVMZW5ndGg7XHRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRhYnVmZmVyLnVzZWRCeXRlcyA9IGZpbGVQb3NpdGlvbiAtIGFidWZmZXIuZmlsZVN0YXJ0O1xuXHRcdFx0XHR9XHRcdFxuXHRcdFx0XHR0aGlzLmxvZ0J1ZmZlckxldmVsKCk7XHRcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHRcdGkrKztcblx0fVxuXG5cdGlmIChpbmRleCAhPT0gLTEpIHtcblx0XHRhYnVmZmVyID0gdGhpcy5idWZmZXJzW2luZGV4XTtcblx0XHRpZiAoYWJ1ZmZlci5maWxlU3RhcnQgKyBhYnVmZmVyLmJ5dGVMZW5ndGggPj0gZmlsZVBvc2l0aW9uKSB7XHRcdFx0XG5cdFx0XHRMb2cuZGVidWcoXCJNdWx0aUJ1ZmZlclN0cmVhbVwiLCBcIkZvdW5kIHBvc2l0aW9uIGluIGV4aXN0aW5nIGJ1ZmZlciAjXCIraW5kZXgpO1xuXHRcdFx0cmV0dXJuIGluZGV4O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gLTE7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHJldHVybiAtMTtcblx0fVxufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBsYXJnZXN0IGZpbGUgcG9zaXRpb24gY29udGFpbmVkIGluIGEgYnVmZmVyIG9yIGluIHRoZSBuZXh0IGJ1ZmZlcnMgaWYgdGhleSBhcmUgY29udGlndW91cyAobm8gZ2FwKVxuICogc3RhcnRpbmcgZnJvbSB0aGUgZ2l2ZW4gYnVmZmVyIGluZGV4IG9yIGZyb20gdGhlIGN1cnJlbnQgYnVmZmVyIGlmIHRoZSBpbmRleCBpcyBub3QgZ2l2ZW5cbiAqXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGlucHV0aW5kZXggSW5kZXggb2YgdGhlIGJ1ZmZlciB0byBzdGFydCBmcm9tXG4gKiBAcmV0dXJuIHtOdW1iZXJ9ICAgICAgICAgICAgVGhlIGxhcmdlc3QgZmlsZSBwb3NpdGlvbiBmb3VuZCBpbiB0aGUgYnVmZmVyc1xuICovXG5NdWx0aUJ1ZmZlclN0cmVhbS5wcm90b3R5cGUuZmluZEVuZENvbnRpZ3VvdXNCdWYgPSBmdW5jdGlvbihpbnB1dGluZGV4KSB7XG5cdHZhciBpO1xuXHR2YXIgY3VycmVudEJ1Zjtcblx0dmFyIG5leHRCdWY7XG5cdHZhciBpbmRleCA9IChpbnB1dGluZGV4ICE9PSB1bmRlZmluZWQgPyBpbnB1dGluZGV4IDogdGhpcy5idWZmZXJJbmRleCk7XG5cdGN1cnJlbnRCdWYgPSB0aGlzLmJ1ZmZlcnNbaW5kZXhdO1xuXHQvKiBmaW5kIHRoZSBlbmQgb2YgdGhlIGNvbnRpZ3VvdXMgcmFuZ2Ugb2YgZGF0YSAqL1xuXHRpZiAodGhpcy5idWZmZXJzLmxlbmd0aCA+IGluZGV4KzEpIHtcblx0XHRmb3IgKGkgPSBpbmRleCsxOyBpIDwgdGhpcy5idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRuZXh0QnVmID0gdGhpcy5idWZmZXJzW2ldO1xuXHRcdFx0aWYgKG5leHRCdWYuZmlsZVN0YXJ0ID09PSBjdXJyZW50QnVmLmZpbGVTdGFydCArIGN1cnJlbnRCdWYuYnl0ZUxlbmd0aCkge1xuXHRcdFx0XHRjdXJyZW50QnVmID0gbmV4dEJ1Zjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHQvKiByZXR1cm4gdGhlIHBvc2l0aW9uIG9mIGxhc3QgYnl0ZSBpbiB0aGUgZmlsZSB0aGF0IHdlIGhhdmUgKi9cblx0cmV0dXJuIGN1cnJlbnRCdWYuZmlsZVN0YXJ0ICsgY3VycmVudEJ1Zi5ieXRlTGVuZ3RoO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGxhcmdlc3QgZmlsZSBwb3NpdGlvbiBjb250YWluZWQgaW4gdGhlIGJ1ZmZlcnMsIGxhcmdlciB0aGFuIHRoZSBnaXZlbiBwb3NpdGlvblxuICogQHBhcmFtICB7TnVtYmVyfSBwb3MgdGhlIGZpbGUgcG9zaXRpb24gdG8gc3RhcnQgZnJvbVxuICogQHJldHVybiB7TnVtYmVyfSAgICAgdGhlIGxhcmdlc3QgcG9zaXRpb24gaW4gdGhlIGN1cnJlbnQgYnVmZmVyIG9yIGluIHRoZSBidWZmZXIgYW5kIHRoZSBuZXh0IGNvbnRpZ3VvdXMgXG4gKiAgICAgICAgICAgICAgICAgICAgICBidWZmZXIgdGhhdCBob2xkcyB0aGUgZ2l2ZW4gcG9zaXRpb25cbiAqL1xuTXVsdGlCdWZmZXJTdHJlYW0ucHJvdG90eXBlLmdldEVuZEZpbGVQb3NpdGlvbkFmdGVyID0gZnVuY3Rpb24ocG9zKSB7XG5cdHZhciBpbmRleCA9IHRoaXMuZmluZFBvc2l0aW9uKHRydWUsIHBvcywgZmFsc2UpO1xuXHRpZiAoaW5kZXggIT09IC0xKSB7XG5cdFx0cmV0dXJuIHRoaXMuZmluZEVuZENvbnRpZ3VvdXNCdWYoaW5kZXgpO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBwb3M7XG5cdH1cbn1cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgR2FyYmFnZSBjb2xsZWN0aW9uIHJlbGF0ZWQgZnVuY3Rpb25zXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBNYXJrcyBhIGdpdmVuIG51bWJlciBvZiBieXRlcyBhcyB1c2VkIGluIHRoZSBjdXJyZW50IGJ1ZmZlciBmb3IgZ2FyYmFnZSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gbmJCeXRlcyBcbiAqL1xuTXVsdGlCdWZmZXJTdHJlYW0ucHJvdG90eXBlLmFkZFVzZWRCeXRlcyA9IGZ1bmN0aW9uKG5iQnl0ZXMpIHtcblx0dGhpcy5idWZmZXIudXNlZEJ5dGVzICs9IG5iQnl0ZXM7XG5cdHRoaXMubG9nQnVmZmVyTGV2ZWwoKTtcbn1cblxuLyoqXG4gKiBNYXJrcyB0aGUgZW50aXJlIGN1cnJlbnQgYnVmZmVyIGFzIHVzZWQsIHJlYWR5IGZvciBnYXJiYWdlIGNvbGxlY3Rpb25cbiAqL1xuTXVsdGlCdWZmZXJTdHJlYW0ucHJvdG90eXBlLnNldEFsbFVzZWRCeXRlcyA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLmJ1ZmZlci51c2VkQnl0ZXMgPSB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO1xuXHR0aGlzLmxvZ0J1ZmZlckxldmVsKCk7XG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gIENvbW1vbiBBUEkgYmV0d2VlbiBNdWx0aUJ1ZmZlclN0cmVhbSBhbmQgU2ltcGxlU3RyZWFtXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBUcmllcyB0byBzZWVrIHRvIGEgZ2l2ZW4gZmlsZSBwb3NpdGlvblxuICogaWYgcG9zc2libGUsIHJlcG9zaXRpb25zIHRoZSBwYXJzaW5nIGZyb20gdGhlcmUgYW5kIHJldHVybnMgdHJ1ZSBcbiAqIGlmIG5vdCBwb3NzaWJsZSwgZG9lcyBub3QgY2hhbmdlIGFueXRoaW5nIGFuZCByZXR1cm5zIGZhbHNlIFxuICogQHBhcmFtICB7TnVtYmVyfSAgZmlsZVBvc2l0aW9uIHBvc2l0aW9uIGluIHRoZSBmaWxlIHRvIHNlZWsgdG9cbiAqIEBwYXJhbSAge0Jvb2xlYW59IGZyb21TdGFydCAgICBpbmRpY2F0ZXMgaWYgdGhlIHNlYXJjaCBzaG91bGQgc3RhcnQgZnJvbSB0aGUgY3VycmVudCBidWZmZXIgKGZhbHNlKSBcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBmcm9tIHRoZSBmaXJzdCBidWZmZXIgKHRydWUpXG4gKiBAcGFyYW0gIHtCb29sZWFufSBtYXJrQXNVc2VkICAgaW5kaWNhdGVzIGlmIHRoZSBieXRlcyBpbiBiZXR3ZWVuIHRoZSBjdXJyZW50IHBvc2l0aW9uIGFuZCB0aGUgc2VlayBwb3NpdGlvbiBcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG91bGQgYmUgbWFya2VkIGFzIHVzZWQgZm9yIGdhcmJhZ2UgY29sbGVjdGlvblxuICogQHJldHVybiB7Qm9vbGVhbn0gICAgICAgICAgICAgIHRydWUgaWYgdGhlIHNlZWsgc3VjY2VlZGVkLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuTXVsdGlCdWZmZXJTdHJlYW0ucHJvdG90eXBlLnNlZWsgPSBmdW5jdGlvbihmaWxlUG9zaXRpb24sIGZyb21TdGFydCwgbWFya0FzVXNlZCkge1xuXHR2YXIgaW5kZXg7XG5cdGluZGV4ID0gdGhpcy5maW5kUG9zaXRpb24oZnJvbVN0YXJ0LCBmaWxlUG9zaXRpb24sIG1hcmtBc1VzZWQpO1xuXHRpZiAoaW5kZXggIT09IC0xKSB7XG5cdFx0dGhpcy5idWZmZXIgPSB0aGlzLmJ1ZmZlcnNbaW5kZXhdO1xuXHRcdHRoaXMuYnVmZmVySW5kZXggPSBpbmRleDtcblx0XHR0aGlzLnBvc2l0aW9uID0gZmlsZVBvc2l0aW9uIC0gdGhpcy5idWZmZXIuZmlsZVN0YXJ0O1xuXHRcdExvZy5kZWJ1ZyhcIk11bHRpQnVmZmVyU3RyZWFtXCIsIFwiUmVwb3NpdGlvbmluZyBwYXJzZXIgYXQgYnVmZmVyIHBvc2l0aW9uOiBcIit0aGlzLnBvc2l0aW9uKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSBlbHNlIHtcblx0XHRMb2cuZGVidWcoXCJNdWx0aUJ1ZmZlclN0cmVhbVwiLCBcIlBvc2l0aW9uIFwiK2ZpbGVQb3NpdGlvbitcIiBub3QgZm91bmQgaW4gYnVmZmVyZWQgZGF0YVwiKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IHBvc2l0aW9uIGluIHRoZSBmaWxlXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IHRoZSBwb3NpdGlvbiBpbiB0aGUgZmlsZVxuICovXG5NdWx0aUJ1ZmZlclN0cmVhbS5wcm90b3R5cGUuZ2V0UG9zaXRpb24gPSBmdW5jdGlvbigpIHtcblx0aWYgKHRoaXMuYnVmZmVySW5kZXggPT09IC0xIHx8IHRoaXMuYnVmZmVyc1t0aGlzLmJ1ZmZlckluZGV4XSA9PT0gbnVsbCkge1xuXHRcdHRocm93IFwiRXJyb3IgYWNjZXNzaW5nIHBvc2l0aW9uIGluIHRoZSBNdWx0aUJ1ZmZlclN0cmVhbVwiO1xuXHR9XG5cdHJldHVybiB0aGlzLmJ1ZmZlcnNbdGhpcy5idWZmZXJJbmRleF0uZmlsZVN0YXJ0K3RoaXMucG9zaXRpb247XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbGVuZ3RoIG9mIHRoZSBjdXJyZW50IGJ1ZmZlclxuICogQHJldHVybiB7TnVtYmVyfSB0aGUgbGVuZ3RoIG9mIHRoZSBjdXJyZW50IGJ1ZmZlclxuICovXG5NdWx0aUJ1ZmZlclN0cmVhbS5wcm90b3R5cGUuZ2V0TGVuZ3RoID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLmJ5dGVMZW5ndGg7XG59XG5cbk11bHRpQnVmZmVyU3RyZWFtLnByb3RvdHlwZS5nZXRFbmRQb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xuXHRpZiAodGhpcy5idWZmZXJJbmRleCA9PT0gLTEgfHwgdGhpcy5idWZmZXJzW3RoaXMuYnVmZmVySW5kZXhdID09PSBudWxsKSB7XG5cdFx0dGhyb3cgXCJFcnJvciBhY2Nlc3NpbmcgcG9zaXRpb24gaW4gdGhlIE11bHRpQnVmZmVyU3RyZWFtXCI7XG5cdH1cblx0cmV0dXJuIHRoaXMuYnVmZmVyc1t0aGlzLmJ1ZmZlckluZGV4XS5maWxlU3RhcnQrdGhpcy5ieXRlTGVuZ3RoO1xufVxuXG5pZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG5cdGV4cG9ydHMuTXVsdGlCdWZmZXJTdHJlYW0gPSBNdWx0aUJ1ZmZlclN0cmVhbTtcbn0vLyBmaWxlOnNyYy9kZXNjcmlwdG9yLmpzXG4vKlxuICogQ29weXJpZ2h0IChjKSAyMDEyLTIwMTMuIFRlbGVjb20gUGFyaXNUZWNoL1RTSS9NTS9HUEFDIEN5cmlsIENvbmNvbGF0b1xuICogTGljZW5zZTogQlNELTMtQ2xhdXNlIChzZWUgTElDRU5TRSBmaWxlKVxuICovXG52YXIgTVBFRzREZXNjcmlwdG9yUGFyc2VyID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgRVNfRGVzY3JUYWcgXHRcdFx0PSAweDAzO1xuXHR2YXIgRGVjb2RlckNvbmZpZ0Rlc2NyVGFnIFx0PSAweDA0O1xuXHR2YXIgRGVjU3BlY2lmaWNJbmZvVGFnIFx0XHQ9IDB4MDU7XG5cdHZhciBTTENvbmZpZ0Rlc2NyVGFnIFx0XHQ9IDB4MDY7XG5cblx0dmFyIGRlc2NUYWdUb05hbWUgPSBbXTtcblx0ZGVzY1RhZ1RvTmFtZVtFU19EZXNjclRhZ10gXHRcdFx0XHQ9IFwiRVNfRGVzY3JpcHRvclwiO1xuXHRkZXNjVGFnVG9OYW1lW0RlY29kZXJDb25maWdEZXNjclRhZ10gXHQ9IFwiRGVjb2RlckNvbmZpZ0Rlc2NyaXB0b3JcIjtcblx0ZGVzY1RhZ1RvTmFtZVtEZWNTcGVjaWZpY0luZm9UYWddIFx0XHQ9IFwiRGVjb2RlclNwZWNpZmljSW5mb1wiO1xuXHRkZXNjVGFnVG9OYW1lW1NMQ29uZmlnRGVzY3JUYWddIFx0XHQ9IFwiU0xDb25maWdEZXNjcmlwdG9yXCI7XG5cblx0dGhpcy5nZXREZXNjcmlwdG9yTmFtZSA9IGZ1bmN0aW9uKHRhZykge1xuXHRcdHJldHVybiBkZXNjVGFnVG9OYW1lW3RhZ107XG5cdH1cblxuXHR2YXIgdGhhdCA9IHRoaXM7XG5cdHZhciBjbGFzc2VzID0ge307XG5cblx0dGhpcy5wYXJzZU9uZURlc2NyaXB0b3IgPSBmdW5jdGlvbiAoc3RyZWFtKSB7XG5cdFx0dmFyIGhkclNpemUgPSAwO1xuXHRcdHZhciBzaXplID0gMDtcblx0XHR2YXIgdGFnO1xuXHRcdHZhciBkZXNjO1xuXHRcdHZhciBieXRlUmVhZDtcblx0XHR0YWcgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdFx0aGRyU2l6ZSsrO1xuXHRcdGJ5dGVSZWFkID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHRcdGhkclNpemUrKztcblx0XHR3aGlsZSAoYnl0ZVJlYWQgJiAweDgwKSB7XG5cdFx0XHRzaXplID0gKHNpemUgPDwgNykgKyAoYnl0ZVJlYWQgJiAweDdGKTtcblx0XHRcdGJ5dGVSZWFkID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHRcdFx0aGRyU2l6ZSsrO1xuXHRcdH1cblx0XHRzaXplID0gKHNpemUgPDwgNykgKyAoYnl0ZVJlYWQgJiAweDdGKTtcblx0XHRMb2cuZGVidWcoXCJNUEVHNERlc2NyaXB0b3JQYXJzZXJcIiwgXCJGb3VuZCBcIisoZGVzY1RhZ1RvTmFtZVt0YWddIHx8IFwiRGVzY3JpcHRvciBcIit0YWcpK1wiLCBzaXplIFwiK3NpemUrXCIgYXQgcG9zaXRpb24gXCIrc3RyZWFtLmdldFBvc2l0aW9uKCkpO1xuXHRcdGlmIChkZXNjVGFnVG9OYW1lW3RhZ10pIHtcblx0XHRcdGRlc2MgPSBuZXcgY2xhc3Nlc1tkZXNjVGFnVG9OYW1lW3RhZ11dKHNpemUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkZXNjID0gbmV3IGNsYXNzZXMuRGVzY3JpcHRvcihzaXplKTtcblx0XHR9XG5cdFx0ZGVzYy5wYXJzZShzdHJlYW0pO1xuXHRcdHJldHVybiBkZXNjO1xuXHR9XG5cblx0Y2xhc3Nlcy5EZXNjcmlwdG9yID0gZnVuY3Rpb24oX3RhZywgX3NpemUpIHtcblx0XHR0aGlzLnRhZyA9IF90YWc7XG5cdFx0dGhpcy5zaXplID0gX3NpemU7XG5cdFx0dGhpcy5kZXNjcyA9IFtdO1xuXHR9XG5cblx0Y2xhc3Nlcy5EZXNjcmlwdG9yLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIChzdHJlYW0pIHtcblx0XHR0aGlzLmRhdGEgPSBzdHJlYW0ucmVhZFVpbnQ4QXJyYXkodGhpcy5zaXplKTtcblx0fVxuXG5cdGNsYXNzZXMuRGVzY3JpcHRvci5wcm90b3R5cGUuZmluZERlc2NyaXB0b3IgPSBmdW5jdGlvbiAodGFnKSB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRlc2NzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAodGhpcy5kZXNjc1tpXS50YWcgPT0gdGFnKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmRlc2NzW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGNsYXNzZXMuRGVzY3JpcHRvci5wcm90b3R5cGUucGFyc2VSZW1haW5pbmdEZXNjcmlwdG9ycyA9IGZ1bmN0aW9uIChzdHJlYW0pIHtcblx0XHR2YXIgc3RhcnQgPSBzdHJlYW0ucG9zaXRpb247XG5cdFx0d2hpbGUgKHN0cmVhbS5wb3NpdGlvbiA8IHN0YXJ0K3RoaXMuc2l6ZSkge1xuXHRcdFx0dmFyIGRlc2MgPSB0aGF0LnBhcnNlT25lRGVzY3JpcHRvcihzdHJlYW0pO1xuXHRcdFx0dGhpcy5kZXNjcy5wdXNoKGRlc2MpO1xuXHRcdH1cblx0fVxuXG5cdGNsYXNzZXMuRVNfRGVzY3JpcHRvciA9IGZ1bmN0aW9uIChzaXplKSB7XG5cdFx0Y2xhc3Nlcy5EZXNjcmlwdG9yLmNhbGwodGhpcywgRVNfRGVzY3JUYWcsIHNpemUpO1xuXHR9XG5cblx0Y2xhc3Nlcy5FU19EZXNjcmlwdG9yLnByb3RvdHlwZSA9IG5ldyBjbGFzc2VzLkRlc2NyaXB0b3IoKTtcblxuXHRjbGFzc2VzLkVTX0Rlc2NyaXB0b3IucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oc3RyZWFtKSB7XG5cdFx0dGhpcy5FU19JRCA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG5cdFx0dGhpcy5mbGFncyA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0XHR0aGlzLnNpemUgLT0gMztcblx0XHRpZiAodGhpcy5mbGFncyAmIDB4ODApIHtcblx0XHRcdHRoaXMuZGVwZW5kc09uX0VTX0lEID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0XHRcdHRoaXMuc2l6ZSAtPSAyO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmRlcGVuZHNPbl9FU19JRCA9IDA7XG5cdFx0fVxuXHRcdGlmICh0aGlzLmZsYWdzICYgMHg0MCkge1xuXHRcdFx0dmFyIGwgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdFx0XHR0aGlzLlVSTCA9IHN0cmVhbS5yZWFkU3RyaW5nKGwpO1xuXHRcdFx0dGhpcy5zaXplIC09IGwrMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5VUkwgPSBcIlwiO1xuXHRcdH1cblx0XHRpZiAodGhpcy5mbGFncyAmIDB4MjApIHtcblx0XHRcdHRoaXMuT0NSX0VTX0lEID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0XHRcdHRoaXMuc2l6ZSAtPSAyO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLk9DUl9FU19JRCA9IDA7XG5cdFx0fVxuXHRcdHRoaXMucGFyc2VSZW1haW5pbmdEZXNjcmlwdG9ycyhzdHJlYW0pO1xuXHR9XG5cblx0Y2xhc3Nlcy5FU19EZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRPVEkgPSBmdW5jdGlvbihzdHJlYW0pIHtcblx0XHR2YXIgZGNkID0gdGhpcy5maW5kRGVzY3JpcHRvcihEZWNvZGVyQ29uZmlnRGVzY3JUYWcpO1xuXHRcdGlmIChkY2QpIHtcblx0XHRcdHJldHVybiBkY2Qub3RpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cdH1cblxuXHRjbGFzc2VzLkVTX0Rlc2NyaXB0b3IucHJvdG90eXBlLmdldEF1ZGlvQ29uZmlnID0gZnVuY3Rpb24oc3RyZWFtKSB7XG5cdFx0dmFyIGRjZCA9IHRoaXMuZmluZERlc2NyaXB0b3IoRGVjb2RlckNvbmZpZ0Rlc2NyVGFnKTtcblx0XHRpZiAoIWRjZCkgcmV0dXJuIG51bGw7XG5cdFx0dmFyIGRzaSA9IGRjZC5maW5kRGVzY3JpcHRvcihEZWNTcGVjaWZpY0luZm9UYWcpO1xuXHRcdGlmIChkc2kgJiYgZHNpLmRhdGEpIHtcblx0XHRcdHZhciBhdWRpb09iamVjdFR5cGUgPSAoZHNpLmRhdGFbMF0mIDB4RjgpID4+IDM7XG5cdFx0XHRpZiAoYXVkaW9PYmplY3RUeXBlID09PSAzMSAmJiBkc2kuZGF0YS5sZW5ndGggPj0gMikge1xuXHRcdFx0XHRhdWRpb09iamVjdFR5cGUgPSAzMiArICgoZHNpLmRhdGFbMF0gJiAweDcpIDw8IDMpICsgKChkc2kuZGF0YVsxXSAmIDB4RTApID4+IDUpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGF1ZGlvT2JqZWN0VHlwZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHR9XG5cblx0Y2xhc3Nlcy5EZWNvZGVyQ29uZmlnRGVzY3JpcHRvciA9IGZ1bmN0aW9uIChzaXplKSB7XG5cdFx0Y2xhc3Nlcy5EZXNjcmlwdG9yLmNhbGwodGhpcywgRGVjb2RlckNvbmZpZ0Rlc2NyVGFnLCBzaXplKTtcblx0fVxuXHRjbGFzc2VzLkRlY29kZXJDb25maWdEZXNjcmlwdG9yLnByb3RvdHlwZSA9IG5ldyBjbGFzc2VzLkRlc2NyaXB0b3IoKTtcblxuXHRjbGFzc2VzLkRlY29kZXJDb25maWdEZXNjcmlwdG9yLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHRcdHRoaXMub3RpID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHRcdHRoaXMuc3RyZWFtVHlwZSA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0XHR0aGlzLnVwU3RyZWFtID0gKCh0aGlzLnN0cmVhbVR5cGUgPj4gMSkgJiAxKSAhPT0gMDtcblx0XHR0aGlzLnN0cmVhbVR5cGUgPSB0aGlzLnN0cmVhbVR5cGUgPj4+IDI7XG5cdFx0dGhpcy5idWZmZXJTaXplID0gc3RyZWFtLnJlYWRVaW50MjQoKTtcblx0XHR0aGlzLm1heEJpdHJhdGUgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRcdHRoaXMuYXZnQml0cmF0ZSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0dGhpcy5zaXplIC09IDEzO1xuXHRcdHRoaXMucGFyc2VSZW1haW5pbmdEZXNjcmlwdG9ycyhzdHJlYW0pO1xuXHR9XG5cblx0Y2xhc3Nlcy5EZWNvZGVyU3BlY2lmaWNJbmZvID0gZnVuY3Rpb24gKHNpemUpIHtcblx0XHRjbGFzc2VzLkRlc2NyaXB0b3IuY2FsbCh0aGlzLCBEZWNTcGVjaWZpY0luZm9UYWcsIHNpemUpO1xuXHR9XG5cdGNsYXNzZXMuRGVjb2RlclNwZWNpZmljSW5mby5wcm90b3R5cGUgPSBuZXcgY2xhc3Nlcy5EZXNjcmlwdG9yKCk7XG5cblx0Y2xhc3Nlcy5TTENvbmZpZ0Rlc2NyaXB0b3IgPSBmdW5jdGlvbiAoc2l6ZSkge1xuXHRcdGNsYXNzZXMuRGVzY3JpcHRvci5jYWxsKHRoaXMsIFNMQ29uZmlnRGVzY3JUYWcsIHNpemUpO1xuXHR9XG5cdGNsYXNzZXMuU0xDb25maWdEZXNjcmlwdG9yLnByb3RvdHlwZSA9IG5ldyBjbGFzc2VzLkRlc2NyaXB0b3IoKTtcblxuXHRyZXR1cm4gdGhpcztcbn1cblxuaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuXHRleHBvcnRzLk1QRUc0RGVzY3JpcHRvclBhcnNlciA9IE1QRUc0RGVzY3JpcHRvclBhcnNlcjtcbn1cbi8vIGZpbGU6c3JjL2JveC5qc1xuLypcbiAqIENvcHlyaWdodCAoYykgMjAxMi0yMDEzLiBUZWxlY29tIFBhcmlzVGVjaC9UU0kvTU0vR1BBQyBDeXJpbCBDb25jb2xhdG9cbiAqIExpY2Vuc2U6IEJTRC0zLUNsYXVzZSAoc2VlIExJQ0VOU0UgZmlsZSlcbiAqL1xudmFyIEJveFBhcnNlciA9IHtcblx0RVJSX0lOVkFMSURfREFUQSA6IC0xLFxuXHRFUlJfTk9UX0VOT1VHSF9EQVRBIDogMCxcblx0T0sgOiAxLFxuXG5cdC8vIEJveGVzIHRvIGJlIGNyZWF0ZWQgd2l0aCBkZWZhdWx0IHBhcnNpbmdcblx0QkFTSUNfQk9YRVM6IFtcblx0XHR7dHlwZTogXCJtZGF0XCIsIG5hbWU6IFwiTWVkaWFEYXRhQm94XCJ9LFxuXHRcdHt0eXBlOiBcImlkYXRcIiwgbmFtZTogXCJJdGVtRGF0YUJveFwifSxcblx0XHR7dHlwZTogXCJmcmVlXCIsIG5hbWU6IFwiRnJlZVNwYWNlQm94XCJ9LFxuXHRcdHt0eXBlOiBcInNraXBcIiwgbmFtZTogXCJGcmVlU3BhY2VCb3hcIn0sXG5cdFx0e3R5cGU6IFwibWVjb1wiLCBuYW1lOiBcIkFkZGl0aW9uYWxNZXRhZGF0YUNvbnRhaW5lckJveFwifSxcblx0XHR7dHlwZTogXCJzdHJrXCIsIG5hbWU6IFwiU3ViVHJhY2tCb3hcIn1cblx0XSxcblx0RlVMTF9CT1hFUzogW1xuXHRcdHt0eXBlOiBcImhtaGRcIiwgbmFtZTogXCJIaW50TWVkaWFIZWFkZXJCb3hcIn0sXG5cdFx0e3R5cGU6IFwibm1oZFwiLCBuYW1lOiBcIk51bGxNZWRpYUhlYWRlckJveFwifSxcblx0XHR7dHlwZTogXCJpb2RzXCIsIG5hbWU6IFwiT2JqZWN0RGVzY3JpcHRvckJveFwifSxcblx0XHR7dHlwZTogXCJ4bWwgXCIsIG5hbWU6IFwiWE1MQm94XCJ9LFxuXHRcdHt0eXBlOiBcImJ4bWxcIiwgbmFtZTogXCJCaW5hcnlYTUxCb3hcIn0sXG5cdFx0e3R5cGU6IFwiaXByb1wiLCBuYW1lOiBcIkl0ZW1Qcm90ZWN0aW9uQm94XCJ9LFxuXHRcdHt0eXBlOiBcIm1lcmVcIiwgbmFtZTogXCJNZXRhYm94UmVsYXRpb25Cb3hcIn1cblx0XSxcblx0Q09OVEFJTkVSX0JPWEVTOiBbXG5cdFx0W3t0eXBlOiBcIm1vb3ZcIiwgbmFtZTogXCJDb21wcmVzc2VkTW92aWVCb3hcIn0sIFtcInRyYWtcIiwgXCJwc3NoXCJdXSxcblx0XHRbe3R5cGU6IFwidHJha1wiLCBuYW1lOiBcIlRyYWNrQm94XCJ9XSxcblx0XHRbe3R5cGU6IFwiZWR0c1wiLCBuYW1lOiBcIkVkaXRCb3hcIn1dLFxuXHRcdFt7dHlwZTogXCJtZGlhXCIsIG5hbWU6IFwiTWVkaWFCb3hcIn1dLFxuXHRcdFt7dHlwZTogXCJtaW5mXCIsIG5hbWU6IFwiTWVkaWFJbmZvcm1hdGlvbkJveFwifV0sXG5cdFx0W3t0eXBlOiBcImRpbmZcIiwgbmFtZTogXCJEYXRhSW5mb3JtYXRpb25Cb3hcIn1dLFxuXHRcdFt7dHlwZTogXCJzdGJsXCIsIG5hbWU6IFwiU2FtcGxlVGFibGVCb3hcIn0sIFtcInNncGRcIiwgXCJzYmdwXCJdXSxcblx0XHRbe3R5cGU6IFwibXZleFwiLCBuYW1lOiBcIk1vdmllRXh0ZW5kc0JveFwifSwgW1widHJleFwiXV0sXG5cdFx0W3t0eXBlOiBcIm1vb2ZcIiwgbmFtZTogXCJDb21wcmVzc2VkTW92aWVGcmFnbWVudEJveFwifSwgW1widHJhZlwiXV0sXG5cdFx0W3t0eXBlOiBcInRyYWZcIiwgbmFtZTogXCJUcmFja0ZyYWdtZW50Qm94XCJ9LCBbXCJ0cnVuXCIsIFwic2dwZFwiLCBcInNiZ3BcIl1dLFxuXHRcdFt7dHlwZTogXCJ2dHRjXCIsIG5hbWU6IFwiVlRUQ3VlQm94XCJ9XSxcblx0XHRbe3R5cGU6IFwidHJlZlwiLCBuYW1lOiBcIlRyYWNrUmVmZXJlbmNlQm94XCJ9XSxcblx0XHRbe3R5cGU6IFwiaXJlZlwiLCBuYW1lOiBcIkl0ZW1SZWZlcmVuY2VCb3hcIn1dLFxuXHRcdFt7dHlwZTogXCJtZnJhXCIsIG5hbWU6IFwiTW92aWVGcmFnbWVudFJhbmRvbUFjY2Vzc0JveFwifSwgW1widGZyYVwiXV0sXG5cdFx0W3t0eXBlOiBcIm1lY29cIiwgbmFtZTogXCJBZGRpdGlvbmFsTWV0YWRhdGFDb250YWluZXJCb3hcIn1dLFxuXHRcdFt7dHlwZTogXCJobnRpXCIsIG5hbWU6IFwidHJhY2toaW50aW5mb3JtYXRpb25cIn1dLFxuXHRcdFt7dHlwZTogXCJoaW5mXCIsIG5hbWU6IFwiaGludHN0YXRpc3RpY3Nib3hcIn1dLFxuXHRcdFt7dHlwZTogXCJzdHJrXCIsIG5hbWU6IFwiU3ViVHJhY2tCb3hcIn1dLFxuXHRcdFt7dHlwZTogXCJzdHJkXCIsIG5hbWU6IFwiU3ViVHJhY2tEZWZpbml0aW9uQm94XCJ9XSxcblx0XHRbe3R5cGU6IFwic2luZlwiLCBuYW1lOiBcIlByb3RlY3Rpb25TY2hlbWVJbmZvQm94XCJ9XSxcblx0XHRbe3R5cGU6IFwicmluZlwiLCBuYW1lOiBcIlJlc3RyaWN0ZWRTY2hlbWVJbmZvQm94XCJ9XSxcblx0XHRbe3R5cGU6IFwic2NoaVwiLCBuYW1lOiBcIlNjaGVtZUluZm9ybWF0aW9uQm94XCJ9XSxcblx0XHRbe3R5cGU6IFwidHJnclwiLCBuYW1lOiBcIlRyYWNrR3JvdXBCb3hcIn1dLFxuXHRcdFt7dHlwZTogXCJ1ZHRhXCIsIG5hbWU6IFwiVXNlckRhdGFCb3hcIn0sIFtcImtpbmRcIl1dLFxuXHRcdFt7dHlwZTogXCJpcHJwXCIsIG5hbWU6IFwiSXRlbVByb3BlcnRpZXNCb3hcIn0sIFtcImlwbWFcIl1dLFxuXHRcdFt7dHlwZTogXCJpcGNvXCIsIG5hbWU6IFwiSXRlbVByb3BlcnR5Q29udGFpbmVyQm94XCJ9XSxcblx0XHRbe3R5cGU6IFwiZ3JwbFwiLCBuYW1lOiBcIkdyb3Vwc0xpc3RCb3hcIn1dLFxuXHRcdFt7dHlwZTogXCJqMmtIXCIsIG5hbWU6IFwiSjJLSGVhZGVySW5mb0JveFwifV0sXG5cdFx0W3t0eXBlOiBcImV0eXBcIiwgbmFtZTogXCJFeHRlbmRlZFR5cGVCb3hcIn0sIFtcInR5Y29cIl1dXG5cdF0sXG5cdC8vIEJveGVzIGVmZmVjdGl2ZWx5IGNyZWF0ZWRcblx0Ym94Q29kZXMgOiBbXSxcblx0ZnVsbEJveENvZGVzIDogW10sXG5cdGNvbnRhaW5lckJveENvZGVzIDogW10sXG5cdHNhbXBsZUVudHJ5Q29kZXMgOiB7fSxcblx0c2FtcGxlR3JvdXBFbnRyeUNvZGVzOiBbXSxcblx0dHJhY2tHcm91cFR5cGVzOiBbXSxcblx0VVVJREJveGVzOiB7fSxcblx0VVVJRHM6IFtdLFxuXHRpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcblx0XHRCb3hQYXJzZXIuRnVsbEJveC5wcm90b3R5cGUgPSBuZXcgQm94UGFyc2VyLkJveCgpO1xuXHRcdEJveFBhcnNlci5Db250YWluZXJCb3gucHJvdG90eXBlID0gbmV3IEJveFBhcnNlci5Cb3goKTtcblx0XHRCb3hQYXJzZXIuU2FtcGxlRW50cnkucHJvdG90eXBlID0gbmV3IEJveFBhcnNlci5Cb3goKTtcblx0XHRCb3hQYXJzZXIuVHJhY2tHcm91cFR5cGVCb3gucHJvdG90eXBlID0gbmV3IEJveFBhcnNlci5GdWxsQm94KCk7XG5cblx0XHQvKiBjcmVhdGluZyBjb25zdHJ1Y3RvcnMgZm9yIHNpbXBsZSBib3hlcyAqL1xuXHRcdEJveFBhcnNlci5CQVNJQ19CT1hFUy5mb3JFYWNoKGZ1bmN0aW9uKGJveCkge1xuXHRcdFx0Qm94UGFyc2VyLmNyZWF0ZUJveEN0b3IoYm94LnR5cGUsIGJveC5uYW1lKVxuXHRcdH0pO1xuXHRcdEJveFBhcnNlci5GVUxMX0JPWEVTLmZvckVhY2goZnVuY3Rpb24oYm94KSB7XG5cdFx0XHRCb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoYm94LnR5cGUsIGJveC5uYW1lKTtcblx0XHR9KTtcblx0XHRCb3hQYXJzZXIuQ09OVEFJTkVSX0JPWEVTLmZvckVhY2goZnVuY3Rpb24oYm94ZXMpIHtcblx0XHRcdEJveFBhcnNlci5jcmVhdGVDb250YWluZXJCb3hDdG9yKGJveGVzWzBdLnR5cGUsIGJveGVzWzBdLm5hbWUsIG51bGwsIGJveGVzWzFdKTtcblx0XHR9KTtcblx0fSxcblx0Qm94OiBmdW5jdGlvbihfdHlwZSwgX3NpemUsIF9uYW1lLCBfdXVpZCkge1xuXHRcdHRoaXMudHlwZSA9IF90eXBlO1xuXHRcdHRoaXMuYm94X25hbWUgPSBfbmFtZTtcblx0XHR0aGlzLnNpemUgPSBfc2l6ZTtcblx0XHR0aGlzLnV1aWQgPSBfdXVpZDtcblx0fSxcblx0RnVsbEJveDogZnVuY3Rpb24odHlwZSwgc2l6ZSwgbmFtZSwgdXVpZCkge1xuXHRcdEJveFBhcnNlci5Cb3guY2FsbCh0aGlzLCB0eXBlLCBzaXplLCBuYW1lLCB1dWlkKTtcblx0XHR0aGlzLmZsYWdzID0gMDtcblx0XHR0aGlzLnZlcnNpb24gPSAwO1xuXHR9LFxuXHRDb250YWluZXJCb3g6IGZ1bmN0aW9uKHR5cGUsIHNpemUsIG5hbWUsIHV1aWQpIHtcblx0XHRCb3hQYXJzZXIuQm94LmNhbGwodGhpcywgdHlwZSwgc2l6ZSwgbmFtZSwgdXVpZCk7XG5cdFx0dGhpcy5ib3hlcyA9IFtdO1xuXHR9LFxuXHRTYW1wbGVFbnRyeTogZnVuY3Rpb24odHlwZSwgc2l6ZSwgaGRyX3NpemUsIHN0YXJ0KSB7XG5cdFx0Qm94UGFyc2VyLkNvbnRhaW5lckJveC5jYWxsKHRoaXMsIHR5cGUsIHNpemUpO1xuXHRcdHRoaXMuaGRyX3NpemUgPSBoZHJfc2l6ZTtcblx0XHR0aGlzLnN0YXJ0ID0gc3RhcnQ7XG5cdH0sXG5cdFNhbXBsZUdyb3VwRW50cnk6IGZ1bmN0aW9uKHR5cGUpIHtcblx0XHR0aGlzLmdyb3VwaW5nX3R5cGUgPSB0eXBlO1xuXHR9LFxuXHRUcmFja0dyb3VwVHlwZUJveDogZnVuY3Rpb24odHlwZSwgc2l6ZSkge1xuXHRcdEJveFBhcnNlci5GdWxsQm94LmNhbGwodGhpcywgdHlwZSwgc2l6ZSk7XG5cdH0sXG5cdGNyZWF0ZUJveEN0b3I6IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHBhcnNlTWV0aG9kKXtcblx0XHRCb3hQYXJzZXIuYm94Q29kZXMucHVzaCh0eXBlKTtcblx0XHRCb3hQYXJzZXJbdHlwZStcIkJveFwiXSA9IGZ1bmN0aW9uKHNpemUpIHtcblx0XHRcdEJveFBhcnNlci5Cb3guY2FsbCh0aGlzLCB0eXBlLCBzaXplLCBuYW1lKTtcblx0XHR9XG5cdFx0Qm94UGFyc2VyW3R5cGUrXCJCb3hcIl0ucHJvdG90eXBlID0gbmV3IEJveFBhcnNlci5Cb3goKTtcblx0XHRpZiAocGFyc2VNZXRob2QpIEJveFBhcnNlclt0eXBlK1wiQm94XCJdLnByb3RvdHlwZS5wYXJzZSA9IHBhcnNlTWV0aG9kO1xuXHR9LFxuXHRjcmVhdGVGdWxsQm94Q3RvcjogZnVuY3Rpb24odHlwZSwgbmFtZSwgcGFyc2VNZXRob2QpIHtcblx0XHQvL0JveFBhcnNlci5mdWxsQm94Q29kZXMucHVzaCh0eXBlKTtcblx0XHRCb3hQYXJzZXJbdHlwZStcIkJveFwiXSA9IGZ1bmN0aW9uKHNpemUpIHtcblx0XHRcdEJveFBhcnNlci5GdWxsQm94LmNhbGwodGhpcywgdHlwZSwgc2l6ZSwgbmFtZSk7XG5cdFx0fVxuXHRcdEJveFBhcnNlclt0eXBlK1wiQm94XCJdLnByb3RvdHlwZSA9IG5ldyBCb3hQYXJzZXIuRnVsbEJveCgpO1xuXHRcdEJveFBhcnNlclt0eXBlK1wiQm94XCJdLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHRcdFx0dGhpcy5wYXJzZUZ1bGxIZWFkZXIoc3RyZWFtKTtcblx0XHRcdGlmIChwYXJzZU1ldGhvZCkge1xuXHRcdFx0XHRwYXJzZU1ldGhvZC5jYWxsKHRoaXMsIHN0cmVhbSk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fSxcblx0YWRkU3ViQm94QXJyYXlzOiBmdW5jdGlvbihzdWJCb3hOYW1lcykge1xuXHRcdGlmIChzdWJCb3hOYW1lcykge1xuXHRcdFx0dGhpcy5zdWJCb3hOYW1lcyA9IHN1YkJveE5hbWVzO1xuXHRcdFx0dmFyIG5iU3ViQm94ZXMgPSBzdWJCb3hOYW1lcy5sZW5ndGg7XG5cdFx0XHRmb3IgKHZhciBrID0gMDsgazxuYlN1YkJveGVzOyBrKyspIHtcblx0XHRcdFx0dGhpc1tzdWJCb3hOYW1lc1trXStcInNcIl0gPSBbXTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cdGNyZWF0ZUNvbnRhaW5lckJveEN0b3I6IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHBhcnNlTWV0aG9kLCBzdWJCb3hOYW1lcykge1xuXHRcdC8vQm94UGFyc2VyLmNvbnRhaW5lckJveENvZGVzLnB1c2godHlwZSk7XG5cdFx0Qm94UGFyc2VyW3R5cGUrXCJCb3hcIl0gPSBmdW5jdGlvbihzaXplKSB7XG5cdFx0XHRCb3hQYXJzZXIuQ29udGFpbmVyQm94LmNhbGwodGhpcywgdHlwZSwgc2l6ZSwgbmFtZSk7XG5cdFx0XHRCb3hQYXJzZXIuYWRkU3ViQm94QXJyYXlzLmNhbGwodGhpcywgc3ViQm94TmFtZXMpO1xuXHRcdH1cblx0XHRCb3hQYXJzZXJbdHlwZStcIkJveFwiXS5wcm90b3R5cGUgPSBuZXcgQm94UGFyc2VyLkNvbnRhaW5lckJveCgpO1xuXHRcdGlmIChwYXJzZU1ldGhvZCkgQm94UGFyc2VyW3R5cGUrXCJCb3hcIl0ucHJvdG90eXBlLnBhcnNlID0gcGFyc2VNZXRob2Q7XG5cdH0sXG5cdGNyZWF0ZU1lZGlhU2FtcGxlRW50cnlDdG9yOiBmdW5jdGlvbihtZWRpYVR5cGUsIHBhcnNlTWV0aG9kLCBzdWJCb3hOYW1lcykge1xuXHRcdEJveFBhcnNlci5zYW1wbGVFbnRyeUNvZGVzW21lZGlhVHlwZV0gPSBbXTtcblx0XHRCb3hQYXJzZXJbbWVkaWFUeXBlK1wiU2FtcGxlRW50cnlcIl0gPSBmdW5jdGlvbih0eXBlLCBzaXplKSB7XG5cdFx0XHRCb3hQYXJzZXIuU2FtcGxlRW50cnkuY2FsbCh0aGlzLCB0eXBlLCBzaXplKTtcblx0XHRcdEJveFBhcnNlci5hZGRTdWJCb3hBcnJheXMuY2FsbCh0aGlzLCBzdWJCb3hOYW1lcyk7XG5cdFx0fTtcblx0XHRCb3hQYXJzZXJbbWVkaWFUeXBlK1wiU2FtcGxlRW50cnlcIl0ucHJvdG90eXBlID0gbmV3IEJveFBhcnNlci5TYW1wbGVFbnRyeSgpO1xuXHRcdGlmIChwYXJzZU1ldGhvZCkgQm94UGFyc2VyW21lZGlhVHlwZStcIlNhbXBsZUVudHJ5XCJdLnByb3RvdHlwZSAucGFyc2UgPSBwYXJzZU1ldGhvZDtcblx0fSxcblx0Y3JlYXRlU2FtcGxlRW50cnlDdG9yOiBmdW5jdGlvbihtZWRpYVR5cGUsIHR5cGUsIHBhcnNlTWV0aG9kLCBzdWJCb3hOYW1lcykge1xuXHRcdEJveFBhcnNlci5zYW1wbGVFbnRyeUNvZGVzW21lZGlhVHlwZV0ucHVzaCh0eXBlKTtcblx0XHRCb3hQYXJzZXJbdHlwZStcIlNhbXBsZUVudHJ5XCJdID0gZnVuY3Rpb24oc2l6ZSkge1xuXHRcdFx0Qm94UGFyc2VyW21lZGlhVHlwZStcIlNhbXBsZUVudHJ5XCJdLmNhbGwodGhpcywgdHlwZSwgc2l6ZSk7XG5cdFx0XHRCb3hQYXJzZXIuYWRkU3ViQm94QXJyYXlzLmNhbGwodGhpcywgc3ViQm94TmFtZXMpO1xuXHRcdH07XG5cdFx0Qm94UGFyc2VyW3R5cGUrXCJTYW1wbGVFbnRyeVwiXS5wcm90b3R5cGUgPSBuZXcgQm94UGFyc2VyW21lZGlhVHlwZStcIlNhbXBsZUVudHJ5XCJdKCk7XG5cdFx0aWYgKHBhcnNlTWV0aG9kKSBCb3hQYXJzZXJbdHlwZStcIlNhbXBsZUVudHJ5XCJdLnByb3RvdHlwZS5wYXJzZSA9IHBhcnNlTWV0aG9kO1xuXHR9LFxuXHRjcmVhdGVFbmNyeXB0ZWRTYW1wbGVFbnRyeUN0b3I6IGZ1bmN0aW9uKG1lZGlhVHlwZSwgdHlwZSwgcGFyc2VNZXRob2QpIHtcblx0XHRCb3hQYXJzZXIuY3JlYXRlU2FtcGxlRW50cnlDdG9yLmNhbGwodGhpcywgbWVkaWFUeXBlLCB0eXBlLCBwYXJzZU1ldGhvZCwgW1wic2luZlwiXSk7XG5cdH0sXG5cdGNyZWF0ZVNhbXBsZUdyb3VwQ3RvcjogZnVuY3Rpb24odHlwZSwgcGFyc2VNZXRob2QpIHtcblx0XHQvL0JveFBhcnNlci5zYW1wbGVHcm91cEVudHJ5Q29kZXMucHVzaCh0eXBlKTtcblx0XHRCb3hQYXJzZXJbdHlwZStcIlNhbXBsZUdyb3VwRW50cnlcIl0gPSBmdW5jdGlvbihzaXplKSB7XG5cdFx0XHRCb3hQYXJzZXIuU2FtcGxlR3JvdXBFbnRyeS5jYWxsKHRoaXMsIHR5cGUsIHNpemUpO1xuXHRcdH1cblx0XHRCb3hQYXJzZXJbdHlwZStcIlNhbXBsZUdyb3VwRW50cnlcIl0ucHJvdG90eXBlID0gbmV3IEJveFBhcnNlci5TYW1wbGVHcm91cEVudHJ5KCk7XG5cdFx0aWYgKHBhcnNlTWV0aG9kKSBCb3hQYXJzZXJbdHlwZStcIlNhbXBsZUdyb3VwRW50cnlcIl0ucHJvdG90eXBlLnBhcnNlID0gcGFyc2VNZXRob2Q7XG5cdH0sXG5cdGNyZWF0ZVRyYWNrR3JvdXBDdG9yOiBmdW5jdGlvbih0eXBlLCBwYXJzZU1ldGhvZCkge1xuXHRcdC8vQm94UGFyc2VyLnRyYWNrR3JvdXBUeXBlcy5wdXNoKHR5cGUpO1xuXHRcdEJveFBhcnNlclt0eXBlK1wiVHJhY2tHcm91cFR5cGVCb3hcIl0gPSBmdW5jdGlvbihzaXplKSB7XG5cdFx0XHRCb3hQYXJzZXIuVHJhY2tHcm91cFR5cGVCb3guY2FsbCh0aGlzLCB0eXBlLCBzaXplKTtcblx0XHR9XG5cdFx0Qm94UGFyc2VyW3R5cGUrXCJUcmFja0dyb3VwVHlwZUJveFwiXS5wcm90b3R5cGUgPSBuZXcgQm94UGFyc2VyLlRyYWNrR3JvdXBUeXBlQm94KCk7XG5cdFx0aWYgKHBhcnNlTWV0aG9kKSBCb3hQYXJzZXJbdHlwZStcIlRyYWNrR3JvdXBUeXBlQm94XCJdLnByb3RvdHlwZS5wYXJzZSA9IHBhcnNlTWV0aG9kO1xuXHR9LFxuXHRjcmVhdGVVVUlEQm94OiBmdW5jdGlvbih1dWlkLCBuYW1lLCBpc0Z1bGxCb3gsIGlzQ29udGFpbmVyQm94LCBwYXJzZU1ldGhvZCkge1xuXHRcdEJveFBhcnNlci5VVUlEcy5wdXNoKHV1aWQpO1xuXHRcdEJveFBhcnNlci5VVUlEQm94ZXNbdXVpZF0gPSBmdW5jdGlvbihzaXplKSB7XG5cdFx0XHRpZiAoaXNGdWxsQm94KSB7XG5cdFx0XHRcdEJveFBhcnNlci5GdWxsQm94LmNhbGwodGhpcywgXCJ1dWlkXCIsIHNpemUsIG5hbWUsIHV1aWQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKGlzQ29udGFpbmVyQm94KSB7XG5cdFx0XHRcdFx0Qm94UGFyc2VyLkNvbnRhaW5lckJveC5jYWxsKHRoaXMsIFwidXVpZFwiLCBzaXplLCBuYW1lLCB1dWlkKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRCb3hQYXJzZXIuQm94LmNhbGwodGhpcywgXCJ1dWlkXCIsIHNpemUsIG5hbWUsIHV1aWQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdEJveFBhcnNlci5VVUlEQm94ZXNbdXVpZF0ucHJvdG90eXBlID0gKGlzRnVsbEJveCA/IG5ldyBCb3hQYXJzZXIuRnVsbEJveCgpIDogKGlzQ29udGFpbmVyQm94ID8gbmV3IEJveFBhcnNlci5Db250YWluZXJCb3goKSA6IG5ldyBCb3hQYXJzZXIuQm94KCkpKTtcblx0XHRpZiAocGFyc2VNZXRob2QpIHtcblx0XHRcdGlmIChpc0Z1bGxCb3gpIHtcblx0XHRcdFx0Qm94UGFyc2VyLlVVSURCb3hlc1t1dWlkXS5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbihzdHJlYW0pIHtcblx0XHRcdFx0XHR0aGlzLnBhcnNlRnVsbEhlYWRlcihzdHJlYW0pO1xuXHRcdFx0XHRcdGlmIChwYXJzZU1ldGhvZCkge1xuXHRcdFx0XHRcdFx0cGFyc2VNZXRob2QuY2FsbCh0aGlzLCBzdHJlYW0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Qm94UGFyc2VyLlVVSURCb3hlc1t1dWlkXS5wcm90b3R5cGUucGFyc2UgPSBwYXJzZU1ldGhvZDtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuQm94UGFyc2VyLmluaXRpYWxpemUoKTtcblxuQm94UGFyc2VyLlRLSERfRkxBR19FTkFCTEVEICAgID0gMHgwMDAwMDE7XG5Cb3hQYXJzZXIuVEtIRF9GTEFHX0lOX01PVklFICAgPSAweDAwMDAwMjtcbkJveFBhcnNlci5US0hEX0ZMQUdfSU5fUFJFVklFVyA9IDB4MDAwMDA0O1xuXG5Cb3hQYXJzZXIuVEZIRF9GTEFHX0JBU0VfREFUQV9PRkZTRVRcdD0gMHgwMTtcbkJveFBhcnNlci5URkhEX0ZMQUdfU0FNUExFX0RFU0NcdFx0XHQ9IDB4MDI7XG5Cb3hQYXJzZXIuVEZIRF9GTEFHX1NBTVBMRV9EVVJcdFx0XHQ9IDB4MDg7XG5Cb3hQYXJzZXIuVEZIRF9GTEFHX1NBTVBMRV9TSVpFXHRcdFx0PSAweDEwO1xuQm94UGFyc2VyLlRGSERfRkxBR19TQU1QTEVfRkxBR1NcdFx0PSAweDIwO1xuQm94UGFyc2VyLlRGSERfRkxBR19EVVJfRU1QVFlcdFx0XHQ9IDB4MTAwMDA7XG5Cb3hQYXJzZXIuVEZIRF9GTEFHX0RFRkFVTFRfQkFTRV9JU19NT09GPSAweDIwMDAwO1xuXG5Cb3hQYXJzZXIuVFJVTl9GTEFHU19EQVRBX09GRlNFVD0gMHgwMTtcbkJveFBhcnNlci5UUlVOX0ZMQUdTX0ZJUlNUX0ZMQUdcdD0gMHgwNDtcbkJveFBhcnNlci5UUlVOX0ZMQUdTX0RVUkFUSU9OXHQ9IDB4MTAwO1xuQm94UGFyc2VyLlRSVU5fRkxBR1NfU0laRVx0XHQ9IDB4MjAwO1xuQm94UGFyc2VyLlRSVU5fRkxBR1NfRkxBR1NcdFx0PSAweDQwMDtcbkJveFBhcnNlci5UUlVOX0ZMQUdTX0NUU19PRkZTRVRcdD0gMHg4MDA7XG5cbkJveFBhcnNlci5Cb3gucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0cmV0dXJuIHRoaXMuYWRkQm94KG5ldyBCb3hQYXJzZXJbbmFtZStcIkJveFwiXSgpKTtcbn1cblxuQm94UGFyc2VyLkJveC5wcm90b3R5cGUuYWRkQm94ID0gZnVuY3Rpb24oYm94KSB7XG5cdHRoaXMuYm94ZXMucHVzaChib3gpO1xuXHRpZiAodGhpc1tib3gudHlwZStcInNcIl0pIHtcblx0XHR0aGlzW2JveC50eXBlK1wic1wiXS5wdXNoKGJveCk7XG5cdH0gZWxzZSB7XG5cdFx0dGhpc1tib3gudHlwZV0gPSBib3g7XG5cdH1cblx0cmV0dXJuIGJveDtcbn1cblxuQm94UGFyc2VyLkJveC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24ocHJvcCwgdmFsdWUpIHtcblx0dGhpc1twcm9wXSA9IHZhbHVlO1xuXHRyZXR1cm4gdGhpcztcbn1cblxuQm94UGFyc2VyLkJveC5wcm90b3R5cGUuYWRkRW50cnkgPSBmdW5jdGlvbih2YWx1ZSwgX3Byb3ApIHtcblx0dmFyIHByb3AgPSBfcHJvcCB8fCBcImVudHJpZXNcIjtcblx0aWYgKCF0aGlzW3Byb3BdKSB7XG5cdFx0dGhpc1twcm9wXSA9IFtdO1xuXHR9XG5cdHRoaXNbcHJvcF0ucHVzaCh2YWx1ZSk7XG5cdHJldHVybiB0aGlzO1xufVxuXG5pZiAodHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0ZXhwb3J0cy5Cb3hQYXJzZXIgPSBCb3hQYXJzZXI7XG59XG4vLyBmaWxlOnNyYy9ib3gtcGFyc2UuanNcbi8qIFxuICogQ29weXJpZ2h0IChjKSBUZWxlY29tIFBhcmlzVGVjaC9UU0kvTU0vR1BBQyBDeXJpbCBDb25jb2xhdG9cbiAqIExpY2Vuc2U6IEJTRC0zLUNsYXVzZSAoc2VlIExJQ0VOU0UgZmlsZSlcbiAqL1xuQm94UGFyc2VyLnBhcnNlVVVJRCA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHRyZXR1cm4gQm94UGFyc2VyLnBhcnNlSGV4MTYoc3RyZWFtKTtcbn1cblxuQm94UGFyc2VyLnBhcnNlSGV4MTYgPSBmdW5jdGlvbihzdHJlYW0pIHtcblx0dmFyIGhleDE2ID0gXCJcIlxuXHRmb3IgKHZhciBpID0gMDsgaSA8MTY7IGkrKykge1xuXHRcdHZhciBoZXggPSBzdHJlYW0ucmVhZFVpbnQ4KCkudG9TdHJpbmcoMTYpO1xuXHRcdGhleDE2ICs9IChoZXgubGVuZ3RoID09PSAxID8gXCIwXCIraGV4IDogaGV4KTtcblx0fVxuXHRyZXR1cm4gaGV4MTY7XG59XG5cbkJveFBhcnNlci5wYXJzZU9uZUJveCA9IGZ1bmN0aW9uKHN0cmVhbSwgaGVhZGVyT25seSwgcGFyZW50U2l6ZSkge1xuXHR2YXIgYm94O1xuXHR2YXIgc3RhcnQgPSBzdHJlYW0uZ2V0UG9zaXRpb24oKTtcblx0dmFyIGhkcl9zaXplID0gMDtcblx0dmFyIGRpZmY7XG5cdHZhciB1dWlkO1xuXHRpZiAoc3RyZWFtLmdldEVuZFBvc2l0aW9uKCkgLSBzdGFydCA8IDgpIHtcblx0XHRMb2cuZGVidWcoXCJCb3hQYXJzZXJcIiwgXCJOb3QgZW5vdWdoIGRhdGEgaW4gc3RyZWFtIHRvIHBhcnNlIHRoZSB0eXBlIGFuZCBzaXplIG9mIHRoZSBib3hcIik7XG5cdFx0cmV0dXJuIHsgY29kZTogQm94UGFyc2VyLkVSUl9OT1RfRU5PVUdIX0RBVEEgfTtcblx0fVxuXHRpZiAocGFyZW50U2l6ZSAmJiBwYXJlbnRTaXplIDwgOCkge1xuXHRcdExvZy5kZWJ1ZyhcIkJveFBhcnNlclwiLCBcIk5vdCBlbm91Z2ggYnl0ZXMgbGVmdCBpbiB0aGUgcGFyZW50IGJveCB0byBwYXJzZSBhIG5ldyBib3hcIik7XG5cdFx0cmV0dXJuIHsgY29kZTogQm94UGFyc2VyLkVSUl9OT1RfRU5PVUdIX0RBVEEgfTtcblx0fVxuXHR2YXIgc2l6ZSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdHZhciB0eXBlID0gc3RyZWFtLnJlYWRTdHJpbmcoNCk7XG5cdHZhciBib3hfdHlwZSA9IHR5cGU7XG5cdExvZy5kZWJ1ZyhcIkJveFBhcnNlclwiLCBcIkZvdW5kIGJveCBvZiB0eXBlICdcIit0eXBlK1wiJyBhbmQgc2l6ZSBcIitzaXplK1wiIGF0IHBvc2l0aW9uIFwiK3N0YXJ0KTtcblx0aGRyX3NpemUgPSA4O1xuXHRpZiAodHlwZSA9PSBcInV1aWRcIikge1xuXHRcdGlmICgoc3RyZWFtLmdldEVuZFBvc2l0aW9uKCkgLSBzdHJlYW0uZ2V0UG9zaXRpb24oKSA8IDE2KSB8fCAocGFyZW50U2l6ZSAtaGRyX3NpemUgPCAxNikpIHtcblx0XHRcdHN0cmVhbS5zZWVrKHN0YXJ0KTtcblx0XHRcdExvZy5kZWJ1ZyhcIkJveFBhcnNlclwiLCBcIk5vdCBlbm91Z2ggYnl0ZXMgbGVmdCBpbiB0aGUgcGFyZW50IGJveCB0byBwYXJzZSBhIFVVSUQgYm94XCIpO1xuXHRcdFx0cmV0dXJuIHsgY29kZTogQm94UGFyc2VyLkVSUl9OT1RfRU5PVUdIX0RBVEEgfTtcblx0XHR9XG5cdFx0dXVpZCA9IEJveFBhcnNlci5wYXJzZVVVSUQoc3RyZWFtKTtcblx0XHRoZHJfc2l6ZSArPSAxNjtcblx0XHRib3hfdHlwZSA9IHV1aWQ7XG5cdH1cblx0aWYgKHNpemUgPT0gMSkge1xuXHRcdGlmICgoc3RyZWFtLmdldEVuZFBvc2l0aW9uKCkgLSBzdHJlYW0uZ2V0UG9zaXRpb24oKSA8IDgpIHx8IChwYXJlbnRTaXplICYmIChwYXJlbnRTaXplIC0gaGRyX3NpemUpIDwgOCkpIHtcblx0XHRcdHN0cmVhbS5zZWVrKHN0YXJ0KTtcblx0XHRcdExvZy53YXJuKFwiQm94UGFyc2VyXCIsIFwiTm90IGVub3VnaCBkYXRhIGluIHN0cmVhbSB0byBwYXJzZSB0aGUgZXh0ZW5kZWQgc2l6ZSBvZiB0aGUgXFxcIlwiK3R5cGUrXCJcXFwiIGJveFwiKTtcblx0XHRcdHJldHVybiB7IGNvZGU6IEJveFBhcnNlci5FUlJfTk9UX0VOT1VHSF9EQVRBIH07XG5cdFx0fVxuXHRcdHNpemUgPSBzdHJlYW0ucmVhZFVpbnQ2NCgpO1xuXHRcdGhkcl9zaXplICs9IDg7XG5cdH0gZWxzZSBpZiAoc2l6ZSA9PT0gMCkge1xuXHRcdC8qIGJveCBleHRlbmRzIHRpbGwgdGhlIGVuZCBvZiBmaWxlIG9yIGludmFsaWQgZmlsZSAqL1xuXHRcdGlmIChwYXJlbnRTaXplKSB7XG5cdFx0XHRzaXplID0gcGFyZW50U2l6ZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0LyogYm94IGV4dGVuZHMgdGlsbCB0aGUgZW5kIG9mIGZpbGUgKi9cblx0XHRcdGlmICh0eXBlICE9PSBcIm1kYXRcIikge1xuXHRcdFx0XHRMb2cuZXJyb3IoXCJCb3hQYXJzZXJcIiwgXCJVbmxpbWl0ZWQgYm94IHNpemUgbm90IHN1cHBvcnRlZCBmb3IgdHlwZTogJ1wiK3R5cGUrXCInXCIpO1xuXHRcdFx0XHRib3ggPSBuZXcgQm94UGFyc2VyLkJveCh0eXBlLCBzaXplKTtcblx0XHRcdFx0cmV0dXJuIHsgY29kZTogQm94UGFyc2VyLk9LLCBib3g6IGJveCwgc2l6ZTogYm94LnNpemUgfTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0aWYgKHNpemUgIT09IDAgJiYgc2l6ZSA8IGhkcl9zaXplKSB7XG5cdFx0TG9nLmVycm9yKFwiQm94UGFyc2VyXCIsIFwiQm94IG9mIHR5cGUgXCIrdHlwZStcIiBoYXMgYW4gaW52YWxpZCBzaXplIFwiK3NpemUrXCIgKHRvbyBzbWFsbCB0byBiZSBhIGJveClcIik7XG5cdFx0cmV0dXJuIHsgY29kZTogQm94UGFyc2VyLkVSUl9OT1RfRU5PVUdIX0RBVEEsIHR5cGU6IHR5cGUsIHNpemU6IHNpemUsIGhkcl9zaXplOiBoZHJfc2l6ZSwgc3RhcnQ6IHN0YXJ0IH07XG5cdH1cblx0aWYgKHNpemUgIT09IDAgJiYgcGFyZW50U2l6ZSAmJiBzaXplID4gcGFyZW50U2l6ZSkge1xuXHRcdExvZy5lcnJvcihcIkJveFBhcnNlclwiLCBcIkJveCBvZiB0eXBlICdcIit0eXBlK1wiJyBoYXMgYSBzaXplIFwiK3NpemUrXCIgZ3JlYXRlciB0aGFuIGl0cyBjb250YWluZXIgc2l6ZSBcIitwYXJlbnRTaXplKTtcblx0XHRyZXR1cm4geyBjb2RlOiBCb3hQYXJzZXIuRVJSX05PVF9FTk9VR0hfREFUQSwgdHlwZTogdHlwZSwgc2l6ZTogc2l6ZSwgaGRyX3NpemU6IGhkcl9zaXplLCBzdGFydDogc3RhcnQgfTtcblx0fVxuXHRpZiAoc2l6ZSAhPT0gMCAmJiBzdGFydCArIHNpemUgPiBzdHJlYW0uZ2V0RW5kUG9zaXRpb24oKSkge1xuXHRcdHN0cmVhbS5zZWVrKHN0YXJ0KTtcblx0XHRMb2cuaW5mbyhcIkJveFBhcnNlclwiLCBcIk5vdCBlbm91Z2ggZGF0YSBpbiBzdHJlYW0gdG8gcGFyc2UgdGhlIGVudGlyZSAnXCIrdHlwZStcIicgYm94XCIpO1xuXHRcdHJldHVybiB7IGNvZGU6IEJveFBhcnNlci5FUlJfTk9UX0VOT1VHSF9EQVRBLCB0eXBlOiB0eXBlLCBzaXplOiBzaXplLCBoZHJfc2l6ZTogaGRyX3NpemUsIHN0YXJ0OiBzdGFydCB9O1xuXHR9XG5cdGlmIChoZWFkZXJPbmx5KSB7XG5cdFx0cmV0dXJuIHsgY29kZTogQm94UGFyc2VyLk9LLCB0eXBlOiB0eXBlLCBzaXplOiBzaXplLCBoZHJfc2l6ZTogaGRyX3NpemUsIHN0YXJ0OiBzdGFydCB9O1xuXHR9IGVsc2Uge1xuXHRcdGlmIChCb3hQYXJzZXJbdHlwZStcIkJveFwiXSkge1xuXHRcdFx0Ym94ID0gbmV3IEJveFBhcnNlclt0eXBlK1wiQm94XCJdKHNpemUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodHlwZSAhPT0gXCJ1dWlkXCIpIHtcblx0XHRcdFx0TG9nLndhcm4oXCJCb3hQYXJzZXJcIiwgXCJVbmtub3duIGJveCB0eXBlOiAnXCIrdHlwZStcIidcIik7XG5cdFx0XHRcdGJveCA9IG5ldyBCb3hQYXJzZXIuQm94KHR5cGUsIHNpemUpO1xuXHRcdFx0XHRib3guaGFzX3VucGFyc2VkX2RhdGEgPSB0cnVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKEJveFBhcnNlci5VVUlEQm94ZXNbdXVpZF0pIHtcblx0XHRcdFx0XHRib3ggPSBuZXcgQm94UGFyc2VyLlVVSURCb3hlc1t1dWlkXShzaXplKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRMb2cud2FybihcIkJveFBhcnNlclwiLCBcIlVua25vd24gdXVpZCB0eXBlOiAnXCIrdXVpZCtcIidcIik7XG5cdFx0XHRcdFx0Ym94ID0gbmV3IEJveFBhcnNlci5Cb3godHlwZSwgc2l6ZSk7XG5cdFx0XHRcdFx0Ym94LnV1aWQgPSB1dWlkO1xuXHRcdFx0XHRcdGJveC5oYXNfdW5wYXJzZWRfZGF0YSA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0Ym94Lmhkcl9zaXplID0gaGRyX3NpemU7XG5cdC8qIHJlY29yZGluZyB0aGUgcG9zaXRpb24gb2YgdGhlIGJveCBpbiB0aGUgaW5wdXQgc3RyZWFtICovXG5cdGJveC5zdGFydCA9IHN0YXJ0O1xuXHRpZiAoYm94LndyaXRlID09PSBCb3hQYXJzZXIuQm94LnByb3RvdHlwZS53cml0ZSAmJiBib3gudHlwZSAhPT0gXCJtZGF0XCIpIHtcblx0XHRMb2cuaW5mbyhcIkJveFBhcnNlclwiLCBcIidcIitib3hfdHlwZStcIicgYm94IHdyaXRpbmcgbm90IHlldCBpbXBsZW1lbnRlZCwga2VlcGluZyB1bnBhcnNlZCBkYXRhIGluIG1lbW9yeSBmb3IgbGF0ZXIgd3JpdGVcIik7XG5cdFx0Ym94LnBhcnNlRGF0YUFuZFJld2luZChzdHJlYW0pO1xuXHR9XG5cdGJveC5wYXJzZShzdHJlYW0pO1xuXHRkaWZmID0gc3RyZWFtLmdldFBvc2l0aW9uKCkgLSAoYm94LnN0YXJ0K2JveC5zaXplKTtcblx0aWYgKGRpZmYgPCAwKSB7XG5cdFx0TG9nLndhcm4oXCJCb3hQYXJzZXJcIiwgXCJQYXJzaW5nIG9mIGJveCAnXCIrYm94X3R5cGUrXCInIGRpZCBub3QgcmVhZCB0aGUgZW50aXJlIGluZGljYXRlZCBib3ggZGF0YSBzaXplIChtaXNzaW5nIFwiKygtZGlmZikrXCIgYnl0ZXMpLCBzZWVraW5nIGZvcndhcmRcIik7XG5cdFx0c3RyZWFtLnNlZWsoYm94LnN0YXJ0K2JveC5zaXplKTtcblx0fSBlbHNlIGlmIChkaWZmID4gMCkge1xuXHRcdExvZy5lcnJvcihcIkJveFBhcnNlclwiLCBcIlBhcnNpbmcgb2YgYm94ICdcIitib3hfdHlwZStcIicgcmVhZCBcIitkaWZmK1wiIG1vcmUgYnl0ZXMgdGhhbiB0aGUgaW5kaWNhdGVkIGJveCBkYXRhIHNpemUsIHNlZWtpbmcgYmFja3dhcmRzXCIpO1xuXHRcdGlmIChib3guc2l6ZSAhPT0gMCkgc3RyZWFtLnNlZWsoYm94LnN0YXJ0K2JveC5zaXplKTtcblx0fVxuXHRyZXR1cm4geyBjb2RlOiBCb3hQYXJzZXIuT0ssIGJveDogYm94LCBzaXplOiBib3guc2l6ZSB9O1xufVxuXG5Cb3hQYXJzZXIuQm94LnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHRpZiAodGhpcy50eXBlICE9IFwibWRhdFwiKSB7XG5cdFx0dGhpcy5kYXRhID0gc3RyZWFtLnJlYWRVaW50OEFycmF5KHRoaXMuc2l6ZS10aGlzLmhkcl9zaXplKTtcblx0fSBlbHNlIHtcblx0XHRpZiAodGhpcy5zaXplID09PSAwKSB7XG5cdFx0XHRzdHJlYW0uc2VlayhzdHJlYW0uZ2V0RW5kUG9zaXRpb24oKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0cmVhbS5zZWVrKHRoaXMuc3RhcnQrdGhpcy5zaXplKTtcblx0XHR9XG5cdH1cbn1cblxuLyogVXNlZCB0byBwYXJzZSBhIGJveCB3aXRob3V0IGNvbnN1bWluZyBpdHMgZGF0YSwgdG8gYWxsb3cgZGV0YWlsbGVkIHBhcnNpbmdcbiAgIFVzZWZ1bCBmb3IgYm94ZXMgZm9yIHdoaWNoIGEgd3JpdGUgbWV0aG9kIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgKi9cbkJveFBhcnNlci5Cb3gucHJvdG90eXBlLnBhcnNlRGF0YUFuZFJld2luZCA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLmRhdGEgPSBzdHJlYW0ucmVhZFVpbnQ4QXJyYXkodGhpcy5zaXplLXRoaXMuaGRyX3NpemUpO1xuXHQvLyByZXdpbmRpbmdcblx0c3RyZWFtLnBvc2l0aW9uIC09IHRoaXMuc2l6ZS10aGlzLmhkcl9zaXplO1xufVxuXG5Cb3hQYXJzZXIuRnVsbEJveC5wcm90b3R5cGUucGFyc2VEYXRhQW5kUmV3aW5kID0gZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMucGFyc2VGdWxsSGVhZGVyKHN0cmVhbSk7XG5cdHRoaXMuZGF0YSA9IHN0cmVhbS5yZWFkVWludDhBcnJheSh0aGlzLnNpemUtdGhpcy5oZHJfc2l6ZSk7XG5cdC8vIHJlc3RvcmUgdGhlIGhlYWRlciBzaXplIGFzIGlmIHRoZSBmdWxsIGhlYWRlciBoYWQgbm90IGJlZW4gcGFyc2VkXG5cdHRoaXMuaGRyX3NpemUgLT0gNDtcblx0Ly8gcmV3aW5kaW5nXG5cdHN0cmVhbS5wb3NpdGlvbiAtPSB0aGlzLnNpemUtdGhpcy5oZHJfc2l6ZTtcbn1cblxuQm94UGFyc2VyLkZ1bGxCb3gucHJvdG90eXBlLnBhcnNlRnVsbEhlYWRlciA9IGZ1bmN0aW9uIChzdHJlYW0pIHtcblx0dGhpcy52ZXJzaW9uID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHR0aGlzLmZsYWdzID0gc3RyZWFtLnJlYWRVaW50MjQoKTtcblx0dGhpcy5oZHJfc2l6ZSArPSA0O1xufVxuXG5Cb3hQYXJzZXIuRnVsbEJveC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiAoc3RyZWFtKSB7XG5cdHRoaXMucGFyc2VGdWxsSGVhZGVyKHN0cmVhbSk7XG5cdHRoaXMuZGF0YSA9IHN0cmVhbS5yZWFkVWludDhBcnJheSh0aGlzLnNpemUtdGhpcy5oZHJfc2l6ZSk7XG59XG5cbkJveFBhcnNlci5Db250YWluZXJCb3gucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHZhciByZXQ7XG5cdHZhciBib3g7XG5cdHdoaWxlIChzdHJlYW0uZ2V0UG9zaXRpb24oKSA8IHRoaXMuc3RhcnQrdGhpcy5zaXplKSB7XG5cdFx0cmV0ID0gQm94UGFyc2VyLnBhcnNlT25lQm94KHN0cmVhbSwgZmFsc2UsIHRoaXMuc2l6ZSAtIChzdHJlYW0uZ2V0UG9zaXRpb24oKSAtIHRoaXMuc3RhcnQpKTtcblx0XHRpZiAocmV0LmNvZGUgPT09IEJveFBhcnNlci5PSykge1xuXHRcdFx0Ym94ID0gcmV0LmJveDtcblx0XHRcdC8qIHN0b3JlIHRoZSBib3ggaW4gdGhlICdib3hlcycgYXJyYXkgdG8gcHJlc2VydmUgYm94IG9yZGVyIChmb3Igb2Zmc2V0KSBidXQgYWxzbyBzdG9yZSBib3ggaW4gYSBwcm9wZXJ0eSBmb3IgbW9yZSBkaXJlY3QgYWNjZXNzICovXG5cdFx0XHR0aGlzLmJveGVzLnB1c2goYm94KTtcblx0XHRcdGlmICh0aGlzLnN1YkJveE5hbWVzICYmIHRoaXMuc3ViQm94TmFtZXMuaW5kZXhPZihib3gudHlwZSkgIT0gLTEpIHtcblx0XHRcdFx0dGhpc1t0aGlzLnN1YkJveE5hbWVzW3RoaXMuc3ViQm94TmFtZXMuaW5kZXhPZihib3gudHlwZSldK1wic1wiXS5wdXNoKGJveCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YXIgYm94X3R5cGUgPSBib3gudHlwZSAhPT0gXCJ1dWlkXCIgPyBib3gudHlwZSA6IGJveC51dWlkO1xuXHRcdFx0XHRpZiAodGhpc1tib3hfdHlwZV0pIHtcblx0XHRcdFx0XHRMb2cud2FybihcIkJveCBvZiB0eXBlIFwiK2JveF90eXBlK1wiIGFscmVhZHkgc3RvcmVkIGluIGZpZWxkIG9mIHRoaXMgdHlwZVwiKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzW2JveF90eXBlXSA9IGJveDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9XG59XG5cbkJveFBhcnNlci5Cb3gucHJvdG90eXBlLnBhcnNlTGFuZ3VhZ2UgPSBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5sYW5ndWFnZSA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG5cdHZhciBjaGFycyA9IFtdO1xuXHRjaGFyc1swXSA9ICh0aGlzLmxhbmd1YWdlPj4xMCkmMHgxRjtcblx0Y2hhcnNbMV0gPSAodGhpcy5sYW5ndWFnZT4+NSkmMHgxRjtcblx0Y2hhcnNbMl0gPSAodGhpcy5sYW5ndWFnZSkmMHgxRjtcblx0dGhpcy5sYW5ndWFnZVN0cmluZyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhcnNbMF0rMHg2MCwgY2hhcnNbMV0rMHg2MCwgY2hhcnNbMl0rMHg2MCk7XG59XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvc2FtcGxlZW50cmllcy9zYW1wbGVlbnRyeS5qc1xuQm94UGFyc2VyLlNBTVBMRV9FTlRSWV9UWVBFX1ZJU1VBTCBcdFx0PSBcIlZpc3VhbFwiO1xuQm94UGFyc2VyLlNBTVBMRV9FTlRSWV9UWVBFX0FVRElPIFx0XHQ9IFwiQXVkaW9cIjtcbkJveFBhcnNlci5TQU1QTEVfRU5UUllfVFlQRV9ISU5UIFx0XHQ9IFwiSGludFwiO1xuQm94UGFyc2VyLlNBTVBMRV9FTlRSWV9UWVBFX01FVEFEQVRBIFx0PSBcIk1ldGFkYXRhXCI7XG5Cb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfU1VCVElUTEUgXHQ9IFwiU3VidGl0bGVcIjtcbkJveFBhcnNlci5TQU1QTEVfRU5UUllfVFlQRV9TWVNURU0gXHRcdD0gXCJTeXN0ZW1cIjtcbkJveFBhcnNlci5TQU1QTEVfRU5UUllfVFlQRV9URVhUIFx0XHQ9IFwiVGV4dFwiO1xuXG5Cb3hQYXJzZXIuU2FtcGxlRW50cnkucHJvdG90eXBlLnBhcnNlSGVhZGVyID0gZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHN0cmVhbS5yZWFkVWludDhBcnJheSg2KTtcblx0dGhpcy5kYXRhX3JlZmVyZW5jZV9pbmRleCA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG5cdHRoaXMuaGRyX3NpemUgKz0gODtcbn1cblxuQm94UGFyc2VyLlNhbXBsZUVudHJ5LnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnBhcnNlSGVhZGVyKHN0cmVhbSk7XG5cdHRoaXMuZGF0YSA9IHN0cmVhbS5yZWFkVWludDhBcnJheSh0aGlzLnNpemUgLSB0aGlzLmhkcl9zaXplKTtcbn1cblxuQm94UGFyc2VyLlNhbXBsZUVudHJ5LnByb3RvdHlwZS5wYXJzZURhdGFBbmRSZXdpbmQgPSBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5wYXJzZUhlYWRlcihzdHJlYW0pO1xuXHR0aGlzLmRhdGEgPSBzdHJlYW0ucmVhZFVpbnQ4QXJyYXkodGhpcy5zaXplIC0gdGhpcy5oZHJfc2l6ZSk7XG5cdC8vIHJlc3RvcmUgdGhlIGhlYWRlciBzaXplIGFzIGlmIHRoZSBzYW1wbGUgZW50cnkgaGVhZGVyIGhhZCBub3QgYmVlbiBwYXJzZWRcblx0dGhpcy5oZHJfc2l6ZSAtPSA4O1xuXHQvLyByZXdpbmRpbmdcblx0c3RyZWFtLnBvc2l0aW9uIC09IHRoaXMuc2l6ZS10aGlzLmhkcl9zaXplO1xufVxuXG5Cb3hQYXJzZXIuU2FtcGxlRW50cnkucHJvdG90eXBlLnBhcnNlRm9vdGVyID0gZnVuY3Rpb24oc3RyZWFtKSB7XG5cdEJveFBhcnNlci5Db250YWluZXJCb3gucHJvdG90eXBlLnBhcnNlLmNhbGwodGhpcywgc3RyZWFtKTtcbn1cblxuLy8gQmFzZSBTYW1wbGVFbnRyeSB0eXBlcyB3aXRoIGRlZmF1bHQgcGFyc2luZ1xuQm94UGFyc2VyLmNyZWF0ZU1lZGlhU2FtcGxlRW50cnlDdG9yKEJveFBhcnNlci5TQU1QTEVfRU5UUllfVFlQRV9ISU5UKTtcbkJveFBhcnNlci5jcmVhdGVNZWRpYVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfTUVUQURBVEEpO1xuQm94UGFyc2VyLmNyZWF0ZU1lZGlhU2FtcGxlRW50cnlDdG9yKEJveFBhcnNlci5TQU1QTEVfRU5UUllfVFlQRV9TVUJUSVRMRSk7XG5Cb3hQYXJzZXIuY3JlYXRlTWVkaWFTYW1wbGVFbnRyeUN0b3IoQm94UGFyc2VyLlNBTVBMRV9FTlRSWV9UWVBFX1NZU1RFTSk7XG5Cb3hQYXJzZXIuY3JlYXRlTWVkaWFTYW1wbGVFbnRyeUN0b3IoQm94UGFyc2VyLlNBTVBMRV9FTlRSWV9UWVBFX1RFWFQpO1xuXG4vL0Jhc2UgU2FtcGxlRW50cnkgdHlwZXMgZm9yIEF1ZGlvIGFuZCBWaWRlbyB3aXRoIHNwZWNpZmljIHBhcnNpbmdcbkJveFBhcnNlci5jcmVhdGVNZWRpYVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfVklTVUFMLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dmFyIGNvbXByZXNzb3JuYW1lX2xlbmd0aDtcblx0dGhpcy5wYXJzZUhlYWRlcihzdHJlYW0pO1xuXHRzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHRzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHRzdHJlYW0ucmVhZFVpbnQzMkFycmF5KDMpO1xuXHR0aGlzLndpZHRoID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0dGhpcy5oZWlnaHQgPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHR0aGlzLmhvcml6cmVzb2x1dGlvbiA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdHRoaXMudmVydHJlc29sdXRpb24gPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHR0aGlzLmZyYW1lX2NvdW50ID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0Y29tcHJlc3Nvcm5hbWVfbGVuZ3RoID0gTWF0aC5taW4oMzEsIHN0cmVhbS5yZWFkVWludDgoKSk7XG5cdHRoaXMuY29tcHJlc3Nvcm5hbWUgPSBzdHJlYW0ucmVhZFN0cmluZyhjb21wcmVzc29ybmFtZV9sZW5ndGgpO1xuXHRpZiAoY29tcHJlc3Nvcm5hbWVfbGVuZ3RoIDwgMzEpIHtcblx0XHRzdHJlYW0ucmVhZFN0cmluZygzMSAtIGNvbXByZXNzb3JuYW1lX2xlbmd0aCk7XG5cdH1cblx0dGhpcy5kZXB0aCA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG5cdHN0cmVhbS5yZWFkVWludDE2KCk7XG5cdHRoaXMucGFyc2VGb290ZXIoc3RyZWFtKTtcbn0pO1xuXG5Cb3hQYXJzZXIuY3JlYXRlTWVkaWFTYW1wbGVFbnRyeUN0b3IoQm94UGFyc2VyLlNBTVBMRV9FTlRSWV9UWVBFX0FVRElPLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5wYXJzZUhlYWRlcihzdHJlYW0pO1xuXHRzdHJlYW0ucmVhZFVpbnQzMkFycmF5KDIpO1xuXHR0aGlzLmNoYW5uZWxfY291bnQgPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHR0aGlzLnNhbXBsZXNpemUgPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHRzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHRzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHR0aGlzLnNhbXBsZXJhdGUgPSAoc3RyZWFtLnJlYWRVaW50MzIoKS8oMTw8MTYpKTtcblx0dGhpcy5wYXJzZUZvb3RlcihzdHJlYW0pO1xufSk7XG5cbi8vIFNhbXBsZSBlbnRyaWVzIGluaGVyaXRpbmcgZnJvbSBBdWRpbyBhbmQgVmlkZW9cbkJveFBhcnNlci5jcmVhdGVTYW1wbGVFbnRyeUN0b3IoQm94UGFyc2VyLlNBTVBMRV9FTlRSWV9UWVBFX1ZJU1VBTCwgXCJhdmMxXCIpO1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfVklTVUFMLCBcImF2YzJcIik7XG5Cb3hQYXJzZXIuY3JlYXRlU2FtcGxlRW50cnlDdG9yKEJveFBhcnNlci5TQU1QTEVfRU5UUllfVFlQRV9WSVNVQUwsIFwiYXZjM1wiKTtcbkJveFBhcnNlci5jcmVhdGVTYW1wbGVFbnRyeUN0b3IoQm94UGFyc2VyLlNBTVBMRV9FTlRSWV9UWVBFX1ZJU1VBTCwgXCJhdmM0XCIpO1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfVklTVUFMLCBcImF2MDFcIik7XG5Cb3hQYXJzZXIuY3JlYXRlU2FtcGxlRW50cnlDdG9yKEJveFBhcnNlci5TQU1QTEVfRU5UUllfVFlQRV9WSVNVQUwsIFwiZGF2MVwiKTtcbkJveFBhcnNlci5jcmVhdGVTYW1wbGVFbnRyeUN0b3IoQm94UGFyc2VyLlNBTVBMRV9FTlRSWV9UWVBFX1ZJU1VBTCwgXCJodmMxXCIpO1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfVklTVUFMLCBcImhldjFcIik7XG5Cb3hQYXJzZXIuY3JlYXRlU2FtcGxlRW50cnlDdG9yKEJveFBhcnNlci5TQU1QTEVfRU5UUllfVFlQRV9WSVNVQUwsIFwiaHZ0MVwiKTtcbkJveFBhcnNlci5jcmVhdGVTYW1wbGVFbnRyeUN0b3IoQm94UGFyc2VyLlNBTVBMRV9FTlRSWV9UWVBFX1ZJU1VBTCwgXCJsaGUxXCIpO1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfVklTVUFMLCBcImR2aDFcIik7XG5Cb3hQYXJzZXIuY3JlYXRlU2FtcGxlRW50cnlDdG9yKEJveFBhcnNlci5TQU1QTEVfRU5UUllfVFlQRV9WSVNVQUwsIFwiZHZoZVwiKTtcbkJveFBhcnNlci5jcmVhdGVTYW1wbGVFbnRyeUN0b3IoQm94UGFyc2VyLlNBTVBMRV9FTlRSWV9UWVBFX1ZJU1VBTCwgXCJ2dmMxXCIpO1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfVklTVUFMLCBcInZ2aTFcIik7XG5Cb3hQYXJzZXIuY3JlYXRlU2FtcGxlRW50cnlDdG9yKEJveFBhcnNlci5TQU1QTEVfRU5UUllfVFlQRV9WSVNVQUwsIFwidnZzMVwiKTtcbkJveFBhcnNlci5jcmVhdGVTYW1wbGVFbnRyeUN0b3IoQm94UGFyc2VyLlNBTVBMRV9FTlRSWV9UWVBFX1ZJU1VBTCwgXCJ2dmNOXCIpO1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfVklTVUFMLCBcInZwMDhcIik7XG5Cb3hQYXJzZXIuY3JlYXRlU2FtcGxlRW50cnlDdG9yKEJveFBhcnNlci5TQU1QTEVfRU5UUllfVFlQRV9WSVNVQUwsIFwidnAwOVwiKTtcbkJveFBhcnNlci5jcmVhdGVTYW1wbGVFbnRyeUN0b3IoQm94UGFyc2VyLlNBTVBMRV9FTlRSWV9UWVBFX1ZJU1VBTCwgXCJhdnMzXCIpO1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfVklTVUFMLCBcImoya2lcIik7XG5Cb3hQYXJzZXIuY3JlYXRlU2FtcGxlRW50cnlDdG9yKEJveFBhcnNlci5TQU1QTEVfRU5UUllfVFlQRV9WSVNVQUwsIFwibWpwMlwiKTtcbkJveFBhcnNlci5jcmVhdGVTYW1wbGVFbnRyeUN0b3IoQm94UGFyc2VyLlNBTVBMRV9FTlRSWV9UWVBFX1ZJU1VBTCwgXCJtanBnXCIpO1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfVklTVUFMLFx0XCJ1bmN2XCIpO1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfQVVESU8sIFx0XCJtcDRhXCIpO1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfQVVESU8sIFx0XCJhYy0zXCIpO1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfQVVESU8sIFx0XCJhYy00XCIpO1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfQVVESU8sIFx0XCJlYy0zXCIpO1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfQVVESU8sIFx0XCJPcHVzXCIpO1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfQVVESU8sIFx0XCJtaGExXCIpO1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfQVVESU8sIFx0XCJtaGEyXCIpO1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfQVVESU8sIFx0XCJtaG0xXCIpO1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfQVVESU8sIFx0XCJtaG0yXCIpO1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfQVVESU8sIFx0XCJmTGFDXCIpO1xuXG4vLyBFbmNyeXB0ZWQgc2FtcGxlIGVudHJpZXNcbkJveFBhcnNlci5jcmVhdGVFbmNyeXB0ZWRTYW1wbGVFbnRyeUN0b3IoQm94UGFyc2VyLlNBTVBMRV9FTlRSWV9UWVBFX1ZJU1VBTCwgXHRcImVuY3ZcIik7XG5Cb3hQYXJzZXIuY3JlYXRlRW5jcnlwdGVkU2FtcGxlRW50cnlDdG9yKEJveFBhcnNlci5TQU1QTEVfRU5UUllfVFlQRV9BVURJTywgXHRcImVuY2FcIik7XG5Cb3hQYXJzZXIuY3JlYXRlRW5jcnlwdGVkU2FtcGxlRW50cnlDdG9yKEJveFBhcnNlci5TQU1QTEVfRU5UUllfVFlQRV9TVUJUSVRMRSwgXHRcImVuY3VcIik7XG5Cb3hQYXJzZXIuY3JlYXRlRW5jcnlwdGVkU2FtcGxlRW50cnlDdG9yKEJveFBhcnNlci5TQU1QTEVfRU5UUllfVFlQRV9TWVNURU0sIFx0XCJlbmNzXCIpO1xuQm94UGFyc2VyLmNyZWF0ZUVuY3J5cHRlZFNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfVEVYVCwgXHRcdFwiZW5jdFwiKTtcbkJveFBhcnNlci5jcmVhdGVFbmNyeXB0ZWRTYW1wbGVFbnRyeUN0b3IoQm94UGFyc2VyLlNBTVBMRV9FTlRSWV9UWVBFX01FVEFEQVRBLCBcdFwiZW5jbVwiKTtcbi8vIGZpbGU6c3JjL3BhcnNpbmcvYTFseC5qc1xuQm94UGFyc2VyLmNyZWF0ZUJveEN0b3IoXCJhMWx4XCIsIFwiQVYxTGF5ZXJlZEltYWdlSW5kZXhpbmdQcm9wZXJ0eVwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dmFyIGxhcmdlX3NpemUgPSBzdHJlYW0ucmVhZFVpbnQ4KCkgJiAxO1xuXHR2YXIgRmllbGRMZW5ndGggPSAoKGxhcmdlX3NpemUgJiAxKSArIDEpICogMTY7XG5cdHRoaXMubGF5ZXJfc2l6ZSA9IFtdO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IDM7IGkrKykge1xuXHRcdGlmIChGaWVsZExlbmd0aCA9PSAxNikge1xuXHRcdFx0dGhpcy5sYXllcl9zaXplW2ldID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5sYXllcl9zaXplW2ldID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0XHR9XG5cdH1cbn0pOy8vIGZpbGU6c3JjL3BhcnNpbmcvYTFvcC5qc1xuQm94UGFyc2VyLmNyZWF0ZUJveEN0b3IoXCJhMW9wXCIsIFwiT3BlcmF0aW5nUG9pbnRTZWxlY3RvclByb3BlcnR5XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLm9wX2luZGV4ID0gc3RyZWFtLnJlYWRVaW50OCgpO1xufSk7Ly8gZmlsZTpzcmMvcGFyc2luZy9hdXhDLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJhdXhDXCIsIFwiQXV4aWxpYXJ5VHlwZVByb3BlcnR5XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLmF1eF90eXBlID0gc3RyZWFtLnJlYWRDU3RyaW5nKCk7XG5cdHZhciBhdXhfc3VidHlwZV9sZW5ndGggPSB0aGlzLnNpemUgLSB0aGlzLmhkcl9zaXplIC0gKHRoaXMuYXV4X3R5cGUubGVuZ3RoICsgMSk7XG5cdHRoaXMuYXV4X3N1YnR5cGUgPSBzdHJlYW0ucmVhZFVpbnQ4QXJyYXkoYXV4X3N1YnR5cGVfbGVuZ3RoKTtcbn0pOy8vIGZpbGU6c3JjL3BhcnNpbmcvYXYxQy5qc1xuQm94UGFyc2VyLmNyZWF0ZUJveEN0b3IoXCJhdjFDXCIsIFwiQVYxQ29kZWNDb25maWd1cmF0aW9uQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR2YXIgaTtcblx0dmFyIHRvcGFyc2U7XG5cdHZhciB0bXAgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdGlmICgodG1wID4+IDcgJiAweDEpICE9PSAxKSB7XG5cdFx0TG9nLmVycm9yKFwiYXYxQyBtYXJrZXIgcHJvYmxlbVwiKTtcblx0XHRyZXR1cm47XG5cdH1cblx0dGhpcy52ZXJzaW9uID0gdG1wICYgMHg3Rjtcblx0aWYgKHRoaXMudmVyc2lvbiAhPT0gMSkge1xuXHRcdExvZy5lcnJvcihcImF2MUMgdmVyc2lvbiBcIit0aGlzLnZlcnNpb24rXCIgbm90IHN1cHBvcnRlZFwiKTtcblx0XHRyZXR1cm47XG5cdH1cblx0dG1wID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHR0aGlzLnNlcV9wcm9maWxlID0gKHRtcCA+PiA1KSAmIDB4Nztcblx0dGhpcy5zZXFfbGV2ZWxfaWR4XzAgPSB0bXAgJiAweDFGO1xuXHR0bXAgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdHRoaXMuc2VxX3RpZXJfMCA9ICh0bXAgPj4gNykgJiAweDE7XG5cdHRoaXMuaGlnaF9iaXRkZXB0aCA9ICh0bXAgPj4gNikgJiAweDE7XG5cdHRoaXMudHdlbHZlX2JpdCA9ICh0bXAgPj4gNSkgJiAweDE7XG5cdHRoaXMubW9ub2Nocm9tZSA9ICh0bXAgPj4gNCkgJiAweDE7XG5cdHRoaXMuY2hyb21hX3N1YnNhbXBsaW5nX3ggPSAodG1wID4+IDMpICYgMHgxO1xuXHR0aGlzLmNocm9tYV9zdWJzYW1wbGluZ195ID0gKHRtcCA+PiAyKSAmIDB4MTtcblx0dGhpcy5jaHJvbWFfc2FtcGxlX3Bvc2l0aW9uID0gKHRtcCAmIDB4Myk7XG5cdHRtcCA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0dGhpcy5yZXNlcnZlZF8xID0gKHRtcCA+PiA1KSAmIDB4Nztcblx0aWYgKHRoaXMucmVzZXJ2ZWRfMSAhPT0gMCkge1xuXHRcdExvZy5lcnJvcihcImF2MUMgcmVzZXJ2ZWRfMSBwYXJzaW5nIHByb2JsZW1cIik7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHRoaXMuaW5pdGlhbF9wcmVzZW50YXRpb25fZGVsYXlfcHJlc2VudCA9ICh0bXAgPj4gNCkgJiAweDE7XG5cdGlmICh0aGlzLmluaXRpYWxfcHJlc2VudGF0aW9uX2RlbGF5X3ByZXNlbnQgPT09IDEpIHtcblx0XHR0aGlzLmluaXRpYWxfcHJlc2VudGF0aW9uX2RlbGF5X21pbnVzX29uZSA9ICh0bXAgJiAweEYpO1xuXHR9IGVsc2Uge1xuXHRcdHRoaXMucmVzZXJ2ZWRfMiA9ICh0bXAgJiAweEYpO1xuXHRcdGlmICh0aGlzLnJlc2VydmVkXzIgIT09IDApIHtcblx0XHRcdExvZy5lcnJvcihcImF2MUMgcmVzZXJ2ZWRfMiBwYXJzaW5nIHByb2JsZW1cIik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9XG5cblx0dmFyIGNvbmZpZ09CVXNfbGVuZ3RoID0gdGhpcy5zaXplIC0gdGhpcy5oZHJfc2l6ZSAtIDQ7XG5cdHRoaXMuY29uZmlnT0JVcyA9IHN0cmVhbS5yZWFkVWludDhBcnJheShjb25maWdPQlVzX2xlbmd0aCk7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9hdmNDLmpzXG5mdW5jdGlvbiBwcmludFBTKHBzKSB7XG5cdHZhciBzdHIgPSBcIjx0YWJsZSBjbGFzcz0naW5uZXItdGFibGUnPlwiO1xuXHRzdHIgKz0gXCI8dGhlYWQ+PHRyPjx0aD5sZW5ndGg8L3RoPjx0aD5uYWx1X2RhdGE8L3RoPjwvdHI+PC90aGVhZD5cIjtcblx0c3RyICs9IFwiPHRib2R5PlwiO1xuXG5cdGZvciAodmFyIGk9MDsgaSA8IHBzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIG5hbHUgPSBwc1tpXTtcblx0XHRzdHIgKz0gXCI8dHI+XCI7XG5cdFx0c3RyICs9IFwiPHRkPlwiK25hbHUubGVuZ3RoK1wiPC90ZD5cIjtcblx0XHRzdHIgKz0gXCI8dGQ+XCI7XG5cdFx0c3RyICs9IG5hbHUubmFsdS5yZWR1Y2UoZnVuY3Rpb24oc3RyLCBieXRlKSB7XG5cdFx0XHRyZXR1cm4gc3RyICsgYnl0ZS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdH0sIFwiMHhcIik7XG5cdFx0c3RyICs9IFwiPC90ZD48L3RyPlwiO1xuXHR9XG5cdHN0ciArPSBcIjwvdGJvZHk+PC90YWJsZT5cIjtcblx0cmV0dXJuIHN0cjtcbn1cblxuQm94UGFyc2VyLmNyZWF0ZUJveEN0b3IoXCJhdmNDXCIsIFwiQVZDQ29uZmlndXJhdGlvbkJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dmFyIGk7XG5cdHZhciB0b3BhcnNlO1xuXHR0aGlzLmNvbmZpZ3VyYXRpb25WZXJzaW9uID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHR0aGlzLkFWQ1Byb2ZpbGVJbmRpY2F0aW9uID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHR0aGlzLnByb2ZpbGVfY29tcGF0aWJpbGl0eSA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0dGhpcy5BVkNMZXZlbEluZGljYXRpb24gPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdHRoaXMubGVuZ3RoU2l6ZU1pbnVzT25lID0gKHN0cmVhbS5yZWFkVWludDgoKSAmIDB4Myk7XG5cdHRoaXMubmJfU1BTX25hbHVzID0gKHN0cmVhbS5yZWFkVWludDgoKSAmIDB4MUYpO1xuXHR0b3BhcnNlID0gdGhpcy5zaXplIC0gdGhpcy5oZHJfc2l6ZSAtIDY7XG5cdHRoaXMuU1BTID0gW107XG5cdHRoaXMuU1BTLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBwcmludFBTKHRoaXMpO1xuXHR9XG5cdGZvciAoaSA9IDA7IGkgPCB0aGlzLm5iX1NQU19uYWx1czsgaSsrKSB7XG5cdFx0dGhpcy5TUFNbaV0gPSB7fTtcblx0XHR0aGlzLlNQU1tpXS5sZW5ndGggPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHRcdHRoaXMuU1BTW2ldLm5hbHUgPSBzdHJlYW0ucmVhZFVpbnQ4QXJyYXkodGhpcy5TUFNbaV0ubGVuZ3RoKTtcblx0XHR0b3BhcnNlIC09IDIrdGhpcy5TUFNbaV0ubGVuZ3RoO1xuXHR9XG5cdHRoaXMubmJfUFBTX25hbHVzID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHR0b3BhcnNlLS07XG5cdHRoaXMuUFBTID0gW107XG5cdHRoaXMuUFBTLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBwcmludFBTKHRoaXMpO1xuXHR9XG5cdGZvciAoaSA9IDA7IGkgPCB0aGlzLm5iX1BQU19uYWx1czsgaSsrKSB7XG5cdFx0dGhpcy5QUFNbaV0gPSB7fTtcblx0XHR0aGlzLlBQU1tpXS5sZW5ndGggPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHRcdHRoaXMuUFBTW2ldLm5hbHUgPSBzdHJlYW0ucmVhZFVpbnQ4QXJyYXkodGhpcy5QUFNbaV0ubGVuZ3RoKTtcblx0XHR0b3BhcnNlIC09IDIrdGhpcy5QUFNbaV0ubGVuZ3RoO1xuXHR9XG5cdGlmICh0b3BhcnNlPjApIHtcblx0XHR0aGlzLmV4dCA9IHN0cmVhbS5yZWFkVWludDhBcnJheSh0b3BhcnNlKTtcblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvYnRydC5qc1xuQm94UGFyc2VyLmNyZWF0ZUJveEN0b3IoXCJidHJ0XCIsIFwiQml0UmF0ZUJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5idWZmZXJTaXplREIgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHR0aGlzLm1heEJpdHJhdGUgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHR0aGlzLmF2Z0JpdHJhdGUgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvY2NzdC5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwiY2NzdFwiLCBcIkNvZGluZ0NvbnN0cmFpbnRzQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR2YXIgZmxhZ3MgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdHRoaXMuYWxsX3JlZl9waWNzX2ludHJhID0gKChmbGFncyAmIDB4ODApID09IDB4ODApO1xuXHR0aGlzLmludHJhX3ByZWRfdXNlZCA9ICgoZmxhZ3MgJiAweDQwKSA9PSAweDQwKTtcblx0dGhpcy5tYXhfcmVmX3Blcl9waWMgPSAoKGZsYWdzICYgMHgzZikgPj4gMik7XG5cdHN0cmVhbS5yZWFkVWludDI0KCk7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9jZGVmLmpzXG5Cb3hQYXJzZXIuY3JlYXRlQm94Q3RvcihcImNkZWZcIiwgXCJDb21wb25lbnREZWZpbml0aW9uQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgIHZhciBpO1xuICAgIHRoaXMuY2hhbm5lbF9jb3VudCA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG4gICAgdGhpcy5jaGFubmVsX2luZGV4ZXMgPSBbXTtcbiAgICB0aGlzLmNoYW5uZWxfdHlwZXMgPSBbXTtcbiAgICB0aGlzLmNoYW5uZWxfYXNzb2NpYXRpb25zID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMuY2hhbm5lbF9jb3VudDsgaSsrKSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbF9pbmRleGVzLnB1c2goc3RyZWFtLnJlYWRVaW50MTYoKSk7XG4gICAgICAgIHRoaXMuY2hhbm5lbF90eXBlcy5wdXNoKHN0cmVhbS5yZWFkVWludDE2KCkpO1xuICAgICAgICB0aGlzLmNoYW5uZWxfYXNzb2NpYXRpb25zLnB1c2goc3RyZWFtLnJlYWRVaW50MTYoKSk7XG4gICAgfVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvY2xhcC5qc1xuQm94UGFyc2VyLmNyZWF0ZUJveEN0b3IoXCJjbGFwXCIsIFwiQ2xlYW5BcGVydHVyZUJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5jbGVhbkFwZXJ0dXJlV2lkdGhOID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0dGhpcy5jbGVhbkFwZXJ0dXJlV2lkdGhEID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0dGhpcy5jbGVhbkFwZXJ0dXJlSGVpZ2h0TiA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdHRoaXMuY2xlYW5BcGVydHVyZUhlaWdodEQgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHR0aGlzLmhvcml6T2ZmTiA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdHRoaXMuaG9yaXpPZmZEID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0dGhpcy52ZXJ0T2ZmTiA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdHRoaXMudmVydE9mZkQgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xufSk7Ly8gZmlsZTpzcmMvcGFyc2luZy9jbGxpLmpzXG5Cb3hQYXJzZXIuY3JlYXRlQm94Q3RvcihcImNsbGlcIiwgXCJDb250ZW50TGlnaHRMZXZlbEJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5tYXhfY29udGVudF9saWdodF9sZXZlbCA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG4gICAgdGhpcy5tYXhfcGljX2F2ZXJhZ2VfbGlnaHRfbGV2ZWwgPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvY21leC5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwiY21leFwiLCBcIkNhbWVyYUV4dHJpbnNpY01hdHJpeFByb3BlcnR5XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHRpZiAodGhpcy5mbGFncyAmIDB4MSkge1xuXHRcdHRoaXMucG9zX3ggPSBzdHJlYW0ucmVhZEludDMyKCk7XG5cdH1cblx0aWYgKHRoaXMuZmxhZ3MgJiAweDIpIHtcblx0XHR0aGlzLnBvc195ID0gc3RyZWFtLnJlYWRJbnQzMigpO1xuXHR9XG5cdGlmICh0aGlzLmZsYWdzICYgMHg0KSB7XG5cdFx0dGhpcy5wb3NfeiA9IHN0cmVhbS5yZWFkSW50MzIoKTtcblx0fVxuXHRpZiAodGhpcy5mbGFncyAmIDB4OCkge1xuXHRcdGlmICh0aGlzLnZlcnNpb24gPT0gMCkge1xuXHRcdFx0aWYgKHRoaXMuZmxhZ3MgJiAweDEwKSB7XG5cdFx0XHRcdHRoaXMucXVhdF94ID0gc3RyZWFtLnJlYWRJbnQzMigpO1xuXHRcdFx0XHR0aGlzLnF1YXRfeSA9IHN0cmVhbS5yZWFkSW50MzIoKTtcblx0XHRcdFx0dGhpcy5xdWF0X3ogPSBzdHJlYW0ucmVhZEludDMyKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnF1YXRfeCA9IHN0cmVhbS5yZWFkSW50MTYoKTtcblx0XHRcdFx0dGhpcy5xdWF0X3kgPSBzdHJlYW0ucmVhZEludDE2KCk7XG5cdFx0XHRcdHRoaXMucXVhdF96ID0gc3RyZWFtLnJlYWRJbnQxNigpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAodGhpcy52ZXJzaW9uID09IDEpIHtcblx0XHRcdC8vVmlld3BvaW50R2xvYmFsQ29vcmRpbmF0ZVN5c1JvdGF0aW9uU3RydWN0IHJvdDtcblx0XHR9XG5cdH1cblx0aWYgKHRoaXMuZmxhZ3MgJiAweDIwKSB7XG5cdFx0dGhpcy5pZCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdH1cbn0pO1xuLy8gZmlsZTpzcmMvcGFyc2luZy9jbWluLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJjbWluXCIsIFwiQ2FtZXJhSW50cmluc2ljTWF0cml4UHJvcGVydHlcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMuZm9jYWxfbGVuZ3RoX3ggPSBzdHJlYW0ucmVhZEludDMyKCk7XG5cdHRoaXMucHJpbmNpcGFsX3BvaW50X3ggPSBzdHJlYW0ucmVhZEludDMyKCk7XG5cdHRoaXMucHJpbmNpcGFsX3BvaW50X3kgPSBzdHJlYW0ucmVhZEludDMyKCk7XG5cdGlmICh0aGlzLmZsYWdzICYgMHgxKSB7XG5cdFx0dGhpcy5mb2NhbF9sZW5ndGhfeSA9IHN0cmVhbS5yZWFkSW50MzIoKTtcblx0XHR0aGlzLnNrZXdfZmFjdG9yID0gc3RyZWFtLnJlYWRJbnQzMigpO1xuXHR9XG59KTsvLyBmaWxlOnNyYy9wYXJzaW5nL2NtcGQuanNcbkJveFBhcnNlci5jcmVhdGVCb3hDdG9yKFwiY21wZFwiLCBcIkNvbXBvbmVudERlZmluaXRpb25Cb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMuY29tcG9uZW50X2NvdW50ID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0dGhpcy5jb21wb25lbnRfdHlwZXMgPSBbXTtcblx0dGhpcy5jb21wb25lbnRfdHlwZV91cmxzID0gW107XG5cdGZvciAoaSA9IDA7IGkgPCB0aGlzLmNvbXBvbmVudF9jb3VudDsgaSsrKSB7XG5cdFx0dmFyIGNvbXBvbmVudF90eXBlID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0XHR0aGlzLmNvbXBvbmVudF90eXBlcy5wdXNoKGNvbXBvbmVudF90eXBlKTtcblx0XHRpZiAoY29tcG9uZW50X3R5cGUgPj0gMHg4MDAwKSB7XG5cdFx0XHR0aGlzLmNvbXBvbmVudF90eXBlX3VybHMucHVzaChzdHJlYW0ucmVhZENTdHJpbmcoKSk7XG5cdFx0fVxuXHR9XG59KTsvLyBmaWxlOnNyYy9wYXJzaW5nL2NvNjQuanNcbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcImNvNjRcIiwgXCJDaHVua0xhcmdlT2Zmc2V0Qm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR2YXIgZW50cnlfY291bnQ7XG5cdHZhciBpO1xuXHRlbnRyeV9jb3VudCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdHRoaXMuY2h1bmtfb2Zmc2V0cyA9IFtdO1xuXHRpZiAodGhpcy52ZXJzaW9uID09PSAwKSB7XG5cdFx0Zm9yKGk9MDsgaTxlbnRyeV9jb3VudDsgaSsrKSB7XG5cdFx0XHR0aGlzLmNodW5rX29mZnNldHMucHVzaChzdHJlYW0ucmVhZFVpbnQ2NCgpKTtcblx0XHR9XG5cdH1cbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL0NvTEwuanNcbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcIkNvTExcIiwgXCJDb250ZW50TGlnaHRMZXZlbEJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5tYXhDTEwgPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuICAgIHRoaXMubWF4RkFMTCA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9jb2xyLmpzXG5Cb3hQYXJzZXIuY3JlYXRlQm94Q3RvcihcImNvbHJcIiwgXCJDb2xvdXJJbmZvcm1hdGlvbkJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5jb2xvdXJfdHlwZSA9IHN0cmVhbS5yZWFkU3RyaW5nKDQpO1xuXHRpZiAodGhpcy5jb2xvdXJfdHlwZSA9PT0gJ25jbHgnKSB7XG5cdFx0dGhpcy5jb2xvdXJfcHJpbWFyaWVzID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0XHR0aGlzLnRyYW5zZmVyX2NoYXJhY3RlcmlzdGljcyA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG5cdFx0dGhpcy5tYXRyaXhfY29lZmZpY2llbnRzID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0XHR2YXIgdG1wID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHRcdHRoaXMuZnVsbF9yYW5nZV9mbGFnID0gdG1wID4+IDc7XG5cdH0gZWxzZSBpZiAodGhpcy5jb2xvdXJfdHlwZSA9PT0gJ3JJQ0MnKSB7XG5cdFx0dGhpcy5JQ0NfcHJvZmlsZSA9IHN0cmVhbS5yZWFkVWludDhBcnJheSh0aGlzLnNpemUgLSA0KTtcblx0fSBlbHNlIGlmICh0aGlzLmNvbG91cl90eXBlID09PSAncHJvZicpIHtcblx0XHR0aGlzLklDQ19wcm9maWxlID0gc3RyZWFtLnJlYWRVaW50OEFycmF5KHRoaXMuc2l6ZSAtIDQpO1xuXHR9XG59KTsvLyBmaWxlOnNyYy9wYXJzaW5nL2NwcnQuanNcbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcImNwcnRcIiwgXCJDb3B5cmlnaHRCb3hcIiwgZnVuY3Rpb24gKHN0cmVhbSkge1xuXHR0aGlzLnBhcnNlTGFuZ3VhZ2Uoc3RyZWFtKTtcblx0dGhpcy5ub3RpY2UgPSBzdHJlYW0ucmVhZENTdHJpbmcoKTtcbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL2NzbGcuanNcbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcImNzbGdcIiwgXCJDb21wb3NpdGlvblRvRGVjb2RlQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR2YXIgZW50cnlfY291bnQ7XG5cdGlmICh0aGlzLnZlcnNpb24gPT09IDApIHtcblx0XHR0aGlzLmNvbXBvc2l0aW9uVG9EVFNTaGlmdCA9IHN0cmVhbS5yZWFkSW50MzIoKTsgLyogc2lnbmVkICovXG5cdFx0dGhpcy5sZWFzdERlY29kZVRvRGlzcGxheURlbHRhID0gc3RyZWFtLnJlYWRJbnQzMigpOyAvKiBzaWduZWQgKi9cblx0XHR0aGlzLmdyZWF0ZXN0RGVjb2RlVG9EaXNwbGF5RGVsdGEgPSBzdHJlYW0ucmVhZEludDMyKCk7IC8qIHNpZ25lZCAqL1xuXHRcdHRoaXMuY29tcG9zaXRpb25TdGFydFRpbWUgPSBzdHJlYW0ucmVhZEludDMyKCk7IC8qIHNpZ25lZCAqL1xuXHRcdHRoaXMuY29tcG9zaXRpb25FbmRUaW1lID0gc3RyZWFtLnJlYWRJbnQzMigpOyAvKiBzaWduZWQgKi9cblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvY3R0cy5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwiY3R0c1wiLCBcIkNvbXBvc2l0aW9uT2Zmc2V0Qm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR2YXIgZW50cnlfY291bnQ7XG5cdHZhciBpO1xuXHRlbnRyeV9jb3VudCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdHRoaXMuc2FtcGxlX2NvdW50cyA9IFtdO1xuXHR0aGlzLnNhbXBsZV9vZmZzZXRzID0gW107XG5cdGlmICh0aGlzLnZlcnNpb24gPT09IDApIHtcblx0XHRmb3IoaT0wOyBpPGVudHJ5X2NvdW50OyBpKyspIHtcblx0XHRcdHRoaXMuc2FtcGxlX2NvdW50cy5wdXNoKHN0cmVhbS5yZWFkVWludDMyKCkpO1xuXHRcdFx0Lyogc29tZSBmaWxlcyBhcmUgYnVnZ3kgYW5kIGRlY2xhcmUgdmVyc2lvbj0wIHdoaWxlIHVzaW5nIHNpZ25lZCBvZmZzZXRzLlxuXHRcdFx0ICAgVGhlIGxpa2VseWhvb2Qgb2YgdXNpbmcgdGhlIG1vc3Qgc2lnbmlmaWNhbnQgYml0IGluIGEgMzItYml0cyB0aW1lIG9mZnNldCBpcyB2ZXJ5IGxvdyxcblx0XHRcdCAgIHNvIHVzaW5nIHNpZ25lZCB2YWx1ZSBoZXJlIGFzIHdlbGwgKi9cblx0XHRcdCAgIHZhciB2YWx1ZSA9IHN0cmVhbS5yZWFkSW50MzIoKTtcblx0XHRcdCAgIGlmICh2YWx1ZSA8IDApIHtcblx0XHRcdCAgIFx0XHRMb2cud2FybihcIkJveFBhcnNlclwiLCBcImN0dHMgYm94IHVzZXMgbmVnYXRpdmUgdmFsdWVzIHdpdGhvdXQgdXNpbmcgdmVyc2lvbiAxXCIpO1xuXHRcdFx0ICAgfVxuXHRcdFx0dGhpcy5zYW1wbGVfb2Zmc2V0cy5wdXNoKHZhbHVlKTtcblx0XHR9XG5cdH0gZWxzZSBpZiAodGhpcy52ZXJzaW9uID09IDEpIHtcblx0XHRmb3IoaT0wOyBpPGVudHJ5X2NvdW50OyBpKyspIHtcblx0XHRcdHRoaXMuc2FtcGxlX2NvdW50cy5wdXNoKHN0cmVhbS5yZWFkVWludDMyKCkpO1xuXHRcdFx0dGhpcy5zYW1wbGVfb2Zmc2V0cy5wdXNoKHN0cmVhbS5yZWFkSW50MzIoKSk7IC8qIHNpZ25lZCAqL1xuXHRcdH1cblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvZGFjMy5qc1xuQm94UGFyc2VyLmNyZWF0ZUJveEN0b3IoXCJkYWMzXCIsIFwiQUMzU3BlY2lmaWNCb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHZhciB0bXBfYnl0ZTEgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdHZhciB0bXBfYnl0ZTIgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdHZhciB0bXBfYnl0ZTMgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdHRoaXMuZnNjb2QgPSB0bXBfYnl0ZTEgPj4gNjtcblx0dGhpcy5ic2lkICA9ICgodG1wX2J5dGUxID4+IDEpICYgMHgxRik7XG5cdHRoaXMuYnNtb2QgPSAoKHRtcF9ieXRlMSAmIDB4MSkgPDwgIDIpIHwgKCh0bXBfYnl0ZTIgPj4gNikgJiAweDMpO1xuXHR0aGlzLmFjbW9kID0gKCh0bXBfYnl0ZTIgPj4gMykgJiAweDcpO1xuXHR0aGlzLmxmZW9uID0gKCh0bXBfYnl0ZTIgPj4gMikgJiAweDEpO1xuXHR0aGlzLmJpdF9yYXRlX2NvZGUgPSAodG1wX2J5dGUyICYgMHgzKSB8ICgodG1wX2J5dGUzID4+IDUpICYgMHg3KTtcbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL2RlYzMuanNcbkJveFBhcnNlci5jcmVhdGVCb3hDdG9yKFwiZGVjM1wiLCBcIkVDM1NwZWNpZmljQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR2YXIgdG1wXzE2ID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0dGhpcy5kYXRhX3JhdGUgPSB0bXBfMTYgPj4gMztcblx0dGhpcy5udW1faW5kX3N1YiA9IHRtcF8xNiAmIDB4Nztcblx0dGhpcy5pbmRfc3VicyA9IFtdO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubnVtX2luZF9zdWIrMTsgaSsrKSB7XG5cdFx0dmFyIGluZF9zdWIgPSB7fTtcblx0XHR0aGlzLmluZF9zdWJzLnB1c2goaW5kX3N1Yik7XG5cdFx0dmFyIHRtcF9ieXRlMSA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0XHR2YXIgdG1wX2J5dGUyID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHRcdHZhciB0bXBfYnl0ZTMgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdFx0aW5kX3N1Yi5mc2NvZCA9IHRtcF9ieXRlMSA+PiA2O1xuXHRcdGluZF9zdWIuYnNpZCAgPSAoKHRtcF9ieXRlMSA+PiAxKSAmIDB4MUYpO1xuXHRcdGluZF9zdWIuYnNtb2QgPSAoKHRtcF9ieXRlMSAmIDB4MSkgPDwgNCkgfCAoKHRtcF9ieXRlMiA+PiA0KSAmIDB4Rik7XG5cdFx0aW5kX3N1Yi5hY21vZCA9ICgodG1wX2J5dGUyID4+IDEpICYgMHg3KTtcblx0XHRpbmRfc3ViLmxmZW9uID0gKHRtcF9ieXRlMiAmIDB4MSk7XG5cdFx0aW5kX3N1Yi5udW1fZGVwX3N1YiA9ICgodG1wX2J5dGUzID4+IDEpICYgMHhGKTtcblx0XHRpZiAoaW5kX3N1Yi5udW1fZGVwX3N1YiA+IDApIHtcblx0XHRcdGluZF9zdWIuY2hhbl9sb2MgPSAoKHRtcF9ieXRlMyAmIDB4MSkgPDwgOCkgfCBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdFx0fVxuXHR9XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9kZkxhLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJkZkxhXCIsIFwiRkxBQ1NwZWNpZmljQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgIHZhciBCTE9DS1RZUEVfTUFTSyA9IDB4N0Y7XG4gICAgdmFyIExBU1RNRVRBREFUQUJMT0NLRkxBR19NQVNLID0gMHg4MDtcblxuICAgIHZhciBib3hlc0ZvdW5kID0gW107XG4gICAgdmFyIGtub3duQmxvY2tUeXBlcyA9IFtcbiAgICAgICAgXCJTVFJFQU1JTkZPXCIsXG4gICAgICAgIFwiUEFERElOR1wiLFxuICAgICAgICBcIkFQUExJQ0FUSU9OXCIsXG4gICAgICAgIFwiU0VFS1RBQkxFXCIsXG4gICAgICAgIFwiVk9SQklTX0NPTU1FTlRcIixcbiAgICAgICAgXCJDVUVTSEVFVFwiLFxuICAgICAgICBcIlBJQ1RVUkVcIixcbiAgICAgICAgXCJSRVNFUlZFRFwiXG4gICAgXTtcblxuICAgIC8vIGZvciAoaT0wOyA7IGkrKykgeyAvLyB0byBlbmQgb2YgYm94XG4gICAgZG8ge1xuICAgICAgICB2YXIgZmxhZ0FuZFR5cGUgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cbiAgICAgICAgdmFyIHR5cGUgPSBNYXRoLm1pbihcbiAgICAgICAgICAgIChmbGFnQW5kVHlwZSAmIEJMT0NLVFlQRV9NQVNLKSxcbiAgICAgICAgICAgIChrbm93bkJsb2NrVHlwZXMubGVuZ3RoIC0gMSlcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBpZiB0aGlzIGlzIGEgU1RSRUFNSU5GTyBibG9jaywgcmVhZCB0aGUgdHJ1ZSBzYW1wbGVyYXRlIHNpbmNlIHRoaXNcbiAgICAgICAgLy8gY2FuIGJlIGRpZmZlcmVudCB0byB0aGUgQXVkaW9TYW1wbGVFbnRyeSBzYW1wbGVyYXRlLlxuICAgICAgICBpZiAoISh0eXBlKSkge1xuICAgICAgICAgICAgLy8gcmVhZCBwYXN0IGFsbCB0aGUgb3RoZXIgc3R1ZmZcbiAgICAgICAgICAgIHN0cmVhbS5yZWFkVWludDhBcnJheSgxMyk7XG5cbiAgICAgICAgICAgIC8vIGV4dHJhY3Qgc2FtcGxlcmF0ZVxuICAgICAgICAgICAgdGhpcy5zYW1wbGVyYXRlID0gKHN0cmVhbS5yZWFkVWludDMyKCkgPj4gMTIpO1xuXG4gICAgICAgICAgICAvLyByZWFkIHRvIGVuZCBvZiBTVFJFQU1JTkZPXG4gICAgICAgICAgICBzdHJlYW0ucmVhZFVpbnQ4QXJyYXkoMjApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gbm90IGludGVyZXN0ZWQgaW4gb3RoZXIgYmxvY2sgdHlwZXMgc28ganVzdCBkaXNjYXJkIGxlbmd0aCBieXRlc1xuICAgICAgICAgICAgc3RyZWFtLnJlYWRVaW50OEFycmF5KHN0cmVhbS5yZWFkVWludDI0KCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgYm94ZXNGb3VuZC5wdXNoKGtub3duQmxvY2tUeXBlc1t0eXBlXSk7XG5cbiAgICAgICAgaWYgKCEhKGZsYWdBbmRUeXBlICYgTEFTVE1FVEFEQVRBQkxPQ0tGTEFHX01BU0spKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKHRydWUpO1xuXG4gICAgdGhpcy5udW1NZXRhZGF0YUJsb2NrcyA9XG4gICAgICAgIGJveGVzRm91bmQubGVuZ3RoICsgXCIgKFwiICsgYm94ZXNGb3VuZC5qb2luKFwiLCBcIikgKyBcIilcIjtcbn0pO1xuLy8gZmlsZTpzcmMvcGFyc2luZy9kaW1tLmpzXG5Cb3hQYXJzZXIuY3JlYXRlQm94Q3RvcihcImRpbW1cIiwgXCJoaW50aW1tZWRpYXRlQnl0ZXNTZW50XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLmJ5dGVzc2VudCA9IHN0cmVhbS5yZWFkVWludDY0KCk7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9kbWF4LmpzXG5Cb3hQYXJzZXIuY3JlYXRlQm94Q3RvcihcImRtYXhcIiwgXCJoaW50bG9uZ2VzdHBhY2tldFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy50aW1lID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL2RtZWQuanNcbkJveFBhcnNlci5jcmVhdGVCb3hDdG9yKFwiZG1lZFwiLCBcImhpbnRtZWRpYUJ5dGVzU2VudFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5ieXRlc3NlbnQgPSBzdHJlYW0ucmVhZFVpbnQ2NCgpO1xufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvZE9wcy5qc1xuQm94UGFyc2VyLmNyZWF0ZUJveEN0b3IoXCJkT3BzXCIsIFwiT3B1c1NwZWNpZmljQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLlZlcnNpb24gPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdHRoaXMuT3V0cHV0Q2hhbm5lbENvdW50ID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHR0aGlzLlByZVNraXAgPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHR0aGlzLklucHV0U2FtcGxlUmF0ZSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdHRoaXMuT3V0cHV0R2FpbiA9IHN0cmVhbS5yZWFkSW50MTYoKTtcblx0dGhpcy5DaGFubmVsTWFwcGluZ0ZhbWlseSA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0aWYgKHRoaXMuQ2hhbm5lbE1hcHBpbmdGYW1pbHkgIT09IDApIHtcblx0XHR0aGlzLlN0cmVhbUNvdW50ID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHRcdHRoaXMuQ291cGxlZENvdW50ID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHRcdHRoaXMuQ2hhbm5lbE1hcHBpbmcgPSBbXTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuT3V0cHV0Q2hhbm5lbENvdW50OyBpKyspIHtcblx0XHRcdHRoaXMuQ2hhbm5lbE1hcHBpbmdbaV0gPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdFx0fVxuXHR9XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9kcmVmLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJkcmVmXCIsIFwiRGF0YVJlZmVyZW5jZUJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dmFyIHJldDtcblx0dmFyIGJveDtcblx0dGhpcy5lbnRyaWVzID0gW107XG5cdHZhciBlbnRyeV9jb3VudCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgZW50cnlfY291bnQ7IGkrKykge1xuXHRcdHJldCA9IEJveFBhcnNlci5wYXJzZU9uZUJveChzdHJlYW0sIGZhbHNlLCB0aGlzLnNpemUgLSAoc3RyZWFtLmdldFBvc2l0aW9uKCkgLSB0aGlzLnN0YXJ0KSk7XG5cdFx0aWYgKHJldC5jb2RlID09PSBCb3hQYXJzZXIuT0spIHtcblx0XHRcdGJveCA9IHJldC5ib3g7XG5cdFx0XHR0aGlzLmVudHJpZXMucHVzaChib3gpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9kcmVwLmpzXG5Cb3hQYXJzZXIuY3JlYXRlQm94Q3RvcihcImRyZXBcIiwgXCJoaW50cmVwZWF0ZWRCeXRlc1NlbnRcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMuYnl0ZXNzZW50ID0gc3RyZWFtLnJlYWRVaW50NjQoKTtcbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL2VsbmcuanNcbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcImVsbmdcIiwgXCJFeHRlbmRlZExhbmd1YWdlQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLmV4dGVuZGVkX2xhbmd1YWdlID0gc3RyZWFtLnJlYWRTdHJpbmcodGhpcy5zaXplLXRoaXMuaGRyX3NpemUpO1xufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvZWxzdC5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwiZWxzdFwiLCBcIkVkaXRMaXN0Qm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLmVudHJpZXMgPSBbXTtcblx0dmFyIGVudHJ5X2NvdW50ID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBlbnRyeV9jb3VudDsgaSsrKSB7XG5cdFx0dmFyIGVudHJ5ID0ge307XG5cdFx0dGhpcy5lbnRyaWVzLnB1c2goZW50cnkpO1xuXHRcdGlmICh0aGlzLnZlcnNpb24gPT09IDEpIHtcblx0XHRcdGVudHJ5LnNlZ21lbnRfZHVyYXRpb24gPSBzdHJlYW0ucmVhZFVpbnQ2NCgpO1xuXHRcdFx0ZW50cnkubWVkaWFfdGltZSA9IHN0cmVhbS5yZWFkSW50NjQoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZW50cnkuc2VnbWVudF9kdXJhdGlvbiA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0XHRlbnRyeS5tZWRpYV90aW1lID0gc3RyZWFtLnJlYWRJbnQzMigpO1xuXHRcdH1cblx0XHRlbnRyeS5tZWRpYV9yYXRlX2ludGVnZXIgPSBzdHJlYW0ucmVhZEludDE2KCk7XG5cdFx0ZW50cnkubWVkaWFfcmF0ZV9mcmFjdGlvbiA9IHN0cmVhbS5yZWFkSW50MTYoKTtcblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvZW1zZy5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwiZW1zZ1wiLCBcIkV2ZW50TWVzc2FnZUJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0aWYgKHRoaXMudmVyc2lvbiA9PSAxKSB7XG5cdFx0dGhpcy50aW1lc2NhbGUgXHRcdFx0XHRcdD0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0XHR0aGlzLnByZXNlbnRhdGlvbl90aW1lIFx0XHRcdD0gc3RyZWFtLnJlYWRVaW50NjQoKTtcblx0XHR0aGlzLmV2ZW50X2R1cmF0aW9uXHRcdFx0IFx0PSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRcdHRoaXMuaWQgXHRcdFx0XHRcdFx0PSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRcdHRoaXMuc2NoZW1lX2lkX3VyaSBcdFx0XHRcdD0gc3RyZWFtLnJlYWRDU3RyaW5nKCk7XG5cdFx0dGhpcy52YWx1ZSBcdFx0XHRcdFx0XHQ9IHN0cmVhbS5yZWFkQ1N0cmluZygpO1xuXHR9IGVsc2Uge1xuXHRcdHRoaXMuc2NoZW1lX2lkX3VyaSBcdFx0XHRcdD0gc3RyZWFtLnJlYWRDU3RyaW5nKCk7XG5cdFx0dGhpcy52YWx1ZSBcdFx0XHRcdFx0XHQ9IHN0cmVhbS5yZWFkQ1N0cmluZygpO1xuXHRcdHRoaXMudGltZXNjYWxlIFx0XHRcdFx0XHQ9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0dGhpcy5wcmVzZW50YXRpb25fdGltZV9kZWx0YSBcdD0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0XHR0aGlzLmV2ZW50X2R1cmF0aW9uXHRcdFx0IFx0PSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRcdHRoaXMuaWQgXHRcdFx0XHRcdFx0PSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHR9XG5cdHZhciBtZXNzYWdlX3NpemUgPSB0aGlzLnNpemUgLSB0aGlzLmhkcl9zaXplIC0gKDQqNCArICh0aGlzLnNjaGVtZV9pZF91cmkubGVuZ3RoKzEpICsgKHRoaXMudmFsdWUubGVuZ3RoKzEpKTtcblx0aWYgKHRoaXMudmVyc2lvbiA9PSAxKSB7XG5cdFx0bWVzc2FnZV9zaXplIC09IDQ7XG5cdH1cblx0dGhpcy5tZXNzYWdlX2RhdGEgPSBzdHJlYW0ucmVhZFVpbnQ4QXJyYXkobWVzc2FnZV9zaXplKTtcbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL0VudGl0eVRvR3JvdXAuanNcbi8vIElTTy9JRUMgMTQ0OTYtMTI6MjAyMiBTZWN0aW9uIDguMTguMyBFbnRpdHkgdG8gZ3JvdXAgYm94XG5Cb3hQYXJzZXIuY3JlYXRlRW50aXR5VG9Hcm91cEN0b3IgPSBmdW5jdGlvbih0eXBlLCBwYXJzZU1ldGhvZCkge1xuICAgIEJveFBhcnNlclt0eXBlK1wiQm94XCJdID0gZnVuY3Rpb24oc2l6ZSkge1xuICAgICAgICBCb3hQYXJzZXIuRnVsbEJveC5jYWxsKHRoaXMsIHR5cGUsIHNpemUpO1xuICAgIH1cbiAgICBCb3hQYXJzZXJbdHlwZStcIkJveFwiXS5wcm90b3R5cGUgPSBuZXcgQm94UGFyc2VyLkZ1bGxCb3goKTtcbiAgICBCb3hQYXJzZXJbdHlwZStcIkJveFwiXS5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbihzdHJlYW0pIHtcbiAgICAgICAgdGhpcy5wYXJzZUZ1bGxIZWFkZXIoc3RyZWFtKTtcbiAgICAgICAgaWYgKHBhcnNlTWV0aG9kKSB7XG4gICAgICAgICAgICBwYXJzZU1ldGhvZC5jYWxsKHRoaXMsIHN0cmVhbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmdyb3VwX2lkID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcbiAgICAgICAgICAgIHRoaXMubnVtX2VudGl0aWVzX2luX2dyb3VwID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5X2lkcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMubnVtX2VudGl0aWVzX2luX2dyb3VwOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZW50aXR5X2lkID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVudGl0eV9pZHMucHVzaChlbnRpdHlfaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn07XG5cbi8vIEF1dG8gZXhwb3N1cmUgYnJhY2tldGluZyAoSVNPL0lFQyAyMzAwOC0xMjoyMDIyIFNlY3Rpb24gNi44LjYuMi4xKVxuQm94UGFyc2VyLmNyZWF0ZUVudGl0eVRvR3JvdXBDdG9yKFwiYWViclwiKTtcblxuLy8gRmxhc2ggZXhwb3N1cmUgYnJhY2tldGluZyAoSVNPL0lFQyAyMzAwOC0xMjoyMDIyIFNlY3Rpb24gNi44LjYuNS4xKVxuQm94UGFyc2VyLmNyZWF0ZUVudGl0eVRvR3JvdXBDdG9yKFwiYWZiclwiKTtcblxuLy8gQWxidW0gY29sbGVjdGlvbiAoSVNPL0lFQyAyMzAwOC0xMjoyMDIyIFNlY3Rpb24gNi44LjcuMSlcbkJveFBhcnNlci5jcmVhdGVFbnRpdHlUb0dyb3VwQ3RvcihcImFsYmNcIik7XG5cbi8vIEFsdGVybmF0aXZlIGVudGl0eSAoSVNPL0lFQyAxNDQ5Ni0xMjoyMDIyIFNlY3Rpb24gOC4xOC4zLjEpXG5Cb3hQYXJzZXIuY3JlYXRlRW50aXR5VG9Hcm91cEN0b3IoXCJhbHRyXCIpO1xuXG4vLyBCdXJzdCBpbWFnZSBlbnRpdHkgZ3JvdXAgKElTTy9JRUMgMjMwMDgtMTI6MjAyMiBTZWN0aW9uIDYuOC4yLjIpXG5Cb3hQYXJzZXIuY3JlYXRlRW50aXR5VG9Hcm91cEN0b3IoXCJicnN0XCIpO1xuXG4vLyBEZXB0aCBvZiBmaWVsZCBicmFja2V0aW5nIChJU08vSUVDIDIzMDA4LTEyOjIwMjIgU2VjdGlvbiA2LjguNi42LjEpXG5Cb3hQYXJzZXIuY3JlYXRlRW50aXR5VG9Hcm91cEN0b3IoXCJkb2JyXCIpO1xuXG4vLyBFcXVpdmFsZW50IGVudGl0eSAoSVNPL0lFQyAyMzAwOC0xMjoyMDIyIFNlY3Rpb24gNi44LjEuMSlcbkJveFBhcnNlci5jcmVhdGVFbnRpdHlUb0dyb3VwQ3RvcihcImVxaXZcIik7XG5cbi8vIEZhdm91cml0ZXMgY29sbGVjdGlvbiAoSVNPL0lFQyAyMzAwOC0xMjoyMDIyIFNlY3Rpb24gNi44LjcuMilcbkJveFBhcnNlci5jcmVhdGVFbnRpdHlUb0dyb3VwQ3RvcihcImZhdmNcIik7XG5cbi8vIEZvY3VzIGJyYWNrZXRpbmcgKElTTy9JRUMgMjMwMDgtMTI6MjAyMiBTZWN0aW9uIDYuOC42LjQuMSlcbkJveFBhcnNlci5jcmVhdGVFbnRpdHlUb0dyb3VwQ3RvcihcImZvYnJcIik7XG5cbi8vIEF1ZGlvIHRvIGltYWdlIGVudGl0eSBncm91cCAoSVNPL0lFQyAyMzAwOC0xMjoyMDIyIFNlY3Rpb24gNi44LjQpXG5Cb3hQYXJzZXIuY3JlYXRlRW50aXR5VG9Hcm91cEN0b3IoXCJpYXVnXCIpO1xuXG4vLyBQYW5vcmFtYSAoSVNPL0lFQyAyMzAwOC0xMjoyMDIyIFNlY3Rpb24gNi44LjguMSlcbkJveFBhcnNlci5jcmVhdGVFbnRpdHlUb0dyb3VwQ3RvcihcInBhbm9cIik7XG5cbi8vIFNsaWRlc2hvdyAoSVNPL0lFQyAyMzAwOC0xMjoyMDIyIFNlY3Rpb24gNi44LjkuMSlcbkJveFBhcnNlci5jcmVhdGVFbnRpdHlUb0dyb3VwQ3RvcihcInNsaWRcIik7XG5cbi8vIFN0ZXJlbyBwYWlyIChJU08vSUVDIDIzMDA4LTEyOjIwMjIgU2VjdGlvbiA2LjguNSlcbkJveFBhcnNlci5jcmVhdGVFbnRpdHlUb0dyb3VwQ3RvcihcInN0ZXJcIik7XG5cbi8vIFRpbWUtc3luY2hyb25pc2VkIGNhcHR1cmUgZW50aXR5IGdyb3VwIChJU08vSUVDIDIzMDA4LTEyOjIwMjIgU2VjdGlvbiA2LjguMylcbkJveFBhcnNlci5jcmVhdGVFbnRpdHlUb0dyb3VwQ3RvcihcInRzeW5cIik7XG5cbi8vIFdoaXRlIGJhbGFuY2UgYnJhY2tldGluZyAoSVNPL0lFQyAyMzAwOC0xMjoyMDIyIFNlY3Rpb24gNi44LjYuMy4xKVxuQm94UGFyc2VyLmNyZWF0ZUVudGl0eVRvR3JvdXBDdG9yKFwid2JiclwiKTtcblxuLy8gQWx0ZXJuYXRpdmUgZW50aXR5IChJU08vSUVDIDIzMDA4LTEyOjIwMjIgQU1EMSBTZWN0aW9uIDYuOC4xMClcbkJveFBhcnNlci5jcmVhdGVFbnRpdHlUb0dyb3VwQ3RvcihcInByZ3JcIik7XG5cbi8vIEltYWdlIFB5cmFtaWQgZW50aXR5IGdyb3VwIChJU08vSUVDIDIzMDA4LTEyOjIweHggU2VjdGlvbiA2LjguMTEpXG5Cb3hQYXJzZXIuY3JlYXRlRW50aXR5VG9Hcm91cEN0b3IoXCJweW1kXCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgIHRoaXMuZ3JvdXBfaWQgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuICAgIHRoaXMubnVtX2VudGl0aWVzX2luX2dyb3VwID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcbiAgICB0aGlzLmVudGl0eV9pZHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubnVtX2VudGl0aWVzX2luX2dyb3VwOyBpKyspIHtcbiAgICAgICAgdmFyIGVudGl0eV9pZCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG4gICAgICAgIHRoaXMuZW50aXR5X2lkcy5wdXNoKGVudGl0eV9pZCk7XG4gICAgfVxuICAgIFxuICAgIHRoaXMudGlsZV9zaXplX3ggPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuICAgIHRoaXMudGlsZV9zaXplX3kgPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuICAgIHRoaXMubGF5ZXJfYmlubmluZyA9IFtdO1xuICAgIHRoaXMudGlsZXNfaW5fbGF5ZXJfY29sdW1uX21pbnVzMSA9IFtdO1xuICAgIHRoaXMudGlsZXNfaW5fbGF5ZXJfcm93X21pbnVzMSA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLm51bV9lbnRpdGllc19pbl9ncm91cDsgaSsrKSB7XG4gICAgICAgIHRoaXMubGF5ZXJfYmlubmluZ1tpXSA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG4gICAgICAgIHRoaXMudGlsZXNfaW5fbGF5ZXJfcm93X21pbnVzMVtpXSA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG4gICAgICAgIHRoaXMudGlsZXNfaW5fbGF5ZXJfY29sdW1uX21pbnVzMVtpXSA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG4gICAgfVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvZXNkcy5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwiZXNkc1wiLCBcIkVsZW1lbnRhcnlTdHJlYW1EZXNjcmlwdG9yQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR2YXIgZXNkX2RhdGEgPSBzdHJlYW0ucmVhZFVpbnQ4QXJyYXkodGhpcy5zaXplLXRoaXMuaGRyX3NpemUpO1xuXHRpZiAodHlwZW9mIE1QRUc0RGVzY3JpcHRvclBhcnNlciAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdHZhciBlc2RfcGFyc2VyID0gbmV3IE1QRUc0RGVzY3JpcHRvclBhcnNlcigpO1xuXHRcdHRoaXMuZXNkID0gZXNkX3BhcnNlci5wYXJzZU9uZURlc2NyaXB0b3IobmV3IERhdGFTdHJlYW0oZXNkX2RhdGEuYnVmZmVyLCAwLCBEYXRhU3RyZWFtLkJJR19FTkRJQU4pKTtcblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvZmllbC5qc1xuQm94UGFyc2VyLmNyZWF0ZUJveEN0b3IoXCJmaWVsXCIsIFwiRmllbGRIYW5kbGluZ0JveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5maWVsZENvdW50ID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHR0aGlzLmZpZWxkT3JkZXJpbmcgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9mcm1hLmpzXG5Cb3hQYXJzZXIuY3JlYXRlQm94Q3RvcihcImZybWFcIiwgXCJPcmlnaW5hbEZvcm1hdEJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5kYXRhX2Zvcm1hdCA9IHN0cmVhbS5yZWFkU3RyaW5nKDQpO1xufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvZnR5cC5qc1xuQm94UGFyc2VyLmNyZWF0ZUJveEN0b3IoXCJmdHlwXCIsIFwiRmlsZVR5cGVCb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHZhciB0b3BhcnNlID0gdGhpcy5zaXplIC0gdGhpcy5oZHJfc2l6ZTtcblx0dGhpcy5tYWpvcl9icmFuZCA9IHN0cmVhbS5yZWFkU3RyaW5nKDQpO1xuXHR0aGlzLm1pbm9yX3ZlcnNpb24gPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHR0b3BhcnNlIC09IDg7XG5cdHRoaXMuY29tcGF0aWJsZV9icmFuZHMgPSBbXTtcblx0dmFyIGkgPSAwO1xuXHR3aGlsZSAodG9wYXJzZT49NCkge1xuXHRcdHRoaXMuY29tcGF0aWJsZV9icmFuZHNbaV0gPSBzdHJlYW0ucmVhZFN0cmluZyg0KTtcblx0XHR0b3BhcnNlIC09IDQ7XG5cdFx0aSsrO1xuXHR9XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9oZGxyLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJoZGxyXCIsIFwiSGFuZGxlckJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0aWYgKHRoaXMudmVyc2lvbiA9PT0gMCkge1xuXHRcdHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0dGhpcy5oYW5kbGVyID0gc3RyZWFtLnJlYWRTdHJpbmcoNCk7XG5cdFx0c3RyZWFtLnJlYWRVaW50MzJBcnJheSgzKTtcblx0XHR0aGlzLm5hbWUgPSBzdHJlYW0ucmVhZFN0cmluZyh0aGlzLnNpemUtdGhpcy5oZHJfc2l6ZS0yMCk7XG5cdFx0aWYgKHRoaXMubmFtZVt0aGlzLm5hbWUubGVuZ3RoLTFdPT09J1xcMCcpIHtcblx0XHRcdHRoaXMubmFtZSA9IHRoaXMubmFtZS5zbGljZSgwLC0xKTtcblx0XHR9XG5cdH1cbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL2h2Y0MuanNcbkJveFBhcnNlci5jcmVhdGVCb3hDdG9yKFwiaHZjQ1wiLCBcIkhFVkNDb25maWd1cmF0aW9uQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR2YXIgaSwgajtcblx0dmFyIG5iX25hbHVzO1xuXHR2YXIgbGVuZ3RoO1xuXHR2YXIgdG1wX2J5dGU7XG5cdHRoaXMuY29uZmlndXJhdGlvblZlcnNpb24gPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdHRtcF9ieXRlID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHR0aGlzLmdlbmVyYWxfcHJvZmlsZV9zcGFjZSA9IHRtcF9ieXRlID4+IDY7XG5cdHRoaXMuZ2VuZXJhbF90aWVyX2ZsYWcgPSAodG1wX2J5dGUgJiAweDIwKSA+PiA1O1xuXHR0aGlzLmdlbmVyYWxfcHJvZmlsZV9pZGMgPSAodG1wX2J5dGUgJiAweDFGKTtcblx0dGhpcy5nZW5lcmFsX3Byb2ZpbGVfY29tcGF0aWJpbGl0eSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdHRoaXMuZ2VuZXJhbF9jb25zdHJhaW50X2luZGljYXRvciA9IHN0cmVhbS5yZWFkVWludDhBcnJheSg2KTtcblx0dGhpcy5nZW5lcmFsX2xldmVsX2lkYyA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0dGhpcy5taW5fc3BhdGlhbF9zZWdtZW50YXRpb25faWRjID0gc3RyZWFtLnJlYWRVaW50MTYoKSAmIDB4RkZGO1xuXHR0aGlzLnBhcmFsbGVsaXNtVHlwZSA9IChzdHJlYW0ucmVhZFVpbnQ4KCkgJiAweDMpO1xuXHR0aGlzLmNocm9tYV9mb3JtYXRfaWRjID0gKHN0cmVhbS5yZWFkVWludDgoKSAmIDB4Myk7XG5cdHRoaXMuYml0X2RlcHRoX2x1bWFfbWludXM4ID0gKHN0cmVhbS5yZWFkVWludDgoKSAmIDB4Nyk7XG5cdHRoaXMuYml0X2RlcHRoX2Nocm9tYV9taW51czggPSAoc3RyZWFtLnJlYWRVaW50OCgpICYgMHg3KTtcblx0dGhpcy5hdmdGcmFtZVJhdGUgPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHR0bXBfYnl0ZSA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0dGhpcy5jb25zdGFudEZyYW1lUmF0ZSA9ICh0bXBfYnl0ZSA+PiA2KTtcblx0dGhpcy5udW1UZW1wb3JhbExheWVycyA9ICh0bXBfYnl0ZSAmIDBYRCkgPj4gMztcblx0dGhpcy50ZW1wb3JhbElkTmVzdGVkID0gKHRtcF9ieXRlICYgMFg0KSA+PiAyO1xuXHR0aGlzLmxlbmd0aFNpemVNaW51c09uZSA9ICh0bXBfYnl0ZSAmIDBYMyk7XG5cblx0dGhpcy5uYWx1X2FycmF5cyA9IFtdO1xuXHR0aGlzLm5hbHVfYXJyYXlzLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuXHRcdHZhciBzdHIgPSBcIjx0YWJsZSBjbGFzcz0naW5uZXItdGFibGUnPlwiO1xuXHRcdHN0ciArPSBcIjx0aGVhZD48dHI+PHRoPmNvbXBsZXRlbmVzczwvdGg+PHRoPm5hbHVfdHlwZTwvdGg+PHRoPm5hbHVfZGF0YTwvdGg+PC90cj48L3RoZWFkPlwiO1xuXHRcdHN0ciArPSBcIjx0Ym9keT5cIjtcblxuXHRcdGZvciAodmFyIGk9MDsgaTx0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgbmFsdV9hcnJheSA9IHRoaXNbaV07XG5cdFx0XHRzdHIgKz0gXCI8dHI+XCI7XG5cdFx0XHRzdHIgKz0gXCI8dGQgcm93c3Bhbj0nXCIrbmFsdV9hcnJheS5sZW5ndGgrXCInPlwiK25hbHVfYXJyYXkuY29tcGxldGVuZXNzK1wiPC90ZD5cIjtcblx0XHRcdHN0ciArPSBcIjx0ZCByb3dzcGFuPSdcIituYWx1X2FycmF5Lmxlbmd0aCtcIic+XCIrbmFsdV9hcnJheS5uYWx1X3R5cGUrXCI8L3RkPlwiO1xuXHRcdFx0Zm9yICh2YXIgaj0wOyBqPG5hbHVfYXJyYXkubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0dmFyIG5hbHUgPSBuYWx1X2FycmF5W2pdO1xuXHRcdFx0XHRpZiAoaiAhPT0gMCkgc3RyICs9IFwiPHRyPlwiO1xuXHRcdFx0XHRzdHIgKz0gXCI8dGQ+XCI7XG5cdFx0XHRcdHN0ciArPSBuYWx1LmRhdGEucmVkdWNlKGZ1bmN0aW9uKHN0ciwgYnl0ZSkge1xuXHRcdFx0XHRcdHJldHVybiBzdHIgKyBieXRlLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRcdH0sIFwiMHhcIik7XG5cdFx0XHRcdHN0ciArPSBcIjwvdGQ+PC90cj5cIjtcblx0XHRcdH1cblx0XHR9XG5cdFx0c3RyICs9IFwiPC90Ym9keT48L3RhYmxlPlwiO1xuXHRcdHJldHVybiBzdHI7XG5cdH1cblx0dmFyIG51bU9mQXJyYXlzID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHRmb3IgKGkgPSAwOyBpIDwgbnVtT2ZBcnJheXM7IGkrKykge1xuXHRcdHZhciBuYWx1X2FycmF5ID0gW107XG5cdFx0dGhpcy5uYWx1X2FycmF5cy5wdXNoKG5hbHVfYXJyYXkpO1xuXHRcdHRtcF9ieXRlID0gc3RyZWFtLnJlYWRVaW50OCgpXG5cdFx0bmFsdV9hcnJheS5jb21wbGV0ZW5lc3MgPSAodG1wX2J5dGUgJiAweDgwKSA+PiA3O1xuXHRcdG5hbHVfYXJyYXkubmFsdV90eXBlID0gdG1wX2J5dGUgJiAweDNGO1xuXHRcdHZhciBudW1OYWx1cyA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG5cdFx0Zm9yIChqID0gMDsgaiA8IG51bU5hbHVzOyBqKyspIHtcblx0XHRcdHZhciBuYWx1ID0ge31cblx0XHRcdG5hbHVfYXJyYXkucHVzaChuYWx1KTtcblx0XHRcdGxlbmd0aCA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG5cdFx0XHRuYWx1LmRhdGEgICA9IHN0cmVhbS5yZWFkVWludDhBcnJheShsZW5ndGgpO1xuXHRcdH1cblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvaWluZi5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwiaWluZlwiLCBcIkl0ZW1JbmZvQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR2YXIgcmV0O1xuXHRpZiAodGhpcy52ZXJzaW9uID09PSAwKSB7XG5cdFx0dGhpcy5lbnRyeV9jb3VudCA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5lbnRyeV9jb3VudCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdH1cblx0dGhpcy5pdGVtX2luZm9zID0gW107XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5lbnRyeV9jb3VudDsgaSsrKSB7XG5cdFx0cmV0ID0gQm94UGFyc2VyLnBhcnNlT25lQm94KHN0cmVhbSwgZmFsc2UsIHRoaXMuc2l6ZSAtIChzdHJlYW0uZ2V0UG9zaXRpb24oKSAtIHRoaXMuc3RhcnQpKTtcblx0XHRpZiAocmV0LmNvZGUgPT09IEJveFBhcnNlci5PSykge1xuXHRcdFx0aWYgKHJldC5ib3gudHlwZSAhPT0gXCJpbmZlXCIpIHtcblx0XHRcdFx0TG9nLmVycm9yKFwiQm94UGFyc2VyXCIsIFwiRXhwZWN0ZWQgJ2luZmUnIGJveCwgZ290IFwiK3JldC5ib3gudHlwZSk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLml0ZW1faW5mb3NbaV0gPSByZXQuYm94O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9pbG9jLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJpbG9jXCIsIFwiSXRlbUxvY2F0aW9uQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR2YXIgYnl0ZTtcblx0Ynl0ZSA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0dGhpcy5vZmZzZXRfc2l6ZSA9IChieXRlID4+IDQpICYgMHhGO1xuXHR0aGlzLmxlbmd0aF9zaXplID0gYnl0ZSAmIDB4Rjtcblx0Ynl0ZSA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0dGhpcy5iYXNlX29mZnNldF9zaXplID0gKGJ5dGUgPj4gNCkgJiAweEY7XG5cdGlmICh0aGlzLnZlcnNpb24gPT09IDEgfHwgdGhpcy52ZXJzaW9uID09PSAyKSB7XG5cdFx0dGhpcy5pbmRleF9zaXplID0gYnl0ZSAmIDB4Rjtcblx0fSBlbHNlIHtcblx0XHR0aGlzLmluZGV4X3NpemUgPSAwO1xuXHRcdC8vIHJlc2VydmVkID0gYnl0ZSAmIDB4Rjtcblx0fVxuXHR0aGlzLml0ZW1zID0gW107XG5cdHZhciBpdGVtX2NvdW50ID0gMDtcblx0aWYgKHRoaXMudmVyc2lvbiA8IDIpIHtcblx0XHRpdGVtX2NvdW50ID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0fSBlbHNlIGlmICh0aGlzLnZlcnNpb24gPT09IDIpIHtcblx0XHRpdGVtX2NvdW50ID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBcInZlcnNpb24gb2YgaWxvYyBib3ggbm90IHN1cHBvcnRlZFwiO1xuXHR9XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbV9jb3VudDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSB7fTtcblx0XHR0aGlzLml0ZW1zLnB1c2goaXRlbSk7XG5cdFx0aWYgKHRoaXMudmVyc2lvbiA8IDIpIHtcblx0XHRcdGl0ZW0uaXRlbV9JRCA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG5cdFx0fSBlbHNlIGlmICh0aGlzLnZlcnNpb24gPT09IDIpIHtcblx0XHRcdGl0ZW0uaXRlbV9JRCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IFwidmVyc2lvbiBvZiBpbG9jIGJveCBub3Qgc3VwcG9ydGVkXCI7XG5cdFx0fVxuXHRcdGlmICh0aGlzLnZlcnNpb24gPT09IDEgfHwgdGhpcy52ZXJzaW9uID09PSAyKSB7XG5cdFx0XHRpdGVtLmNvbnN0cnVjdGlvbl9tZXRob2QgPSAoc3RyZWFtLnJlYWRVaW50MTYoKSAmIDB4Rik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGl0ZW0uY29uc3RydWN0aW9uX21ldGhvZCA9IDA7XG5cdFx0fVxuXHRcdGl0ZW0uZGF0YV9yZWZlcmVuY2VfaW5kZXggPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHRcdHN3aXRjaCh0aGlzLmJhc2Vfb2Zmc2V0X3NpemUpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aXRlbS5iYXNlX29mZnNldCA9IDA7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRpdGVtLmJhc2Vfb2Zmc2V0ID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdGl0ZW0uYmFzZV9vZmZzZXQgPSBzdHJlYW0ucmVhZFVpbnQ2NCgpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHRocm93IFwiRXJyb3IgcmVhZGluZyBiYXNlIG9mZnNldCBzaXplXCI7XG5cdFx0fVxuXHRcdHZhciBleHRlbnRfY291bnQgPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHRcdGl0ZW0uZXh0ZW50cyA9IFtdO1xuXHRcdGZvciAodmFyIGo9MDsgaiA8IGV4dGVudF9jb3VudDsgaisrKSB7XG5cdFx0XHR2YXIgZXh0ZW50ID0ge307XG5cdFx0XHRpdGVtLmV4dGVudHMucHVzaChleHRlbnQpO1xuXHRcdFx0aWYgKHRoaXMudmVyc2lvbiA9PT0gMSB8fCB0aGlzLnZlcnNpb24gPT09IDIpIHtcblx0XHRcdFx0c3dpdGNoKHRoaXMuaW5kZXhfc2l6ZSkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGV4dGVudC5leHRlbnRfaW5kZXggPSAwO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdFx0ZXh0ZW50LmV4dGVudF9pbmRleCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0XHRleHRlbnQuZXh0ZW50X2luZGV4ID0gc3RyZWFtLnJlYWRVaW50NjQoKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHR0aHJvdyBcIkVycm9yIHJlYWRpbmcgZXh0ZW50IGluZGV4XCI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHN3aXRjaCh0aGlzLm9mZnNldF9zaXplKSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRleHRlbnQuZXh0ZW50X29mZnNldCA9IDA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRleHRlbnQuZXh0ZW50X29mZnNldCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRleHRlbnQuZXh0ZW50X29mZnNldCA9IHN0cmVhbS5yZWFkVWludDY0KCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0dGhyb3cgXCJFcnJvciByZWFkaW5nIGV4dGVudCBpbmRleFwiO1xuXHRcdFx0fVxuXHRcdFx0c3dpdGNoKHRoaXMubGVuZ3RoX3NpemUpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGV4dGVudC5leHRlbnRfbGVuZ3RoID0gMDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdGV4dGVudC5leHRlbnRfbGVuZ3RoID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdGV4dGVudC5leHRlbnRfbGVuZ3RoID0gc3RyZWFtLnJlYWRVaW50NjQoKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHR0aHJvdyBcIkVycm9yIHJlYWRpbmcgZXh0ZW50IGluZGV4XCI7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9pbWlyLmpzXG5Cb3hQYXJzZXIuY3JlYXRlQm94Q3RvcihcImltaXJcIiwgXCJJbWFnZU1pcnJvclwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dmFyIHRtcCA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0dGhpcy5yZXNlcnZlZCA9IHRtcCA+PiA3O1xuXHR0aGlzLmF4aXMgPSB0bXAgJiAxO1xufSk7Ly8gZmlsZTpzcmMvcGFyc2luZy9pbmZlLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJpbmZlXCIsIFwiSXRlbUluZm9FbnRyeVwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0aWYgKHRoaXMudmVyc2lvbiA9PT0gMCB8fCB0aGlzLnZlcnNpb24gPT09IDEpIHtcblx0XHR0aGlzLml0ZW1fSUQgPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHRcdHRoaXMuaXRlbV9wcm90ZWN0aW9uX2luZGV4ID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0XHR0aGlzLml0ZW1fbmFtZSA9IHN0cmVhbS5yZWFkQ1N0cmluZygpO1xuXHRcdHRoaXMuY29udGVudF90eXBlID0gc3RyZWFtLnJlYWRDU3RyaW5nKCk7XG5cdFx0dGhpcy5jb250ZW50X2VuY29kaW5nID0gc3RyZWFtLnJlYWRDU3RyaW5nKCk7XG5cdH1cblx0aWYgKHRoaXMudmVyc2lvbiA9PT0gMSkge1xuXHRcdHRoaXMuZXh0ZW5zaW9uX3R5cGUgPSBzdHJlYW0ucmVhZFN0cmluZyg0KTtcblx0XHRMb2cud2FybihcIkJveFBhcnNlclwiLCBcIkNhbm5vdCBwYXJzZSBleHRlbnNpb24gdHlwZVwiKTtcblx0XHRzdHJlYW0uc2Vlayh0aGlzLnN0YXJ0K3RoaXMuc2l6ZSk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdGlmICh0aGlzLnZlcnNpb24gPj0gMikge1xuXHRcdGlmICh0aGlzLnZlcnNpb24gPT09IDIpIHtcblx0XHRcdHRoaXMuaXRlbV9JRCA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG5cdFx0fSBlbHNlIGlmICh0aGlzLnZlcnNpb24gPT09IDMpIHtcblx0XHRcdHRoaXMuaXRlbV9JRCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0fVxuXHRcdHRoaXMuaXRlbV9wcm90ZWN0aW9uX2luZGV4ID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0XHR0aGlzLml0ZW1fdHlwZSA9IHN0cmVhbS5yZWFkU3RyaW5nKDQpO1xuXHRcdHRoaXMuaXRlbV9uYW1lID0gc3RyZWFtLnJlYWRDU3RyaW5nKCk7XG5cdFx0aWYgKHRoaXMuaXRlbV90eXBlID09PSBcIm1pbWVcIikge1xuXHRcdFx0dGhpcy5jb250ZW50X3R5cGUgPSBzdHJlYW0ucmVhZENTdHJpbmcoKTtcblx0XHRcdHRoaXMuY29udGVudF9lbmNvZGluZyA9IHN0cmVhbS5yZWFkQ1N0cmluZygpO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5pdGVtX3R5cGUgPT09IFwidXJpIFwiKSB7XG5cdFx0XHR0aGlzLml0ZW1fdXJpX3R5cGUgPSBzdHJlYW0ucmVhZENTdHJpbmcoKTtcblx0XHR9XG5cdH1cbn0pO1xuLy8gZmlsZTpzcmMvcGFyc2luZy9pcG1hLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJpcG1hXCIsIFwiSXRlbVByb3BlcnR5QXNzb2NpYXRpb25Cb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHZhciBpLCBqO1xuXHRlbnRyeV9jb3VudCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdHRoaXMuYXNzb2NpYXRpb25zID0gW107XG5cdGZvcihpPTA7IGk8ZW50cnlfY291bnQ7IGkrKykge1xuXHRcdHZhciBpdGVtX2Fzc29jID0ge307XG5cdFx0dGhpcy5hc3NvY2lhdGlvbnMucHVzaChpdGVtX2Fzc29jKTtcblx0XHRpZiAodGhpcy52ZXJzaW9uIDwgMSkge1xuXHRcdFx0aXRlbV9hc3NvYy5pZCA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGl0ZW1fYXNzb2MuaWQgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRcdH1cblx0XHR2YXIgYXNzb2NpYXRpb25fY291bnQgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdFx0aXRlbV9hc3NvYy5wcm9wcyA9IFtdO1xuXHRcdGZvciAoaiA9IDA7IGogPCBhc3NvY2lhdGlvbl9jb3VudDsgaisrKSB7XG5cdFx0XHR2YXIgdG1wID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHRcdFx0dmFyIHAgPSB7fTtcblx0XHRcdGl0ZW1fYXNzb2MucHJvcHMucHVzaChwKTtcblx0XHRcdHAuZXNzZW50aWFsID0gKCh0bXAgJiAweDgwKSA+PiA3KSA9PT0gMTtcblx0XHRcdGlmICh0aGlzLmZsYWdzICYgMHgxKSB7XG5cdFx0XHRcdHAucHJvcGVydHlfaW5kZXggPSAodG1wICYgMHg3RikgPDwgOCB8IHN0cmVhbS5yZWFkVWludDgoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHAucHJvcGVydHlfaW5kZXggPSAodG1wICYgMHg3Rik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9pcmVmLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJpcmVmXCIsIFwiSXRlbVJlZmVyZW5jZUJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dmFyIHJldDtcblx0dmFyIGVudHJ5Q291bnQ7XG5cdHZhciBib3g7XG5cdHRoaXMucmVmZXJlbmNlcyA9IFtdO1xuXG5cdHdoaWxlIChzdHJlYW0uZ2V0UG9zaXRpb24oKSA8IHRoaXMuc3RhcnQrdGhpcy5zaXplKSB7XG5cdFx0cmV0ID0gQm94UGFyc2VyLnBhcnNlT25lQm94KHN0cmVhbSwgdHJ1ZSwgdGhpcy5zaXplIC0gKHN0cmVhbS5nZXRQb3NpdGlvbigpIC0gdGhpcy5zdGFydCkpO1xuXHRcdGlmIChyZXQuY29kZSA9PT0gQm94UGFyc2VyLk9LKSB7XG5cdFx0XHRpZiAodGhpcy52ZXJzaW9uID09PSAwKSB7XG5cdFx0XHRcdGJveCA9IG5ldyBCb3hQYXJzZXIuU2luZ2xlSXRlbVR5cGVSZWZlcmVuY2VCb3gocmV0LnR5cGUsIHJldC5zaXplLCByZXQuaGRyX3NpemUsIHJldC5zdGFydCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRib3ggPSBuZXcgQm94UGFyc2VyLlNpbmdsZUl0ZW1UeXBlUmVmZXJlbmNlQm94TGFyZ2UocmV0LnR5cGUsIHJldC5zaXplLCByZXQuaGRyX3NpemUsIHJldC5zdGFydCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoYm94LndyaXRlID09PSBCb3hQYXJzZXIuQm94LnByb3RvdHlwZS53cml0ZSAmJiBib3gudHlwZSAhPT0gXCJtZGF0XCIpIHtcblx0XHRcdFx0TG9nLndhcm4oXCJCb3hQYXJzZXJcIiwgYm94LnR5cGUrXCIgYm94IHdyaXRpbmcgbm90IHlldCBpbXBsZW1lbnRlZCwga2VlcGluZyB1bnBhcnNlZCBkYXRhIGluIG1lbW9yeSBmb3IgbGF0ZXIgd3JpdGVcIik7XG5cdFx0XHRcdGJveC5wYXJzZURhdGFBbmRSZXdpbmQoc3RyZWFtKTtcblx0XHRcdH1cblx0XHRcdGJveC5wYXJzZShzdHJlYW0pO1xuXHRcdFx0dGhpcy5yZWZlcmVuY2VzLnB1c2goYm94KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fVxufSk7XG4vLyBmaWxlOnNyYy9wYXJzaW5nL2lyb3QuanNcbkJveFBhcnNlci5jcmVhdGVCb3hDdG9yKFwiaXJvdFwiLCBcIkltYWdlUm90YXRpb25cIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMuYW5nbGUgPSBzdHJlYW0ucmVhZFVpbnQ4KCkgJiAweDM7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9pc3BlLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJpc3BlXCIsIFwiSW1hZ2VTcGF0aWFsRXh0ZW50c1Byb3BlcnR5XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLmltYWdlX3dpZHRoID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0dGhpcy5pbWFnZV9oZWlnaHQgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xufSk7Ly8gZmlsZTpzcmMvcGFyc2luZy9raW5kLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJraW5kXCIsIFwiS2luZEJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5zY2hlbWVVUkkgPSBzdHJlYW0ucmVhZENTdHJpbmcoKTtcblx0dGhpcy52YWx1ZSA9IHN0cmVhbS5yZWFkQ1N0cmluZygpO1xufSk7XG4vLyBmaWxlOnNyYy9wYXJzaW5nL2xldmEuanNcbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcImxldmFcIiwgXCJMZXZlbEFzc2lnbm1lbnRCb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHZhciBjb3VudCA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0dGhpcy5sZXZlbHMgPSBbXTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG5cdFx0dmFyIGxldmVsID0ge307XG5cdFx0dGhpcy5sZXZlbHNbaV0gPSBsZXZlbDtcblx0XHRsZXZlbC50cmFja19JRCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0dmFyIHRtcF9ieXRlID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHRcdGxldmVsLnBhZGRpbmdfZmxhZyA9IHRtcF9ieXRlID4+IDc7XG5cdFx0bGV2ZWwuYXNzaWdubWVudF90eXBlID0gdG1wX2J5dGUgJiAweDdGO1xuXHRcdHN3aXRjaCAobGV2ZWwuYXNzaWdubWVudF90eXBlKSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGxldmVsLmdyb3VwaW5nX3R5cGUgPSBzdHJlYW0ucmVhZFN0cmluZyg0KTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIDE6XG5cdFx0XHRcdGxldmVsLmdyb3VwaW5nX3R5cGUgPSBzdHJlYW0ucmVhZFN0cmluZyg0KTtcblx0XHRcdFx0bGV2ZWwuZ3JvdXBpbmdfdHlwZV9wYXJhbWV0ZXIgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRsZXZlbC5zdWJfdHJhY2tfaWQgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdExvZy53YXJuKFwiQm94UGFyc2VyXCIsIFwiVW5rbm93biBsZXZhIGFzc2lnbmVtZW50IHR5cGVcIik7XG5cdFx0fVxuXHR9XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9saHZDLmpzXG5Cb3hQYXJzZXIuY3JlYXRlQm94Q3RvcihcImxodkNcIiwgXCJMSEVWQ0NvbmZpZ3VyYXRpb25Cb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHZhciBpLCBqO1xuXHR2YXIgdG1wX2J5dGU7XG5cdHRoaXMuY29uZmlndXJhdGlvblZlcnNpb24gPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdHRoaXMubWluX3NwYXRpYWxfc2VnbWVudGF0aW9uX2lkYyA9IHN0cmVhbS5yZWFkVWludDE2KCkgJiAweEZGRjtcblx0dGhpcy5wYXJhbGxlbGlzbVR5cGUgPSAoc3RyZWFtLnJlYWRVaW50OCgpICYgMHgzKTtcblx0dG1wX2J5dGUgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdHRoaXMubnVtVGVtcG9yYWxMYXllcnMgPSAodG1wX2J5dGUgJiAwWEQpID4+IDM7XG5cdHRoaXMudGVtcG9yYWxJZE5lc3RlZCA9ICh0bXBfYnl0ZSAmIDBYNCkgPj4gMjtcblx0dGhpcy5sZW5ndGhTaXplTWludXNPbmUgPSAodG1wX2J5dGUgJiAwWDMpO1xuXG5cdHRoaXMubmFsdV9hcnJheXMgPSBbXTtcblx0dGhpcy5uYWx1X2FycmF5cy50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgc3RyID0gXCI8dGFibGUgY2xhc3M9J2lubmVyLXRhYmxlJz5cIjtcblx0XHRzdHIgKz0gXCI8dGhlYWQ+PHRyPjx0aD5jb21wbGV0ZW5lc3M8L3RoPjx0aD5uYWx1X3R5cGU8L3RoPjx0aD5uYWx1X2RhdGE8L3RoPjwvdHI+PC90aGVhZD5cIjtcblx0XHRzdHIgKz0gXCI8dGJvZHk+XCI7XG5cblx0XHRmb3IgKHZhciBpPTA7IGk8dGhpcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIG5hbHVfYXJyYXkgPSB0aGlzW2ldO1xuXHRcdFx0c3RyICs9IFwiPHRyPlwiO1xuXHRcdFx0c3RyICs9IFwiPHRkIHJvd3NwYW49J1wiK25hbHVfYXJyYXkubGVuZ3RoK1wiJz5cIituYWx1X2FycmF5LmNvbXBsZXRlbmVzcytcIjwvdGQ+XCI7XG5cdFx0XHRzdHIgKz0gXCI8dGQgcm93c3Bhbj0nXCIrbmFsdV9hcnJheS5sZW5ndGgrXCInPlwiK25hbHVfYXJyYXkubmFsdV90eXBlK1wiPC90ZD5cIjtcblx0XHRcdGZvciAodmFyIGo9MDsgajxuYWx1X2FycmF5Lmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHZhciBuYWx1ID0gbmFsdV9hcnJheVtqXTtcblx0XHRcdFx0aWYgKGogIT09IDApIHN0ciArPSBcIjx0cj5cIjtcblx0XHRcdFx0c3RyICs9IFwiPHRkPlwiO1xuXHRcdFx0XHRzdHIgKz0gbmFsdS5kYXRhLnJlZHVjZShmdW5jdGlvbihzdHIsIGJ5dGUpIHtcblx0XHRcdFx0XHRyZXR1cm4gc3RyICsgYnl0ZS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0XHR9LCBcIjB4XCIpO1xuXHRcdFx0XHRzdHIgKz0gXCI8L3RkPjwvdHI+XCI7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHN0ciArPSBcIjwvdGJvZHk+PC90YWJsZT5cIjtcblx0XHRyZXR1cm4gc3RyO1xuXHR9XG5cdHZhciBudW1PZkFycmF5cyA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0Zm9yIChpID0gMDsgaSA8IG51bU9mQXJyYXlzOyBpKyspIHtcblx0XHR2YXIgbmFsdV9hcnJheSA9IFtdO1xuXHRcdHRoaXMubmFsdV9hcnJheXMucHVzaChuYWx1X2FycmF5KTtcblx0XHR0bXBfYnl0ZSA9IHN0cmVhbS5yZWFkVWludDgoKVxuXHRcdG5hbHVfYXJyYXkuY29tcGxldGVuZXNzID0gKHRtcF9ieXRlICYgMHg4MCkgPj4gNztcblx0XHRuYWx1X2FycmF5Lm5hbHVfdHlwZSA9IHRtcF9ieXRlICYgMHgzRjtcblx0XHR2YXIgbnVtTmFsdXMgPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHRcdGZvciAoaiA9IDA7IGogPCBudW1OYWx1czsgaisrKSB7XG5cdFx0XHR2YXIgbmFsdSA9IHt9XG5cdFx0XHRuYWx1X2FycmF5LnB1c2gobmFsdSk7XG5cdFx0XHR2YXIgbGVuZ3RoID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0XHRcdG5hbHUuZGF0YSAgPSBzdHJlYW0ucmVhZFVpbnQ4QXJyYXkobGVuZ3RoKTtcblx0XHR9XG5cdH1cbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL2xzZWwuanNcbkJveFBhcnNlci5jcmVhdGVCb3hDdG9yKFwibHNlbFwiLCBcIkxheWVyU2VsZWN0b3JQcm9wZXJ0eVwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5sYXllcl9pZCA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG59KTsvLyBmaWxlOnNyYy9wYXJzaW5nL21heHIuanNcbkJveFBhcnNlci5jcmVhdGVCb3hDdG9yKFwibWF4clwiLCBcImhpbnRtYXhyYXRlXCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnBlcmlvZCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdHRoaXMuYnl0ZXMgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvbWRjdi5qc1xuZnVuY3Rpb24gQ29sb3JQb2ludCh4LCB5KSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xufVxuXG5Db2xvclBvaW50LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIihcIit0aGlzLngrXCIsXCIrdGhpcy55K1wiKVwiO1xufVxuXG5Cb3hQYXJzZXIuY3JlYXRlQm94Q3RvcihcIm1kY3ZcIiwgXCJNYXN0ZXJpbmdEaXNwbGF5Q29sb3VyVm9sdW1lQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgIHRoaXMuZGlzcGxheV9wcmltYXJpZXMgPSBbXTtcbiAgICB0aGlzLmRpc3BsYXlfcHJpbWFyaWVzWzBdID0gbmV3IENvbG9yUG9pbnQoc3RyZWFtLnJlYWRVaW50MTYoKSxzdHJlYW0ucmVhZFVpbnQxNigpKTtcbiAgICB0aGlzLmRpc3BsYXlfcHJpbWFyaWVzWzFdID0gbmV3IENvbG9yUG9pbnQoc3RyZWFtLnJlYWRVaW50MTYoKSxzdHJlYW0ucmVhZFVpbnQxNigpKTtcbiAgICB0aGlzLmRpc3BsYXlfcHJpbWFyaWVzWzJdID0gbmV3IENvbG9yUG9pbnQoc3RyZWFtLnJlYWRVaW50MTYoKSxzdHJlYW0ucmVhZFVpbnQxNigpKTtcbiAgICB0aGlzLndoaXRlX3BvaW50ID0gbmV3IENvbG9yUG9pbnQoc3RyZWFtLnJlYWRVaW50MTYoKSxzdHJlYW0ucmVhZFVpbnQxNigpKTtcbiAgICB0aGlzLm1heF9kaXNwbGF5X21hc3RlcmluZ19sdW1pbmFuY2UgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuICAgIHRoaXMubWluX2Rpc3BsYXlfbWFzdGVyaW5nX2x1bWluYW5jZSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9tZGhkLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJtZGhkXCIsIFwiTWVkaWFIZWFkZXJCb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdGlmICh0aGlzLnZlcnNpb24gPT0gMSkge1xuXHRcdHRoaXMuY3JlYXRpb25fdGltZSA9IHN0cmVhbS5yZWFkVWludDY0KCk7XG5cdFx0dGhpcy5tb2RpZmljYXRpb25fdGltZSA9IHN0cmVhbS5yZWFkVWludDY0KCk7XG5cdFx0dGhpcy50aW1lc2NhbGUgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRcdHRoaXMuZHVyYXRpb24gPSBzdHJlYW0ucmVhZFVpbnQ2NCgpO1xuXHR9IGVsc2Uge1xuXHRcdHRoaXMuY3JlYXRpb25fdGltZSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0dGhpcy5tb2RpZmljYXRpb25fdGltZSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0dGhpcy50aW1lc2NhbGUgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRcdHRoaXMuZHVyYXRpb24gPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHR9XG5cdHRoaXMucGFyc2VMYW5ndWFnZShzdHJlYW0pO1xuXHRzdHJlYW0ucmVhZFVpbnQxNigpO1xufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvbWVoZC5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwibWVoZFwiLCBcIk1vdmllRXh0ZW5kc0hlYWRlckJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0aWYgKHRoaXMuZmxhZ3MgJiAweDEpIHtcblx0XHRMb2cud2FybihcIkJveFBhcnNlclwiLCBcIm1laGQgYm94IGluY29ycmVjdGx5IHVzZXMgZmxhZ3Mgc2V0IHRvIDEsIGNvbnZlcnRpbmcgdmVyc2lvbiB0byAxXCIpO1xuXHRcdHRoaXMudmVyc2lvbiA9IDE7XG5cdH1cblx0aWYgKHRoaXMudmVyc2lvbiA9PSAxKSB7XG5cdFx0dGhpcy5mcmFnbWVudF9kdXJhdGlvbiA9IHN0cmVhbS5yZWFkVWludDY0KCk7XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5mcmFnbWVudF9kdXJhdGlvbiA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdH1cbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL21ldGEuanNcbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcIm1ldGFcIiwgXCJNZXRhQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLmJveGVzID0gW107XG5cdEJveFBhcnNlci5Db250YWluZXJCb3gucHJvdG90eXBlLnBhcnNlLmNhbGwodGhpcywgc3RyZWFtKTtcbn0pO1xuLy8gZmlsZTpzcmMvcGFyc2luZy9tZmhkLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJtZmhkXCIsIFwiTW92aWVGcmFnbWVudEhlYWRlckJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5zZXF1ZW5jZV9udW1iZXIgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvbWZyby5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwibWZyb1wiLCBcIk1vdmllRnJhZ21lbnRSYW5kb21BY2Nlc3NPZmZzZXRCb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMuX3NpemUgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvbXNrQy5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwibXNrQ1wiLCBcIk1hc2tDb25maWd1cmF0aW9uUHJvcGVydHlcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG4gICAgdGhpcy5iaXRzX3Blcl9waXhlbCA9IHN0cmVhbS5yZWFkVWludDgoKTtcbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL212aGQuanNcbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcIm12aGRcIiwgXCJNb3ZpZUhlYWRlckJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0aWYgKHRoaXMudmVyc2lvbiA9PSAxKSB7XG5cdFx0dGhpcy5jcmVhdGlvbl90aW1lID0gc3RyZWFtLnJlYWRVaW50NjQoKTtcblx0XHR0aGlzLm1vZGlmaWNhdGlvbl90aW1lID0gc3RyZWFtLnJlYWRVaW50NjQoKTtcblx0XHR0aGlzLnRpbWVzY2FsZSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0dGhpcy5kdXJhdGlvbiA9IHN0cmVhbS5yZWFkVWludDY0KCk7XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5jcmVhdGlvbl90aW1lID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0XHR0aGlzLm1vZGlmaWNhdGlvbl90aW1lID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0XHR0aGlzLnRpbWVzY2FsZSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0dGhpcy5kdXJhdGlvbiA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdH1cblx0dGhpcy5yYXRlID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0dGhpcy52b2x1bWUgPSBzdHJlYW0ucmVhZFVpbnQxNigpPj44O1xuXHRzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHRzdHJlYW0ucmVhZFVpbnQzMkFycmF5KDIpO1xuXHR0aGlzLm1hdHJpeCA9IHN0cmVhbS5yZWFkVWludDMyQXJyYXkoOSk7XG5cdHN0cmVhbS5yZWFkVWludDMyQXJyYXkoNik7XG5cdHRoaXMubmV4dF90cmFja19pZCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG59KTtcbi8vIGZpbGU6c3JjL3BhcnNpbmcvbnBjay5qc1xuQm94UGFyc2VyLmNyZWF0ZUJveEN0b3IoXCJucGNrXCIsIFwiaGludFBhY2tldHNTZW50XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnBhY2tldHNzZW50ID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL251bXAuanNcbkJveFBhcnNlci5jcmVhdGVCb3hDdG9yKFwibnVtcFwiLCBcImhpbnRQYWNrZXRzU2VudFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5wYWNrZXRzc2VudCA9IHN0cmVhbS5yZWFkVWludDY0KCk7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9wYWRiLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJwYWRiXCIsIFwiUGFkZGluZ0JpdHNCb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHZhciBzYW1wbGVfY291bnQgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHR0aGlzLnBhZGJpdHMgPSBbXTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBNYXRoLmZsb29yKChzYW1wbGVfY291bnQrMSkvMik7IGkrKykge1xuXHRcdHRoaXMucGFkYml0cyA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvcGFzcC5qc1xuQm94UGFyc2VyLmNyZWF0ZUJveEN0b3IoXCJwYXNwXCIsIFwiUGl4ZWxBc3BlY3RSYXRpb0JveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5oU3BhY2luZyA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdHRoaXMudlNwYWNpbmcgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xufSk7Ly8gZmlsZTpzcmMvcGFyc2luZy9wYXlsLmpzXG5Cb3hQYXJzZXIuY3JlYXRlQm94Q3RvcihcInBheWxcIiwgXCJDdWVQYXlsb2FkQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnRleHQgPSBzdHJlYW0ucmVhZFN0cmluZyh0aGlzLnNpemUgLSB0aGlzLmhkcl9zaXplKTtcbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3BheXQuanNcbkJveFBhcnNlci5jcmVhdGVCb3hDdG9yKFwicGF5dFwiLCBcImhpbnRwYXlsb2FkSURcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMucGF5bG9hZElEID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0dmFyIGNvdW50ID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHR0aGlzLnJ0cG1hcF9zdHJpbmcgPSBzdHJlYW0ucmVhZFN0cmluZyhjb3VudCk7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9wZGluLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJwZGluXCIsIFwiUHJvZ3Jlc3NpdmVEb3dubG9hZEluZm9Cb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHZhciBjb3VudCA9ICh0aGlzLnNpemUgLSB0aGlzLmhkcl9zaXplKS84O1xuXHR0aGlzLnJhdGUgPSBbXTtcblx0dGhpcy5pbml0aWFsX2RlbGF5ID0gW107XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuXHRcdHRoaXMucmF0ZVtpXSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0dGhpcy5pbml0aWFsX2RlbGF5W2ldID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvcGl0bS5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwicGl0bVwiLCBcIlByaW1hcnlJdGVtQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHRpZiAodGhpcy52ZXJzaW9uID09PSAwKSB7XG5cdFx0dGhpcy5pdGVtX2lkID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0fSBlbHNlIHtcblx0XHR0aGlzLml0ZW1faWQgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHR9XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9waXhpLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJwaXhpXCIsIFwiUGl4ZWxJbmZvcm1hdGlvblByb3BlcnR5XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR2YXIgaTtcblx0dGhpcy5udW1fY2hhbm5lbHMgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdHRoaXMuYml0c19wZXJfY2hhbm5lbHMgPSBbXTtcblx0Zm9yIChpID0gMDsgaSA8IHRoaXMubnVtX2NoYW5uZWxzOyBpKyspIHtcblx0XHR0aGlzLmJpdHNfcGVyX2NoYW5uZWxzW2ldID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHR9XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9wbWF4LmpzXG5Cb3hQYXJzZXIuY3JlYXRlQm94Q3RvcihcInBtYXhcIiwgXCJoaW50bGFyZ2VzdHBhY2tldFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5ieXRlcyA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9wcmRpLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJwcmRpXCIsIFwiUHJvZ3Jlc3NpdmVEZXJpdmVkSW1hZ2VJdGVtSW5mb3JtYXRpb25Qcm9wZXJ0eVwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5zdGVwX2NvdW50ID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0dGhpcy5pdGVtX2NvdW50ID0gW107XG5cdGlmICh0aGlzLmZsYWdzICYgMHgyKSB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0ZXBfY291bnQ7IGkrKykge1xuXHRcdFx0dGhpcy5pdGVtX2NvdW50W2ldID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0XHR9XG5cdH1cbn0pOy8vIGZpbGU6c3JjL3BhcnNpbmcvcHJmdC5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwicHJmdFwiLCBcIlByb2R1Y2VyUmVmZXJlbmNlVGltZUJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5yZWZfdHJhY2tfaWQgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHR0aGlzLm50cF90aW1lc3RhbXAgPSBzdHJlYW0ucmVhZFVpbnQ2NCgpO1xuXHRpZiAodGhpcy52ZXJzaW9uID09PSAwKSB7XG5cdFx0dGhpcy5tZWRpYV90aW1lID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0fSBlbHNlIHtcblx0XHR0aGlzLm1lZGlhX3RpbWUgPSBzdHJlYW0ucmVhZFVpbnQ2NCgpO1xuXHR9XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9wc3NoLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJwc3NoXCIsIFwiUHJvdGVjdGlvblN5c3RlbVNwZWNpZmljSGVhZGVyQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnN5c3RlbV9pZCA9IEJveFBhcnNlci5wYXJzZUhleDE2KHN0cmVhbSk7XG5cdGlmICh0aGlzLnZlcnNpb24gPiAwKSB7XG5cdFx0dmFyIGNvdW50ID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0XHR0aGlzLmtpZCA9IFtdO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuXHRcdFx0dGhpcy5raWRbaV0gPSBCb3hQYXJzZXIucGFyc2VIZXgxNihzdHJlYW0pO1xuXHRcdH1cblx0fVxuXHR2YXIgZGF0YXNpemUgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRpZiAoZGF0YXNpemUgPiAwKSB7XG5cdFx0dGhpcy5kYXRhID0gc3RyZWFtLnJlYWRVaW50OEFycmF5KGRhdGFzaXplKTtcblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvcXQvY2xlZi5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwiY2xlZlwiLCBcIlRyYWNrQ2xlYW5BcGVydHVyZURpbWVuc2lvbnNCb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMud2lkdGggPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHR0aGlzLmhlaWdodCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG59KTsvLyBmaWxlOnNyYy9wYXJzaW5nL3F0L2Vub2YuanNcbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcImVub2ZcIiwgXCJUcmFja0VuY29kZWRQaXhlbHNEaW1lbnNpb25zQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLndpZHRoID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0dGhpcy5oZWlnaHQgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xufSk7Ly8gZmlsZTpzcmMvcGFyc2luZy9xdC9wcm9mLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJwcm9mXCIsIFwiVHJhY2tQcm9kdWN0aW9uQXBlcnR1cmVEaW1lbnNpb25zQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLndpZHRoID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0dGhpcy5oZWlnaHQgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xufSk7Ly8gZmlsZTpzcmMvcGFyc2luZy9xdC90YXB0LmpzXG5Cb3hQYXJzZXIuY3JlYXRlQ29udGFpbmVyQm94Q3RvcihcInRhcHRcIiwgXCJUcmFja0FwZXJ0dXJlTW9kZURpbWVuc2lvbnNCb3hcIiwgbnVsbCwgWyBcImNsZWZcIiwgXCJwcm9mXCIsIFwiZW5vZlwiXSk7Ly8gZmlsZTpzcmMvcGFyc2luZy9ydHAuanNcbkJveFBhcnNlci5jcmVhdGVCb3hDdG9yKFwicnRwIFwiLCBcInJ0cG1vdmllaGludGluZm9ybWF0aW9uXCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLmRlc2NyaXB0aW9uZm9ybWF0ID0gc3RyZWFtLnJlYWRTdHJpbmcoNCk7XG5cdHRoaXMuc2RwdGV4dCA9IHN0cmVhbS5yZWFkU3RyaW5nKHRoaXMuc2l6ZSAtIHRoaXMuaGRyX3NpemUgLSA0KTtcbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3NhaW8uanNcbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcInNhaW9cIiwgXCJTYW1wbGVBdXhpbGlhcnlJbmZvcm1hdGlvbk9mZnNldHNCb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdGlmICh0aGlzLmZsYWdzICYgMHgxKSB7XG5cdFx0dGhpcy5hdXhfaW5mb190eXBlID0gc3RyZWFtLnJlYWRTdHJpbmcoNCk7XG5cdFx0dGhpcy5hdXhfaW5mb190eXBlX3BhcmFtZXRlciA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdH1cblx0dmFyIGNvdW50ID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0dGhpcy5vZmZzZXQgPSBbXTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG5cdFx0aWYgKHRoaXMudmVyc2lvbiA9PT0gMCkge1xuXHRcdFx0dGhpcy5vZmZzZXRbaV0gPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLm9mZnNldFtpXSA9IHN0cmVhbS5yZWFkVWludDY0KCk7XG5cdFx0fVxuXHR9XG59KTtcbi8vIGZpbGU6c3JjL3BhcnNpbmcvc2Fpei5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwic2FpelwiLCBcIlNhbXBsZUF1eGlsaWFyeUluZm9ybWF0aW9uU2l6ZXNCb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdGlmICh0aGlzLmZsYWdzICYgMHgxKSB7XG5cdFx0dGhpcy5hdXhfaW5mb190eXBlID0gc3RyZWFtLnJlYWRTdHJpbmcoNCk7XG5cdFx0dGhpcy5hdXhfaW5mb190eXBlX3BhcmFtZXRlciA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdH1cblx0dGhpcy5kZWZhdWx0X3NhbXBsZV9pbmZvX3NpemUgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdHRoaXMuc2FtcGxlX2NvdW50ID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0dGhpcy5zYW1wbGVfaW5mb19zaXplID0gW107XG5cdGlmICh0aGlzLmRlZmF1bHRfc2FtcGxlX2luZm9fc2l6ZSA9PT0gMCkge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zYW1wbGVfY291bnQ7IGkrKykge1xuXHRcdFx0dGhpcy5zYW1wbGVfaW5mb19zaXplW2ldID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHRcdH1cblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvc2FtcGxlZW50cmllcy9tZXR0LmpzXG5Cb3hQYXJzZXIuY3JlYXRlU2FtcGxlRW50cnlDdG9yKEJveFBhcnNlci5TQU1QTEVfRU5UUllfVFlQRV9NRVRBREFUQSwgXCJtZXR0XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnBhcnNlSGVhZGVyKHN0cmVhbSk7XG5cdHRoaXMuY29udGVudF9lbmNvZGluZyA9IHN0cmVhbS5yZWFkQ1N0cmluZygpO1xuXHR0aGlzLm1pbWVfZm9ybWF0ID0gc3RyZWFtLnJlYWRDU3RyaW5nKCk7XG5cdHRoaXMucGFyc2VGb290ZXIoc3RyZWFtKTtcbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3NhbXBsZWVudHJpZXMvbWV0eC5qc1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfTUVUQURBVEEsIFwibWV0eFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5wYXJzZUhlYWRlcihzdHJlYW0pO1xuXHR0aGlzLmNvbnRlbnRfZW5jb2RpbmcgPSBzdHJlYW0ucmVhZENTdHJpbmcoKTtcblx0dGhpcy5uYW1lc3BhY2UgPSBzdHJlYW0ucmVhZENTdHJpbmcoKTtcblx0dGhpcy5zY2hlbWFfbG9jYXRpb24gPSBzdHJlYW0ucmVhZENTdHJpbmcoKTtcblx0dGhpcy5wYXJzZUZvb3RlcihzdHJlYW0pO1xufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvc2FtcGxlZW50cmllcy9zYnR0LmpzXG5Cb3hQYXJzZXIuY3JlYXRlU2FtcGxlRW50cnlDdG9yKEJveFBhcnNlci5TQU1QTEVfRU5UUllfVFlQRV9TVUJUSVRMRSwgXCJzYnR0XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnBhcnNlSGVhZGVyKHN0cmVhbSk7XG5cdHRoaXMuY29udGVudF9lbmNvZGluZyA9IHN0cmVhbS5yZWFkQ1N0cmluZygpO1xuXHR0aGlzLm1pbWVfZm9ybWF0ID0gc3RyZWFtLnJlYWRDU3RyaW5nKCk7XG5cdHRoaXMucGFyc2VGb290ZXIoc3RyZWFtKTtcbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3NhbXBsZWVudHJpZXMvc3RwcC5qc1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfU1VCVElUTEUsIFwic3RwcFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5wYXJzZUhlYWRlcihzdHJlYW0pO1xuXHR0aGlzLm5hbWVzcGFjZSA9IHN0cmVhbS5yZWFkQ1N0cmluZygpO1xuXHR0aGlzLnNjaGVtYV9sb2NhdGlvbiA9IHN0cmVhbS5yZWFkQ1N0cmluZygpO1xuXHR0aGlzLmF1eGlsaWFyeV9taW1lX3R5cGVzID0gc3RyZWFtLnJlYWRDU3RyaW5nKCk7XG5cdHRoaXMucGFyc2VGb290ZXIoc3RyZWFtKTtcbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3NhbXBsZWVudHJpZXMvc3R4dC5qc1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfU1VCVElUTEUsIFwic3R4dFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5wYXJzZUhlYWRlcihzdHJlYW0pO1xuXHR0aGlzLmNvbnRlbnRfZW5jb2RpbmcgPSBzdHJlYW0ucmVhZENTdHJpbmcoKTtcblx0dGhpcy5taW1lX2Zvcm1hdCA9IHN0cmVhbS5yZWFkQ1N0cmluZygpO1xuXHR0aGlzLnBhcnNlRm9vdGVyKHN0cmVhbSk7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9zYW1wbGVlbnRyaWVzL3R4M2cuanNcbkJveFBhcnNlci5jcmVhdGVTYW1wbGVFbnRyeUN0b3IoQm94UGFyc2VyLlNBTVBMRV9FTlRSWV9UWVBFX1NVQlRJVExFLCBcInR4M2dcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMucGFyc2VIZWFkZXIoc3RyZWFtKTtcblx0dGhpcy5kaXNwbGF5RmxhZ3MgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHR0aGlzLmhvcml6b250YWxfanVzdGlmaWNhdGlvbiA9IHN0cmVhbS5yZWFkSW50OCgpO1xuXHR0aGlzLnZlcnRpY2FsX2p1c3RpZmljYXRpb24gPSBzdHJlYW0ucmVhZEludDgoKTtcblx0dGhpcy5iZ19jb2xvcl9yZ2JhID0gc3RyZWFtLnJlYWRVaW50OEFycmF5KDQpO1xuXHR0aGlzLmJveF9yZWNvcmQgPSBzdHJlYW0ucmVhZEludDE2QXJyYXkoNCk7XG5cdHRoaXMuc3R5bGVfcmVjb3JkID0gc3RyZWFtLnJlYWRVaW50OEFycmF5KDEyKTtcblx0dGhpcy5wYXJzZUZvb3RlcihzdHJlYW0pO1xufSk7XG4vLyBmaWxlOnNyYy9wYXJzaW5nL3NhbXBsZWVudHJpZXMvd3Z0dC5qc1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUVudHJ5Q3RvcihCb3hQYXJzZXIuU0FNUExFX0VOVFJZX1RZUEVfTUVUQURBVEEsIFwid3Z0dFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5wYXJzZUhlYWRlcihzdHJlYW0pO1xuXHR0aGlzLnBhcnNlRm9vdGVyKHN0cmVhbSk7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9zYW1wbGVncm91cHMvYWxzdC5qc1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUdyb3VwQ3RvcihcImFsc3RcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHZhciBpO1xuXHR2YXIgcm9sbF9jb3VudCA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG5cdHRoaXMuZmlyc3Rfb3V0cHV0X3NhbXBsZSA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG5cdHRoaXMuc2FtcGxlX29mZnNldCA9IFtdO1xuXHRmb3IgKGkgPSAwOyBpIDwgcm9sbF9jb3VudDsgaSsrKSB7XG5cdFx0dGhpcy5zYW1wbGVfb2Zmc2V0W2ldID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0fVxuXHR2YXIgcmVtYWluaW5nID0gdGhpcy5kZXNjcmlwdGlvbl9sZW5ndGggLSA0IC0gNCpyb2xsX2NvdW50O1xuXHR0aGlzLm51bV9vdXRwdXRfc2FtcGxlcyA9IFtdO1xuXHR0aGlzLm51bV90b3RhbF9zYW1wbGVzID0gW107XG5cdGZvciAoaSA9IDA7IGkgPCByZW1haW5pbmcvNDsgaSsrKSB7XG5cdFx0dGhpcy5udW1fb3V0cHV0X3NhbXBsZXNbaV0gPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHRcdHRoaXMubnVtX3RvdGFsX3NhbXBsZXNbaV0gPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHR9XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9zYW1wbGVncm91cHMvYXZsbC5qc1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUdyb3VwQ3RvcihcImF2bGxcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMubGF5ZXJOdW1iZXIgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdHRoaXMuYWNjdXJhdGVTdGF0aXN0aWNzRmxhZyA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0dGhpcy5hdmdCaXRSYXRlID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0dGhpcy5hdmdGcmFtZVJhdGUgPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvc2FtcGxlZ3JvdXBzL2F2c3MuanNcbkJveFBhcnNlci5jcmVhdGVTYW1wbGVHcm91cEN0b3IoXCJhdnNzXCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnN1YlNlcXVlbmNlSWRlbnRpZmllciA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG5cdHRoaXMubGF5ZXJOdW1iZXIgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdHZhciB0bXBfYnl0ZSA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0dGhpcy5kdXJhdGlvbkZsYWcgPSB0bXBfYnl0ZSA+PiA3O1xuXHR0aGlzLmF2Z1JhdGVGbGFnID0gKHRtcF9ieXRlID4+IDYpICYgMHgxO1xuXHRpZiAodGhpcy5kdXJhdGlvbkZsYWcpIHtcblx0XHR0aGlzLmR1cmF0aW9uID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0fVxuXHRpZiAodGhpcy5hdmdSYXRlRmxhZykge1xuXHRcdHRoaXMuYWNjdXJhdGVTdGF0aXN0aWNzRmxhZyA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0XHR0aGlzLmF2Z0JpdFJhdGUgPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHRcdHRoaXMuYXZnRnJhbWVSYXRlID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0fVxuXHR0aGlzLmRlcGVuZGVuY3kgPSBbXTtcblx0dmFyIG51bVJlZmVyZW5jZXMgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbnVtUmVmZXJlbmNlczsgaSsrKSB7XG5cdFx0dmFyIGRlcGVuZGVuY3lJbmZvID0ge307XG5cdFx0dGhpcy5kZXBlbmRlbmN5LnB1c2goZGVwZW5kZW5jeUluZm8pO1xuXHRcdGRlcGVuZGVuY3lJbmZvLnN1YlNlcURpcmVjdGlvbkZsYWcgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdFx0ZGVwZW5kZW5jeUluZm8ubGF5ZXJOdW1iZXIgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdFx0ZGVwZW5kZW5jeUluZm8uc3ViU2VxdWVuY2VJZGVudGlmaWVyID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvc2FtcGxlZ3JvdXBzL2R0cnQuanNcbkJveFBhcnNlci5jcmVhdGVTYW1wbGVHcm91cEN0b3IoXCJkdHJ0XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHRMb2cud2FybihcIkJveFBhcnNlclwiLCBcIlNhbXBsZSBHcm91cCB0eXBlOiBcIit0aGlzLmdyb3VwaW5nX3R5cGUrXCIgbm90IGZ1bGx5IHBhcnNlZFwiKTtcbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3NhbXBsZWdyb3Vwcy9tdmlmLmpzXG5Cb3hQYXJzZXIuY3JlYXRlU2FtcGxlR3JvdXBDdG9yKFwibXZpZlwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0TG9nLndhcm4oXCJCb3hQYXJzZXJcIiwgXCJTYW1wbGUgR3JvdXAgdHlwZTogXCIrdGhpcy5ncm91cGluZ190eXBlK1wiIG5vdCBmdWxseSBwYXJzZWRcIik7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9zYW1wbGVncm91cHMvcHJvbC5qc1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUdyb3VwQ3RvcihcInByb2xcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMucm9sbF9kaXN0YW5jZSA9IHN0cmVhbS5yZWFkSW50MTYoKTtcbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3NhbXBsZWdyb3Vwcy9yYXAuanNcbkJveFBhcnNlci5jcmVhdGVTYW1wbGVHcm91cEN0b3IoXCJyYXAgXCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR2YXIgdG1wX2J5dGUgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdHRoaXMubnVtX2xlYWRpbmdfc2FtcGxlc19rbm93biA9IHRtcF9ieXRlID4+IDc7XG5cdHRoaXMubnVtX2xlYWRpbmdfc2FtcGxlcyA9IHRtcF9ieXRlICYgMHg3Rjtcbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3NhbXBsZWdyb3Vwcy9yYXNoLmpzXG5Cb3hQYXJzZXIuY3JlYXRlU2FtcGxlR3JvdXBDdG9yKFwicmFzaFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5vcGVyYXRpb25fcG9pbnRfY291bnQgPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHRpZiAodGhpcy5kZXNjcmlwdGlvbl9sZW5ndGggIT09IDIrKHRoaXMub3BlcmF0aW9uX3BvaW50X2NvdW50ID09PSAxPzI6dGhpcy5vcGVyYXRpb25fcG9pbnRfY291bnQqNikrOSkge1xuXHRcdExvZy53YXJuKFwiQm94UGFyc2VyXCIsIFwiTWlzbWF0Y2ggaW4gXCIrdGhpcy5ncm91cGluZ190eXBlK1wiIHNhbXBsZSBncm91cCBsZW5ndGhcIik7XG5cdFx0dGhpcy5kYXRhID0gIHN0cmVhbS5yZWFkVWludDhBcnJheSh0aGlzLmRlc2NyaXB0aW9uX2xlbmd0aC0yKTtcblx0fSBlbHNlIHtcblx0XHRpZiAodGhpcy5vcGVyYXRpb25fcG9pbnRfY291bnQgPT09IDEpIHtcblx0XHRcdHRoaXMudGFyZ2V0X3JhdGVfc2hhcmUgPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnRhcmdldF9yYXRlX3NoYXJlID0gW107XG5cdFx0XHR0aGlzLmF2YWlsYWJsZV9iaXRyYXRlID0gW107XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub3BlcmF0aW9uX3BvaW50X2NvdW50OyBpKyspIHtcblx0XHRcdFx0dGhpcy5hdmFpbGFibGVfYml0cmF0ZVtpXSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0XHRcdHRoaXMudGFyZ2V0X3JhdGVfc2hhcmVbaV0gPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLm1heGltdW1fYml0cmF0ZSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0dGhpcy5taW5pbXVtX2JpdHJhdGUgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRcdHRoaXMuZGlzY2FyZF9wcmlvcml0eSA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvc2FtcGxlZ3JvdXBzL3JvbGwuanNcbkJveFBhcnNlci5jcmVhdGVTYW1wbGVHcm91cEN0b3IoXCJyb2xsXCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnJvbGxfZGlzdGFuY2UgPSBzdHJlYW0ucmVhZEludDE2KCk7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9zYW1wbGVncm91cHMvc2FtcGxlZ3JvdXAuanNcbkJveFBhcnNlci5TYW1wbGVHcm91cEVudHJ5LnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHRMb2cud2FybihcIkJveFBhcnNlclwiLCBcIlVua25vd24gU2FtcGxlIEdyb3VwIHR5cGU6IFwiK3RoaXMuZ3JvdXBpbmdfdHlwZSk7XG5cdHRoaXMuZGF0YSA9ICBzdHJlYW0ucmVhZFVpbnQ4QXJyYXkodGhpcy5kZXNjcmlwdGlvbl9sZW5ndGgpO1xufVxuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3NhbXBsZWdyb3Vwcy9zY2lmLmpzXG5Cb3hQYXJzZXIuY3JlYXRlU2FtcGxlR3JvdXBDdG9yKFwic2NpZlwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0TG9nLndhcm4oXCJCb3hQYXJzZXJcIiwgXCJTYW1wbGUgR3JvdXAgdHlwZTogXCIrdGhpcy5ncm91cGluZ190eXBlK1wiIG5vdCBmdWxseSBwYXJzZWRcIik7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9zYW1wbGVncm91cHMvc2NubS5qc1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUdyb3VwQ3RvcihcInNjbm1cIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdExvZy53YXJuKFwiQm94UGFyc2VyXCIsIFwiU2FtcGxlIEdyb3VwIHR5cGU6IFwiK3RoaXMuZ3JvdXBpbmdfdHlwZStcIiBub3QgZnVsbHkgcGFyc2VkXCIpO1xufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvc2FtcGxlZ3JvdXBzL3NlaWcuanNcbkJveFBhcnNlci5jcmVhdGVTYW1wbGVHcm91cEN0b3IoXCJzZWlnXCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnJlc2VydmVkID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHR2YXIgdG1wID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHR0aGlzLmNyeXB0X2J5dGVfYmxvY2sgPSB0bXAgPj4gNDtcblx0dGhpcy5za2lwX2J5dGVfYmxvY2sgPSB0bXAgJiAweEY7XG5cdHRoaXMuaXNQcm90ZWN0ZWQgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdHRoaXMuUGVyX1NhbXBsZV9JVl9TaXplID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHR0aGlzLktJRCA9IEJveFBhcnNlci5wYXJzZUhleDE2KHN0cmVhbSk7XG5cdHRoaXMuY29uc3RhbnRfSVZfc2l6ZSA9IDA7XG5cdHRoaXMuY29uc3RhbnRfSVYgPSAwO1xuXHRpZiAodGhpcy5pc1Byb3RlY3RlZCA9PT0gMSAmJiB0aGlzLlBlcl9TYW1wbGVfSVZfU2l6ZSA9PT0gMCkge1xuXHRcdHRoaXMuY29uc3RhbnRfSVZfc2l6ZSA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0XHR0aGlzLmNvbnN0YW50X0lWID0gc3RyZWFtLnJlYWRVaW50OEFycmF5KHRoaXMuY29uc3RhbnRfSVZfc2l6ZSk7XG5cdH1cbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3NhbXBsZWdyb3Vwcy9zdHNhLmpzXG5Cb3hQYXJzZXIuY3JlYXRlU2FtcGxlR3JvdXBDdG9yKFwic3RzYVwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0TG9nLndhcm4oXCJCb3hQYXJzZXJcIiwgXCJTYW1wbGUgR3JvdXAgdHlwZTogXCIrdGhpcy5ncm91cGluZ190eXBlK1wiIG5vdCBmdWxseSBwYXJzZWRcIik7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9zYW1wbGVncm91cHMvc3luYy5qc1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUdyb3VwQ3RvcihcInN5bmNcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHZhciB0bXBfYnl0ZSA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0dGhpcy5OQUxfdW5pdF90eXBlID0gdG1wX2J5dGUgJiAweDNGO1xufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvc2FtcGxlZ3JvdXBzL3RlbGUuanNcbkJveFBhcnNlci5jcmVhdGVTYW1wbGVHcm91cEN0b3IoXCJ0ZWxlXCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR2YXIgdG1wX2J5dGUgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdHRoaXMubGV2ZWxfaW5kZXBlbmRlbnRseV9kZWNvZGFibGUgPSB0bXBfYnl0ZSA+PiA3O1xufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvc2FtcGxlZ3JvdXBzL3RzYXMuanNcbkJveFBhcnNlci5jcmVhdGVTYW1wbGVHcm91cEN0b3IoXCJ0c2FzXCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHRMb2cud2FybihcIkJveFBhcnNlclwiLCBcIlNhbXBsZSBHcm91cCB0eXBlOiBcIit0aGlzLmdyb3VwaW5nX3R5cGUrXCIgbm90IGZ1bGx5IHBhcnNlZFwiKTtcbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3NhbXBsZWdyb3Vwcy90c2NsLmpzXG5Cb3hQYXJzZXIuY3JlYXRlU2FtcGxlR3JvdXBDdG9yKFwidHNjbFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0TG9nLndhcm4oXCJCb3hQYXJzZXJcIiwgXCJTYW1wbGUgR3JvdXAgdHlwZTogXCIrdGhpcy5ncm91cGluZ190eXBlK1wiIG5vdCBmdWxseSBwYXJzZWRcIik7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9zYW1wbGVncm91cHMvdmlwci5qc1xuQm94UGFyc2VyLmNyZWF0ZVNhbXBsZUdyb3VwQ3RvcihcInZpcHJcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdExvZy53YXJuKFwiQm94UGFyc2VyXCIsIFwiU2FtcGxlIEdyb3VwIHR5cGU6IFwiK3RoaXMuZ3JvdXBpbmdfdHlwZStcIiBub3QgZnVsbHkgcGFyc2VkXCIpO1xufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvc2JncC5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwic2JncFwiLCBcIlNhbXBsZVRvR3JvdXBCb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMuZ3JvdXBpbmdfdHlwZSA9IHN0cmVhbS5yZWFkU3RyaW5nKDQpO1xuXHRpZiAodGhpcy52ZXJzaW9uID09PSAxKSB7XG5cdFx0dGhpcy5ncm91cGluZ190eXBlX3BhcmFtZXRlciA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5ncm91cGluZ190eXBlX3BhcmFtZXRlciA9IDA7XG5cdH1cblx0dGhpcy5lbnRyaWVzID0gW107XG5cdHZhciBlbnRyeV9jb3VudCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgZW50cnlfY291bnQ7IGkrKykge1xuXHRcdHZhciBlbnRyeSA9IHt9O1xuXHRcdHRoaXMuZW50cmllcy5wdXNoKGVudHJ5KTtcblx0XHRlbnRyeS5zYW1wbGVfY291bnQgPSBzdHJlYW0ucmVhZEludDMyKCk7XG5cdFx0ZW50cnkuZ3JvdXBfZGVzY3JpcHRpb25faW5kZXggPSBzdHJlYW0ucmVhZEludDMyKCk7XG5cdH1cbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3NicG0uanNcbmZ1bmN0aW9uIFBpeGVsKHJvdywgY29sKSB7XG5cdHRoaXMuYmFkX3BpeGVsX3JvdyA9IHJvdztcblx0dGhpcy5iYWRfcGl4ZWxfY29sdW1uID0gY29sO1xufVxuXG5QaXhlbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiBwaXhlbFRvU3RyaW5nKCkge1xuXHRyZXR1cm4gXCJbcm93OiBcIiArIHRoaXMuYmFkX3BpeGVsX3JvdyArIFwiLCBjb2x1bW46IFwiICsgdGhpcy5iYWRfcGl4ZWxfY29sdW1uICsgXCJdXCI7XG59XG5cbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcInNicG1cIiwgXCJTZW5zb3JCYWRQaXhlbHNNYXBCb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHZhciBpO1xuXHR0aGlzLmNvbXBvbmVudF9jb3VudCA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG4gICAgdGhpcy5jb21wb25lbnRfaW5kZXggPSBbXTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5jb21wb25lbnRfY291bnQ7IGkrKykge1xuICAgICAgICB0aGlzLmNvbXBvbmVudF9pbmRleC5wdXNoKHN0cmVhbS5yZWFkVWludDE2KCkpO1xuICAgIH1cblx0dmFyIGZsYWdzID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHR0aGlzLmNvcnJlY3Rpb25fYXBwbGllZCA9ICgweDgwID09IChmbGFncyAmIDB4ODApKTtcblx0dGhpcy5udW1fYmFkX3Jvd3MgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHR0aGlzLm51bV9iYWRfY29scyA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdHRoaXMubnVtX2JhZF9waXhlbHMgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHR0aGlzLmJhZF9yb3dzID0gW107XG5cdHRoaXMuYmFkX2NvbHVtbnMgPSBbXTtcblx0dGhpcy5iYWRfcGl4ZWxzID0gW107XG5cdGZvciAoaSA9IDA7IGkgPCB0aGlzLm51bV9iYWRfcm93czsgaSsrKSB7XG5cdFx0dGhpcy5iYWRfcm93cy5wdXNoKHN0cmVhbS5yZWFkVWludDMyKCkpO1xuXHR9XG5cdGZvciAoaSA9IDA7IGkgPCB0aGlzLm51bV9iYWRfY29sczsgaSsrKSB7XG5cdFx0dGhpcy5iYWRfY29sdW1ucy5wdXNoKHN0cmVhbS5yZWFkVWludDMyKCkpO1xuXHR9XG5cdGZvciAoaSA9IDA7IGkgPCB0aGlzLm51bV9iYWRfcGl4ZWxzOyBpKyspIHtcblx0XHR2YXIgcm93ID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0XHR2YXIgY29sID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0XHR0aGlzLmJhZF9waXhlbHMucHVzaChuZXcgUGl4ZWwocm93LCBjb2wpKTtcblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvc2NobS5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwic2NobVwiLCBcIlNjaGVtZVR5cGVCb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMuc2NoZW1lX3R5cGUgPSBzdHJlYW0ucmVhZFN0cmluZyg0KTtcblx0dGhpcy5zY2hlbWVfdmVyc2lvbiA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdGlmICh0aGlzLmZsYWdzICYgMHgwMDAwMDEpIHtcblx0XHR0aGlzLnNjaGVtZV91cmkgPSBzdHJlYW0ucmVhZFN0cmluZyh0aGlzLnNpemUgLSB0aGlzLmhkcl9zaXplIC0gOCk7XG5cdH1cbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3NkcC5qc1xuQm94UGFyc2VyLmNyZWF0ZUJveEN0b3IoXCJzZHAgXCIsIFwicnRwdHJhY2tzZHBoaW50aW5mb3JtYXRpb25cIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMuc2RwdGV4dCA9IHN0cmVhbS5yZWFkU3RyaW5nKHRoaXMuc2l6ZSAtIHRoaXMuaGRyX3NpemUpO1xufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvc2R0cC5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwic2R0cFwiLCBcIlNhbXBsZURlcGVuZGVuY3lUeXBlQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR2YXIgdG1wX2J5dGU7XG5cdHZhciBjb3VudCA9ICh0aGlzLnNpemUgLSB0aGlzLmhkcl9zaXplKTtcblx0dGhpcy5pc19sZWFkaW5nID0gW107XG5cdHRoaXMuc2FtcGxlX2RlcGVuZHNfb24gPSBbXTtcblx0dGhpcy5zYW1wbGVfaXNfZGVwZW5kZWRfb24gPSBbXTtcblx0dGhpcy5zYW1wbGVfaGFzX3JlZHVuZGFuY3kgPSBbXTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG5cdFx0dG1wX2J5dGUgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdFx0dGhpcy5pc19sZWFkaW5nW2ldID0gdG1wX2J5dGUgPj4gNjtcblx0XHR0aGlzLnNhbXBsZV9kZXBlbmRzX29uW2ldID0gKHRtcF9ieXRlID4+IDQpICYgMHgzO1xuXHRcdHRoaXMuc2FtcGxlX2lzX2RlcGVuZGVkX29uW2ldID0gKHRtcF9ieXRlID4+IDIpICYgMHgzO1xuXHRcdHRoaXMuc2FtcGxlX2hhc19yZWR1bmRhbmN5W2ldID0gdG1wX2J5dGUgJiAweDM7XG5cdH1cbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3NlbmMuanNcbi8vIENhbm5vdCBiZSBmdWxseSBwYXJzZWQgYmVjYXVzZSBQZXJfU2FtcGxlX0lWX1NpemUgbmVlZHMgdG8gYmUga25vd25cclxuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwic2VuY1wiLCBcIlNhbXBsZUVuY3J5cHRpb25Cb3hcIiAvKiwgZnVuY3Rpb24oc3RyZWFtKSB7XHJcblx0dGhpcy5wYXJzZUZ1bGxIZWFkZXIoc3RyZWFtKTtcclxuXHR2YXIgc2FtcGxlX2NvdW50ID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcclxuXHR0aGlzLnNhbXBsZXMgPSBbXTtcclxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHNhbXBsZV9jb3VudDsgaSsrKSB7XHJcblx0XHR2YXIgc2FtcGxlID0ge307XHJcblx0XHQvLyB0ZW5jLmRlZmF1bHRfUGVyX1NhbXBsZV9JVl9TaXplIG9yIHNlaWcuUGVyX1NhbXBsZV9JVl9TaXplXHJcblx0XHRzYW1wbGUuSW5pdGlhbGl6YXRpb25WZWN0b3IgPSB0aGlzLnJlYWRVaW50OEFycmF5KFBlcl9TYW1wbGVfSVZfU2l6ZSo4KTtcclxuXHRcdGlmICh0aGlzLmZsYWdzICYgMHgyKSB7XHJcblx0XHRcdHNhbXBsZS5zdWJzYW1wbGVzID0gW107XHJcblx0XHRcdHN1YnNhbXBsZV9jb3VudCA9IHN0cmVhbS5yZWFkVWludDE2KCk7XHJcblx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgc3Vic2FtcGxlX2NvdW50OyBqKyspIHtcclxuXHRcdFx0XHR2YXIgc3Vic2FtcGxlID0ge307XHJcblx0XHRcdFx0c3Vic2FtcGxlLkJ5dGVzT2ZDbGVhckRhdGEgPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xyXG5cdFx0XHRcdHN1YnNhbXBsZS5CeXRlc09mUHJvdGVjdGVkRGF0YSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XHJcblx0XHRcdFx0c2FtcGxlLnN1YnNhbXBsZXMucHVzaChzdWJzYW1wbGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHQvLyBUT0RPXHJcblx0XHR0aGlzLnNhbXBsZXMucHVzaChzYW1wbGUpO1xyXG5cdH1cclxufSovKTtcclxuLy8gZmlsZTpzcmMvcGFyc2luZy9zZ3BkLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJzZ3BkXCIsIFwiU2FtcGxlR3JvdXBEZXNjcmlwdGlvbkJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5ncm91cGluZ190eXBlID0gc3RyZWFtLnJlYWRTdHJpbmcoNCk7XG5cdExvZy5kZWJ1ZyhcIkJveFBhcnNlclwiLCBcIkZvdW5kIFNhbXBsZSBHcm91cHMgb2YgdHlwZSBcIit0aGlzLmdyb3VwaW5nX3R5cGUpO1xuXHRpZiAodGhpcy52ZXJzaW9uID09PSAxKSB7XG5cdFx0dGhpcy5kZWZhdWx0X2xlbmd0aCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5kZWZhdWx0X2xlbmd0aCA9IDA7XG5cdH1cblx0aWYgKHRoaXMudmVyc2lvbiA+PSAyKSB7XG5cdFx0dGhpcy5kZWZhdWx0X2dyb3VwX2Rlc2NyaXB0aW9uX2luZGV4ID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0fVxuXHR0aGlzLmVudHJpZXMgPSBbXTtcblx0dmFyIGVudHJ5X2NvdW50ID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBlbnRyeV9jb3VudDsgaSsrKSB7XG5cdFx0dmFyIGVudHJ5O1xuXHRcdGlmIChCb3hQYXJzZXJbdGhpcy5ncm91cGluZ190eXBlK1wiU2FtcGxlR3JvdXBFbnRyeVwiXSkge1xuXHRcdFx0ZW50cnkgPSBuZXcgQm94UGFyc2VyW3RoaXMuZ3JvdXBpbmdfdHlwZStcIlNhbXBsZUdyb3VwRW50cnlcIl0odGhpcy5ncm91cGluZ190eXBlKTtcblx0XHR9ICBlbHNlIHtcblx0XHRcdGVudHJ5ID0gbmV3IEJveFBhcnNlci5TYW1wbGVHcm91cEVudHJ5KHRoaXMuZ3JvdXBpbmdfdHlwZSk7XG5cdFx0fVxuXHRcdHRoaXMuZW50cmllcy5wdXNoKGVudHJ5KTtcblx0XHRpZiAodGhpcy52ZXJzaW9uID09PSAxKSB7XG5cdFx0XHRpZiAodGhpcy5kZWZhdWx0X2xlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRlbnRyeS5kZXNjcmlwdGlvbl9sZW5ndGggPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZW50cnkuZGVzY3JpcHRpb25fbGVuZ3RoID0gdGhpcy5kZWZhdWx0X2xlbmd0aDtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0ZW50cnkuZGVzY3JpcHRpb25fbGVuZ3RoID0gdGhpcy5kZWZhdWx0X2xlbmd0aDtcblx0XHR9XG5cdFx0aWYgKGVudHJ5LndyaXRlID09PSBCb3hQYXJzZXIuU2FtcGxlR3JvdXBFbnRyeS5wcm90b3R5cGUud3JpdGUpIHtcblx0XHRcdExvZy5pbmZvKFwiQm94UGFyc2VyXCIsIFwiU2FtcGxlR3JvdXAgZm9yIHR5cGUgXCIrdGhpcy5ncm91cGluZ190eXBlK1wiIHdyaXRpbmcgbm90IHlldCBpbXBsZW1lbnRlZCwga2VlcGluZyB1bnBhcnNlZCBkYXRhIGluIG1lbW9yeSBmb3IgbGF0ZXIgd3JpdGVcIik7XG5cdFx0XHQvLyBzdG9yaW5nIGRhdGFcblx0XHRcdGVudHJ5LmRhdGEgPSBzdHJlYW0ucmVhZFVpbnQ4QXJyYXkoZW50cnkuZGVzY3JpcHRpb25fbGVuZ3RoKTtcblx0XHRcdC8vIHJld2luZGluZ1xuXHRcdFx0c3RyZWFtLnBvc2l0aW9uIC09IGVudHJ5LmRlc2NyaXB0aW9uX2xlbmd0aDtcblx0XHR9XG5cdFx0ZW50cnkucGFyc2Uoc3RyZWFtKTtcblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvc2lkeC5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwic2lkeFwiLCBcIkNvbXByZXNzZWRTZWdtZW50SW5kZXhCb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMucmVmZXJlbmNlX0lEID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0dGhpcy50aW1lc2NhbGUgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRpZiAodGhpcy52ZXJzaW9uID09PSAwKSB7XG5cdFx0dGhpcy5lYXJsaWVzdF9wcmVzZW50YXRpb25fdGltZSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0dGhpcy5maXJzdF9vZmZzZXQgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHR9IGVsc2Uge1xuXHRcdHRoaXMuZWFybGllc3RfcHJlc2VudGF0aW9uX3RpbWUgPSBzdHJlYW0ucmVhZFVpbnQ2NCgpO1xuXHRcdHRoaXMuZmlyc3Rfb2Zmc2V0ID0gc3RyZWFtLnJlYWRVaW50NjQoKTtcblx0fVxuXHRzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHR0aGlzLnJlZmVyZW5jZXMgPSBbXTtcblx0dmFyIGNvdW50ID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG5cdFx0dmFyIHJlZiA9IHt9O1xuXHRcdHRoaXMucmVmZXJlbmNlcy5wdXNoKHJlZik7XG5cdFx0dmFyIHRtcF8zMiA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0cmVmLnJlZmVyZW5jZV90eXBlID0gKHRtcF8zMiA+PiAzMSkgJiAweDE7XG5cdFx0cmVmLnJlZmVyZW5jZWRfc2l6ZSA9IHRtcF8zMiAmIDB4N0ZGRkZGRkY7XG5cdFx0cmVmLnN1YnNlZ21lbnRfZHVyYXRpb24gPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRcdHRtcF8zMiA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0cmVmLnN0YXJ0c193aXRoX1NBUCA9ICh0bXBfMzIgPj4gMzEpICYgMHgxO1xuXHRcdHJlZi5TQVBfdHlwZSA9ICh0bXBfMzIgPj4gMjgpICYgMHg3O1xuXHRcdHJlZi5TQVBfZGVsdGFfdGltZSA9IHRtcF8zMiAmIDB4RkZGRkZGRjtcblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvc2luZ2xlaXRlbXR5cGVyZWZlcmVuY2UuanNcbkJveFBhcnNlci5TaW5nbGVJdGVtVHlwZVJlZmVyZW5jZUJveCA9IGZ1bmN0aW9uKHR5cGUsIHNpemUsIGhkcl9zaXplLCBzdGFydCkge1xuXHRCb3hQYXJzZXIuQm94LmNhbGwodGhpcywgdHlwZSwgc2l6ZSk7XG5cdHRoaXMuaGRyX3NpemUgPSBoZHJfc2l6ZTtcblx0dGhpcy5zdGFydCA9IHN0YXJ0O1xufVxuQm94UGFyc2VyLlNpbmdsZUl0ZW1UeXBlUmVmZXJlbmNlQm94LnByb3RvdHlwZSA9IG5ldyBCb3hQYXJzZXIuQm94KCk7XG5Cb3hQYXJzZXIuU2luZ2xlSXRlbVR5cGVSZWZlcmVuY2VCb3gucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMuZnJvbV9pdGVtX0lEID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0dmFyIGNvdW50ID0gIHN0cmVhbS5yZWFkVWludDE2KCk7XG5cdHRoaXMucmVmZXJlbmNlcyA9IFtdO1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuXHRcdHRoaXMucmVmZXJlbmNlc1tpXSA9IHt9O1xuXHRcdHRoaXMucmVmZXJlbmNlc1tpXS50b19pdGVtX0lEID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0fVxufVxuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3NpbmdsZWl0ZW10eXBlcmVmZXJlbmNlbGFyZ2UuanNcbkJveFBhcnNlci5TaW5nbGVJdGVtVHlwZVJlZmVyZW5jZUJveExhcmdlID0gZnVuY3Rpb24odHlwZSwgc2l6ZSwgaGRyX3NpemUsIHN0YXJ0KSB7XG5cdEJveFBhcnNlci5Cb3guY2FsbCh0aGlzLCB0eXBlLCBzaXplKTtcblx0dGhpcy5oZHJfc2l6ZSA9IGhkcl9zaXplO1xuXHR0aGlzLnN0YXJ0ID0gc3RhcnQ7XG59XG5Cb3hQYXJzZXIuU2luZ2xlSXRlbVR5cGVSZWZlcmVuY2VCb3hMYXJnZS5wcm90b3R5cGUgPSBuZXcgQm94UGFyc2VyLkJveCgpO1xuQm94UGFyc2VyLlNpbmdsZUl0ZW1UeXBlUmVmZXJlbmNlQm94TGFyZ2UucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMuZnJvbV9pdGVtX0lEID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0dmFyIGNvdW50ID0gIHN0cmVhbS5yZWFkVWludDE2KCk7XG5cdHRoaXMucmVmZXJlbmNlcyA9IFtdO1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuXHRcdHRoaXMucmVmZXJlbmNlc1tpXSA9IHt9O1xuXHRcdHRoaXMucmVmZXJlbmNlc1tpXS50b19pdGVtX0lEID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0fVxufVxuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL1NtRG0uanNcbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcIlNtRG1cIiwgXCJTTVBURTIwODZNYXN0ZXJpbmdEaXNwbGF5TWV0YWRhdGFCb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMucHJpbWFyeVJDaHJvbWF0aWNpdHlfeCA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG4gICAgdGhpcy5wcmltYXJ5UkNocm9tYXRpY2l0eV95ID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcbiAgICB0aGlzLnByaW1hcnlHQ2hyb21hdGljaXR5X3ggPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuICAgIHRoaXMucHJpbWFyeUdDaHJvbWF0aWNpdHlfeSA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG4gICAgdGhpcy5wcmltYXJ5QkNocm9tYXRpY2l0eV94ID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcbiAgICB0aGlzLnByaW1hcnlCQ2hyb21hdGljaXR5X3kgPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuICAgIHRoaXMud2hpdGVQb2ludENocm9tYXRpY2l0eV94ID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcbiAgICB0aGlzLndoaXRlUG9pbnRDaHJvbWF0aWNpdHlfeSA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG4gICAgdGhpcy5sdW1pbmFuY2VNYXggPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuICAgIHRoaXMubHVtaW5hbmNlTWluID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3NtaGQuanNcbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcInNtaGRcIiwgXCJTb3VuZE1lZGlhSGVhZGVyQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLmJhbGFuY2UgPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHRzdHJlYW0ucmVhZFVpbnQxNigpO1xufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvc3NpeC5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwic3NpeFwiLCBcIkNvbXByZXNzZWRTdWJzZWdtZW50SW5kZXhCb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMuc3Vic2VnbWVudHMgPSBbXTtcblx0dmFyIHN1YnNlZ21lbnRfY291bnQgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN1YnNlZ21lbnRfY291bnQ7IGkrKykge1xuXHRcdHZhciBzdWJzZWdtZW50ID0ge307XG5cdFx0dGhpcy5zdWJzZWdtZW50cy5wdXNoKHN1YnNlZ21lbnQpO1xuXHRcdHN1YnNlZ21lbnQucmFuZ2VzID0gW107XG5cdFx0dmFyIHJhbmdlX2NvdW50ID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IHJhbmdlX2NvdW50OyBqKyspIHtcblx0XHRcdHZhciByYW5nZSA9IHt9O1xuXHRcdFx0c3Vic2VnbWVudC5yYW5nZXMucHVzaChyYW5nZSk7XG5cdFx0XHRyYW5nZS5sZXZlbCA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0XHRcdHJhbmdlLnJhbmdlX3NpemUgPSBzdHJlYW0ucmVhZFVpbnQyNCgpO1xuXHRcdH1cblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvc3Rjby5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwic3Rjb1wiLCBcIkNodW5rT2Zmc2V0Qm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR2YXIgZW50cnlfY291bnQ7XG5cdGVudHJ5X2NvdW50ID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0dGhpcy5jaHVua19vZmZzZXRzID0gW107XG5cdGlmICh0aGlzLnZlcnNpb24gPT09IDApIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGVudHJ5X2NvdW50OyBpKyspIHtcblx0XHRcdHRoaXMuY2h1bmtfb2Zmc2V0cy5wdXNoKHN0cmVhbS5yZWFkVWludDMyKCkpO1xuXHRcdH1cblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvc3RkcC5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwic3RkcFwiLCBcIkRlZ3JhZGF0aW9uUHJpb3JpdHlCb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHZhciBjb3VudCA9ICh0aGlzLnNpemUgLSB0aGlzLmhkcl9zaXplKS8yO1xuXHR0aGlzLnByaW9yaXR5ID0gW107XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuXHRcdHRoaXMucHJpb3JpdHlbaV0gPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHR9XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9zdGhkLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJzdGhkXCIsIFwiU3VidGl0bGVNZWRpYUhlYWRlckJveFwiKTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9zdHJpLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJzdHJpXCIsIFwiU3ViVHJhY2tJbmZvcm1hdGlvbkJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5zd2l0Y2hfZ3JvdXAgPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHR0aGlzLmFsdGVybmF0ZV9ncm91cCA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG5cdHRoaXMuc3ViX3RyYWNrX2lkID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0dmFyIGNvdW50ID0gKHRoaXMuc2l6ZSAtIHRoaXMuaGRyX3NpemUgLSA4KS80O1xuXHR0aGlzLmF0dHJpYnV0ZV9saXN0ID0gW107XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuXHRcdHRoaXMuYXR0cmlidXRlX2xpc3RbaV0gPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHR9XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9zdHNjLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJzdHNjXCIsIFwiU2FtcGxlVG9DaHVua0JveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dmFyIGVudHJ5X2NvdW50O1xuXHR2YXIgaTtcblx0ZW50cnlfY291bnQgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHR0aGlzLmZpcnN0X2NodW5rID0gW107XG5cdHRoaXMuc2FtcGxlc19wZXJfY2h1bmsgPSBbXTtcblx0dGhpcy5zYW1wbGVfZGVzY3JpcHRpb25faW5kZXggPSBbXTtcblx0aWYgKHRoaXMudmVyc2lvbiA9PT0gMCkge1xuXHRcdGZvcihpPTA7IGk8ZW50cnlfY291bnQ7IGkrKykge1xuXHRcdFx0dGhpcy5maXJzdF9jaHVuay5wdXNoKHN0cmVhbS5yZWFkVWludDMyKCkpO1xuXHRcdFx0dGhpcy5zYW1wbGVzX3Blcl9jaHVuay5wdXNoKHN0cmVhbS5yZWFkVWludDMyKCkpO1xuXHRcdFx0dGhpcy5zYW1wbGVfZGVzY3JpcHRpb25faW5kZXgucHVzaChzdHJlYW0ucmVhZFVpbnQzMigpKTtcblx0XHR9XG5cdH1cbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3N0c2QuanNcbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcInN0c2RcIiwgXCJTYW1wbGVEZXNjcmlwdGlvbkJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dmFyIGk7XG5cdHZhciByZXQ7XG5cdHZhciBlbnRyeUNvdW50O1xuXHR2YXIgYm94O1xuXHR0aGlzLmVudHJpZXMgPSBbXTtcblx0ZW50cnlDb3VudCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdGZvciAoaSA9IDE7IGkgPD0gZW50cnlDb3VudDsgaSsrKSB7XG5cdFx0cmV0ID0gQm94UGFyc2VyLnBhcnNlT25lQm94KHN0cmVhbSwgdHJ1ZSwgdGhpcy5zaXplIC0gKHN0cmVhbS5nZXRQb3NpdGlvbigpIC0gdGhpcy5zdGFydCkpO1xuXHRcdGlmIChyZXQuY29kZSA9PT0gQm94UGFyc2VyLk9LKSB7XG5cdFx0XHRpZiAoQm94UGFyc2VyW3JldC50eXBlK1wiU2FtcGxlRW50cnlcIl0pIHtcblx0XHRcdFx0Ym94ID0gbmV3IEJveFBhcnNlcltyZXQudHlwZStcIlNhbXBsZUVudHJ5XCJdKHJldC5zaXplKTtcblx0XHRcdFx0Ym94Lmhkcl9zaXplID0gcmV0Lmhkcl9zaXplO1xuXHRcdFx0XHRib3guc3RhcnQgPSByZXQuc3RhcnQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRMb2cud2FybihcIkJveFBhcnNlclwiLCBcIlVua25vd24gc2FtcGxlIGVudHJ5IHR5cGU6IFwiK3JldC50eXBlKTtcblx0XHRcdFx0Ym94ID0gbmV3IEJveFBhcnNlci5TYW1wbGVFbnRyeShyZXQudHlwZSwgcmV0LnNpemUsIHJldC5oZHJfc2l6ZSwgcmV0LnN0YXJ0KTtcblx0XHRcdH1cblx0XHRcdGlmIChib3gud3JpdGUgPT09IEJveFBhcnNlci5TYW1wbGVFbnRyeS5wcm90b3R5cGUud3JpdGUpIHtcblx0XHRcdFx0TG9nLmluZm8oXCJCb3hQYXJzZXJcIiwgXCJTYW1wbGVFbnRyeSBcIitib3gudHlwZStcIiBib3ggd3JpdGluZyBub3QgeWV0IGltcGxlbWVudGVkLCBrZWVwaW5nIHVucGFyc2VkIGRhdGEgaW4gbWVtb3J5IGZvciBsYXRlciB3cml0ZVwiKTtcblx0XHRcdFx0Ym94LnBhcnNlRGF0YUFuZFJld2luZChzdHJlYW0pO1xuXHRcdFx0fVxuXHRcdFx0Ym94LnBhcnNlKHN0cmVhbSk7XG5cdFx0XHR0aGlzLmVudHJpZXMucHVzaChib3gpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9zdHNnLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJzdHNnXCIsIFwiU3ViVHJhY2tTYW1wbGVHcm91cEJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5ncm91cGluZ190eXBlID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0dmFyIGNvdW50ID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0dGhpcy5ncm91cF9kZXNjcmlwdGlvbl9pbmRleCA9IFtdO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcblx0XHR0aGlzLmdyb3VwX2Rlc2NyaXB0aW9uX2luZGV4W2ldID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvc3RzaC5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwic3RzaFwiLCBcIlNoYWRvd1N5bmNTYW1wbGVCb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHZhciBlbnRyeV9jb3VudDtcblx0dmFyIGk7XG5cdGVudHJ5X2NvdW50ID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0dGhpcy5zaGFkb3dlZF9zYW1wbGVfbnVtYmVycyA9IFtdO1xuXHR0aGlzLnN5bmNfc2FtcGxlX251bWJlcnMgPSBbXTtcblx0aWYgKHRoaXMudmVyc2lvbiA9PT0gMCkge1xuXHRcdGZvcihpPTA7IGk8ZW50cnlfY291bnQ7IGkrKykge1xuXHRcdFx0dGhpcy5zaGFkb3dlZF9zYW1wbGVfbnVtYmVycy5wdXNoKHN0cmVhbS5yZWFkVWludDMyKCkpO1xuXHRcdFx0dGhpcy5zeW5jX3NhbXBsZV9udW1iZXJzLnB1c2goc3RyZWFtLnJlYWRVaW50MzIoKSk7XG5cdFx0fVxuXHR9XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9zdHNzLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJzdHNzXCIsIFwiU3luY1NhbXBsZUJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dmFyIGk7XG5cdHZhciBlbnRyeV9jb3VudDtcblx0ZW50cnlfY291bnQgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRpZiAodGhpcy52ZXJzaW9uID09PSAwKSB7XG5cdFx0dGhpcy5zYW1wbGVfbnVtYmVycyA9IFtdO1xuXHRcdGZvcihpPTA7IGk8ZW50cnlfY291bnQ7IGkrKykge1xuXHRcdFx0dGhpcy5zYW1wbGVfbnVtYmVycy5wdXNoKHN0cmVhbS5yZWFkVWludDMyKCkpO1xuXHRcdH1cblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvc3Rzei5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwic3RzelwiLCBcIlNhbXBsZVNpemVCb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHZhciBpO1xuXHR0aGlzLnNhbXBsZV9zaXplcyA9IFtdO1xuXHRpZiAodGhpcy52ZXJzaW9uID09PSAwKSB7XG5cdFx0dGhpcy5zYW1wbGVfc2l6ZSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0dGhpcy5zYW1wbGVfY291bnQgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRcdGZvciAoaSA9IDA7IGkgPCB0aGlzLnNhbXBsZV9jb3VudDsgaSsrKSB7XG5cdFx0XHRpZiAodGhpcy5zYW1wbGVfc2l6ZSA9PT0gMCkge1xuXHRcdFx0XHR0aGlzLnNhbXBsZV9zaXplcy5wdXNoKHN0cmVhbS5yZWFkVWludDMyKCkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5zYW1wbGVfc2l6ZXNbaV0gPSB0aGlzLnNhbXBsZV9zaXplO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvc3R0cy5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwic3R0c1wiLCBcIlRpbWVUb1NhbXBsZUJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dmFyIGVudHJ5X2NvdW50O1xuXHR2YXIgaTtcblx0dmFyIGRlbHRhO1xuXHRlbnRyeV9jb3VudCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdHRoaXMuc2FtcGxlX2NvdW50cyA9IFtdO1xuXHR0aGlzLnNhbXBsZV9kZWx0YXMgPSBbXTtcblx0aWYgKHRoaXMudmVyc2lvbiA9PT0gMCkge1xuXHRcdGZvcihpPTA7IGk8ZW50cnlfY291bnQ7IGkrKykge1xuXHRcdFx0dGhpcy5zYW1wbGVfY291bnRzLnB1c2goc3RyZWFtLnJlYWRVaW50MzIoKSk7XG5cdFx0XHRkZWx0YSA9IHN0cmVhbS5yZWFkSW50MzIoKTtcblx0XHRcdGlmIChkZWx0YSA8IDApIHtcblx0XHRcdFx0TG9nLndhcm4oXCJCb3hQYXJzZXJcIiwgXCJGaWxlIHVzZXMgbmVnYXRpdmUgc3R0cyBzYW1wbGUgZGVsdGEsIHVzaW5nIHZhbHVlIDEgaW5zdGVhZCwgc3luYyBtYXkgYmUgbG9zdCFcIik7XG5cdFx0XHRcdGRlbHRhID0gMTtcblx0XHRcdH1cblx0XHRcdHRoaXMuc2FtcGxlX2RlbHRhcy5wdXNoKGRlbHRhKTtcblx0XHR9XG5cdH1cbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3N0dmkuanNcbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcInN0dmlcIiwgXCJTdGVyZW9WaWRlb0JveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dmFyIHRtcDMyID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0dGhpcy5zaW5nbGVfdmlld19hbGxvd2VkID0gdG1wMzIgJiAweDM7XG5cdHRoaXMuc3RlcmVvX3NjaGVtZSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdHZhciBsZW5ndGggPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHR0aGlzLnN0ZXJlb19pbmRpY2F0aW9uX3R5cGUgPSBzdHJlYW0ucmVhZFN0cmluZyhsZW5ndGgpO1xuXHR2YXIgcmV0O1xuXHR2YXIgYm94O1xuXHR0aGlzLmJveGVzID0gW107XG5cdHdoaWxlIChzdHJlYW0uZ2V0UG9zaXRpb24oKSA8IHRoaXMuc3RhcnQrdGhpcy5zaXplKSB7XG5cdFx0cmV0ID0gQm94UGFyc2VyLnBhcnNlT25lQm94KHN0cmVhbSwgZmFsc2UsIHRoaXMuc2l6ZSAtIChzdHJlYW0uZ2V0UG9zaXRpb24oKSAtIHRoaXMuc3RhcnQpKTtcblx0XHRpZiAocmV0LmNvZGUgPT09IEJveFBhcnNlci5PSykge1xuXHRcdFx0Ym94ID0gcmV0LmJveDtcblx0XHRcdHRoaXMuYm94ZXMucHVzaChib3gpO1xuXHRcdFx0dGhpc1tib3gudHlwZV0gPSBib3g7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdH1cbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3N0eXAuanNcbkJveFBhcnNlci5jcmVhdGVCb3hDdG9yKFwic3R5cFwiLCBcIlNlZ21lbnRUeXBlQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHRCb3hQYXJzZXIuZnR5cEJveC5wcm90b3R5cGUucGFyc2UuY2FsbCh0aGlzLCBzdHJlYW0pO1xufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvc3R6Mi5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwic3R6MlwiLCBcIkNvbXBhY3RTYW1wbGVTaXplQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR2YXIgaTtcblx0dmFyIHNhbXBsZV9zaXplO1xuXHR2YXIgc2FtcGxlX2NvdW50O1xuXHR0aGlzLnNhbXBsZV9zaXplcyA9IFtdO1xuXHRpZiAodGhpcy52ZXJzaW9uID09PSAwKSB7XG5cdFx0dGhpcy5yZXNlcnZlZCA9IHN0cmVhbS5yZWFkVWludDI0KCk7XG5cdFx0dGhpcy5maWVsZF9zaXplID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHRcdHNhbXBsZV9jb3VudCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0aWYgKHRoaXMuZmllbGRfc2l6ZSA9PT0gNCkge1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IHNhbXBsZV9jb3VudDsgaSs9Mikge1xuXHRcdFx0XHR2YXIgdG1wID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHRcdFx0XHR0aGlzLnNhbXBsZV9zaXplc1tpXSA9ICh0bXAgPj4gNCkgJiAweEY7XG5cdFx0XHRcdHRoaXMuc2FtcGxlX3NpemVzW2krMV0gPSB0bXAgJiAweEY7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmICh0aGlzLmZpZWxkX3NpemUgPT09IDgpIHtcblx0XHRcdGZvciAoaSA9IDA7IGkgPCBzYW1wbGVfY291bnQ7IGkrKykge1xuXHRcdFx0XHR0aGlzLnNhbXBsZV9zaXplc1tpXSA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKHRoaXMuZmllbGRfc2l6ZSA9PT0gMTYpIHtcblx0XHRcdGZvciAoaSA9IDA7IGkgPCBzYW1wbGVfY291bnQ7IGkrKykge1xuXHRcdFx0XHR0aGlzLnNhbXBsZV9zaXplc1tpXSA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdExvZy5lcnJvcihcIkJveFBhcnNlclwiLCBcIkVycm9yIGluIGxlbmd0aCBmaWVsZCBpbiBzdHoyIGJveFwiKTtcblx0XHR9XG5cdH1cbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3N1YnMuanNcbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcInN1YnNcIiwgXCJTdWJTYW1wbGVJbmZvcm1hdGlvbkJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dmFyIGksajtcblx0dmFyIGVudHJ5X2NvdW50O1xuXHR2YXIgc3Vic2FtcGxlX2NvdW50O1xuXHRlbnRyeV9jb3VudCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdHRoaXMuZW50cmllcyA9IFtdO1xuXHRmb3IgKGkgPSAwOyBpIDwgZW50cnlfY291bnQ7IGkrKykge1xuXHRcdHZhciBzYW1wbGVJbmZvID0ge307XG5cdFx0dGhpcy5lbnRyaWVzW2ldID0gc2FtcGxlSW5mbztcblx0XHRzYW1wbGVJbmZvLnNhbXBsZV9kZWx0YSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0c2FtcGxlSW5mby5zdWJzYW1wbGVzID0gW107XG5cdFx0c3Vic2FtcGxlX2NvdW50ID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcblx0XHRpZiAoc3Vic2FtcGxlX2NvdW50PjApIHtcblx0XHRcdGZvciAoaiA9IDA7IGogPCBzdWJzYW1wbGVfY291bnQ7IGorKykge1xuXHRcdFx0XHR2YXIgc3Vic2FtcGxlID0ge307XG5cdFx0XHRcdHNhbXBsZUluZm8uc3Vic2FtcGxlcy5wdXNoKHN1YnNhbXBsZSk7XG5cdFx0XHRcdGlmICh0aGlzLnZlcnNpb24gPT0gMSkge1xuXHRcdFx0XHRcdHN1YnNhbXBsZS5zaXplID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdWJzYW1wbGUuc2l6ZSA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0c3Vic2FtcGxlLnByaW9yaXR5ID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHRcdFx0XHRzdWJzYW1wbGUuZGlzY2FyZGFibGUgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdFx0XHRcdHN1YnNhbXBsZS5jb2RlY19zcGVjaWZpY19wYXJhbWV0ZXJzID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3RlbmMuanNcbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcInRlbmNcIiwgXCJUcmFja0VuY3J5cHRpb25Cb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHN0cmVhbS5yZWFkVWludDgoKTsgLy8gcmVzZXJ2ZWRcblx0aWYgKHRoaXMudmVyc2lvbiA9PT0gMCkge1xuXHRcdHN0cmVhbS5yZWFkVWludDgoKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgdG1wID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHRcdHRoaXMuZGVmYXVsdF9jcnlwdF9ieXRlX2Jsb2NrID0gKHRtcCA+PiA0KSAmIDB4Rjtcblx0XHR0aGlzLmRlZmF1bHRfc2tpcF9ieXRlX2Jsb2NrID0gdG1wICYgMHhGO1xuXHR9XG5cdHRoaXMuZGVmYXVsdF9pc1Byb3RlY3RlZCA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0dGhpcy5kZWZhdWx0X1Blcl9TYW1wbGVfSVZfU2l6ZSA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0dGhpcy5kZWZhdWx0X0tJRCA9IEJveFBhcnNlci5wYXJzZUhleDE2KHN0cmVhbSk7XG5cdGlmICh0aGlzLmRlZmF1bHRfaXNQcm90ZWN0ZWQgPT09IDEgJiYgdGhpcy5kZWZhdWx0X1Blcl9TYW1wbGVfSVZfU2l6ZSA9PT0gMCkge1xuXHRcdHRoaXMuZGVmYXVsdF9jb25zdGFudF9JVl9zaXplID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHRcdHRoaXMuZGVmYXVsdF9jb25zdGFudF9JViA9IHN0cmVhbS5yZWFkVWludDhBcnJheSh0aGlzLmRlZmF1bHRfY29uc3RhbnRfSVZfc2l6ZSk7XG5cdH1cbn0pOy8vIGZpbGU6c3JjL3BhcnNpbmcvdGZkdC5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwidGZkdFwiLCBcIlRyYWNrRnJhZ21lbnRCYXNlTWVkaWFEZWNvZGVUaW1lQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHRpZiAodGhpcy52ZXJzaW9uID09IDEpIHtcblx0XHR0aGlzLmJhc2VNZWRpYURlY29kZVRpbWUgPSBzdHJlYW0ucmVhZFVpbnQ2NCgpO1xuXHR9IGVsc2Uge1xuXHRcdHRoaXMuYmFzZU1lZGlhRGVjb2RlVGltZSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdH1cbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3RmaGQuanNcbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcInRmaGRcIiwgXCJUcmFja0ZyYWdtZW50SGVhZGVyQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR2YXIgcmVhZEJ5dGVzID0gMDtcblx0dGhpcy50cmFja19pZCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdGlmICh0aGlzLnNpemUgLSB0aGlzLmhkcl9zaXplID4gcmVhZEJ5dGVzICYmICh0aGlzLmZsYWdzICYgQm94UGFyc2VyLlRGSERfRkxBR19CQVNFX0RBVEFfT0ZGU0VUKSkge1xuXHRcdHRoaXMuYmFzZV9kYXRhX29mZnNldCA9IHN0cmVhbS5yZWFkVWludDY0KCk7XG5cdFx0cmVhZEJ5dGVzICs9IDg7XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5iYXNlX2RhdGFfb2Zmc2V0ID0gMDtcblx0fVxuXHRpZiAodGhpcy5zaXplIC0gdGhpcy5oZHJfc2l6ZSA+IHJlYWRCeXRlcyAmJiAodGhpcy5mbGFncyAmIEJveFBhcnNlci5URkhEX0ZMQUdfU0FNUExFX0RFU0MpKSB7XG5cdFx0dGhpcy5kZWZhdWx0X3NhbXBsZV9kZXNjcmlwdGlvbl9pbmRleCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0cmVhZEJ5dGVzICs9IDQ7XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5kZWZhdWx0X3NhbXBsZV9kZXNjcmlwdGlvbl9pbmRleCA9IDA7XG5cdH1cblx0aWYgKHRoaXMuc2l6ZSAtIHRoaXMuaGRyX3NpemUgPiByZWFkQnl0ZXMgJiYgKHRoaXMuZmxhZ3MgJiBCb3hQYXJzZXIuVEZIRF9GTEFHX1NBTVBMRV9EVVIpKSB7XG5cdFx0dGhpcy5kZWZhdWx0X3NhbXBsZV9kdXJhdGlvbiA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0cmVhZEJ5dGVzICs9IDQ7XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5kZWZhdWx0X3NhbXBsZV9kdXJhdGlvbiA9IDA7XG5cdH1cblx0aWYgKHRoaXMuc2l6ZSAtIHRoaXMuaGRyX3NpemUgPiByZWFkQnl0ZXMgJiYgKHRoaXMuZmxhZ3MgJiBCb3hQYXJzZXIuVEZIRF9GTEFHX1NBTVBMRV9TSVpFKSkge1xuXHRcdHRoaXMuZGVmYXVsdF9zYW1wbGVfc2l6ZSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0cmVhZEJ5dGVzICs9IDQ7XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5kZWZhdWx0X3NhbXBsZV9zaXplID0gMDtcblx0fVxuXHRpZiAodGhpcy5zaXplIC0gdGhpcy5oZHJfc2l6ZSA+IHJlYWRCeXRlcyAmJiAodGhpcy5mbGFncyAmIEJveFBhcnNlci5URkhEX0ZMQUdfU0FNUExFX0ZMQUdTKSkge1xuXHRcdHRoaXMuZGVmYXVsdF9zYW1wbGVfZmxhZ3MgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRcdHJlYWRCeXRlcyArPSA0O1xuXHR9IGVsc2Uge1xuXHRcdHRoaXMuZGVmYXVsdF9zYW1wbGVfZmxhZ3MgPSAwO1xuXHR9XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy90ZnJhLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJ0ZnJhXCIsIFwiVHJhY2tGcmFnbWVudFJhbmRvbUFjY2Vzc0JveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy50cmFja19JRCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdHN0cmVhbS5yZWFkVWludDI0KCk7XG5cdHZhciB0bXBfYnl0ZSA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0dGhpcy5sZW5ndGhfc2l6ZV9vZl90cmFmX251bSA9ICh0bXBfYnl0ZSA+PiA0KSAmIDB4Mztcblx0dGhpcy5sZW5ndGhfc2l6ZV9vZl90cnVuX251bSA9ICh0bXBfYnl0ZSA+PiAyKSAmIDB4Mztcblx0dGhpcy5sZW5ndGhfc2l6ZV9vZl9zYW1wbGVfbnVtID0gKHRtcF9ieXRlKSAmIDB4Mztcblx0dGhpcy5lbnRyaWVzID0gW107XG5cdHZhciBudW1iZXJfb2ZfZW50cmllcyA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbnVtYmVyX29mX2VudHJpZXM7IGkrKykge1xuXHRcdGlmICh0aGlzLnZlcnNpb24gPT09IDEpIHtcblx0XHRcdHRoaXMudGltZSA9IHN0cmVhbS5yZWFkVWludDY0KCk7XG5cdFx0XHR0aGlzLm1vb2Zfb2Zmc2V0ID0gc3RyZWFtLnJlYWRVaW50NjQoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy50aW1lID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0XHRcdHRoaXMubW9vZl9vZmZzZXQgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRcdH1cblx0XHR0aGlzLnRyYWZfbnVtYmVyID0gc3RyZWFtW1wicmVhZFVpbnRcIisoOCoodGhpcy5sZW5ndGhfc2l6ZV9vZl90cmFmX251bSsxKSldKCk7XG5cdFx0dGhpcy50cnVuX251bWJlciA9IHN0cmVhbVtcInJlYWRVaW50XCIrKDgqKHRoaXMubGVuZ3RoX3NpemVfb2ZfdHJ1bl9udW0rMSkpXSgpO1xuXHRcdHRoaXMuc2FtcGxlX251bWJlciA9IHN0cmVhbVtcInJlYWRVaW50XCIrKDgqKHRoaXMubGVuZ3RoX3NpemVfb2Zfc2FtcGxlX251bSsxKSldKCk7XG5cdH1cbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3RraGQuanNcbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcInRraGRcIiwgXCJUcmFja0hlYWRlckJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0aWYgKHRoaXMudmVyc2lvbiA9PSAxKSB7XG5cdFx0dGhpcy5jcmVhdGlvbl90aW1lID0gc3RyZWFtLnJlYWRVaW50NjQoKTtcblx0XHR0aGlzLm1vZGlmaWNhdGlvbl90aW1lID0gc3RyZWFtLnJlYWRVaW50NjQoKTtcblx0XHR0aGlzLnRyYWNrX2lkID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0XHRzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRcdHRoaXMuZHVyYXRpb24gPSBzdHJlYW0ucmVhZFVpbnQ2NCgpO1xuXHR9IGVsc2Uge1xuXHRcdHRoaXMuY3JlYXRpb25fdGltZSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0dGhpcy5tb2RpZmljYXRpb25fdGltZSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0dGhpcy50cmFja19pZCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0c3RyZWFtLnJlYWRVaW50MzIoKTtcblx0XHR0aGlzLmR1cmF0aW9uID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0fVxuXHRzdHJlYW0ucmVhZFVpbnQzMkFycmF5KDIpO1xuXHR0aGlzLmxheWVyID0gc3RyZWFtLnJlYWRJbnQxNigpO1xuXHR0aGlzLmFsdGVybmF0ZV9ncm91cCA9IHN0cmVhbS5yZWFkSW50MTYoKTtcblx0dGhpcy52b2x1bWUgPSBzdHJlYW0ucmVhZEludDE2KCk+Pjg7XG5cdHN0cmVhbS5yZWFkVWludDE2KCk7XG5cdHRoaXMubWF0cml4ID0gc3RyZWFtLnJlYWRJbnQzMkFycmF5KDkpO1xuXHR0aGlzLndpZHRoID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0dGhpcy5oZWlnaHQgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvdG1heC5qc1xuQm94UGFyc2VyLmNyZWF0ZUJveEN0b3IoXCJ0bWF4XCIsIFwiaGludG1heHJlbGF0aXZldGltZVwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy50aW1lID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3RtaW4uanNcbkJveFBhcnNlci5jcmVhdGVCb3hDdG9yKFwidG1pblwiLCBcImhpbnRtaW5yZWxhdGl2ZXRpbWVcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMudGltZSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy90b3RsLmpzXG5Cb3hQYXJzZXIuY3JlYXRlQm94Q3RvcihcInRvdGxcIiwgXCJoaW50Qnl0ZXNTZW50XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLmJ5dGVzc2VudCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy90cGF5LmpzXG5Cb3hQYXJzZXIuY3JlYXRlQm94Q3RvcihcInRwYXlcIiwgXCJoaW50Qnl0ZXNTZW50XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLmJ5dGVzc2VudCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy90cHlsLmpzXG5Cb3hQYXJzZXIuY3JlYXRlQm94Q3RvcihcInRweWxcIiwgXCJoaW50Qnl0ZXNTZW50XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLmJ5dGVzc2VudCA9IHN0cmVhbS5yZWFkVWludDY0KCk7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy9UcmFja0dyb3VwLmpzXG5Cb3hQYXJzZXIuVHJhY2tHcm91cFR5cGVCb3gucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMucGFyc2VGdWxsSGVhZGVyKHN0cmVhbSk7XG5cdHRoaXMudHJhY2tfZ3JvdXBfaWQgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xufVxuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3RyYWNrZ3JvdXBzL21zcmMuanNcbkJveFBhcnNlci5jcmVhdGVUcmFja0dyb3VwQ3RvcihcIm1zcmNcIik7Ly8gZmlsZTpzcmMvcGFyc2luZy9UcmFrUmVmZXJlbmNlLmpzXG5Cb3hQYXJzZXIuVHJhY2tSZWZlcmVuY2VUeXBlQm94ID0gZnVuY3Rpb24odHlwZSwgc2l6ZSwgaGRyX3NpemUsIHN0YXJ0KSB7XG5cdEJveFBhcnNlci5Cb3guY2FsbCh0aGlzLCB0eXBlLCBzaXplKTtcblx0dGhpcy5oZHJfc2l6ZSA9IGhkcl9zaXplO1xuXHR0aGlzLnN0YXJ0ID0gc3RhcnQ7XG59XG5Cb3hQYXJzZXIuVHJhY2tSZWZlcmVuY2VUeXBlQm94LnByb3RvdHlwZSA9IG5ldyBCb3hQYXJzZXIuQm94KCk7XG5Cb3hQYXJzZXIuVHJhY2tSZWZlcmVuY2VUeXBlQm94LnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnRyYWNrX2lkcyA9IHN0cmVhbS5yZWFkVWludDMyQXJyYXkoKHRoaXMuc2l6ZS10aGlzLmhkcl9zaXplKS80KTtcbn1cblxuLy8gZmlsZTpzcmMvcGFyc2luZy90cmVmLmpzXG5Cb3hQYXJzZXIudHJlZkJveC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbihzdHJlYW0pIHtcblx0dmFyIHJldDtcblx0dmFyIGJveDtcblx0d2hpbGUgKHN0cmVhbS5nZXRQb3NpdGlvbigpIDwgdGhpcy5zdGFydCt0aGlzLnNpemUpIHtcblx0XHRyZXQgPSBCb3hQYXJzZXIucGFyc2VPbmVCb3goc3RyZWFtLCB0cnVlLCB0aGlzLnNpemUgLSAoc3RyZWFtLmdldFBvc2l0aW9uKCkgLSB0aGlzLnN0YXJ0KSk7XG5cdFx0aWYgKHJldC5jb2RlID09PSBCb3hQYXJzZXIuT0spIHtcblx0XHRcdGJveCA9IG5ldyBCb3hQYXJzZXIuVHJhY2tSZWZlcmVuY2VUeXBlQm94KHJldC50eXBlLCByZXQuc2l6ZSwgcmV0Lmhkcl9zaXplLCByZXQuc3RhcnQpO1xuXHRcdFx0aWYgKGJveC53cml0ZSA9PT0gQm94UGFyc2VyLkJveC5wcm90b3R5cGUud3JpdGUgJiYgYm94LnR5cGUgIT09IFwibWRhdFwiKSB7XG5cdFx0XHRcdExvZy5pbmZvKFwiQm94UGFyc2VyXCIsIFwiVHJhY2tSZWZlcmVuY2UgXCIrYm94LnR5cGUrXCIgYm94IHdyaXRpbmcgbm90IHlldCBpbXBsZW1lbnRlZCwga2VlcGluZyB1bnBhcnNlZCBkYXRhIGluIG1lbW9yeSBmb3IgbGF0ZXIgd3JpdGVcIik7XG5cdFx0XHRcdGJveC5wYXJzZURhdGFBbmRSZXdpbmQoc3RyZWFtKTtcblx0XHRcdH1cblx0XHRcdGJveC5wYXJzZShzdHJlYW0pO1xuXHRcdFx0dGhpcy5ib3hlcy5wdXNoKGJveCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdH1cbn1cblxuLy8gZmlsZTpzcmMvcGFyc2luZy90cmVwLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJ0cmVwXCIsIFwiVHJhY2tFeHRlbnNpb25Qcm9wZXJ0aWVzQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnRyYWNrX0lEID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0dGhpcy5ib3hlcyA9IFtdO1xuXHR3aGlsZSAoc3RyZWFtLmdldFBvc2l0aW9uKCkgPCB0aGlzLnN0YXJ0K3RoaXMuc2l6ZSkge1xuXHRcdHJldCA9IEJveFBhcnNlci5wYXJzZU9uZUJveChzdHJlYW0sIGZhbHNlLCB0aGlzLnNpemUgLSAoc3RyZWFtLmdldFBvc2l0aW9uKCkgLSB0aGlzLnN0YXJ0KSk7XG5cdFx0aWYgKHJldC5jb2RlID09PSBCb3hQYXJzZXIuT0spIHtcblx0XHRcdGJveCA9IHJldC5ib3g7XG5cdFx0XHR0aGlzLmJveGVzLnB1c2goYm94KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvdHJleC5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwidHJleFwiLCBcIlRyYWNrRXh0ZW5kc0JveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy50cmFja19pZCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdHRoaXMuZGVmYXVsdF9zYW1wbGVfZGVzY3JpcHRpb25faW5kZXggPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHR0aGlzLmRlZmF1bHRfc2FtcGxlX2R1cmF0aW9uID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0dGhpcy5kZWZhdWx0X3NhbXBsZV9zaXplID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0dGhpcy5kZWZhdWx0X3NhbXBsZV9mbGFncyA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy90cnB5LmpzXG5Cb3hQYXJzZXIuY3JlYXRlQm94Q3RvcihcInRycHlcIiwgXCJoaW50Qnl0ZXNTZW50XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLmJ5dGVzc2VudCA9IHN0cmVhbS5yZWFkVWludDY0KCk7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy90cnVuLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJ0cnVuXCIsIFwiVHJhY2tSdW5Cb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHZhciByZWFkQnl0ZXMgPSAwO1xuXHR0aGlzLnNhbXBsZV9jb3VudCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdHJlYWRCeXRlcys9IDQ7XG5cdGlmICh0aGlzLnNpemUgLSB0aGlzLmhkcl9zaXplID4gcmVhZEJ5dGVzICYmICh0aGlzLmZsYWdzICYgQm94UGFyc2VyLlRSVU5fRkxBR1NfREFUQV9PRkZTRVQpICkge1xuXHRcdHRoaXMuZGF0YV9vZmZzZXQgPSBzdHJlYW0ucmVhZEludDMyKCk7IC8vc2lnbmVkXG5cdFx0cmVhZEJ5dGVzICs9IDQ7XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5kYXRhX29mZnNldCA9IDA7XG5cdH1cblx0aWYgKHRoaXMuc2l6ZSAtIHRoaXMuaGRyX3NpemUgPiByZWFkQnl0ZXMgJiYgKHRoaXMuZmxhZ3MgJiBCb3hQYXJzZXIuVFJVTl9GTEFHU19GSVJTVF9GTEFHKSApIHtcblx0XHR0aGlzLmZpcnN0X3NhbXBsZV9mbGFncyA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0cmVhZEJ5dGVzICs9IDQ7XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5maXJzdF9zYW1wbGVfZmxhZ3MgPSAwO1xuXHR9XG5cdHRoaXMuc2FtcGxlX2R1cmF0aW9uID0gW107XG5cdHRoaXMuc2FtcGxlX3NpemUgPSBbXTtcblx0dGhpcy5zYW1wbGVfZmxhZ3MgPSBbXTtcblx0dGhpcy5zYW1wbGVfY29tcG9zaXRpb25fdGltZV9vZmZzZXQgPSBbXTtcblx0aWYgKHRoaXMuc2l6ZSAtIHRoaXMuaGRyX3NpemUgPiByZWFkQnl0ZXMpIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2FtcGxlX2NvdW50OyBpKyspIHtcblx0XHRcdGlmICh0aGlzLmZsYWdzICYgQm94UGFyc2VyLlRSVU5fRkxBR1NfRFVSQVRJT04pIHtcblx0XHRcdFx0dGhpcy5zYW1wbGVfZHVyYXRpb25baV0gPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRoaXMuZmxhZ3MgJiBCb3hQYXJzZXIuVFJVTl9GTEFHU19TSVpFKSB7XG5cdFx0XHRcdHRoaXMuc2FtcGxlX3NpemVbaV0gPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRoaXMuZmxhZ3MgJiBCb3hQYXJzZXIuVFJVTl9GTEFHU19GTEFHUykge1xuXHRcdFx0XHR0aGlzLnNhbXBsZV9mbGFnc1tpXSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5mbGFncyAmIEJveFBhcnNlci5UUlVOX0ZMQUdTX0NUU19PRkZTRVQpIHtcblx0XHRcdFx0aWYgKHRoaXMudmVyc2lvbiA9PT0gMCkge1xuXHRcdFx0XHRcdHRoaXMuc2FtcGxlX2NvbXBvc2l0aW9uX3RpbWVfb2Zmc2V0W2ldID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLnNhbXBsZV9jb21wb3NpdGlvbl90aW1lX29mZnNldFtpXSA9IHN0cmVhbS5yZWFkSW50MzIoKTsgLy9zaWduZWRcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvdHNlbC5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwidHNlbFwiLCBcIlRyYWNrU2VsZWN0aW9uQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnN3aXRjaF9ncm91cCA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdHZhciBjb3VudCA9ICh0aGlzLnNpemUgLSB0aGlzLmhkcl9zaXplIC0gNCkvNDtcblx0dGhpcy5hdHRyaWJ1dGVfbGlzdCA9IFtdO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcblx0XHR0aGlzLmF0dHJpYnV0ZV9saXN0W2ldID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvdHh0Qy5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwidHh0Q1wiLCBcIlRleHRDb25maWdCb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMuY29uZmlnID0gc3RyZWFtLnJlYWRDU3RyaW5nKCk7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy90eWNvLmpzXG5Cb3hQYXJzZXIuY3JlYXRlQm94Q3RvcihcInR5Y29cIiwgXCJUeXBlQ29tYmluYXRpb25Cb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHZhciBjb3VudCA9ICh0aGlzLnNpemUgLSB0aGlzLmhkcl9zaXplKSAvIDQ7XG5cdHRoaXMuY29tcGF0aWJsZV9icmFuZHMgPSBbXTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG5cdFx0dGhpcy5jb21wYXRpYmxlX2JyYW5kc1tpXSA9IHN0cmVhbS5yZWFkU3RyaW5nKDQpO1xuXHR9XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy91ZGVzLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJ1ZGVzXCIsIFwiVXNlckRlc2NyaXB0aW9uUHJvcGVydHlcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMubGFuZyA9IHN0cmVhbS5yZWFkQ1N0cmluZygpO1xuXHR0aGlzLm5hbWUgPSBzdHJlYW0ucmVhZENTdHJpbmcoKTtcblx0dGhpcy5kZXNjcmlwdGlvbiA9IHN0cmVhbS5yZWFkQ1N0cmluZygpO1xuXHR0aGlzLnRhZ3MgPSBzdHJlYW0ucmVhZENTdHJpbmcoKTtcbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3VuY0MuanNcbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcInVuY0NcIiwgXCJVbmNvbXByZXNzZWRGcmFtZUNvbmZpZ0JveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcbiAgICB2YXIgaTtcbiAgICB0aGlzLnByb2ZpbGUgPSBzdHJlYW0ucmVhZFN0cmluZyg0KTtcbiAgICBpZiAodGhpcy52ZXJzaW9uID09IDEpIHtcbiAgICAgICAgLy8gTm90aGluZyAtIGp1c3QgdGhlIHByb2ZpbGVcbiAgICB9IGVsc2UgaWYgKHRoaXMudmVyc2lvbiA9PSAwKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50X2NvdW50ID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRfaW5kZXggPSBbXTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRfYml0X2RlcHRoX21pbnVzX29uZSA9IFtdO1xuICAgICAgICB0aGlzLmNvbXBvbmVudF9mb3JtYXQgPSBbXTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRfYWxpZ25fc2l6ZSA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5jb21wb25lbnRfY291bnQ7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRfaW5kZXgucHVzaChzdHJlYW0ucmVhZFVpbnQxNigpKTtcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50X2JpdF9kZXB0aF9taW51c19vbmUucHVzaChzdHJlYW0ucmVhZFVpbnQ4KCkpO1xuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRfZm9ybWF0LnB1c2goc3RyZWFtLnJlYWRVaW50OCgpKTtcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50X2FsaWduX3NpemUucHVzaChzdHJlYW0ucmVhZFVpbnQ4KCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2FtcGxpbmdfdHlwZSA9IHN0cmVhbS5yZWFkVWludDgoKTtcbiAgICAgICAgdGhpcy5pbnRlcmxlYXZlX3R5cGUgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG4gICAgICAgIHRoaXMuYmxvY2tfc2l6ZSA9IHN0cmVhbS5yZWFkVWludDgoKTtcbiAgICAgICAgdmFyIGZsYWdzID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudF9saXR0bGVfZW5kaWFuID0gKGZsYWdzID4+IDcpICYgMHgxO1xuICAgICAgICB0aGlzLmJsb2NrX3BhZF9sc2IgPSAoZmxhZ3MgPj4gNikgJiAweDE7XG4gICAgICAgIHRoaXMuYmxvY2tfbGl0dGxlX2VuZGlhbiA9IChmbGFncyA+PiA1KSAmIDB4MTtcbiAgICAgICAgdGhpcy5ibG9ja19yZXZlcnNlZCA9IChmbGFncyA+PiA0KSAmIDB4MTtcbiAgICAgICAgdGhpcy5wYWRfdW5rbm93biA9IChmbGFncyA+PiAzKSAmIDB4MTtcbiAgICAgICAgdGhpcy5waXhlbF9zaXplID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcbiAgICAgICAgdGhpcy5yb3dfYWxpZ25fc2l6ZSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG4gICAgICAgIHRoaXMudGlsZV9hbGlnbl9zaXplID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcbiAgICAgICAgdGhpcy5udW1fdGlsZV9jb2xzX21pbnVzX29uZSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG4gICAgICAgIHRoaXMubnVtX3RpbGVfcm93c19taW51c19vbmUgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuICAgIH1cbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3VybC5qc1xuQm94UGFyc2VyLmNyZWF0ZUZ1bGxCb3hDdG9yKFwidXJsIFwiLCBcIkRhdGFFbnRyeVVybEJveFwiLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0aWYgKHRoaXMuZmxhZ3MgIT09IDB4MDAwMDAxKSB7XG5cdFx0dGhpcy5sb2NhdGlvbiA9IHN0cmVhbS5yZWFkQ1N0cmluZygpO1xuXHR9XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy91cm4uanNcbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcInVybiBcIiwgXCJEYXRhRW50cnlVcm5Cb3hcIiwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMubmFtZSA9IHN0cmVhbS5yZWFkQ1N0cmluZygpO1xuXHRpZiAodGhpcy5zaXplIC0gdGhpcy5oZHJfc2l6ZSAtIHRoaXMubmFtZS5sZW5ndGggLSAxID4gMCkge1xuXHRcdHRoaXMubG9jYXRpb24gPSBzdHJlYW0ucmVhZENTdHJpbmcoKTtcblx0fVxufSk7XG5cbi8vIGZpbGU6c3JjL3BhcnNpbmcvdXVpZC9waWZmL3BpZmZMc20uanNcbkJveFBhcnNlci5jcmVhdGVVVUlEQm94KFwiYTVkNDBiMzBlODE0MTFkZGJhMmYwODAwMjAwYzlhNjZcIiwgXCJMaXZlU2VydmVyTWFuaWZlc3RCb3hcIiwgdHJ1ZSwgZmFsc2UsIGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgIHRoaXMuTGl2ZVNlcnZlck1hbmlmZXN0ID0gc3RyZWFtLnJlYWRTdHJpbmcodGhpcy5zaXplIC0gdGhpcy5oZHJfc2l6ZSlcbiAgICAgICAgLnJlcGxhY2UoLyYvZywgXCImYW1wO1wiKVxuICAgICAgICAucmVwbGFjZSgvPC9nLCBcIiZsdDtcIilcbiAgICAgICAgLnJlcGxhY2UoLz4vZywgXCImZ3Q7XCIpXG4gICAgICAgIC5yZXBsYWNlKC9cIi9nLCBcIiZxdW90O1wiKVxuICAgICAgICAucmVwbGFjZSgvJy9nLCBcIiYjMDM5O1wiKTtcbn0pOy8vIGZpbGU6c3JjL3BhcnNpbmcvdXVpZC9waWZmL3BpZmZQc3NoLmpzXG5Cb3hQYXJzZXIuY3JlYXRlVVVJREJveChcImQwOGE0ZjE4MTBmMzRhODJiNmM4MzJkOGFiYTE4M2QzXCIsIFwiUGlmZlByb3RlY3Rpb25TeXN0ZW1TcGVjaWZpY0hlYWRlckJveFwiLCB0cnVlLCBmYWxzZSwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMuc3lzdGVtX2lkID0gQm94UGFyc2VyLnBhcnNlSGV4MTYoc3RyZWFtKTtcblx0dmFyIGRhdGFzaXplID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcblx0aWYgKGRhdGFzaXplID4gMCkge1xuXHRcdHRoaXMuZGF0YSA9IHN0cmVhbS5yZWFkVWludDhBcnJheShkYXRhc2l6ZSk7XG5cdH1cbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3V1aWQvcGlmZi9waWZmU2VuYy5qc1xuQm94UGFyc2VyLmNyZWF0ZVVVSURCb3goXCJhMjM5NGY1MjVhOWI0ZjE0YTI0NDZjNDI3YzY0OGRmNFwiLCBcIlBpZmZTYW1wbGVFbmNyeXB0aW9uQm94XCIsIHRydWUsIGZhbHNlIC8qLCBmdW5jdGlvbihzdHJlYW0pIHtcblx0aWYgKHRoaXMuZmxhZ3MgJiAweDEpIHtcblx0XHR0aGlzLkFsZ29yaXRobUlEID0gc3RyZWFtLnJlYWRVaW50MjQoKTtcblx0XHR0aGlzLklWX3NpemUgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdFx0dGhpcy5LSUQgPSBCb3hQYXJzZXIucGFyc2VIZXgxNihzdHJlYW0pO1xuXHR9XG5cdHZhciBzYW1wbGVfY291bnQgPSBzdHJlYW0ucmVhZFVpbnQzMigpO1xuXHR0aGlzLnNhbXBsZXMgPSBbXTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzYW1wbGVfY291bnQ7IGkrKykge1xuXHRcdHZhciBzYW1wbGUgPSB7fTtcblx0XHRzYW1wbGUuSW5pdGlhbGl6YXRpb25WZWN0b3IgPSB0aGlzLnJlYWRVaW50OEFycmF5KHRoaXMuSVZfc2l6ZSo4KTtcblx0XHRpZiAodGhpcy5mbGFncyAmIDB4Mikge1xuXHRcdFx0c2FtcGxlLnN1YnNhbXBsZXMgPSBbXTtcblx0XHRcdHNhbXBsZS5OdW1iZXJPZkVudHJpZXMgPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBzYW1wbGUuTnVtYmVyT2ZFbnRyaWVzOyBqKyspIHtcblx0XHRcdFx0dmFyIHN1YnNhbXBsZSA9IHt9O1xuXHRcdFx0XHRzdWJzYW1wbGUuQnl0ZXNPZkNsZWFyRGF0YSA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG5cdFx0XHRcdHN1YnNhbXBsZS5CeXRlc09mUHJvdGVjdGVkRGF0YSA9IHN0cmVhbS5yZWFkVWludDMyKCk7XG5cdFx0XHRcdHNhbXBsZS5zdWJzYW1wbGVzLnB1c2goc3Vic2FtcGxlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5zYW1wbGVzLnB1c2goc2FtcGxlKTtcblx0fVxufSovKTtcbi8vIGZpbGU6c3JjL3BhcnNpbmcvdXVpZC9waWZmL3BpZmZUZW5jLmpzXG5Cb3hQYXJzZXIuY3JlYXRlVVVJREJveChcIjg5NzRkYmNlN2JlNzRjNTE4NGY5NzE0OGY5ODgyNTU0XCIsIFwiUGlmZlRyYWNrRW5jcnlwdGlvbkJveFwiLCB0cnVlLCBmYWxzZSwgZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMuZGVmYXVsdF9BbGdvcml0aG1JRCA9IHN0cmVhbS5yZWFkVWludDI0KCk7XG5cdHRoaXMuZGVmYXVsdF9JVl9zaXplID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHR0aGlzLmRlZmF1bHRfS0lEID0gQm94UGFyc2VyLnBhcnNlSGV4MTYoc3RyZWFtKTtcbn0pOy8vIGZpbGU6c3JjL3BhcnNpbmcvdXVpZC9waWZmL3BpZmZUZnJmLmpzXG5Cb3hQYXJzZXIuY3JlYXRlVVVJREJveChcImQ0ODA3ZWYyY2EzOTQ2OTU4ZTU0MjZjYjllNDZhNzlmXCIsIFwiVGZyZkJveFwiLCB0cnVlLCBmYWxzZSwgZnVuY3Rpb24oc3RyZWFtKSB7XG4gICAgdGhpcy5mcmFnbWVudF9jb3VudCA9IHN0cmVhbS5yZWFkVWludDgoKTtcbiAgICB0aGlzLmVudHJpZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5mcmFnbWVudF9jb3VudDsgaSsrKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHt9O1xuICAgICAgICB2YXIgYWJzb2x1dGVfdGltZSA9IDA7XG4gICAgICAgIHZhciBhYnNvbHV0ZV9kdXJhdGlvbiA9IDA7XG5cbiAgICAgICAgaWYgKHRoaXMudmVyc2lvbiA9PT0gMSkge1xuICAgICAgICAgICAgYWJzb2x1dGVfdGltZSA9IHN0cmVhbS5yZWFkVWludDY0KCk7XG4gICAgICAgICAgICBhYnNvbHV0ZV9kdXJhdGlvbiA9IHN0cmVhbS5yZWFkVWludDY0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhYnNvbHV0ZV90aW1lID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcbiAgICAgICAgICAgIGFic29sdXRlX2R1cmF0aW9uID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVudHJ5LmFic29sdXRlX3RpbWUgPSBhYnNvbHV0ZV90aW1lO1xuICAgICAgICBlbnRyeS5hYnNvbHV0ZV9kdXJhdGlvbiA9IGFic29sdXRlX2R1cmF0aW9uO1xuXG4gICAgICAgIHRoaXMuZW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICB9XG59KTsvLyBmaWxlOnNyYy9wYXJzaW5nL3V1aWQvcGlmZi9waWZmVGZ4ZC5qc1xuQm94UGFyc2VyLmNyZWF0ZVVVSURCb3goXCI2ZDFkOWIwNTQyZDU0NGU2ODBlMjE0MWRhZmY3NTdiMlwiLCBcIlRmeGRCb3hcIiwgdHJ1ZSwgZmFsc2UsIGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgIGlmICh0aGlzLnZlcnNpb24gPT09IDEpIHtcbiAgICAgICB0aGlzLmFic29sdXRlX3RpbWUgPSBzdHJlYW0ucmVhZFVpbnQ2NCgpO1xuICAgICAgIHRoaXMuZHVyYXRpb24gPSBzdHJlYW0ucmVhZFVpbnQ2NCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgdGhpcy5hYnNvbHV0ZV90aW1lID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcbiAgICAgICB0aGlzLmR1cmF0aW9uID0gc3RyZWFtLnJlYWRVaW50MzIoKTtcbiAgICB9XG59KTsvLyBmaWxlOnNyYy9wYXJzaW5nL3ZtaGQuanNcbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcInZtaGRcIiwgXCJWaWRlb01lZGlhSGVhZGVyQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLmdyYXBoaWNzbW9kZSA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG5cdHRoaXMub3Bjb2xvciA9IHN0cmVhbS5yZWFkVWludDE2QXJyYXkoMyk7XG59KTtcblxuLy8gZmlsZTpzcmMvcGFyc2luZy92cGNDLmpzXG5Cb3hQYXJzZXIuY3JlYXRlRnVsbEJveEN0b3IoXCJ2cGNDXCIsIFwiVlBDb2RlY0NvbmZpZ3VyYXRpb25SZWNvcmRcIiwgZnVuY3Rpb24gKHN0cmVhbSkge1xuXHR2YXIgdG1wO1xuXHRpZiAodGhpcy52ZXJzaW9uID09PSAxKSB7XG5cdFx0dGhpcy5wcm9maWxlID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHRcdHRoaXMubGV2ZWwgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdFx0dG1wID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHRcdHRoaXMuYml0RGVwdGggPSB0bXAgPj4gNDtcblx0XHR0aGlzLmNocm9tYVN1YnNhbXBsaW5nID0gKHRtcCA+PiAxKSAmIDB4Nztcblx0XHR0aGlzLnZpZGVvRnVsbFJhbmdlRmxhZyA9IHRtcCAmIDB4MTtcblx0XHR0aGlzLmNvbG91clByaW1hcmllcyA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0XHR0aGlzLnRyYW5zZmVyQ2hhcmFjdGVyaXN0aWNzID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHRcdHRoaXMubWF0cml4Q29lZmZpY2llbnRzID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXHRcdHRoaXMuY29kZWNJbnRpYWxpemF0aW9uRGF0YVNpemUgPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHRcdHRoaXMuY29kZWNJbnRpYWxpemF0aW9uRGF0YSA9IHN0cmVhbS5yZWFkVWludDhBcnJheSh0aGlzLmNvZGVjSW50aWFsaXphdGlvbkRhdGFTaXplKTtcblx0fSBlbHNlIHtcblx0XHR0aGlzLnByb2ZpbGUgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdFx0dGhpcy5sZXZlbCA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0XHR0bXAgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG5cdFx0dGhpcy5iaXREZXB0aCA9ICh0bXAgPj4gNCkgJiAweEY7XG5cdFx0dGhpcy5jb2xvclNwYWNlID0gdG1wICYgMHhGO1xuXHRcdHRtcCA9IHN0cmVhbS5yZWFkVWludDgoKTtcblx0XHR0aGlzLmNocm9tYVN1YnNhbXBsaW5nID0gKHRtcCA+PiA0KSAmIDB4Rjtcblx0XHR0aGlzLnRyYW5zZmVyRnVuY3Rpb24gPSAodG1wID4+IDEpICYgMHg3O1xuXHRcdHRoaXMudmlkZW9GdWxsUmFuZ2VGbGFnID0gdG1wICYgMHgxO1xuXHRcdHRoaXMuY29kZWNJbnRpYWxpemF0aW9uRGF0YVNpemUgPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuXHRcdHRoaXMuY29kZWNJbnRpYWxpemF0aW9uRGF0YSA9IHN0cmVhbS5yZWFkVWludDhBcnJheSh0aGlzLmNvZGVjSW50aWFsaXphdGlvbkRhdGFTaXplKTtcblx0fVxufSk7Ly8gZmlsZTpzcmMvcGFyc2luZy92dHRDLmpzXG5Cb3hQYXJzZXIuY3JlYXRlQm94Q3RvcihcInZ0dENcIiwgXCJXZWJWVFRDb25maWd1cmF0aW9uQm94XCIsIGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnRleHQgPSBzdHJlYW0ucmVhZFN0cmluZyh0aGlzLnNpemUgLSB0aGlzLmhkcl9zaXplKTtcbn0pO1xuXG4vLyBmaWxlOnNyYy9wYXJzaW5nL3Z2Y0MuanNcbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcInZ2Y0NcIiwgXCJWdmNDb25maWd1cmF0aW9uQm94XCIsIGZ1bmN0aW9uIChzdHJlYW0pIHtcbiAgdmFyIGksIGo7XG5cbiAgLy8gaGVscGVyIG9iamVjdCB0byBzaW1wbGlmeSBleHRyYWN0aW5nIGluZGl2aWR1YWwgYml0c1xuICB2YXIgYml0UmVhZGVyID0ge1xuICAgIGhlbGRfYml0czogdW5kZWZpbmVkLFxuICAgIG51bV9oZWxkX2JpdHM6IDAsXG5cbiAgICBzdHJlYW1fcmVhZF8xX2J5dGVzOiBmdW5jdGlvbiAoc3RybSkge1xuICAgICAgdGhpcy5oZWxkX2JpdHMgPSBzdHJtLnJlYWRVaW50OCgpO1xuICAgICAgdGhpcy5udW1faGVsZF9iaXRzID0gMSAqIDg7XG4gICAgfSxcbiAgICBzdHJlYW1fcmVhZF8yX2J5dGVzOiBmdW5jdGlvbiAoc3RybSkge1xuICAgICAgdGhpcy5oZWxkX2JpdHMgPSBzdHJtLnJlYWRVaW50MTYoKTtcbiAgICAgIHRoaXMubnVtX2hlbGRfYml0cyA9IDIgKiA4O1xuICAgIH0sXG5cbiAgICBleHRyYWN0X2JpdHM6IGZ1bmN0aW9uIChudW1fYml0cykge1xuICAgICAgdmFyIHJldCA9ICh0aGlzLmhlbGRfYml0cyA+PiAodGhpcy5udW1faGVsZF9iaXRzIC0gbnVtX2JpdHMpKSAmICgoMSA8PCBudW1fYml0cykgLSAxKTtcbiAgICAgIHRoaXMubnVtX2hlbGRfYml0cyAtPSBudW1fYml0cztcbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICB9O1xuXG4gIC8vIFZ2Y0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkXG4gIGJpdFJlYWRlci5zdHJlYW1fcmVhZF8xX2J5dGVzKHN0cmVhbSk7XG4gIGJpdFJlYWRlci5leHRyYWN0X2JpdHMoNSk7ICAvLyByZXNlcnZlZFxuICB0aGlzLmxlbmd0aFNpemVNaW51c09uZSA9IGJpdFJlYWRlci5leHRyYWN0X2JpdHMoMik7XG4gIHRoaXMucHRsX3ByZXNlbnRfZmxhZyA9IGJpdFJlYWRlci5leHRyYWN0X2JpdHMoMSk7XG5cbiAgaWYgKHRoaXMucHRsX3ByZXNlbnRfZmxhZykge1xuICAgIGJpdFJlYWRlci5zdHJlYW1fcmVhZF8yX2J5dGVzKHN0cmVhbSk7XG4gICAgdGhpcy5vbHNfaWR4ID0gYml0UmVhZGVyLmV4dHJhY3RfYml0cyg5KTtcbiAgICB0aGlzLm51bV9zdWJsYXllcnMgPSBiaXRSZWFkZXIuZXh0cmFjdF9iaXRzKDMpO1xuICAgIHRoaXMuY29uc3RhbnRfZnJhbWVfcmF0ZSA9IGJpdFJlYWRlci5leHRyYWN0X2JpdHMoMik7XG4gICAgdGhpcy5jaHJvbWFfZm9ybWF0X2lkYyA9IGJpdFJlYWRlci5leHRyYWN0X2JpdHMoMik7XG5cbiAgICBiaXRSZWFkZXIuc3RyZWFtX3JlYWRfMV9ieXRlcyhzdHJlYW0pO1xuICAgIHRoaXMuYml0X2RlcHRoX21pbnVzOCA9IGJpdFJlYWRlci5leHRyYWN0X2JpdHMoMyk7XG4gICAgYml0UmVhZGVyLmV4dHJhY3RfYml0cyg1KTsgIC8vIHJlc2VydmVkXG5cbiAgICAvLyBWdmNQVExSZWNvcmRcbiAgICB7XG4gICAgICBiaXRSZWFkZXIuc3RyZWFtX3JlYWRfMl9ieXRlcyhzdHJlYW0pO1xuICAgICAgYml0UmVhZGVyLmV4dHJhY3RfYml0cygyKTsgIC8vIHJlc2VydmVkXG4gICAgICB0aGlzLm51bV9ieXRlc19jb25zdHJhaW50X2luZm8gPSBiaXRSZWFkZXIuZXh0cmFjdF9iaXRzKDYpO1xuICAgICAgdGhpcy5nZW5lcmFsX3Byb2ZpbGVfaWRjID0gYml0UmVhZGVyLmV4dHJhY3RfYml0cyg3KTtcbiAgICAgIHRoaXMuZ2VuZXJhbF90aWVyX2ZsYWcgPSBiaXRSZWFkZXIuZXh0cmFjdF9iaXRzKDEpO1xuXG4gICAgICB0aGlzLmdlbmVyYWxfbGV2ZWxfaWRjID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuXG4gICAgICBiaXRSZWFkZXIuc3RyZWFtX3JlYWRfMV9ieXRlcyhzdHJlYW0pO1xuICAgICAgdGhpcy5wdGxfZnJhbWVfb25seV9jb25zdHJhaW50X2ZsYWcgPSBiaXRSZWFkZXIuZXh0cmFjdF9iaXRzKDEpO1xuICAgICAgdGhpcy5wdGxfbXVsdGlsYXllcl9lbmFibGVkX2ZsYWcgPSBiaXRSZWFkZXIuZXh0cmFjdF9iaXRzKDEpO1xuXG4gICAgICB0aGlzLmdlbmVyYWxfY29uc3RyYWludF9pbmZvID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5udW1fYnl0ZXNfY29uc3RyYWludF9pbmZvKTtcbiAgICAgIGlmICh0aGlzLm51bV9ieXRlc19jb25zdHJhaW50X2luZm8pIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMubnVtX2J5dGVzX2NvbnN0cmFpbnRfaW5mbyAtIDE7IGkrKykge1xuICAgICAgICAgIHZhciBjbnN0cjEgPSBiaXRSZWFkZXIuZXh0cmFjdF9iaXRzKDYpO1xuICAgICAgICAgIGJpdFJlYWRlci5zdHJlYW1fcmVhZF8xX2J5dGVzKHN0cmVhbSk7XG4gICAgICAgICAgdmFyIGNuc3RyMiA9IGJpdFJlYWRlci5leHRyYWN0X2JpdHMoMik7XG5cbiAgICAgICAgICB0aGlzLmdlbmVyYWxfY29uc3RyYWludF9pbmZvW2ldID0gKChjbnN0cjEgPDwgMikgfCBjbnN0cjIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2VuZXJhbF9jb25zdHJhaW50X2luZm9bdGhpcy5udW1fYnl0ZXNfY29uc3RyYWludF9pbmZvIC0gMV0gPSBiaXRSZWFkZXIuZXh0cmFjdF9iaXRzKDYpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9mb3JiaWRkZW4gaW4gc3BlYyFcbiAgICAgICAgYml0UmVhZGVyLmV4dHJhY3RfYml0cyg2KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMubnVtX3N1YmxheWVycyA+IDEpIHtcbiAgICAgICAgYml0UmVhZGVyLnN0cmVhbV9yZWFkXzFfYnl0ZXMoc3RyZWFtKTtcbiAgICAgICAgdGhpcy5wdGxfc3VibGF5ZXJfcHJlc2VudF9tYXNrID0gMDtcbiAgICAgICAgZm9yIChqID0gdGhpcy5udW1fc3VibGF5ZXJzIC0gMjsgaiA+PSAwOyAtLWopIHtcbiAgICAgICAgICB2YXIgdmFsID0gYml0UmVhZGVyLmV4dHJhY3RfYml0cygxKTtcbiAgICAgICAgICB0aGlzLnB0bF9zdWJsYXllcl9wcmVzZW50X21hc2sgfD0gdmFsIDw8IGo7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChqID0gdGhpcy5udW1fc3VibGF5ZXJzOyBqIDw9IDggJiYgdGhpcy5udW1fc3VibGF5ZXJzID4gMTsgKytqKSB7XG4gICAgICAgICAgYml0UmVhZGVyLmV4dHJhY3RfYml0cygxKTsgIC8vIHB0bF9yZXNlcnZlZF96ZXJvX2JpdFxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdWJsYXllcl9sZXZlbF9pZGMgPSBbXTtcbiAgICAgICAgZm9yIChqID0gdGhpcy5udW1fc3VibGF5ZXJzIC0gMjsgaiA+PSAwOyAtLWopIHtcbiAgICAgICAgICBpZiAodGhpcy5wdGxfc3VibGF5ZXJfcHJlc2VudF9tYXNrICYgKDEgPDwgaikpIHtcbiAgICAgICAgICAgIHRoaXMuc3VibGF5ZXJfbGV2ZWxfaWRjW2pdID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnB0bF9udW1fc3ViX3Byb2ZpbGVzID0gc3RyZWFtLnJlYWRVaW50OCgpO1xuICAgICAgdGhpcy5nZW5lcmFsX3N1Yl9wcm9maWxlX2lkYyA9IFtdO1xuICAgICAgaWYgKHRoaXMucHRsX251bV9zdWJfcHJvZmlsZXMpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMucHRsX251bV9zdWJfcHJvZmlsZXM7IGkrKykge1xuICAgICAgICAgIHRoaXMuZ2VuZXJhbF9zdWJfcHJvZmlsZV9pZGMucHVzaChzdHJlYW0ucmVhZFVpbnQzMigpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gIC8vIGVuZCBWdmNQVExSZWNvcmRcblxuICAgIHRoaXMubWF4X3BpY3R1cmVfd2lkdGggPSBzdHJlYW0ucmVhZFVpbnQxNigpO1xuICAgIHRoaXMubWF4X3BpY3R1cmVfaGVpZ2h0ID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcbiAgICB0aGlzLmF2Z19mcmFtZV9yYXRlID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcbiAgfVxuXG4gIHZhciBWVkNfTkFMVV9PUEkgPSAxMjtcbiAgdmFyIFZWQ19OQUxVX0RFQ19QQVJBTSA9IDEzO1xuXG4gIHRoaXMubmFsdV9hcnJheXMgPSBbXTtcbiAgdmFyIG51bV9vZl9hcnJheXMgPSBzdHJlYW0ucmVhZFVpbnQ4KCk7XG4gIGZvciAoaSA9IDA7IGkgPCBudW1fb2ZfYXJyYXlzOyBpKyspIHtcbiAgICB2YXIgbmFsdV9hcnJheSA9IFtdO1xuICAgIHRoaXMubmFsdV9hcnJheXMucHVzaChuYWx1X2FycmF5KTtcblxuICAgIGJpdFJlYWRlci5zdHJlYW1fcmVhZF8xX2J5dGVzKHN0cmVhbSk7XG4gICAgbmFsdV9hcnJheS5jb21wbGV0ZW5lc3MgPSBiaXRSZWFkZXIuZXh0cmFjdF9iaXRzKDEpO1xuICAgIGJpdFJlYWRlci5leHRyYWN0X2JpdHMoMik7ICAvLyByZXNlcnZlZFxuICAgIG5hbHVfYXJyYXkubmFsdV90eXBlID0gYml0UmVhZGVyLmV4dHJhY3RfYml0cyg1KTtcblxuICAgIHZhciBudW1OYWx1cyA9IDE7XG4gICAgaWYgKG5hbHVfYXJyYXkubmFsdV90eXBlICE9IFZWQ19OQUxVX0RFQ19QQVJBTSAmJiBuYWx1X2FycmF5Lm5hbHVfdHlwZSAhPSBWVkNfTkFMVV9PUEkpIHtcbiAgICAgIG51bU5hbHVzID0gc3RyZWFtLnJlYWRVaW50MTYoKTtcbiAgICB9XG5cbiAgICBmb3IgKGogPSAwOyBqIDwgbnVtTmFsdXM7IGorKykge1xuICAgICAgdmFyIGxlbiA9IHN0cmVhbS5yZWFkVWludDE2KCk7XG4gICAgICBuYWx1X2FycmF5LnB1c2goe1xuICAgICAgICBkYXRhOiBzdHJlYW0ucmVhZFVpbnQ4QXJyYXkobGVuKSxcbiAgICAgICAgbGVuZ3RoOiBsZW5cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufSk7XG4vLyBmaWxlOnNyYy9wYXJzaW5nL3Z2bkMuanNcbkJveFBhcnNlci5jcmVhdGVGdWxsQm94Q3RvcihcInZ2bkNcIiwgXCJWdmNOQUxVQ29uZmlnQm94XCIsIGZ1bmN0aW9uIChzdHJlYW0pIHtcbiAgLy8gVnZjTkFMVUNvbmZpZ0JveFxuICB2YXIgdG1wID0gc3RybS5yZWFkVWludDgoKTtcbiAgdGhpcy5sZW5ndGhTaXplTWludXNPbmUgPSAodG1wICYgMHgzKTtcbn0pO1xuLy8gZmlsZTpzcmMvYm94LWNvZGVjcy5qc1xuQm94UGFyc2VyLlNhbXBsZUVudHJ5LnByb3RvdHlwZS5pc1ZpZGVvID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiBmYWxzZTtcbn1cblxuQm94UGFyc2VyLlNhbXBsZUVudHJ5LnByb3RvdHlwZS5pc0F1ZGlvID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiBmYWxzZTtcbn1cblxuQm94UGFyc2VyLlNhbXBsZUVudHJ5LnByb3RvdHlwZS5pc1N1YnRpdGxlID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiBmYWxzZTtcbn1cblxuQm94UGFyc2VyLlNhbXBsZUVudHJ5LnByb3RvdHlwZS5pc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiBmYWxzZTtcbn1cblxuQm94UGFyc2VyLlNhbXBsZUVudHJ5LnByb3RvdHlwZS5pc0hpbnQgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIGZhbHNlO1xufVxuXG5Cb3hQYXJzZXIuU2FtcGxlRW50cnkucHJvdG90eXBlLmdldENvZGVjID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLnR5cGUucmVwbGFjZSgnLicsJycpO1xufVxuXG5Cb3hQYXJzZXIuU2FtcGxlRW50cnkucHJvdG90eXBlLmdldFdpZHRoID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiBcIlwiO1xufVxuXG5Cb3hQYXJzZXIuU2FtcGxlRW50cnkucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gXCJcIjtcbn1cblxuQm94UGFyc2VyLlNhbXBsZUVudHJ5LnByb3RvdHlwZS5nZXRDaGFubmVsQ291bnQgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIFwiXCI7XG59XG5cbkJveFBhcnNlci5TYW1wbGVFbnRyeS5wcm90b3R5cGUuZ2V0U2FtcGxlUmF0ZSA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gXCJcIjtcbn1cblxuQm94UGFyc2VyLlNhbXBsZUVudHJ5LnByb3RvdHlwZS5nZXRTYW1wbGVTaXplID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiBcIlwiO1xufVxuXG5Cb3hQYXJzZXIuVmlzdWFsU2FtcGxlRW50cnkucHJvdG90eXBlLmlzVmlkZW8gPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRydWU7XG59XG5cbkJveFBhcnNlci5WaXN1YWxTYW1wbGVFbnRyeS5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMud2lkdGg7XG59XG5cbkJveFBhcnNlci5WaXN1YWxTYW1wbGVFbnRyeS5wcm90b3R5cGUuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLmhlaWdodDtcbn1cblxuQm94UGFyc2VyLkF1ZGlvU2FtcGxlRW50cnkucHJvdG90eXBlLmlzQXVkaW8gPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRydWU7XG59XG5cbkJveFBhcnNlci5BdWRpb1NhbXBsZUVudHJ5LnByb3RvdHlwZS5nZXRDaGFubmVsQ291bnQgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuY2hhbm5lbF9jb3VudDtcbn1cblxuQm94UGFyc2VyLkF1ZGlvU2FtcGxlRW50cnkucHJvdG90eXBlLmdldFNhbXBsZVJhdGUgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuc2FtcGxlcmF0ZTtcbn1cblxuQm94UGFyc2VyLkF1ZGlvU2FtcGxlRW50cnkucHJvdG90eXBlLmdldFNhbXBsZVNpemUgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuc2FtcGxlc2l6ZTtcbn1cblxuQm94UGFyc2VyLlN1YnRpdGxlU2FtcGxlRW50cnkucHJvdG90eXBlLmlzU3VidGl0bGUgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRydWU7XG59XG5cbkJveFBhcnNlci5NZXRhZGF0YVNhbXBsZUVudHJ5LnByb3RvdHlwZS5pc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0cnVlO1xufVxuXG5cbkJveFBhcnNlci5kZWNpbWFsVG9IZXggPSBmdW5jdGlvbihkLCBwYWRkaW5nKSB7XG5cdHZhciBoZXggPSBOdW1iZXIoZCkudG9TdHJpbmcoMTYpO1xuXHRwYWRkaW5nID0gdHlwZW9mIChwYWRkaW5nKSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBwYWRkaW5nID09PSBudWxsID8gcGFkZGluZyA9IDIgOiBwYWRkaW5nO1xuXHR3aGlsZSAoaGV4Lmxlbmd0aCA8IHBhZGRpbmcpIHtcblx0XHRoZXggPSBcIjBcIiArIGhleDtcblx0fVxuXHRyZXR1cm4gaGV4O1xufVxuXG5Cb3hQYXJzZXIuYXZjMVNhbXBsZUVudHJ5LnByb3RvdHlwZS5nZXRDb2RlYyA9XG5Cb3hQYXJzZXIuYXZjMlNhbXBsZUVudHJ5LnByb3RvdHlwZS5nZXRDb2RlYyA9XG5Cb3hQYXJzZXIuYXZjM1NhbXBsZUVudHJ5LnByb3RvdHlwZS5nZXRDb2RlYyA9XG5Cb3hQYXJzZXIuYXZjNFNhbXBsZUVudHJ5LnByb3RvdHlwZS5nZXRDb2RlYyA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgYmFzZUNvZGVjID0gQm94UGFyc2VyLlNhbXBsZUVudHJ5LnByb3RvdHlwZS5nZXRDb2RlYy5jYWxsKHRoaXMpO1xuXHRpZiAodGhpcy5hdmNDKSB7XG5cdFx0cmV0dXJuIGJhc2VDb2RlYytcIi5cIitCb3hQYXJzZXIuZGVjaW1hbFRvSGV4KHRoaXMuYXZjQy5BVkNQcm9maWxlSW5kaWNhdGlvbikrXG5cdFx0XHRcdFx0XHQgIFwiXCIrQm94UGFyc2VyLmRlY2ltYWxUb0hleCh0aGlzLmF2Y0MucHJvZmlsZV9jb21wYXRpYmlsaXR5KStcblx0XHRcdFx0XHRcdCAgXCJcIitCb3hQYXJzZXIuZGVjaW1hbFRvSGV4KHRoaXMuYXZjQy5BVkNMZXZlbEluZGljYXRpb24pO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBiYXNlQ29kZWM7XG5cdH1cbn1cblxuQm94UGFyc2VyLmhldjFTYW1wbGVFbnRyeS5wcm90b3R5cGUuZ2V0Q29kZWMgPVxuQm94UGFyc2VyLmh2YzFTYW1wbGVFbnRyeS5wcm90b3R5cGUuZ2V0Q29kZWMgPSBmdW5jdGlvbigpIHtcblx0dmFyIGk7XG5cdHZhciBiYXNlQ29kZWMgPSBCb3hQYXJzZXIuU2FtcGxlRW50cnkucHJvdG90eXBlLmdldENvZGVjLmNhbGwodGhpcyk7XG5cdGlmICh0aGlzLmh2Y0MpIHtcblx0XHRiYXNlQ29kZWMgKz0gJy4nO1xuXHRcdHN3aXRjaCAodGhpcy5odmNDLmdlbmVyYWxfcHJvZmlsZV9zcGFjZSkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRiYXNlQ29kZWMgKz0gJyc7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAxOlxuXHRcdFx0XHRiYXNlQ29kZWMgKz0gJ0EnO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0YmFzZUNvZGVjICs9ICdCJztcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdGJhc2VDb2RlYyArPSAnQyc7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblx0XHRiYXNlQ29kZWMgKz0gdGhpcy5odmNDLmdlbmVyYWxfcHJvZmlsZV9pZGM7XG5cdFx0YmFzZUNvZGVjICs9ICcuJztcblx0XHR2YXIgdmFsID0gdGhpcy5odmNDLmdlbmVyYWxfcHJvZmlsZV9jb21wYXRpYmlsaXR5O1xuXHRcdHZhciByZXZlcnNlZCA9IDA7XG5cdFx0Zm9yIChpPTA7IGk8MzI7IGkrKykge1xuXHRcdFx0cmV2ZXJzZWQgfD0gdmFsICYgMTtcblx0XHRcdGlmIChpPT0zMSkgYnJlYWs7XG5cdFx0XHRyZXZlcnNlZCA8PD0gMTtcblx0XHRcdHZhbCA+Pj0xO1xuXHRcdH1cblx0XHRiYXNlQ29kZWMgKz0gQm94UGFyc2VyLmRlY2ltYWxUb0hleChyZXZlcnNlZCwgMCk7XG5cdFx0YmFzZUNvZGVjICs9ICcuJztcblx0XHRpZiAodGhpcy5odmNDLmdlbmVyYWxfdGllcl9mbGFnID09PSAwKSB7XG5cdFx0XHRiYXNlQ29kZWMgKz0gJ0wnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRiYXNlQ29kZWMgKz0gJ0gnO1xuXHRcdH1cblx0XHRiYXNlQ29kZWMgKz0gdGhpcy5odmNDLmdlbmVyYWxfbGV2ZWxfaWRjO1xuXHRcdHZhciBoYXNCeXRlID0gZmFsc2U7XG5cdFx0dmFyIGNvbnN0cmFpbnRfc3RyaW5nID0gXCJcIjtcblx0XHRmb3IgKGkgPSA1OyBpID49IDA7IGktLSkge1xuXHRcdFx0aWYgKHRoaXMuaHZjQy5nZW5lcmFsX2NvbnN0cmFpbnRfaW5kaWNhdG9yW2ldIHx8IGhhc0J5dGUpIHtcblx0XHRcdFx0Y29uc3RyYWludF9zdHJpbmcgPSBcIi5cIitCb3hQYXJzZXIuZGVjaW1hbFRvSGV4KHRoaXMuaHZjQy5nZW5lcmFsX2NvbnN0cmFpbnRfaW5kaWNhdG9yW2ldLCAwKStjb25zdHJhaW50X3N0cmluZztcblx0XHRcdFx0aGFzQnl0ZSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGJhc2VDb2RlYyArPSBjb25zdHJhaW50X3N0cmluZztcblx0fVxuXHRyZXR1cm4gYmFzZUNvZGVjO1xufVxuXG5Cb3hQYXJzZXIudnZjMVNhbXBsZUVudHJ5LnByb3RvdHlwZS5nZXRDb2RlYyA9XG5Cb3hQYXJzZXIudnZpMVNhbXBsZUVudHJ5LnByb3RvdHlwZS5nZXRDb2RlYyA9IGZ1bmN0aW9uICgpIHtcblx0dmFyIGk7XG5cdHZhciBiYXNlQ29kZWMgPSBCb3hQYXJzZXIuU2FtcGxlRW50cnkucHJvdG90eXBlLmdldENvZGVjLmNhbGwodGhpcyk7XG5cdGlmICh0aGlzLnZ2Y0MpIHtcblx0XHRiYXNlQ29kZWMgKz0gJy4nICsgdGhpcy52dmNDLmdlbmVyYWxfcHJvZmlsZV9pZGM7XG5cdFx0aWYgKHRoaXMudnZjQy5nZW5lcmFsX3RpZXJfZmxhZykge1xuXHRcdFx0YmFzZUNvZGVjICs9ICcuSCc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGJhc2VDb2RlYyArPSAnLkwnO1xuXHRcdH1cblx0XHRiYXNlQ29kZWMgKz0gdGhpcy52dmNDLmdlbmVyYWxfbGV2ZWxfaWRjO1xuXG5cdFx0dmFyIGNvbnN0cmFpbnRfc3RyaW5nID0gXCJcIjtcblx0XHRpZiAodGhpcy52dmNDLmdlbmVyYWxfY29uc3RyYWludF9pbmZvKSB7XG5cdFx0XHR2YXIgYnl0ZXMgPSBbXTtcblx0XHRcdHZhciBieXRlID0gMDtcblx0XHRcdGJ5dGUgfD0gdGhpcy52dmNDLnB0bF9mcmFtZV9vbmx5X2NvbnN0cmFpbnQgPDwgNztcblx0XHRcdGJ5dGUgfD0gdGhpcy52dmNDLnB0bF9tdWx0aWxheWVyX2VuYWJsZWQgPDwgNjtcblx0XHRcdHZhciBsYXN0X25vbnplcm87XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgdGhpcy52dmNDLmdlbmVyYWxfY29uc3RyYWludF9pbmZvLmxlbmd0aDsgKytpKSB7XG5cdFx0XHRcdGJ5dGUgfD0gKHRoaXMudnZjQy5nZW5lcmFsX2NvbnN0cmFpbnRfaW5mb1tpXSA+PiAyKSAmIDB4M2Y7XG5cdFx0XHRcdGJ5dGVzLnB1c2goYnl0ZSk7XG5cdFx0XHRcdGlmIChieXRlKSB7XG5cdFx0XHRcdFx0bGFzdF9ub256ZXJvID0gaTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJ5dGUgPSAodGhpcy52dmNDLmdlbmVyYWxfY29uc3RyYWludF9pbmZvW2ldID4+IDIpICYgMHgwMztcblx0XHRcdH1cblxuXHRcdFx0aWYgKGxhc3Rfbm9uemVybyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGNvbnN0cmFpbnRfc3RyaW5nID0gXCIuQ0FcIjtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRjb25zdHJhaW50X3N0cmluZyA9IFwiLkNcIlxuXHRcdFx0XHR2YXIgYmFzZTMyX2NoYXJzID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWjIzNDU2N1wiO1xuXHRcdFx0XHR2YXIgaGVsZF9iaXRzID0gMDtcblx0XHRcdFx0dmFyIG51bV9oZWxkX2JpdHMgPSAwO1xuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDw9IGxhc3Rfbm9uemVybzsgKytpKSB7XG5cdFx0XHRcdFx0aGVsZF9iaXRzID0gKGhlbGRfYml0cyA8PCA4KSB8IGJ5dGVzW2ldO1xuXHRcdFx0XHRcdG51bV9oZWxkX2JpdHMgKz0gODtcblxuXHRcdFx0XHRcdHdoaWxlIChudW1faGVsZF9iaXRzID49IDUpIHtcblx0XHRcdFx0XHRcdHZhciB2YWwgPSAoaGVsZF9iaXRzID4+IChudW1faGVsZF9iaXRzIC0gNSkpICYgMHgxZjtcblx0XHRcdFx0XHRcdGNvbnN0cmFpbnRfc3RyaW5nICs9IGJhc2UzMl9jaGFyc1t2YWxdO1xuXG5cdFx0XHRcdFx0XHRudW1faGVsZF9iaXRzIC09IDU7XG5cdFx0XHRcdFx0XHRoZWxkX2JpdHMgJj0gKDEgPDwgbnVtX2hlbGRfYml0cykgLSAxO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAobnVtX2hlbGRfYml0cykge1xuXHRcdFx0XHRcdGhlbGRfYml0cyA8PD0gKDUgLSBudW1faGVsZF9iaXRzKTsgIC8vIHJpZ2h0LXBhZCB3aXRoIHplcm9zIHRvIDUgYml0cyAoaXMgdGhpcyBjb3JyZWN0Pylcblx0XHRcdFx0XHRjb25zdHJhaW50X3N0cmluZyArPSBiYXNlMzJfY2hhcnNbaGVsZF9iaXRzICYgMHgxZl07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0YmFzZUNvZGVjICs9IGNvbnN0cmFpbnRfc3RyaW5nO1xuXHR9XG5cdHJldHVybiBiYXNlQ29kZWM7XG59XG5cbkJveFBhcnNlci5tcDRhU2FtcGxlRW50cnkucHJvdG90eXBlLmdldENvZGVjID0gZnVuY3Rpb24oKSB7XG5cdHZhciBiYXNlQ29kZWMgPSBCb3hQYXJzZXIuU2FtcGxlRW50cnkucHJvdG90eXBlLmdldENvZGVjLmNhbGwodGhpcyk7XG5cdGlmICh0aGlzLmVzZHMgJiYgdGhpcy5lc2RzLmVzZCkge1xuXHRcdHZhciBvdGkgPSB0aGlzLmVzZHMuZXNkLmdldE9USSgpO1xuXHRcdHZhciBkc2kgPSB0aGlzLmVzZHMuZXNkLmdldEF1ZGlvQ29uZmlnKCk7XG5cdFx0cmV0dXJuIGJhc2VDb2RlYytcIi5cIitCb3hQYXJzZXIuZGVjaW1hbFRvSGV4KG90aSkrKGRzaSA/IFwiLlwiK2RzaTogXCJcIik7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIGJhc2VDb2RlYztcblx0fVxufVxuXG5Cb3hQYXJzZXIuc3R4dFNhbXBsZUVudHJ5LnByb3RvdHlwZS5nZXRDb2RlYyA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgYmFzZUNvZGVjID0gQm94UGFyc2VyLlNhbXBsZUVudHJ5LnByb3RvdHlwZS5nZXRDb2RlYy5jYWxsKHRoaXMpO1xuXHRpZih0aGlzLm1pbWVfZm9ybWF0KSB7XG5cdFx0cmV0dXJuIGJhc2VDb2RlYyArIFwiLlwiICsgdGhpcy5taW1lX2Zvcm1hdDtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gYmFzZUNvZGVjXG5cdH1cbn1cblxuQm94UGFyc2VyLnZwMDhTYW1wbGVFbnRyeS5wcm90b3R5cGUuZ2V0Q29kZWMgPVxuQm94UGFyc2VyLnZwMDlTYW1wbGVFbnRyeS5wcm90b3R5cGUuZ2V0Q29kZWMgPSBmdW5jdGlvbigpIHtcblx0dmFyIGJhc2VDb2RlYyA9IEJveFBhcnNlci5TYW1wbGVFbnRyeS5wcm90b3R5cGUuZ2V0Q29kZWMuY2FsbCh0aGlzKTtcblx0dmFyIGxldmVsID0gdGhpcy52cGNDLmxldmVsO1xuXHRpZiAobGV2ZWwgPT0gMCkge1xuXHRcdGxldmVsID0gXCIwMFwiO1xuXHR9XG5cdHZhciBiaXREZXB0aCA9IHRoaXMudnBjQy5iaXREZXB0aDtcblx0aWYgKGJpdERlcHRoID09IDgpIHtcblx0XHRiaXREZXB0aCA9IFwiMDhcIjtcblx0fVxuXHRyZXR1cm4gYmFzZUNvZGVjICsgXCIuMFwiICsgdGhpcy52cGNDLnByb2ZpbGUgKyBcIi5cIiArIGxldmVsICsgXCIuXCIgKyBiaXREZXB0aDtcbn1cblxuQm94UGFyc2VyLmF2MDFTYW1wbGVFbnRyeS5wcm90b3R5cGUuZ2V0Q29kZWMgPSBmdW5jdGlvbigpIHtcblx0dmFyIGJhc2VDb2RlYyA9IEJveFBhcnNlci5TYW1wbGVFbnRyeS5wcm90b3R5cGUuZ2V0Q29kZWMuY2FsbCh0aGlzKTtcblx0dmFyIGxldmVsID0gdGhpcy5hdjFDLnNlcV9sZXZlbF9pZHhfMDtcblx0aWYgKGxldmVsIDwgMTApIHtcblx0XHRsZXZlbCA9IFwiMFwiICsgbGV2ZWw7XG5cdH1cblx0dmFyIGJpdGRlcHRoO1xuXHRpZiAodGhpcy5hdjFDLnNlcV9wcm9maWxlID09PSAyICYmIHRoaXMuYXYxQy5oaWdoX2JpdGRlcHRoID09PSAxKSB7XG5cdFx0Yml0ZGVwdGggPSAodGhpcy5hdjFDLnR3ZWx2ZV9iaXQgPT09IDEpID8gXCIxMlwiIDogXCIxMFwiO1xuXHR9IGVsc2UgaWYgKCB0aGlzLmF2MUMuc2VxX3Byb2ZpbGUgPD0gMiApIHtcblx0XHRiaXRkZXB0aCA9ICh0aGlzLmF2MUMuaGlnaF9iaXRkZXB0aCA9PT0gMSkgPyBcIjEwXCIgOiBcIjA4XCI7XG5cdH1cblx0Ly8gVE9ETyBuZWVkIHRvIHBhcnNlIHRoZSBTSCB0byBmaW5kIGNvbG9yIGNvbmZpZ1xuXHRyZXR1cm4gYmFzZUNvZGVjK1wiLlwiK3RoaXMuYXYxQy5zZXFfcHJvZmlsZStcIi5cIitsZXZlbCsodGhpcy5hdjFDLnNlcV90aWVyXzA/XCJIXCI6XCJNXCIpK1wiLlwiK2JpdGRlcHRoOy8vK1wiLlwiK3RoaXMuYXYxQy5tb25vY2hyb21lK1wiLlwiK3RoaXMuYXYxQy5jaHJvbWFfc3Vic2FtcGxpbmdfeCtcIlwiK3RoaXMuYXYxQy5jaHJvbWFfc3Vic2FtcGxpbmdfeStcIlwiK3RoaXMuYXYxQy5jaHJvbWFfc2FtcGxlX3Bvc2l0aW9uO1xufVxuLy8gZmlsZTpzcmMvYm94LXdyaXRlLmpzXG4vKiBcbiAqIENvcHlyaWdodCAoYykgVGVsZWNvbSBQYXJpc1RlY2gvVFNJL01NL0dQQUMgQ3lyaWwgQ29uY29sYXRvXG4gKiBMaWNlbnNlOiBCU0QtMy1DbGF1c2UgKHNlZSBMSUNFTlNFIGZpbGUpXG4gKi9cbkJveFBhcnNlci5Cb3gucHJvdG90eXBlLndyaXRlSGVhZGVyID0gZnVuY3Rpb24oc3RyZWFtLCBtc2cpIHtcblx0dGhpcy5zaXplICs9IDg7XG5cdGlmICh0aGlzLnNpemUgPiBNQVhfU0laRSkge1xuXHRcdHRoaXMuc2l6ZSArPSA4O1xuXHR9XG5cdGlmICh0aGlzLnR5cGUgPT09IFwidXVpZFwiKSB7XG5cdFx0dGhpcy5zaXplICs9IDE2O1xuXHR9XG5cdExvZy5kZWJ1ZyhcIkJveFdyaXRlclwiLCBcIldyaXRpbmcgYm94IFwiK3RoaXMudHlwZStcIiBvZiBzaXplOiBcIit0aGlzLnNpemUrXCIgYXQgcG9zaXRpb24gXCIrc3RyZWFtLmdldFBvc2l0aW9uKCkrKG1zZyB8fCBcIlwiKSk7XG5cdGlmICh0aGlzLnNpemUgPiBNQVhfU0laRSkge1xuXHRcdHN0cmVhbS53cml0ZVVpbnQzMigxKTtcblx0fSBlbHNlIHtcblx0XHR0aGlzLnNpemVQb3NpdGlvbiA9IHN0cmVhbS5nZXRQb3NpdGlvbigpO1xuXHRcdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLnNpemUpO1xuXHR9XG5cdHN0cmVhbS53cml0ZVN0cmluZyh0aGlzLnR5cGUsIG51bGwsIDQpO1xuXHRpZiAodGhpcy50eXBlID09PSBcInV1aWRcIikge1xuXHRcdHN0cmVhbS53cml0ZVVpbnQ4QXJyYXkodGhpcy51dWlkKTtcblx0fVxuXHRpZiAodGhpcy5zaXplID4gTUFYX1NJWkUpIHtcblx0XHRzdHJlYW0ud3JpdGVVaW50NjQodGhpcy5zaXplKTtcblx0fSBcbn1cblxuQm94UGFyc2VyLkZ1bGxCb3gucHJvdG90eXBlLndyaXRlSGVhZGVyID0gZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMuc2l6ZSArPSA0O1xuXHRCb3hQYXJzZXIuQm94LnByb3RvdHlwZS53cml0ZUhlYWRlci5jYWxsKHRoaXMsIHN0cmVhbSwgXCIgdj1cIit0aGlzLnZlcnNpb24rXCIgZj1cIit0aGlzLmZsYWdzKTtcblx0c3RyZWFtLndyaXRlVWludDgodGhpcy52ZXJzaW9uKTtcblx0c3RyZWFtLndyaXRlVWludDI0KHRoaXMuZmxhZ3MpO1xufVxuXG5Cb3hQYXJzZXIuQm94LnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHRpZiAodGhpcy50eXBlID09PSBcIm1kYXRcIikge1xuXHRcdC8qIFRPRE86IGZpeCB0aGlzICovXG5cdFx0aWYgKHRoaXMuZGF0YSkge1xuXHRcdFx0dGhpcy5zaXplID0gdGhpcy5kYXRhLmxlbmd0aDtcblx0XHRcdHRoaXMud3JpdGVIZWFkZXIoc3RyZWFtKTtcblx0XHRcdHN0cmVhbS53cml0ZVVpbnQ4QXJyYXkodGhpcy5kYXRhKTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5zaXplID0gKHRoaXMuZGF0YSA/IHRoaXMuZGF0YS5sZW5ndGggOiAwKTtcblx0XHR0aGlzLndyaXRlSGVhZGVyKHN0cmVhbSk7XG5cdFx0aWYgKHRoaXMuZGF0YSkge1xuXHRcdFx0c3RyZWFtLndyaXRlVWludDhBcnJheSh0aGlzLmRhdGEpO1xuXHRcdH1cblx0fVxufVxuXG5Cb3hQYXJzZXIuQ29udGFpbmVyQm94LnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnNpemUgPSAwO1xuXHR0aGlzLndyaXRlSGVhZGVyKHN0cmVhbSk7XG5cdGZvciAodmFyIGk9MDsgaTx0aGlzLmJveGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0aWYgKHRoaXMuYm94ZXNbaV0pIHtcblx0XHRcdHRoaXMuYm94ZXNbaV0ud3JpdGUoc3RyZWFtKTtcblx0XHRcdHRoaXMuc2l6ZSArPSB0aGlzLmJveGVzW2ldLnNpemU7XG5cdFx0fVxuXHR9XG5cdC8qIGFkanVzdGluZyB0aGUgc2l6ZSwgbm93IHRoYXQgYWxsIHN1Yi1ib3hlcyBhcmUga25vd24gKi9cblx0TG9nLmRlYnVnKFwiQm94V3JpdGVyXCIsIFwiQWRqdXN0aW5nIGJveCBcIit0aGlzLnR5cGUrXCIgd2l0aCBuZXcgc2l6ZSBcIit0aGlzLnNpemUpO1xuXHRzdHJlYW0uYWRqdXN0VWludDMyKHRoaXMuc2l6ZVBvc2l0aW9uLCB0aGlzLnNpemUpO1xufVxuXG5Cb3hQYXJzZXIuVHJhY2tSZWZlcmVuY2VUeXBlQm94LnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnNpemUgPSB0aGlzLnRyYWNrX2lkcy5sZW5ndGgqNDtcblx0dGhpcy53cml0ZUhlYWRlcihzdHJlYW0pO1xuXHRzdHJlYW0ud3JpdGVVaW50MzJBcnJheSh0aGlzLnRyYWNrX2lkcyk7XG59XG5cbi8vIGZpbGU6c3JjL3dyaXRpbmcvYXZjQy5qc1xuQm94UGFyc2VyLmF2Y0NCb3gucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHZhciBpO1xuXHR0aGlzLnNpemUgPSA3O1xuXHRmb3IgKGkgPSAwOyBpIDwgdGhpcy5TUFMubGVuZ3RoOyBpKyspIHtcblx0XHR0aGlzLnNpemUgKz0gMit0aGlzLlNQU1tpXS5sZW5ndGg7XG5cdH1cblx0Zm9yIChpID0gMDsgaSA8IHRoaXMuUFBTLmxlbmd0aDsgaSsrKSB7XG5cdFx0dGhpcy5zaXplICs9IDIrdGhpcy5QUFNbaV0ubGVuZ3RoO1xuXHR9XG5cdGlmICh0aGlzLmV4dCkge1xuXHRcdHRoaXMuc2l6ZSArPSB0aGlzLmV4dC5sZW5ndGg7XG5cdH1cblx0dGhpcy53cml0ZUhlYWRlcihzdHJlYW0pO1xuXHRzdHJlYW0ud3JpdGVVaW50OCh0aGlzLmNvbmZpZ3VyYXRpb25WZXJzaW9uKTtcblx0c3RyZWFtLndyaXRlVWludDgodGhpcy5BVkNQcm9maWxlSW5kaWNhdGlvbik7XG5cdHN0cmVhbS53cml0ZVVpbnQ4KHRoaXMucHJvZmlsZV9jb21wYXRpYmlsaXR5KTtcblx0c3RyZWFtLndyaXRlVWludDgodGhpcy5BVkNMZXZlbEluZGljYXRpb24pO1xuXHRzdHJlYW0ud3JpdGVVaW50OCh0aGlzLmxlbmd0aFNpemVNaW51c09uZSArICg2Mzw8MikpO1xuXHRzdHJlYW0ud3JpdGVVaW50OCh0aGlzLlNQUy5sZW5ndGggKyAoNzw8NSkpO1xuXHRmb3IgKGkgPSAwOyBpIDwgdGhpcy5TUFMubGVuZ3RoOyBpKyspIHtcblx0XHRzdHJlYW0ud3JpdGVVaW50MTYodGhpcy5TUFNbaV0ubGVuZ3RoKTtcblx0XHRzdHJlYW0ud3JpdGVVaW50OEFycmF5KHRoaXMuU1BTW2ldLm5hbHUpO1xuXHR9XG5cdHN0cmVhbS53cml0ZVVpbnQ4KHRoaXMuUFBTLmxlbmd0aCk7XG5cdGZvciAoaSA9IDA7IGkgPCB0aGlzLlBQUy5sZW5ndGg7IGkrKykge1xuXHRcdHN0cmVhbS53cml0ZVVpbnQxNih0aGlzLlBQU1tpXS5sZW5ndGgpO1xuXHRcdHN0cmVhbS53cml0ZVVpbnQ4QXJyYXkodGhpcy5QUFNbaV0ubmFsdSk7XG5cdH1cblx0aWYgKHRoaXMuZXh0KSB7XG5cdFx0c3RyZWFtLndyaXRlVWludDhBcnJheSh0aGlzLmV4dCk7XG5cdH1cbn1cblxuLy8gZmlsZTpzcmMvd3JpdGluZy9jbzY0LmpzXG5Cb3hQYXJzZXIuY282NEJveC5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbihzdHJlYW0pIHtcblx0dmFyIGk7XG5cdHRoaXMudmVyc2lvbiA9IDA7XG5cdHRoaXMuZmxhZ3MgPSAwO1xuXHR0aGlzLnNpemUgPSA0KzgqdGhpcy5jaHVua19vZmZzZXRzLmxlbmd0aDtcblx0dGhpcy53cml0ZUhlYWRlcihzdHJlYW0pO1xuXHRzdHJlYW0ud3JpdGVVaW50MzIodGhpcy5jaHVua19vZmZzZXRzLmxlbmd0aCk7XG5cdGZvcihpPTA7IGk8dGhpcy5jaHVua19vZmZzZXRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0c3RyZWFtLndyaXRlVWludDY0KHRoaXMuY2h1bmtfb2Zmc2V0c1tpXSk7XG5cdH1cbn1cblxuLy8gZmlsZTpzcmMvd3JpdGluZy9jc2xnLmpzXG5Cb3hQYXJzZXIuY3NsZ0JveC5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbihzdHJlYW0pIHtcblx0dmFyIGk7XG5cdHRoaXMudmVyc2lvbiA9IDA7XG5cdHRoaXMuZmxhZ3MgPSAwO1xuXHR0aGlzLnNpemUgPSA0KjU7XG5cdHRoaXMud3JpdGVIZWFkZXIoc3RyZWFtKTtcblx0c3RyZWFtLndyaXRlSW50MzIodGhpcy5jb21wb3NpdGlvblRvRFRTU2hpZnQpO1xuXHRzdHJlYW0ud3JpdGVJbnQzMih0aGlzLmxlYXN0RGVjb2RlVG9EaXNwbGF5RGVsdGEpO1xuXHRzdHJlYW0ud3JpdGVJbnQzMih0aGlzLmdyZWF0ZXN0RGVjb2RlVG9EaXNwbGF5RGVsdGEpO1xuXHRzdHJlYW0ud3JpdGVJbnQzMih0aGlzLmNvbXBvc2l0aW9uU3RhcnRUaW1lKTtcblx0c3RyZWFtLndyaXRlSW50MzIodGhpcy5jb21wb3NpdGlvbkVuZFRpbWUpO1xufVxuXG4vLyBmaWxlOnNyYy93cml0aW5nL2N0dHMuanNcbkJveFBhcnNlci5jdHRzQm94LnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR2YXIgaTtcblx0dGhpcy52ZXJzaW9uID0gMDtcblx0dGhpcy5mbGFncyA9IDA7XG5cdHRoaXMuc2l6ZSA9IDQrOCp0aGlzLnNhbXBsZV9jb3VudHMubGVuZ3RoO1xuXHR0aGlzLndyaXRlSGVhZGVyKHN0cmVhbSk7XG5cdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLnNhbXBsZV9jb3VudHMubGVuZ3RoKTtcblx0Zm9yKGk9MDsgaTx0aGlzLnNhbXBsZV9jb3VudHMubGVuZ3RoOyBpKyspIHtcblx0XHRzdHJlYW0ud3JpdGVVaW50MzIodGhpcy5zYW1wbGVfY291bnRzW2ldKTtcblx0XHRpZiAodGhpcy52ZXJzaW9uID09PSAxKSB7XG5cdFx0XHRzdHJlYW0ud3JpdGVJbnQzMih0aGlzLnNhbXBsZV9vZmZzZXRzW2ldKTsgLyogc2lnbmVkICovXG5cdFx0fSBlbHNlIHtcdFx0XHRcblx0XHRcdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLnNhbXBsZV9vZmZzZXRzW2ldKTsgLyogdW5zaWduZWQgKi9cblx0XHR9XG5cdH1cbn1cblxuLy8gZmlsZTpzcmMvd3JpdGluZy9kcmVmLmpzXG5Cb3hQYXJzZXIuZHJlZkJveC5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy52ZXJzaW9uID0gMDtcblx0dGhpcy5mbGFncyA9IDA7XG5cdHRoaXMuc2l6ZSA9IDQ7IC8vXG5cdHRoaXMud3JpdGVIZWFkZXIoc3RyZWFtKTtcblx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMuZW50cmllcy5sZW5ndGgpO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZW50cmllcy5sZW5ndGg7IGkrKykge1xuXHRcdHRoaXMuZW50cmllc1tpXS53cml0ZShzdHJlYW0pO1xuXHRcdHRoaXMuc2l6ZSArPSB0aGlzLmVudHJpZXNbaV0uc2l6ZTtcblx0fVx0XG5cdC8qIGFkanVzdGluZyB0aGUgc2l6ZSwgbm93IHRoYXQgYWxsIHN1Yi1ib3hlcyBhcmUga25vd24gKi9cblx0TG9nLmRlYnVnKFwiQm94V3JpdGVyXCIsIFwiQWRqdXN0aW5nIGJveCBcIit0aGlzLnR5cGUrXCIgd2l0aCBuZXcgc2l6ZSBcIit0aGlzLnNpemUpO1xuXHRzdHJlYW0uYWRqdXN0VWludDMyKHRoaXMuc2l6ZVBvc2l0aW9uLCB0aGlzLnNpemUpO1xufVxuXG4vLyBmaWxlOnNyYy93cml0aW5nL2VsbmcuanNcbkJveFBhcnNlci5lbG5nQm94LnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnZlcnNpb24gPSAwO1x0XG5cdHRoaXMuZmxhZ3MgPSAwO1xuXHR0aGlzLnNpemUgPSB0aGlzLmV4dGVuZGVkX2xhbmd1YWdlLmxlbmd0aDtcblx0dGhpcy53cml0ZUhlYWRlcihzdHJlYW0pO1xuXHRzdHJlYW0ud3JpdGVTdHJpbmcodGhpcy5leHRlbmRlZF9sYW5ndWFnZSk7XG59XG5cbi8vIGZpbGU6c3JjL3dyaXRpbmcvZWxzdC5qc1xuQm94UGFyc2VyLmVsc3RCb3gucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMudmVyc2lvbiA9IDA7XHRcblx0dGhpcy5mbGFncyA9IDA7XG5cdHRoaXMuc2l6ZSA9IDQrMTIqdGhpcy5lbnRyaWVzLmxlbmd0aDtcblx0dGhpcy53cml0ZUhlYWRlcihzdHJlYW0pO1xuXHRzdHJlYW0ud3JpdGVVaW50MzIodGhpcy5lbnRyaWVzLmxlbmd0aCk7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5lbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGVudHJ5ID0gdGhpcy5lbnRyaWVzW2ldO1xuXHRcdHN0cmVhbS53cml0ZVVpbnQzMihlbnRyeS5zZWdtZW50X2R1cmF0aW9uKTtcblx0XHRzdHJlYW0ud3JpdGVJbnQzMihlbnRyeS5tZWRpYV90aW1lKTtcblx0XHRzdHJlYW0ud3JpdGVJbnQxNihlbnRyeS5tZWRpYV9yYXRlX2ludGVnZXIpO1xuXHRcdHN0cmVhbS53cml0ZUludDE2KGVudHJ5Lm1lZGlhX3JhdGVfZnJhY3Rpb24pO1xuXHR9XG59XG5cbi8vIGZpbGU6c3JjL3dyaXRpbmcvZW1zZy5qc1xuQm94UGFyc2VyLmVtc2dCb3gucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMudmVyc2lvbiA9IDA7XHRcblx0dGhpcy5mbGFncyA9IDA7XG5cdHRoaXMuc2l6ZSA9IDQqNCt0aGlzLm1lc3NhZ2VfZGF0YS5sZW5ndGgrKHRoaXMuc2NoZW1lX2lkX3VyaS5sZW5ndGgrMSkrKHRoaXMudmFsdWUubGVuZ3RoKzEpO1xuXHR0aGlzLndyaXRlSGVhZGVyKHN0cmVhbSk7XG5cdHN0cmVhbS53cml0ZUNTdHJpbmcodGhpcy5zY2hlbWVfaWRfdXJpKTtcblx0c3RyZWFtLndyaXRlQ1N0cmluZyh0aGlzLnZhbHVlKTtcblx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMudGltZXNjYWxlKTtcblx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMucHJlc2VudGF0aW9uX3RpbWVfZGVsdGEpO1xuXHRzdHJlYW0ud3JpdGVVaW50MzIodGhpcy5ldmVudF9kdXJhdGlvbik7XG5cdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLmlkKTtcblx0c3RyZWFtLndyaXRlVWludDhBcnJheSh0aGlzLm1lc3NhZ2VfZGF0YSk7XG59XG5cbi8vIGZpbGU6c3JjL3dyaXRpbmcvZnR5cC5qc1xuQm94UGFyc2VyLmZ0eXBCb3gucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMuc2l6ZSA9IDgrNCp0aGlzLmNvbXBhdGlibGVfYnJhbmRzLmxlbmd0aDtcblx0dGhpcy53cml0ZUhlYWRlcihzdHJlYW0pO1xuXHRzdHJlYW0ud3JpdGVTdHJpbmcodGhpcy5tYWpvcl9icmFuZCwgbnVsbCwgNCk7XG5cdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLm1pbm9yX3ZlcnNpb24pO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29tcGF0aWJsZV9icmFuZHMubGVuZ3RoOyBpKyspIHtcblx0XHRzdHJlYW0ud3JpdGVTdHJpbmcodGhpcy5jb21wYXRpYmxlX2JyYW5kc1tpXSwgbnVsbCwgNCk7XG5cdH1cbn1cblxuLy8gZmlsZTpzcmMvd3JpdGluZy9oZGxyLmpzXG5Cb3hQYXJzZXIuaGRsckJveC5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5zaXplID0gNSo0K3RoaXMubmFtZS5sZW5ndGgrMTtcblx0dGhpcy52ZXJzaW9uID0gMDtcblx0dGhpcy5mbGFncyA9IDA7XG5cdHRoaXMud3JpdGVIZWFkZXIoc3RyZWFtKTtcblx0c3RyZWFtLndyaXRlVWludDMyKDApO1xuXHRzdHJlYW0ud3JpdGVTdHJpbmcodGhpcy5oYW5kbGVyLCBudWxsLCA0KTtcblx0c3RyZWFtLndyaXRlVWludDMyKDApO1xuXHRzdHJlYW0ud3JpdGVVaW50MzIoMCk7XG5cdHN0cmVhbS53cml0ZVVpbnQzMigwKTtcblx0c3RyZWFtLndyaXRlQ1N0cmluZyh0aGlzLm5hbWUpO1xufVxuXG4vLyBmaWxlOnNyYy93cml0aW5nL2h2Y0MuanNcbkJveFBhcnNlci5odmNDQm94LnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgIHZhciBpLGo7XG4gICAgdGhpcy5zaXplID0gMjM7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5uYWx1X2FycmF5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5zaXplICs9IDM7XG4gICAgICBmb3IgKGogPSAwOyBqIDwgdGhpcy5uYWx1X2FycmF5c1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICB0aGlzLnNpemUgKz0gMiArIHRoaXMubmFsdV9hcnJheXNbaV1bal0uZGF0YS5sZW5ndGg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy53cml0ZUhlYWRlcihzdHJlYW0pO1xuXG4gICAgc3RyZWFtLndyaXRlVWludDgodGhpcy5jb25maWd1cmF0aW9uVmVyc2lvbik7XG4gICAgc3RyZWFtLndyaXRlVWludDgoKHRoaXMuZ2VuZXJhbF9wcm9maWxlX3NwYWNlIDw8IDYpICtcbiAgICAgICAgICAgICAgICAgICAgICAodGhpcy5nZW5lcmFsX3RpZXJfZmxhZyA8PCA1KSArXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmFsX3Byb2ZpbGVfaWRjKTtcbiAgICBzdHJlYW0ud3JpdGVVaW50MzIodGhpcy5nZW5lcmFsX3Byb2ZpbGVfY29tcGF0aWJpbGl0eSk7XG4gICAgc3RyZWFtLndyaXRlVWludDhBcnJheSh0aGlzLmdlbmVyYWxfY29uc3RyYWludF9pbmRpY2F0b3IpO1xuICAgIHN0cmVhbS53cml0ZVVpbnQ4KHRoaXMuZ2VuZXJhbF9sZXZlbF9pZGMpO1xuICAgIHN0cmVhbS53cml0ZVVpbnQxNih0aGlzLm1pbl9zcGF0aWFsX3NlZ21lbnRhdGlvbl9pZGMgKyAoMTU8PDI0KSk7XG4gICAgc3RyZWFtLndyaXRlVWludDgodGhpcy5wYXJhbGxlbGlzbVR5cGUgKyAoNjM8PDIpKTtcbiAgICBzdHJlYW0ud3JpdGVVaW50OCh0aGlzLmNocm9tYV9mb3JtYXRfaWRjICsgKDYzPDwyKSk7XG4gICAgc3RyZWFtLndyaXRlVWludDgodGhpcy5iaXRfZGVwdGhfbHVtYV9taW51czggKyAoMzE8PDMpKTtcbiAgICBzdHJlYW0ud3JpdGVVaW50OCh0aGlzLmJpdF9kZXB0aF9jaHJvbWFfbWludXM4ICsgKDMxPDwzKSk7XG4gICAgc3RyZWFtLndyaXRlVWludDE2KHRoaXMuYXZnRnJhbWVSYXRlKTtcbiAgICBzdHJlYW0ud3JpdGVVaW50OCgodGhpcy5jb25zdGFudEZyYW1lUmF0ZTw8NikgK1xuICAgICAgICAgICAgICAgICAgICh0aGlzLm51bVRlbXBvcmFsTGF5ZXJzPDwzKSArXG4gICAgICAgICAgICAgICAgICAgKHRoaXMudGVtcG9yYWxJZE5lc3RlZDw8MikgK1xuICAgICAgICAgICAgICAgICAgIHRoaXMubGVuZ3RoU2l6ZU1pbnVzT25lKTtcbiAgICBzdHJlYW0ud3JpdGVVaW50OCh0aGlzLm5hbHVfYXJyYXlzLmxlbmd0aCk7XG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMubmFsdV9hcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIGJpdCgxKSBhcnJheV9jb21wbGV0ZW5lc3MgKyBiaXQoMSkgcmVzZXJ2ZWQgPSAwICsgYml0KDYpIG5hbF91bml0X3R5cGVcbiAgICAgIHN0cmVhbS53cml0ZVVpbnQ4KCh0aGlzLm5hbHVfYXJyYXlzW2ldLmNvbXBsZXRlbmVzczw8NykgK1xuICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmFsdV9hcnJheXNbaV0ubmFsdV90eXBlKTtcbiAgICAgIHN0cmVhbS53cml0ZVVpbnQxNih0aGlzLm5hbHVfYXJyYXlzW2ldLmxlbmd0aCk7XG4gICAgICBmb3IgKGogPSAwOyBqIDwgdGhpcy5uYWx1X2FycmF5c1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICBzdHJlYW0ud3JpdGVVaW50MTYodGhpcy5uYWx1X2FycmF5c1tpXVtqXS5kYXRhLmxlbmd0aCk7XG4gICAgICAgIHN0cmVhbS53cml0ZVVpbnQ4QXJyYXkodGhpcy5uYWx1X2FycmF5c1tpXVtqXS5kYXRhKTtcbiAgICAgIH1cbiAgICB9XG59XG4vLyBmaWxlOnNyYy93cml0aW5nL2tpbmQuanNcbkJveFBhcnNlci5raW5kQm94LnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnZlcnNpb24gPSAwO1x0XG5cdHRoaXMuZmxhZ3MgPSAwO1xuXHR0aGlzLnNpemUgPSAodGhpcy5zY2hlbWVVUkkubGVuZ3RoKzEpKyh0aGlzLnZhbHVlLmxlbmd0aCsxKTtcblx0dGhpcy53cml0ZUhlYWRlcihzdHJlYW0pO1xuXHRzdHJlYW0ud3JpdGVDU3RyaW5nKHRoaXMuc2NoZW1lVVJJKTtcblx0c3RyZWFtLndyaXRlQ1N0cmluZyh0aGlzLnZhbHVlKTtcbn1cblxuLy8gZmlsZTpzcmMvd3JpdGluZy9tZGhkLmpzXG5Cb3hQYXJzZXIubWRoZEJveC5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy5zaXplID0gNCo0KzIqMjtcblx0dGhpcy5mbGFncyA9IDA7XG5cdHRoaXMudmVyc2lvbiA9IDA7XG5cdHRoaXMud3JpdGVIZWFkZXIoc3RyZWFtKTtcblx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMuY3JlYXRpb25fdGltZSk7XG5cdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLm1vZGlmaWNhdGlvbl90aW1lKTtcblx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMudGltZXNjYWxlKTtcblx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMuZHVyYXRpb24pO1xuXHRzdHJlYW0ud3JpdGVVaW50MTYodGhpcy5sYW5ndWFnZSk7XG5cdHN0cmVhbS53cml0ZVVpbnQxNigwKTtcbn1cblxuLy8gZmlsZTpzcmMvd3JpdGluZy9tZWhkLmpzXG5Cb3hQYXJzZXIubWVoZEJveC5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy52ZXJzaW9uID0gMDtcblx0dGhpcy5mbGFncyA9IDA7XG5cdHRoaXMuc2l6ZSA9IDQ7XG5cdHRoaXMud3JpdGVIZWFkZXIoc3RyZWFtKTtcblx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMuZnJhZ21lbnRfZHVyYXRpb24pO1xufVxuXG4vLyBmaWxlOnNyYy93cml0aW5nL21maGQuanNcbkJveFBhcnNlci5tZmhkQm94LnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnZlcnNpb24gPSAwO1xuXHR0aGlzLmZsYWdzID0gMDtcblx0dGhpcy5zaXplID0gNDtcblx0dGhpcy53cml0ZUhlYWRlcihzdHJlYW0pO1xuXHRzdHJlYW0ud3JpdGVVaW50MzIodGhpcy5zZXF1ZW5jZV9udW1iZXIpO1xufVxuXG4vLyBmaWxlOnNyYy93cml0aW5nL212aGQuanNcbkJveFBhcnNlci5tdmhkQm94LnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnZlcnNpb24gPSAwO1xuXHR0aGlzLmZsYWdzID0gMDtcblx0dGhpcy5zaXplID0gMjMqNCsyKjI7XG5cdHRoaXMud3JpdGVIZWFkZXIoc3RyZWFtKTtcblx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMuY3JlYXRpb25fdGltZSk7XG5cdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLm1vZGlmaWNhdGlvbl90aW1lKTtcblx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMudGltZXNjYWxlKTtcblx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMuZHVyYXRpb24pO1xuXHRzdHJlYW0ud3JpdGVVaW50MzIodGhpcy5yYXRlKTtcblx0c3RyZWFtLndyaXRlVWludDE2KHRoaXMudm9sdW1lPDw4KTtcblx0c3RyZWFtLndyaXRlVWludDE2KDApO1xuXHRzdHJlYW0ud3JpdGVVaW50MzIoMCk7XG5cdHN0cmVhbS53cml0ZVVpbnQzMigwKTtcblx0c3RyZWFtLndyaXRlVWludDMyQXJyYXkodGhpcy5tYXRyaXgpO1xuXHRzdHJlYW0ud3JpdGVVaW50MzIoMCk7XG5cdHN0cmVhbS53cml0ZVVpbnQzMigwKTtcblx0c3RyZWFtLndyaXRlVWludDMyKDApO1xuXHRzdHJlYW0ud3JpdGVVaW50MzIoMCk7XG5cdHN0cmVhbS53cml0ZVVpbnQzMigwKTtcblx0c3RyZWFtLndyaXRlVWludDMyKDApO1xuXHRzdHJlYW0ud3JpdGVVaW50MzIodGhpcy5uZXh0X3RyYWNrX2lkKTtcbn1cblxuLy8gZmlsZTpzcmMvd3JpdGluZy9zYW1wbGVlbnRyeS5qc1xuQm94UGFyc2VyLlNhbXBsZUVudHJ5LnByb3RvdHlwZS53cml0ZUhlYWRlciA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnNpemUgPSA4O1xuXHRCb3hQYXJzZXIuQm94LnByb3RvdHlwZS53cml0ZUhlYWRlci5jYWxsKHRoaXMsIHN0cmVhbSk7XG5cdHN0cmVhbS53cml0ZVVpbnQ4KDApO1xuXHRzdHJlYW0ud3JpdGVVaW50OCgwKTtcblx0c3RyZWFtLndyaXRlVWludDgoMCk7XG5cdHN0cmVhbS53cml0ZVVpbnQ4KDApO1xuXHRzdHJlYW0ud3JpdGVVaW50OCgwKTtcblx0c3RyZWFtLndyaXRlVWludDgoMCk7XG5cdHN0cmVhbS53cml0ZVVpbnQxNih0aGlzLmRhdGFfcmVmZXJlbmNlX2luZGV4KTtcbn1cblxuQm94UGFyc2VyLlNhbXBsZUVudHJ5LnByb3RvdHlwZS53cml0ZUZvb3RlciA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHRmb3IgKHZhciBpPTA7IGk8dGhpcy5ib3hlcy5sZW5ndGg7IGkrKykge1xuXHRcdHRoaXMuYm94ZXNbaV0ud3JpdGUoc3RyZWFtKTtcblx0XHR0aGlzLnNpemUgKz0gdGhpcy5ib3hlc1tpXS5zaXplO1xuXHR9XG5cdExvZy5kZWJ1ZyhcIkJveFdyaXRlclwiLCBcIkFkanVzdGluZyBib3ggXCIrdGhpcy50eXBlK1wiIHdpdGggbmV3IHNpemUgXCIrdGhpcy5zaXplKTtcblx0c3RyZWFtLmFkanVzdFVpbnQzMih0aGlzLnNpemVQb3NpdGlvbiwgdGhpcy5zaXplKTtcdFxufVxuXG5Cb3hQYXJzZXIuU2FtcGxlRW50cnkucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMud3JpdGVIZWFkZXIoc3RyZWFtKTtcblx0c3RyZWFtLndyaXRlVWludDhBcnJheSh0aGlzLmRhdGEpO1xuXHR0aGlzLnNpemUgKz0gdGhpcy5kYXRhLmxlbmd0aDtcblx0TG9nLmRlYnVnKFwiQm94V3JpdGVyXCIsIFwiQWRqdXN0aW5nIGJveCBcIit0aGlzLnR5cGUrXCIgd2l0aCBuZXcgc2l6ZSBcIit0aGlzLnNpemUpO1xuXHRzdHJlYW0uYWRqdXN0VWludDMyKHRoaXMuc2l6ZVBvc2l0aW9uLCB0aGlzLnNpemUpO1x0XG59XG5cbkJveFBhcnNlci5WaXN1YWxTYW1wbGVFbnRyeS5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy53cml0ZUhlYWRlcihzdHJlYW0pO1xuXHR0aGlzLnNpemUgKz0gMio3KzYqNCszMjtcblx0c3RyZWFtLndyaXRlVWludDE2KDApOyBcblx0c3RyZWFtLndyaXRlVWludDE2KDApO1xuXHRzdHJlYW0ud3JpdGVVaW50MzIoMCk7XG5cdHN0cmVhbS53cml0ZVVpbnQzMigwKTtcblx0c3RyZWFtLndyaXRlVWludDMyKDApO1xuXHRzdHJlYW0ud3JpdGVVaW50MTYodGhpcy53aWR0aCk7XG5cdHN0cmVhbS53cml0ZVVpbnQxNih0aGlzLmhlaWdodCk7XG5cdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLmhvcml6cmVzb2x1dGlvbik7XG5cdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLnZlcnRyZXNvbHV0aW9uKTtcblx0c3RyZWFtLndyaXRlVWludDMyKDApO1xuXHRzdHJlYW0ud3JpdGVVaW50MTYodGhpcy5mcmFtZV9jb3VudCk7XG5cdHN0cmVhbS53cml0ZVVpbnQ4KE1hdGgubWluKDMxLCB0aGlzLmNvbXByZXNzb3JuYW1lLmxlbmd0aCkpO1xuXHRzdHJlYW0ud3JpdGVTdHJpbmcodGhpcy5jb21wcmVzc29ybmFtZSwgbnVsbCwgMzEpO1xuXHRzdHJlYW0ud3JpdGVVaW50MTYodGhpcy5kZXB0aCk7XG5cdHN0cmVhbS53cml0ZUludDE2KC0xKTtcblx0dGhpcy53cml0ZUZvb3RlcihzdHJlYW0pO1xufVxuXG5Cb3hQYXJzZXIuQXVkaW9TYW1wbGVFbnRyeS5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy53cml0ZUhlYWRlcihzdHJlYW0pO1xuXHR0aGlzLnNpemUgKz0gMio0KzMqNDtcblx0c3RyZWFtLndyaXRlVWludDMyKDApO1xuXHRzdHJlYW0ud3JpdGVVaW50MzIoMCk7XG5cdHN0cmVhbS53cml0ZVVpbnQxNih0aGlzLmNoYW5uZWxfY291bnQpO1xuXHRzdHJlYW0ud3JpdGVVaW50MTYodGhpcy5zYW1wbGVzaXplKTtcblx0c3RyZWFtLndyaXRlVWludDE2KDApO1xuXHRzdHJlYW0ud3JpdGVVaW50MTYoMCk7XG5cdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLnNhbXBsZXJhdGU8PDE2KTtcblx0dGhpcy53cml0ZUZvb3RlcihzdHJlYW0pO1xufVxuXG5Cb3hQYXJzZXIuc3RwcFNhbXBsZUVudHJ5LnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLndyaXRlSGVhZGVyKHN0cmVhbSk7XG5cdHRoaXMuc2l6ZSArPSB0aGlzLm5hbWVzcGFjZS5sZW5ndGgrMStcblx0XHRcdFx0IHRoaXMuc2NoZW1hX2xvY2F0aW9uLmxlbmd0aCsxK1xuXHRcdFx0XHQgdGhpcy5hdXhpbGlhcnlfbWltZV90eXBlcy5sZW5ndGgrMTtcblx0c3RyZWFtLndyaXRlQ1N0cmluZyh0aGlzLm5hbWVzcGFjZSk7XG5cdHN0cmVhbS53cml0ZUNTdHJpbmcodGhpcy5zY2hlbWFfbG9jYXRpb24pO1xuXHRzdHJlYW0ud3JpdGVDU3RyaW5nKHRoaXMuYXV4aWxpYXJ5X21pbWVfdHlwZXMpO1xuXHR0aGlzLndyaXRlRm9vdGVyKHN0cmVhbSk7XG59XG5cbi8vIGZpbGU6c3JjL3dyaXRpbmcvc2FtcGxlZ3JvdXBzL3NhbXBsZWdyb3VwLmpzXG5Cb3hQYXJzZXIuU2FtcGxlR3JvdXBFbnRyeS5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbihzdHJlYW0pIHtcblx0c3RyZWFtLndyaXRlVWludDhBcnJheSh0aGlzLmRhdGEpO1xufVxuXG4vLyBmaWxlOnNyYy93cml0aW5nL3NiZ3AuanNcbkJveFBhcnNlci5zYmdwQm94LnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnZlcnNpb24gPSAxO1x0XG5cdHRoaXMuZmxhZ3MgPSAwO1xuXHR0aGlzLnNpemUgPSAxMis4KnRoaXMuZW50cmllcy5sZW5ndGg7XG5cdHRoaXMud3JpdGVIZWFkZXIoc3RyZWFtKTtcblx0c3RyZWFtLndyaXRlU3RyaW5nKHRoaXMuZ3JvdXBpbmdfdHlwZSwgbnVsbCwgNCk7XG5cdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLmdyb3VwaW5nX3R5cGVfcGFyYW1ldGVyKTtcblx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMuZW50cmllcy5sZW5ndGgpO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZW50cmllcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBlbnRyeSA9IHRoaXMuZW50cmllc1tpXTtcblx0XHRzdHJlYW0ud3JpdGVJbnQzMihlbnRyeS5zYW1wbGVfY291bnQpO1xuXHRcdHN0cmVhbS53cml0ZUludDMyKGVudHJ5Lmdyb3VwX2Rlc2NyaXB0aW9uX2luZGV4KTtcblx0fVxufVxuXG4vLyBmaWxlOnNyYy93cml0aW5nL3NncGQuanNcbkJveFBhcnNlci5zZ3BkQm94LnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR2YXIgaTtcblx0dmFyIGVudHJ5O1xuXHQvLyBsZWF2ZSB2ZXJzaW9uIGFzIHJlYWRcblx0Ly8gdGhpcy52ZXJzaW9uO1xuXHR0aGlzLmZsYWdzID0gMDtcblx0dGhpcy5zaXplID0gMTI7XG5cdGZvciAoaSA9IDA7IGkgPCB0aGlzLmVudHJpZXMubGVuZ3RoOyBpKyspIHtcblx0XHRlbnRyeSA9IHRoaXMuZW50cmllc1tpXTtcblx0XHRpZiAodGhpcy52ZXJzaW9uID09PSAxKSB7XG5cdFx0XHRpZiAodGhpcy5kZWZhdWx0X2xlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHR0aGlzLnNpemUgKz0gNDtcblx0XHRcdH1cblx0XHRcdHRoaXMuc2l6ZSArPSBlbnRyeS5kYXRhLmxlbmd0aDtcblx0XHR9XG5cdH1cblx0dGhpcy53cml0ZUhlYWRlcihzdHJlYW0pO1xuXHRzdHJlYW0ud3JpdGVTdHJpbmcodGhpcy5ncm91cGluZ190eXBlLCBudWxsLCA0KTtcblx0aWYgKHRoaXMudmVyc2lvbiA9PT0gMSkge1xuXHRcdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLmRlZmF1bHRfbGVuZ3RoKTtcblx0fVxuXHRpZiAodGhpcy52ZXJzaW9uID49IDIpIHtcblx0XHRzdHJlYW0ud3JpdGVVaW50MzIodGhpcy5kZWZhdWx0X3NhbXBsZV9kZXNjcmlwdGlvbl9pbmRleCk7XG5cdH1cblx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMuZW50cmllcy5sZW5ndGgpO1xuXHRmb3IgKGkgPSAwOyBpIDwgdGhpcy5lbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0ZW50cnkgPSB0aGlzLmVudHJpZXNbaV07XG5cdFx0aWYgKHRoaXMudmVyc2lvbiA9PT0gMSkge1xuXHRcdFx0aWYgKHRoaXMuZGVmYXVsdF9sZW5ndGggPT09IDApIHtcblx0XHRcdFx0c3RyZWFtLndyaXRlVWludDMyKGVudHJ5LmRlc2NyaXB0aW9uX2xlbmd0aCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVudHJ5LndyaXRlKHN0cmVhbSk7XG5cdH1cbn1cblxuXG4vLyBmaWxlOnNyYy93cml0aW5nL3NpZHguanNcbkJveFBhcnNlci5zaWR4Qm94LnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnZlcnNpb24gPSAwO1x0XG5cdHRoaXMuZmxhZ3MgPSAwO1xuXHR0aGlzLnNpemUgPSA0KjQrMisyKzEyKnRoaXMucmVmZXJlbmNlcy5sZW5ndGg7XG5cdHRoaXMud3JpdGVIZWFkZXIoc3RyZWFtKTtcblx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMucmVmZXJlbmNlX0lEKTtcblx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMudGltZXNjYWxlKTtcblx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMuZWFybGllc3RfcHJlc2VudGF0aW9uX3RpbWUpO1xuXHRzdHJlYW0ud3JpdGVVaW50MzIodGhpcy5maXJzdF9vZmZzZXQpO1xuXHRzdHJlYW0ud3JpdGVVaW50MTYoMCk7XG5cdHN0cmVhbS53cml0ZVVpbnQxNih0aGlzLnJlZmVyZW5jZXMubGVuZ3RoKTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJlZmVyZW5jZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgcmVmID0gdGhpcy5yZWZlcmVuY2VzW2ldO1xuXHRcdHN0cmVhbS53cml0ZVVpbnQzMihyZWYucmVmZXJlbmNlX3R5cGUgPDwgMzEgfCByZWYucmVmZXJlbmNlZF9zaXplKTtcblx0XHRzdHJlYW0ud3JpdGVVaW50MzIocmVmLnN1YnNlZ21lbnRfZHVyYXRpb24pO1xuXHRcdHN0cmVhbS53cml0ZVVpbnQzMihyZWYuc3RhcnRzX3dpdGhfU0FQIDw8IDMxIHwgcmVmLlNBUF90eXBlIDw8IDI4IHwgcmVmLlNBUF9kZWx0YV90aW1lKTtcblx0fVxufVxuXG4vLyBmaWxlOnNyYy93cml0aW5nL3NtaGQuanNcbkJveFBhcnNlci5zbWhkQm94LnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuICB2YXIgaTtcbiAgdGhpcy52ZXJzaW9uID0gMDtcbiAgdGhpcy5mbGFncyA9IDE7XG4gIHRoaXMuc2l6ZSA9IDQ7XG4gIHRoaXMud3JpdGVIZWFkZXIoc3RyZWFtKTtcbiAgc3RyZWFtLndyaXRlVWludDE2KHRoaXMuYmFsYW5jZSk7XG4gIHN0cmVhbS53cml0ZVVpbnQxNigwKTtcbn1cbi8vIGZpbGU6c3JjL3dyaXRpbmcvc3Rjby5qc1xuQm94UGFyc2VyLnN0Y29Cb3gucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMudmVyc2lvbiA9IDA7XG5cdHRoaXMuZmxhZ3MgPSAwO1xuXHR0aGlzLnNpemUgPSA0KzQqdGhpcy5jaHVua19vZmZzZXRzLmxlbmd0aDtcblx0dGhpcy53cml0ZUhlYWRlcihzdHJlYW0pO1xuXHRzdHJlYW0ud3JpdGVVaW50MzIodGhpcy5jaHVua19vZmZzZXRzLmxlbmd0aCk7XG5cdHN0cmVhbS53cml0ZVVpbnQzMkFycmF5KHRoaXMuY2h1bmtfb2Zmc2V0cyk7XG59XG5cbi8vIGZpbGU6c3JjL3dyaXRpbmcvc3RzYy5qc1xuQm94UGFyc2VyLnN0c2NCb3gucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHZhciBpO1xuXHR0aGlzLnZlcnNpb24gPSAwO1xuXHR0aGlzLmZsYWdzID0gMDtcblx0dGhpcy5zaXplID0gNCsxMip0aGlzLmZpcnN0X2NodW5rLmxlbmd0aDtcblx0dGhpcy53cml0ZUhlYWRlcihzdHJlYW0pO1xuXHRzdHJlYW0ud3JpdGVVaW50MzIodGhpcy5maXJzdF9jaHVuay5sZW5ndGgpO1xuXHRmb3IoaT0wOyBpPHRoaXMuZmlyc3RfY2h1bmsubGVuZ3RoOyBpKyspIHtcblx0XHRzdHJlYW0ud3JpdGVVaW50MzIodGhpcy5maXJzdF9jaHVua1tpXSk7XG5cdFx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMuc2FtcGxlc19wZXJfY2h1bmtbaV0pO1xuXHRcdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLnNhbXBsZV9kZXNjcmlwdGlvbl9pbmRleFtpXSk7XG5cdH1cbn1cblxuLy8gZmlsZTpzcmMvd3JpdGluZy9zdHNkLmpzXG5Cb3hQYXJzZXIuc3RzZEJveC5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbihzdHJlYW0pIHtcblx0dmFyIGk7XG5cdHRoaXMudmVyc2lvbiA9IDA7XG5cdHRoaXMuZmxhZ3MgPSAwO1xuXHR0aGlzLnNpemUgPSAwO1xuXHR0aGlzLndyaXRlSGVhZGVyKHN0cmVhbSk7XG5cdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLmVudHJpZXMubGVuZ3RoKTtcblx0dGhpcy5zaXplICs9IDQ7XG5cdGZvciAoaSA9IDA7IGkgPCB0aGlzLmVudHJpZXMubGVuZ3RoOyBpKyspIHtcblx0XHR0aGlzLmVudHJpZXNbaV0ud3JpdGUoc3RyZWFtKTtcblx0XHR0aGlzLnNpemUgKz0gdGhpcy5lbnRyaWVzW2ldLnNpemU7XG5cdH1cblx0LyogYWRqdXN0aW5nIHRoZSBzaXplLCBub3cgdGhhdCBhbGwgc3ViLWJveGVzIGFyZSBrbm93biAqL1xuXHRMb2cuZGVidWcoXCJCb3hXcml0ZXJcIiwgXCJBZGp1c3RpbmcgYm94IFwiK3RoaXMudHlwZStcIiB3aXRoIG5ldyBzaXplIFwiK3RoaXMuc2l6ZSk7XG5cdHN0cmVhbS5hZGp1c3RVaW50MzIodGhpcy5zaXplUG9zaXRpb24sIHRoaXMuc2l6ZSk7XG59XG5cbi8vIGZpbGU6c3JjL3dyaXRpbmcvc3RzaC5qc1xuQm94UGFyc2VyLnN0c2hCb3gucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHZhciBpO1xuXHR0aGlzLnZlcnNpb24gPSAwO1xuXHR0aGlzLmZsYWdzID0gMDtcblx0dGhpcy5zaXplID0gNCs4KnRoaXMuc2hhZG93ZWRfc2FtcGxlX251bWJlcnMubGVuZ3RoO1xuXHR0aGlzLndyaXRlSGVhZGVyKHN0cmVhbSk7XG5cdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLnNoYWRvd2VkX3NhbXBsZV9udW1iZXJzLmxlbmd0aCk7XG5cdGZvcihpPTA7IGk8dGhpcy5zaGFkb3dlZF9zYW1wbGVfbnVtYmVycy5sZW5ndGg7IGkrKykge1xuXHRcdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLnNoYWRvd2VkX3NhbXBsZV9udW1iZXJzW2ldKTtcblx0XHRzdHJlYW0ud3JpdGVVaW50MzIodGhpcy5zeW5jX3NhbXBsZV9udW1iZXJzW2ldKTtcblx0fVxufVxuXG4vLyBmaWxlOnNyYy93cml0aW5nL3N0c3MuanNcbkJveFBhcnNlci5zdHNzQm94LnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnZlcnNpb24gPSAwO1xuXHR0aGlzLmZsYWdzID0gMDtcblx0dGhpcy5zaXplID0gNCs0KnRoaXMuc2FtcGxlX251bWJlcnMubGVuZ3RoO1xuXHR0aGlzLndyaXRlSGVhZGVyKHN0cmVhbSk7XG5cdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLnNhbXBsZV9udW1iZXJzLmxlbmd0aCk7XG5cdHN0cmVhbS53cml0ZVVpbnQzMkFycmF5KHRoaXMuc2FtcGxlX251bWJlcnMpO1xufVxuXG4vLyBmaWxlOnNyYy93cml0aW5nL3N0c3ouanNcbkJveFBhcnNlci5zdHN6Qm94LnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR2YXIgaTtcblx0dmFyIGNvbnN0YW50ID0gdHJ1ZTtcblx0dGhpcy52ZXJzaW9uID0gMDtcblx0dGhpcy5mbGFncyA9IDA7XG5cdGlmICh0aGlzLnNhbXBsZV9zaXplcy5sZW5ndGggPiAwKSB7XG5cdFx0aSA9IDA7XG5cdFx0d2hpbGUgKGkrMSA8IHRoaXMuc2FtcGxlX3NpemVzLmxlbmd0aCkge1xuXHRcdFx0aWYgKHRoaXMuc2FtcGxlX3NpemVzW2krMV0gIT09ICB0aGlzLnNhbXBsZV9zaXplc1swXSkge1xuXHRcdFx0XHRjb25zdGFudCA9IGZhbHNlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGkrKztcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Y29uc3RhbnQgPSBmYWxzZTtcblx0fVxuXHR0aGlzLnNpemUgPSA4O1xuXHRpZiAoIWNvbnN0YW50KSB7XG5cdFx0dGhpcy5zaXplICs9IDQqdGhpcy5zYW1wbGVfc2l6ZXMubGVuZ3RoO1xuXHR9XG5cdHRoaXMud3JpdGVIZWFkZXIoc3RyZWFtKTtcblx0aWYgKCFjb25zdGFudCkge1xuXHRcdHN0cmVhbS53cml0ZVVpbnQzMigwKTtcblx0fSBlbHNlIHtcblx0XHRzdHJlYW0ud3JpdGVVaW50MzIodGhpcy5zYW1wbGVfc2l6ZXNbMF0pO1xuXHR9XG5cdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLnNhbXBsZV9zaXplcy5sZW5ndGgpO1xuXHRpZiAoIWNvbnN0YW50KSB7XG5cdFx0c3RyZWFtLndyaXRlVWludDMyQXJyYXkodGhpcy5zYW1wbGVfc2l6ZXMpO1xuXHR9XHRcbn1cblxuLy8gZmlsZTpzcmMvd3JpdGluZy9zdHRzLmpzXG5Cb3hQYXJzZXIuc3R0c0JveC5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbihzdHJlYW0pIHtcblx0dmFyIGk7XG5cdHRoaXMudmVyc2lvbiA9IDA7XG5cdHRoaXMuZmxhZ3MgPSAwO1xuXHR0aGlzLnNpemUgPSA0KzgqdGhpcy5zYW1wbGVfY291bnRzLmxlbmd0aDtcblx0dGhpcy53cml0ZUhlYWRlcihzdHJlYW0pO1xuXHRzdHJlYW0ud3JpdGVVaW50MzIodGhpcy5zYW1wbGVfY291bnRzLmxlbmd0aCk7XG5cdGZvcihpPTA7IGk8dGhpcy5zYW1wbGVfY291bnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMuc2FtcGxlX2NvdW50c1tpXSk7XG5cdFx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMuc2FtcGxlX2RlbHRhc1tpXSk7XG5cdH1cbn1cblxuLy8gZmlsZTpzcmMvd3JpdGluZy90ZmR0LmpzXG5Cb3hQYXJzZXIudGZkdEJveC5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbihzdHJlYW0pIHtcblx0dmFyIFVJTlQzMl9NQVggPSBNYXRoLnBvdygyLCAzMikgLSAxO1xuXHQvLyB1c2UgdmVyc2lvbiAxIGlmIGJhc2VNZWRpYURlY29kZVRpbWUgZG9lcyBub3QgZml0IDMyIGJpdHNcblx0dGhpcy52ZXJzaW9uID0gdGhpcy5iYXNlTWVkaWFEZWNvZGVUaW1lID4gVUlOVDMyX01BWCA/IDEgOiAwO1xuXHR0aGlzLmZsYWdzID0gMDtcblx0dGhpcy5zaXplID0gNDtcblx0aWYgKHRoaXMudmVyc2lvbiA9PT0gMSkge1xuXHRcdHRoaXMuc2l6ZSArPSA0O1xuXHR9XG5cdHRoaXMud3JpdGVIZWFkZXIoc3RyZWFtKTtcblx0aWYgKHRoaXMudmVyc2lvbiA9PT0gMSkge1xuXHRcdHN0cmVhbS53cml0ZVVpbnQ2NCh0aGlzLmJhc2VNZWRpYURlY29kZVRpbWUpO1xuXHR9IGVsc2Uge1xuXHRcdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLmJhc2VNZWRpYURlY29kZVRpbWUpO1xuXHR9XG59XG5cbi8vIGZpbGU6c3JjL3dyaXRpbmcvdGZoZC5qc1xuQm94UGFyc2VyLnRmaGRCb3gucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMudmVyc2lvbiA9IDA7XG5cdHRoaXMuc2l6ZSA9IDQ7XG5cdGlmICh0aGlzLmZsYWdzICYgQm94UGFyc2VyLlRGSERfRkxBR19CQVNFX0RBVEFfT0ZGU0VUKSB7XG5cdFx0dGhpcy5zaXplICs9IDg7XG5cdH1cblx0aWYgKHRoaXMuZmxhZ3MgJiBCb3hQYXJzZXIuVEZIRF9GTEFHX1NBTVBMRV9ERVNDKSB7XG5cdFx0dGhpcy5zaXplICs9IDQ7XG5cdH1cblx0aWYgKHRoaXMuZmxhZ3MgJiBCb3hQYXJzZXIuVEZIRF9GTEFHX1NBTVBMRV9EVVIpIHtcblx0XHR0aGlzLnNpemUgKz0gNDtcblx0fVxuXHRpZiAodGhpcy5mbGFncyAmIEJveFBhcnNlci5URkhEX0ZMQUdfU0FNUExFX1NJWkUpIHtcblx0XHR0aGlzLnNpemUgKz0gNDtcblx0fVxuXHRpZiAodGhpcy5mbGFncyAmIEJveFBhcnNlci5URkhEX0ZMQUdfU0FNUExFX0ZMQUdTKSB7XG5cdFx0dGhpcy5zaXplICs9IDQ7XG5cdH1cblx0dGhpcy53cml0ZUhlYWRlcihzdHJlYW0pO1xuXHRzdHJlYW0ud3JpdGVVaW50MzIodGhpcy50cmFja19pZCk7XG5cdGlmICh0aGlzLmZsYWdzICYgQm94UGFyc2VyLlRGSERfRkxBR19CQVNFX0RBVEFfT0ZGU0VUKSB7XG5cdFx0c3RyZWFtLndyaXRlVWludDY0KHRoaXMuYmFzZV9kYXRhX29mZnNldCk7XG5cdH1cblx0aWYgKHRoaXMuZmxhZ3MgJiBCb3hQYXJzZXIuVEZIRF9GTEFHX1NBTVBMRV9ERVNDKSB7XG5cdFx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMuZGVmYXVsdF9zYW1wbGVfZGVzY3JpcHRpb25faW5kZXgpO1xuXHR9XG5cdGlmICh0aGlzLmZsYWdzICYgQm94UGFyc2VyLlRGSERfRkxBR19TQU1QTEVfRFVSKSB7XG5cdFx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMuZGVmYXVsdF9zYW1wbGVfZHVyYXRpb24pO1xuXHR9XG5cdGlmICh0aGlzLmZsYWdzICYgQm94UGFyc2VyLlRGSERfRkxBR19TQU1QTEVfU0laRSkge1xuXHRcdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLmRlZmF1bHRfc2FtcGxlX3NpemUpO1xuXHR9XG5cdGlmICh0aGlzLmZsYWdzICYgQm94UGFyc2VyLlRGSERfRkxBR19TQU1QTEVfRkxBR1MpIHtcblx0XHRzdHJlYW0ud3JpdGVVaW50MzIodGhpcy5kZWZhdWx0X3NhbXBsZV9mbGFncyk7XG5cdH1cbn1cblxuLy8gZmlsZTpzcmMvd3JpdGluZy90a2hkLmpzXG5Cb3hQYXJzZXIudGtoZEJveC5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy52ZXJzaW9uID0gMDtcblx0Ly90aGlzLmZsYWdzID0gMDtcblx0dGhpcy5zaXplID0gNCoxOCsyKjQ7XG5cdHRoaXMud3JpdGVIZWFkZXIoc3RyZWFtKTtcblx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMuY3JlYXRpb25fdGltZSk7XG5cdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLm1vZGlmaWNhdGlvbl90aW1lKTtcblx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMudHJhY2tfaWQpO1xuXHRzdHJlYW0ud3JpdGVVaW50MzIoMCk7XG5cdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLmR1cmF0aW9uKTtcblx0c3RyZWFtLndyaXRlVWludDMyKDApO1xuXHRzdHJlYW0ud3JpdGVVaW50MzIoMCk7XG5cdHN0cmVhbS53cml0ZUludDE2KHRoaXMubGF5ZXIpO1xuXHRzdHJlYW0ud3JpdGVJbnQxNih0aGlzLmFsdGVybmF0ZV9ncm91cCk7XG5cdHN0cmVhbS53cml0ZUludDE2KHRoaXMudm9sdW1lPDw4KTtcblx0c3RyZWFtLndyaXRlVWludDE2KDApO1xuXHRzdHJlYW0ud3JpdGVJbnQzMkFycmF5KHRoaXMubWF0cml4KTtcblx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMud2lkdGgpO1xuXHRzdHJlYW0ud3JpdGVVaW50MzIodGhpcy5oZWlnaHQpO1xufVxuXG4vLyBmaWxlOnNyYy93cml0aW5nL3RyZXguanNcbkJveFBhcnNlci50cmV4Qm94LnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnZlcnNpb24gPSAwO1xuXHR0aGlzLmZsYWdzID0gMDtcblx0dGhpcy5zaXplID0gNCo1O1xuXHR0aGlzLndyaXRlSGVhZGVyKHN0cmVhbSk7XG5cdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLnRyYWNrX2lkKTtcblx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMuZGVmYXVsdF9zYW1wbGVfZGVzY3JpcHRpb25faW5kZXgpO1xuXHRzdHJlYW0ud3JpdGVVaW50MzIodGhpcy5kZWZhdWx0X3NhbXBsZV9kdXJhdGlvbik7XG5cdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLmRlZmF1bHRfc2FtcGxlX3NpemUpO1xuXHRzdHJlYW0ud3JpdGVVaW50MzIodGhpcy5kZWZhdWx0X3NhbXBsZV9mbGFncyk7XG59XG5cbi8vIGZpbGU6c3JjL3dyaXRpbmcvdHJ1bi5qc1xuQm94UGFyc2VyLnRydW5Cb3gucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHRoaXMudmVyc2lvbiA9IDA7XG5cdHRoaXMuc2l6ZSA9IDQ7XG5cdGlmICh0aGlzLmZsYWdzICYgQm94UGFyc2VyLlRSVU5fRkxBR1NfREFUQV9PRkZTRVQpIHtcblx0XHR0aGlzLnNpemUgKz0gNDtcblx0fVxuXHRpZiAodGhpcy5mbGFncyAmIEJveFBhcnNlci5UUlVOX0ZMQUdTX0ZJUlNUX0ZMQUcpIHtcblx0XHR0aGlzLnNpemUgKz0gNDtcblx0fVxuXHRpZiAodGhpcy5mbGFncyAmIEJveFBhcnNlci5UUlVOX0ZMQUdTX0RVUkFUSU9OKSB7XG5cdFx0dGhpcy5zaXplICs9IDQqdGhpcy5zYW1wbGVfZHVyYXRpb24ubGVuZ3RoO1xuXHR9XG5cdGlmICh0aGlzLmZsYWdzICYgQm94UGFyc2VyLlRSVU5fRkxBR1NfU0laRSkge1xuXHRcdHRoaXMuc2l6ZSArPSA0KnRoaXMuc2FtcGxlX3NpemUubGVuZ3RoO1xuXHR9XG5cdGlmICh0aGlzLmZsYWdzICYgQm94UGFyc2VyLlRSVU5fRkxBR1NfRkxBR1MpIHtcblx0XHR0aGlzLnNpemUgKz0gNCp0aGlzLnNhbXBsZV9mbGFncy5sZW5ndGg7XG5cdH1cblx0aWYgKHRoaXMuZmxhZ3MgJiBCb3hQYXJzZXIuVFJVTl9GTEFHU19DVFNfT0ZGU0VUKSB7XG5cdFx0dGhpcy5zaXplICs9IDQqdGhpcy5zYW1wbGVfY29tcG9zaXRpb25fdGltZV9vZmZzZXQubGVuZ3RoO1xuXHR9XG5cdHRoaXMud3JpdGVIZWFkZXIoc3RyZWFtKTtcblx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMuc2FtcGxlX2NvdW50KTtcblx0aWYgKHRoaXMuZmxhZ3MgJiBCb3hQYXJzZXIuVFJVTl9GTEFHU19EQVRBX09GRlNFVCkge1xuXHRcdHRoaXMuZGF0YV9vZmZzZXRfcG9zaXRpb24gPSBzdHJlYW0uZ2V0UG9zaXRpb24oKTtcblx0XHRzdHJlYW0ud3JpdGVJbnQzMih0aGlzLmRhdGFfb2Zmc2V0KTsgLy9zaWduZWRcblx0fVxuXHRpZiAodGhpcy5mbGFncyAmIEJveFBhcnNlci5UUlVOX0ZMQUdTX0ZJUlNUX0ZMQUcpIHtcblx0XHRzdHJlYW0ud3JpdGVVaW50MzIodGhpcy5maXJzdF9zYW1wbGVfZmxhZ3MpO1xuXHR9XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zYW1wbGVfY291bnQ7IGkrKykge1xuXHRcdGlmICh0aGlzLmZsYWdzICYgQm94UGFyc2VyLlRSVU5fRkxBR1NfRFVSQVRJT04pIHtcblx0XHRcdHN0cmVhbS53cml0ZVVpbnQzMih0aGlzLnNhbXBsZV9kdXJhdGlvbltpXSk7XG5cdFx0fVxuXHRcdGlmICh0aGlzLmZsYWdzICYgQm94UGFyc2VyLlRSVU5fRkxBR1NfU0laRSkge1xuXHRcdFx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMuc2FtcGxlX3NpemVbaV0pO1xuXHRcdH1cblx0XHRpZiAodGhpcy5mbGFncyAmIEJveFBhcnNlci5UUlVOX0ZMQUdTX0ZMQUdTKSB7XG5cdFx0XHRzdHJlYW0ud3JpdGVVaW50MzIodGhpcy5zYW1wbGVfZmxhZ3NbaV0pO1xuXHRcdH1cblx0XHRpZiAodGhpcy5mbGFncyAmIEJveFBhcnNlci5UUlVOX0ZMQUdTX0NUU19PRkZTRVQpIHtcblx0XHRcdGlmICh0aGlzLnZlcnNpb24gPT09IDApIHtcblx0XHRcdFx0c3RyZWFtLndyaXRlVWludDMyKHRoaXMuc2FtcGxlX2NvbXBvc2l0aW9uX3RpbWVfb2Zmc2V0W2ldKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHN0cmVhbS53cml0ZUludDMyKHRoaXMuc2FtcGxlX2NvbXBvc2l0aW9uX3RpbWVfb2Zmc2V0W2ldKTsgLy9zaWduZWRcblx0XHRcdH1cblx0XHR9XG5cdH1cdFx0XG59XG5cbi8vIGZpbGU6c3JjL3dyaXRpbmcvdXJsLmpzXG5Cb3hQYXJzZXJbXCJ1cmwgQm94XCJdLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHR0aGlzLnZlcnNpb24gPSAwO1x0XG5cdGlmICh0aGlzLmxvY2F0aW9uKSB7XG5cdFx0dGhpcy5mbGFncyA9IDA7XG5cdFx0dGhpcy5zaXplID0gdGhpcy5sb2NhdGlvbi5sZW5ndGgrMTtcblx0fSBlbHNlIHtcblx0XHR0aGlzLmZsYWdzID0gMHgwMDAwMDE7XG5cdFx0dGhpcy5zaXplID0gMDtcblx0fVxuXHR0aGlzLndyaXRlSGVhZGVyKHN0cmVhbSk7XG5cdGlmICh0aGlzLmxvY2F0aW9uKSB7XG5cdFx0c3RyZWFtLndyaXRlQ1N0cmluZyh0aGlzLmxvY2F0aW9uKTtcblx0fVxufVxuXG4vLyBmaWxlOnNyYy93cml0aW5nL3Vybi5qc1xuQm94UGFyc2VyW1widXJuIEJveFwiXS5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbihzdHJlYW0pIHtcblx0dGhpcy52ZXJzaW9uID0gMDtcdFxuXHR0aGlzLmZsYWdzID0gMDtcblx0dGhpcy5zaXplID0gdGhpcy5uYW1lLmxlbmd0aCsxKyh0aGlzLmxvY2F0aW9uID8gdGhpcy5sb2NhdGlvbi5sZW5ndGgrMSA6IDApO1xuXHR0aGlzLndyaXRlSGVhZGVyKHN0cmVhbSk7XG5cdHN0cmVhbS53cml0ZUNTdHJpbmcodGhpcy5uYW1lKTtcblx0aWYgKHRoaXMubG9jYXRpb24pIHtcblx0XHRzdHJlYW0ud3JpdGVDU3RyaW5nKHRoaXMubG9jYXRpb24pO1xuXHR9XG59XG5cbi8vIGZpbGU6c3JjL3dyaXRpbmcvdm1oZC5qc1xuQm94UGFyc2VyLnZtaGRCb3gucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24oc3RyZWFtKSB7XG5cdHZhciBpO1xuXHR0aGlzLnZlcnNpb24gPSAwO1xuXHR0aGlzLmZsYWdzID0gMTtcblx0dGhpcy5zaXplID0gODtcblx0dGhpcy53cml0ZUhlYWRlcihzdHJlYW0pO1xuXHRzdHJlYW0ud3JpdGVVaW50MTYodGhpcy5ncmFwaGljc21vZGUpO1xuXHRzdHJlYW0ud3JpdGVVaW50MTZBcnJheSh0aGlzLm9wY29sb3IpO1xufVxuXG4vLyBmaWxlOnNyYy9ib3gtdW5wYWNrLmpzXG4vKiBcbiAqIENvcHlyaWdodCAoYykgVGVsZWNvbSBQYXJpc1RlY2gvVFNJL01NL0dQQUMgQ3lyaWwgQ29uY29sYXRvXG4gKiBMaWNlbnNlOiBCU0QtMy1DbGF1c2UgKHNlZSBMSUNFTlNFIGZpbGUpXG4gKi9cbkJveFBhcnNlci5jdHRzQm94LnByb3RvdHlwZS51bnBhY2sgPSBmdW5jdGlvbihzYW1wbGVzKSB7XG5cdHZhciBpLCBqLCBrO1xuXHRrID0gMDtcblx0Zm9yIChpID0gMDsgaSA8IHRoaXMuc2FtcGxlX2NvdW50cy5sZW5ndGg7IGkrKykge1xuXHRcdGZvciAoaiA9IDA7IGogPCB0aGlzLnNhbXBsZV9jb3VudHNbaV07IGorKykge1xuXHRcdFx0c2FtcGxlc1trXS5wdHMgPSBzYW1wbGVzW2tdLmR0cyArIHRoaXMuc2FtcGxlX29mZnNldHNbaV07XG5cdFx0XHRrKys7XG5cdFx0fVxuXHR9XG59XG5cbkJveFBhcnNlci5zdHRzQm94LnByb3RvdHlwZS51bnBhY2sgPSBmdW5jdGlvbihzYW1wbGVzKSB7XG5cdHZhciBpLCBqLCBrO1xuXHRrID0gMDtcblx0Zm9yIChpID0gMDsgaSA8IHRoaXMuc2FtcGxlX2NvdW50cy5sZW5ndGg7IGkrKykge1xuXHRcdGZvciAoaiA9IDA7IGogPCB0aGlzLnNhbXBsZV9jb3VudHNbaV07IGorKykge1xuXHRcdFx0aWYgKGsgPT09IDApIHtcblx0XHRcdFx0c2FtcGxlc1trXS5kdHMgPSAwO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2FtcGxlc1trXS5kdHMgPSBzYW1wbGVzW2stMV0uZHRzICsgdGhpcy5zYW1wbGVfZGVsdGFzW2ldO1xuXHRcdFx0fVxuXHRcdFx0aysrO1xuXHRcdH1cblx0fVxufVxuXG5Cb3hQYXJzZXIuc3Rjb0JveC5wcm90b3R5cGUudW5wYWNrID0gZnVuY3Rpb24oc2FtcGxlcykge1xuXHR2YXIgaTtcblx0Zm9yIChpID0gMDsgaSA8IHRoaXMuY2h1bmtfb2Zmc2V0cy5sZW5ndGg7IGkrKykge1xuXHRcdHNhbXBsZXNbaV0ub2Zmc2V0ID0gdGhpcy5jaHVua19vZmZzZXRzW2ldO1xuXHR9XG59XG5cbkJveFBhcnNlci5zdHNjQm94LnByb3RvdHlwZS51bnBhY2sgPSBmdW5jdGlvbihzYW1wbGVzKSB7XG5cdHZhciBpLCBqLCBrLCBsLCBtO1xuXHRsID0gMDtcblx0bSA9IDA7XG5cdGZvciAoaSA9IDA7IGkgPCB0aGlzLmZpcnN0X2NodW5rLmxlbmd0aDsgaSsrKSB7XG5cdFx0Zm9yIChqID0gMDsgaiA8IChpKzEgPCB0aGlzLmZpcnN0X2NodW5rLmxlbmd0aCA/IHRoaXMuZmlyc3RfY2h1bmtbaSsxXSA6IEluZmluaXR5KTsgaisrKSB7XG5cdFx0XHRtKys7XG5cdFx0XHRmb3IgKGsgPSAwOyBrIDwgdGhpcy5zYW1wbGVzX3Blcl9jaHVua1tpXTsgaysrKSB7XG5cdFx0XHRcdGlmIChzYW1wbGVzW2xdKSB7XG5cdFx0XHRcdFx0c2FtcGxlc1tsXS5kZXNjcmlwdGlvbl9pbmRleCA9IHRoaXMuc2FtcGxlX2Rlc2NyaXB0aW9uX2luZGV4W2ldO1xuXHRcdFx0XHRcdHNhbXBsZXNbbF0uY2h1bmtfaW5kZXggPSBtO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsKys7XG5cdFx0XHR9XHRcdFx0XG5cdFx0fVxuXHR9XG59XG5cbkJveFBhcnNlci5zdHN6Qm94LnByb3RvdHlwZS51bnBhY2sgPSBmdW5jdGlvbihzYW1wbGVzKSB7XG5cdHZhciBpO1xuXHRmb3IgKGkgPSAwOyBpIDwgdGhpcy5zYW1wbGVfc2l6ZXMubGVuZ3RoOyBpKyspIHtcblx0XHRzYW1wbGVzW2ldLnNpemUgPSB0aGlzLnNhbXBsZV9zaXplc1tpXTtcblx0fVxufVxuLy8gZmlsZTpzcmMvYm94LWRpZmYuanNcblxuQm94UGFyc2VyLkRJRkZfQk9YRVNfUFJPUF9OQU1FUyA9IFsgXCJib3hlc1wiLCBcImVudHJpZXNcIiwgXCJyZWZlcmVuY2VzXCIsIFwic3Vic2FtcGxlc1wiLFxuXHRcdFx0XHRcdCBcdCBcIml0ZW1zXCIsIFwiaXRlbV9pbmZvc1wiLCBcImV4dGVudHNcIiwgXCJhc3NvY2lhdGlvbnNcIixcblx0XHRcdFx0XHQgXHQgXCJzdWJzZWdtZW50c1wiLCBcInJhbmdlc1wiLCBcInNlZWtMaXN0c1wiLCBcInNlZWtQb2ludHNcIixcblx0XHRcdFx0XHQgXHQgXCJlc2RcIiwgXCJsZXZlbHNcIl07XG5cbkJveFBhcnNlci5ESUZGX1BSSU1JVElWRV9BUlJBWV9QUk9QX05BTUVTID0gWyBcImNvbXBhdGlibGVfYnJhbmRzXCIsIFwibWF0cml4XCIsIFwib3Bjb2xvclwiLCBcInNhbXBsZV9jb3VudHNcIiwgXCJzYW1wbGVfZGVsdGFzXCIsXG5cImZpcnN0X2NodW5rXCIsIFwic2FtcGxlc19wZXJfY2h1bmtcIiwgXCJzYW1wbGVfc2l6ZXNcIiwgXCJjaHVua19vZmZzZXRzXCIsIFwic2FtcGxlX29mZnNldHNcIiwgXCJzYW1wbGVfZGVzY3JpcHRpb25faW5kZXhcIiwgXCJzYW1wbGVfZHVyYXRpb25cIiBdO1xuXG5Cb3hQYXJzZXIuYm94RXF1YWxGaWVsZHMgPSBmdW5jdGlvbihib3hfYSwgYm94X2IpIHtcblx0aWYgKGJveF9hICYmICFib3hfYikgcmV0dXJuIGZhbHNlO1xuXHR2YXIgcHJvcDtcblx0Zm9yIChwcm9wIGluIGJveF9hKSB7XG5cdFx0aWYgKEJveFBhcnNlci5ESUZGX0JPWEVTX1BST1BfTkFNRVMuaW5kZXhPZihwcm9wKSA+IC0xKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHQvLyB9IGVsc2UgaWYgKGV4Y2x1ZGVkX2ZpZWxkcyAmJiBleGNsdWRlZF9maWVsZHMuaW5kZXhPZihwcm9wKSA+IC0xKSB7XG5cdFx0Ly8gXHRjb250aW51ZTtcblx0XHR9IGVsc2UgaWYgKGJveF9hW3Byb3BdIGluc3RhbmNlb2YgQm94UGFyc2VyLkJveCB8fCBib3hfYltwcm9wXSBpbnN0YW5jZW9mIEJveFBhcnNlci5Cb3gpIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH0gZWxzZSBpZiAodHlwZW9mIGJveF9hW3Byb3BdID09PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiBib3hfYltwcm9wXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgYm94X2FbcHJvcF0gPT09IFwiZnVuY3Rpb25cIiB8fCB0eXBlb2YgYm94X2JbcHJvcF0gPT09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fSBlbHNlIGlmIChcblx0XHRcdChib3hfYS5zdWJCb3hOYW1lcyAmJiBib3hfYS5zdWJCb3hOYW1lcy5pbmRleE9mKHByb3Auc2xpY2UoMCw0KSkgPiAtMSkgfHxcblx0XHRcdChib3hfYi5zdWJCb3hOYW1lcyAmJiBib3hfYi5zdWJCb3hOYW1lcy5pbmRleE9mKHByb3Auc2xpY2UoMCw0KSkgPiAtMSkpICB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHByb3AgPT09IFwiZGF0YVwiIHx8IHByb3AgPT09IFwic3RhcnRcIiB8fCBwcm9wID09PSBcInNpemVcIiB8fCBwcm9wID09PSBcImNyZWF0aW9uX3RpbWVcIiB8fCBwcm9wID09PSBcIm1vZGlmaWNhdGlvbl90aW1lXCIpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKEJveFBhcnNlci5ESUZGX1BSSU1JVElWRV9BUlJBWV9QUk9QX05BTUVTLmluZGV4T2YocHJvcCkgPiAtMSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmIChib3hfYVtwcm9wXSAhPT0gYm94X2JbcHJvcF0pIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIHRydWU7XG59XG5cbkJveFBhcnNlci5ib3hFcXVhbCA9IGZ1bmN0aW9uKGJveF9hLCBib3hfYikge1xuXHRpZiAoIUJveFBhcnNlci5ib3hFcXVhbEZpZWxkcyhib3hfYSwgYm94X2IpKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdGZvciAodmFyIGogPSAwOyBqIDwgQm94UGFyc2VyLkRJRkZfQk9YRVNfUFJPUF9OQU1FUy5sZW5ndGg7IGorKykge1xuXHRcdHZhciBuYW1lID0gQm94UGFyc2VyLkRJRkZfQk9YRVNfUFJPUF9OQU1FU1tqXTtcblx0XHRpZiAoYm94X2FbbmFtZV0gJiYgYm94X2JbbmFtZV0pIHtcblx0XHRcdGlmICghQm94UGFyc2VyLmJveEVxdWFsKGJveF9hW25hbWVdLCBib3hfYltuYW1lXSkpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gdHJ1ZTtcbn1cbi8vIGZpbGU6c3JjL3RleHQtbXA0LmpzXG4vKiBcbiAqIENvcHlyaWdodCAoYykgMjAxMi0yMDEzLiBUZWxlY29tIFBhcmlzVGVjaC9UU0kvTU0vR1BBQyBDeXJpbCBDb25jb2xhdG9cbiAqIExpY2Vuc2U6IEJTRC0zLUNsYXVzZSAoc2VlIExJQ0VOU0UgZmlsZSlcbiAqL1xudmFyIFZUVGluNFBhcnNlciA9IGZ1bmN0aW9uKCkge1x0XG59XG5cblZUVGluNFBhcnNlci5wcm90b3R5cGUucGFyc2VTYW1wbGUgPSBmdW5jdGlvbihkYXRhKSB7XG5cdHZhciBjdWVzLCBjdWU7XG5cdHZhciBzdHJlYW0gPSBuZXcgTVA0Qm94U3RyZWFtKGRhdGEuYnVmZmVyKTtcblx0Y3VlcyA9IFtdO1xuXHR3aGlsZSAoIXN0cmVhbS5pc0VvcygpKSB7XG5cdFx0Y3VlID0gQm94UGFyc2VyLnBhcnNlT25lQm94KHN0cmVhbSwgZmFsc2UpO1xuXHRcdGlmIChjdWUuY29kZSA9PT0gQm94UGFyc2VyLk9LICYmIGN1ZS5ib3gudHlwZSA9PT0gXCJ2dHRjXCIpIHtcblx0XHRcdGN1ZXMucHVzaChjdWUuYm94KTtcblx0XHR9XHRcdFxuXHR9XG5cdHJldHVybiBjdWVzO1xufVxuXG5WVFRpbjRQYXJzZXIucHJvdG90eXBlLmdldFRleHQgPSBmdW5jdGlvbiAoc3RhcnRUaW1lLCBlbmRUaW1lLCBkYXRhKSB7XG5cdGZ1bmN0aW9uIHBhZChuLCB3aWR0aCwgeikge1xuXHQgIHogPSB6IHx8ICcwJztcblx0ICBuID0gbiArICcnO1xuXHQgIHJldHVybiBuLmxlbmd0aCA+PSB3aWR0aCA/IG4gOiBuZXcgQXJyYXkod2lkdGggLSBuLmxlbmd0aCArIDEpLmpvaW4oeikgKyBuO1xuXHR9XG5cdGZ1bmN0aW9uIHNlY1RvVGltZXN0YW1wKGluc2VjKSB7XG5cdFx0dmFyIGggPSBNYXRoLmZsb29yKGluc2VjLzM2MDApO1xuXHRcdHZhciBtID0gTWF0aC5mbG9vcigoaW5zZWMgLSBoKjM2MDApLzYwKTtcblx0XHR2YXIgcyA9IE1hdGguZmxvb3IoaW5zZWMgLSBoKjM2MDAgLSBtKjYwKTtcblx0XHR2YXIgbXMgPSBNYXRoLmZsb29yKChpbnNlYyAtIGgqMzYwMCAtIG0qNjAgLSBzKSoxMDAwKTtcblx0XHRyZXR1cm4gXCJcIitwYWQoaCwgMikrXCI6XCIrcGFkKG0sMikrXCI6XCIrcGFkKHMsIDIpK1wiLlwiK3BhZChtcywgMyk7XG5cdH1cblx0dmFyIGN1ZXMgPSB0aGlzLnBhcnNlU2FtcGxlKGRhdGEpO1xuXHR2YXIgc3RyaW5nID0gXCJcIjtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjdWVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGN1ZUluNCA9IGN1ZXNbaV07XG5cdFx0c3RyaW5nICs9IHNlY1RvVGltZXN0YW1wKHN0YXJ0VGltZSkrXCIgLS0+IFwiK3NlY1RvVGltZXN0YW1wKGVuZFRpbWUpK1wiXFxyXFxuXCI7XG5cdFx0c3RyaW5nICs9IGN1ZUluNC5wYXlsLnRleHQ7XG5cdH1cblx0cmV0dXJuIHN0cmluZztcbn1cblxudmFyIFhNTFN1YnRpdGxlaW40UGFyc2VyID0gZnVuY3Rpb24oKSB7XHRcbn1cblxuWE1MU3VidGl0bGVpbjRQYXJzZXIucHJvdG90eXBlLnBhcnNlU2FtcGxlID0gZnVuY3Rpb24oc2FtcGxlKSB7XG5cdHZhciByZXMgPSB7fTtcdFxuXHR2YXIgaTtcblx0cmVzLnJlc291cmNlcyA9IFtdO1xuXHR2YXIgc3RyZWFtID0gbmV3IE1QNEJveFN0cmVhbShzYW1wbGUuZGF0YS5idWZmZXIpO1xuXHRpZiAoIXNhbXBsZS5zdWJzYW1wbGVzIHx8IHNhbXBsZS5zdWJzYW1wbGVzLmxlbmd0aCA9PT0gMCkge1xuXHRcdHJlcy5kb2N1bWVudFN0cmluZyA9IHN0cmVhbS5yZWFkU3RyaW5nKHNhbXBsZS5kYXRhLmxlbmd0aCk7XG5cdH0gZWxzZSB7XG5cdFx0cmVzLmRvY3VtZW50U3RyaW5nID0gc3RyZWFtLnJlYWRTdHJpbmcoc2FtcGxlLnN1YnNhbXBsZXNbMF0uc2l6ZSk7XG5cdFx0aWYgKHNhbXBsZS5zdWJzYW1wbGVzLmxlbmd0aCA+IDEpIHtcblx0XHRcdGZvciAoaSA9IDE7IGkgPCBzYW1wbGUuc3Vic2FtcGxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRyZXMucmVzb3VyY2VzW2ldID0gc3RyZWFtLnJlYWRVaW50OEFycmF5KHNhbXBsZS5zdWJzYW1wbGVzW2ldLnNpemUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRpZiAodHlwZW9mIChET01QYXJzZXIpICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0cmVzLmRvY3VtZW50ID0gKG5ldyBET01QYXJzZXIoKSkucGFyc2VGcm9tU3RyaW5nKHJlcy5kb2N1bWVudFN0cmluZywgXCJhcHBsaWNhdGlvbi94bWxcIik7XG5cdH1cblx0cmV0dXJuIHJlcztcbn1cblxudmFyIFRleHRpbjRQYXJzZXIgPSBmdW5jdGlvbigpIHtcdFxufVxuXG5UZXh0aW40UGFyc2VyLnByb3RvdHlwZS5wYXJzZVNhbXBsZSA9IGZ1bmN0aW9uKHNhbXBsZSkge1xuXHR2YXIgdGV4dFN0cmluZztcblx0dmFyIHN0cmVhbSA9IG5ldyBNUDRCb3hTdHJlYW0oc2FtcGxlLmRhdGEuYnVmZmVyKTtcblx0dGV4dFN0cmluZyA9IHN0cmVhbS5yZWFkU3RyaW5nKHNhbXBsZS5kYXRhLmxlbmd0aCk7XG5cdHJldHVybiB0ZXh0U3RyaW5nO1xufVxuXG5UZXh0aW40UGFyc2VyLnByb3RvdHlwZS5wYXJzZUNvbmZpZyA9IGZ1bmN0aW9uKGRhdGEpIHtcblx0dmFyIHRleHRTdHJpbmc7XG5cdHZhciBzdHJlYW0gPSBuZXcgTVA0Qm94U3RyZWFtKGRhdGEuYnVmZmVyKTtcblx0c3RyZWFtLnJlYWRVaW50MzIoKTsgLy8gdmVyc2lvbiAmIGZsYWdzXG5cdHRleHRTdHJpbmcgPSBzdHJlYW0ucmVhZENTdHJpbmcoKTtcblx0cmV0dXJuIHRleHRTdHJpbmc7XG59XG5cbmlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ZXhwb3J0cy5WVFRpbjRQYXJzZXIgPSBWVFRpbjRQYXJzZXI7XG5cdGV4cG9ydHMuWE1MU3VidGl0bGVpbjRQYXJzZXIgPSBYTUxTdWJ0aXRsZWluNFBhcnNlcjtcblx0ZXhwb3J0cy5UZXh0aW40UGFyc2VyID0gVGV4dGluNFBhcnNlcjtcbn1cbi8vIGZpbGU6c3JjL2lzb2ZpbGUuanNcbi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTItMjAxMy4gVGVsZWNvbSBQYXJpc1RlY2gvVFNJL01NL0dQQUMgQ3lyaWwgQ29uY29sYXRvXG4gKiBMaWNlbnNlOiBCU0QtMy1DbGF1c2UgKHNlZSBMSUNFTlNFIGZpbGUpXG4gKi9cbnZhciBJU09GaWxlID0gZnVuY3Rpb24gKHN0cmVhbSkge1xuXHQvKiBNdXRpQnVmZmVyU3RyZWFtIG9iamVjdCB1c2VkIHRvIHBhcnNlIGJveGVzICovXG5cdHRoaXMuc3RyZWFtID0gc3RyZWFtIHx8IG5ldyBNdWx0aUJ1ZmZlclN0cmVhbSgpO1xuXHQvKiBBcnJheSBvZiBhbGwgYm94ZXMgKGluIG9yZGVyKSBmb3VuZCBpbiB0aGUgZmlsZSAqL1xuXHR0aGlzLmJveGVzID0gW107XG5cdC8qIEFycmF5IG9mIGFsbCBtZGF0cyAqL1xuXHR0aGlzLm1kYXRzID0gW107XG5cdC8qIEFycmF5IG9mIGFsbCBtb29mcyAqL1xuXHR0aGlzLm1vb2ZzID0gW107XG5cdC8qIEJvb2xlYW4gaW5kaWNhdGluZyBpZiB0aGUgZmlsZSBpcyBjb21wYXRpYmxlIHdpdGggcHJvZ3Jlc3NpdmUgcGFyc2luZyAobW9vdiBmaXJzdCkgKi9cblx0dGhpcy5pc1Byb2dyZXNzaXZlID0gZmFsc2U7XG5cdC8qIEJvb2xlYW4gdXNlZCB0byBmaXJlIG1vb3Ygc3RhcnQgZXZlbnQgb25seSBvbmNlICovXG5cdHRoaXMubW9vdlN0YXJ0Rm91bmQgPSBmYWxzZTtcblx0LyogQ2FsbGJhY2sgY2FsbGVkIHdoZW4gdGhlIG1vb3YgcGFyc2luZyBzdGFydHMgKi9cblx0dGhpcy5vbk1vb3ZTdGFydCA9IG51bGw7XG5cdC8qIEJvb2xlYW4ga2VlcGluZyB0cmFjayBvZiB0aGUgY2FsbCB0byBvbk1vb3ZTdGFydCwgdG8gYXZvaWQgZG91YmxlIGNhbGxzICovXG5cdHRoaXMubW9vdlN0YXJ0U2VudCA9IGZhbHNlO1xuXHQvKiBDYWxsYmFjayBjYWxsZWQgd2hlbiB0aGUgbW9vdiBpcyBlbnRpcmVseSBwYXJzZWQgKi9cblx0dGhpcy5vblJlYWR5ID0gbnVsbDtcblx0LyogQm9vbGVhbiBrZWVwaW5nIHRyYWNrIG9mIHRoZSBjYWxsIHRvIG9uUmVhZHksIHRvIGF2b2lkIGRvdWJsZSBjYWxscyAqL1xuXHR0aGlzLnJlYWR5U2VudCA9IGZhbHNlO1xuXHQvKiBDYWxsYmFjayB0byBjYWxsIHdoZW4gc2VnbWVudHMgYXJlIHJlYWR5ICovXG5cdHRoaXMub25TZWdtZW50ID0gbnVsbDtcblx0LyogQ2FsbGJhY2sgdG8gY2FsbCB3aGVuIHNhbXBsZXMgYXJlIHJlYWR5ICovXG5cdHRoaXMub25TYW1wbGVzID0gbnVsbDtcblx0LyogQ2FsbGJhY2sgdG8gY2FsbCB3aGVuIHRoZXJlIGlzIGFuIGVycm9yIGluIHRoZSBwYXJzaW5nIG9yIHByb2Nlc3Npbmcgb2Ygc2FtcGxlcyAqL1xuXHR0aGlzLm9uRXJyb3IgPSBudWxsO1xuXHQvKiBCb29sZWFuIGluZGljYXRpbmcgaWYgdGhlIG1vb3YgYm94IHJ1bi1sZW5ndGggZW5jb2RlZCB0YWJsZXMgb2Ygc2FtcGxlIGluZm9ybWF0aW9uIGhhdmUgYmVlbiBwcm9jZXNzZWQgKi9cblx0dGhpcy5zYW1wbGVMaXN0QnVpbHQgPSBmYWxzZTtcblx0LyogQXJyYXkgb2YgVHJhY2sgb2JqZWN0cyBmb3Igd2hpY2ggZnJhZ21lbnRhdGlvbiBvZiBzYW1wbGVzIGlzIHJlcXVlc3RlZCAqL1xuXHR0aGlzLmZyYWdtZW50ZWRUcmFja3MgPSBbXTtcblx0LyogQXJyYXkgb2YgVHJhY2sgb2JqZWN0cyBmb3Igd2hpY2ggZXh0cmFjdGlvbiBvZiBzYW1wbGVzIGlzIHJlcXVlc3RlZCAqL1xuXHR0aGlzLmV4dHJhY3RlZFRyYWNrcyA9IFtdO1xuXHQvKiBCb29sZWFuIGluZGljYXRpbmcgdGhhdCBmcmFnbWVudGlvbiBpcyByZWFkeSAqL1xuXHR0aGlzLmlzRnJhZ21lbnRhdGlvbkluaXRpYWxpemVkID0gZmFsc2U7XG5cdC8qIEJvb2xlYW4gaW5kaWNhdGluZyB0aGF0IGZyYWdtZW50ZWQgaGFzIHN0YXJ0ZWQgKi9cblx0dGhpcy5zYW1wbGVQcm9jZXNzaW5nU3RhcnRlZCA9IGZhbHNlO1xuXHQvKiBOdW1iZXIgb2YgdGhlIG5leHQgJ21vb2YnIHRvIGdlbmVyYXRlIHdoZW4gZnJhZ21lbnRpbmcgKi9cblx0dGhpcy5uZXh0TW9vZk51bWJlciA9IDA7XG5cdC8qIEJvb2xlYW4gaW5kaWNhdGluZyBpZiB0aGUgaW5pdGlhbCBsaXN0IG9mIGl0ZW1zIGhhcyBiZWVuIHByb2R1Y2VkICovXG5cdHRoaXMuaXRlbUxpc3RCdWlsdCA9IGZhbHNlO1xuXHQvKiBBcnJheSBvZiBpdGVtcyAqL1xuXHR0aGlzLml0ZW1zID0gW107XG5cdC8qIEFycmF5IG9mIGVudGl0eSBncm91cHMgKi9cblx0dGhpcy5lbnRpdHlfZ3JvdXBzID0gW107XG5cdC8qIENhbGxiYWNrIGNhbGxlZCB3aGVuIHRoZSBzaWR4IGJveCBpcyBlbnRpcmVseSBwYXJzZWQgKi9cblx0dGhpcy5vblNpZHggPSBudWxsO1xuXHQvKiBCb29sZWFuIGtlZXBpbmcgdHJhY2sgb2YgdGhlIGNhbGwgdG8gb25TaWR4LCB0byBhdm9pZCBkb3VibGUgY2FsbHMgKi9cblx0dGhpcy5zaWR4U2VudCA9IGZhbHNlO1xufVxuXG5JU09GaWxlLnByb3RvdHlwZS5zZXRTZWdtZW50T3B0aW9ucyA9IGZ1bmN0aW9uKGlkLCB1c2VyLCBvcHRpb25zKSB7XG5cdHZhciB0cmFrID0gdGhpcy5nZXRUcmFja0J5SWQoaWQpO1xuXHRpZiAodHJhaykge1xuXHRcdHZhciBmcmFnVHJhY2sgPSB7fTtcblx0XHR0aGlzLmZyYWdtZW50ZWRUcmFja3MucHVzaChmcmFnVHJhY2spO1xuXHRcdGZyYWdUcmFjay5pZCA9IGlkO1xuXHRcdGZyYWdUcmFjay51c2VyID0gdXNlcjtcblx0XHRmcmFnVHJhY2sudHJhayA9IHRyYWs7XG5cdFx0dHJhay5uZXh0U2FtcGxlID0gMDtcblx0XHRmcmFnVHJhY2suc2VnbWVudFN0cmVhbSA9IG51bGw7XG5cdFx0ZnJhZ1RyYWNrLm5iX3NhbXBsZXMgPSAxMDAwO1xuXHRcdGZyYWdUcmFjay5yYXBBbGlnbmVtZW50ID0gdHJ1ZTtcblx0XHRpZiAob3B0aW9ucykge1xuXHRcdFx0aWYgKG9wdGlvbnMubmJTYW1wbGVzKSBmcmFnVHJhY2submJfc2FtcGxlcyA9IG9wdGlvbnMubmJTYW1wbGVzO1xuXHRcdFx0aWYgKG9wdGlvbnMucmFwQWxpZ25lbWVudCkgZnJhZ1RyYWNrLnJhcEFsaWduZW1lbnQgPSBvcHRpb25zLnJhcEFsaWduZW1lbnQ7XG5cdFx0fVxuXHR9XG59XG5cbklTT0ZpbGUucHJvdG90eXBlLnVuc2V0U2VnbWVudE9wdGlvbnMgPSBmdW5jdGlvbihpZCkge1xuXHR2YXIgaW5kZXggPSAtMTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmZyYWdtZW50ZWRUcmFja3MubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgZnJhZ1RyYWNrID0gdGhpcy5mcmFnbWVudGVkVHJhY2tzW2ldO1xuXHRcdGlmIChmcmFnVHJhY2suaWQgPT0gaWQpIHtcblx0XHRcdGluZGV4ID0gaTtcblx0XHR9XG5cdH1cblx0aWYgKGluZGV4ID4gLTEpIHtcblx0XHR0aGlzLmZyYWdtZW50ZWRUcmFja3Muc3BsaWNlKGluZGV4LCAxKTtcblx0fVxufVxuXG5JU09GaWxlLnByb3RvdHlwZS5zZXRFeHRyYWN0aW9uT3B0aW9ucyA9IGZ1bmN0aW9uKGlkLCB1c2VyLCBvcHRpb25zKSB7XG5cdHZhciB0cmFrID0gdGhpcy5nZXRUcmFja0J5SWQoaWQpO1xuXHRpZiAodHJhaykge1xuXHRcdHZhciBleHRyYWN0VHJhY2sgPSB7fTtcblx0XHR0aGlzLmV4dHJhY3RlZFRyYWNrcy5wdXNoKGV4dHJhY3RUcmFjayk7XG5cdFx0ZXh0cmFjdFRyYWNrLmlkID0gaWQ7XG5cdFx0ZXh0cmFjdFRyYWNrLnVzZXIgPSB1c2VyO1xuXHRcdGV4dHJhY3RUcmFjay50cmFrID0gdHJhaztcblx0XHR0cmFrLm5leHRTYW1wbGUgPSAwO1xuXHRcdGV4dHJhY3RUcmFjay5uYl9zYW1wbGVzID0gMTAwMDtcblx0XHRleHRyYWN0VHJhY2suc2FtcGxlcyA9IFtdO1xuXHRcdGlmIChvcHRpb25zKSB7XG5cdFx0XHRpZiAob3B0aW9ucy5uYlNhbXBsZXMpIGV4dHJhY3RUcmFjay5uYl9zYW1wbGVzID0gb3B0aW9ucy5uYlNhbXBsZXM7XG5cdFx0fVxuXHR9XG59XG5cbklTT0ZpbGUucHJvdG90eXBlLnVuc2V0RXh0cmFjdGlvbk9wdGlvbnMgPSBmdW5jdGlvbihpZCkge1xuXHR2YXIgaW5kZXggPSAtMTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmV4dHJhY3RlZFRyYWNrcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBleHRyYWN0VHJhY2sgPSB0aGlzLmV4dHJhY3RlZFRyYWNrc1tpXTtcblx0XHRpZiAoZXh0cmFjdFRyYWNrLmlkID09IGlkKSB7XG5cdFx0XHRpbmRleCA9IGk7XG5cdFx0fVxuXHR9XG5cdGlmIChpbmRleCA+IC0xKSB7XG5cdFx0dGhpcy5leHRyYWN0ZWRUcmFja3Muc3BsaWNlKGluZGV4LCAxKTtcblx0fVxufVxuXG5JU09GaWxlLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgZm91bmQ7XG5cdHZhciByZXQ7XG5cdHZhciBib3g7XG5cdHZhciBwYXJzZUJveEhlYWRlcnNPbmx5ID0gZmFsc2U7XG5cblx0aWYgKHRoaXMucmVzdG9yZVBhcnNlUG9zaXRpb24pXHR7XG5cdFx0aWYgKCF0aGlzLnJlc3RvcmVQYXJzZVBvc2l0aW9uKCkpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdH1cblxuXHR3aGlsZSAodHJ1ZSkge1xuXG5cdFx0aWYgKHRoaXMuaGFzSW5jb21wbGV0ZU1kYXQgJiYgdGhpcy5oYXNJbmNvbXBsZXRlTWRhdCgpKSB7XG5cdFx0XHRpZiAodGhpcy5wcm9jZXNzSW5jb21wbGV0ZU1kYXQoKSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHRoaXMuc2F2ZVBhcnNlUG9zaXRpb24pXHR7XG5cdFx0XHRcdHRoaXMuc2F2ZVBhcnNlUG9zaXRpb24oKTtcblx0XHRcdH1cblx0XHRcdHJldCA9IEJveFBhcnNlci5wYXJzZU9uZUJveCh0aGlzLnN0cmVhbSwgcGFyc2VCb3hIZWFkZXJzT25seSk7XG5cdFx0XHRpZiAocmV0LmNvZGUgPT09IEJveFBhcnNlci5FUlJfTk9UX0VOT1VHSF9EQVRBKSB7XG5cdFx0XHRcdGlmICh0aGlzLnByb2Nlc3NJbmNvbXBsZXRlQm94KSB7XG5cdFx0XHRcdFx0aWYgKHRoaXMucHJvY2Vzc0luY29tcGxldGVCb3gocmV0KSkge1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YXIgYm94X3R5cGU7XG5cdFx0XHRcdC8qIHRoZSBib3ggaXMgZW50aXJlbHkgcGFyc2VkICovXG5cdFx0XHRcdGJveCA9IHJldC5ib3g7XG5cdFx0XHRcdGJveF90eXBlID0gKGJveC50eXBlICE9PSBcInV1aWRcIiA/IGJveC50eXBlIDogYm94LnV1aWQpO1xuXHRcdFx0XHQvKiBzdG9yZSB0aGUgYm94IGluIHRoZSAnYm94ZXMnIGFycmF5IHRvIHByZXNlcnZlIGJveCBvcmRlciAoZm9yIGZpbGUgcmV3cml0ZSBpZiBuZWVkZWQpICAqL1xuXHRcdFx0XHR0aGlzLmJveGVzLnB1c2goYm94KTtcblx0XHRcdFx0LyogYnV0IGFsc28gc3RvcmUgYm94IGluIGEgcHJvcGVydHkgZm9yIG1vcmUgZGlyZWN0IGFjY2VzcyAqL1xuXHRcdFx0XHRzd2l0Y2ggKGJveF90eXBlKSB7XG5cdFx0XHRcdFx0Y2FzZSBcIm1kYXRcIjpcblx0XHRcdFx0XHRcdHRoaXMubWRhdHMucHVzaChib3gpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBcIm1vb2ZcIjpcblx0XHRcdFx0XHRcdHRoaXMubW9vZnMucHVzaChib3gpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBcIm1vb3ZcIjpcblx0XHRcdFx0XHRcdHRoaXMubW9vdlN0YXJ0Rm91bmQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0aWYgKHRoaXMubWRhdHMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMuaXNQcm9ncmVzc2l2ZSA9IHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHQvKiBubyBicmVhayAqL1xuXHRcdFx0XHRcdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRpZiAodGhpc1tib3hfdHlwZV0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0XHRMb2cud2FybihcIklTT0ZpbGVcIiwgXCJEdXBsaWNhdGUgQm94IG9mIHR5cGU6IFwiK2JveF90eXBlK1wiLCBvdmVycmlkaW5nIHByZXZpb3VzIG9jY3VycmVuY2VcIik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR0aGlzW2JveF90eXBlXSA9IGJveDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICh0aGlzLnVwZGF0ZVVzZWRCeXRlcykge1xuXHRcdFx0XHRcdHRoaXMudXBkYXRlVXNlZEJ5dGVzKGJveCwgcmV0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5JU09GaWxlLnByb3RvdHlwZS5jaGVja0J1ZmZlciA9IGZ1bmN0aW9uIChhYikge1xuXHRpZiAoYWIgPT09IG51bGwgfHwgYWIgPT09IHVuZGVmaW5lZCkge1xuXHRcdHRocm93KFwiQnVmZmVyIG11c3QgYmUgZGVmaW5lZCBhbmQgbm9uIGVtcHR5XCIpO1xuXHR9XG5cdGlmIChhYi5maWxlU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdHRocm93KFwiQnVmZmVyIG11c3QgaGF2ZSBhIGZpbGVTdGFydCBwcm9wZXJ0eVwiKTtcblx0fVxuXHRpZiAoYWIuYnl0ZUxlbmd0aCA9PT0gMCkge1xuXHRcdExvZy53YXJuKFwiSVNPRmlsZVwiLCBcIklnbm9yaW5nIGVtcHR5IGJ1ZmZlciAoZmlsZVN0YXJ0OiBcIithYi5maWxlU3RhcnQrXCIpXCIpO1xuXHRcdHRoaXMuc3RyZWFtLmxvZ0J1ZmZlckxldmVsKCk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdExvZy5pbmZvKFwiSVNPRmlsZVwiLCBcIlByb2Nlc3NpbmcgYnVmZmVyIChmaWxlU3RhcnQ6IFwiK2FiLmZpbGVTdGFydCtcIilcIik7XG5cblx0LyogbWFyayB0aGUgYnl0ZXMgaW4gdGhlIGJ1ZmZlciBhcyBub3QgYmVpbmcgdXNlZCB5ZXQgKi9cblx0YWIudXNlZEJ5dGVzID0gMDtcblx0dGhpcy5zdHJlYW0uaW5zZXJ0QnVmZmVyKGFiKTtcblx0dGhpcy5zdHJlYW0ubG9nQnVmZmVyTGV2ZWwoKTtcblxuXHRpZiAoIXRoaXMuc3RyZWFtLmluaXRpYWxpemVkKCkpIHtcblx0XHRMb2cud2FybihcIklTT0ZpbGVcIiwgXCJOb3QgcmVhZHkgdG8gc3RhcnQgcGFyc2luZ1wiKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0cmV0dXJuIHRydWU7XG59XG5cbi8qIFByb2Nlc3NlcyBhIG5ldyBBcnJheUJ1ZmZlciAod2l0aCBhIGZpbGVTdGFydCBwcm9wZXJ0eSlcbiAgIFJldHVybnMgdGhlIG5leHQgZXhwZWN0ZWQgZmlsZSBwb3NpdGlvbiwgb3IgdW5kZWZpbmVkIGlmIG5vdCByZWFkeSB0byBwYXJzZSAqL1xuSVNPRmlsZS5wcm90b3R5cGUuYXBwZW5kQnVmZmVyID0gZnVuY3Rpb24oYWIsIGxhc3QpIHtcblx0dmFyIG5leHRGaWxlU3RhcnQ7XG5cdGlmICghdGhpcy5jaGVja0J1ZmZlcihhYikpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvKiBQYXJzZSB3aGF0ZXZlciBpcyBpbiB0aGUgZXhpc3RpbmcgYnVmZmVycyAqL1xuXHR0aGlzLnBhcnNlKCk7XG5cblx0LyogQ2hlY2sgaWYgdGhlIG1vb3ZTdGFydCBjYWxsYmFjayBuZWVkcyB0byBiZSBjYWxsZWQgKi9cblx0aWYgKHRoaXMubW9vdlN0YXJ0Rm91bmQgJiYgIXRoaXMubW9vdlN0YXJ0U2VudCkge1xuXHRcdHRoaXMubW9vdlN0YXJ0U2VudCA9IHRydWU7XG5cdFx0aWYgKHRoaXMub25Nb292U3RhcnQpIHRoaXMub25Nb292U3RhcnQoKTtcblx0fVxuXG5cdGlmICh0aGlzLm1vb3YpIHtcblx0XHQvKiBBIG1vb3YgYm94IGhhcyBiZWVuIGVudGlyZWx5IHBhcnNlZCAqL1xuXG5cdFx0LyogaWYgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCBhZnRlciB0aGUgbW9vdiBpcyBmb3VuZCB3ZSBpbml0aWFsaXplIHRoZSBsaXN0IG9mIHNhbXBsZXMgKG1heSBiZSBlbXB0eSBpbiBmcmFnbWVudGVkIGZpbGVzKSAqL1xuXHRcdGlmICghdGhpcy5zYW1wbGVMaXN0QnVpbHQpIHtcblx0XHRcdHRoaXMuYnVpbGRTYW1wbGVMaXN0cygpO1xuXHRcdFx0dGhpcy5zYW1wbGVMaXN0QnVpbHQgPSB0cnVlO1xuXHRcdH1cblxuXHRcdC8qIFdlIHVwZGF0ZSB0aGUgc2FtcGxlIGluZm9ybWF0aW9uIGlmIHRoZXJlIGFyZSBhbnkgbmV3IG1vb2YgYm94ZXMgKi9cblx0XHR0aGlzLnVwZGF0ZVNhbXBsZUxpc3RzKCk7XG5cblx0XHQvKiBJZiB0aGUgYXBwbGljYXRpb24gbmVlZHMgdG8gYmUgaW5mb3JtZWQgdGhhdCB0aGUgJ21vb3YnIGhhcyBiZWVuIGZvdW5kLFxuXHRcdCAgIHdlIGNyZWF0ZSB0aGUgaW5mb3JtYXRpb24gb2JqZWN0IGFuZCBjYWxsYmFjayB0aGUgYXBwbGljYXRpb24gKi9cblx0XHRpZiAodGhpcy5vblJlYWR5ICYmICF0aGlzLnJlYWR5U2VudCkge1xuXHRcdFx0dGhpcy5yZWFkeVNlbnQgPSB0cnVlO1xuXHRcdFx0dGhpcy5vblJlYWR5KHRoaXMuZ2V0SW5mbygpKTtcblx0XHR9XG5cblx0XHQvKiBTZWUgaWYgYW55IHNhbXBsZSBleHRyYWN0aW9uIG9yIHNlZ21lbnQgY3JlYXRpb24gbmVlZHMgdG8gYmUgZG9uZSB3aXRoIHRoZSBhdmFpbGFibGUgc2FtcGxlcyAqL1xuXHRcdHRoaXMucHJvY2Vzc1NhbXBsZXMobGFzdCk7XG5cblx0XHQvKiBJbmZvcm0gYWJvdXQgdGhlIGJlc3QgcmFuZ2UgdG8gZmV0Y2ggbmV4dCAqL1xuXHRcdGlmICh0aGlzLm5leHRTZWVrUG9zaXRpb24pIHtcblx0XHRcdG5leHRGaWxlU3RhcnQgPSB0aGlzLm5leHRTZWVrUG9zaXRpb247XG5cdFx0XHR0aGlzLm5leHRTZWVrUG9zaXRpb24gPSB1bmRlZmluZWQ7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG5leHRGaWxlU3RhcnQgPSB0aGlzLm5leHRQYXJzZVBvc2l0aW9uO1xuXHRcdH1cblx0XHRpZiAodGhpcy5zdHJlYW0uZ2V0RW5kRmlsZVBvc2l0aW9uQWZ0ZXIpIHtcblx0XHRcdG5leHRGaWxlU3RhcnQgPSB0aGlzLnN0cmVhbS5nZXRFbmRGaWxlUG9zaXRpb25BZnRlcihuZXh0RmlsZVN0YXJ0KTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0aWYgKHRoaXMubmV4dFBhcnNlUG9zaXRpb24pIHtcblx0XHRcdC8qIG1vb3YgaGFzIG5vdCBiZWVuIHBhcnNlZCBidXQgdGhlIGZpcnN0IGJ1ZmZlciB3YXMgcmVjZWl2ZWQsXG5cdFx0XHQgICB0aGUgbmV4dCBmZXRjaCBzaG91bGQgcHJvYmFibHkgYmUgdGhlIG5leHQgYm94IHN0YXJ0ICovXG5cdFx0XHRuZXh0RmlsZVN0YXJ0ID0gdGhpcy5uZXh0UGFyc2VQb3NpdGlvbjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0LyogTm8gdmFsaWQgYnVmZmVyIGhhcyBiZWVuIHBhcnNlZCB5ZXQsIHdlIGNhbm5vdCBrbm93IHdoYXQgdG8gcGFyc2UgbmV4dCAqL1xuXHRcdFx0bmV4dEZpbGVTdGFydCA9IDA7XG5cdFx0fVxuXHR9XG5cdGlmICh0aGlzLnNpZHgpIHtcblx0XHRpZiAodGhpcy5vblNpZHggJiYgIXRoaXMuc2lkeFNlbnQpIHtcblx0XHRcdHRoaXMub25TaWR4KHRoaXMuc2lkeCk7XG5cdFx0XHR0aGlzLnNpZHhTZW50ID0gdHJ1ZTtcblx0XHR9XG5cdH1cblx0aWYgKHRoaXMubWV0YSkge1xuXHRcdGlmICh0aGlzLmZsYXR0ZW5JdGVtSW5mbyAmJiAhdGhpcy5pdGVtTGlzdEJ1aWx0KSB7XG5cdFx0XHR0aGlzLmZsYXR0ZW5JdGVtSW5mbygpO1xuXHRcdFx0dGhpcy5pdGVtTGlzdEJ1aWx0ID0gdHJ1ZTtcblx0XHR9XG5cdFx0aWYgKHRoaXMucHJvY2Vzc0l0ZW1zKSB7XG5cdFx0XHR0aGlzLnByb2Nlc3NJdGVtcyh0aGlzLm9uSXRlbSk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKHRoaXMuc3RyZWFtLmNsZWFuQnVmZmVycykge1xuXHRcdExvZy5pbmZvKFwiSVNPRmlsZVwiLCBcIkRvbmUgcHJvY2Vzc2luZyBidWZmZXIgKGZpbGVTdGFydDogXCIrYWIuZmlsZVN0YXJ0K1wiKSAtIG5leHQgYnVmZmVyIHRvIGZldGNoIHNob3VsZCBoYXZlIGEgZmlsZVN0YXJ0IHBvc2l0aW9uIG9mIFwiK25leHRGaWxlU3RhcnQpO1xuXHRcdHRoaXMuc3RyZWFtLmxvZ0J1ZmZlckxldmVsKCk7XG5cdFx0dGhpcy5zdHJlYW0uY2xlYW5CdWZmZXJzKCk7XG5cdFx0dGhpcy5zdHJlYW0ubG9nQnVmZmVyTGV2ZWwodHJ1ZSk7XG5cdFx0TG9nLmluZm8oXCJJU09GaWxlXCIsIFwiU2FtcGxlIGRhdGEgc2l6ZSBpbiBtZW1vcnk6IFwiK3RoaXMuZ2V0QWxsb2NhdGVkU2FtcGxlRGF0YVNpemUoKSk7XG5cdH1cblx0cmV0dXJuIG5leHRGaWxlU3RhcnQ7XG59XG5cbklTT0ZpbGUucHJvdG90eXBlLmdldEluZm8gPSBmdW5jdGlvbigpIHtcblx0dmFyIGksIGo7XG5cdHZhciBtb3ZpZSA9IHt9O1xuXHR2YXIgdHJhaztcblx0dmFyIHRyYWNrO1xuXHR2YXIgcmVmO1xuXHR2YXIgc2FtcGxlX2Rlc2M7XG5cdHZhciBfMTkwNCA9IChuZXcgRGF0ZSgnMTkwNC0wMS0wMVQwMDowMDowMFonKS5nZXRUaW1lKCkpO1xuXG5cdGlmICh0aGlzLm1vb3YpIHtcblx0XHRtb3ZpZS5oYXNNb292ID0gdHJ1ZTtcblx0XHRtb3ZpZS5kdXJhdGlvbiA9IHRoaXMubW9vdi5tdmhkLmR1cmF0aW9uO1xuXHRcdG1vdmllLnRpbWVzY2FsZSA9IHRoaXMubW9vdi5tdmhkLnRpbWVzY2FsZTtcblx0XHRtb3ZpZS5pc0ZyYWdtZW50ZWQgPSAodGhpcy5tb292Lm12ZXggIT0gbnVsbCk7XG5cdFx0aWYgKG1vdmllLmlzRnJhZ21lbnRlZCAmJiB0aGlzLm1vb3YubXZleC5tZWhkKSB7XG5cdFx0XHRtb3ZpZS5mcmFnbWVudF9kdXJhdGlvbiA9IHRoaXMubW9vdi5tdmV4Lm1laGQuZnJhZ21lbnRfZHVyYXRpb247XG5cdFx0fVxuXHRcdG1vdmllLmlzUHJvZ3Jlc3NpdmUgPSB0aGlzLmlzUHJvZ3Jlc3NpdmU7XG5cdFx0bW92aWUuaGFzSU9EID0gKHRoaXMubW9vdi5pb2RzICE9IG51bGwpO1xuXHRcdG1vdmllLmJyYW5kcyA9IFtdO1xuXHRcdG1vdmllLmJyYW5kcy5wdXNoKHRoaXMuZnR5cC5tYWpvcl9icmFuZCk7XG5cdFx0bW92aWUuYnJhbmRzID0gbW92aWUuYnJhbmRzLmNvbmNhdCh0aGlzLmZ0eXAuY29tcGF0aWJsZV9icmFuZHMpO1xuXHRcdG1vdmllLmNyZWF0ZWQgPSBuZXcgRGF0ZShfMTkwNCt0aGlzLm1vb3YubXZoZC5jcmVhdGlvbl90aW1lKjEwMDApO1xuXHRcdG1vdmllLm1vZGlmaWVkID0gbmV3IERhdGUoXzE5MDQrdGhpcy5tb292Lm12aGQubW9kaWZpY2F0aW9uX3RpbWUqMTAwMCk7XG5cdFx0bW92aWUudHJhY2tzID0gW107XG5cdFx0bW92aWUuYXVkaW9UcmFja3MgPSBbXTtcblx0XHRtb3ZpZS52aWRlb1RyYWNrcyA9IFtdO1xuXHRcdG1vdmllLnN1YnRpdGxlVHJhY2tzID0gW107XG5cdFx0bW92aWUubWV0YWRhdGFUcmFja3MgPSBbXTtcblx0XHRtb3ZpZS5oaW50VHJhY2tzID0gW107XG5cdFx0bW92aWUub3RoZXJUcmFja3MgPSBbXTtcblx0XHRmb3IgKGkgPSAwOyBpIDwgdGhpcy5tb292LnRyYWtzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR0cmFrID0gdGhpcy5tb292LnRyYWtzW2ldO1xuXHRcdFx0c2FtcGxlX2Rlc2MgPSB0cmFrLm1kaWEubWluZi5zdGJsLnN0c2QuZW50cmllc1swXTtcblx0XHRcdHRyYWNrID0ge307XG5cdFx0XHRtb3ZpZS50cmFja3MucHVzaCh0cmFjayk7XG5cdFx0XHR0cmFjay5pZCA9IHRyYWsudGtoZC50cmFja19pZDtcblx0XHRcdHRyYWNrLm5hbWUgPSB0cmFrLm1kaWEuaGRsci5uYW1lO1xuXHRcdFx0dHJhY2sucmVmZXJlbmNlcyA9IFtdO1xuXHRcdFx0aWYgKHRyYWsudHJlZikge1xuXHRcdFx0XHRmb3IgKGogPSAwOyBqIDwgdHJhay50cmVmLmJveGVzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0cmVmID0ge307XG5cdFx0XHRcdFx0dHJhY2sucmVmZXJlbmNlcy5wdXNoKHJlZik7XG5cdFx0XHRcdFx0cmVmLnR5cGUgPSB0cmFrLnRyZWYuYm94ZXNbal0udHlwZTtcblx0XHRcdFx0XHRyZWYudHJhY2tfaWRzID0gdHJhay50cmVmLmJveGVzW2pdLnRyYWNrX2lkcztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKHRyYWsuZWR0cykge1xuXHRcdFx0XHR0cmFjay5lZGl0cyA9IHRyYWsuZWR0cy5lbHN0LmVudHJpZXM7XG5cdFx0XHR9XG5cdFx0XHR0cmFjay5jcmVhdGVkID0gbmV3IERhdGUoXzE5MDQrdHJhay50a2hkLmNyZWF0aW9uX3RpbWUqMTAwMCk7XG5cdFx0XHR0cmFjay5tb2RpZmllZCA9IG5ldyBEYXRlKF8xOTA0K3RyYWsudGtoZC5tb2RpZmljYXRpb25fdGltZSoxMDAwKTtcblx0XHRcdHRyYWNrLm1vdmllX2R1cmF0aW9uID0gdHJhay50a2hkLmR1cmF0aW9uO1xuXHRcdFx0dHJhY2subW92aWVfdGltZXNjYWxlID0gbW92aWUudGltZXNjYWxlO1xuXHRcdFx0dHJhY2subGF5ZXIgPSB0cmFrLnRraGQubGF5ZXI7XG5cdFx0XHR0cmFjay5hbHRlcm5hdGVfZ3JvdXAgPSB0cmFrLnRraGQuYWx0ZXJuYXRlX2dyb3VwO1xuXHRcdFx0dHJhY2sudm9sdW1lID0gdHJhay50a2hkLnZvbHVtZTtcblx0XHRcdHRyYWNrLm1hdHJpeCA9IHRyYWsudGtoZC5tYXRyaXg7XG5cdFx0XHR0cmFjay50cmFja193aWR0aCA9IHRyYWsudGtoZC53aWR0aC8oMTw8MTYpO1xuXHRcdFx0dHJhY2sudHJhY2tfaGVpZ2h0ID0gdHJhay50a2hkLmhlaWdodC8oMTw8MTYpO1xuXHRcdFx0dHJhY2sudGltZXNjYWxlID0gdHJhay5tZGlhLm1kaGQudGltZXNjYWxlO1xuXHRcdFx0dHJhY2suY3RzX3NoaWZ0ID0gdHJhay5tZGlhLm1pbmYuc3RibC5jc2xnO1xuXHRcdFx0dHJhY2suZHVyYXRpb24gPSB0cmFrLm1kaWEubWRoZC5kdXJhdGlvbjtcblx0XHRcdHRyYWNrLnNhbXBsZXNfZHVyYXRpb24gPSB0cmFrLnNhbXBsZXNfZHVyYXRpb247XG5cdFx0XHR0cmFjay5jb2RlYyA9IHNhbXBsZV9kZXNjLmdldENvZGVjKCk7XG5cdFx0XHR0cmFjay5raW5kID0gKHRyYWsudWR0YSAmJiB0cmFrLnVkdGEua2luZHMubGVuZ3RoID8gdHJhay51ZHRhLmtpbmRzWzBdIDogeyBzY2hlbWVVUkk6IFwiXCIsIHZhbHVlOiBcIlwifSk7XG5cdFx0XHR0cmFjay5sYW5ndWFnZSA9ICh0cmFrLm1kaWEuZWxuZyA/IHRyYWsubWRpYS5lbG5nLmV4dGVuZGVkX2xhbmd1YWdlIDogdHJhay5tZGlhLm1kaGQubGFuZ3VhZ2VTdHJpbmcpO1xuXHRcdFx0dHJhY2submJfc2FtcGxlcyA9IHRyYWsuc2FtcGxlcy5sZW5ndGg7XG5cdFx0XHR0cmFjay5zaXplID0gdHJhay5zYW1wbGVzX3NpemU7XG5cdFx0XHR0cmFjay5iaXRyYXRlID0gKHRyYWNrLnNpemUqOCp0cmFjay50aW1lc2NhbGUpL3RyYWNrLnNhbXBsZXNfZHVyYXRpb247XG5cdFx0XHRpZiAoc2FtcGxlX2Rlc2MuaXNBdWRpbygpKSB7XG5cdFx0XHRcdHRyYWNrLnR5cGUgPSBcImF1ZGlvXCI7XG5cdFx0XHRcdG1vdmllLmF1ZGlvVHJhY2tzLnB1c2godHJhY2spO1xuXHRcdFx0XHR0cmFjay5hdWRpbyA9IHt9O1xuXHRcdFx0XHR0cmFjay5hdWRpby5zYW1wbGVfcmF0ZSA9IHNhbXBsZV9kZXNjLmdldFNhbXBsZVJhdGUoKTtcblx0XHRcdFx0dHJhY2suYXVkaW8uY2hhbm5lbF9jb3VudCA9IHNhbXBsZV9kZXNjLmdldENoYW5uZWxDb3VudCgpO1xuXHRcdFx0XHR0cmFjay5hdWRpby5zYW1wbGVfc2l6ZSA9IHNhbXBsZV9kZXNjLmdldFNhbXBsZVNpemUoKTtcblx0XHRcdH0gZWxzZSBpZiAoc2FtcGxlX2Rlc2MuaXNWaWRlbygpKSB7XG5cdFx0XHRcdHRyYWNrLnR5cGUgPSBcInZpZGVvXCI7XG5cdFx0XHRcdG1vdmllLnZpZGVvVHJhY2tzLnB1c2godHJhY2spO1xuXHRcdFx0XHR0cmFjay52aWRlbyA9IHt9O1xuXHRcdFx0XHR0cmFjay52aWRlby53aWR0aCA9IHNhbXBsZV9kZXNjLmdldFdpZHRoKCk7XG5cdFx0XHRcdHRyYWNrLnZpZGVvLmhlaWdodCA9IHNhbXBsZV9kZXNjLmdldEhlaWdodCgpO1xuXHRcdFx0fSBlbHNlIGlmIChzYW1wbGVfZGVzYy5pc1N1YnRpdGxlKCkpIHtcblx0XHRcdFx0dHJhY2sudHlwZSA9IFwic3VidGl0bGVzXCI7XG5cdFx0XHRcdG1vdmllLnN1YnRpdGxlVHJhY2tzLnB1c2godHJhY2spO1xuXHRcdFx0fSBlbHNlIGlmIChzYW1wbGVfZGVzYy5pc0hpbnQoKSkge1xuXHRcdFx0XHR0cmFjay50eXBlID0gXCJtZXRhZGF0YVwiO1xuXHRcdFx0XHRtb3ZpZS5oaW50VHJhY2tzLnB1c2godHJhY2spO1xuXHRcdFx0fSBlbHNlIGlmIChzYW1wbGVfZGVzYy5pc01ldGFkYXRhKCkpIHtcblx0XHRcdFx0dHJhY2sudHlwZSA9IFwibWV0YWRhdGFcIjtcblx0XHRcdFx0bW92aWUubWV0YWRhdGFUcmFja3MucHVzaCh0cmFjayk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0cmFjay50eXBlID0gXCJtZXRhZGF0YVwiO1xuXHRcdFx0XHRtb3ZpZS5vdGhlclRyYWNrcy5wdXNoKHRyYWNrKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0bW92aWUuaGFzTW9vdiA9IGZhbHNlO1xuXHR9XG5cdG1vdmllLm1pbWUgPSBcIlwiO1xuXHRpZiAobW92aWUuaGFzTW9vdiAmJiBtb3ZpZS50cmFja3MpIHtcblx0XHRpZiAobW92aWUudmlkZW9UcmFja3MgJiYgbW92aWUudmlkZW9UcmFja3MubGVuZ3RoID4gMCkge1xuXHRcdFx0bW92aWUubWltZSArPSAndmlkZW8vbXA0OyBjb2RlY3M9XFxcIic7XG5cdFx0fSBlbHNlIGlmIChtb3ZpZS5hdWRpb1RyYWNrcyAmJiBtb3ZpZS5hdWRpb1RyYWNrcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRtb3ZpZS5taW1lICs9ICdhdWRpby9tcDQ7IGNvZGVjcz1cXFwiJztcblx0XHR9IGVsc2Uge1xuXHRcdFx0bW92aWUubWltZSArPSAnYXBwbGljYXRpb24vbXA0OyBjb2RlY3M9XFxcIic7XG5cdFx0fVxuXHRcdGZvciAoaSA9IDA7IGkgPCBtb3ZpZS50cmFja3MubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChpICE9PSAwKSBtb3ZpZS5taW1lICs9ICcsJztcblx0XHRcdG1vdmllLm1pbWUrPSBtb3ZpZS50cmFja3NbaV0uY29kZWM7XG5cdFx0fVxuXHRcdG1vdmllLm1pbWUgKz0gJ1xcXCI7IHByb2ZpbGVzPVxcXCInO1xuXHRcdG1vdmllLm1pbWUgKz0gdGhpcy5mdHlwLmNvbXBhdGlibGVfYnJhbmRzLmpvaW4oKTtcblx0XHRtb3ZpZS5taW1lICs9ICdcXFwiJztcblx0fVxuXHRyZXR1cm4gbW92aWU7XG59XG5cbklTT0ZpbGUucHJvdG90eXBlLnNldE5leHRTZWVrUG9zaXRpb25Gcm9tU2FtcGxlID0gZnVuY3Rpb24gKHNhbXBsZSkge1xuXHRpZiAoIXNhbXBsZSkge1xuXHRcdHJldHVybjtcblx0fVxuXHRpZiAodGhpcy5uZXh0U2Vla1Bvc2l0aW9uKSB7XG5cdFx0dGhpcy5uZXh0U2Vla1Bvc2l0aW9uID0gTWF0aC5taW4oc2FtcGxlLm9mZnNldCtzYW1wbGUuYWxyZWFkeVJlYWQsdGhpcy5uZXh0U2Vla1Bvc2l0aW9uKTtcblx0fSBlbHNlIHtcblx0XHR0aGlzLm5leHRTZWVrUG9zaXRpb24gPSBzYW1wbGUub2Zmc2V0K3NhbXBsZS5hbHJlYWR5UmVhZDtcblx0fVxufVxuXG5JU09GaWxlLnByb3RvdHlwZS5wcm9jZXNzU2FtcGxlcyA9IGZ1bmN0aW9uKGxhc3QpIHtcblx0dmFyIGk7XG5cdHZhciB0cmFrO1xuXHRpZiAoIXRoaXMuc2FtcGxlUHJvY2Vzc2luZ1N0YXJ0ZWQpIHJldHVybjtcblxuXHQvKiBGb3IgZWFjaCB0cmFjayBtYXJrZWQgZm9yIGZyYWdtZW50YXRpb24sXG5cdCAgIGNoZWNrIGlmIHRoZSBuZXh0IHNhbXBsZSBpcyB0aGVyZSAoaS5lLiBpZiB0aGUgc2FtcGxlIGluZm9ybWF0aW9uIGlzIGtub3duIChpLmUuIG1vb2YgaGFzIGFycml2ZWQpIGFuZCBpZiBpdCBoYXMgYmVlbiBkb3dubG9hZGVkKVxuXHQgICBhbmQgY3JlYXRlIGEgZnJhZ21lbnQgd2l0aCBpdCAqL1xuXHRpZiAodGhpcy5pc0ZyYWdtZW50YXRpb25Jbml0aWFsaXplZCAmJiB0aGlzLm9uU2VnbWVudCAhPT0gbnVsbCkge1xuXHRcdGZvciAoaSA9IDA7IGkgPCB0aGlzLmZyYWdtZW50ZWRUcmFja3MubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBmcmFnVHJhayA9IHRoaXMuZnJhZ21lbnRlZFRyYWNrc1tpXTtcblx0XHRcdHRyYWsgPSBmcmFnVHJhay50cmFrO1xuXHRcdFx0d2hpbGUgKHRyYWsubmV4dFNhbXBsZSA8IHRyYWsuc2FtcGxlcy5sZW5ndGggJiYgdGhpcy5zYW1wbGVQcm9jZXNzaW5nU3RhcnRlZCkge1xuXHRcdFx0XHQvKiBUaGUgc2FtcGxlIGluZm9ybWF0aW9uIGlzIHRoZXJlIChlaXRoZXIgYmVjYXVzZSB0aGUgZmlsZSBpcyBub3QgZnJhZ21lbnRlZCBhbmQgdGhpcyBpcyBub3QgdGhlIGxhc3Qgc2FtcGxlLFxuXHRcdFx0XHRvciBiZWNhdXNlIHRoZSBmaWxlIGlzIGZyYWdtZW50ZWQgYW5kIHRoZSBtb29mIGZvciB0aGF0IHNhbXBsZSBoYXMgYmVlbiByZWNlaXZlZCAqL1xuXHRcdFx0XHRMb2cuZGVidWcoXCJJU09GaWxlXCIsIFwiQ3JlYXRpbmcgbWVkaWEgZnJhZ21lbnQgb24gdHJhY2sgI1wiK2ZyYWdUcmFrLmlkICtcIiBmb3Igc2FtcGxlIFwiK3RyYWsubmV4dFNhbXBsZSk7XG5cdFx0XHRcdHZhciByZXN1bHQgPSB0aGlzLmNyZWF0ZUZyYWdtZW50KGZyYWdUcmFrLmlkLCB0cmFrLm5leHRTYW1wbGUsIGZyYWdUcmFrLnNlZ21lbnRTdHJlYW0pO1xuXHRcdFx0XHRpZiAocmVzdWx0KSB7XG5cdFx0XHRcdFx0ZnJhZ1RyYWsuc2VnbWVudFN0cmVhbSA9IHJlc3VsdDtcblx0XHRcdFx0XHR0cmFrLm5leHRTYW1wbGUrKztcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvKiBUaGUgZnJhZ21lbnQgY291bGQgbm90IGJlIGNyZWF0ZWQgYmVjYXVzZSB0aGUgbWVkaWEgZGF0YSBpcyBub3QgdGhlcmUgKG5vdCBkb3dubG9hZGVkKSwgd2FpdCBmb3IgaXQgKi9cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHQvKiBBIGZyYWdtZW50IGlzIGNyZWF0ZWQgYnkgc2FtcGxlLCBidXQgdGhlIHNlZ21lbnQgaXMgdGhlIGFjY3VtdWxhdGlvbiBpbiB0aGUgYnVmZmVyIG9mIHRoZXNlIGZyYWdtZW50cy5cblx0XHRcdFx0ICAgSXQgaXMgZmx1c2hlZCBvbmx5IGFzIHJlcXVlc3RlZCBieSB0aGUgYXBwbGljYXRpb24gKG5iX3NhbXBsZXMpIHRvIGF2b2lkIHRvbyBtYW55IGNhbGxiYWNrcyAqL1xuXHRcdFx0XHRpZiAodHJhay5uZXh0U2FtcGxlICUgZnJhZ1RyYWsubmJfc2FtcGxlcyA9PT0gMCB8fCAobGFzdCB8fCB0cmFrLm5leHRTYW1wbGUgPj0gdHJhay5zYW1wbGVzLmxlbmd0aCkpIHtcblx0XHRcdFx0XHRMb2cuaW5mbyhcIklTT0ZpbGVcIiwgXCJTZW5kaW5nIGZyYWdtZW50ZWQgZGF0YSBvbiB0cmFjayAjXCIrZnJhZ1RyYWsuaWQrXCIgZm9yIHNhbXBsZXMgW1wiK01hdGgubWF4KDAsdHJhay5uZXh0U2FtcGxlLWZyYWdUcmFrLm5iX3NhbXBsZXMpK1wiLFwiKyh0cmFrLm5leHRTYW1wbGUtMSkrXCJdXCIpO1xuXHRcdFx0XHRcdExvZy5pbmZvKFwiSVNPRmlsZVwiLCBcIlNhbXBsZSBkYXRhIHNpemUgaW4gbWVtb3J5OiBcIit0aGlzLmdldEFsbG9jYXRlZFNhbXBsZURhdGFTaXplKCkpO1xuXHRcdFx0XHRcdGlmICh0aGlzLm9uU2VnbWVudCkge1xuXHRcdFx0XHRcdFx0dGhpcy5vblNlZ21lbnQoZnJhZ1RyYWsuaWQsIGZyYWdUcmFrLnVzZXIsIGZyYWdUcmFrLnNlZ21lbnRTdHJlYW0uYnVmZmVyLCB0cmFrLm5leHRTYW1wbGUsIChsYXN0IHx8IHRyYWsubmV4dFNhbXBsZSA+PSB0cmFrLnNhbXBsZXMubGVuZ3RoKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8qIGZvcmNlIHRoZSBjcmVhdGlvbiBvZiBhIG5ldyBidWZmZXIgKi9cblx0XHRcdFx0XHRmcmFnVHJhay5zZWdtZW50U3RyZWFtID0gbnVsbDtcblx0XHRcdFx0XHRpZiAoZnJhZ1RyYWsgIT09IHRoaXMuZnJhZ21lbnRlZFRyYWNrc1tpXSkge1xuXHRcdFx0XHRcdFx0LyogbWFrZSBzdXJlIHdlIGNhbiBzdG9wIGZyYWdtZW50YXRpb24gaWYgbmVlZGVkICovXG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAodGhpcy5vblNhbXBsZXMgIT09IG51bGwpIHtcblx0XHQvKiBGb3IgZWFjaCB0cmFjayBtYXJrZWQgZm9yIGRhdGEgZXhwb3J0LFxuXHRcdCAgIGNoZWNrIGlmIHRoZSBuZXh0IHNhbXBsZSBpcyB0aGVyZSAoaS5lLiBoYXMgYmVlbiBkb3dubG9hZGVkKSBhbmQgc2VuZCBpdCAqL1xuXHRcdGZvciAoaSA9IDA7IGkgPCB0aGlzLmV4dHJhY3RlZFRyYWNrcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGV4dHJhY3RUcmFrID0gdGhpcy5leHRyYWN0ZWRUcmFja3NbaV07XG5cdFx0XHR0cmFrID0gZXh0cmFjdFRyYWsudHJhaztcblx0XHRcdHdoaWxlICh0cmFrLm5leHRTYW1wbGUgPCB0cmFrLnNhbXBsZXMubGVuZ3RoICYmIHRoaXMuc2FtcGxlUHJvY2Vzc2luZ1N0YXJ0ZWQpIHtcblx0XHRcdFx0TG9nLmRlYnVnKFwiSVNPRmlsZVwiLCBcIkV4cG9ydGluZyBvbiB0cmFjayAjXCIrZXh0cmFjdFRyYWsuaWQgK1wiIHNhbXBsZSAjXCIrdHJhay5uZXh0U2FtcGxlKTtcblx0XHRcdFx0dmFyIHNhbXBsZSA9IHRoaXMuZ2V0U2FtcGxlKHRyYWssIHRyYWsubmV4dFNhbXBsZSk7XG5cdFx0XHRcdGlmIChzYW1wbGUpIHtcblx0XHRcdFx0XHR0cmFrLm5leHRTYW1wbGUrKztcblx0XHRcdFx0XHRleHRyYWN0VHJhay5zYW1wbGVzLnB1c2goc2FtcGxlKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLnNldE5leHRTZWVrUG9zaXRpb25Gcm9tU2FtcGxlKHRyYWsuc2FtcGxlc1t0cmFrLm5leHRTYW1wbGVdKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAodHJhay5uZXh0U2FtcGxlICUgZXh0cmFjdFRyYWsubmJfc2FtcGxlcyA9PT0gMCB8fCB0cmFrLm5leHRTYW1wbGUgPj0gdHJhay5zYW1wbGVzLmxlbmd0aCkge1xuXHRcdFx0XHRcdExvZy5kZWJ1ZyhcIklTT0ZpbGVcIiwgXCJTZW5kaW5nIHNhbXBsZXMgb24gdHJhY2sgI1wiK2V4dHJhY3RUcmFrLmlkK1wiIGZvciBzYW1wbGUgXCIrdHJhay5uZXh0U2FtcGxlKTtcblx0XHRcdFx0XHRpZiAodGhpcy5vblNhbXBsZXMpIHtcblx0XHRcdFx0XHRcdHRoaXMub25TYW1wbGVzKGV4dHJhY3RUcmFrLmlkLCBleHRyYWN0VHJhay51c2VyLCBleHRyYWN0VHJhay5zYW1wbGVzKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZXh0cmFjdFRyYWsuc2FtcGxlcyA9IFtdO1xuXHRcdFx0XHRcdGlmIChleHRyYWN0VHJhayAhPT0gdGhpcy5leHRyYWN0ZWRUcmFja3NbaV0pIHtcblx0XHRcdFx0XHRcdC8qIGNoZWNrIGlmIHRoZSBleHRyYWN0aW9uIG5lZWRzIHRvIGJlIHN0b3BwZWQgKi9cblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG4vKiBGaW5kIGFuZCByZXR1cm4gc3BlY2lmaWMgYm94ZXMgdXNpbmcgcmVjdXJzaW9uIGFuZCBlYXJseSByZXR1cm4gKi9cbklTT0ZpbGUucHJvdG90eXBlLmdldEJveCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIHJlc3VsdCA9IHRoaXMuZ2V0Qm94ZXModHlwZSwgdHJ1ZSk7XG4gIHJldHVybiAocmVzdWx0Lmxlbmd0aCA/IHJlc3VsdFswXSA6IG51bGwpO1xufVxuXG5JU09GaWxlLnByb3RvdHlwZS5nZXRCb3hlcyA9IGZ1bmN0aW9uKHR5cGUsIHJldHVybkVhcmx5KSB7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgSVNPRmlsZS5fc3dlZXAuY2FsbCh0aGlzLCB0eXBlLCByZXN1bHQsIHJldHVybkVhcmx5KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuSVNPRmlsZS5fc3dlZXAgPSBmdW5jdGlvbih0eXBlLCByZXN1bHQsIHJldHVybkVhcmx5KSB7XG4gIGlmICh0aGlzLnR5cGUgJiYgdGhpcy50eXBlID09IHR5cGUpIHJlc3VsdC5wdXNoKHRoaXMpO1xuICBmb3IgKHZhciBib3ggaW4gdGhpcy5ib3hlcykge1xuICAgIGlmIChyZXN1bHQubGVuZ3RoICYmIHJldHVybkVhcmx5KSByZXR1cm47XG4gICAgSVNPRmlsZS5fc3dlZXAuY2FsbCh0aGlzLmJveGVzW2JveF0sIHR5cGUsIHJlc3VsdCwgcmV0dXJuRWFybHkpO1xuICB9XG59XG5cbklTT0ZpbGUucHJvdG90eXBlLmdldFRyYWNrU2FtcGxlc0luZm8gPSBmdW5jdGlvbih0cmFja19pZCkge1xuXHR2YXIgdHJhY2sgPSB0aGlzLmdldFRyYWNrQnlJZCh0cmFja19pZCk7XG5cdGlmICh0cmFjaykge1xuXHRcdHJldHVybiB0cmFjay5zYW1wbGVzO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybjtcblx0fVxufVxuXG5JU09GaWxlLnByb3RvdHlwZS5nZXRUcmFja1NhbXBsZSA9IGZ1bmN0aW9uKHRyYWNrX2lkLCBudW1iZXIpIHtcblx0dmFyIHRyYWNrID0gdGhpcy5nZXRUcmFja0J5SWQodHJhY2tfaWQpO1xuXHR2YXIgc2FtcGxlID0gdGhpcy5nZXRTYW1wbGUodHJhY2ssIG51bWJlcik7XG5cdHJldHVybiBzYW1wbGU7XG59XG5cbi8qIENhbGxlZCBieSB0aGUgYXBwbGljYXRpb24gdG8gcmVsZWFzZSB0aGUgcmVzb3VyY2VzIGFzc29jaWF0ZWQgdG8gc2FtcGxlcyBhbHJlYWR5IGZvcndhcmRlZCB0byB0aGUgYXBwbGljYXRpb24gKi9cbklTT0ZpbGUucHJvdG90eXBlLnJlbGVhc2VVc2VkU2FtcGxlcyA9IGZ1bmN0aW9uIChpZCwgc2FtcGxlTnVtKSB7XG5cdHZhciBzaXplID0gMDtcblx0dmFyIHRyYWsgPSB0aGlzLmdldFRyYWNrQnlJZChpZCk7XG5cdGlmICghdHJhay5sYXN0VmFsaWRTYW1wbGUpIHRyYWsubGFzdFZhbGlkU2FtcGxlID0gMDtcblx0Zm9yICh2YXIgaSA9IHRyYWsubGFzdFZhbGlkU2FtcGxlOyBpIDwgc2FtcGxlTnVtOyBpKyspIHtcblx0XHRzaXplKz10aGlzLnJlbGVhc2VTYW1wbGUodHJhaywgaSk7XG5cdH1cblx0TG9nLmluZm8oXCJJU09GaWxlXCIsIFwiVHJhY2sgI1wiK2lkK1wiIHJlbGVhc2VkIHNhbXBsZXMgdXAgdG8gXCIrc2FtcGxlTnVtK1wiIChyZWxlYXNlZCBzaXplOiBcIitzaXplK1wiLCByZW1haW5pbmc6IFwiK3RoaXMuc2FtcGxlc0RhdGFTaXplK1wiKVwiKTtcblx0dHJhay5sYXN0VmFsaWRTYW1wbGUgPSBzYW1wbGVOdW07XG59XG5cbklTT0ZpbGUucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuc2FtcGxlUHJvY2Vzc2luZ1N0YXJ0ZWQgPSB0cnVlO1xuXHR0aGlzLnByb2Nlc3NTYW1wbGVzKGZhbHNlKTtcbn1cblxuSVNPRmlsZS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLnNhbXBsZVByb2Nlc3NpbmdTdGFydGVkID0gZmFsc2U7XG59XG5cbi8qIENhbGxlZCBieSB0aGUgYXBwbGljYXRpb24gdG8gZmx1c2ggdGhlIHJlbWFpbmluZyBzYW1wbGVzIChlLmcuIG9uY2UgdGhlIGRvd25sb2FkIGlzIGZpbmlzaGVkIG9yIHdoZW4gbm8gbW9yZSBzYW1wbGVzIHdpbGwgYmUgYWRkZWQpICovXG5JU09GaWxlLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uKCkge1xuXHRMb2cuaW5mbyhcIklTT0ZpbGVcIiwgXCJGbHVzaGluZyByZW1haW5pbmcgc2FtcGxlc1wiKTtcblx0dGhpcy51cGRhdGVTYW1wbGVMaXN0cygpO1xuXHR0aGlzLnByb2Nlc3NTYW1wbGVzKHRydWUpO1xuXHR0aGlzLnN0cmVhbS5jbGVhbkJ1ZmZlcnMoKTtcblx0dGhpcy5zdHJlYW0ubG9nQnVmZmVyTGV2ZWwodHJ1ZSk7XG59XG5cbi8qIEZpbmRzIHRoZSBieXRlIG9mZnNldCBmb3IgYSBnaXZlbiB0aW1lIG9uIGEgZ2l2ZW4gdHJhY2tcbiAgIGFsc28gcmV0dXJucyB0aGUgdGltZSBvZiB0aGUgcHJldmlvdXMgcmFwICovXG5JU09GaWxlLnByb3RvdHlwZS5zZWVrVHJhY2sgPSBmdW5jdGlvbih0aW1lLCB1c2VSYXAsIHRyYWspIHtcblx0dmFyIGo7XG5cdHZhciBzYW1wbGU7XG5cdHZhciBzZWVrX29mZnNldCA9IEluZmluaXR5O1xuXHR2YXIgcmFwX3NlZWtfc2FtcGxlX251bSA9IDA7XG5cdHZhciBzZWVrX3NhbXBsZV9udW0gPSAwO1xuXHR2YXIgdGltZXNjYWxlO1xuXG5cdGlmICh0cmFrLnNhbXBsZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0TG9nLmluZm8oXCJJU09GaWxlXCIsIFwiTm8gc2FtcGxlIGluIHRyYWNrLCBjYW5ub3Qgc2VlayEgVXNpbmcgdGltZSBcIitMb2cuZ2V0RHVyYXRpb25TdHJpbmcoMCwgMSkgK1wiIGFuZCBvZmZzZXQ6IFwiKzApO1xuXHRcdHJldHVybiB7IG9mZnNldDogMCwgdGltZTogMCB9O1xuXHR9XG5cblx0Zm9yIChqID0gMDsgaiA8IHRyYWsuc2FtcGxlcy5sZW5ndGg7IGorKykge1xuXHRcdHNhbXBsZSA9IHRyYWsuc2FtcGxlc1tqXTtcblx0XHRpZiAoaiA9PT0gMCkge1xuXHRcdFx0c2Vla19zYW1wbGVfbnVtID0gMDtcblx0XHRcdHRpbWVzY2FsZSA9IHNhbXBsZS50aW1lc2NhbGU7XG5cdFx0fSBlbHNlIGlmIChzYW1wbGUuY3RzID4gdGltZSAqIHNhbXBsZS50aW1lc2NhbGUpIHtcblx0XHRcdHNlZWtfc2FtcGxlX251bSA9IGotMTtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0XHRpZiAodXNlUmFwICYmIHNhbXBsZS5pc19zeW5jKSB7XG5cdFx0XHRyYXBfc2Vla19zYW1wbGVfbnVtID0gajtcblx0XHR9XG5cdH1cblx0aWYgKHVzZVJhcCkge1xuXHRcdHNlZWtfc2FtcGxlX251bSA9IHJhcF9zZWVrX3NhbXBsZV9udW07XG5cdH1cblx0dGltZSA9IHRyYWsuc2FtcGxlc1tzZWVrX3NhbXBsZV9udW1dLmN0cztcblx0dHJhay5uZXh0U2FtcGxlID0gc2Vla19zYW1wbGVfbnVtO1xuXHR3aGlsZSAodHJhay5zYW1wbGVzW3NlZWtfc2FtcGxlX251bV0uYWxyZWFkeVJlYWQgPT09IHRyYWsuc2FtcGxlc1tzZWVrX3NhbXBsZV9udW1dLnNpemUpIHtcblx0XHQvLyBObyByZW1haW5pbmcgc2FtcGxlcyB0byBsb29rIGZvciwgYWxsIGFyZSBkb3dubG9hZGVkLlxuXHRcdGlmICghdHJhay5zYW1wbGVzW3NlZWtfc2FtcGxlX251bSArIDFdKSB7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdFx0c2Vla19zYW1wbGVfbnVtKys7XG5cdH1cblx0c2Vla19vZmZzZXQgPSB0cmFrLnNhbXBsZXNbc2Vla19zYW1wbGVfbnVtXS5vZmZzZXQrdHJhay5zYW1wbGVzW3NlZWtfc2FtcGxlX251bV0uYWxyZWFkeVJlYWQ7XG5cdExvZy5pbmZvKFwiSVNPRmlsZVwiLCBcIlNlZWtpbmcgdG8gXCIrKHVzZVJhcCA/IFwiUkFQXCI6IFwiXCIpK1wiIHNhbXBsZSAjXCIrdHJhay5uZXh0U2FtcGxlK1wiIG9uIHRyYWNrIFwiK3RyYWsudGtoZC50cmFja19pZCtcIiwgdGltZSBcIitMb2cuZ2V0RHVyYXRpb25TdHJpbmcodGltZSwgdGltZXNjYWxlKSArXCIgYW5kIG9mZnNldDogXCIrc2Vla19vZmZzZXQpO1xuXHRyZXR1cm4geyBvZmZzZXQ6IHNlZWtfb2Zmc2V0LCB0aW1lOiB0aW1lL3RpbWVzY2FsZSB9O1xufVxuXG5JU09GaWxlLnByb3RvdHlwZS5nZXRUcmFja0R1cmF0aW9uID0gZnVuY3Rpb24gKHRyYWspIHtcblx0dmFyIHNhbXBsZTtcblxuXHRpZiAoIXRyYWsuc2FtcGxlcykge1xuXHRcdHJldHVybiBJbmZpbml0eTtcblx0fVxuXHRzYW1wbGUgPSB0cmFrLnNhbXBsZXNbdHJhay5zYW1wbGVzLmxlbmd0aCAtIDFdO1xuXHRyZXR1cm4gKHNhbXBsZS5jdHMgKyBzYW1wbGUuZHVyYXRpb24pIC8gc2FtcGxlLnRpbWVzY2FsZTtcbn1cblxuLyogRmluZHMgdGhlIGJ5dGUgb2Zmc2V0IGluIHRoZSBmaWxlIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdpdmVuIHRpbWUgb3IgdG8gdGhlIHRpbWUgb2YgdGhlIHByZXZpb3VzIFJBUCAqL1xuSVNPRmlsZS5wcm90b3R5cGUuc2VlayA9IGZ1bmN0aW9uKHRpbWUsIHVzZVJhcCkge1xuXHR2YXIgbW9vdiA9IHRoaXMubW9vdjtcblx0dmFyIHRyYWs7XG5cdHZhciB0cmFrX3NlZWtfaW5mbztcblx0dmFyIGk7XG5cdHZhciBzZWVrX2luZm8gPSB7IG9mZnNldDogSW5maW5pdHksIHRpbWU6IEluZmluaXR5IH07XG5cdGlmICghdGhpcy5tb292KSB7XG5cdFx0dGhyb3cgXCJDYW5ub3Qgc2VlazogbW9vdiBub3QgcmVjZWl2ZWQhXCI7XG5cdH0gZWxzZSB7XG5cdFx0Zm9yIChpID0gMDsgaTxtb292LnRyYWtzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR0cmFrID0gbW9vdi50cmFrc1tpXTtcblx0XHRcdGlmICh0aW1lID4gdGhpcy5nZXRUcmFja0R1cmF0aW9uKHRyYWspKSB7IC8vIHNraXAgdHJhY2tzIHRoYXQgYWxyZWFkeSBlbmRlZFxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdHRyYWtfc2Vla19pbmZvID0gdGhpcy5zZWVrVHJhY2sodGltZSwgdXNlUmFwLCB0cmFrKTtcblx0XHRcdGlmICh0cmFrX3NlZWtfaW5mby5vZmZzZXQgPCBzZWVrX2luZm8ub2Zmc2V0KSB7XG5cdFx0XHRcdHNlZWtfaW5mby5vZmZzZXQgPSB0cmFrX3NlZWtfaW5mby5vZmZzZXQ7XG5cdFx0XHR9XG5cdFx0XHRpZiAodHJha19zZWVrX2luZm8udGltZSA8IHNlZWtfaW5mby50aW1lKSB7XG5cdFx0XHRcdHNlZWtfaW5mby50aW1lID0gdHJha19zZWVrX2luZm8udGltZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0TG9nLmluZm8oXCJJU09GaWxlXCIsIFwiU2Vla2luZyBhdCB0aW1lIFwiK0xvZy5nZXREdXJhdGlvblN0cmluZyhzZWVrX2luZm8udGltZSwgMSkrXCIgbmVlZHMgYSBidWZmZXIgd2l0aCBhIGZpbGVTdGFydCBwb3NpdGlvbiBvZiBcIitzZWVrX2luZm8ub2Zmc2V0KTtcblx0XHRpZiAoc2Vla19pbmZvLm9mZnNldCA9PT0gSW5maW5pdHkpIHtcblx0XHRcdC8qIE5vIHNhbXBsZSBpbmZvLCBpbiBhbGwgdHJhY2tzLCBjYW5ub3Qgc2VlayAqL1xuXHRcdFx0c2Vla19pbmZvID0geyBvZmZzZXQ6IHRoaXMubmV4dFBhcnNlUG9zaXRpb24sIHRpbWU6IDAgfTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0LyogY2hlY2sgaWYgdGhlIHNlZWsgcG9zaXRpb24gaXMgYWxyZWFkeSBpbiBzb21lIGJ1ZmZlciBhbmRcblx0XHRcdCBpbiB0aGF0IGNhc2UgcmV0dXJuIHRoZSBlbmQgb2YgdGhhdCBidWZmZXIgKG9yIG9mIHRoZSBsYXN0IGNvbnRpZ3VvdXMgYnVmZmVyKSAqL1xuXHRcdFx0LyogVE9ETzogU2hvdWxkIHdhaXQgdW50aWwgYXBwZW5kIG9wZXJhdGlvbnMgYXJlIGRvbmUgKi9cblx0XHRcdHNlZWtfaW5mby5vZmZzZXQgPSB0aGlzLnN0cmVhbS5nZXRFbmRGaWxlUG9zaXRpb25BZnRlcihzZWVrX2luZm8ub2Zmc2V0KTtcblx0XHR9XG5cdFx0TG9nLmluZm8oXCJJU09GaWxlXCIsIFwiQWRqdXN0ZWQgc2VlayBwb3NpdGlvbiAoYWZ0ZXIgY2hlY2tpbmcgZGF0YSBhbHJlYWR5IGluIGJ1ZmZlcik6IFwiK3NlZWtfaW5mby5vZmZzZXQpO1xuXHRcdHJldHVybiBzZWVrX2luZm87XG5cdH1cbn1cblxuSVNPRmlsZS5wcm90b3R5cGUuZXF1YWwgPSBmdW5jdGlvbihiKSB7XG5cdHZhciBib3hfaW5kZXggPSAwO1xuXHR3aGlsZSAoYm94X2luZGV4IDwgdGhpcy5ib3hlcy5sZW5ndGggJiYgYm94X2luZGV4IDwgYi5ib3hlcy5sZW5ndGgpIHtcblx0XHR2YXIgYV9ib3ggPSB0aGlzLmJveGVzW2JveF9pbmRleF07XG5cdFx0dmFyIGJfYm94ID0gYi5ib3hlc1tib3hfaW5kZXhdO1xuXHRcdGlmICghQm94UGFyc2VyLmJveEVxdWFsKGFfYm94LCBiX2JveCkpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0Ym94X2luZGV4Kys7XG5cdH1cblx0cmV0dXJuIHRydWU7XG59XG5cbmlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ZXhwb3J0cy5JU09GaWxlID0gSVNPRmlsZTtcbn1cbi8vIGZpbGU6c3JjL2lzb2ZpbGUtYWR2YW5jZWQtcGFyc2luZy5qc1xuLyogcG9zaXRpb24gaW4gdGhlIGN1cnJlbnQgYnVmZmVyIG9mIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxhc3QgYm94IHBhcnNlZCAqL1xuSVNPRmlsZS5wcm90b3R5cGUubGFzdEJveFN0YXJ0UG9zaXRpb24gPSAwO1xuLyogaW5kaWNhdG9yIGlmIHRoZSBwYXJzaW5nIGlzIHN0dWNrIGluIHRoZSBtaWRkbGUgb2YgYW4gbWRhdCBib3ggKi9cbklTT0ZpbGUucHJvdG90eXBlLnBhcnNpbmdNZGF0ID0gbnVsbDtcbi8qIG5leHQgZmlsZSBwb3NpdGlvbiB0aGF0IHRoZSBwYXJzZXIgbmVlZHM6XG4gICAgLSAwIHVudGlsIHRoZSBmaXJzdCBidWZmZXIgKGkuZS4gZmlsZVN0YXJ0ID09PTApIGhhcyBiZWVuIHJlY2VpdmVkIFxuICAgIC0gb3RoZXJ3aXNlLCB0aGUgbmV4dCBib3ggc3RhcnQgdW50aWwgdGhlIG1vb3YgYm94IGhhcyBiZWVuIHBhcnNlZFxuICAgIC0gb3RoZXJ3aXNlLCB0aGUgcG9zaXRpb24gb2YgdGhlIG5leHQgc2FtcGxlIHRvIGZldGNoXG4gKi9cbklTT0ZpbGUucHJvdG90eXBlLm5leHRQYXJzZVBvc2l0aW9uID0gMDtcbi8qIGtlZXAgbWRhdCBkYXRhICovXG5JU09GaWxlLnByb3RvdHlwZS5kaXNjYXJkTWRhdERhdGEgPSBmYWxzZTtcblxuSVNPRmlsZS5wcm90b3R5cGUucHJvY2Vzc0luY29tcGxldGVCb3ggPSBmdW5jdGlvbihyZXQpIHtcblx0dmFyIGJveDtcblx0dmFyIG1lcmdlZDtcblx0dmFyIGZvdW5kO1xuXHRcblx0Lyogd2UgZGlkIG5vdCBoYXZlIGVub3VnaCBieXRlcyBpbiB0aGUgY3VycmVudCBidWZmZXIgdG8gcGFyc2UgdGhlIGVudGlyZSBib3ggKi9cblx0aWYgKHJldC50eXBlID09PSBcIm1kYXRcIikgeyBcblx0XHQvKiB3ZSBoYWQgZW5vdWdoIGJ5dGVzIHRvIGdldCBpdHMgdHlwZSBhbmQgc2l6ZSBhbmQgaXQncyBhbiAnbWRhdCcgKi9cblx0XHRcblx0XHQvKiBzcGVjaWFsIGhhbmRsaW5nIGZvciBtZGF0IGJveGVzLCBzaW5jZSB3ZSBkb24ndCBhY3R1YWxseSBuZWVkIHRvIHBhcnNlIGl0IGxpbmVhcmx5IFxuXHRcdCAgIHdlIGNyZWF0ZSB0aGUgYm94ICovXG5cdFx0Ym94ID0gbmV3IEJveFBhcnNlcltyZXQudHlwZStcIkJveFwiXShyZXQuc2l6ZSk7XHRcblx0XHR0aGlzLnBhcnNpbmdNZGF0ID0gYm94O1xuXHRcdHRoaXMuYm94ZXMucHVzaChib3gpO1xuXHRcdHRoaXMubWRhdHMucHVzaChib3gpO1x0XHRcdFxuXHRcdGJveC5zdGFydCA9IHJldC5zdGFydDtcblx0XHRib3guaGRyX3NpemUgPSByZXQuaGRyX3NpemU7XG5cdFx0dGhpcy5zdHJlYW0uYWRkVXNlZEJ5dGVzKGJveC5oZHJfc2l6ZSk7XG5cblx0XHQvKiBpbmRpY2F0ZSB0aGF0IHRoZSBwYXJzaW5nIHNob3VsZCBzdGFydCBmcm9tIHRoZSBlbmQgb2YgdGhlIGJveCAqL1xuXHRcdHRoaXMubGFzdEJveFN0YXJ0UG9zaXRpb24gPSBib3guc3RhcnQgKyBib3guc2l6ZTtcbiBcdFx0LyogbGV0J3Mgc2VlIGlmIHdlIGhhdmUgdGhlIGVuZCBvZiB0aGUgYm94IGluIHRoZSBvdGhlciBidWZmZXJzICovXG5cdFx0Zm91bmQgPSB0aGlzLnN0cmVhbS5zZWVrKGJveC5zdGFydCArIGJveC5zaXplLCBmYWxzZSwgdGhpcy5kaXNjYXJkTWRhdERhdGEpO1xuXHRcdGlmIChmb3VuZCkge1xuXHRcdFx0LyogZm91bmQgdGhlIGVuZCBvZiB0aGUgYm94ICovXG5cdFx0XHR0aGlzLnBhcnNpbmdNZGF0ID0gbnVsbDtcblx0XHRcdC8qIGxldCdzIHNlZSBpZiB3ZSBjYW4gcGFyc2UgbW9yZSBpbiB0aGlzIGJ1ZmZlciAqL1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8qICdtZGF0JyBlbmQgbm90IGZvdW5kIGluIHRoZSBleGlzdGluZyBidWZmZXJzICovXG5cdFx0XHQvKiBkZXRlcm1pbmUgdGhlIG5leHQgcG9zaXRpb24gaW4gdGhlIGZpbGUgdG8gc3RhcnQgcGFyc2luZyBmcm9tICovXG5cdFx0XHRpZiAoIXRoaXMubW9vdlN0YXJ0Rm91bmQpIHtcblx0XHRcdFx0LyogbW9vdiBub3QgZmluZCB5ZXQsIFxuXHRcdFx0XHQgICB0aGUgZmlsZSBwcm9iYWJseSBoYXMgJ21kYXQnIGF0IHRoZSBiZWdpbm5pbmcsIGFuZCAnbW9vdicgYXQgdGhlIGVuZCwgXG5cdFx0XHRcdCAgIGluZGljYXRlIHRoYXQgdGhlIGRvd25sb2FkZXIgc2hvdWxkIG5vdCB0cnkgdG8gZG93bmxvYWQgdGhvc2UgYnl0ZXMgbm93ICovXG5cdFx0XHRcdHRoaXMubmV4dFBhcnNlUG9zaXRpb24gPSBib3guc3RhcnQgKyBib3guc2l6ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8qIHdlIGhhdmUgdGhlIHN0YXJ0IG9mIHRoZSBtb292IGJveCwgXG5cdFx0XHRcdCAgIHRoZSBuZXh0IGJ5dGVzIHNob3VsZCB0cnkgdG8gY29tcGxldGUgdGhlIGN1cnJlbnQgJ21kYXQnICovXG5cdFx0XHRcdHRoaXMubmV4dFBhcnNlUG9zaXRpb24gPSB0aGlzLnN0cmVhbS5maW5kRW5kQ29udGlndW91c0J1ZigpO1xuXHRcdFx0fVxuXHRcdFx0Lyogbm90IG11Y2ggd2UgY2FuIGRvLCB3YWl0IGZvciBtb3JlIGJ1ZmZlcnMgdG8gYXJyaXZlICovXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdC8qIGJveCBpcyBpbmNvbXBsZXRlLCB3ZSBtYXkgbm90IGV2ZW4ga25vdyBpdHMgdHlwZSAqL1xuXHRcdGlmIChyZXQudHlwZSA9PT0gXCJtb292XCIpIHsgXG5cdFx0XHQvKiB0aGUgaW5jb21wbGV0ZSBib3ggaXMgYSAnbW9vdicgYm94ICovXG5cdFx0XHR0aGlzLm1vb3ZTdGFydEZvdW5kID0gdHJ1ZTtcblx0XHRcdGlmICh0aGlzLm1kYXRzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHR0aGlzLmlzUHJvZ3Jlc3NpdmUgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQvKiBlaXRoZXIgaXQncyBub3QgYW4gbWRhdCBib3ggKGFuZCB3ZSBuZWVkIHRvIHBhcnNlIGl0LCB3ZSBjYW5ub3Qgc2tpcCBpdClcblx0XHQgICAoVE9ETzogd2UgY291bGQgc2tpcCAnZnJlZScgYm94ZXMgLi4uKVxuXHRcdFx0ICAgb3Igd2UgZGlkIG5vdCBoYXZlIGVub3VnaCBkYXRhIHRvIHBhcnNlIHRoZSB0eXBlIGFuZCBzaXplIG9mIHRoZSBib3gsIFxuXHRcdCAgIHdlIHRyeSB0byBjb25jYXRlbmF0ZSB0aGUgY3VycmVudCBidWZmZXIgd2l0aCB0aGUgbmV4dCBidWZmZXIgdG8gcmVzdGFydCBwYXJzaW5nICovXG5cdFx0bWVyZ2VkID0gKHRoaXMuc3RyZWFtLm1lcmdlTmV4dEJ1ZmZlciA/IHRoaXMuc3RyZWFtLm1lcmdlTmV4dEJ1ZmZlcigpIDogZmFsc2UpO1xuXHRcdGlmIChtZXJnZWQpIHtcblx0XHRcdC8qIFRoZSBuZXh0IGJ1ZmZlciB3YXMgY29udGlndW91cywgdGhlIG1lcmdpbmcgc3VjY2VlZGVkLFxuXHRcdFx0ICAgd2UgY2FuIG5vdyBjb250aW51ZSBwYXJzaW5nLCBcblx0XHRcdCAgIHRoZSBuZXh0IGJlc3QgcG9zaXRpb24gdG8gcGFyc2UgaXMgYXQgdGhlIGVuZCBvZiB0aGlzIG5ldyBidWZmZXIgKi9cblx0XHRcdHRoaXMubmV4dFBhcnNlUG9zaXRpb24gPSB0aGlzLnN0cmVhbS5nZXRFbmRQb3NpdGlvbigpO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8qIHdlIGNhbm5vdCBjb25jYXRlbmF0ZSBleGlzdGluZyBidWZmZXJzIGJlY2F1c2UgdGhleSBhcmUgbm90IGNvbnRpZ3VvdXMgb3IgYmVjYXVzZSB0aGVyZSBpcyBubyBhZGRpdGlvbmFsIGJ1ZmZlciAqL1xuXHRcdFx0LyogVGhlIG5leHQgYmVzdCBwb3NpdGlvbiB0byBwYXJzZSBpcyBzdGlsbCBhdCB0aGUgZW5kIG9mIHRoaXMgb2xkIGJ1ZmZlciAqL1xuXHRcdFx0aWYgKCFyZXQudHlwZSkge1xuXHRcdFx0XHQvKiBUaGVyZSB3ZXJlIG5vdCBlbm91Z2ggYnl0ZXMgaW4gdGhlIGJ1ZmZlciB0byBwYXJzZSB0aGUgYm94IHR5cGUgYW5kIGxlbmd0aCxcblx0XHRcdFx0ICAgdGhlIG5leHQgZmV0Y2ggc2hvdWxkIHJldHJpZXZlIHRob3NlIG1pc3NpbmcgYnl0ZXMsIGkuZS4gdGhlIG5leHQgYnl0ZXMgYWZ0ZXIgdGhpcyBidWZmZXIgKi9cblx0XHRcdFx0dGhpcy5uZXh0UGFyc2VQb3NpdGlvbiA9IHRoaXMuc3RyZWFtLmdldEVuZFBvc2l0aW9uKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvKiB3ZSBoYWQgZW5vdWdoIGJ5dGVzIHRvIHBhcnNlIHNpemUgYW5kIHR5cGUgb2YgdGhlIGluY29tcGxldGUgYm94XG5cdFx0XHRcdCAgIGlmIHdlIGhhdmVuJ3QgZm91bmQgeWV0IHRoZSBtb292IGJveCwgc2tpcCB0aGlzIG9uZSBhbmQgdHJ5IHRoZSBuZXh0IG9uZSBcblx0XHRcdFx0ICAgaWYgd2UgaGF2ZSBmb3VuZCB0aGUgbW9vdiBib3gsIGxldCdzIGNvbnRpbnVlIGxpbmVhciBwYXJzaW5nICovXG5cdFx0XHRcdGlmICh0aGlzLm1vb3ZTdGFydEZvdW5kKSB7XG5cdFx0XHRcdFx0dGhpcy5uZXh0UGFyc2VQb3NpdGlvbiA9IHRoaXMuc3RyZWFtLmdldEVuZFBvc2l0aW9uKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5uZXh0UGFyc2VQb3NpdGlvbiA9IHRoaXMuc3RyZWFtLmdldFBvc2l0aW9uKCkgKyByZXQuc2l6ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxufVxuXG5JU09GaWxlLnByb3RvdHlwZS5oYXNJbmNvbXBsZXRlTWRhdCA9IGZ1bmN0aW9uICgpIHtcblx0cmV0dXJuICh0aGlzLnBhcnNpbmdNZGF0ICE9PSBudWxsKTtcbn1cblxuSVNPRmlsZS5wcm90b3R5cGUucHJvY2Vzc0luY29tcGxldGVNZGF0ID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgYm94O1xuXHR2YXIgZm91bmQ7XG5cdFxuXHQvKiB3ZSBhcmUgaW4gdGhlIHBhcnNpbmcgb2YgYW4gaW5jb21wbGV0ZSBtZGF0IGJveCAqL1xuXHRib3ggPSB0aGlzLnBhcnNpbmdNZGF0O1xuXG5cdGZvdW5kID0gdGhpcy5zdHJlYW0uc2Vlayhib3guc3RhcnQgKyBib3guc2l6ZSwgZmFsc2UsIHRoaXMuZGlzY2FyZE1kYXREYXRhKTtcblx0aWYgKGZvdW5kKSB7XG5cdFx0TG9nLmRlYnVnKFwiSVNPRmlsZVwiLCBcIkZvdW5kICdtZGF0JyBlbmQgaW4gYnVmZmVyZWQgZGF0YVwiKTtcblx0XHQvKiB0aGUgZW5kIG9mIHRoZSBtZGF0IGhhcyBiZWVuIGZvdW5kICovIFxuXHRcdHRoaXMucGFyc2luZ01kYXQgPSBudWxsO1xuXHRcdC8qIHdlIGNhbiBwYXJzZSBtb3JlIGluIHRoaXMgYnVmZmVyICovXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gZWxzZSB7XG5cdFx0Lyogd2UgZG9uJ3QgaGF2ZSB0aGUgZW5kIG9mIHRoaXMgbWRhdCB5ZXQsIFxuXHRcdCAgIGluZGljYXRlIHRoYXQgdGhlIG5leHQgYnl0ZSB0byBmZXRjaCBpcyB0aGUgZW5kIG9mIHRoZSBidWZmZXJzIHdlIGhhdmUgc28gZmFyLCBcblx0XHQgICByZXR1cm4gYW5kIHdhaXQgZm9yIG1vcmUgYnVmZmVyIHRvIGNvbWUgKi9cblx0XHR0aGlzLm5leHRQYXJzZVBvc2l0aW9uID0gdGhpcy5zdHJlYW0uZmluZEVuZENvbnRpZ3VvdXNCdWYoKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxuSVNPRmlsZS5wcm90b3R5cGUucmVzdG9yZVBhcnNlUG9zaXRpb24gPSBmdW5jdGlvbigpIHtcblx0LyogUmVwb3NpdGlvbiBhdCB0aGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHByZXZpb3VzIGJveCBub3QgZW50aXJlbHkgcGFyc2VkICovXG5cdHJldHVybiB0aGlzLnN0cmVhbS5zZWVrKHRoaXMubGFzdEJveFN0YXJ0UG9zaXRpb24sIHRydWUsIHRoaXMuZGlzY2FyZE1kYXREYXRhKTtcbn1cblxuSVNPRmlsZS5wcm90b3R5cGUuc2F2ZVBhcnNlUG9zaXRpb24gPSBmdW5jdGlvbigpIHtcblx0LyogcmVtZW1iZXIgdGhlIHBvc2l0aW9uIG9mIHRoZSBib3ggc3RhcnQgaW4gY2FzZSB3ZSBuZWVkIHRvIHJvbGwgYmFjayAoaWYgdGhlIGJveCBpcyBpbmNvbXBsZXRlKSAqL1xuXHR0aGlzLmxhc3RCb3hTdGFydFBvc2l0aW9uID0gdGhpcy5zdHJlYW0uZ2V0UG9zaXRpb24oKTtcdFxufVxuXG5JU09GaWxlLnByb3RvdHlwZS51cGRhdGVVc2VkQnl0ZXMgPSBmdW5jdGlvbihib3gsIHJldCkge1xuXHRpZiAodGhpcy5zdHJlYW0uYWRkVXNlZEJ5dGVzKSB7XG5cdFx0aWYgKGJveC50eXBlID09PSBcIm1kYXRcIikge1xuXHRcdFx0LyogZm9yIGFuIG1kYXQgYm94LCBvbmx5IGl0cyBoZWFkZXIgaXMgY29uc2lkZXJlZCB1c2VkLCBvdGhlciBieXRlcyB3aWxsIGJlIHVzZWQgd2hlbiBzYW1wbGUgZGF0YSBpcyByZXF1ZXN0ZWQgKi9cblx0XHRcdHRoaXMuc3RyZWFtLmFkZFVzZWRCeXRlcyhib3guaGRyX3NpemUpO1xuXHRcdFx0aWYgKHRoaXMuZGlzY2FyZE1kYXREYXRhKSB7XG5cdFx0XHRcdHRoaXMuc3RyZWFtLmFkZFVzZWRCeXRlcyhib3guc2l6ZS1ib3guaGRyX3NpemUpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvKiBmb3IgYWxsIG90aGVyIGJveGVzLCB0aGUgZW50aXJlIGJveCBkYXRhIGlzIGNvbnNpZGVyZWQgdXNlZCAqL1xuXHRcdFx0dGhpcy5zdHJlYW0uYWRkVXNlZEJ5dGVzKGJveC5zaXplKTtcblx0XHR9XHRcblx0fVxufVxuLy8gZmlsZTpzcmMvaXNvZmlsZS1hZHZhbmNlZC1jcmVhdGlvbi5qc1xuSVNPRmlsZS5wcm90b3R5cGUuYWRkID0gQm94UGFyc2VyLkJveC5wcm90b3R5cGUuYWRkO1xuSVNPRmlsZS5wcm90b3R5cGUuYWRkQm94ID0gQm94UGFyc2VyLkJveC5wcm90b3R5cGUuYWRkQm94O1xuXG5JU09GaWxlLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKF9vcHRpb25zKSB7XG5cdHZhciBvcHRpb25zID0gX29wdGlvbnMgfHwge307IFxuXHR2YXIgZnR5cCA9IHRoaXMuYWRkKFwiZnR5cFwiKS5zZXQoXCJtYWpvcl9icmFuZFwiLCAob3B0aW9ucy5icmFuZHMgJiYgb3B0aW9ucy5icmFuZHNbMF0pIHx8IFwiaXNvNFwiKVxuXHRcdFx0XHRcdFx0XHQgICAuc2V0KFwibWlub3JfdmVyc2lvblwiLCAwKVxuXHRcdFx0XHRcdFx0XHQgICAuc2V0KFwiY29tcGF0aWJsZV9icmFuZHNcIiwgb3B0aW9ucy5icmFuZHMgfHwgW1wiaXNvNFwiXSk7XG5cdHZhciBtb292ID0gdGhpcy5hZGQoXCJtb292XCIpO1xuXHRtb292LmFkZChcIm12aGRcIikuc2V0KFwidGltZXNjYWxlXCIsIG9wdGlvbnMudGltZXNjYWxlIHx8IDYwMClcblx0XHRcdFx0XHQuc2V0KFwicmF0ZVwiLCBvcHRpb25zLnJhdGUgfHwgMTw8MTYpXG5cdFx0XHRcdFx0LnNldChcImNyZWF0aW9uX3RpbWVcIiwgMClcblx0XHRcdFx0XHQuc2V0KFwibW9kaWZpY2F0aW9uX3RpbWVcIiwgMClcblx0XHRcdFx0XHQuc2V0KFwiZHVyYXRpb25cIiwgb3B0aW9ucy5kdXJhdGlvbiB8fCAwKVxuXHRcdFx0XHRcdC5zZXQoXCJ2b2x1bWVcIiwgKG9wdGlvbnMud2lkdGgpID8gMCA6IDB4MDEwMClcblx0XHRcdFx0XHQuc2V0KFwibWF0cml4XCIsIFsgMTw8MTYsIDAsIDAsIDAsIDE8PDE2LCAwLCAwLCAwLCAweDQwMDAwMDAwXSlcblx0XHRcdFx0XHQuc2V0KFwibmV4dF90cmFja19pZFwiLCAxKTtcblx0bW9vdi5hZGQoXCJtdmV4XCIpO1xuXHRyZXR1cm4gdGhpcztcbn1cblxuSVNPRmlsZS5wcm90b3R5cGUuYWRkVHJhY2sgPSBmdW5jdGlvbiAoX29wdGlvbnMpIHtcblx0aWYgKCF0aGlzLm1vb3YpIHtcblx0XHR0aGlzLmluaXQoX29wdGlvbnMpO1xuXHR9XG5cblx0dmFyIG9wdGlvbnMgPSBfb3B0aW9ucyB8fCB7fTsgXG5cdG9wdGlvbnMud2lkdGggPSBvcHRpb25zLndpZHRoIHx8IDMyMDtcblx0b3B0aW9ucy5oZWlnaHQgPSBvcHRpb25zLmhlaWdodCB8fCAzMjA7XG5cdG9wdGlvbnMuaWQgPSBvcHRpb25zLmlkIHx8IHRoaXMubW9vdi5tdmhkLm5leHRfdHJhY2tfaWQ7XG5cdG9wdGlvbnMudHlwZSA9IG9wdGlvbnMudHlwZSB8fCBcImF2YzFcIjtcblxuXHR2YXIgdHJhayA9IHRoaXMubW9vdi5hZGQoXCJ0cmFrXCIpO1xuXHR0aGlzLm1vb3YubXZoZC5uZXh0X3RyYWNrX2lkID0gb3B0aW9ucy5pZCsxO1xuXHR0cmFrLmFkZChcInRraGRcIikuc2V0KFwiZmxhZ3NcIixCb3hQYXJzZXIuVEtIRF9GTEFHX0VOQUJMRUQgfCBcblx0XHRcdFx0XHRcdFx0XHQgQm94UGFyc2VyLlRLSERfRkxBR19JTl9NT1ZJRSB8IFxuXHRcdFx0XHRcdFx0XHRcdCBCb3hQYXJzZXIuVEtIRF9GTEFHX0lOX1BSRVZJRVcpXG5cdFx0XHRcdFx0LnNldChcImNyZWF0aW9uX3RpbWVcIiwwKVxuXHRcdFx0XHRcdC5zZXQoXCJtb2RpZmljYXRpb25fdGltZVwiLCAwKVxuXHRcdFx0XHRcdC5zZXQoXCJ0cmFja19pZFwiLCBvcHRpb25zLmlkKVxuXHRcdFx0XHRcdC5zZXQoXCJkdXJhdGlvblwiLCBvcHRpb25zLmR1cmF0aW9uIHx8IDApXG5cdFx0XHRcdFx0LnNldChcImxheWVyXCIsIG9wdGlvbnMubGF5ZXIgfHwgMClcblx0XHRcdFx0XHQuc2V0KFwiYWx0ZXJuYXRlX2dyb3VwXCIsIDApXG5cdFx0XHRcdFx0LnNldChcInZvbHVtZVwiLCAxKVxuXHRcdFx0XHRcdC5zZXQoXCJtYXRyaXhcIiwgWyAxPDwxNiwgMCwgMCwgMCwgMTw8MTYsIDAsIDAsIDAsIDB4NDAwMDAwMDAgXSlcblx0XHRcdFx0XHQuc2V0KFwid2lkdGhcIiwgb3B0aW9ucy53aWR0aCA8PCAxNilcblx0XHRcdFx0XHQuc2V0KFwiaGVpZ2h0XCIsIG9wdGlvbnMuaGVpZ2h0IDw8IDE2KTtcblxuXHR2YXIgbWRpYSA9IHRyYWsuYWRkKFwibWRpYVwiKTtcblx0bWRpYS5hZGQoXCJtZGhkXCIpLnNldChcImNyZWF0aW9uX3RpbWVcIiwgMClcblx0XHRcdFx0XHQuc2V0KFwibW9kaWZpY2F0aW9uX3RpbWVcIiwgMClcblx0XHRcdFx0XHQuc2V0KFwidGltZXNjYWxlXCIsIG9wdGlvbnMudGltZXNjYWxlIHx8IDEpXG5cdFx0XHRcdFx0LnNldChcImR1cmF0aW9uXCIsIG9wdGlvbnMubWVkaWFfZHVyYXRpb24gfHwgMClcblx0XHRcdFx0XHQuc2V0KFwibGFuZ3VhZ2VcIiwgb3B0aW9ucy5sYW5ndWFnZSB8fCBcInVuZFwiKTtcblxuXHRtZGlhLmFkZChcImhkbHJcIikuc2V0KFwiaGFuZGxlclwiLCBvcHRpb25zLmhkbHIgfHwgXCJ2aWRlXCIpXG5cdFx0XHRcdFx0LnNldChcIm5hbWVcIiwgb3B0aW9ucy5uYW1lIHx8IFwiVHJhY2sgY3JlYXRlZCB3aXRoIE1QNEJveC5qc1wiKTtcblxuXHRtZGlhLmFkZChcImVsbmdcIikuc2V0KFwiZXh0ZW5kZWRfbGFuZ3VhZ2VcIiwgb3B0aW9ucy5sYW5ndWFnZSB8fCBcImZyLUZSXCIpO1xuXG5cdHZhciBtaW5mID0gbWRpYS5hZGQoXCJtaW5mXCIpO1xuXHRpZiAoQm94UGFyc2VyW29wdGlvbnMudHlwZStcIlNhbXBsZUVudHJ5XCJdID09PSB1bmRlZmluZWQpIHJldHVybjtcblx0dmFyIHNhbXBsZV9kZXNjcmlwdGlvbl9lbnRyeSA9IG5ldyBCb3hQYXJzZXJbb3B0aW9ucy50eXBlK1wiU2FtcGxlRW50cnlcIl0oKTtcblx0c2FtcGxlX2Rlc2NyaXB0aW9uX2VudHJ5LmRhdGFfcmVmZXJlbmNlX2luZGV4ID0gMTtcblx0dmFyIG1lZGlhX3R5cGUgPSBcIlwiO1xuXHRmb3IgKHZhciBtZWRpYVR5cGUgaW4gQm94UGFyc2VyLnNhbXBsZUVudHJ5Q29kZXMpIHtcblx0XHR2YXIgY29kZXMgPSBCb3hQYXJzZXIuc2FtcGxlRW50cnlDb2Rlc1ttZWRpYVR5cGVdO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgY29kZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChjb2Rlcy5pbmRleE9mKG9wdGlvbnMudHlwZSkgPiAtMSkge1xuXHRcdFx0XHRtZWRpYV90eXBlID0gbWVkaWFUeXBlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0c3dpdGNoKG1lZGlhX3R5cGUpIHtcblx0XHRjYXNlIFwiVmlzdWFsXCI6XG5cdFx0XHRtaW5mLmFkZChcInZtaGRcIikuc2V0KFwiZ3JhcGhpY3Ntb2RlXCIsMCkuc2V0KFwib3Bjb2xvclwiLCBbIDAsIDAsIDAgXSk7XG5cdFx0XHRzYW1wbGVfZGVzY3JpcHRpb25fZW50cnkuc2V0KFwid2lkdGhcIiwgb3B0aW9ucy53aWR0aClcblx0XHRcdFx0XHRcdC5zZXQoXCJoZWlnaHRcIiwgb3B0aW9ucy5oZWlnaHQpXG5cdFx0XHRcdFx0XHQuc2V0KFwiaG9yaXpyZXNvbHV0aW9uXCIsIDB4NDg8PDE2KVxuXHRcdFx0XHRcdFx0LnNldChcInZlcnRyZXNvbHV0aW9uXCIsIDB4NDg8PDE2KVxuXHRcdFx0XHRcdFx0LnNldChcImZyYW1lX2NvdW50XCIsIDEpXG5cdFx0XHRcdFx0XHQuc2V0KFwiY29tcHJlc3Nvcm5hbWVcIiwgb3B0aW9ucy50eXBlK1wiIENvbXByZXNzb3JcIilcblx0XHRcdFx0XHRcdC5zZXQoXCJkZXB0aFwiLCAweDE4KTtcblx0XHRcdGlmIChvcHRpb25zLmF2Y0RlY29kZXJDb25maWdSZWNvcmQpIHtcblx0XHRcdFx0dmFyIGF2Y0MgPSBuZXcgQm94UGFyc2VyLmF2Y0NCb3goKTtcblx0XHRcdFx0YXZjQy5wYXJzZShuZXcgTVA0Qm94U3RyZWFtKG9wdGlvbnMuYXZjRGVjb2RlckNvbmZpZ1JlY29yZCkpO1xuXHRcdFx0XHRzYW1wbGVfZGVzY3JpcHRpb25fZW50cnkuYWRkQm94KGF2Y0MpO1xuXHRcdFx0fSBlbHNlIGlmIChvcHRpb25zLmhldmNEZWNvZGVyQ29uZmlnUmVjb3JkKSB7XG5cdFx0XHRcdHZhciBodmNDID0gbmV3IEJveFBhcnNlci5odmNDQm94KCk7XG5cdFx0XHRcdGh2Y0MucGFyc2UobmV3IE1QNEJveFN0cmVhbShvcHRpb25zLmhldmNEZWNvZGVyQ29uZmlnUmVjb3JkKSk7XG5cdFx0XHRcdHNhbXBsZV9kZXNjcmlwdGlvbl9lbnRyeS5hZGRCb3goaHZjQyk7XG5cdFx0XHR9XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiQXVkaW9cIjpcblx0XHRcdG1pbmYuYWRkKFwic21oZFwiKS5zZXQoXCJiYWxhbmNlXCIsIG9wdGlvbnMuYmFsYW5jZSB8fCAwKTtcblx0XHRcdHNhbXBsZV9kZXNjcmlwdGlvbl9lbnRyeS5zZXQoXCJjaGFubmVsX2NvdW50XCIsIG9wdGlvbnMuY2hhbm5lbF9jb3VudCB8fCAyKVxuXHRcdFx0XHRcdFx0LnNldChcInNhbXBsZXNpemVcIiwgb3B0aW9ucy5zYW1wbGVzaXplIHx8IDE2KVxuXHRcdFx0XHRcdFx0LnNldChcInNhbXBsZXJhdGVcIiwgb3B0aW9ucy5zYW1wbGVyYXRlIHx8IDE8PDE2KTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJIaW50XCI6XG5cdFx0XHRtaW5mLmFkZChcImhtaGRcIik7IC8vIFRPRE86IGFkZCBwcm9wZXJ0aWVzXG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiU3VidGl0bGVcIjpcblx0XHRcdG1pbmYuYWRkKFwic3RoZFwiKTtcblx0XHRcdHN3aXRjaCAob3B0aW9ucy50eXBlKSB7XG5cdFx0XHRcdGNhc2UgXCJzdHBwXCI6XG5cdFx0XHRcdFx0c2FtcGxlX2Rlc2NyaXB0aW9uX2VudHJ5LnNldChcIm5hbWVzcGFjZVwiLCBvcHRpb25zLm5hbWVzcGFjZSB8fCBcIm5vbmFtZXNwYWNlXCIpXG5cdFx0XHRcdFx0XHRcdFx0LnNldChcInNjaGVtYV9sb2NhdGlvblwiLCBvcHRpb25zLnNjaGVtYV9sb2NhdGlvbiB8fCBcIlwiKVxuXHRcdFx0XHRcdFx0XHRcdC5zZXQoXCJhdXhpbGlhcnlfbWltZV90eXBlc1wiLCBvcHRpb25zLmF1eGlsaWFyeV9taW1lX3R5cGVzIHx8IFwiXCIpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcIk1ldGFkYXRhXCI6XG5cdFx0XHRtaW5mLmFkZChcIm5taGRcIik7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiU3lzdGVtXCI6XG5cdFx0XHRtaW5mLmFkZChcIm5taGRcIik7XG5cdFx0XHRicmVhaztcblx0XHRkZWZhdWx0OlxuXHRcdFx0bWluZi5hZGQoXCJubWhkXCIpO1xuXHRcdFx0YnJlYWs7XG5cdH1cblx0aWYgKG9wdGlvbnMuZGVzY3JpcHRpb24pIHtcblx0XHRzYW1wbGVfZGVzY3JpcHRpb25fZW50cnkuYWRkQm94KG9wdGlvbnMuZGVzY3JpcHRpb24pO1xuXHR9XG5cdGlmIChvcHRpb25zLmRlc2NyaXB0aW9uX2JveGVzKSB7XG5cdFx0b3B0aW9ucy5kZXNjcmlwdGlvbl9ib3hlcy5mb3JFYWNoKGZ1bmN0aW9uIChiKSB7XG5cdFx0XHRzYW1wbGVfZGVzY3JpcHRpb25fZW50cnkuYWRkQm94KGIpO1xuXHRcdH0pO1xuXHR9XG5cdG1pbmYuYWRkKFwiZGluZlwiKS5hZGQoXCJkcmVmXCIpLmFkZEVudHJ5KChuZXcgQm94UGFyc2VyW1widXJsIEJveFwiXSgpKS5zZXQoXCJmbGFnc1wiLCAweDEpKTtcblx0dmFyIHN0YmwgPSBtaW5mLmFkZChcInN0YmxcIik7XG5cdHN0YmwuYWRkKFwic3RzZFwiKS5hZGRFbnRyeShzYW1wbGVfZGVzY3JpcHRpb25fZW50cnkpO1xuXHRzdGJsLmFkZChcInN0dHNcIikuc2V0KFwic2FtcGxlX2NvdW50c1wiLCBbXSlcblx0XHRcdFx0XHQuc2V0KFwic2FtcGxlX2RlbHRhc1wiLCBbXSk7XG5cdHN0YmwuYWRkKFwic3RzY1wiKS5zZXQoXCJmaXJzdF9jaHVua1wiLCBbXSlcblx0XHRcdFx0XHQuc2V0KFwic2FtcGxlc19wZXJfY2h1bmtcIiwgW10pXG5cdFx0XHRcdFx0LnNldChcInNhbXBsZV9kZXNjcmlwdGlvbl9pbmRleFwiLCBbXSk7XG5cdHN0YmwuYWRkKFwic3Rjb1wiKS5zZXQoXCJjaHVua19vZmZzZXRzXCIsIFtdKTtcblx0c3RibC5hZGQoXCJzdHN6XCIpLnNldChcInNhbXBsZV9zaXplc1wiLCBbXSk7XG5cblx0dGhpcy5tb292Lm12ZXguYWRkKFwidHJleFwiKS5zZXQoXCJ0cmFja19pZFwiLCBvcHRpb25zLmlkKVxuXHRcdFx0XHRcdFx0XHQgIC5zZXQoXCJkZWZhdWx0X3NhbXBsZV9kZXNjcmlwdGlvbl9pbmRleFwiLCBvcHRpb25zLmRlZmF1bHRfc2FtcGxlX2Rlc2NyaXB0aW9uX2luZGV4IHx8IDEpXG5cdFx0XHRcdFx0XHRcdCAgLnNldChcImRlZmF1bHRfc2FtcGxlX2R1cmF0aW9uXCIsIG9wdGlvbnMuZGVmYXVsdF9zYW1wbGVfZHVyYXRpb24gfHwgMClcblx0XHRcdFx0XHRcdFx0ICAuc2V0KFwiZGVmYXVsdF9zYW1wbGVfc2l6ZVwiLCBvcHRpb25zLmRlZmF1bHRfc2FtcGxlX3NpemUgfHwgMClcblx0XHRcdFx0XHRcdFx0ICAuc2V0KFwiZGVmYXVsdF9zYW1wbGVfZmxhZ3NcIiwgb3B0aW9ucy5kZWZhdWx0X3NhbXBsZV9mbGFncyB8fCAwKTtcblx0dGhpcy5idWlsZFRyYWtTYW1wbGVMaXN0cyh0cmFrKTtcblx0cmV0dXJuIG9wdGlvbnMuaWQ7XG59XG5cbkJveFBhcnNlci5Cb3gucHJvdG90eXBlLmNvbXB1dGVTaXplID0gZnVuY3Rpb24oc3RyZWFtXykge1xuXHR2YXIgc3RyZWFtID0gc3RyZWFtXyB8fCBuZXcgRGF0YVN0cmVhbSgpO1xuXHRzdHJlYW0uZW5kaWFubmVzcyA9IERhdGFTdHJlYW0uQklHX0VORElBTjtcblx0dGhpcy53cml0ZShzdHJlYW0pO1xufVxuXG5JU09GaWxlLnByb3RvdHlwZS5hZGRTYW1wbGUgPSBmdW5jdGlvbiAodHJhY2tfaWQsIGRhdGEsIF9vcHRpb25zKSB7XG5cdHZhciBvcHRpb25zID0gX29wdGlvbnMgfHwge307XG5cdHZhciBzYW1wbGUgPSB7fTtcblx0dmFyIHRyYWsgPSB0aGlzLmdldFRyYWNrQnlJZCh0cmFja19pZCk7XG5cdGlmICh0cmFrID09PSBudWxsKSByZXR1cm47XG4gICAgc2FtcGxlLm51bWJlciA9IHRyYWsuc2FtcGxlcy5sZW5ndGg7XG5cdHNhbXBsZS50cmFja19pZCA9IHRyYWsudGtoZC50cmFja19pZDtcblx0c2FtcGxlLnRpbWVzY2FsZSA9IHRyYWsubWRpYS5tZGhkLnRpbWVzY2FsZTtcblx0c2FtcGxlLmRlc2NyaXB0aW9uX2luZGV4ID0gKG9wdGlvbnMuc2FtcGxlX2Rlc2NyaXB0aW9uX2luZGV4ID8gb3B0aW9ucy5zYW1wbGVfZGVzY3JpcHRpb25faW5kZXggLSAxOiAwKTtcblx0c2FtcGxlLmRlc2NyaXB0aW9uID0gdHJhay5tZGlhLm1pbmYuc3RibC5zdHNkLmVudHJpZXNbc2FtcGxlLmRlc2NyaXB0aW9uX2luZGV4XTtcblx0c2FtcGxlLmRhdGEgPSBkYXRhO1xuXHRzYW1wbGUuc2l6ZSA9IGRhdGEuYnl0ZUxlbmd0aDtcblx0c2FtcGxlLmFscmVhZHlSZWFkID0gc2FtcGxlLnNpemU7XG5cdHNhbXBsZS5kdXJhdGlvbiA9IG9wdGlvbnMuZHVyYXRpb24gfHwgMTtcblx0c2FtcGxlLmN0cyA9IG9wdGlvbnMuY3RzIHx8IDA7XG5cdHNhbXBsZS5kdHMgPSBvcHRpb25zLmR0cyB8fCAwO1xuXHRzYW1wbGUuaXNfc3luYyA9IG9wdGlvbnMuaXNfc3luYyB8fCBmYWxzZTtcblx0c2FtcGxlLmlzX2xlYWRpbmcgPSBvcHRpb25zLmlzX2xlYWRpbmcgfHwgMDtcblx0c2FtcGxlLmRlcGVuZHNfb24gPSBvcHRpb25zLmRlcGVuZHNfb24gfHwgMDtcblx0c2FtcGxlLmlzX2RlcGVuZGVkX29uID0gb3B0aW9ucy5pc19kZXBlbmRlZF9vbiB8fCAwO1xuXHRzYW1wbGUuaGFzX3JlZHVuZGFuY3kgPSBvcHRpb25zLmhhc19yZWR1bmRhbmN5IHx8IDA7XG5cdHNhbXBsZS5kZWdyYWRhdGlvbl9wcmlvcml0eSA9IG9wdGlvbnMuZGVncmFkYXRpb25fcHJpb3JpdHkgfHwgMDtcblx0c2FtcGxlLm9mZnNldCA9IDA7XG5cdHNhbXBsZS5zdWJzYW1wbGVzID0gb3B0aW9ucy5zdWJzYW1wbGVzO1xuXHR0cmFrLnNhbXBsZXMucHVzaChzYW1wbGUpO1xuXHR0cmFrLnNhbXBsZXNfc2l6ZSArPSBzYW1wbGUuc2l6ZTtcblx0dHJhay5zYW1wbGVzX2R1cmF0aW9uICs9IHNhbXBsZS5kdXJhdGlvbjtcblx0aWYgKHRyYWsuZmlyc3RfZHRzID09PSB1bmRlZmluZWQpIHtcblx0XHR0cmFrLmZpcnN0X2R0cyA9IG9wdGlvbnMuZHRzO1xuXHR9XG5cblx0dGhpcy5wcm9jZXNzU2FtcGxlcygpO1xuXHRcblx0dmFyIG1vb2YgPSB0aGlzLmNyZWF0ZVNpbmdsZVNhbXBsZU1vb2Yoc2FtcGxlKTtcblx0dGhpcy5hZGRCb3gobW9vZik7XG5cdG1vb2YuY29tcHV0ZVNpemUoKTtcblx0LyogYWRqdXN0aW5nIHRoZSBkYXRhX29mZnNldCBub3cgdGhhdCB0aGUgbW9vZiBzaXplIGlzIGtub3duKi9cblx0bW9vZi50cmFmc1swXS50cnVuc1swXS5kYXRhX29mZnNldCA9IG1vb2Yuc2l6ZSs4OyAvLzggaXMgbWRhdCBoZWFkZXJcblx0dGhpcy5hZGQoXCJtZGF0XCIpLmRhdGEgPSBuZXcgVWludDhBcnJheShkYXRhKTtcblx0cmV0dXJuIHNhbXBsZTtcbn1cblxuSVNPRmlsZS5wcm90b3R5cGUuY3JlYXRlU2luZ2xlU2FtcGxlTW9vZiA9IGZ1bmN0aW9uKHNhbXBsZSkge1xuXHR2YXIgc2FtcGxlX2ZsYWdzID0gMDtcblx0aWYgKHNhbXBsZS5pc19zeW5jKVxuXHRcdHNhbXBsZV9mbGFncyA9ICgxIDw8IDI1KTsgIC8vIHNhbXBsZV9kZXBlbmRzX29uX25vbmUgKEkgcGljdHVyZSlcblx0ZWxzZVxuXHRcdHNhbXBsZV9mbGFncyA9ICgxIDw8IDE2KTsgIC8vIG5vbi1zeW5jXG5cblx0dmFyIG1vb2YgPSBuZXcgQm94UGFyc2VyLm1vb2ZCb3goKTtcblx0bW9vZi5hZGQoXCJtZmhkXCIpLnNldChcInNlcXVlbmNlX251bWJlclwiLCB0aGlzLm5leHRNb29mTnVtYmVyKTtcblx0dGhpcy5uZXh0TW9vZk51bWJlcisrO1xuXHR2YXIgdHJhZiA9IG1vb2YuYWRkKFwidHJhZlwiKTtcblx0dmFyIHRyYWsgPSB0aGlzLmdldFRyYWNrQnlJZChzYW1wbGUudHJhY2tfaWQpO1xuXHR0cmFmLmFkZChcInRmaGRcIikuc2V0KFwidHJhY2tfaWRcIiwgc2FtcGxlLnRyYWNrX2lkKVxuXHRcdFx0XHRcdC5zZXQoXCJmbGFnc1wiLCBCb3hQYXJzZXIuVEZIRF9GTEFHX0RFRkFVTFRfQkFTRV9JU19NT09GKTtcblx0dHJhZi5hZGQoXCJ0ZmR0XCIpLnNldChcImJhc2VNZWRpYURlY29kZVRpbWVcIiwgKHNhbXBsZS5kdHMgLSAodHJhay5maXJzdF9kdHMgfHwgMCkpKTtcblx0dHJhZi5hZGQoXCJ0cnVuXCIpLnNldChcImZsYWdzXCIsIEJveFBhcnNlci5UUlVOX0ZMQUdTX0RBVEFfT0ZGU0VUIHwgQm94UGFyc2VyLlRSVU5fRkxBR1NfRFVSQVRJT04gfCBcblx0XHRcdFx0IFx0XHRcdFx0ICBCb3hQYXJzZXIuVFJVTl9GTEFHU19TSVpFIHwgQm94UGFyc2VyLlRSVU5fRkxBR1NfRkxBR1MgfCBcblx0XHRcdFx0IFx0XHRcdFx0ICBCb3hQYXJzZXIuVFJVTl9GTEFHU19DVFNfT0ZGU0VUKVxuXHRcdFx0XHRcdC5zZXQoXCJkYXRhX29mZnNldFwiLDApXG5cdFx0XHRcdFx0LnNldChcImZpcnN0X3NhbXBsZV9mbGFnc1wiLDApXG5cdFx0XHRcdFx0LnNldChcInNhbXBsZV9jb3VudFwiLDEpXG5cdFx0XHRcdFx0LnNldChcInNhbXBsZV9kdXJhdGlvblwiLFtzYW1wbGUuZHVyYXRpb25dKVxuXHRcdFx0XHRcdC5zZXQoXCJzYW1wbGVfc2l6ZVwiLFtzYW1wbGUuc2l6ZV0pXG5cdFx0XHRcdFx0LnNldChcInNhbXBsZV9mbGFnc1wiLFtzYW1wbGVfZmxhZ3NdKVxuXHRcdFx0XHRcdC5zZXQoXCJzYW1wbGVfY29tcG9zaXRpb25fdGltZV9vZmZzZXRcIiwgW3NhbXBsZS5jdHMgLSBzYW1wbGUuZHRzXSk7XG5cdHJldHVybiBtb29mO1xufVxuXG4vLyBmaWxlOnNyYy9pc29maWxlLXNhbXBsZS1wcm9jZXNzaW5nLmpzXG4vKiBJbmRleCBvZiB0aGUgbGFzdCBtb29mIGJveCByZWNlaXZlZCAqL1xuSVNPRmlsZS5wcm90b3R5cGUubGFzdE1vb2ZJbmRleCA9IDA7XG5cbi8qIHNpemUgb2YgdGhlIGJ1ZmZlcnMgYWxsb2NhdGVkIGZvciBzYW1wbGVzICovXG5JU09GaWxlLnByb3RvdHlwZS5zYW1wbGVzRGF0YVNpemUgPSAwO1xuXG4vKiBSZXNldHMgYWxsIHNhbXBsZSB0YWJsZXMgKi9cbklTT0ZpbGUucHJvdG90eXBlLnJlc2V0VGFibGVzID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgaTtcblx0dmFyIHRyYWssIHN0Y28sIHN0c2MsIHN0c3osIHN0dHMsIGN0dHMsIHN0c3M7XG5cdHRoaXMuaW5pdGlhbF9kdXJhdGlvbiA9IHRoaXMubW9vdi5tdmhkLmR1cmF0aW9uO1xuXHR0aGlzLm1vb3YubXZoZC5kdXJhdGlvbiA9IDA7XG5cdGZvciAoaSA9IDA7IGkgPCB0aGlzLm1vb3YudHJha3MubGVuZ3RoOyBpKyspIHtcblx0XHR0cmFrID0gdGhpcy5tb292LnRyYWtzW2ldO1xuXHRcdHRyYWsudGtoZC5kdXJhdGlvbiA9IDA7XG5cdFx0dHJhay5tZGlhLm1kaGQuZHVyYXRpb24gPSAwO1xuXHRcdHN0Y28gPSB0cmFrLm1kaWEubWluZi5zdGJsLnN0Y28gfHwgdHJhay5tZGlhLm1pbmYuc3RibC5jbzY0O1xuXHRcdHN0Y28uY2h1bmtfb2Zmc2V0cyA9IFtdO1xuXHRcdHN0c2MgPSB0cmFrLm1kaWEubWluZi5zdGJsLnN0c2M7XG5cdFx0c3RzYy5maXJzdF9jaHVuayA9IFtdO1xuXHRcdHN0c2Muc2FtcGxlc19wZXJfY2h1bmsgPSBbXTtcblx0XHRzdHNjLnNhbXBsZV9kZXNjcmlwdGlvbl9pbmRleCA9IFtdO1xuXHRcdHN0c3ogPSB0cmFrLm1kaWEubWluZi5zdGJsLnN0c3ogfHwgdHJhay5tZGlhLm1pbmYuc3RibC5zdHoyO1xuXHRcdHN0c3ouc2FtcGxlX3NpemVzID0gW107XG5cdFx0c3R0cyA9IHRyYWsubWRpYS5taW5mLnN0Ymwuc3R0cztcblx0XHRzdHRzLnNhbXBsZV9jb3VudHMgPSBbXTtcblx0XHRzdHRzLnNhbXBsZV9kZWx0YXMgPSBbXTtcblx0XHRjdHRzID0gdHJhay5tZGlhLm1pbmYuc3RibC5jdHRzO1xuXHRcdGlmIChjdHRzKSB7XG5cdFx0XHRjdHRzLnNhbXBsZV9jb3VudHMgPSBbXTtcblx0XHRcdGN0dHMuc2FtcGxlX29mZnNldHMgPSBbXTtcblx0XHR9XG5cdFx0c3RzcyA9IHRyYWsubWRpYS5taW5mLnN0Ymwuc3Rzcztcblx0XHR2YXIgayA9IHRyYWsubWRpYS5taW5mLnN0YmwuYm94ZXMuaW5kZXhPZihzdHNzKTtcblx0XHRpZiAoayAhPSAtMSkgdHJhay5tZGlhLm1pbmYuc3RibC5ib3hlc1trXSA9IG51bGw7XG5cdH1cbn1cblxuSVNPRmlsZS5pbml0U2FtcGxlR3JvdXBzID0gZnVuY3Rpb24odHJhaywgdHJhZiwgc2JncHMsIHRyYWtfc2dwZHMsIHRyYWZfc2dwZHMpIHtcblx0dmFyIGw7XG5cdHZhciBrO1xuXHR2YXIgc2FtcGxlX2dyb3Vwc19pbmZvO1xuXHR2YXIgc2FtcGxlX2dyb3VwX2luZm87XG5cdHZhciBzYW1wbGVfZ3JvdXBfa2V5O1xuXHRmdW5jdGlvbiBTYW1wbGVHcm91cEluZm8oX3R5cGUsIF9wYXJhbWV0ZXIsIF9zYmdwKSB7XG5cdFx0dGhpcy5ncm91cGluZ190eXBlID0gX3R5cGU7XG5cdFx0dGhpcy5ncm91cGluZ190eXBlX3BhcmFtZXRlciA9IF9wYXJhbWV0ZXI7XG5cdFx0dGhpcy5zYmdwID0gX3NiZ3A7XG5cdFx0dGhpcy5sYXN0X3NhbXBsZV9pbl9ydW4gPSAtMTtcblx0XHR0aGlzLmVudHJ5X2luZGV4ID0gLTE7XHRcdFxuXHR9XG5cdGlmICh0cmFmKSB7XG5cdFx0dHJhZi5zYW1wbGVfZ3JvdXBzX2luZm8gPSBbXTtcblx0fSBcblx0aWYgKCF0cmFrLnNhbXBsZV9ncm91cHNfaW5mbykge1xuXHRcdHRyYWsuc2FtcGxlX2dyb3Vwc19pbmZvID0gW107XG5cdH1cblx0Zm9yIChrID0gMDsgayA8IHNiZ3BzLmxlbmd0aDsgaysrKSB7XG5cdFx0c2FtcGxlX2dyb3VwX2tleSA9IHNiZ3BzW2tdLmdyb3VwaW5nX3R5cGUgK1wiL1wiKyBzYmdwc1trXS5ncm91cGluZ190eXBlX3BhcmFtZXRlcjtcblx0XHRzYW1wbGVfZ3JvdXBfaW5mbyA9IG5ldyBTYW1wbGVHcm91cEluZm8oc2JncHNba10uZ3JvdXBpbmdfdHlwZSwgc2JncHNba10uZ3JvdXBpbmdfdHlwZV9wYXJhbWV0ZXIsIHNiZ3BzW2tdKTtcblx0XHRpZiAodHJhZikge1xuXHRcdFx0dHJhZi5zYW1wbGVfZ3JvdXBzX2luZm9bc2FtcGxlX2dyb3VwX2tleV0gPSBzYW1wbGVfZ3JvdXBfaW5mbztcblx0XHR9XG5cdFx0aWYgKCF0cmFrLnNhbXBsZV9ncm91cHNfaW5mb1tzYW1wbGVfZ3JvdXBfa2V5XSkge1xuXHRcdFx0dHJhay5zYW1wbGVfZ3JvdXBzX2luZm9bc2FtcGxlX2dyb3VwX2tleV0gPSBzYW1wbGVfZ3JvdXBfaW5mbztcblx0XHR9XG5cdFx0Zm9yIChsPTA7IGwgPHRyYWtfc2dwZHMubGVuZ3RoOyBsKyspIHtcblx0XHRcdGlmICh0cmFrX3NncGRzW2xdLmdyb3VwaW5nX3R5cGUgPT09IHNiZ3BzW2tdLmdyb3VwaW5nX3R5cGUpIHtcblx0XHRcdFx0c2FtcGxlX2dyb3VwX2luZm8uZGVzY3JpcHRpb24gPSB0cmFrX3NncGRzW2xdO1xuXHRcdFx0XHRzYW1wbGVfZ3JvdXBfaW5mby5kZXNjcmlwdGlvbi51c2VkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKHRyYWZfc2dwZHMpIHtcblx0XHRcdGZvciAobD0wOyBsIDx0cmFmX3NncGRzLmxlbmd0aDsgbCsrKSB7XG5cdFx0XHRcdGlmICh0cmFmX3NncGRzW2xdLmdyb3VwaW5nX3R5cGUgPT09IHNiZ3BzW2tdLmdyb3VwaW5nX3R5cGUpIHtcblx0XHRcdFx0XHRzYW1wbGVfZ3JvdXBfaW5mby5mcmFnbWVudF9kZXNjcmlwdGlvbiA9IHRyYWZfc2dwZHNbbF07XG5cdFx0XHRcdFx0c2FtcGxlX2dyb3VwX2luZm8uZnJhZ21lbnRfZGVzY3JpcHRpb24udXNlZCA9IHRydWU7XG5cdFx0XHRcdFx0c2FtcGxlX2dyb3VwX2luZm8uaXNfZnJhZ21lbnQgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XHRcdFx0XG5cdFx0fVxuXHR9XG5cdGlmICghdHJhZikge1xuXHRcdGZvciAoayA9IDA7IGsgPCB0cmFrX3NncGRzLmxlbmd0aDsgaysrKSB7XG5cdFx0XHRpZiAoIXRyYWtfc2dwZHNba10udXNlZCAmJiB0cmFrX3NncGRzW2tdLnZlcnNpb24gPj0gMikge1xuXHRcdFx0XHRzYW1wbGVfZ3JvdXBfa2V5ID0gdHJha19zZ3Bkc1trXS5ncm91cGluZ190eXBlICtcIi8wXCI7XG5cdFx0XHRcdHNhbXBsZV9ncm91cF9pbmZvID0gbmV3IFNhbXBsZUdyb3VwSW5mbyh0cmFrX3NncGRzW2tdLmdyb3VwaW5nX3R5cGUsIDApO1xuXHRcdFx0XHRpZiAoIXRyYWsuc2FtcGxlX2dyb3Vwc19pbmZvW3NhbXBsZV9ncm91cF9rZXldKSB7XG5cdFx0XHRcdFx0dHJhay5zYW1wbGVfZ3JvdXBzX2luZm9bc2FtcGxlX2dyb3VwX2tleV0gPSBzYW1wbGVfZ3JvdXBfaW5mbztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRpZiAodHJhZl9zZ3Bkcykge1xuXHRcdFx0Zm9yIChrID0gMDsgayA8IHRyYWZfc2dwZHMubGVuZ3RoOyBrKyspIHtcblx0XHRcdFx0aWYgKCF0cmFmX3NncGRzW2tdLnVzZWQgJiYgdHJhZl9zZ3Bkc1trXS52ZXJzaW9uID49IDIpIHtcblx0XHRcdFx0XHRzYW1wbGVfZ3JvdXBfa2V5ID0gdHJhZl9zZ3Bkc1trXS5ncm91cGluZ190eXBlICtcIi8wXCI7XG5cdFx0XHRcdFx0c2FtcGxlX2dyb3VwX2luZm8gPSBuZXcgU2FtcGxlR3JvdXBJbmZvKHRyYWZfc2dwZHNba10uZ3JvdXBpbmdfdHlwZSwgMCk7XG5cdFx0XHRcdFx0c2FtcGxlX2dyb3VwX2luZm8uaXNfZnJhZ21lbnQgPSB0cnVlO1xuXHRcdFx0XHRcdGlmICghdHJhZi5zYW1wbGVfZ3JvdXBzX2luZm9bc2FtcGxlX2dyb3VwX2tleV0pIHtcblx0XHRcdFx0XHRcdHRyYWYuc2FtcGxlX2dyb3Vwc19pbmZvW3NhbXBsZV9ncm91cF9rZXldID0gc2FtcGxlX2dyb3VwX2luZm87XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbklTT0ZpbGUuc2V0U2FtcGxlR3JvdXBQcm9wZXJ0aWVzID0gZnVuY3Rpb24odHJhaywgc2FtcGxlLCBzYW1wbGVfbnVtYmVyLCBzYW1wbGVfZ3JvdXBzX2luZm8pIHtcblx0dmFyIGs7XG5cdHZhciBpbmRleDtcblx0c2FtcGxlLnNhbXBsZV9ncm91cHMgPSBbXTtcblx0Zm9yIChrIGluIHNhbXBsZV9ncm91cHNfaW5mbykge1xuXHRcdHNhbXBsZS5zYW1wbGVfZ3JvdXBzW2tdID0ge307XG5cdFx0c2FtcGxlLnNhbXBsZV9ncm91cHNba10uZ3JvdXBpbmdfdHlwZSA9IHNhbXBsZV9ncm91cHNfaW5mb1trXS5ncm91cGluZ190eXBlO1xuXHRcdHNhbXBsZS5zYW1wbGVfZ3JvdXBzW2tdLmdyb3VwaW5nX3R5cGVfcGFyYW1ldGVyID0gc2FtcGxlX2dyb3Vwc19pbmZvW2tdLmdyb3VwaW5nX3R5cGVfcGFyYW1ldGVyO1xuXHRcdGlmIChzYW1wbGVfbnVtYmVyID49IHNhbXBsZV9ncm91cHNfaW5mb1trXS5sYXN0X3NhbXBsZV9pbl9ydW4pIHtcblx0XHRcdGlmIChzYW1wbGVfZ3JvdXBzX2luZm9ba10ubGFzdF9zYW1wbGVfaW5fcnVuIDwgMCkge1xuXHRcdFx0XHRzYW1wbGVfZ3JvdXBzX2luZm9ba10ubGFzdF9zYW1wbGVfaW5fcnVuID0gMDtcblx0XHRcdH1cblx0XHRcdHNhbXBsZV9ncm91cHNfaW5mb1trXS5lbnRyeV9pbmRleCsrO1x0XG5cdFx0XHRpZiAoc2FtcGxlX2dyb3Vwc19pbmZvW2tdLmVudHJ5X2luZGV4IDw9IHNhbXBsZV9ncm91cHNfaW5mb1trXS5zYmdwLmVudHJpZXMubGVuZ3RoIC0gMSkge1xuXHRcdFx0XHRzYW1wbGVfZ3JvdXBzX2luZm9ba10ubGFzdF9zYW1wbGVfaW5fcnVuICs9IHNhbXBsZV9ncm91cHNfaW5mb1trXS5zYmdwLmVudHJpZXNbc2FtcGxlX2dyb3Vwc19pbmZvW2tdLmVudHJ5X2luZGV4XS5zYW1wbGVfY291bnQ7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChzYW1wbGVfZ3JvdXBzX2luZm9ba10uZW50cnlfaW5kZXggPD0gc2FtcGxlX2dyb3Vwc19pbmZvW2tdLnNiZ3AuZW50cmllcy5sZW5ndGggLSAxKSB7XG5cdFx0XHRzYW1wbGUuc2FtcGxlX2dyb3Vwc1trXS5ncm91cF9kZXNjcmlwdGlvbl9pbmRleCA9IHNhbXBsZV9ncm91cHNfaW5mb1trXS5zYmdwLmVudHJpZXNbc2FtcGxlX2dyb3Vwc19pbmZvW2tdLmVudHJ5X2luZGV4XS5ncm91cF9kZXNjcmlwdGlvbl9pbmRleDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c2FtcGxlLnNhbXBsZV9ncm91cHNba10uZ3JvdXBfZGVzY3JpcHRpb25faW5kZXggPSAtMTsgLy8gc3BlY2lhbCB2YWx1ZSBmb3Igbm90IGRlZmluZWRcblx0XHR9XG5cdFx0aWYgKHNhbXBsZS5zYW1wbGVfZ3JvdXBzW2tdLmdyb3VwX2Rlc2NyaXB0aW9uX2luZGV4ICE9PSAwKSB7XG5cdFx0XHR2YXIgZGVzY3JpcHRpb247XG5cdFx0XHRpZiAoc2FtcGxlX2dyb3Vwc19pbmZvW2tdLmZyYWdtZW50X2Rlc2NyaXB0aW9uKSB7XG5cdFx0XHRcdGRlc2NyaXB0aW9uID0gc2FtcGxlX2dyb3Vwc19pbmZvW2tdLmZyYWdtZW50X2Rlc2NyaXB0aW9uO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVzY3JpcHRpb24gPSBzYW1wbGVfZ3JvdXBzX2luZm9ba10uZGVzY3JpcHRpb247XG5cdFx0XHR9XG5cdFx0XHRpZiAoc2FtcGxlLnNhbXBsZV9ncm91cHNba10uZ3JvdXBfZGVzY3JpcHRpb25faW5kZXggPiAwKSB7XG5cdFx0XHRcdGlmIChzYW1wbGUuc2FtcGxlX2dyb3Vwc1trXS5ncm91cF9kZXNjcmlwdGlvbl9pbmRleCA+IDY1NTM1KSB7XG5cdFx0XHRcdFx0aW5kZXggPSAoc2FtcGxlLnNhbXBsZV9ncm91cHNba10uZ3JvdXBfZGVzY3JpcHRpb25faW5kZXggPj4gMTYpLTE7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aW5kZXggPSBzYW1wbGUuc2FtcGxlX2dyb3Vwc1trXS5ncm91cF9kZXNjcmlwdGlvbl9pbmRleC0xO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChkZXNjcmlwdGlvbiAmJiBpbmRleCA+PSAwKSB7XG5cdFx0XHRcdFx0c2FtcGxlLnNhbXBsZV9ncm91cHNba10uZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbi5lbnRyaWVzW2luZGV4XTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKGRlc2NyaXB0aW9uICYmIGRlc2NyaXB0aW9uLnZlcnNpb24gPj0gMikge1xuXHRcdFx0XHRcdGlmIChkZXNjcmlwdGlvbi5kZWZhdWx0X2dyb3VwX2Rlc2NyaXB0aW9uX2luZGV4ID4gMCkge1x0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdHNhbXBsZS5zYW1wbGVfZ3JvdXBzW2tdLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb24uZW50cmllc1tkZXNjcmlwdGlvbi5kZWZhdWx0X2dyb3VwX2Rlc2NyaXB0aW9uX2luZGV4LTFdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5JU09GaWxlLnByb2Nlc3Nfc2R0cCA9IGZ1bmN0aW9uIChzZHRwLCBzYW1wbGUsIG51bWJlcikge1xuXHRpZiAoIXNhbXBsZSkge1xuXHRcdHJldHVybjtcblx0fVxuXHRpZiAoc2R0cCkge1xuXHRcdHNhbXBsZS5pc19sZWFkaW5nID0gc2R0cC5pc19sZWFkaW5nW251bWJlcl07XG5cdFx0c2FtcGxlLmRlcGVuZHNfb24gPSBzZHRwLnNhbXBsZV9kZXBlbmRzX29uW251bWJlcl07XG5cdFx0c2FtcGxlLmlzX2RlcGVuZGVkX29uID0gc2R0cC5zYW1wbGVfaXNfZGVwZW5kZWRfb25bbnVtYmVyXTtcblx0XHRzYW1wbGUuaGFzX3JlZHVuZGFuY3kgPSBzZHRwLnNhbXBsZV9oYXNfcmVkdW5kYW5jeVtudW1iZXJdO1xuXHR9IGVsc2Uge1xuXHRcdHNhbXBsZS5pc19sZWFkaW5nID0gMDtcblx0XHRzYW1wbGUuZGVwZW5kc19vbiA9IDA7XG5cdFx0c2FtcGxlLmlzX2RlcGVuZGVkX29uID0gMFxuXHRcdHNhbXBsZS5oYXNfcmVkdW5kYW5jeSA9IDA7XG5cdH1cdFxufVxuXG4vKiBCdWlsZCBpbml0aWFsIHNhbXBsZSBsaXN0IGZyb20gIHNhbXBsZSB0YWJsZXMgKi9cbklTT0ZpbGUucHJvdG90eXBlLmJ1aWxkU2FtcGxlTGlzdHMgPSBmdW5jdGlvbigpIHtcdFxuXHR2YXIgaTtcblx0dmFyIHRyYWs7XG5cdGZvciAoaSA9IDA7IGkgPCB0aGlzLm1vb3YudHJha3MubGVuZ3RoOyBpKyspIHtcblx0XHR0cmFrID0gdGhpcy5tb292LnRyYWtzW2ldO1xuXHRcdHRoaXMuYnVpbGRUcmFrU2FtcGxlTGlzdHModHJhayk7XG5cdH1cbn1cblxuSVNPRmlsZS5wcm90b3R5cGUuYnVpbGRUcmFrU2FtcGxlTGlzdHMgPSBmdW5jdGlvbih0cmFrKSB7XHRcblx0dmFyIGosIGs7XG5cdHZhciBzdGNvLCBzdHNjLCBzdHN6LCBzdHRzLCBjdHRzLCBzdHNzLCBzdHNkLCBzdWJzLCBzYmdwcywgc2dwZHMsIHN0ZHA7XG5cdHZhciBjaHVua19ydW5faW5kZXgsIGNodW5rX2luZGV4LCBsYXN0X2NodW5rX2luX3J1biwgb2Zmc2V0X2luX2NodW5rLCBsYXN0X3NhbXBsZV9pbl9jaHVuaztcblx0dmFyIGxhc3Rfc2FtcGxlX2luX3N0dHNfcnVuLCBzdHRzX3J1bl9pbmRleCwgbGFzdF9zYW1wbGVfaW5fY3R0c19ydW4sIGN0dHNfcnVuX2luZGV4LCBsYXN0X3N0c3NfaW5kZXgsIGxhc3Rfc3Vic19pbmRleCwgc3Vic19lbnRyeV9pbmRleCwgbGFzdF9zdWJzX3NhbXBsZV9pbmRleDtcblxuXHR0cmFrLnNhbXBsZXMgPSBbXTtcblx0dHJhay5zYW1wbGVzX2R1cmF0aW9uID0gMDtcblx0dHJhay5zYW1wbGVzX3NpemUgPSAwO1xuXHRzdGNvID0gdHJhay5tZGlhLm1pbmYuc3RibC5zdGNvIHx8IHRyYWsubWRpYS5taW5mLnN0YmwuY282NDtcblx0c3RzYyA9IHRyYWsubWRpYS5taW5mLnN0Ymwuc3RzYztcblx0c3RzeiA9IHRyYWsubWRpYS5taW5mLnN0Ymwuc3RzeiB8fCB0cmFrLm1kaWEubWluZi5zdGJsLnN0ejI7XG5cdHN0dHMgPSB0cmFrLm1kaWEubWluZi5zdGJsLnN0dHM7XG5cdGN0dHMgPSB0cmFrLm1kaWEubWluZi5zdGJsLmN0dHM7XG5cdHN0c3MgPSB0cmFrLm1kaWEubWluZi5zdGJsLnN0c3M7XG5cdHN0c2QgPSB0cmFrLm1kaWEubWluZi5zdGJsLnN0c2Q7XG5cdHN1YnMgPSB0cmFrLm1kaWEubWluZi5zdGJsLnN1YnM7XG5cdHN0ZHAgPSB0cmFrLm1kaWEubWluZi5zdGJsLnN0ZHA7XG5cdHNiZ3BzID0gdHJhay5tZGlhLm1pbmYuc3RibC5zYmdwcztcblx0c2dwZHMgPSB0cmFrLm1kaWEubWluZi5zdGJsLnNncGRzO1xuXHRcblx0bGFzdF9zYW1wbGVfaW5fc3R0c19ydW4gPSAtMTtcblx0c3R0c19ydW5faW5kZXggPSAtMTtcblx0bGFzdF9zYW1wbGVfaW5fY3R0c19ydW4gPSAtMTtcblx0Y3R0c19ydW5faW5kZXggPSAtMTtcblx0bGFzdF9zdHNzX2luZGV4ID0gMDtcblx0c3Vic19lbnRyeV9pbmRleCA9IDA7XG5cdGxhc3Rfc3Vic19zYW1wbGVfaW5kZXggPSAwO1x0XHRcblxuXHRJU09GaWxlLmluaXRTYW1wbGVHcm91cHModHJhaywgbnVsbCwgc2JncHMsIHNncGRzKTtcblxuXHRpZiAodHlwZW9mIHN0c3ogPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvKiB3ZSBidWlsZCB0aGUgc2FtcGxlcyBvbmUgYnkgb25lIGFuZCBjb21wdXRlIHRoZWlyIHByb3BlcnRpZXMgKi9cblx0Zm9yIChqID0gMDsgaiA8IHN0c3ouc2FtcGxlX3NpemVzLmxlbmd0aDsgaisrKSB7XG5cdFx0dmFyIHNhbXBsZSA9IHt9O1xuXHRcdHNhbXBsZS5udW1iZXIgPSBqO1xuXHRcdHNhbXBsZS50cmFja19pZCA9IHRyYWsudGtoZC50cmFja19pZDtcblx0XHRzYW1wbGUudGltZXNjYWxlID0gdHJhay5tZGlhLm1kaGQudGltZXNjYWxlO1xuXHRcdHNhbXBsZS5hbHJlYWR5UmVhZCA9IDA7XG5cdFx0dHJhay5zYW1wbGVzW2pdID0gc2FtcGxlO1xuXHRcdC8qIHNpemUgY2FuIGJlIGtub3duIGRpcmVjdGx5ICovXG5cdFx0c2FtcGxlLnNpemUgPSBzdHN6LnNhbXBsZV9zaXplc1tqXTtcblx0XHR0cmFrLnNhbXBsZXNfc2l6ZSArPSBzYW1wbGUuc2l6ZTtcblx0XHQvKiBjb21wdXRpbmcgY2h1bmstYmFzZWQgcHJvcGVydGllcyAob2Zmc2V0LCBzYW1wbGUgZGVzY3JpcHRpb24gaW5kZXgpKi9cblx0XHRpZiAoaiA9PT0gMCkge1x0XHRcdFx0XG5cdFx0XHRjaHVua19pbmRleCA9IDE7IC8qIHRoZSBmaXJzdCBzYW1wbGUgaXMgaW4gdGhlIGZpcnN0IGNodW5rIChjaHVuayBpbmRleGVzIGFyZSAxLWJhc2VkKSAqL1xuXHRcdFx0Y2h1bmtfcnVuX2luZGV4ID0gMDsgLyogdGhlIGZpcnN0IGNodW5rIGlzIHRoZSBmaXJzdCBlbnRyeSBpbiB0aGUgZmlyc3RfY2h1bmsgdGFibGUgKi9cblx0XHRcdHNhbXBsZS5jaHVua19pbmRleCA9IGNodW5rX2luZGV4O1xuXHRcdFx0c2FtcGxlLmNodW5rX3J1bl9pbmRleCA9IGNodW5rX3J1bl9pbmRleDtcblx0XHRcdGxhc3Rfc2FtcGxlX2luX2NodW5rID0gc3RzYy5zYW1wbGVzX3Blcl9jaHVua1tjaHVua19ydW5faW5kZXhdO1xuXHRcdFx0b2Zmc2V0X2luX2NodW5rID0gMDtcblxuXHRcdFx0LyogSXMgdGhlcmUgYW5vdGhlciBlbnRyeSBpbiB0aGUgZmlyc3RfY2h1bmsgdGFibGUgPyAqL1xuXHRcdFx0aWYgKGNodW5rX3J1bl9pbmRleCArIDEgPCBzdHNjLmZpcnN0X2NodW5rLmxlbmd0aCkge1xuXHRcdFx0XHQvKiBUaGUgbGFzdCBjaHVuayBpbiB0aGUgcnVuIGlzIHRoZSBjaHVuayBiZWZvcmUgdGhlIG5leHQgZmlyc3QgY2h1bmsgKi9cblx0XHRcdFx0bGFzdF9jaHVua19pbl9ydW4gPSBzdHNjLmZpcnN0X2NodW5rW2NodW5rX3J1bl9pbmRleCsxXS0xOyBcdFxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0LyogVGhlcmUgaXMgb25seSBvbmUgZW50cnkgaW4gdGhlIHRhYmxlLCBpdCBpcyB2YWxpZCBmb3IgYWxsIGZ1dHVyZSBjaHVua3MqL1xuXHRcdFx0XHRsYXN0X2NodW5rX2luX3J1biA9IEluZmluaXR5O1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoaiA8IGxhc3Rfc2FtcGxlX2luX2NodW5rKSB7XG5cdFx0XHRcdC8qIHRoZSBzYW1wbGUgaXMgc3RpbGwgaW4gdGhlIGN1cnJlbnQgY2h1bmsgKi9cblx0XHRcdFx0c2FtcGxlLmNodW5rX2luZGV4ID0gY2h1bmtfaW5kZXg7XG5cdFx0XHRcdHNhbXBsZS5jaHVua19ydW5faW5kZXggPSBjaHVua19ydW5faW5kZXg7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvKiB0aGUgc2FtcGxlIGlzIGluIHRoZSBuZXh0IGNodW5rICovXG5cdFx0XHRcdGNodW5rX2luZGV4Kys7XG5cdFx0XHRcdHNhbXBsZS5jaHVua19pbmRleCA9IGNodW5rX2luZGV4O1xuXHRcdFx0XHQvKiByZXNldCB0aGUgYWNjdW11bGF0ZWQgb2Zmc2V0IGluIHRoZSBjaHVuayAqL1xuXHRcdFx0XHRvZmZzZXRfaW5fY2h1bmsgPSAwO1xuXHRcdFx0XHRpZiAoY2h1bmtfaW5kZXggPD0gbGFzdF9jaHVua19pbl9ydW4pIHtcblx0XHRcdFx0XHQvKiBzdGF5IGluIHRoZSBzYW1lIGVudHJ5IG9mIHRoZSBmaXJzdF9jaHVuayB0YWJsZSAqL1xuXHRcdFx0XHRcdC8qIGNodW5rX3J1bl9pbmRleCB1bm1vZGlmaWVkICovXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y2h1bmtfcnVuX2luZGV4Kys7XG5cdFx0XHRcdFx0LyogSXMgdGhlcmUgYW5vdGhlciBlbnRyeSBpbiB0aGUgZmlyc3RfY2h1bmsgdGFibGUgPyAqL1xuXHRcdFx0XHRcdGlmIChjaHVua19ydW5faW5kZXggKyAxIDwgc3RzYy5maXJzdF9jaHVuay5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdC8qIFRoZSBsYXN0IGNodW5rIGluIHRoZSBydW4gaXMgdGhlIGNodW5rIGJlZm9yZSB0aGUgbmV4dCBmaXJzdCBjaHVuayAqL1xuXHRcdFx0XHRcdFx0bGFzdF9jaHVua19pbl9ydW4gPSBzdHNjLmZpcnN0X2NodW5rW2NodW5rX3J1bl9pbmRleCsxXS0xOyBcdFxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQvKiBUaGVyZSBpcyBvbmx5IG9uZSBlbnRyeSBpbiB0aGUgdGFibGUsIGl0IGlzIHZhbGlkIGZvciBhbGwgZnV0dXJlIGNodW5rcyovXG5cdFx0XHRcdFx0XHRsYXN0X2NodW5rX2luX3J1biA9IEluZmluaXR5O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcblx0XHRcdFx0fVxuXHRcdFx0XHRzYW1wbGUuY2h1bmtfcnVuX2luZGV4ID0gY2h1bmtfcnVuX2luZGV4O1xuXHRcdFx0XHRsYXN0X3NhbXBsZV9pbl9jaHVuayArPSBzdHNjLnNhbXBsZXNfcGVyX2NodW5rW2NodW5rX3J1bl9pbmRleF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0c2FtcGxlLmRlc2NyaXB0aW9uX2luZGV4ID0gc3RzYy5zYW1wbGVfZGVzY3JpcHRpb25faW5kZXhbc2FtcGxlLmNodW5rX3J1bl9pbmRleF0tMTtcblx0XHRzYW1wbGUuZGVzY3JpcHRpb24gPSBzdHNkLmVudHJpZXNbc2FtcGxlLmRlc2NyaXB0aW9uX2luZGV4XTtcblx0XHRzYW1wbGUub2Zmc2V0ID0gc3Rjby5jaHVua19vZmZzZXRzW3NhbXBsZS5jaHVua19pbmRleC0xXSArIG9mZnNldF9pbl9jaHVuazsgLyogY2h1bmsgaW5kZXhlcyBhcmUgMS1iYXNlZCAqL1xuXHRcdG9mZnNldF9pbl9jaHVuayArPSBzYW1wbGUuc2l6ZTtcblxuXHRcdC8qIHNldHRpbmcgZHRzLCBjdHMsIGR1cmF0aW9uIGFuZCByYXAgZmxhZ3MgKi9cblx0XHRpZiAoaiA+IGxhc3Rfc2FtcGxlX2luX3N0dHNfcnVuKSB7XG5cdFx0XHRzdHRzX3J1bl9pbmRleCsrO1xuXHRcdFx0aWYgKGxhc3Rfc2FtcGxlX2luX3N0dHNfcnVuIDwgMCkge1xuXHRcdFx0XHRsYXN0X3NhbXBsZV9pbl9zdHRzX3J1biA9IDA7XG5cdFx0XHR9XG5cdFx0XHRsYXN0X3NhbXBsZV9pbl9zdHRzX3J1biArPSBzdHRzLnNhbXBsZV9jb3VudHNbc3R0c19ydW5faW5kZXhdO1x0XHRcdFx0XG5cdFx0fVxuXHRcdGlmIChqID4gMCkge1xuXHRcdFx0dHJhay5zYW1wbGVzW2otMV0uZHVyYXRpb24gPSBzdHRzLnNhbXBsZV9kZWx0YXNbc3R0c19ydW5faW5kZXhdO1xuXHRcdFx0dHJhay5zYW1wbGVzX2R1cmF0aW9uICs9IHRyYWsuc2FtcGxlc1tqLTFdLmR1cmF0aW9uO1xuXHRcdFx0c2FtcGxlLmR0cyA9IHRyYWsuc2FtcGxlc1tqLTFdLmR0cyArIHRyYWsuc2FtcGxlc1tqLTFdLmR1cmF0aW9uO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzYW1wbGUuZHRzID0gMDtcblx0XHR9XG5cdFx0aWYgKGN0dHMpIHtcblx0XHRcdGlmIChqID49IGxhc3Rfc2FtcGxlX2luX2N0dHNfcnVuKSB7XG5cdFx0XHRcdGN0dHNfcnVuX2luZGV4Kys7XG5cdFx0XHRcdGlmIChsYXN0X3NhbXBsZV9pbl9jdHRzX3J1biA8IDApIHtcblx0XHRcdFx0XHRsYXN0X3NhbXBsZV9pbl9jdHRzX3J1biA9IDA7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGFzdF9zYW1wbGVfaW5fY3R0c19ydW4gKz0gY3R0cy5zYW1wbGVfY291bnRzW2N0dHNfcnVuX2luZGV4XTtcdFx0XHRcdFxuXHRcdFx0fVxuXHRcdFx0c2FtcGxlLmN0cyA9IHRyYWsuc2FtcGxlc1tqXS5kdHMgKyBjdHRzLnNhbXBsZV9vZmZzZXRzW2N0dHNfcnVuX2luZGV4XTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c2FtcGxlLmN0cyA9IHNhbXBsZS5kdHM7XG5cdFx0fVxuXHRcdGlmIChzdHNzKSB7XG5cdFx0XHRpZiAoaiA9PSBzdHNzLnNhbXBsZV9udW1iZXJzW2xhc3Rfc3Rzc19pbmRleF0gLSAxKSB7IC8vIHNhbXBsZSBudW1iZXJzIGFyZSAxLWJhc2VkXG5cdFx0XHRcdHNhbXBsZS5pc19zeW5jID0gdHJ1ZTtcblx0XHRcdFx0bGFzdF9zdHNzX2luZGV4Kys7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzYW1wbGUuaXNfc3luYyA9IGZhbHNlO1x0XHRcdFx0XG5cdFx0XHRcdHNhbXBsZS5kZWdyYWRhdGlvbl9wcmlvcml0eSA9IDA7XG5cdFx0XHR9XG5cdFx0XHRpZiAoc3Vicykge1xuXHRcdFx0XHRpZiAoc3Vicy5lbnRyaWVzW3N1YnNfZW50cnlfaW5kZXhdLnNhbXBsZV9kZWx0YSArIGxhc3Rfc3Vic19zYW1wbGVfaW5kZXggPT0gaisxKSB7XG5cdFx0XHRcdFx0c2FtcGxlLnN1YnNhbXBsZXMgPSBzdWJzLmVudHJpZXNbc3Vic19lbnRyeV9pbmRleF0uc3Vic2FtcGxlcztcblx0XHRcdFx0XHRsYXN0X3N1YnNfc2FtcGxlX2luZGV4ICs9IHN1YnMuZW50cmllc1tzdWJzX2VudHJ5X2luZGV4XS5zYW1wbGVfZGVsdGE7XG5cdFx0XHRcdFx0c3Vic19lbnRyeV9pbmRleCsrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNhbXBsZS5pc19zeW5jID0gdHJ1ZTtcblx0XHR9XG5cdFx0SVNPRmlsZS5wcm9jZXNzX3NkdHAodHJhay5tZGlhLm1pbmYuc3RibC5zZHRwLCBzYW1wbGUsIHNhbXBsZS5udW1iZXIpO1xuXHRcdGlmIChzdGRwKSB7XG5cdFx0XHRzYW1wbGUuZGVncmFkYXRpb25fcHJpb3JpdHkgPSBzdGRwLnByaW9yaXR5W2pdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzYW1wbGUuZGVncmFkYXRpb25fcHJpb3JpdHkgPSAwO1xuXHRcdH1cblx0XHRpZiAoc3Vicykge1xuXHRcdFx0aWYgKHN1YnMuZW50cmllc1tzdWJzX2VudHJ5X2luZGV4XS5zYW1wbGVfZGVsdGEgKyBsYXN0X3N1YnNfc2FtcGxlX2luZGV4ID09IGopIHtcblx0XHRcdFx0c2FtcGxlLnN1YnNhbXBsZXMgPSBzdWJzLmVudHJpZXNbc3Vic19lbnRyeV9pbmRleF0uc3Vic2FtcGxlcztcblx0XHRcdFx0bGFzdF9zdWJzX3NhbXBsZV9pbmRleCArPSBzdWJzLmVudHJpZXNbc3Vic19lbnRyeV9pbmRleF0uc2FtcGxlX2RlbHRhO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoc2JncHMubGVuZ3RoID4gMCB8fCBzZ3Bkcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRJU09GaWxlLnNldFNhbXBsZUdyb3VwUHJvcGVydGllcyh0cmFrLCBzYW1wbGUsIGosIHRyYWsuc2FtcGxlX2dyb3Vwc19pbmZvKTtcblx0XHR9XG5cdH1cblx0aWYgKGo+MCkge1xuXHRcdHRyYWsuc2FtcGxlc1tqLTFdLmR1cmF0aW9uID0gTWF0aC5tYXgodHJhay5tZGlhLm1kaGQuZHVyYXRpb24gLSB0cmFrLnNhbXBsZXNbai0xXS5kdHMsIDApO1xuXHRcdHRyYWsuc2FtcGxlc19kdXJhdGlvbiArPSB0cmFrLnNhbXBsZXNbai0xXS5kdXJhdGlvbjtcblx0fVxufVxuXG4vKiBVcGRhdGUgc2FtcGxlIGxpc3Qgd2hlbiBuZXcgJ21vb2YnIGJveGVzIGFyZSByZWNlaXZlZCAqL1xuSVNPRmlsZS5wcm90b3R5cGUudXBkYXRlU2FtcGxlTGlzdHMgPSBmdW5jdGlvbigpIHtcdFxuXHR2YXIgaSwgaiwgaztcblx0dmFyIGRlZmF1bHRfc2FtcGxlX2Rlc2NyaXB0aW9uX2luZGV4LCBkZWZhdWx0X3NhbXBsZV9kdXJhdGlvbiwgZGVmYXVsdF9zYW1wbGVfc2l6ZSwgZGVmYXVsdF9zYW1wbGVfZmxhZ3M7XG5cdHZhciBsYXN0X3J1bl9wb3NpdGlvbjtcblx0dmFyIGJveCwgbW9vZiwgdHJhZiwgdHJhaywgdHJleDtcblx0dmFyIHNhbXBsZTtcblx0dmFyIHNhbXBsZV9mbGFncztcblx0XG5cdGlmICh0aGlzLm1vb3YgPT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybjtcblx0fVxuXHQvKiBpZiB0aGUgaW5wdXQgZmlsZSBpcyBmcmFnbWVudGVkIGFuZCBmZXRjaGVkIGluIG11bHRpcGxlIGRvd25sb2Fkcywgd2UgbmVlZCB0byB1cGRhdGUgdGhlIGxpc3Qgb2Ygc2FtcGxlcyAqL1xuXHR3aGlsZSAodGhpcy5sYXN0TW9vZkluZGV4IDwgdGhpcy5tb29mcy5sZW5ndGgpIHtcblx0XHRib3ggPSB0aGlzLm1vb2ZzW3RoaXMubGFzdE1vb2ZJbmRleF07XG5cdFx0dGhpcy5sYXN0TW9vZkluZGV4Kys7XG5cdFx0aWYgKGJveC50eXBlID09IFwibW9vZlwiKSB7XG5cdFx0XHRtb29mID0gYm94O1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IG1vb2YudHJhZnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dHJhZiA9IG1vb2YudHJhZnNbaV07XG5cdFx0XHRcdHRyYWsgPSB0aGlzLmdldFRyYWNrQnlJZCh0cmFmLnRmaGQudHJhY2tfaWQpO1xuXHRcdFx0XHR0cmV4ID0gdGhpcy5nZXRUcmV4QnlJZCh0cmFmLnRmaGQudHJhY2tfaWQpO1xuXHRcdFx0XHRpZiAodHJhZi50ZmhkLmZsYWdzICYgQm94UGFyc2VyLlRGSERfRkxBR19TQU1QTEVfREVTQykge1xuXHRcdFx0XHRcdGRlZmF1bHRfc2FtcGxlX2Rlc2NyaXB0aW9uX2luZGV4ID0gdHJhZi50ZmhkLmRlZmF1bHRfc2FtcGxlX2Rlc2NyaXB0aW9uX2luZGV4O1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRlZmF1bHRfc2FtcGxlX2Rlc2NyaXB0aW9uX2luZGV4ID0gKHRyZXggPyB0cmV4LmRlZmF1bHRfc2FtcGxlX2Rlc2NyaXB0aW9uX2luZGV4OiAxKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAodHJhZi50ZmhkLmZsYWdzICYgQm94UGFyc2VyLlRGSERfRkxBR19TQU1QTEVfRFVSKSB7XG5cdFx0XHRcdFx0ZGVmYXVsdF9zYW1wbGVfZHVyYXRpb24gPSB0cmFmLnRmaGQuZGVmYXVsdF9zYW1wbGVfZHVyYXRpb247XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGVmYXVsdF9zYW1wbGVfZHVyYXRpb24gPSAodHJleCA/IHRyZXguZGVmYXVsdF9zYW1wbGVfZHVyYXRpb24gOiAwKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAodHJhZi50ZmhkLmZsYWdzICYgQm94UGFyc2VyLlRGSERfRkxBR19TQU1QTEVfU0laRSkge1xuXHRcdFx0XHRcdGRlZmF1bHRfc2FtcGxlX3NpemUgPSB0cmFmLnRmaGQuZGVmYXVsdF9zYW1wbGVfc2l6ZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkZWZhdWx0X3NhbXBsZV9zaXplID0gKHRyZXggPyB0cmV4LmRlZmF1bHRfc2FtcGxlX3NpemUgOiAwKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAodHJhZi50ZmhkLmZsYWdzICYgQm94UGFyc2VyLlRGSERfRkxBR19TQU1QTEVfRkxBR1MpIHtcblx0XHRcdFx0XHRkZWZhdWx0X3NhbXBsZV9mbGFncyA9IHRyYWYudGZoZC5kZWZhdWx0X3NhbXBsZV9mbGFncztcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkZWZhdWx0X3NhbXBsZV9mbGFncyA9ICh0cmV4ID8gdHJleC5kZWZhdWx0X3NhbXBsZV9mbGFncyA6IDApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRyYWYuc2FtcGxlX251bWJlciA9IDA7XG5cdFx0XHRcdC8qIHByb2Nlc3Mgc2FtcGxlIGdyb3VwcyAqL1xuXHRcdFx0XHRpZiAodHJhZi5zYmdwcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0SVNPRmlsZS5pbml0U2FtcGxlR3JvdXBzKHRyYWssIHRyYWYsIHRyYWYuc2JncHMsIHRyYWsubWRpYS5taW5mLnN0Ymwuc2dwZHMsIHRyYWYuc2dwZHMpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGZvciAoaiA9IDA7IGogPCB0cmFmLnRydW5zLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0dmFyIHRydW4gPSB0cmFmLnRydW5zW2pdO1xuXHRcdFx0XHRcdGZvciAoayA9IDA7IGsgPCB0cnVuLnNhbXBsZV9jb3VudDsgaysrKSB7XG5cdFx0XHRcdFx0XHRzYW1wbGUgPSB7fTtcblx0XHRcdFx0XHRcdHNhbXBsZS5tb29mX251bWJlciA9IHRoaXMubGFzdE1vb2ZJbmRleDtcblx0XHRcdFx0XHRcdHNhbXBsZS5udW1iZXJfaW5fdHJhZiA9IHRyYWYuc2FtcGxlX251bWJlcjtcblx0XHRcdFx0XHRcdHRyYWYuc2FtcGxlX251bWJlcisrO1xuXHRcdFx0ICAgICAgICAgICAgc2FtcGxlLm51bWJlciA9IHRyYWsuc2FtcGxlcy5sZW5ndGg7XG5cdFx0XHRcdFx0XHR0cmFmLmZpcnN0X3NhbXBsZV9pbmRleCA9IHRyYWsuc2FtcGxlcy5sZW5ndGg7XG5cdFx0XHRcdFx0XHR0cmFrLnNhbXBsZXMucHVzaChzYW1wbGUpO1xuXHRcdFx0XHRcdFx0c2FtcGxlLnRyYWNrX2lkID0gdHJhay50a2hkLnRyYWNrX2lkO1xuXHRcdFx0XHRcdFx0c2FtcGxlLnRpbWVzY2FsZSA9IHRyYWsubWRpYS5tZGhkLnRpbWVzY2FsZTtcblx0XHRcdFx0XHRcdHNhbXBsZS5kZXNjcmlwdGlvbl9pbmRleCA9IGRlZmF1bHRfc2FtcGxlX2Rlc2NyaXB0aW9uX2luZGV4LTE7XG5cdFx0XHRcdFx0XHRzYW1wbGUuZGVzY3JpcHRpb24gPSB0cmFrLm1kaWEubWluZi5zdGJsLnN0c2QuZW50cmllc1tzYW1wbGUuZGVzY3JpcHRpb25faW5kZXhdO1xuXHRcdFx0XHRcdFx0c2FtcGxlLnNpemUgPSBkZWZhdWx0X3NhbXBsZV9zaXplO1xuXHRcdFx0XHRcdFx0aWYgKHRydW4uZmxhZ3MgJiBCb3hQYXJzZXIuVFJVTl9GTEFHU19TSVpFKSB7XG5cdFx0XHRcdFx0XHRcdHNhbXBsZS5zaXplID0gdHJ1bi5zYW1wbGVfc2l6ZVtrXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHRyYWsuc2FtcGxlc19zaXplICs9IHNhbXBsZS5zaXplO1xuXHRcdFx0XHRcdFx0c2FtcGxlLmR1cmF0aW9uID0gZGVmYXVsdF9zYW1wbGVfZHVyYXRpb247XG5cdFx0XHRcdFx0XHRpZiAodHJ1bi5mbGFncyAmIEJveFBhcnNlci5UUlVOX0ZMQUdTX0RVUkFUSU9OKSB7XG5cdFx0XHRcdFx0XHRcdHNhbXBsZS5kdXJhdGlvbiA9IHRydW4uc2FtcGxlX2R1cmF0aW9uW2tdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dHJhay5zYW1wbGVzX2R1cmF0aW9uICs9IHNhbXBsZS5kdXJhdGlvbjtcblx0XHRcdFx0XHRcdGlmICh0cmFrLmZpcnN0X3RyYWZfbWVyZ2VkIHx8IGsgPiAwKSB7XG5cdFx0XHRcdFx0XHRcdHNhbXBsZS5kdHMgPSB0cmFrLnNhbXBsZXNbdHJhay5zYW1wbGVzLmxlbmd0aC0yXS5kdHMrdHJhay5zYW1wbGVzW3RyYWsuc2FtcGxlcy5sZW5ndGgtMl0uZHVyYXRpb247XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRpZiAodHJhZi50ZmR0KSB7XG5cdFx0XHRcdFx0XHRcdFx0c2FtcGxlLmR0cyA9IHRyYWYudGZkdC5iYXNlTWVkaWFEZWNvZGVUaW1lO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHNhbXBsZS5kdHMgPSAwO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHRyYWsuZmlyc3RfdHJhZl9tZXJnZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0c2FtcGxlLmN0cyA9IHNhbXBsZS5kdHM7XG5cdFx0XHRcdFx0XHRpZiAodHJ1bi5mbGFncyAmIEJveFBhcnNlci5UUlVOX0ZMQUdTX0NUU19PRkZTRVQpIHtcblx0XHRcdFx0XHRcdFx0c2FtcGxlLmN0cyA9IHNhbXBsZS5kdHMgKyB0cnVuLnNhbXBsZV9jb21wb3NpdGlvbl90aW1lX29mZnNldFtrXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHNhbXBsZV9mbGFncyA9IGRlZmF1bHRfc2FtcGxlX2ZsYWdzO1xuXHRcdFx0XHRcdFx0aWYgKHRydW4uZmxhZ3MgJiBCb3hQYXJzZXIuVFJVTl9GTEFHU19GTEFHUykge1xuXHRcdFx0XHRcdFx0XHRzYW1wbGVfZmxhZ3MgPSB0cnVuLnNhbXBsZV9mbGFnc1trXTtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoayA9PT0gMCAmJiAodHJ1bi5mbGFncyAmIEJveFBhcnNlci5UUlVOX0ZMQUdTX0ZJUlNUX0ZMQUcpKSB7XG5cdFx0XHRcdFx0XHRcdHNhbXBsZV9mbGFncyA9IHRydW4uZmlyc3Rfc2FtcGxlX2ZsYWdzO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0c2FtcGxlLmlzX3N5bmMgPSAoKHNhbXBsZV9mbGFncyA+PiAxNiAmIDB4MSkgPyBmYWxzZSA6IHRydWUpO1xuXHRcdFx0XHRcdFx0c2FtcGxlLmlzX2xlYWRpbmcgPSAoc2FtcGxlX2ZsYWdzID4+IDI2ICYgMHgzKTtcblx0XHRcdFx0XHRcdHNhbXBsZS5kZXBlbmRzX29uID0gKHNhbXBsZV9mbGFncyA+PiAyNCAmIDB4Myk7XG5cdFx0XHRcdFx0XHRzYW1wbGUuaXNfZGVwZW5kZWRfb24gPSAoc2FtcGxlX2ZsYWdzID4+IDIyICYgMHgzKTtcblx0XHRcdFx0XHRcdHNhbXBsZS5oYXNfcmVkdW5kYW5jeSA9IChzYW1wbGVfZmxhZ3MgPj4gMjAgJiAweDMpO1xuXHRcdFx0XHRcdFx0c2FtcGxlLmRlZ3JhZGF0aW9uX3ByaW9yaXR5ID0gKHNhbXBsZV9mbGFncyAmIDB4RkZGRik7XG5cdFx0XHRcdFx0XHQvL0lTT0ZpbGUucHJvY2Vzc19zZHRwKHRyYWYuc2R0cCwgc2FtcGxlLCBzYW1wbGUubnVtYmVyX2luX3RyYWYpO1xuXHRcdFx0XHRcdFx0dmFyIGJkb3AgPSAodHJhZi50ZmhkLmZsYWdzICYgQm94UGFyc2VyLlRGSERfRkxBR19CQVNFX0RBVEFfT0ZGU0VUKSA/IHRydWUgOiBmYWxzZTtcblx0XHRcdFx0XHRcdHZhciBkYmltID0gKHRyYWYudGZoZC5mbGFncyAmIEJveFBhcnNlci5URkhEX0ZMQUdfREVGQVVMVF9CQVNFX0lTX01PT0YpID8gdHJ1ZSA6IGZhbHNlO1xuXHRcdFx0XHRcdFx0dmFyIGRvcCA9ICh0cnVuLmZsYWdzICYgQm94UGFyc2VyLlRSVU5fRkxBR1NfREFUQV9PRkZTRVQpID8gdHJ1ZSA6IGZhbHNlO1xuXHRcdFx0XHRcdFx0dmFyIGJkbyA9IDA7XG5cdFx0XHRcdFx0XHRpZiAoIWJkb3ApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCFkYmltKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGogPT09IDApIHsgLy8gdGhlIGZpcnN0IHRyYWNrIGluIHRoZSBtb3ZpZSBmcmFnbWVudFxuXHRcdFx0XHRcdFx0XHRcdFx0YmRvID0gbW9vZi5zdGFydDsgLy8gdGhlIHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBieXRlIG9mIHRoZSBlbmNsb3NpbmcgTW92aWUgRnJhZ21lbnQgQm94XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdGJkbyA9IGxhc3RfcnVuX3Bvc2l0aW9uOyAvLyBlbmQgb2YgdGhlIGRhdGEgZGVmaW5lZCBieSB0aGUgcHJlY2VkaW5nICp0cmFjayogKGlycmVzcGVjdGl2ZSBvZiB0aGUgdHJhY2sgaWQpIGZyYWdtZW50IGluIHRoZSBtb29mXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGJkbyA9IG1vb2Yuc3RhcnQ7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGJkbyA9IHRyYWYudGZoZC5iYXNlX2RhdGFfb2Zmc2V0O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKGogPT09IDAgJiYgayA9PT0gMCkge1xuXHRcdFx0XHRcdFx0XHRpZiAoZG9wKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2FtcGxlLm9mZnNldCA9IGJkbyArIHRydW4uZGF0YV9vZmZzZXQ7IC8vIElmIHRoZSBkYXRhLW9mZnNldCBpcyBwcmVzZW50LCBpdCBpcyByZWxhdGl2ZSB0byB0aGUgYmFzZS1kYXRhLW9mZnNldCBlc3RhYmxpc2hlZCBpbiB0aGUgdHJhY2sgZnJhZ21lbnQgaGVhZGVyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0c2FtcGxlLm9mZnNldCA9IGJkbzsgLy8gdGhlIGRhdGEgZm9yIHRoaXMgcnVuIHN0YXJ0cyB0aGUgYmFzZS1kYXRhLW9mZnNldCBkZWZpbmVkIGJ5IHRoZSB0cmFjayBmcmFnbWVudCBoZWFkZXJcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0c2FtcGxlLm9mZnNldCA9IGxhc3RfcnVuX3Bvc2l0aW9uOyAvLyB0aGlzIHJ1biBzdGFydHMgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGRhdGEgb2YgdGhlIHByZXZpb3VzIHJ1blxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bGFzdF9ydW5fcG9zaXRpb24gPSBzYW1wbGUub2Zmc2V0ICsgc2FtcGxlLnNpemU7XG5cdFx0XHRcdFx0XHRpZiAodHJhZi5zYmdwcy5sZW5ndGggPiAwIHx8IHRyYWYuc2dwZHMubGVuZ3RoID4gMCB8fFxuXHRcdFx0XHRcdFx0XHR0cmFrLm1kaWEubWluZi5zdGJsLnNiZ3BzLmxlbmd0aCA+IDAgfHwgdHJhay5tZGlhLm1pbmYuc3RibC5zZ3Bkcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHRcdElTT0ZpbGUuc2V0U2FtcGxlR3JvdXBQcm9wZXJ0aWVzKHRyYWssIHNhbXBsZSwgc2FtcGxlLm51bWJlcl9pbl90cmFmLCB0cmFmLnNhbXBsZV9ncm91cHNfaW5mbyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICh0cmFmLnN1YnMpIHtcblx0XHRcdFx0XHR0cmFrLmhhc19mcmFnbWVudF9zdWJzYW1wbGVzID0gdHJ1ZTtcblx0XHRcdFx0XHR2YXIgc2FtcGxlX2luZGV4ID0gdHJhZi5maXJzdF9zYW1wbGVfaW5kZXg7XG5cdFx0XHRcdFx0Zm9yIChqID0gMDsgaiA8IHRyYWYuc3Vicy5lbnRyaWVzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0XHRzYW1wbGVfaW5kZXggKz0gdHJhZi5zdWJzLmVudHJpZXNbal0uc2FtcGxlX2RlbHRhO1xuXHRcdFx0XHRcdFx0c2FtcGxlID0gdHJhay5zYW1wbGVzW3NhbXBsZV9pbmRleC0xXTtcblx0XHRcdFx0XHRcdHNhbXBsZS5zdWJzYW1wbGVzID0gdHJhZi5zdWJzLmVudHJpZXNbal0uc3Vic2FtcGxlcztcblx0XHRcdFx0XHR9XHRcdFx0XHRcdFxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XHRcbn1cblxuLyogVHJ5IHRvIGdldCBzYW1wbGUgZGF0YSBmb3IgYSBnaXZlbiBzYW1wbGU6XG4gICByZXR1cm5zIG51bGwgaWYgbm90IGZvdW5kXG4gICByZXR1cm5zIHRoZSBzYW1lIHNhbXBsZSBpZiBhbHJlYWR5IHJlcXVlc3RlZFxuICovXG5JU09GaWxlLnByb3RvdHlwZS5nZXRTYW1wbGUgPSBmdW5jdGlvbih0cmFrLCBzYW1wbGVOdW0pIHtcdFxuXHR2YXIgYnVmZmVyO1xuXHR2YXIgc2FtcGxlID0gdHJhay5zYW1wbGVzW3NhbXBsZU51bV07XG5cdFxuXHRpZiAoIXRoaXMubW9vdikge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0aWYgKCFzYW1wbGUuZGF0YSkge1xuXHRcdC8qIE5vdCB5ZXQgZmV0Y2hlZCAqL1xuXHRcdHNhbXBsZS5kYXRhID0gbmV3IFVpbnQ4QXJyYXkoc2FtcGxlLnNpemUpO1xuXHRcdHNhbXBsZS5hbHJlYWR5UmVhZCA9IDA7XG5cdFx0dGhpcy5zYW1wbGVzRGF0YVNpemUgKz0gc2FtcGxlLnNpemU7XG5cdFx0TG9nLmRlYnVnKFwiSVNPRmlsZVwiLCBcIkFsbG9jYXRpbmcgc2FtcGxlICNcIitzYW1wbGVOdW0rXCIgb24gdHJhY2sgI1wiK3RyYWsudGtoZC50cmFja19pZCtcIiBvZiBzaXplIFwiK3NhbXBsZS5zaXplK1wiICh0b3RhbDogXCIrdGhpcy5zYW1wbGVzRGF0YVNpemUrXCIpXCIpO1xuXHR9IGVsc2UgaWYgKHNhbXBsZS5hbHJlYWR5UmVhZCA9PSBzYW1wbGUuc2l6ZSkge1xuXHRcdC8qIEFscmVhZHkgZmV0Y2hlZCBlbnRpcmVseSAqL1xuXHRcdHJldHVybiBzYW1wbGU7XG5cdH1cblxuXHQvKiBUaGUgc2FtcGxlIGhhcyBvbmx5IGJlZW4gcGFydGlhbGx5IGZldGNoZWQsIHdlIG5lZWQgdG8gY2hlY2sgaW4gYWxsIGJ1ZmZlcnMgKi9cblx0d2hpbGUodHJ1ZSkge1xuXHRcdHZhciBpbmRleCA9XHR0aGlzLnN0cmVhbS5maW5kUG9zaXRpb24odHJ1ZSwgc2FtcGxlLm9mZnNldCArIHNhbXBsZS5hbHJlYWR5UmVhZCwgZmFsc2UpO1xuXHRcdGlmIChpbmRleCA+IC0xKSB7XG5cdFx0XHRidWZmZXIgPSB0aGlzLnN0cmVhbS5idWZmZXJzW2luZGV4XTtcblx0XHRcdHZhciBsZW5ndGhBZnRlclN0YXJ0ID0gYnVmZmVyLmJ5dGVMZW5ndGggLSAoc2FtcGxlLm9mZnNldCArIHNhbXBsZS5hbHJlYWR5UmVhZCAtIGJ1ZmZlci5maWxlU3RhcnQpO1xuXHRcdFx0aWYgKHNhbXBsZS5zaXplIC0gc2FtcGxlLmFscmVhZHlSZWFkIDw9IGxlbmd0aEFmdGVyU3RhcnQpIHtcblx0XHRcdFx0LyogdGhlIChyZXN0IG9mIHRoZSkgc2FtcGxlIGlzIGVudGlyZWx5IGNvbnRhaW5lZCBpbiB0aGlzIGJ1ZmZlciAqL1xuXG5cdFx0XHRcdExvZy5kZWJ1ZyhcIklTT0ZpbGVcIixcIkdldHRpbmcgc2FtcGxlICNcIitzYW1wbGVOdW0rXCIgZGF0YSAoYWxyZWFkeVJlYWQ6IFwiK3NhbXBsZS5hbHJlYWR5UmVhZCtcIiBvZmZzZXQ6IFwiK1xuXHRcdFx0XHRcdChzYW1wbGUub2Zmc2V0K3NhbXBsZS5hbHJlYWR5UmVhZCAtIGJ1ZmZlci5maWxlU3RhcnQpK1wiIHJlYWQgc2l6ZTogXCIrKHNhbXBsZS5zaXplIC0gc2FtcGxlLmFscmVhZHlSZWFkKStcIiBmdWxsIHNpemU6IFwiK3NhbXBsZS5zaXplK1wiKVwiKTtcblxuXHRcdFx0XHREYXRhU3RyZWFtLm1lbWNweShzYW1wbGUuZGF0YS5idWZmZXIsIHNhbXBsZS5hbHJlYWR5UmVhZCxcblx0XHRcdFx0ICAgICAgICAgICAgICAgICAgYnVmZmVyLCBzYW1wbGUub2Zmc2V0K3NhbXBsZS5hbHJlYWR5UmVhZCAtIGJ1ZmZlci5maWxlU3RhcnQsIHNhbXBsZS5zaXplIC0gc2FtcGxlLmFscmVhZHlSZWFkKTtcblxuXHRcdFx0XHQvKiB1cGRhdGUgdGhlIG51bWJlciBvZiBieXRlcyB1c2VkIGluIHRoaXMgYnVmZmVyIGFuZCBjaGVjayBpZiBpdCBuZWVkcyB0byBiZSByZW1vdmVkICovXG5cdFx0XHRcdGJ1ZmZlci51c2VkQnl0ZXMgKz0gc2FtcGxlLnNpemUgLSBzYW1wbGUuYWxyZWFkeVJlYWQ7XG5cdFx0XHRcdHRoaXMuc3RyZWFtLmxvZ0J1ZmZlckxldmVsKCk7XG5cblx0XHRcdFx0c2FtcGxlLmFscmVhZHlSZWFkID0gc2FtcGxlLnNpemU7XG5cblx0XHRcdFx0cmV0dXJuIHNhbXBsZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8qIHRoZSBzYW1wbGUgZG9lcyBub3QgZW5kIGluIHRoaXMgYnVmZmVyICovXG5cblx0XHRcdFx0aWYgKGxlbmd0aEFmdGVyU3RhcnQgPT09IDApIHJldHVybiBudWxsO1xuXG5cdFx0XHRcdExvZy5kZWJ1ZyhcIklTT0ZpbGVcIixcIkdldHRpbmcgc2FtcGxlICNcIitzYW1wbGVOdW0rXCIgcGFydGlhbCBkYXRhIChhbHJlYWR5UmVhZDogXCIrc2FtcGxlLmFscmVhZHlSZWFkK1wiIG9mZnNldDogXCIrXG5cdFx0XHRcdFx0KHNhbXBsZS5vZmZzZXQrc2FtcGxlLmFscmVhZHlSZWFkIC0gYnVmZmVyLmZpbGVTdGFydCkrXCIgcmVhZCBzaXplOiBcIitsZW5ndGhBZnRlclN0YXJ0K1wiIGZ1bGwgc2l6ZTogXCIrc2FtcGxlLnNpemUrXCIpXCIpO1xuXG5cdFx0XHRcdERhdGFTdHJlYW0ubWVtY3B5KHNhbXBsZS5kYXRhLmJ1ZmZlciwgc2FtcGxlLmFscmVhZHlSZWFkLFxuXHRcdFx0XHQgICAgICAgICAgICAgICAgICBidWZmZXIsIHNhbXBsZS5vZmZzZXQrc2FtcGxlLmFscmVhZHlSZWFkIC0gYnVmZmVyLmZpbGVTdGFydCwgbGVuZ3RoQWZ0ZXJTdGFydCk7XG5cdFx0XHRcdHNhbXBsZS5hbHJlYWR5UmVhZCArPSBsZW5ndGhBZnRlclN0YXJ0O1xuXG5cdFx0XHRcdC8qIHVwZGF0ZSB0aGUgbnVtYmVyIG9mIGJ5dGVzIHVzZWQgaW4gdGhpcyBidWZmZXIgYW5kIGNoZWNrIGlmIGl0IG5lZWRzIHRvIGJlIHJlbW92ZWQgKi9cblx0XHRcdFx0YnVmZmVyLnVzZWRCeXRlcyArPSBsZW5ndGhBZnRlclN0YXJ0O1xuXHRcdFx0XHR0aGlzLnN0cmVhbS5sb2dCdWZmZXJMZXZlbCgpO1xuXG5cdFx0XHRcdC8qIGtlZXAgbG9va2luZyBpbiB0aGUgbmV4dCBidWZmZXIgKi9cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHR9XG59XG5cbi8qIFJlbGVhc2UgdGhlIG1lbW9yeSB1c2VkIHRvIHN0b3JlIHRoZSBkYXRhIG9mIHRoZSBzYW1wbGUgKi9cbklTT0ZpbGUucHJvdG90eXBlLnJlbGVhc2VTYW1wbGUgPSBmdW5jdGlvbih0cmFrLCBzYW1wbGVOdW0pIHtcdFxuXHR2YXIgc2FtcGxlID0gdHJhay5zYW1wbGVzW3NhbXBsZU51bV07XG5cdGlmIChzYW1wbGUuZGF0YSkge1xuXHRcdHRoaXMuc2FtcGxlc0RhdGFTaXplIC09IHNhbXBsZS5zaXplO1xuXHRcdHNhbXBsZS5kYXRhID0gbnVsbDtcblx0XHRzYW1wbGUuYWxyZWFkeVJlYWQgPSAwO1xuXHRcdHJldHVybiBzYW1wbGUuc2l6ZTtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gMDtcblx0fVxufVxuXG5JU09GaWxlLnByb3RvdHlwZS5nZXRBbGxvY2F0ZWRTYW1wbGVEYXRhU2l6ZSA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5zYW1wbGVzRGF0YVNpemU7XG59XG5cbi8qIEJ1aWxkcyB0aGUgTUlNRSBUeXBlICdjb2RlY3MnIHN1Yi1wYXJhbWV0ZXJzIGZvciB0aGUgd2hvbGUgZmlsZSAqL1xuSVNPRmlsZS5wcm90b3R5cGUuZ2V0Q29kZWNzID0gZnVuY3Rpb24oKSB7XHRcblx0dmFyIGk7XG5cdHZhciBjb2RlY3MgPSBcIlwiO1xuXHRmb3IgKGkgPSAwOyBpIDwgdGhpcy5tb292LnRyYWtzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIHRyYWsgPSB0aGlzLm1vb3YudHJha3NbaV07XG5cdFx0aWYgKGk+MCkge1xuXHRcdFx0Y29kZWNzKz1cIixcIjsgXG5cdFx0fVxuXHRcdGNvZGVjcyArPSB0cmFrLm1kaWEubWluZi5zdGJsLnN0c2QuZW50cmllc1swXS5nZXRDb2RlYygpO1x0XHRcblx0fVxuXHRyZXR1cm4gY29kZWNzO1xufVxuXG4vKiBIZWxwZXIgZnVuY3Rpb24gKi9cbklTT0ZpbGUucHJvdG90eXBlLmdldFRyZXhCeUlkID0gZnVuY3Rpb24oaWQpIHtcdFxuXHR2YXIgaTtcblx0aWYgKCF0aGlzLm1vb3YgfHwgIXRoaXMubW9vdi5tdmV4KSByZXR1cm4gbnVsbDtcblx0Zm9yIChpID0gMDsgaSA8IHRoaXMubW9vdi5tdmV4LnRyZXhzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIHRyZXggPSB0aGlzLm1vb3YubXZleC50cmV4c1tpXTtcblx0XHRpZiAodHJleC50cmFja19pZCA9PSBpZCkgcmV0dXJuIHRyZXg7XG5cdH1cblx0cmV0dXJuIG51bGw7XG59XG5cbi8qIEhlbHBlciBmdW5jdGlvbiAqL1xuSVNPRmlsZS5wcm90b3R5cGUuZ2V0VHJhY2tCeUlkID0gZnVuY3Rpb24oaWQpIHtcblx0aWYgKHRoaXMubW9vdiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblx0Zm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLm1vb3YudHJha3MubGVuZ3RoOyBqKyspIHtcblx0XHR2YXIgdHJhayA9IHRoaXMubW9vdi50cmFrc1tqXTtcblx0XHRpZiAodHJhay50a2hkLnRyYWNrX2lkID09IGlkKSByZXR1cm4gdHJhaztcblx0fVxuXHRyZXR1cm4gbnVsbDtcbn1cbi8vIGZpbGU6c3JjL2lzb2ZpbGUtaXRlbS1wcm9jZXNzaW5nLmpzXG4vKiBzaXplIG9mIHRoZSBidWZmZXJzIGFsbG9jYXRlZCBmb3Igc2FtcGxlcyAqL1xuSVNPRmlsZS5wcm90b3R5cGUuaXRlbXNEYXRhU2l6ZSA9IDA7XG5cbklTT0ZpbGUucHJvdG90eXBlLmZsYXR0ZW5JdGVtSW5mbyA9IGZ1bmN0aW9uKCkge1x0XG5cdHZhciBpdGVtcyA9IHRoaXMuaXRlbXM7XG5cdHZhciBlbnRpdHlfZ3JvdXBzID0gdGhpcy5lbnRpdHlfZ3JvdXBzO1xuXHR2YXIgaSwgajtcblx0dmFyIGl0ZW07XG5cdHZhciBtZXRhID0gdGhpcy5tZXRhO1xuXHRpZiAobWV0YSA9PT0gbnVsbCB8fCBtZXRhID09PSB1bmRlZmluZWQpIHJldHVybjtcblx0aWYgKG1ldGEuaGRsciA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cdGlmIChtZXRhLmlpbmYgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXHRmb3IgKGkgPSAwOyBpIDwgbWV0YS5paW5mLml0ZW1faW5mb3MubGVuZ3RoOyBpKyspIHtcblx0XHRpdGVtID0ge307XG5cdFx0aXRlbS5pZCA9IG1ldGEuaWluZi5pdGVtX2luZm9zW2ldLml0ZW1fSUQ7XG5cdFx0aXRlbXNbaXRlbS5pZF0gPSBpdGVtO1xuXHRcdGl0ZW0ucmVmX3RvID0gW107XG5cdFx0aXRlbS5uYW1lID0gbWV0YS5paW5mLml0ZW1faW5mb3NbaV0uaXRlbV9uYW1lO1xuXHRcdGlmIChtZXRhLmlpbmYuaXRlbV9pbmZvc1tpXS5wcm90ZWN0aW9uX2luZGV4ID4gMCkge1xuXHRcdFx0aXRlbS5wcm90ZWN0aW9uID0gbWV0YS5pcHJvLnByb3RlY3Rpb25zW21ldGEuaWluZi5pdGVtX2luZm9zW2ldLnByb3RlY3Rpb25faW5kZXgtMV07XG5cdFx0fVxuXHRcdGlmIChtZXRhLmlpbmYuaXRlbV9pbmZvc1tpXS5pdGVtX3R5cGUpIHtcblx0XHRcdGl0ZW0udHlwZSA9IG1ldGEuaWluZi5pdGVtX2luZm9zW2ldLml0ZW1fdHlwZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aXRlbS50eXBlID0gXCJtaW1lXCI7XG5cdFx0fVxuXHRcdGl0ZW0uY29udGVudF90eXBlID0gbWV0YS5paW5mLml0ZW1faW5mb3NbaV0uY29udGVudF90eXBlO1xuXHRcdGl0ZW0uY29udGVudF9lbmNvZGluZyA9IG1ldGEuaWluZi5pdGVtX2luZm9zW2ldLmNvbnRlbnRfZW5jb2Rpbmc7XG5cdFx0aXRlbS5pdGVtX3VyaV90eXBlID0gbWV0YS5paW5mLml0ZW1faW5mb3NbaV0uaXRlbV91cmlfdHlwZTtcblx0fVxuXHRpZiAobWV0YS5ncnBsKSB7XG5cdFx0Zm9yIChpID0gMDsgaSA8IG1ldGEuZ3JwbC5ib3hlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0ZW50aXR5X2dyb3VwID0ge307XG5cdFx0XHRlbnRpdHlfZ3JvdXAuaWQgPSBtZXRhLmdycGwuYm94ZXNbaV0uZ3JvdXBfaWQ7XG5cdFx0XHRlbnRpdHlfZ3JvdXAuZW50aXR5X2lkcyA9IG1ldGEuZ3JwbC5ib3hlc1tpXS5lbnRpdHlfaWRzO1xuXHRcdFx0ZW50aXR5X2dyb3VwLnR5cGUgPSBtZXRhLmdycGwuYm94ZXNbaV0udHlwZTtcblx0XHRcdGVudGl0eV9ncm91cHNbZW50aXR5X2dyb3VwLmlkXSA9IGVudGl0eV9ncm91cDtcblx0XHR9XG5cdH1cblx0aWYgKG1ldGEuaWxvYykge1xuXHRcdGZvcihpID0gMDsgaSA8IG1ldGEuaWxvYy5pdGVtcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIG9mZnNldDtcblx0XHRcdHZhciBpdGVtbG9jID0gbWV0YS5pbG9jLml0ZW1zW2ldO1xuXHRcdFx0aXRlbSA9IGl0ZW1zW2l0ZW1sb2MuaXRlbV9JRF07XG5cdFx0XHRpZiAoaXRlbWxvYy5kYXRhX3JlZmVyZW5jZV9pbmRleCAhPT0gMCkge1xuXHRcdFx0XHRMb2cud2FybihcIkl0ZW0gc3RvcmFnZSB3aXRoIHJlZmVyZW5jZSB0byBvdGhlciBmaWxlczogbm90IHN1cHBvcnRlZFwiKTtcblx0XHRcdFx0aXRlbS5zb3VyY2UgPSBtZXRhLmRpbmYuYm94ZXNbaXRlbWxvYy5kYXRhX3JlZmVyZW5jZV9pbmRleC0xXTtcblx0XHRcdH1cblx0XHRcdHN3aXRjaChpdGVtbG9jLmNvbnN0cnVjdGlvbl9tZXRob2QpIHtcblx0XHRcdFx0Y2FzZSAwOiAvLyBvZmZzZXQgaW50byB0aGUgZmlsZSByZWZlcmVuY2VkIGJ5IHRoZSBkYXRhIHJlZmVyZW5jZSBpbmRleFxuXHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAxOiAvLyBvZmZzZXQgaW50byB0aGUgaWRhdCBib3ggb2YgdGhpcyBtZXRhIGJveFxuXHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAyOiAvLyBvZmZzZXQgaW50byBhbm90aGVyIGl0ZW1cblx0XHRcdFx0TG9nLndhcm4oXCJJdGVtIHN0b3JhZ2Ugd2l0aCBjb25zdHJ1Y3Rpb25fbWV0aG9kIDogbm90IHN1cHBvcnRlZFwiKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpdGVtLmV4dGVudHMgPSBbXTtcblx0XHRcdGl0ZW0uc2l6ZSA9IDA7XG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgaXRlbWxvYy5leHRlbnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGl0ZW0uZXh0ZW50c1tqXSA9IHt9O1xuXHRcdFx0XHRpdGVtLmV4dGVudHNbal0ub2Zmc2V0ID0gaXRlbWxvYy5leHRlbnRzW2pdLmV4dGVudF9vZmZzZXQgKyBpdGVtbG9jLmJhc2Vfb2Zmc2V0O1xuXHRcdFx0XHRpZiAoaXRlbWxvYy5jb25zdHJ1Y3Rpb25fbWV0aG9kID09IDEpIHtcblx0XHRcdFx0XHRpdGVtLmV4dGVudHNbal0ub2Zmc2V0ICs9IG1ldGEuaWRhdC5zdGFydCArIG1ldGEuaWRhdC5oZHJfc2l6ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpdGVtLmV4dGVudHNbal0ubGVuZ3RoID0gaXRlbWxvYy5leHRlbnRzW2pdLmV4dGVudF9sZW5ndGg7XG5cdFx0XHRcdGl0ZW0uZXh0ZW50c1tqXS5hbHJlYWR5UmVhZCA9IDA7XG5cdFx0XHRcdGl0ZW0uc2l6ZSArPSBpdGVtLmV4dGVudHNbal0ubGVuZ3RoO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRpZiAobWV0YS5waXRtKSB7XG5cdFx0aXRlbXNbbWV0YS5waXRtLml0ZW1faWRdLnByaW1hcnkgPSB0cnVlO1xuXHR9XG5cdGlmIChtZXRhLmlyZWYpIHtcblx0XHRmb3IgKGk9MDsgaSA8bWV0YS5pcmVmLnJlZmVyZW5jZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciByZWYgPSBtZXRhLmlyZWYucmVmZXJlbmNlc1tpXTtcblx0XHRcdGZvciAoaj0wOyBqPHJlZi5yZWZlcmVuY2VzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGl0ZW1zW3JlZi5mcm9tX2l0ZW1fSURdLnJlZl90by5wdXNoKHt0eXBlOiByZWYudHlwZSwgaWQ6IHJlZi5yZWZlcmVuY2VzW2pdfSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGlmIChtZXRhLmlwcnApIHtcblx0XHRmb3IgKHZhciBrID0gMDsgayA8IG1ldGEuaXBycC5pcG1hcy5sZW5ndGg7IGsrKykge1xuXHRcdFx0dmFyIGlwbWEgPSBtZXRhLmlwcnAuaXBtYXNba107XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgaXBtYS5hc3NvY2lhdGlvbnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIGFzc29jaWF0aW9uID0gaXBtYS5hc3NvY2lhdGlvbnNbaV07XG5cdFx0XHRcdGl0ZW0gPSBpdGVtc1thc3NvY2lhdGlvbi5pZF07XG5cdFx0XHRcdGlmICghaXRlbSkge1xuXHRcdFx0XHRcdGl0ZW0gPSBlbnRpdHlfZ3JvdXBzW2Fzc29jaWF0aW9uLmlkXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoaXRlbSkge1xuXHRcdFx0XHRcdGlmIChpdGVtLnByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0aXRlbS5wcm9wZXJ0aWVzID0ge307XG5cdFx0XHRcdFx0XHRpdGVtLnByb3BlcnRpZXMuYm94ZXMgPSBbXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Zm9yIChqID0gMDsgaiA8IGFzc29jaWF0aW9uLnByb3BzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0XHR2YXIgcHJvcEVudHJ5ID0gYXNzb2NpYXRpb24ucHJvcHNbal07XG5cdFx0XHRcdFx0XHRpZiAocHJvcEVudHJ5LnByb3BlcnR5X2luZGV4ID4gMCAmJiBwcm9wRW50cnkucHJvcGVydHlfaW5kZXgtMSA8IG1ldGEuaXBycC5pcGNvLmJveGVzLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0XHR2YXIgcHJvcGJveCA9IG1ldGEuaXBycC5pcGNvLmJveGVzW3Byb3BFbnRyeS5wcm9wZXJ0eV9pbmRleC0xXTtcblx0XHRcdFx0XHRcdFx0aXRlbS5wcm9wZXJ0aWVzW3Byb3Bib3gudHlwZV0gPSBwcm9wYm94O1xuXHRcdFx0XHRcdFx0XHRpdGVtLnByb3BlcnRpZXMuYm94ZXMucHVzaChwcm9wYm94KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuSVNPRmlsZS5wcm90b3R5cGUuZ2V0SXRlbSA9IGZ1bmN0aW9uKGl0ZW1faWQpIHtcdFxuXHR2YXIgYnVmZmVyO1xuXHR2YXIgaXRlbTtcblx0XG5cdGlmICghdGhpcy5tZXRhKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuIFx0aXRlbSA9IHRoaXMuaXRlbXNbaXRlbV9pZF07XG5cdGlmICghaXRlbS5kYXRhICYmIGl0ZW0uc2l6ZSkge1xuXHRcdC8qIE5vdCB5ZXQgZmV0Y2hlZCAqL1xuXHRcdGl0ZW0uZGF0YSA9IG5ldyBVaW50OEFycmF5KGl0ZW0uc2l6ZSk7XG5cdFx0aXRlbS5hbHJlYWR5UmVhZCA9IDA7XG5cdFx0dGhpcy5pdGVtc0RhdGFTaXplICs9IGl0ZW0uc2l6ZTtcblx0XHRMb2cuZGVidWcoXCJJU09GaWxlXCIsIFwiQWxsb2NhdGluZyBpdGVtICNcIitpdGVtX2lkK1wiIG9mIHNpemUgXCIraXRlbS5zaXplK1wiICh0b3RhbDogXCIrdGhpcy5pdGVtc0RhdGFTaXplK1wiKVwiKTtcblx0fSBlbHNlIGlmIChpdGVtLmFscmVhZHlSZWFkID09PSBpdGVtLnNpemUpIHtcblx0XHQvKiBBbHJlYWR5IGZldGNoZWQgZW50aXJlbHkgKi9cblx0XHRyZXR1cm4gaXRlbTtcblx0fVxuXG5cdC8qIFRoZSBpdGVtIGhhcyBvbmx5IGJlZW4gcGFydGlhbGx5IGZldGNoZWQsIHdlIG5lZWQgdG8gY2hlY2sgaW4gYWxsIGJ1ZmZlcnMgdG8gZmluZCB0aGUgcmVtYWluaW5nIGV4dGVudHMqL1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbS5leHRlbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGV4dGVudCA9IGl0ZW0uZXh0ZW50c1tpXTtcblx0XHRpZiAoZXh0ZW50LmFscmVhZHlSZWFkID09PSBleHRlbnQubGVuZ3RoKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGluZGV4ID1cdHRoaXMuc3RyZWFtLmZpbmRQb3NpdGlvbih0cnVlLCBleHRlbnQub2Zmc2V0ICsgZXh0ZW50LmFscmVhZHlSZWFkLCBmYWxzZSk7XG5cdFx0XHRpZiAoaW5kZXggPiAtMSkge1xuXHRcdFx0XHRidWZmZXIgPSB0aGlzLnN0cmVhbS5idWZmZXJzW2luZGV4XTtcblx0XHRcdFx0dmFyIGxlbmd0aEFmdGVyU3RhcnQgPSBidWZmZXIuYnl0ZUxlbmd0aCAtIChleHRlbnQub2Zmc2V0ICsgZXh0ZW50LmFscmVhZHlSZWFkIC0gYnVmZmVyLmZpbGVTdGFydCk7XG5cdFx0XHRcdGlmIChleHRlbnQubGVuZ3RoIC0gZXh0ZW50LmFscmVhZHlSZWFkIDw9IGxlbmd0aEFmdGVyU3RhcnQpIHtcblx0XHRcdFx0XHQvKiB0aGUgKHJlc3Qgb2YgdGhlKSBleHRlbnQgaXMgZW50aXJlbHkgY29udGFpbmVkIGluIHRoaXMgYnVmZmVyICovXG5cblx0XHRcdFx0XHRMb2cuZGVidWcoXCJJU09GaWxlXCIsXCJHZXR0aW5nIGl0ZW0gI1wiK2l0ZW1faWQrXCIgZXh0ZW50ICNcIitpK1wiIGRhdGEgKGFscmVhZHlSZWFkOiBcIitleHRlbnQuYWxyZWFkeVJlYWQrXG5cdFx0XHRcdFx0XHRcIiBvZmZzZXQ6IFwiKyhleHRlbnQub2Zmc2V0K2V4dGVudC5hbHJlYWR5UmVhZCAtIGJ1ZmZlci5maWxlU3RhcnQpK1wiIHJlYWQgc2l6ZTogXCIrKGV4dGVudC5sZW5ndGggLSBleHRlbnQuYWxyZWFkeVJlYWQpK1xuXHRcdFx0XHRcdFx0XCIgZnVsbCBleHRlbnQgc2l6ZTogXCIrZXh0ZW50Lmxlbmd0aCtcIiBmdWxsIGl0ZW0gc2l6ZTogXCIraXRlbS5zaXplK1wiKVwiKTtcblxuXHRcdFx0XHRcdERhdGFTdHJlYW0ubWVtY3B5KGl0ZW0uZGF0YS5idWZmZXIsIGl0ZW0uYWxyZWFkeVJlYWQsIFxuXHRcdFx0XHRcdCAgICAgICAgICAgICAgICAgIGJ1ZmZlciwgZXh0ZW50Lm9mZnNldCtleHRlbnQuYWxyZWFkeVJlYWQgLSBidWZmZXIuZmlsZVN0YXJ0LCBleHRlbnQubGVuZ3RoIC0gZXh0ZW50LmFscmVhZHlSZWFkKTtcblxuXHRcdFx0XHRcdC8qIHVwZGF0ZSB0aGUgbnVtYmVyIG9mIGJ5dGVzIHVzZWQgaW4gdGhpcyBidWZmZXIgYW5kIGNoZWNrIGlmIGl0IG5lZWRzIHRvIGJlIHJlbW92ZWQgKi9cblx0XHRcdFx0XHRidWZmZXIudXNlZEJ5dGVzICs9IGV4dGVudC5sZW5ndGggLSBleHRlbnQuYWxyZWFkeVJlYWQ7XG5cdFx0XHRcdFx0dGhpcy5zdHJlYW0ubG9nQnVmZmVyTGV2ZWwoKTtcblxuXHRcdFx0XHRcdGl0ZW0uYWxyZWFkeVJlYWQgKz0gKGV4dGVudC5sZW5ndGggLSBleHRlbnQuYWxyZWFkeVJlYWQpO1xuXHRcdFx0XHRcdGV4dGVudC5hbHJlYWR5UmVhZCA9IGV4dGVudC5sZW5ndGg7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0LyogdGhlIHNhbXBsZSBkb2VzIG5vdCBlbmQgaW4gdGhpcyBidWZmZXIgKi9cblxuXHRcdFx0XHRcdExvZy5kZWJ1ZyhcIklTT0ZpbGVcIixcIkdldHRpbmcgaXRlbSAjXCIraXRlbV9pZCtcIiBleHRlbnQgI1wiK2krXCIgcGFydGlhbCBkYXRhIChhbHJlYWR5UmVhZDogXCIrZXh0ZW50LmFscmVhZHlSZWFkK1wiIG9mZnNldDogXCIrXG5cdFx0XHRcdFx0XHQoZXh0ZW50Lm9mZnNldCtleHRlbnQuYWxyZWFkeVJlYWQgLSBidWZmZXIuZmlsZVN0YXJ0KStcIiByZWFkIHNpemU6IFwiK2xlbmd0aEFmdGVyU3RhcnQrXG5cdFx0XHRcdFx0XHRcIiBmdWxsIGV4dGVudCBzaXplOiBcIitleHRlbnQubGVuZ3RoK1wiIGZ1bGwgaXRlbSBzaXplOiBcIitpdGVtLnNpemUrXCIpXCIpO1xuXG5cdFx0XHRcdFx0RGF0YVN0cmVhbS5tZW1jcHkoaXRlbS5kYXRhLmJ1ZmZlciwgaXRlbS5hbHJlYWR5UmVhZCwgXG5cdFx0XHRcdFx0ICAgICAgICAgICAgICAgICAgYnVmZmVyLCBleHRlbnQub2Zmc2V0K2V4dGVudC5hbHJlYWR5UmVhZCAtIGJ1ZmZlci5maWxlU3RhcnQsIGxlbmd0aEFmdGVyU3RhcnQpO1xuXHRcdFx0XHRcdGV4dGVudC5hbHJlYWR5UmVhZCArPSBsZW5ndGhBZnRlclN0YXJ0O1xuXHRcdFx0XHRcdGl0ZW0uYWxyZWFkeVJlYWQgKz0gbGVuZ3RoQWZ0ZXJTdGFydDtcblxuXHRcdFx0XHRcdC8qIHVwZGF0ZSB0aGUgbnVtYmVyIG9mIGJ5dGVzIHVzZWQgaW4gdGhpcyBidWZmZXIgYW5kIGNoZWNrIGlmIGl0IG5lZWRzIHRvIGJlIHJlbW92ZWQgKi9cblx0XHRcdFx0XHRidWZmZXIudXNlZEJ5dGVzICs9IGxlbmd0aEFmdGVyU3RhcnQ7XG5cdFx0XHRcdFx0dGhpcy5zdHJlYW0ubG9nQnVmZmVyTGV2ZWwoKTtcblx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGlmIChpdGVtLmFscmVhZHlSZWFkID09PSBpdGVtLnNpemUpIHtcblx0XHQvKiBmZXRjaGVkIGVudGlyZWx5ICovXG5cdFx0cmV0dXJuIGl0ZW07XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cbn1cblxuLyogUmVsZWFzZSB0aGUgbWVtb3J5IHVzZWQgdG8gc3RvcmUgdGhlIGRhdGEgb2YgdGhlIGl0ZW0gKi9cbklTT0ZpbGUucHJvdG90eXBlLnJlbGVhc2VJdGVtID0gZnVuY3Rpb24oaXRlbV9pZCkge1x0XG5cdHZhciBpdGVtID0gdGhpcy5pdGVtc1tpdGVtX2lkXTtcblx0aWYgKGl0ZW0uZGF0YSkge1xuXHRcdHRoaXMuaXRlbXNEYXRhU2l6ZSAtPSBpdGVtLnNpemU7XG5cdFx0aXRlbS5kYXRhID0gbnVsbDtcblx0XHRpdGVtLmFscmVhZHlSZWFkID0gMDtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0uZXh0ZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGV4dGVudCA9IGl0ZW0uZXh0ZW50c1tpXTtcblx0XHRcdGV4dGVudC5hbHJlYWR5UmVhZCA9IDA7XG5cdFx0fVxuXHRcdHJldHVybiBpdGVtLnNpemU7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIDA7XG5cdH1cbn1cblxuXG5JU09GaWxlLnByb3RvdHlwZS5wcm9jZXNzSXRlbXMgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRmb3IodmFyIGkgaW4gdGhpcy5pdGVtcykge1xuXHRcdHZhciBpdGVtID0gdGhpcy5pdGVtc1tpXTtcblx0XHR0aGlzLmdldEl0ZW0oaXRlbS5pZCk7XG5cdFx0aWYgKGNhbGxiYWNrICYmICFpdGVtLnNlbnQpIHtcblx0XHRcdGNhbGxiYWNrKGl0ZW0pO1xuXHRcdFx0aXRlbS5zZW50ID0gdHJ1ZTtcblx0XHRcdGl0ZW0uZGF0YSA9IG51bGw7XG5cdFx0fVxuXHR9XG59XG5cbklTT0ZpbGUucHJvdG90eXBlLmhhc0l0ZW0gPSBmdW5jdGlvbihuYW1lKSB7XG5cdGZvcih2YXIgaSBpbiB0aGlzLml0ZW1zKSB7XG5cdFx0dmFyIGl0ZW0gPSB0aGlzLml0ZW1zW2ldO1xuXHRcdGlmIChpdGVtLm5hbWUgPT09IG5hbWUpIHtcblx0XHRcdHJldHVybiBpdGVtLmlkO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gLTE7XG59XG5cbklTT0ZpbGUucHJvdG90eXBlLmdldE1ldGFIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG5cdGlmICghdGhpcy5tZXRhKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIHRoaXMubWV0YS5oZGxyLmhhbmRsZXI7XHRcdFxuXHR9XG59XG5cbklTT0ZpbGUucHJvdG90eXBlLmdldFByaW1hcnlJdGVtID0gZnVuY3Rpb24oKSB7XG5cdGlmICghdGhpcy5tZXRhIHx8ICF0aGlzLm1ldGEucGl0bSkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiB0aGlzLmdldEl0ZW0odGhpcy5tZXRhLnBpdG0uaXRlbV9pZCk7XG5cdH1cbn1cblxuSVNPRmlsZS5wcm90b3R5cGUuaXRlbVRvRnJhZ21lbnRlZFRyYWNrRmlsZSA9IGZ1bmN0aW9uKF9vcHRpb25zKSB7XG5cdHZhciBvcHRpb25zID0gX29wdGlvbnMgfHwge307XG5cdHZhciBpdGVtID0gbnVsbDtcblx0aWYgKG9wdGlvbnMuaXRlbUlkKSB7XG5cdFx0aXRlbSA9IHRoaXMuZ2V0SXRlbShvcHRpb25zLml0ZW1JZCk7XG5cdH0gZWxzZSB7XG5cdFx0aXRlbSA9IHRoaXMuZ2V0UHJpbWFyeUl0ZW0oKTtcblx0fVxuXHRpZiAoaXRlbSA9PSBudWxsKSByZXR1cm4gbnVsbDtcblxuXHR2YXIgZmlsZSA9IG5ldyBJU09GaWxlKCk7XG5cdGZpbGUuZGlzY2FyZE1kYXREYXRhID0gZmFsc2U7XG5cdC8vIGFzc3VtaW5nIHRoZSB0cmFjayB0eXBlIGlzIHRoZSBzYW1lIGFzIHRoZSBpdGVtIHR5cGVcblx0dmFyIHRyYWNrT3B0aW9ucyA9IHsgdHlwZTogaXRlbS50eXBlLCBkZXNjcmlwdGlvbl9ib3hlczogaXRlbS5wcm9wZXJ0aWVzLmJveGVzfTtcblx0aWYgKGl0ZW0ucHJvcGVydGllcy5pc3BlKSB7XG5cdFx0dHJhY2tPcHRpb25zLndpZHRoID0gaXRlbS5wcm9wZXJ0aWVzLmlzcGUuaW1hZ2Vfd2lkdGg7XG5cdFx0dHJhY2tPcHRpb25zLmhlaWdodCA9IGl0ZW0ucHJvcGVydGllcy5pc3BlLmltYWdlX2hlaWdodDtcblx0fVxuXHR2YXIgdHJhY2tJZCA9IGZpbGUuYWRkVHJhY2sodHJhY2tPcHRpb25zKTtcblx0aWYgKHRyYWNrSWQpIHtcblx0XHRmaWxlLmFkZFNhbXBsZSh0cmFja0lkLCBpdGVtLmRhdGEpO1xuXHRcdHJldHVybiBmaWxlO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG59XG5cbi8vIGZpbGU6c3JjL2lzb2ZpbGUtd3JpdGUuanNcbi8qIFJld3JpdGUgdGhlIGVudGlyZSBmaWxlICovXG5JU09GaWxlLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKG91dHN0cmVhbSkge1xuXHRmb3IgKHZhciBpPTA7IGk8dGhpcy5ib3hlcy5sZW5ndGg7IGkrKykge1xuXHRcdHRoaXMuYm94ZXNbaV0ud3JpdGUob3V0c3RyZWFtKTtcblx0fVxufVxuXG5JU09GaWxlLnByb3RvdHlwZS5jcmVhdGVGcmFnbWVudCA9IGZ1bmN0aW9uKHRyYWNrX2lkLCBzYW1wbGVOdW1iZXIsIHN0cmVhbV8pIHtcblx0dmFyIHRyYWsgPSB0aGlzLmdldFRyYWNrQnlJZCh0cmFja19pZCk7XG5cdHZhciBzYW1wbGUgPSB0aGlzLmdldFNhbXBsZSh0cmFrLCBzYW1wbGVOdW1iZXIpO1xuXHRpZiAoc2FtcGxlID09IG51bGwpIHtcblx0XHR0aGlzLnNldE5leHRTZWVrUG9zaXRpb25Gcm9tU2FtcGxlKHRyYWsuc2FtcGxlc1tzYW1wbGVOdW1iZXJdKTtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXHRcblx0dmFyIHN0cmVhbSA9IHN0cmVhbV8gfHwgbmV3IERhdGFTdHJlYW0oKTtcblx0c3RyZWFtLmVuZGlhbm5lc3MgPSBEYXRhU3RyZWFtLkJJR19FTkRJQU47XG5cblx0dmFyIG1vb2YgPSB0aGlzLmNyZWF0ZVNpbmdsZVNhbXBsZU1vb2Yoc2FtcGxlKTtcblx0bW9vZi53cml0ZShzdHJlYW0pO1xuXG5cdC8qIGFkanVzdGluZyB0aGUgZGF0YV9vZmZzZXQgbm93IHRoYXQgdGhlIG1vb2Ygc2l6ZSBpcyBrbm93biovXG5cdG1vb2YudHJhZnNbMF0udHJ1bnNbMF0uZGF0YV9vZmZzZXQgPSBtb29mLnNpemUrODsgLy84IGlzIG1kYXQgaGVhZGVyXG5cdExvZy5kZWJ1ZyhcIk1QNEJveFwiLCBcIkFkanVzdGluZyBkYXRhX29mZnNldCB3aXRoIG5ldyB2YWx1ZSBcIittb29mLnRyYWZzWzBdLnRydW5zWzBdLmRhdGFfb2Zmc2V0KTtcblx0c3RyZWFtLmFkanVzdFVpbnQzMihtb29mLnRyYWZzWzBdLnRydW5zWzBdLmRhdGFfb2Zmc2V0X3Bvc2l0aW9uLCBtb29mLnRyYWZzWzBdLnRydW5zWzBdLmRhdGFfb2Zmc2V0KTtcblx0XHRcblx0dmFyIG1kYXQgPSBuZXcgQm94UGFyc2VyLm1kYXRCb3goKTtcblx0bWRhdC5kYXRhID0gc2FtcGxlLmRhdGE7XG5cdG1kYXQud3JpdGUoc3RyZWFtKTtcblx0cmV0dXJuIHN0cmVhbTtcbn1cblxuLyogTW9kaWZ5IHRoZSBmaWxlIGFuZCBjcmVhdGUgdGhlIGluaXRpYWxpemF0aW9uIHNlZ21lbnQgKi9cbklTT0ZpbGUud3JpdGVJbml0aWFsaXphdGlvblNlZ21lbnQgPSBmdW5jdGlvbihmdHlwLCBtb292LCB0b3RhbF9kdXJhdGlvbiwgc2FtcGxlX2R1cmF0aW9uKSB7XG5cdHZhciBpO1xuXHR2YXIgaW5kZXg7XG5cdHZhciBtZWhkO1xuXHR2YXIgdHJleDtcblx0dmFyIGJveDtcblx0TG9nLmRlYnVnKFwiSVNPRmlsZVwiLCBcIkdlbmVyYXRpbmcgaW5pdGlhbGl6YXRpb24gc2VnbWVudFwiKTtcblxuXHR2YXIgc3RyZWFtID0gbmV3IERhdGFTdHJlYW0oKTtcblx0c3RyZWFtLmVuZGlhbm5lc3MgPSBEYXRhU3RyZWFtLkJJR19FTkRJQU47XG5cdGZ0eXAud3JpdGUoc3RyZWFtKTtcblx0XG5cdC8qIHdlIGNhbiBub3cgY3JlYXRlIHRoZSBuZXcgbXZleCBib3ggKi9cblx0dmFyIG12ZXggPSBtb292LmFkZChcIm12ZXhcIik7XG5cdGlmICh0b3RhbF9kdXJhdGlvbikge1xuXHRcdG12ZXguYWRkKFwibWVoZFwiKS5zZXQoXCJmcmFnbWVudF9kdXJhdGlvblwiLCB0b3RhbF9kdXJhdGlvbik7XG5cdH1cblx0Zm9yIChpID0gMDsgaSA8IG1vb3YudHJha3MubGVuZ3RoOyBpKyspIHtcblx0XHRtdmV4LmFkZChcInRyZXhcIikuc2V0KFwidHJhY2tfaWRcIiwgbW9vdi50cmFrc1tpXS50a2hkLnRyYWNrX2lkKVxuXHRcdFx0XHRcdFx0LnNldChcImRlZmF1bHRfc2FtcGxlX2Rlc2NyaXB0aW9uX2luZGV4XCIsIDEpXG5cdFx0XHRcdFx0XHQuc2V0KFwiZGVmYXVsdF9zYW1wbGVfZHVyYXRpb25cIiwgc2FtcGxlX2R1cmF0aW9uKVxuXHRcdFx0XHRcdFx0LnNldChcImRlZmF1bHRfc2FtcGxlX3NpemVcIiwgMClcblx0XHRcdFx0XHRcdC5zZXQoXCJkZWZhdWx0X3NhbXBsZV9mbGFnc1wiLCAxPDwxNilcblx0fVxuXHRtb292LndyaXRlKHN0cmVhbSk7XG5cblx0cmV0dXJuIHN0cmVhbS5idWZmZXI7XG5cbn1cblxuSVNPRmlsZS5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0dmFyIHN0cmVhbSA9IG5ldyBEYXRhU3RyZWFtKCk7XG5cdHN0cmVhbS5lbmRpYW5uZXNzID0gRGF0YVN0cmVhbS5CSUdfRU5ESUFOO1xuXHR0aGlzLndyaXRlKHN0cmVhbSk7XG5cdHN0cmVhbS5zYXZlKG5hbWUpO1x0XG59XG5cbklTT0ZpbGUucHJvdG90eXBlLmdldEJ1ZmZlciA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgc3RyZWFtID0gbmV3IERhdGFTdHJlYW0oKTtcblx0c3RyZWFtLmVuZGlhbm5lc3MgPSBEYXRhU3RyZWFtLkJJR19FTkRJQU47XG5cdHRoaXMud3JpdGUoc3RyZWFtKTtcblx0cmV0dXJuIHN0cmVhbS5idWZmZXI7XG59XG5cbklTT0ZpbGUucHJvdG90eXBlLmluaXRpYWxpemVTZWdtZW50YXRpb24gPSBmdW5jdGlvbigpIHtcblx0dmFyIGk7XG5cdHZhciBqO1xuXHR2YXIgYm94O1xuXHR2YXIgaW5pdFNlZ3M7XG5cdHZhciB0cmFrO1xuXHR2YXIgc2VnO1xuXHRpZiAodGhpcy5vblNlZ21lbnQgPT09IG51bGwpIHtcblx0XHRMb2cud2FybihcIk1QNEJveFwiLCBcIk5vIHNlZ21lbnRhdGlvbiBjYWxsYmFjayBzZXQhXCIpO1xuXHR9XG5cdGlmICghdGhpcy5pc0ZyYWdtZW50YXRpb25Jbml0aWFsaXplZCkge1xuXHRcdHRoaXMuaXNGcmFnbWVudGF0aW9uSW5pdGlhbGl6ZWQgPSB0cnVlO1x0XHRcblx0XHR0aGlzLm5leHRNb29mTnVtYmVyID0gMDtcblx0XHR0aGlzLnJlc2V0VGFibGVzKCk7XG5cdH1cdFxuXHRpbml0U2VncyA9IFtdO1x0XG5cdGZvciAoaSA9IDA7IGkgPCB0aGlzLmZyYWdtZW50ZWRUcmFja3MubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgbW9vdiA9IG5ldyBCb3hQYXJzZXIubW9vdkJveCgpO1xuXHRcdG1vb3YubXZoZCA9IHRoaXMubW9vdi5tdmhkO1xuXHQgICAgbW9vdi5ib3hlcy5wdXNoKG1vb3YubXZoZCk7XG5cdFx0dHJhayA9IHRoaXMuZ2V0VHJhY2tCeUlkKHRoaXMuZnJhZ21lbnRlZFRyYWNrc1tpXS5pZCk7XG5cdFx0bW9vdi5ib3hlcy5wdXNoKHRyYWspO1xuXHRcdG1vb3YudHJha3MucHVzaCh0cmFrKTtcblx0XHRzZWcgPSB7fTtcblx0XHRzZWcuaWQgPSB0cmFrLnRraGQudHJhY2tfaWQ7XG5cdFx0c2VnLnVzZXIgPSB0aGlzLmZyYWdtZW50ZWRUcmFja3NbaV0udXNlcjtcblx0XHRzZWcuYnVmZmVyID0gSVNPRmlsZS53cml0ZUluaXRpYWxpemF0aW9uU2VnbWVudCh0aGlzLmZ0eXAsIG1vb3YsICh0aGlzLm1vb3YubXZleCAmJiB0aGlzLm1vb3YubXZleC5tZWhkID8gdGhpcy5tb292Lm12ZXgubWVoZC5mcmFnbWVudF9kdXJhdGlvbjogdW5kZWZpbmVkKSwgKHRoaXMubW9vdi50cmFrc1tpXS5zYW1wbGVzLmxlbmd0aD4wID8gdGhpcy5tb292LnRyYWtzW2ldLnNhbXBsZXNbMF0uZHVyYXRpb246IDApKTtcblx0XHRpbml0U2Vncy5wdXNoKHNlZyk7XG5cdH1cblx0cmV0dXJuIGluaXRTZWdzO1xufVxuXG4vLyBmaWxlOnNyYy9ib3gtcHJpbnQuanNcbi8qIFxuICogQ29weXJpZ2h0IChjKSBUZWxlY29tIFBhcmlzVGVjaC9UU0kvTU0vR1BBQyBDeXJpbCBDb25jb2xhdG9cbiAqIExpY2Vuc2U6IEJTRC0zLUNsYXVzZSAoc2VlIExJQ0VOU0UgZmlsZSlcbiAqL1xuQm94UGFyc2VyLkJveC5wcm90b3R5cGUucHJpbnRIZWFkZXIgPSBmdW5jdGlvbihvdXRwdXQpIHtcblx0dGhpcy5zaXplICs9IDg7XG5cdGlmICh0aGlzLnNpemUgPiBNQVhfU0laRSkge1xuXHRcdHRoaXMuc2l6ZSArPSA4O1xuXHR9XG5cdGlmICh0aGlzLnR5cGUgPT09IFwidXVpZFwiKSB7XG5cdFx0dGhpcy5zaXplICs9IDE2O1xuXHR9XG5cdG91dHB1dC5sb2cob3V0cHV0LmluZGVudCtcInNpemU6XCIrdGhpcy5zaXplKTtcblx0b3V0cHV0LmxvZyhvdXRwdXQuaW5kZW50K1widHlwZTpcIit0aGlzLnR5cGUpO1xufVxuXG5Cb3hQYXJzZXIuRnVsbEJveC5wcm90b3R5cGUucHJpbnRIZWFkZXIgPSBmdW5jdGlvbihvdXRwdXQpIHtcblx0dGhpcy5zaXplICs9IDQ7XG5cdEJveFBhcnNlci5Cb3gucHJvdG90eXBlLnByaW50SGVhZGVyLmNhbGwodGhpcywgb3V0cHV0KTtcblx0b3V0cHV0LmxvZyhvdXRwdXQuaW5kZW50K1widmVyc2lvbjpcIit0aGlzLnZlcnNpb24pO1xuXHRvdXRwdXQubG9nKG91dHB1dC5pbmRlbnQrXCJmbGFnczpcIit0aGlzLmZsYWdzKTtcbn1cblxuQm94UGFyc2VyLkJveC5wcm90b3R5cGUucHJpbnQgPSBmdW5jdGlvbihvdXRwdXQpIHtcblx0dGhpcy5wcmludEhlYWRlcihvdXRwdXQpO1xufVxuXG5Cb3hQYXJzZXIuQ29udGFpbmVyQm94LnByb3RvdHlwZS5wcmludCA9IGZ1bmN0aW9uKG91dHB1dCkge1xuXHR0aGlzLnByaW50SGVhZGVyKG91dHB1dCk7XG5cdGZvciAodmFyIGk9MDsgaTx0aGlzLmJveGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0aWYgKHRoaXMuYm94ZXNbaV0pIHtcblx0XHRcdHZhciBwcmV2X2luZGVudCA9IG91dHB1dC5pbmRlbnQ7XG5cdFx0XHRvdXRwdXQuaW5kZW50ICs9IFwiIFwiO1xuXHRcdFx0dGhpcy5ib3hlc1tpXS5wcmludChvdXRwdXQpO1xuXHRcdFx0b3V0cHV0LmluZGVudCA9IHByZXZfaW5kZW50O1xuXHRcdH1cblx0fVxufVxuXG5JU09GaWxlLnByb3RvdHlwZS5wcmludCA9IGZ1bmN0aW9uKG91dHB1dCkge1xuXHRvdXRwdXQuaW5kZW50ID0gXCJcIjtcblx0Zm9yICh2YXIgaT0wOyBpPHRoaXMuYm94ZXMubGVuZ3RoOyBpKyspIHtcblx0XHRpZiAodGhpcy5ib3hlc1tpXSkge1xuXHRcdFx0dGhpcy5ib3hlc1tpXS5wcmludChvdXRwdXQpO1xuXHRcdH1cblx0fVx0XG59XG5cbkJveFBhcnNlci5tdmhkQm94LnByb3RvdHlwZS5wcmludCA9IGZ1bmN0aW9uKG91dHB1dCkge1xuXHRCb3hQYXJzZXIuRnVsbEJveC5wcm90b3R5cGUucHJpbnRIZWFkZXIuY2FsbCh0aGlzLCBvdXRwdXQpO1xuXHRvdXRwdXQubG9nKG91dHB1dC5pbmRlbnQrXCJjcmVhdGlvbl90aW1lOiBcIit0aGlzLmNyZWF0aW9uX3RpbWUpO1xuXHRvdXRwdXQubG9nKG91dHB1dC5pbmRlbnQrXCJtb2RpZmljYXRpb25fdGltZTogXCIrdGhpcy5tb2RpZmljYXRpb25fdGltZSk7XG5cdG91dHB1dC5sb2cob3V0cHV0LmluZGVudCtcInRpbWVzY2FsZTogXCIrdGhpcy50aW1lc2NhbGUpO1xuXHRvdXRwdXQubG9nKG91dHB1dC5pbmRlbnQrXCJkdXJhdGlvbjogXCIrdGhpcy5kdXJhdGlvbik7XG5cdG91dHB1dC5sb2cob3V0cHV0LmluZGVudCtcInJhdGU6IFwiK3RoaXMucmF0ZSk7XG5cdG91dHB1dC5sb2cob3V0cHV0LmluZGVudCtcInZvbHVtZTogXCIrKHRoaXMudm9sdW1lPj44KSk7XG5cdG91dHB1dC5sb2cob3V0cHV0LmluZGVudCtcIm1hdHJpeDogXCIrdGhpcy5tYXRyaXguam9pbihcIiwgXCIpKTtcblx0b3V0cHV0LmxvZyhvdXRwdXQuaW5kZW50K1wibmV4dF90cmFja19pZDogXCIrdGhpcy5uZXh0X3RyYWNrX2lkKTtcbn1cblxuQm94UGFyc2VyLnRraGRCb3gucHJvdG90eXBlLnByaW50ID0gZnVuY3Rpb24ob3V0cHV0KSB7XG5cdEJveFBhcnNlci5GdWxsQm94LnByb3RvdHlwZS5wcmludEhlYWRlci5jYWxsKHRoaXMsIG91dHB1dCk7XG5cdG91dHB1dC5sb2cob3V0cHV0LmluZGVudCtcImNyZWF0aW9uX3RpbWU6IFwiK3RoaXMuY3JlYXRpb25fdGltZSk7XG5cdG91dHB1dC5sb2cob3V0cHV0LmluZGVudCtcIm1vZGlmaWNhdGlvbl90aW1lOiBcIit0aGlzLm1vZGlmaWNhdGlvbl90aW1lKTtcblx0b3V0cHV0LmxvZyhvdXRwdXQuaW5kZW50K1widHJhY2tfaWQ6IFwiK3RoaXMudHJhY2tfaWQpO1xuXHRvdXRwdXQubG9nKG91dHB1dC5pbmRlbnQrXCJkdXJhdGlvbjogXCIrdGhpcy5kdXJhdGlvbik7XG5cdG91dHB1dC5sb2cob3V0cHV0LmluZGVudCtcInZvbHVtZTogXCIrKHRoaXMudm9sdW1lPj44KSk7XG5cdG91dHB1dC5sb2cob3V0cHV0LmluZGVudCtcIm1hdHJpeDogXCIrdGhpcy5tYXRyaXguam9pbihcIiwgXCIpKTtcblx0b3V0cHV0LmxvZyhvdXRwdXQuaW5kZW50K1wibGF5ZXI6IFwiK3RoaXMubGF5ZXIpO1xuXHRvdXRwdXQubG9nKG91dHB1dC5pbmRlbnQrXCJhbHRlcm5hdGVfZ3JvdXA6IFwiK3RoaXMuYWx0ZXJuYXRlX2dyb3VwKTtcblx0b3V0cHV0LmxvZyhvdXRwdXQuaW5kZW50K1wid2lkdGg6IFwiK3RoaXMud2lkdGgpO1xuXHRvdXRwdXQubG9nKG91dHB1dC5pbmRlbnQrXCJoZWlnaHQ6IFwiK3RoaXMuaGVpZ2h0KTtcbn0vLyBmaWxlOnNyYy9tcDRib3guanNcbi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTItMjAxMy4gVGVsZWNvbSBQYXJpc1RlY2gvVFNJL01NL0dQQUMgQ3lyaWwgQ29uY29sYXRvXG4gKiBMaWNlbnNlOiBCU0QtMy1DbGF1c2UgKHNlZSBMSUNFTlNFIGZpbGUpXG4gKi9cbnZhciBNUDRCb3ggPSB7fTtcblxuTVA0Qm94LmNyZWF0ZUZpbGUgPSBmdW5jdGlvbiAoX2tlZXBNZGF0RGF0YSwgX3N0cmVhbSkge1xuXHQvKiBCb29sZWFuIGluZGljYXRpbmcgaWYgYnl0ZXMgY29udGFpbmluZyBtZWRpYSBkYXRhIHNob3VsZCBiZSBrZXB0IGluIG1lbW9yeSAqL1xuXHR2YXIga2VlcE1kYXREYXRhID0gKF9rZWVwTWRhdERhdGEgIT09IHVuZGVmaW5lZCA/IF9rZWVwTWRhdERhdGEgOiB0cnVlKTtcblx0dmFyIGZpbGUgPSBuZXcgSVNPRmlsZShfc3RyZWFtKTtcblx0ZmlsZS5kaXNjYXJkTWRhdERhdGEgPSAoa2VlcE1kYXREYXRhID8gZmFsc2UgOiB0cnVlKTtcblx0cmV0dXJuIGZpbGU7XG59XG5cbmlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ZXhwb3J0cy5jcmVhdGVGaWxlID0gTVA0Qm94LmNyZWF0ZUZpbGU7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mp4box/dist/mp4box.all.js\n"));

/***/ }),

/***/ "./node_modules/next/dist/build/polyfills/fetch/whatwg-fetch.js":
/*!**********************************************************************!*\
  !*** ./node_modules/next/dist/build/polyfills/fetch/whatwg-fetch.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* globals self */ \nexports.Headers = self.Headers;\nexports.Request = self.Request;\nexports.Response = self.Response;\nexports.fetch = self.fetch;\n\n//# sourceMappingURL=whatwg-fetch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3BvbHlmaWxscy9mZXRjaC93aGF0d2ctZmV0Y2guanMiLCJtYXBwaW5ncyI6IkFBQUEsbUJBQWdDO0FBQ2hDLGVBQWU7QUFDZixlQUFlO0FBQ2YsZ0JBQWdCO0FBQ2hCLGFBQWE7O0FBRWIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC9wb2x5ZmlsbHMvZmV0Y2gvd2hhdHdnLWZldGNoLmpzPzBkNTUiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFscyBzZWxmICovIFwidXNlIHN0cmljdFwiO1xuZXhwb3J0cy5IZWFkZXJzID0gc2VsZi5IZWFkZXJzO1xuZXhwb3J0cy5SZXF1ZXN0ID0gc2VsZi5SZXF1ZXN0O1xuZXhwb3J0cy5SZXNwb25zZSA9IHNlbGYuUmVzcG9uc2U7XG5leHBvcnRzLmZldGNoID0gc2VsZi5mZXRjaDtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2hhdHdnLWZldGNoLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/polyfills/fetch/whatwg-fetch.js\n"));

/***/ }),

/***/ "./node_modules/next/dist/build/polyfills/process.js":
/*!***********************************************************!*\
  !*** ./node_modules/next/dist/build/polyfills/process.js ***!
  \***********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar _global_process, _global_process1;\nmodule.exports = ((_global_process = __webpack_require__.g.process) == null ? void 0 : _global_process.env) && typeof ((_global_process1 = __webpack_require__.g.process) == null ? void 0 : _global_process1.env) === \"object\" ? __webpack_require__.g.process : __webpack_require__(/*! next/dist/compiled/process */ \"./node_modules/next/dist/compiled/process/browser.js\");\n\n//# sourceMappingURL=process.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3BvbHlmaWxscy9wcm9jZXNzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSxxQ0FBcUMscUJBQU0saUZBQWlGLHFCQUFNLGtFQUFrRSxxQkFBTSxXQUFXLG1CQUFPLENBQUMsd0ZBQTRCOztBQUV6UCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3BvbHlmaWxscy9wcm9jZXNzLmpzP2NhNjUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX2dsb2JhbF9wcm9jZXNzLCBfZ2xvYmFsX3Byb2Nlc3MxO1xubW9kdWxlLmV4cG9ydHMgPSAoKF9nbG9iYWxfcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzKSA9PSBudWxsID8gdm9pZCAwIDogX2dsb2JhbF9wcm9jZXNzLmVudikgJiYgdHlwZW9mICgoX2dsb2JhbF9wcm9jZXNzMSA9IGdsb2JhbC5wcm9jZXNzKSA9PSBudWxsID8gdm9pZCAwIDogX2dsb2JhbF9wcm9jZXNzMS5lbnYpID09PSBcIm9iamVjdFwiID8gZ2xvYmFsLnByb2Nlc3MgOiByZXF1aXJlKFwibmV4dC9kaXN0L2NvbXBpbGVkL3Byb2Nlc3NcIik7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb2Nlc3MuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/polyfills/process.js\n"));

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[6].oneOf[12].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[6].oneOf[12].use[2]!./node_modules/@cntrl-site/sdk/dist/sdk.css":
/*!*********************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[6].oneOf[12].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[6].oneOf[12].use[2]!./node_modules/@cntrl-site/sdk/dist/sdk.css ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../next/dist/build/webpack/loaders/css-loader/src/runtime/api.js */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/runtime/api.js\");\n/* harmony import */ var _next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ControlSlider-module__wrapper___sHEkd{position:relative;width:100%;height:100%}.ControlSlider-module__slider___R3i9-{width:100%;height:100%}.ControlSlider-module__sliderItems___1MgPL{display:flex;overflow:hidden;width:100%;height:100%;transition:transform .3s ease-in-out}.ControlSlider-module__sliderItem___QQSkR{width:100%;height:100%;display:flex;position:relative}.ControlSlider-module__sliderImage___9hRl-{width:100%;height:100%;object-fit:cover}.ControlSlider-module__arrow___05ghY{position:absolute;display:flex;align-items:center;justify-content:center;border:none;background-color:transparent;top:50%;left:calc(var(--is-editor, 0) * -1.3888888889vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * -1.3888888889vw);z-index:1;transform:translate(-50%,-50%);padding:0;width:calc(var(--is-editor, 0) * 2.0833333333vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * 2.0833333333vw);height:calc(var(--is-editor, 0) * 2.0833333333vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * 2.0833333333vw)}.ControlSlider-module__arrow___05ghY.ControlSlider-module__arrowVertical___tBfVN{left:50%;top:calc(var(--is-editor, 0) * -1.3888888889vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * -1.3888888889vw);transform:translate(-50%,-50%)}.ControlSlider-module__nextArrow___-30Yc{left:unset;right:calc(var(--is-editor, 0) * -1.3888888889vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * -1.3888888889vw);transform:translate(50%,-50%)}.ControlSlider-module__nextArrow___-30Yc.ControlSlider-module__arrowVertical___tBfVN{left:50%;right:unset;top:unset;bottom:calc(var(--is-editor, 0) * -1.3888888889vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * -1.3888888889vw);transform:translate(-50%,50%)}.ControlSlider-module__arrowInner___aEra3{all:unset;cursor:pointer;width:100%;height:100%}.ControlSlider-module__arrowInner___aEra3:hover .ControlSlider-module__arrowIcon___S4ztF path{fill:var(--arrow-hover-color)!important}.ControlSlider-module__arrowImg___2dwJW{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.ControlSlider-module__arrowIcon___S4ztF{width:100%;height:100%}.ControlSlider-module__arrowIcon___S4ztF path{transition:fill .15s ease-in-out}.ControlSlider-module__mirror___brd6U{transform:translate(-50%,-50%) scaleX(-1)}.ControlSlider-module__arrowVertical___tBfVN.ControlSlider-module__mirror___brd6U{transform:translate(-50%,-50%) scaleY(-1)}.ControlSlider-module__pagination___bicLF{position:absolute;z-index:1;border-radius:50%}.ControlSlider-module__paginationInner___bT-P-{display:flex;gap:calc(var(--is-editor, 0) * 1.1111111111vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * 1.1111111111vw);padding-top:calc(var(--is-editor, 0) * .6944444444vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * .6944444444vw);padding-bottom:calc(var(--is-editor, 0) * .6944444444vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * .6944444444vw);padding-left:calc(var(--is-editor, 0) * 1.25vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * 1.25vw);padding-right:calc(var(--is-editor, 0) * 1.25vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * 1.25vw);border-radius:calc(var(--is-editor, 0) * 2.3611111111vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * 2.3611111111vw)}.ControlSlider-module__paginationVertical___zYqKw{flex-direction:column}.ControlSlider-module__paginationItem___nTRbk{all:unset;flex-shrink:0;position:relative;width:calc(var(--is-editor, 0) * 1.1111111111vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * 1.1111111111vw);height:calc(var(--is-editor, 0) * 1.1111111111vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * 1.1111111111vw);cursor:pointer}.ControlSlider-module__paginationItem___nTRbk:hover .ControlSlider-module__dot___p1Qun{background-color:var(--pagination-hover-color)!important}.ControlSlider-module__dot___p1Qun{border-radius:50%;scale:.5;transition:background-color .3s ease-in-out,transform .3s ease-in-out;width:calc(var(--is-editor, 0) * 1.1111111111vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * 1.1111111111vw);height:calc(var(--is-editor, 0) * 1.1111111111vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * 1.1111111111vw)}.ControlSlider-module__activeDot___LHFaj{transform:scale(2)}.ControlSlider-module__paginationInsideBottom___R3FWn{bottom:0;left:50%;transform:translate(-50%)}.ControlSlider-module__paginationInsideTop___V-qb-{left:50%;transform:translate(-50%);top:0}.ControlSlider-module__paginationOutsideBottom___14w8D{left:50%;transform:translate(-50%);bottom:calc(var(--is-editor, 0) * -2.4305555556vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * -2.4305555556vw)}.ControlSlider-module__paginationOutsideTop___SCLqB{left:50%;transform:translate(-50%);top:calc(var(--is-editor, 0) * -2.4305555556vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * -2.4305555556vw)}.ControlSlider-module__paginationInsideLeft___yOBRZ{top:50%;transform:translateY(-50%);left:calc(var(--is-editor, 0) * -2.4305555556vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * -2.4305555556vw)}.ControlSlider-module__paginationInsideRight___Rtt3o{top:50%;transform:translateY(-50%);right:calc(var(--is-editor, 0) * -2.4305555556vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * -2.4305555556vw)}.ControlSlider-module__paginationOutsideLeft___lahaw{top:50%;transform:translateY(-50%);left:calc(var(--is-editor, 0) * -5.4861111111vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * -5.4861111111vw)}.ControlSlider-module__paginationOutsideRight___EtuQa{top:50%;transform:translateY(-50%);right:calc(var(--is-editor, 0) * -5.4861111111vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * -5.4861111111vw)}.ControlSlider-module__imgWrapper___UjEgB,.ControlSlider-module__wrapperInner___DLAWV{width:100%;height:100%}.ControlSlider-module__captionBlock___dJ6-j{pointer-events:none;position:absolute;top:0;z-index:1;left:0;right:0;bottom:0}.ControlSlider-module__captionTextWrapper___HFlpf{position:relative;width:100%;height:100%}.ControlSlider-module__captionText___uGBVc{pointer-events:none;max-width:100%;transition-property:opacity;transition-timing-function:ease-in-out;position:absolute;display:inline-block;white-space:pre-wrap;overflow-wrap:break-word;opacity:0}.ControlSlider-module__captionText___uGBVc.ControlSlider-module__active___WZK4G{opacity:1}.ControlSlider-module__withPointerEvents___t-18M{pointer-events:auto}.ControlSlider-module__absolute___KxmYB{position:absolute}.ControlSlider-module__topLeftAlignment___zjnGM{top:0;left:0}.ControlSlider-module__topCenterAlignment___gD1xW{top:0;left:50%;transform:translate(-50%)}.ControlSlider-module__topRightAlignment___NMapS{top:0;right:0}.ControlSlider-module__middleLeftAlignment___OnUrY{top:50%;transform:translateY(-50%);left:0}.ControlSlider-module__middleCenterAlignment___Tdkl0{top:50%;transform:translate(-50%,-50%);left:50%}.ControlSlider-module__middleRightAlignment___wEbfX{top:50%;transform:translateY(-50%);right:0}.ControlSlider-module__bottomLeftAlignment___cTP2-{bottom:0;left:0}.ControlSlider-module__bottomCenterAlignment___c54fB{bottom:0;left:50%;transform:translate(-50%)}.ControlSlider-module__bottomRightAlignment___kEwrz{bottom:0;right:0}.ControlSlider-module__clickOverlay___DZA28{position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer}.ControlSlider-module__contain___pLyq7{object-fit:contain}.ControlSlider-module__cover___KdDat{object-fit:cover}@keyframes splide-loading{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.splide__track--draggable{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.splide__track--fade>.splide__list>.splide__slide{margin:0!important;opacity:0;z-index:0}.splide__track--fade>.splide__list>.splide__slide.is-active{opacity:1;z-index:1}.splide--rtl{direction:rtl}.splide__track--ttb>.splide__list{display:block}.splide__container{box-sizing:border-box;position:relative}.splide__list{-webkit-backface-visibility:hidden;backface-visibility:hidden;display:flex;height:100%;margin:0!important;padding:0!important}.splide.is-initialized:not(.is-active) .splide__list{display:block}.splide__pagination{align-items:center;display:flex;flex-wrap:wrap;justify-content:center;margin:0;pointer-events:none}.splide__pagination li{display:inline-block;line-height:1;list-style-type:none;margin:0;pointer-events:auto}.splide:not(.is-overflow) .splide__pagination{display:none}.splide__progress__bar{width:0}.splide{position:relative;visibility:hidden}.splide.is-initialized,.splide.is-rendered{visibility:visible}.splide__slide{-webkit-backface-visibility:hidden;backface-visibility:hidden;box-sizing:border-box;flex-shrink:0;list-style-type:none!important;margin:0;position:relative}.splide__slide img{vertical-align:bottom}.splide__spinner{animation:splide-loading 1s linear infinite;border:2px solid #999;border-left-color:transparent;border-radius:50%;bottom:0;contain:strict;display:inline-block;height:20px;left:0;margin:auto;position:absolute;right:0;top:0;width:20px}.splide__sr{clip:rect(0 0 0 0);border:0;height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.splide__toggle.is-active .splide__toggle__play,.splide__toggle__pause{display:none}.splide__toggle.is-active .splide__toggle__pause{display:inline}.splide__track{overflow:hidden;position:relative;z-index:0}.RichTextRenderer-module__link___BWeZ2{color:inherit;cursor:pointer;pointer-events:auto;transition:color .2s ease}.RichTextRenderer-module__link___BWeZ2:hover{color:var(--link-hover-color)}.SvgImage-module__svg___q3xE-{width:100%;height:100%;color:transparent;display:inline-block;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:var(--fill);transition:background-color .2s;-webkit-mask:var(--svg) no-repeat center/contain;mask:var(--svg) no-repeat center/contain}.SvgImage-module__svg___q3xE-:hover{background-color:var(--hover-fill)}.SvgImage-module__img___VsTm-{width:100%;height:100%;object-fit:contain}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://node_modules/@cntrl-site/sdk/dist/sdk.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\".ControlSlider-module__wrapper___sHEkd{position:relative;width:100%;height:100%}.ControlSlider-module__slider___R3i9-{width:100%;height:100%}.ControlSlider-module__sliderItems___1MgPL{display:flex;overflow:hidden;width:100%;height:100%;transition:transform .3s ease-in-out}.ControlSlider-module__sliderItem___QQSkR{width:100%;height:100%;display:flex;position:relative}.ControlSlider-module__sliderImage___9hRl-{width:100%;height:100%;object-fit:cover}.ControlSlider-module__arrow___05ghY{position:absolute;display:flex;align-items:center;justify-content:center;border:none;background-color:transparent;top:50%;left:calc(var(--is-editor, 0) * -1.3888888889vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * -1.3888888889vw);z-index:1;transform:translate(-50%,-50%);padding:0;width:calc(var(--is-editor, 0) * 2.0833333333vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * 2.0833333333vw);height:calc(var(--is-editor, 0) * 2.0833333333vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * 2.0833333333vw)}.ControlSlider-module__arrow___05ghY.ControlSlider-module__arrowVertical___tBfVN{left:50%;top:calc(var(--is-editor, 0) * -1.3888888889vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * -1.3888888889vw);transform:translate(-50%,-50%)}.ControlSlider-module__nextArrow___-30Yc{left:unset;right:calc(var(--is-editor, 0) * -1.3888888889vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * -1.3888888889vw);transform:translate(50%,-50%)}.ControlSlider-module__nextArrow___-30Yc.ControlSlider-module__arrowVertical___tBfVN{left:50%;right:unset;top:unset;bottom:calc(var(--is-editor, 0) * -1.3888888889vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * -1.3888888889vw);transform:translate(-50%,50%)}.ControlSlider-module__arrowInner___aEra3{all:unset;cursor:pointer;width:100%;height:100%}.ControlSlider-module__arrowInner___aEra3:hover .ControlSlider-module__arrowIcon___S4ztF path{fill:var(--arrow-hover-color)!important}.ControlSlider-module__arrowImg___2dwJW{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.ControlSlider-module__arrowIcon___S4ztF{width:100%;height:100%}.ControlSlider-module__arrowIcon___S4ztF path{transition:fill .15s ease-in-out}.ControlSlider-module__mirror___brd6U{transform:translate(-50%,-50%) scaleX(-1)}.ControlSlider-module__arrowVertical___tBfVN.ControlSlider-module__mirror___brd6U{transform:translate(-50%,-50%) scaleY(-1)}.ControlSlider-module__pagination___bicLF{position:absolute;z-index:1;border-radius:50%}.ControlSlider-module__paginationInner___bT-P-{display:flex;gap:calc(var(--is-editor, 0) * 1.1111111111vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * 1.1111111111vw);padding-top:calc(var(--is-editor, 0) * .6944444444vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * .6944444444vw);padding-bottom:calc(var(--is-editor, 0) * .6944444444vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * .6944444444vw);padding-left:calc(var(--is-editor, 0) * 1.25vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * 1.25vw);padding-right:calc(var(--is-editor, 0) * 1.25vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * 1.25vw);border-radius:calc(var(--is-editor, 0) * 2.3611111111vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * 2.3611111111vw)}.ControlSlider-module__paginationVertical___zYqKw{flex-direction:column}.ControlSlider-module__paginationItem___nTRbk{all:unset;flex-shrink:0;position:relative;width:calc(var(--is-editor, 0) * 1.1111111111vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * 1.1111111111vw);height:calc(var(--is-editor, 0) * 1.1111111111vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * 1.1111111111vw);cursor:pointer}.ControlSlider-module__paginationItem___nTRbk:hover .ControlSlider-module__dot___p1Qun{background-color:var(--pagination-hover-color)!important}.ControlSlider-module__dot___p1Qun{border-radius:50%;scale:.5;transition:background-color .3s ease-in-out,transform .3s ease-in-out;width:calc(var(--is-editor, 0) * 1.1111111111vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * 1.1111111111vw);height:calc(var(--is-editor, 0) * 1.1111111111vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * 1.1111111111vw)}.ControlSlider-module__activeDot___LHFaj{transform:scale(2)}.ControlSlider-module__paginationInsideBottom___R3FWn{bottom:0;left:50%;transform:translate(-50%)}.ControlSlider-module__paginationInsideTop___V-qb-{left:50%;transform:translate(-50%);top:0}.ControlSlider-module__paginationOutsideBottom___14w8D{left:50%;transform:translate(-50%);bottom:calc(var(--is-editor, 0) * -2.4305555556vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * -2.4305555556vw)}.ControlSlider-module__paginationOutsideTop___SCLqB{left:50%;transform:translate(-50%);top:calc(var(--is-editor, 0) * -2.4305555556vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * -2.4305555556vw)}.ControlSlider-module__paginationInsideLeft___yOBRZ{top:50%;transform:translateY(-50%);left:calc(var(--is-editor, 0) * -2.4305555556vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * -2.4305555556vw)}.ControlSlider-module__paginationInsideRight___Rtt3o{top:50%;transform:translateY(-50%);right:calc(var(--is-editor, 0) * -2.4305555556vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * -2.4305555556vw)}.ControlSlider-module__paginationOutsideLeft___lahaw{top:50%;transform:translateY(-50%);left:calc(var(--is-editor, 0) * -5.4861111111vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * -5.4861111111vw)}.ControlSlider-module__paginationOutsideRight___EtuQa{top:50%;transform:translateY(-50%);right:calc(var(--is-editor, 0) * -5.4861111111vw / var(--cntrl-reverse-layout-deviation, 1) + (1 - var(--is-editor, 0)) * -5.4861111111vw)}.ControlSlider-module__imgWrapper___UjEgB,.ControlSlider-module__wrapperInner___DLAWV{width:100%;height:100%}.ControlSlider-module__captionBlock___dJ6-j{pointer-events:none;position:absolute;top:0;z-index:1;left:0;right:0;bottom:0}.ControlSlider-module__captionTextWrapper___HFlpf{position:relative;width:100%;height:100%}.ControlSlider-module__captionText___uGBVc{pointer-events:none;max-width:100%;transition-property:opacity;transition-timing-function:ease-in-out;position:absolute;display:inline-block;white-space:pre-wrap;overflow-wrap:break-word;opacity:0}.ControlSlider-module__captionText___uGBVc.ControlSlider-module__active___WZK4G{opacity:1}.ControlSlider-module__withPointerEvents___t-18M{pointer-events:auto}.ControlSlider-module__absolute___KxmYB{position:absolute}.ControlSlider-module__topLeftAlignment___zjnGM{top:0;left:0}.ControlSlider-module__topCenterAlignment___gD1xW{top:0;left:50%;transform:translate(-50%)}.ControlSlider-module__topRightAlignment___NMapS{top:0;right:0}.ControlSlider-module__middleLeftAlignment___OnUrY{top:50%;transform:translateY(-50%);left:0}.ControlSlider-module__middleCenterAlignment___Tdkl0{top:50%;transform:translate(-50%,-50%);left:50%}.ControlSlider-module__middleRightAlignment___wEbfX{top:50%;transform:translateY(-50%);right:0}.ControlSlider-module__bottomLeftAlignment___cTP2-{bottom:0;left:0}.ControlSlider-module__bottomCenterAlignment___c54fB{bottom:0;left:50%;transform:translate(-50%)}.ControlSlider-module__bottomRightAlignment___kEwrz{bottom:0;right:0}.ControlSlider-module__clickOverlay___DZA28{position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer}.ControlSlider-module__contain___pLyq7{object-fit:contain}.ControlSlider-module__cover___KdDat{object-fit:cover}@keyframes splide-loading{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.splide__track--draggable{-webkit-touch-callout:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.splide__track--fade>.splide__list>.splide__slide{margin:0!important;opacity:0;z-index:0}.splide__track--fade>.splide__list>.splide__slide.is-active{opacity:1;z-index:1}.splide--rtl{direction:rtl}.splide__track--ttb>.splide__list{display:block}.splide__container{box-sizing:border-box;position:relative}.splide__list{backface-visibility:hidden;display:-ms-flexbox;display:flex;height:100%;margin:0!important;padding:0!important}.splide.is-initialized:not(.is-active) .splide__list{display:block}.splide__pagination{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-pack:center;justify-content:center;margin:0;pointer-events:none}.splide__pagination li{display:inline-block;line-height:1;list-style-type:none;margin:0;pointer-events:auto}.splide:not(.is-overflow) .splide__pagination{display:none}.splide__progress__bar{width:0}.splide{position:relative;visibility:hidden}.splide.is-initialized,.splide.is-rendered{visibility:visible}.splide__slide{backface-visibility:hidden;box-sizing:border-box;-ms-flex-negative:0;flex-shrink:0;list-style-type:none!important;margin:0;position:relative}.splide__slide img{vertical-align:bottom}.splide__spinner{animation:splide-loading 1s linear infinite;border:2px solid #999;border-left-color:transparent;border-radius:50%;bottom:0;contain:strict;display:inline-block;height:20px;left:0;margin:auto;position:absolute;right:0;top:0;width:20px}.splide__sr{clip:rect(0 0 0 0);border:0;height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.splide__toggle.is-active .splide__toggle__play,.splide__toggle__pause{display:none}.splide__toggle.is-active .splide__toggle__pause{display:inline}.splide__track{overflow:hidden;position:relative;z-index:0}.RichTextRenderer-module__link___BWeZ2{color:inherit;cursor:pointer;pointer-events:auto;transition:color .2s ease}.RichTextRenderer-module__link___BWeZ2:hover{color:var(--link-hover-color)}.SvgImage-module__svg___q3xE-{width:100%;height:100%;color:transparent;display:inline-block;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:var(--fill);transition:background-color .2s;-webkit-mask:var(--svg) no-repeat center/contain;mask:var(--svg) no-repeat center/contain}.SvgImage-module__svg___q3xE-:hover{background-color:var(--hover-fill)}.SvgImage-module__img___VsTm-{width:100%;height:100%;object-fit:contain}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1s2XS5vbmVPZlsxMl0udXNlWzFdIS4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzZdLm9uZU9mWzEyXS51c2VbMl0hLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrL2Rpc3Qvc2RrLmNzcyIsIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUNpSDtBQUNqSCw4QkFBOEIscUdBQTJCO0FBQ3pEO0FBQ0EsaUZBQWlGLGtCQUFrQixXQUFXLFlBQVksc0NBQXNDLFdBQVcsWUFBWSwyQ0FBMkMsYUFBYSxnQkFBZ0IsV0FBVyxZQUFZLHFDQUFxQywwQ0FBMEMsV0FBVyxZQUFZLGFBQWEsa0JBQWtCLDJDQUEyQyxXQUFXLFlBQVksaUJBQWlCLHFDQUFxQyxrQkFBa0IsYUFBYSxtQkFBbUIsdUJBQXVCLFlBQVksNkJBQTZCLFFBQVEsMElBQTBJLFVBQVUsK0JBQStCLFVBQVUseUlBQXlJLDBJQUEwSSxpRkFBaUYsU0FBUyx5SUFBeUksK0JBQStCLHlDQUF5QyxXQUFXLDJJQUEySSw4QkFBOEIscUZBQXFGLFNBQVMsWUFBWSxVQUFVLDRJQUE0SSw4QkFBOEIsMENBQTBDLFVBQVUsZUFBZSxXQUFXLFlBQVksOEZBQThGLHdDQUF3Qyx3Q0FBd0Msa0JBQWtCLFFBQVEsU0FBUywrQkFBK0IseUNBQXlDLFdBQVcsWUFBWSw4Q0FBOEMsaUNBQWlDLHNDQUFzQywwQ0FBMEMsa0ZBQWtGLDBDQUEwQywwQ0FBMEMsa0JBQWtCLFVBQVUsa0JBQWtCLCtDQUErQyxhQUFhLHVJQUF1SSw2SUFBNkksZ0pBQWdKLGdJQUFnSSxpSUFBaUksaUpBQWlKLGtEQUFrRCxzQkFBc0IsOENBQThDLFVBQVUsY0FBYyxrQkFBa0Is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L3h2QjtBQUNBLCtEQUFlLHVCQUF1QixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY250cmwtc2l0ZS9zZGsvZGlzdC9zZGsuY3NzP2Q2YzIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKHRydWUpO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiLkNvbnRyb2xTbGlkZXItbW9kdWxlX193cmFwcGVyX19fc0hFa2R7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0uQ29udHJvbFNsaWRlci1tb2R1bGVfX3NsaWRlcl9fX1IzaTkte3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19zbGlkZXJJdGVtc19fXzFNZ1BMe2Rpc3BsYXk6ZmxleDtvdmVyZmxvdzpoaWRkZW47d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuM3MgZWFzZS1pbi1vdXR9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19zbGlkZXJJdGVtX19fUVFTa1J7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtkaXNwbGF5OmZsZXg7cG9zaXRpb246cmVsYXRpdmV9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19zbGlkZXJJbWFnZV9fXzloUmwte3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7b2JqZWN0LWZpdDpjb3Zlcn0uQ29udHJvbFNsaWRlci1tb2R1bGVfX2Fycm93X19fMDVnaFl7cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2JvcmRlcjpub25lO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7dG9wOjUwJTtsZWZ0OmNhbGModmFyKC0taXMtZWRpdG9yLCAwKSAqIC0xLjM4ODg4ODg4ODl2dyAvIHZhcigtLWNudHJsLXJldmVyc2UtbGF5b3V0LWRldmlhdGlvbiwgMSkgKyAoMSAtIHZhcigtLWlzLWVkaXRvciwgMCkpICogLTEuMzg4ODg4ODg4OXZ3KTt6LWluZGV4OjE7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpO3BhZGRpbmc6MDt3aWR0aDpjYWxjKHZhcigtLWlzLWVkaXRvciwgMCkgKiAyLjA4MzMzMzMzMzN2dyAvIHZhcigtLWNudHJsLXJldmVyc2UtbGF5b3V0LWRldmlhdGlvbiwgMSkgKyAoMSAtIHZhcigtLWlzLWVkaXRvciwgMCkpICogMi4wODMzMzMzMzMzdncpO2hlaWdodDpjYWxjKHZhcigtLWlzLWVkaXRvciwgMCkgKiAyLjA4MzMzMzMzMzN2dyAvIHZhcigtLWNudHJsLXJldmVyc2UtbGF5b3V0LWRldmlhdGlvbiwgMSkgKyAoMSAtIHZhcigtLWlzLWVkaXRvciwgMCkpICogMi4wODMzMzMzMzMzdncpfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fYXJyb3dfX18wNWdoWS5Db250cm9sU2xpZGVyLW1vZHVsZV9fYXJyb3dWZXJ0aWNhbF9fX3RCZlZOe2xlZnQ6NTAlO3RvcDpjYWxjKHZhcigtLWlzLWVkaXRvciwgMCkgKiAtMS4zODg4ODg4ODg5dncgLyB2YXIoLS1jbnRybC1yZXZlcnNlLWxheW91dC1kZXZpYXRpb24sIDEpICsgKDEgLSB2YXIoLS1pcy1lZGl0b3IsIDApKSAqIC0xLjM4ODg4ODg4ODl2dyk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fbmV4dEFycm93X19fLTMwWWN7bGVmdDp1bnNldDtyaWdodDpjYWxjKHZhcigtLWlzLWVkaXRvciwgMCkgKiAtMS4zODg4ODg4ODg5dncgLyB2YXIoLS1jbnRybC1yZXZlcnNlLWxheW91dC1kZXZpYXRpb24sIDEpICsgKDEgLSB2YXIoLS1pcy1lZGl0b3IsIDApKSAqIC0xLjM4ODg4ODg4ODl2dyk7dHJhbnNmb3JtOnRyYW5zbGF0ZSg1MCUsLTUwJSl9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19uZXh0QXJyb3dfX18tMzBZYy5Db250cm9sU2xpZGVyLW1vZHVsZV9fYXJyb3dWZXJ0aWNhbF9fX3RCZlZOe2xlZnQ6NTAlO3JpZ2h0OnVuc2V0O3RvcDp1bnNldDtib3R0b206Y2FsYyh2YXIoLS1pcy1lZGl0b3IsIDApICogLTEuMzg4ODg4ODg4OXZ3IC8gdmFyKC0tY250cmwtcmV2ZXJzZS1sYXlvdXQtZGV2aWF0aW9uLCAxKSArICgxIC0gdmFyKC0taXMtZWRpdG9yLCAwKSkgKiAtMS4zODg4ODg4ODg5dncpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSw1MCUpfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fYXJyb3dJbm5lcl9fX2FFcmEze2FsbDp1bnNldDtjdXJzb3I6cG9pbnRlcjt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fYXJyb3dJbm5lcl9fX2FFcmEzOmhvdmVyIC5Db250cm9sU2xpZGVyLW1vZHVsZV9fYXJyb3dJY29uX19fUzR6dEYgcGF0aHtmaWxsOnZhcigtLWFycm93LWhvdmVyLWNvbG9yKSFpbXBvcnRhbnR9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19hcnJvd0ltZ19fXzJkd0pXe3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1MCU7bGVmdDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fYXJyb3dJY29uX19fUzR6dEZ7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0uQ29udHJvbFNsaWRlci1tb2R1bGVfX2Fycm93SWNvbl9fX1M0enRGIHBhdGh7dHJhbnNpdGlvbjpmaWxsIC4xNXMgZWFzZS1pbi1vdXR9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19taXJyb3JfX19icmQ2VXt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSkgc2NhbGVYKC0xKX0uQ29udHJvbFNsaWRlci1tb2R1bGVfX2Fycm93VmVydGljYWxfX190QmZWTi5Db250cm9sU2xpZGVyLW1vZHVsZV9fbWlycm9yX19fYnJkNlV7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpIHNjYWxlWSgtMSl9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19wYWdpbmF0aW9uX19fYmljTEZ7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxO2JvcmRlci1yYWRpdXM6NTAlfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fcGFnaW5hdGlvbklubmVyX19fYlQtUC17ZGlzcGxheTpmbGV4O2dhcDpjYWxjKHZhcigtLWlzLWVkaXRvciwgMCkgKiAxLjExMTExMTExMTF2dyAvIHZhcigtLWNudHJsLXJldmVyc2UtbGF5b3V0LWRldmlhdGlvbiwgMSkgKyAoMSAtIHZhcigtLWlzLWVkaXRvciwgMCkpICogMS4xMTExMTExMTExdncpO3BhZGRpbmctdG9wOmNhbGModmFyKC0taXMtZWRpdG9yLCAwKSAqIC42OTQ0NDQ0NDQ0dncgLyB2YXIoLS1jbnRybC1yZXZlcnNlLWxheW91dC1kZXZpYXRpb24sIDEpICsgKDEgLSB2YXIoLS1pcy1lZGl0b3IsIDApKSAqIC42OTQ0NDQ0NDQ0dncpO3BhZGRpbmctYm90dG9tOmNhbGModmFyKC0taXMtZWRpdG9yLCAwKSAqIC42OTQ0NDQ0NDQ0dncgLyB2YXIoLS1jbnRybC1yZXZlcnNlLWxheW91dC1kZXZpYXRpb24sIDEpICsgKDEgLSB2YXIoLS1pcy1lZGl0b3IsIDApKSAqIC42OTQ0NDQ0NDQ0dncpO3BhZGRpbmctbGVmdDpjYWxjKHZhcigtLWlzLWVkaXRvciwgMCkgKiAxLjI1dncgLyB2YXIoLS1jbnRybC1yZXZlcnNlLWxheW91dC1kZXZpYXRpb24sIDEpICsgKDEgLSB2YXIoLS1pcy1lZGl0b3IsIDApKSAqIDEuMjV2dyk7cGFkZGluZy1yaWdodDpjYWxjKHZhcigtLWlzLWVkaXRvciwgMCkgKiAxLjI1dncgLyB2YXIoLS1jbnRybC1yZXZlcnNlLWxheW91dC1kZXZpYXRpb24sIDEpICsgKDEgLSB2YXIoLS1pcy1lZGl0b3IsIDApKSAqIDEuMjV2dyk7Ym9yZGVyLXJhZGl1czpjYWxjKHZhcigtLWlzLWVkaXRvciwgMCkgKiAyLjM2MTExMTExMTF2dyAvIHZhcigtLWNudHJsLXJldmVyc2UtbGF5b3V0LWRldmlhdGlvbiwgMSkgKyAoMSAtIHZhcigtLWlzLWVkaXRvciwgMCkpICogMi4zNjExMTExMTExdncpfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fcGFnaW5hdGlvblZlcnRpY2FsX19fellxS3d7ZmxleC1kaXJlY3Rpb246Y29sdW1ufS5Db250cm9sU2xpZGVyLW1vZHVsZV9fcGFnaW5hdGlvbkl0ZW1fX19uVFJia3thbGw6dW5zZXQ7ZmxleC1zaHJpbms6MDtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDpjYWxjKHZhcigtLWlzLWVkaXRvciwgMCkgKiAxLjExMTExMTExMTF2dyAvIHZhcigtLWNudHJsLXJldmVyc2UtbGF5b3V0LWRldmlhdGlvbiwgMSkgKyAoMSAtIHZhcigtLWlzLWVkaXRvciwgMCkpICogMS4xMTExMTExMTExdncpO2hlaWdodDpjYWxjKHZhcigtLWlzLWVkaXRvciwgMCkgKiAxLjExMTExMTExMTF2dyAvIHZhcigtLWNudHJsLXJldmVyc2UtbGF5b3V0LWRldmlhdGlvbiwgMSkgKyAoMSAtIHZhcigtLWlzLWVkaXRvciwgMCkpICogMS4xMTExMTExMTExdncpO2N1cnNvcjpwb2ludGVyfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fcGFnaW5hdGlvbkl0ZW1fX19uVFJiazpob3ZlciAuQ29udHJvbFNsaWRlci1tb2R1bGVfX2RvdF9fX3AxUXVue2JhY2tncm91bmQtY29sb3I6dmFyKC0tcGFnaW5hdGlvbi1ob3Zlci1jb2xvcikhaW1wb3J0YW50fS5Db250cm9sU2xpZGVyLW1vZHVsZV9fZG90X19fcDFRdW57Ym9yZGVyLXJhZGl1czo1MCU7c2NhbGU6LjU7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4zcyBlYXNlLWluLW91dCx0cmFuc2Zvcm0gLjNzIGVhc2UtaW4tb3V0O3dpZHRoOmNhbGModmFyKC0taXMtZWRpdG9yLCAwKSAqIDEuMTExMTExMTExMXZ3IC8gdmFyKC0tY250cmwtcmV2ZXJzZS1sYXlvdXQtZGV2aWF0aW9uLCAxKSArICgxIC0gdmFyKC0taXMtZWRpdG9yLCAwKSkgKiAxLjExMTExMTExMTF2dyk7aGVpZ2h0OmNhbGModmFyKC0taXMtZWRpdG9yLCAwKSAqIDEuMTExMTExMTExMXZ3IC8gdmFyKC0tY250cmwtcmV2ZXJzZS1sYXlvdXQtZGV2aWF0aW9uLCAxKSArICgxIC0gdmFyKC0taXMtZWRpdG9yLCAwKSkgKiAxLjExMTExMTExMTF2dyl9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19hY3RpdmVEb3RfX19MSEZhant0cmFuc2Zvcm06c2NhbGUoMil9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19wYWdpbmF0aW9uSW5zaWRlQm90dG9tX19fUjNGV257Ym90dG9tOjA7bGVmdDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlKX0uQ29udHJvbFNsaWRlci1tb2R1bGVfX3BhZ2luYXRpb25JbnNpZGVUb3BfX19WLXFiLXtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUpO3RvcDowfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fcGFnaW5hdGlvbk91dHNpZGVCb3R0b21fX18xNHc4RHtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUpO2JvdHRvbTpjYWxjKHZhcigtLWlzLWVkaXRvciwgMCkgKiAtMi40MzA1NTU1NTU2dncgLyB2YXIoLS1jbnRybC1yZXZlcnNlLWxheW91dC1kZXZpYXRpb24sIDEpICsgKDEgLSB2YXIoLS1pcy1lZGl0b3IsIDApKSAqIC0yLjQzMDU1NTU1NTZ2dyl9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19wYWdpbmF0aW9uT3V0c2lkZVRvcF9fX1NDTHFCe2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSk7dG9wOmNhbGModmFyKC0taXMtZWRpdG9yLCAwKSAqIC0yLjQzMDU1NTU1NTZ2dyAvIHZhcigtLWNudHJsLXJldmVyc2UtbGF5b3V0LWRldmlhdGlvbiwgMSkgKyAoMSAtIHZhcigtLWlzLWVkaXRvciwgMCkpICogLTIuNDMwNTU1NTU1NnZ3KX0uQ29udHJvbFNsaWRlci1tb2R1bGVfX3BhZ2luYXRpb25JbnNpZGVMZWZ0X19feU9CUlp7dG9wOjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKTtsZWZ0OmNhbGModmFyKC0taXMtZWRpdG9yLCAwKSAqIC0yLjQzMDU1NTU1NTZ2dyAvIHZhcigtLWNudHJsLXJldmVyc2UtbGF5b3V0LWRldmlhdGlvbiwgMSkgKyAoMSAtIHZhcigtLWlzLWVkaXRvciwgMCkpICogLTIuNDMwNTU1NTU1NnZ3KX0uQ29udHJvbFNsaWRlci1tb2R1bGVfX3BhZ2luYXRpb25JbnNpZGVSaWdodF9fX1J0dDNve3RvcDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSk7cmlnaHQ6Y2FsYyh2YXIoLS1pcy1lZGl0b3IsIDApICogLTIuNDMwNTU1NTU1NnZ3IC8gdmFyKC0tY250cmwtcmV2ZXJzZS1sYXlvdXQtZGV2aWF0aW9uLCAxKSArICgxIC0gdmFyKC0taXMtZWRpdG9yLCAwKSkgKiAtMi40MzA1NTU1NTU2dncpfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fcGFnaW5hdGlvbk91dHNpZGVMZWZ0X19fbGFoYXd7dG9wOjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKTtsZWZ0OmNhbGModmFyKC0taXMtZWRpdG9yLCAwKSAqIC01LjQ4NjExMTExMTF2dyAvIHZhcigtLWNudHJsLXJldmVyc2UtbGF5b3V0LWRldmlhdGlvbiwgMSkgKyAoMSAtIHZhcigtLWlzLWVkaXRvciwgMCkpICogLTUuNDg2MTExMTExMXZ3KX0uQ29udHJvbFNsaWRlci1tb2R1bGVfX3BhZ2luYXRpb25PdXRzaWRlUmlnaHRfX19FdHVRYXt0b3A6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpO3JpZ2h0OmNhbGModmFyKC0taXMtZWRpdG9yLCAwKSAqIC01LjQ4NjExMTExMTF2dyAvIHZhcigtLWNudHJsLXJldmVyc2UtbGF5b3V0LWRldmlhdGlvbiwgMSkgKyAoMSAtIHZhcigtLWlzLWVkaXRvciwgMCkpICogLTUuNDg2MTExMTExMXZ3KX0uQ29udHJvbFNsaWRlci1tb2R1bGVfX2ltZ1dyYXBwZXJfX19VakVnQiwuQ29udHJvbFNsaWRlci1tb2R1bGVfX3dyYXBwZXJJbm5lcl9fX0RMQVdWe3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19jYXB0aW9uQmxvY2tfX19kSjYtantwb2ludGVyLWV2ZW50czpub25lO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3otaW5kZXg6MTtsZWZ0OjA7cmlnaHQ6MDtib3R0b206MH0uQ29udHJvbFNsaWRlci1tb2R1bGVfX2NhcHRpb25UZXh0V3JhcHBlcl9fX0hGbHBme3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19jYXB0aW9uVGV4dF9fX3VHQlZje3BvaW50ZXItZXZlbnRzOm5vbmU7bWF4LXdpZHRoOjEwMCU7dHJhbnNpdGlvbi1wcm9wZXJ0eTpvcGFjaXR5O3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW4tb3V0O3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3doaXRlLXNwYWNlOnByZS13cmFwO292ZXJmbG93LXdyYXA6YnJlYWstd29yZDtvcGFjaXR5OjB9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19jYXB0aW9uVGV4dF9fX3VHQlZjLkNvbnRyb2xTbGlkZXItbW9kdWxlX19hY3RpdmVfX19XWks0R3tvcGFjaXR5OjF9LkNvbnRyb2xTbGlkZXItbW9kdWxlX193aXRoUG9pbnRlckV2ZW50c19fX3QtMThNe3BvaW50ZXItZXZlbnRzOmF1dG99LkNvbnRyb2xTbGlkZXItbW9kdWxlX19hYnNvbHV0ZV9fX0t4bVlCe3Bvc2l0aW9uOmFic29sdXRlfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fdG9wTGVmdEFsaWdubWVudF9fX3pqbkdNe3RvcDowO2xlZnQ6MH0uQ29udHJvbFNsaWRlci1tb2R1bGVfX3RvcENlbnRlckFsaWdubWVudF9fX2dEMXhXe3RvcDowO2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSl9LkNvbnRyb2xTbGlkZXItbW9kdWxlX190b3BSaWdodEFsaWdubWVudF9fX05NYXBTe3RvcDowO3JpZ2h0OjB9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19taWRkbGVMZWZ0QWxpZ25tZW50X19fT25Vcll7dG9wOjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKTtsZWZ0OjB9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19taWRkbGVDZW50ZXJBbGlnbm1lbnRfX19UZGtsMHt0b3A6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKTtsZWZ0OjUwJX0uQ29udHJvbFNsaWRlci1tb2R1bGVfX21pZGRsZVJpZ2h0QWxpZ25tZW50X19fd0ViZlh7dG9wOjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKTtyaWdodDowfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fYm90dG9tTGVmdEFsaWdubWVudF9fX2NUUDIte2JvdHRvbTowO2xlZnQ6MH0uQ29udHJvbFNsaWRlci1tb2R1bGVfX2JvdHRvbUNlbnRlckFsaWdubWVudF9fX2M1NGZCe2JvdHRvbTowO2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSl9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19ib3R0b21SaWdodEFsaWdubWVudF9fX2tFd3J6e2JvdHRvbTowO3JpZ2h0OjB9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19jbGlja092ZXJsYXlfX19EWkEyOHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtjdXJzb3I6cG9pbnRlcn0uQ29udHJvbFNsaWRlci1tb2R1bGVfX2NvbnRhaW5fX19wTHlxN3tvYmplY3QtZml0OmNvbnRhaW59LkNvbnRyb2xTbGlkZXItbW9kdWxlX19jb3Zlcl9fX0tkRGF0e29iamVjdC1maXQ6Y292ZXJ9QGtleWZyYW1lcyBzcGxpZGUtbG9hZGluZ3swJXt0cmFuc2Zvcm06cm90YXRlKDApfXRve3RyYW5zZm9ybTpyb3RhdGUoMXR1cm4pfX0uc3BsaWRlX190cmFjay0tZHJhZ2dhYmxley13ZWJraXQtdG91Y2gtY2FsbG91dDpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX0uc3BsaWRlX190cmFjay0tZmFkZT4uc3BsaWRlX19saXN0Pi5zcGxpZGVfX3NsaWRle21hcmdpbjowIWltcG9ydGFudDtvcGFjaXR5OjA7ei1pbmRleDowfS5zcGxpZGVfX3RyYWNrLS1mYWRlPi5zcGxpZGVfX2xpc3Q+LnNwbGlkZV9fc2xpZGUuaXMtYWN0aXZle29wYWNpdHk6MTt6LWluZGV4OjF9LnNwbGlkZS0tcnRse2RpcmVjdGlvbjpydGx9LnNwbGlkZV9fdHJhY2stLXR0Yj4uc3BsaWRlX19saXN0e2Rpc3BsYXk6YmxvY2t9LnNwbGlkZV9fY29udGFpbmVye2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjpyZWxhdGl2ZX0uc3BsaWRlX19saXN0ey13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTpoaWRkZW47YmFja2ZhY2UtdmlzaWJpbGl0eTpoaWRkZW47ZGlzcGxheTpmbGV4O2hlaWdodDoxMDAlO21hcmdpbjowIWltcG9ydGFudDtwYWRkaW5nOjAhaW1wb3J0YW50fS5zcGxpZGUuaXMtaW5pdGlhbGl6ZWQ6bm90KC5pcy1hY3RpdmUpIC5zcGxpZGVfX2xpc3R7ZGlzcGxheTpibG9ja30uc3BsaWRlX19wYWdpbmF0aW9ue2FsaWduLWl0ZW1zOmNlbnRlcjtkaXNwbGF5OmZsZXg7ZmxleC13cmFwOndyYXA7anVzdGlmeS1jb250ZW50OmNlbnRlcjttYXJnaW46MDtwb2ludGVyLWV2ZW50czpub25lfS5zcGxpZGVfX3BhZ2luYXRpb24gbGl7ZGlzcGxheTppbmxpbmUtYmxvY2s7bGluZS1oZWlnaHQ6MTtsaXN0LXN0eWxlLXR5cGU6bm9uZTttYXJnaW46MDtwb2ludGVyLWV2ZW50czphdXRvfS5zcGxpZGU6bm90KC5pcy1vdmVyZmxvdykgLnNwbGlkZV9fcGFnaW5hdGlvbntkaXNwbGF5Om5vbmV9LnNwbGlkZV9fcHJvZ3Jlc3NfX2Jhcnt3aWR0aDowfS5zcGxpZGV7cG9zaXRpb246cmVsYXRpdmU7dmlzaWJpbGl0eTpoaWRkZW59LnNwbGlkZS5pcy1pbml0aWFsaXplZCwuc3BsaWRlLmlzLXJlbmRlcmVke3Zpc2liaWxpdHk6dmlzaWJsZX0uc3BsaWRlX19zbGlkZXstd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6aGlkZGVuO2JhY2tmYWNlLXZpc2liaWxpdHk6aGlkZGVuO2JveC1zaXppbmc6Ym9yZGVyLWJveDtmbGV4LXNocmluazowO2xpc3Qtc3R5bGUtdHlwZTpub25lIWltcG9ydGFudDttYXJnaW46MDtwb3NpdGlvbjpyZWxhdGl2ZX0uc3BsaWRlX19zbGlkZSBpbWd7dmVydGljYWwtYWxpZ246Ym90dG9tfS5zcGxpZGVfX3NwaW5uZXJ7YW5pbWF0aW9uOnNwbGlkZS1sb2FkaW5nIDFzIGxpbmVhciBpbmZpbml0ZTtib3JkZXI6MnB4IHNvbGlkICM5OTk7Ym9yZGVyLWxlZnQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyLXJhZGl1czo1MCU7Ym90dG9tOjA7Y29udGFpbjpzdHJpY3Q7ZGlzcGxheTppbmxpbmUtYmxvY2s7aGVpZ2h0OjIwcHg7bGVmdDowO21hcmdpbjphdXRvO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7dG9wOjA7d2lkdGg6MjBweH0uc3BsaWRlX19zcntjbGlwOnJlY3QoMCAwIDAgMCk7Ym9yZGVyOjA7aGVpZ2h0OjFweDttYXJnaW46LTFweDtvdmVyZmxvdzpoaWRkZW47cGFkZGluZzowO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjFweH0uc3BsaWRlX190b2dnbGUuaXMtYWN0aXZlIC5zcGxpZGVfX3RvZ2dsZV9fcGxheSwuc3BsaWRlX190b2dnbGVfX3BhdXNle2Rpc3BsYXk6bm9uZX0uc3BsaWRlX190b2dnbGUuaXMtYWN0aXZlIC5zcGxpZGVfX3RvZ2dsZV9fcGF1c2V7ZGlzcGxheTppbmxpbmV9LnNwbGlkZV9fdHJhY2t7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlO3otaW5kZXg6MH0uUmljaFRleHRSZW5kZXJlci1tb2R1bGVfX2xpbmtfX19CV2VaMntjb2xvcjppbmhlcml0O2N1cnNvcjpwb2ludGVyO3BvaW50ZXItZXZlbnRzOmF1dG87dHJhbnNpdGlvbjpjb2xvciAuMnMgZWFzZX0uUmljaFRleHRSZW5kZXJlci1tb2R1bGVfX2xpbmtfX19CV2VaMjpob3Zlcntjb2xvcjp2YXIoLS1saW5rLWhvdmVyLWNvbG9yKX0uU3ZnSW1hZ2UtbW9kdWxlX19zdmdfX19xM3hFLXt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2NvbG9yOnRyYW5zcGFyZW50O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1MCU7bGVmdDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpO2JhY2tncm91bmQtY29sb3I6dmFyKC0tZmlsbCk7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4yczstd2Via2l0LW1hc2s6dmFyKC0tc3ZnKSBuby1yZXBlYXQgY2VudGVyL2NvbnRhaW47bWFzazp2YXIoLS1zdmcpIG5vLXJlcGVhdCBjZW50ZXIvY29udGFpbn0uU3ZnSW1hZ2UtbW9kdWxlX19zdmdfX19xM3hFLTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWhvdmVyLWZpbGwpfS5TdmdJbWFnZS1tb2R1bGVfX2ltZ19fX1ZzVG0te3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7b2JqZWN0LWZpdDpjb250YWlufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrL2Rpc3Qvc2RrLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQSx1Q0FBdUMsaUJBQWlCLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxzQ0FBc0MsVUFBVSxDQUFDLFdBQVcsQ0FBQywyQ0FBMkMsWUFBWSxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLG9DQUFvQyxDQUFDLDBDQUEwQyxVQUFVLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FBQywyQ0FBMkMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxxQ0FBcUMsaUJBQWlCLENBQUMsWUFBWSxDQUFDLGtCQUFrQixDQUFDLHNCQUFzQixDQUFDLFdBQVcsQ0FBQyw0QkFBNEIsQ0FBQyxPQUFPLENBQUMseUlBQXlJLENBQUMsU0FBUyxDQUFDLDhCQUE4QixDQUFDLFNBQVMsQ0FBQyx3SUFBd0ksQ0FBQyx5SUFBeUksQ0FBQyxpRkFBaUYsUUFBUSxDQUFDLHdJQUF3SSxDQUFDLDhCQUE4QixDQUFDLHlDQUF5QyxVQUFVLENBQUMsMElBQTBJLENBQUMsNkJBQTZCLENBQUMscUZBQXFGLFFBQVEsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLDJJQUEySSxDQUFDLDZCQUE2QixDQUFDLDBDQUEwQyxTQUFTLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsOEZBQThGLHVDQUF1QyxDQUFDLHdDQUF3QyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLDhCQUE4QixDQUFDLHlDQUF5QyxVQUFVLENBQUMsV0FBVyxDQUFDLDhDQUE4QyxnQ0FBZ0MsQ0FBQyxzQ0FBc0MseUNBQXlDLENBQUMsa0ZBQWtGLHlDQUF5QyxDQUFDLDBDQUEwQyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsaUJBQWlCLENBQUMsK0NBQStDLFlBQVksQ0FBQyxzSUFBc0ksQ0FBQyw0SUFBNEksQ0FBQywrSUFBK0ksQ0FB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QUFDLDJDQUEyQyxrQkFBa0IsQ0FBQyxlQUFlLGtDQUEwQixDQUExQiwwQkFBMEIsQ0FBQyxxQkFBcUIsQ0FBcUIsYUFBYSxDQUFDLDhCQUE4QixDQUFDLFFBQVEsQ0FBQyxpQkFBaUIsQ0FBQyxtQkFBbUIscUJBQXFCLENBQUMsaUJBQWlCLDJDQUEyQyxDQUFDLHFCQUFxQixDQUFDLDZCQUE2QixDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsb0JBQW9CLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsWUFBWSxrQkFBa0IsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyx1RUFBdUUsWUFBWSxDQUFDLGlEQUFpRCxjQUFjLENBQUMsZUFBZSxlQUFlLENBQUMsaUJBQWlCLENBQUMsU0FBUyxDQUFDLHVDQUF1QyxhQUFhLENBQUMsY0FBYyxDQUFDLG1CQUFtQixDQUFDLHlCQUF5QixDQUFDLDZDQUE2Qyw2QkFBNkIsQ0FBQyw4QkFBOEIsVUFBVSxDQUFDLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQyxvQkFBb0IsQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLDhCQUE4QixDQUFDLDRCQUE0QixDQUFDLCtCQUErQixDQUFDLGdEQUFnRCxDQUFDLHdDQUF3QyxDQUFDLG9DQUFvQyxrQ0FBa0MsQ0FBQyw4QkFBOEIsVUFBVSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0JcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLkNvbnRyb2xTbGlkZXItbW9kdWxlX193cmFwcGVyX19fc0hFa2R7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0uQ29udHJvbFNsaWRlci1tb2R1bGVfX3NsaWRlcl9fX1IzaTkte3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19zbGlkZXJJdGVtc19fXzFNZ1BMe2Rpc3BsYXk6ZmxleDtvdmVyZmxvdzpoaWRkZW47d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuM3MgZWFzZS1pbi1vdXR9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19zbGlkZXJJdGVtX19fUVFTa1J7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtkaXNwbGF5OmZsZXg7cG9zaXRpb246cmVsYXRpdmV9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19zbGlkZXJJbWFnZV9fXzloUmwte3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7b2JqZWN0LWZpdDpjb3Zlcn0uQ29udHJvbFNsaWRlci1tb2R1bGVfX2Fycm93X19fMDVnaFl7cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2JvcmRlcjpub25lO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7dG9wOjUwJTtsZWZ0OmNhbGModmFyKC0taXMtZWRpdG9yLCAwKSAqIC0xLjM4ODg4ODg4ODl2dyAvIHZhcigtLWNudHJsLXJldmVyc2UtbGF5b3V0LWRldmlhdGlvbiwgMSkgKyAoMSAtIHZhcigtLWlzLWVkaXRvciwgMCkpICogLTEuMzg4ODg4ODg4OXZ3KTt6LWluZGV4OjE7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpO3BhZGRpbmc6MDt3aWR0aDpjYWxjKHZhcigtLWlzLWVkaXRvciwgMCkgKiAyLjA4MzMzMzMzMzN2dyAvIHZhcigtLWNudHJsLXJldmVyc2UtbGF5b3V0LWRldmlhdGlvbiwgMSkgKyAoMSAtIHZhcigtLWlzLWVkaXRvciwgMCkpICogMi4wODMzMzMzMzMzdncpO2hlaWdodDpjYWxjKHZhcigtLWlzLWVkaXRvciwgMCkgKiAyLjA4MzMzMzMzMzN2dyAvIHZhcigtLWNudHJsLXJldmVyc2UtbGF5b3V0LWRldmlhdGlvbiwgMSkgKyAoMSAtIHZhcigtLWlzLWVkaXRvciwgMCkpICogMi4wODMzMzMzMzMzdncpfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fYXJyb3dfX18wNWdoWS5Db250cm9sU2xpZGVyLW1vZHVsZV9fYXJyb3dWZXJ0aWNhbF9fX3RCZlZOe2xlZnQ6NTAlO3RvcDpjYWxjKHZhcigtLWlzLWVkaXRvciwgMCkgKiAtMS4zODg4ODg4ODg5dncgLyB2YXIoLS1jbnRybC1yZXZlcnNlLWxheW91dC1kZXZpYXRpb24sIDEpICsgKDEgLSB2YXIoLS1pcy1lZGl0b3IsIDApKSAqIC0xLjM4ODg4ODg4ODl2dyk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fbmV4dEFycm93X19fLTMwWWN7bGVmdDp1bnNldDtyaWdodDpjYWxjKHZhcigtLWlzLWVkaXRvciwgMCkgKiAtMS4zODg4ODg4ODg5dncgLyB2YXIoLS1jbnRybC1yZXZlcnNlLWxheW91dC1kZXZpYXRpb24sIDEpICsgKDEgLSB2YXIoLS1pcy1lZGl0b3IsIDApKSAqIC0xLjM4ODg4ODg4ODl2dyk7dHJhbnNmb3JtOnRyYW5zbGF0ZSg1MCUsLTUwJSl9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19uZXh0QXJyb3dfX18tMzBZYy5Db250cm9sU2xpZGVyLW1vZHVsZV9fYXJyb3dWZXJ0aWNhbF9fX3RCZlZOe2xlZnQ6NTAlO3JpZ2h0OnVuc2V0O3RvcDp1bnNldDtib3R0b206Y2FsYyh2YXIoLS1pcy1lZGl0b3IsIDApICogLTEuMzg4ODg4ODg4OXZ3IC8gdmFyKC0tY250cmwtcmV2ZXJzZS1sYXlvdXQtZGV2aWF0aW9uLCAxKSArICgxIC0gdmFyKC0taXMtZWRpdG9yLCAwKSkgKiAtMS4zODg4ODg4ODg5dncpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSw1MCUpfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fYXJyb3dJbm5lcl9fX2FFcmEze2FsbDp1bnNldDtjdXJzb3I6cG9pbnRlcjt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fYXJyb3dJbm5lcl9fX2FFcmEzOmhvdmVyIC5Db250cm9sU2xpZGVyLW1vZHVsZV9fYXJyb3dJY29uX19fUzR6dEYgcGF0aHtmaWxsOnZhcigtLWFycm93LWhvdmVyLWNvbG9yKSFpbXBvcnRhbnR9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19hcnJvd0ltZ19fXzJkd0pXe3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1MCU7bGVmdDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fYXJyb3dJY29uX19fUzR6dEZ7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0uQ29udHJvbFNsaWRlci1tb2R1bGVfX2Fycm93SWNvbl9fX1M0enRGIHBhdGh7dHJhbnNpdGlvbjpmaWxsIC4xNXMgZWFzZS1pbi1vdXR9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19taXJyb3JfX19icmQ2VXt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSkgc2NhbGVYKC0xKX0uQ29udHJvbFNsaWRlci1tb2R1bGVfX2Fycm93VmVydGljYWxfX190QmZWTi5Db250cm9sU2xpZGVyLW1vZHVsZV9fbWlycm9yX19fYnJkNlV7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpIHNjYWxlWSgtMSl9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19wYWdpbmF0aW9uX19fYmljTEZ7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxO2JvcmRlci1yYWRpdXM6NTAlfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fcGFnaW5hdGlvbklubmVyX19fYlQtUC17ZGlzcGxheTpmbGV4O2dhcDpjYWxjKHZhcigtLWlzLWVkaXRvciwgMCkgKiAxLjExMTExMTExMTF2dyAvIHZhcigtLWNudHJsLXJldmVyc2UtbGF5b3V0LWRldmlhdGlvbiwgMSkgKyAoMSAtIHZhcigtLWlzLWVkaXRvciwgMCkpICogMS4xMTExMTExMTExdncpO3BhZGRpbmctdG9wOmNhbGModmFyKC0taXMtZWRpdG9yLCAwKSAqIC42OTQ0NDQ0NDQ0dncgLyB2YXIoLS1jbnRybC1yZXZlcnNlLWxheW91dC1kZXZpYXRpb24sIDEpICsgKDEgLSB2YXIoLS1pcy1lZGl0b3IsIDApKSAqIC42OTQ0NDQ0NDQ0dncpO3BhZGRpbmctYm90dG9tOmNhbGModmFyKC0taXMtZWRpdG9yLCAwKSAqIC42OTQ0NDQ0NDQ0dncgLyB2YXIoLS1jbnRybC1yZXZlcnNlLWxheW91dC1kZXZpYXRpb24sIDEpICsgKDEgLSB2YXIoLS1pcy1lZGl0b3IsIDApKSAqIC42OTQ0NDQ0NDQ0dncpO3BhZGRpbmctbGVmdDpjYWxjKHZhcigtLWlzLWVkaXRvciwgMCkgKiAxLjI1dncgLyB2YXIoLS1jbnRybC1yZXZlcnNlLWxheW91dC1kZXZpYXRpb24sIDEpICsgKDEgLSB2YXIoLS1pcy1lZGl0b3IsIDApKSAqIDEuMjV2dyk7cGFkZGluZy1yaWdodDpjYWxjKHZhcigtLWlzLWVkaXRvciwgMCkgKiAxLjI1dncgLyB2YXIoLS1jbnRybC1yZXZlcnNlLWxheW91dC1kZXZpYXRpb24sIDEpICsgKDEgLSB2YXIoLS1pcy1lZGl0b3IsIDApKSAqIDEuMjV2dyk7Ym9yZGVyLXJhZGl1czpjYWxjKHZhcigtLWlzLWVkaXRvciwgMCkgKiAyLjM2MTExMTExMTF2dyAvIHZhcigtLWNudHJsLXJldmVyc2UtbGF5b3V0LWRldmlhdGlvbiwgMSkgKyAoMSAtIHZhcigtLWlzLWVkaXRvciwgMCkpICogMi4zNjExMTExMTExdncpfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fcGFnaW5hdGlvblZlcnRpY2FsX19fellxS3d7ZmxleC1kaXJlY3Rpb246Y29sdW1ufS5Db250cm9sU2xpZGVyLW1vZHVsZV9fcGFnaW5hdGlvbkl0ZW1fX19uVFJia3thbGw6dW5zZXQ7ZmxleC1zaHJpbms6MDtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDpjYWxjKHZhcigtLWlzLWVkaXRvciwgMCkgKiAxLjExMTExMTExMTF2dyAvIHZhcigtLWNudHJsLXJldmVyc2UtbGF5b3V0LWRldmlhdGlvbiwgMSkgKyAoMSAtIHZhcigtLWlzLWVkaXRvciwgMCkpICogMS4xMTExMTExMTExdncpO2hlaWdodDpjYWxjKHZhcigtLWlzLWVkaXRvciwgMCkgKiAxLjExMTExMTExMTF2dyAvIHZhcigtLWNudHJsLXJldmVyc2UtbGF5b3V0LWRldmlhdGlvbiwgMSkgKyAoMSAtIHZhcigtLWlzLWVkaXRvciwgMCkpICogMS4xMTExMTExMTExdncpO2N1cnNvcjpwb2ludGVyfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fcGFnaW5hdGlvbkl0ZW1fX19uVFJiazpob3ZlciAuQ29udHJvbFNsaWRlci1tb2R1bGVfX2RvdF9fX3AxUXVue2JhY2tncm91bmQtY29sb3I6dmFyKC0tcGFnaW5hdGlvbi1ob3Zlci1jb2xvcikhaW1wb3J0YW50fS5Db250cm9sU2xpZGVyLW1vZHVsZV9fZG90X19fcDFRdW57Ym9yZGVyLXJhZGl1czo1MCU7c2NhbGU6LjU7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4zcyBlYXNlLWluLW91dCx0cmFuc2Zvcm0gLjNzIGVhc2UtaW4tb3V0O3dpZHRoOmNhbGModmFyKC0taXMtZWRpdG9yLCAwKSAqIDEuMTExMTExMTExMXZ3IC8gdmFyKC0tY250cmwtcmV2ZXJzZS1sYXlvdXQtZGV2aWF0aW9uLCAxKSArICgxIC0gdmFyKC0taXMtZWRpdG9yLCAwKSkgKiAxLjExMTExMTExMTF2dyk7aGVpZ2h0OmNhbGModmFyKC0taXMtZWRpdG9yLCAwKSAqIDEuMTExMTExMTExMXZ3IC8gdmFyKC0tY250cmwtcmV2ZXJzZS1sYXlvdXQtZGV2aWF0aW9uLCAxKSArICgxIC0gdmFyKC0taXMtZWRpdG9yLCAwKSkgKiAxLjExMTExMTExMTF2dyl9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19hY3RpdmVEb3RfX19MSEZhant0cmFuc2Zvcm06c2NhbGUoMil9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19wYWdpbmF0aW9uSW5zaWRlQm90dG9tX19fUjNGV257Ym90dG9tOjA7bGVmdDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlKX0uQ29udHJvbFNsaWRlci1tb2R1bGVfX3BhZ2luYXRpb25JbnNpZGVUb3BfX19WLXFiLXtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUpO3RvcDowfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fcGFnaW5hdGlvbk91dHNpZGVCb3R0b21fX18xNHc4RHtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUpO2JvdHRvbTpjYWxjKHZhcigtLWlzLWVkaXRvciwgMCkgKiAtMi40MzA1NTU1NTU2dncgLyB2YXIoLS1jbnRybC1yZXZlcnNlLWxheW91dC1kZXZpYXRpb24sIDEpICsgKDEgLSB2YXIoLS1pcy1lZGl0b3IsIDApKSAqIC0yLjQzMDU1NTU1NTZ2dyl9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19wYWdpbmF0aW9uT3V0c2lkZVRvcF9fX1NDTHFCe2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSk7dG9wOmNhbGModmFyKC0taXMtZWRpdG9yLCAwKSAqIC0yLjQzMDU1NTU1NTZ2dyAvIHZhcigtLWNudHJsLXJldmVyc2UtbGF5b3V0LWRldmlhdGlvbiwgMSkgKyAoMSAtIHZhcigtLWlzLWVkaXRvciwgMCkpICogLTIuNDMwNTU1NTU1NnZ3KX0uQ29udHJvbFNsaWRlci1tb2R1bGVfX3BhZ2luYXRpb25JbnNpZGVMZWZ0X19feU9CUlp7dG9wOjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKTtsZWZ0OmNhbGModmFyKC0taXMtZWRpdG9yLCAwKSAqIC0yLjQzMDU1NTU1NTZ2dyAvIHZhcigtLWNudHJsLXJldmVyc2UtbGF5b3V0LWRldmlhdGlvbiwgMSkgKyAoMSAtIHZhcigtLWlzLWVkaXRvciwgMCkpICogLTIuNDMwNTU1NTU1NnZ3KX0uQ29udHJvbFNsaWRlci1tb2R1bGVfX3BhZ2luYXRpb25JbnNpZGVSaWdodF9fX1J0dDNve3RvcDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSk7cmlnaHQ6Y2FsYyh2YXIoLS1pcy1lZGl0b3IsIDApICogLTIuNDMwNTU1NTU1NnZ3IC8gdmFyKC0tY250cmwtcmV2ZXJzZS1sYXlvdXQtZGV2aWF0aW9uLCAxKSArICgxIC0gdmFyKC0taXMtZWRpdG9yLCAwKSkgKiAtMi40MzA1NTU1NTU2dncpfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fcGFnaW5hdGlvbk91dHNpZGVMZWZ0X19fbGFoYXd7dG9wOjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKTtsZWZ0OmNhbGModmFyKC0taXMtZWRpdG9yLCAwKSAqIC01LjQ4NjExMTExMTF2dyAvIHZhcigtLWNudHJsLXJldmVyc2UtbGF5b3V0LWRldmlhdGlvbiwgMSkgKyAoMSAtIHZhcigtLWlzLWVkaXRvciwgMCkpICogLTUuNDg2MTExMTExMXZ3KX0uQ29udHJvbFNsaWRlci1tb2R1bGVfX3BhZ2luYXRpb25PdXRzaWRlUmlnaHRfX19FdHVRYXt0b3A6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpO3JpZ2h0OmNhbGModmFyKC0taXMtZWRpdG9yLCAwKSAqIC01LjQ4NjExMTExMTF2dyAvIHZhcigtLWNudHJsLXJldmVyc2UtbGF5b3V0LWRldmlhdGlvbiwgMSkgKyAoMSAtIHZhcigtLWlzLWVkaXRvciwgMCkpICogLTUuNDg2MTExMTExMXZ3KX0uQ29udHJvbFNsaWRlci1tb2R1bGVfX2ltZ1dyYXBwZXJfX19VakVnQiwuQ29udHJvbFNsaWRlci1tb2R1bGVfX3dyYXBwZXJJbm5lcl9fX0RMQVdWe3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19jYXB0aW9uQmxvY2tfX19kSjYtantwb2ludGVyLWV2ZW50czpub25lO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3otaW5kZXg6MTtsZWZ0OjA7cmlnaHQ6MDtib3R0b206MH0uQ29udHJvbFNsaWRlci1tb2R1bGVfX2NhcHRpb25UZXh0V3JhcHBlcl9fX0hGbHBme3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19jYXB0aW9uVGV4dF9fX3VHQlZje3BvaW50ZXItZXZlbnRzOm5vbmU7bWF4LXdpZHRoOjEwMCU7dHJhbnNpdGlvbi1wcm9wZXJ0eTpvcGFjaXR5O3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW4tb3V0O3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3doaXRlLXNwYWNlOnByZS13cmFwO292ZXJmbG93LXdyYXA6YnJlYWstd29yZDtvcGFjaXR5OjB9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19jYXB0aW9uVGV4dF9fX3VHQlZjLkNvbnRyb2xTbGlkZXItbW9kdWxlX19hY3RpdmVfX19XWks0R3tvcGFjaXR5OjF9LkNvbnRyb2xTbGlkZXItbW9kdWxlX193aXRoUG9pbnRlckV2ZW50c19fX3QtMThNe3BvaW50ZXItZXZlbnRzOmF1dG99LkNvbnRyb2xTbGlkZXItbW9kdWxlX19hYnNvbHV0ZV9fX0t4bVlCe3Bvc2l0aW9uOmFic29sdXRlfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fdG9wTGVmdEFsaWdubWVudF9fX3pqbkdNe3RvcDowO2xlZnQ6MH0uQ29udHJvbFNsaWRlci1tb2R1bGVfX3RvcENlbnRlckFsaWdubWVudF9fX2dEMXhXe3RvcDowO2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSl9LkNvbnRyb2xTbGlkZXItbW9kdWxlX190b3BSaWdodEFsaWdubWVudF9fX05NYXBTe3RvcDowO3JpZ2h0OjB9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19taWRkbGVMZWZ0QWxpZ25tZW50X19fT25Vcll7dG9wOjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKTtsZWZ0OjB9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19taWRkbGVDZW50ZXJBbGlnbm1lbnRfX19UZGtsMHt0b3A6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKTtsZWZ0OjUwJX0uQ29udHJvbFNsaWRlci1tb2R1bGVfX21pZGRsZVJpZ2h0QWxpZ25tZW50X19fd0ViZlh7dG9wOjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKTtyaWdodDowfS5Db250cm9sU2xpZGVyLW1vZHVsZV9fYm90dG9tTGVmdEFsaWdubWVudF9fX2NUUDIte2JvdHRvbTowO2xlZnQ6MH0uQ29udHJvbFNsaWRlci1tb2R1bGVfX2JvdHRvbUNlbnRlckFsaWdubWVudF9fX2M1NGZCe2JvdHRvbTowO2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSl9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19ib3R0b21SaWdodEFsaWdubWVudF9fX2tFd3J6e2JvdHRvbTowO3JpZ2h0OjB9LkNvbnRyb2xTbGlkZXItbW9kdWxlX19jbGlja092ZXJsYXlfX19EWkEyOHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtjdXJzb3I6cG9pbnRlcn0uQ29udHJvbFNsaWRlci1tb2R1bGVfX2NvbnRhaW5fX19wTHlxN3tvYmplY3QtZml0OmNvbnRhaW59LkNvbnRyb2xTbGlkZXItbW9kdWxlX19jb3Zlcl9fX0tkRGF0e29iamVjdC1maXQ6Y292ZXJ9QGtleWZyYW1lcyBzcGxpZGUtbG9hZGluZ3swJXt0cmFuc2Zvcm06cm90YXRlKDApfXRve3RyYW5zZm9ybTpyb3RhdGUoMXR1cm4pfX0uc3BsaWRlX190cmFjay0tZHJhZ2dhYmxley13ZWJraXQtdG91Y2gtY2FsbG91dDpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5zcGxpZGVfX3RyYWNrLS1mYWRlPi5zcGxpZGVfX2xpc3Q+LnNwbGlkZV9fc2xpZGV7bWFyZ2luOjAhaW1wb3J0YW50O29wYWNpdHk6MDt6LWluZGV4OjB9LnNwbGlkZV9fdHJhY2stLWZhZGU+LnNwbGlkZV9fbGlzdD4uc3BsaWRlX19zbGlkZS5pcy1hY3RpdmV7b3BhY2l0eToxO3otaW5kZXg6MX0uc3BsaWRlLS1ydGx7ZGlyZWN0aW9uOnJ0bH0uc3BsaWRlX190cmFjay0tdHRiPi5zcGxpZGVfX2xpc3R7ZGlzcGxheTpibG9ja30uc3BsaWRlX19jb250YWluZXJ7Ym94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOnJlbGF0aXZlfS5zcGxpZGVfX2xpc3R7YmFja2ZhY2UtdmlzaWJpbGl0eTpoaWRkZW47ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7aGVpZ2h0OjEwMCU7bWFyZ2luOjAhaW1wb3J0YW50O3BhZGRpbmc6MCFpbXBvcnRhbnR9LnNwbGlkZS5pcy1pbml0aWFsaXplZDpub3QoLmlzLWFjdGl2ZSkgLnNwbGlkZV9fbGlzdHtkaXNwbGF5OmJsb2NrfS5zcGxpZGVfX3BhZ2luYXRpb257LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC13cmFwOndyYXA7ZmxleC13cmFwOndyYXA7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjttYXJnaW46MDtwb2ludGVyLWV2ZW50czpub25lfS5zcGxpZGVfX3BhZ2luYXRpb24gbGl7ZGlzcGxheTppbmxpbmUtYmxvY2s7bGluZS1oZWlnaHQ6MTtsaXN0LXN0eWxlLXR5cGU6bm9uZTttYXJnaW46MDtwb2ludGVyLWV2ZW50czphdXRvfS5zcGxpZGU6bm90KC5pcy1vdmVyZmxvdykgLnNwbGlkZV9fcGFnaW5hdGlvbntkaXNwbGF5Om5vbmV9LnNwbGlkZV9fcHJvZ3Jlc3NfX2Jhcnt3aWR0aDowfS5zcGxpZGV7cG9zaXRpb246cmVsYXRpdmU7dmlzaWJpbGl0eTpoaWRkZW59LnNwbGlkZS5pcy1pbml0aWFsaXplZCwuc3BsaWRlLmlzLXJlbmRlcmVke3Zpc2liaWxpdHk6dmlzaWJsZX0uc3BsaWRlX19zbGlkZXtiYWNrZmFjZS12aXNpYmlsaXR5OmhpZGRlbjtib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1zLWZsZXgtbmVnYXRpdmU6MDtmbGV4LXNocmluazowO2xpc3Qtc3R5bGUtdHlwZTpub25lIWltcG9ydGFudDttYXJnaW46MDtwb3NpdGlvbjpyZWxhdGl2ZX0uc3BsaWRlX19zbGlkZSBpbWd7dmVydGljYWwtYWxpZ246Ym90dG9tfS5zcGxpZGVfX3NwaW5uZXJ7YW5pbWF0aW9uOnNwbGlkZS1sb2FkaW5nIDFzIGxpbmVhciBpbmZpbml0ZTtib3JkZXI6MnB4IHNvbGlkICM5OTk7Ym9yZGVyLWxlZnQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyLXJhZGl1czo1MCU7Ym90dG9tOjA7Y29udGFpbjpzdHJpY3Q7ZGlzcGxheTppbmxpbmUtYmxvY2s7aGVpZ2h0OjIwcHg7bGVmdDowO21hcmdpbjphdXRvO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7dG9wOjA7d2lkdGg6MjBweH0uc3BsaWRlX19zcntjbGlwOnJlY3QoMCAwIDAgMCk7Ym9yZGVyOjA7aGVpZ2h0OjFweDttYXJnaW46LTFweDtvdmVyZmxvdzpoaWRkZW47cGFkZGluZzowO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjFweH0uc3BsaWRlX190b2dnbGUuaXMtYWN0aXZlIC5zcGxpZGVfX3RvZ2dsZV9fcGxheSwuc3BsaWRlX190b2dnbGVfX3BhdXNle2Rpc3BsYXk6bm9uZX0uc3BsaWRlX190b2dnbGUuaXMtYWN0aXZlIC5zcGxpZGVfX3RvZ2dsZV9fcGF1c2V7ZGlzcGxheTppbmxpbmV9LnNwbGlkZV9fdHJhY2t7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlO3otaW5kZXg6MH0uUmljaFRleHRSZW5kZXJlci1tb2R1bGVfX2xpbmtfX19CV2VaMntjb2xvcjppbmhlcml0O2N1cnNvcjpwb2ludGVyO3BvaW50ZXItZXZlbnRzOmF1dG87dHJhbnNpdGlvbjpjb2xvciAuMnMgZWFzZX0uUmljaFRleHRSZW5kZXJlci1tb2R1bGVfX2xpbmtfX19CV2VaMjpob3Zlcntjb2xvcjp2YXIoLS1saW5rLWhvdmVyLWNvbG9yKX0uU3ZnSW1hZ2UtbW9kdWxlX19zdmdfX19xM3hFLXt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2NvbG9yOnRyYW5zcGFyZW50O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1MCU7bGVmdDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpO2JhY2tncm91bmQtY29sb3I6dmFyKC0tZmlsbCk7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4yczstd2Via2l0LW1hc2s6dmFyKC0tc3ZnKSBuby1yZXBlYXQgY2VudGVyL2NvbnRhaW47bWFzazp2YXIoLS1zdmcpIG5vLXJlcGVhdCBjZW50ZXIvY29udGFpbn0uU3ZnSW1hZ2UtbW9kdWxlX19zdmdfX19xM3hFLTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWhvdmVyLWZpbGwpfS5TdmdJbWFnZS1tb2R1bGVfX2ltZ19fX1ZzVG0te3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7b2JqZWN0LWZpdDpjb250YWlufVxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[6].oneOf[12].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[6].oneOf[12].use[2]!./node_modules/@cntrl-site/sdk/dist/sdk.css\n"));

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[6].oneOf[14].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[6].oneOf[14].use[2]!./styles/reset.css":
/*!********************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[6].oneOf[14].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[6].oneOf[14].use[2]!./styles/reset.css ***!
  \********************************************************************************************************************************************************************************************************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/next/dist/build/webpack/loaders/css-loader/src/runtime/api.js */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/runtime/api.js\");\n/* harmony import */ var _node_modules_next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/* Reset basique */\\n* {\\n  margin: 0;\\n  padding: 0;\\n  box-sizing: border-box;\\n}\\n\\nbody {\\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\\n  line-height: 1.6;\\n  color: #333;\\n}\\n\\n/* Styles pour l'effet progressive blur */\\n.media {\\n  position: relative;\\n}\\n\\n.media img {\\n  width: 100%;\\n  visibility: hidden;\\n} \", \"\",{\"version\":3,\"sources\":[\"webpack://styles/reset.css\"],\"names\":[],\"mappings\":\"AAAA,kBAAkB;AAClB;EACE,SAAS;EACT,UAAU;EACV,sBAAsB;AACxB;;AAEA;EACE,gFAAgF;EAChF,gBAAgB;EAChB,WAAW;AACb;;AAEA,yCAAyC;AACzC;EACE,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,kBAAkB;AACpB\",\"sourcesContent\":[\"/* Reset basique */\\n* {\\n  margin: 0;\\n  padding: 0;\\n  box-sizing: border-box;\\n}\\n\\nbody {\\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\\n  line-height: 1.6;\\n  color: #333;\\n}\\n\\n/* Styles pour l'effet progressive blur */\\n.media {\\n  position: relative;\\n}\\n\\n.media img {\\n  width: 100%;\\n  visibility: hidden;\\n} \"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1s2XS5vbmVPZlsxNF0udXNlWzFdIS4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzZdLm9uZU9mWzE0XS51c2VbMl0hLi9zdHlsZXMvcmVzZXQuY3NzIiwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ3dIO0FBQ3hILDhCQUE4QixrSEFBMkI7QUFDekQ7QUFDQSxrRUFBa0UsY0FBYyxlQUFlLDJCQUEyQixHQUFHLFVBQVUscUZBQXFGLHFCQUFxQixnQkFBZ0IsR0FBRyx3REFBd0QsdUJBQXVCLEdBQUcsZ0JBQWdCLGdCQUFnQix1QkFBdUIsSUFBSSxPQUFPLHdGQUF3RixNQUFNLFVBQVUsVUFBVSxZQUFZLE9BQU8sS0FBSyxZQUFZLGFBQWEsV0FBVyxNQUFNLFlBQVksTUFBTSxZQUFZLE9BQU8sS0FBSyxVQUFVLFlBQVksa0RBQWtELGNBQWMsZUFBZSwyQkFBMkIsR0FBRyxVQUFVLHFGQUFxRixxQkFBcUIsZ0JBQWdCLEdBQUcsd0RBQXdELHVCQUF1QixHQUFHLGdCQUFnQixnQkFBZ0IsdUJBQXVCLElBQUksbUJBQW1CO0FBQ2hpQztBQUNBLCtEQUFlLHVCQUF1QixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3N0eWxlcy9yZXNldC5jc3M/MzQ3MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKHRydWUpO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiLyogUmVzZXQgYmFzaXF1ZSAqL1xcbioge1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcblxcbmJvZHkge1xcbiAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgJ1NlZ29lIFVJJywgJ1JvYm90bycsIHNhbnMtc2VyaWY7XFxuICBsaW5lLWhlaWdodDogMS42O1xcbiAgY29sb3I6ICMzMzM7XFxufVxcblxcbi8qIFN0eWxlcyBwb3VyIGwnZWZmZXQgcHJvZ3Jlc3NpdmUgYmx1ciAqL1xcbi5tZWRpYSB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbi5tZWRpYSBpbWcge1xcbiAgd2lkdGg6IDEwMCU7XFxuICB2aXNpYmlsaXR5OiBoaWRkZW47XFxufSBcIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vc3R5bGVzL3Jlc2V0LmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQSxrQkFBa0I7QUFDbEI7RUFDRSxTQUFTO0VBQ1QsVUFBVTtFQUNWLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLGdGQUFnRjtFQUNoRixnQkFBZ0I7RUFDaEIsV0FBVztBQUNiOztBQUVBLHlDQUF5QztBQUN6QztFQUNFLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxrQkFBa0I7QUFDcEJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLyogUmVzZXQgYmFzaXF1ZSAqL1xcbioge1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcblxcbmJvZHkge1xcbiAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgJ1NlZ29lIFVJJywgJ1JvYm90bycsIHNhbnMtc2VyaWY7XFxuICBsaW5lLWhlaWdodDogMS42O1xcbiAgY29sb3I6ICMzMzM7XFxufVxcblxcbi8qIFN0eWxlcyBwb3VyIGwnZWZmZXQgcHJvZ3Jlc3NpdmUgYmx1ciAqL1xcbi5tZWRpYSB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbi5tZWRpYSBpbWcge1xcbiAgd2lkdGg6IDEwMCU7XFxuICB2aXNpYmlsaXR5OiBoaWRkZW47XFxufSBcIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[6].oneOf[14].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[6].oneOf[14].use[2]!./styles/reset.css\n"));

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/css-loader/src/runtime/api.js":
/*!************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/css-loader/src/runtime/api.js ***!
  \************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/ // css base code, injected by the css-loader\n// eslint-disable-next-line func-names\n\nmodule.exports = function(useSourceMap) {\n    var list = [] // return the list of modules as css string\n    ;\n    list.toString = function toString() {\n        return this.map(function(item) {\n            // eslint-disable-next-line @typescript-eslint/no-use-before-define\n            var content = cssWithMappingToString(item, useSourceMap);\n            if (item[2]) {\n                return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n            }\n            return content;\n        }).join(\"\");\n    } // import a list of modules into the list\n    ;\n    // eslint-disable-next-line func-names\n    // @ts-expect-error TODO: fix type\n    list.i = function(modules, mediaQuery, dedupe) {\n        if (typeof modules === \"string\") {\n            // eslint-disable-next-line no-param-reassign\n            modules = [\n                [\n                    null,\n                    modules,\n                    \"\"\n                ]\n            ];\n        }\n        var alreadyImportedModules = {};\n        if (dedupe) {\n            for(var i = 0; i < this.length; i++){\n                // eslint-disable-next-line prefer-destructuring\n                var id = this[i][0];\n                if (id != null) {\n                    alreadyImportedModules[id] = true;\n                }\n            }\n        }\n        for(var _i = 0; _i < modules.length; _i++){\n            var item = [].concat(modules[_i]);\n            if (dedupe && alreadyImportedModules[item[0]]) {\n                continue;\n            }\n            if (mediaQuery) {\n                if (!item[2]) {\n                    item[2] = mediaQuery;\n                } else {\n                    item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n                }\n            }\n            list.push(item);\n        }\n    };\n    return list;\n};\nfunction cssWithMappingToString(item, useSourceMap) {\n    var content = item[1] || \"\" // eslint-disable-next-line prefer-destructuring\n    ;\n    var cssMapping = item[3];\n    if (!cssMapping) {\n        return content;\n    }\n    if (useSourceMap && typeof btoa === \"function\") {\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        var sourceMapping = toComment(cssMapping);\n        var sourceURLs = cssMapping.sources.map(function(source) {\n            return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n        });\n        return [\n            content\n        ].concat(sourceURLs).concat([\n            sourceMapping\n        ]).join(\"\\n\");\n    }\n    return [\n        content\n    ].join(\"\\n\");\n} // Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n    // eslint-disable-next-line no-undef\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    return \"/*# \".concat(data, \" */\");\n}\n\n//# sourceMappingURL=api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9ydW50aW1lL2FwaS5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELHFCQUFxQjtBQUN6RTtBQUNBO0FBQ0EsU0FBUztBQUNULE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixpQkFBaUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IscUJBQXFCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxjQUFjO0FBQ3JFO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvY3NzLWxvYWRlci9zcmMvcnVudGltZS9hcGkuanM/Y2E0ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qLyAvLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1c2VTb3VyY2VNYXApIHtcbiAgICB2YXIgbGlzdCA9IFtdIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgICA7XG4gICAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG4gICAgICAgICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgICAgIH0pLmpvaW4oXCJcIik7XG4gICAgfSAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAgIDtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVE9ETzogZml4IHR5cGVcbiAgICBsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5LCBkZWR1cGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgICAgIG1vZHVsZXMgPSBbXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVzLFxuICAgICAgICAgICAgICAgICAgICBcIlwiXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuICAgICAgICBpZiAoZGVkdXBlKSB7XG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgICAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcbiAgICAgICAgICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvcih2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKXtcbiAgICAgICAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2ldKTtcbiAgICAgICAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbVsyXSA9IFwiXCIuY29uY2F0KG1lZGlhUXVlcnksIFwiIGFuZCBcIikuY29uY2F0KGl0ZW1bMl0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGxpc3Q7XG59O1xuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgICB2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgXCJcIiAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICA7XG4gICAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuICAgIGlmICghY3NzTWFwcGluZykge1xuICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICB9XG4gICAgaWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCBcIlwiKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBjb250ZW50XG4gICAgICAgIF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbXG4gICAgICAgICAgICBzb3VyY2VNYXBwaW5nXG4gICAgICAgIF0pLmpvaW4oXCJcXG5cIik7XG4gICAgfVxuICAgIHJldHVybiBbXG4gICAgICAgIGNvbnRlbnRcbiAgICBdLmpvaW4oXCJcXG5cIik7XG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/css-loader/src/runtime/api.js\n"));

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=private-next-pages%2F_app&page=%2F_app!":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=private-next-pages%2F_app&page=%2F_app! ***!
  \*******************************************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/_app\",\n      function () {\n        return __webpack_require__(/*! private-next-pages/_app */ \"./pages/_app.tsx\");\n      }\n    ]);\n    if(true) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/_app\"])\n      });\n    }\n  //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWNsaWVudC1wYWdlcy1sb2FkZXIuanM/YWJzb2x1dGVQYWdlUGF0aD1wcml2YXRlLW5leHQtcGFnZXMlMkZfYXBwJnBhZ2U9JTJGX2FwcCEiLCJtYXBwaW5ncyI6IjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbUJBQU8sQ0FBQyxpREFBeUI7QUFDaEQ7QUFDQTtBQUNBLE9BQU8sSUFBVTtBQUNqQixNQUFNLFVBQVU7QUFDaEI7QUFDQSxPQUFPO0FBQ1A7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvPzY3ODIiXSwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgKHdpbmRvdy5fX05FWFRfUCA9IHdpbmRvdy5fX05FWFRfUCB8fCBbXSkucHVzaChbXG4gICAgICBcIi9fYXBwXCIsXG4gICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiByZXF1aXJlKFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19hcHBcIik7XG4gICAgICB9XG4gICAgXSk7XG4gICAgaWYobW9kdWxlLmhvdCkge1xuICAgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2luZG93Ll9fTkVYVF9QLnB1c2goW1wiL19hcHBcIl0pXG4gICAgICB9KTtcbiAgICB9XG4gICJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=private-next-pages%2F_app&page=%2F_app!\n"));

/***/ }),

/***/ "./node_modules/@cntrl-site/sdk/dist/sdk.css":
/*!***************************************************!*\
  !*** ./node_modules/@cntrl-site/sdk/dist/sdk.css ***!
  \***************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var api = __webpack_require__(/*! !../../../next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !!../../../next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[6].oneOf[12].use[1]!../../../next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[6].oneOf[12].use[2]!./sdk.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[6].oneOf[12].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[6].oneOf[12].use[2]!./node_modules/@cntrl-site/sdk/dist/sdk.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(element) {\n                    // By default, style-loader injects CSS into the bottom\n                    // of <head>. This causes ordering problems between dev\n                    // and prod. To fix this, we render a <noscript> tag as\n                    // an anchor for the styles to be placed before. These\n                    // styles will be applied _before_ <style jsx global>.\n                    // These elements should always exist. If they do not,\n                    // this code should fail.\n                    var anchorElement = document.querySelector(\"#__next_css__DO_NOT_USE__\");\n                    var parentNode = anchorElement.parentNode// Normally <head>\n                    ;\n                    // Each style tag should be placed right before our\n                    // anchor. By inserting before and not after, we do not\n                    // need to track the last inserted element.\n                    parentNode.insertBefore(element, anchorElement);\n                };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (true) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n    if (!a && b || a && !b) {\n        return false;\n    }\n    let p;\n    for(p in a){\n        if (isNamedExport && p === \"default\") {\n            continue;\n        }\n        if (a[p] !== b[p]) {\n            return false;\n        }\n    }\n    for(p in b){\n        if (isNamedExport && p === \"default\") {\n            continue;\n        }\n        if (!a[p]) {\n            return false;\n        }\n    }\n    return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      /*! !!../../../next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[6].oneOf[12].use[1]!../../../next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[6].oneOf[12].use[2]!./sdk.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[6].oneOf[12].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[6].oneOf[12].use[2]!./node_modules/@cntrl-site/sdk/dist/sdk.css\",\n      function () {\n        content = __webpack_require__(/*! !!../../../next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[6].oneOf[12].use[1]!../../../next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[6].oneOf[12].use[2]!./sdk.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[6].oneOf[12].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[6].oneOf[12].use[2]!./node_modules/@cntrl-site/sdk/dist/sdk.css\");\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = content.locals || {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNudHJsLXNpdGUvc2RrL2Rpc3Qvc2RrLmNzcyIsIm1hcHBpbmdzIjoiQUFBQSxVQUFVLG1CQUFPLENBQUMsNk1BQWlHO0FBQ25ILDBCQUEwQixtQkFBTyxDQUFDLGdmQUErTjs7QUFFalE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBLElBQUksSUFBVTtBQUNkLHlCQUF5QixVQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLGlCQUFpQjtBQUNyQixNQUFNLGdmQUErTjtBQUNyTztBQUNBLGtCQUFrQixtQkFBTyxDQUFDLGdmQUErTjs7QUFFelA7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLFVBQVU7O0FBRTFCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxVQUFVO0FBQ1o7QUFDQSxHQUFHO0FBQ0g7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BjbnRybC1zaXRlL3Nkay9kaXN0L3Nkay5jc3M/ODU1YiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi8uLi9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtc3R5bGUtbG9hZGVyL3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL2Nzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzZdLm9uZU9mWzEyXS51c2VbMV0hLi4vLi4vLi4vbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbNl0ub25lT2ZbMTJdLnVzZVsyXSEuL3Nkay5jc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEJ5IGRlZmF1bHQsIHN0eWxlLWxvYWRlciBpbmplY3RzIENTUyBpbnRvIHRoZSBib3R0b21cbiAgICAgICAgICAgICAgICAgICAgLy8gb2YgPGhlYWQ+LiBUaGlzIGNhdXNlcyBvcmRlcmluZyBwcm9ibGVtcyBiZXR3ZWVuIGRldlxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgcHJvZC4gVG8gZml4IHRoaXMsIHdlIHJlbmRlciBhIDxub3NjcmlwdD4gdGFnIGFzXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuIGFuY2hvciBmb3IgdGhlIHN0eWxlcyB0byBiZSBwbGFjZWQgYmVmb3JlLiBUaGVzZVxuICAgICAgICAgICAgICAgICAgICAvLyBzdHlsZXMgd2lsbCBiZSBhcHBsaWVkIF9iZWZvcmVfIDxzdHlsZSBqc3ggZ2xvYmFsPi5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlc2UgZWxlbWVudHMgc2hvdWxkIGFsd2F5cyBleGlzdC4gSWYgdGhleSBkbyBub3QsXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgY29kZSBzaG91bGQgZmFpbC5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuY2hvckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI19fbmV4dF9jc3NfX0RPX05PVF9VU0VfX1wiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudE5vZGUgPSBhbmNob3JFbGVtZW50LnBhcmVudE5vZGUvLyBOb3JtYWxseSA8aGVhZD5cbiAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICAvLyBFYWNoIHN0eWxlIHRhZyBzaG91bGQgYmUgcGxhY2VkIHJpZ2h0IGJlZm9yZSBvdXJcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5jaG9yLiBCeSBpbnNlcnRpbmcgYmVmb3JlIGFuZCBub3QgYWZ0ZXIsIHdlIGRvIG5vdFxuICAgICAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIHRyYWNrIHRoZSBsYXN0IGluc2VydGVkIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVsZW1lbnQsIGFuY2hvckVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH07XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cbmlmIChtb2R1bGUuaG90KSB7XG4gIGlmICghY29udGVudC5sb2NhbHMgfHwgbW9kdWxlLmhvdC5pbnZhbGlkYXRlKSB7XG4gICAgdmFyIGlzRXF1YWxMb2NhbHMgPSBmdW5jdGlvbiBpc0VxdWFsTG9jYWxzKGEsIGIsIGlzTmFtZWRFeHBvcnQpIHtcbiAgICBpZiAoIWEgJiYgYiB8fCBhICYmICFiKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IHA7XG4gICAgZm9yKHAgaW4gYSl7XG4gICAgICAgIGlmIChpc05hbWVkRXhwb3J0ICYmIHAgPT09IFwiZGVmYXVsdFwiKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYVtwXSAhPT0gYltwXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvcihwIGluIGIpe1xuICAgICAgICBpZiAoaXNOYW1lZEV4cG9ydCAmJiBwID09PSBcImRlZmF1bHRcIikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhW3BdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuICAgIHZhciBvbGRMb2NhbHMgPSBjb250ZW50LmxvY2FscztcblxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFxuICAgICAgXCIhIS4uLy4uLy4uL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvY3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbNl0ub25lT2ZbMTJdLnVzZVsxXSEuLi8uLi8uLi9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1s2XS5vbmVPZlsxMl0udXNlWzJdIS4vc2RrLmNzc1wiLFxuICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1s2XS5vbmVPZlsxMl0udXNlWzFdIS4uLy4uLy4uL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzZdLm9uZU9mWzEyXS51c2VbMl0hLi9zZGsuY3NzXCIpO1xuXG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoIWlzRXF1YWxMb2NhbHMob2xkTG9jYWxzLCBjb250ZW50LmxvY2FscykpIHtcbiAgICAgICAgICAgICAgICBtb2R1bGUuaG90LmludmFsaWRhdGUoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIG9sZExvY2FscyA9IGNvbnRlbnQubG9jYWxzO1xuXG4gICAgICAgICAgICAgIHVwZGF0ZShjb250ZW50KTtcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7XG4gICAgdXBkYXRlKCk7XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzIHx8IHt9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cntrl-site/sdk/dist/sdk.css\n"));

/***/ }),

/***/ "./styles/reset.css":
/*!**************************!*\
  !*** ./styles/reset.css ***!
  \**************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var api = __webpack_require__(/*! !../node_modules/next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !!../node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[6].oneOf[14].use[1]!../node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[6].oneOf[14].use[2]!./reset.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[6].oneOf[14].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[6].oneOf[14].use[2]!./styles/reset.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(element) {\n                    // By default, style-loader injects CSS into the bottom\n                    // of <head>. This causes ordering problems between dev\n                    // and prod. To fix this, we render a <noscript> tag as\n                    // an anchor for the styles to be placed before. These\n                    // styles will be applied _before_ <style jsx global>.\n                    // These elements should always exist. If they do not,\n                    // this code should fail.\n                    var anchorElement = document.querySelector(\"#__next_css__DO_NOT_USE__\");\n                    var parentNode = anchorElement.parentNode// Normally <head>\n                    ;\n                    // Each style tag should be placed right before our\n                    // anchor. By inserting before and not after, we do not\n                    // need to track the last inserted element.\n                    parentNode.insertBefore(element, anchorElement);\n                };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (true) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n    if (!a && b || a && !b) {\n        return false;\n    }\n    let p;\n    for(p in a){\n        if (isNamedExport && p === \"default\") {\n            continue;\n        }\n        if (a[p] !== b[p]) {\n            return false;\n        }\n    }\n    for(p in b){\n        if (isNamedExport && p === \"default\") {\n            continue;\n        }\n        if (!a[p]) {\n            return false;\n        }\n    }\n    return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      /*! !!../node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[6].oneOf[14].use[1]!../node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[6].oneOf[14].use[2]!./reset.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[6].oneOf[14].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[6].oneOf[14].use[2]!./styles/reset.css\",\n      function () {\n        content = __webpack_require__(/*! !!../node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[6].oneOf[14].use[1]!../node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[6].oneOf[14].use[2]!./reset.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[6].oneOf[14].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[6].oneOf[14].use[2]!./styles/reset.css\");\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = content.locals || {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdHlsZXMvcmVzZXQuY3NzIiwibWFwcGluZ3MiOiJBQUFBLFVBQVUsbUJBQU8sQ0FBQyxvTkFBd0c7QUFDMUgsMEJBQTBCLG1CQUFPLENBQUMsdWVBQStPOztBQUVqUjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0EsSUFBSSxJQUFVO0FBQ2QseUJBQXlCLFVBQVU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQUksaUJBQWlCO0FBQ3JCLE1BQU0sdWVBQStPO0FBQ3JQO0FBQ0Esa0JBQWtCLG1CQUFPLENBQUMsdWVBQStPOztBQUV6UTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0IsVUFBVTs7QUFFMUI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLFVBQVU7QUFDWjtBQUNBLEdBQUc7QUFDSDs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zdHlsZXMvcmVzZXQuY3NzP2Q2OTgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1zdHlsZS1sb2FkZXIvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL2Nzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzZdLm9uZU9mWzE0XS51c2VbMV0hLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzZdLm9uZU9mWzE0XS51c2VbMl0hLi9yZXNldC5jc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEJ5IGRlZmF1bHQsIHN0eWxlLWxvYWRlciBpbmplY3RzIENTUyBpbnRvIHRoZSBib3R0b21cbiAgICAgICAgICAgICAgICAgICAgLy8gb2YgPGhlYWQ+LiBUaGlzIGNhdXNlcyBvcmRlcmluZyBwcm9ibGVtcyBiZXR3ZWVuIGRldlxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgcHJvZC4gVG8gZml4IHRoaXMsIHdlIHJlbmRlciBhIDxub3NjcmlwdD4gdGFnIGFzXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuIGFuY2hvciBmb3IgdGhlIHN0eWxlcyB0byBiZSBwbGFjZWQgYmVmb3JlLiBUaGVzZVxuICAgICAgICAgICAgICAgICAgICAvLyBzdHlsZXMgd2lsbCBiZSBhcHBsaWVkIF9iZWZvcmVfIDxzdHlsZSBqc3ggZ2xvYmFsPi5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlc2UgZWxlbWVudHMgc2hvdWxkIGFsd2F5cyBleGlzdC4gSWYgdGhleSBkbyBub3QsXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgY29kZSBzaG91bGQgZmFpbC5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuY2hvckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI19fbmV4dF9jc3NfX0RPX05PVF9VU0VfX1wiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudE5vZGUgPSBhbmNob3JFbGVtZW50LnBhcmVudE5vZGUvLyBOb3JtYWxseSA8aGVhZD5cbiAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICAvLyBFYWNoIHN0eWxlIHRhZyBzaG91bGQgYmUgcGxhY2VkIHJpZ2h0IGJlZm9yZSBvdXJcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5jaG9yLiBCeSBpbnNlcnRpbmcgYmVmb3JlIGFuZCBub3QgYWZ0ZXIsIHdlIGRvIG5vdFxuICAgICAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIHRyYWNrIHRoZSBsYXN0IGluc2VydGVkIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVsZW1lbnQsIGFuY2hvckVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH07XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cbmlmIChtb2R1bGUuaG90KSB7XG4gIGlmICghY29udGVudC5sb2NhbHMgfHwgbW9kdWxlLmhvdC5pbnZhbGlkYXRlKSB7XG4gICAgdmFyIGlzRXF1YWxMb2NhbHMgPSBmdW5jdGlvbiBpc0VxdWFsTG9jYWxzKGEsIGIsIGlzTmFtZWRFeHBvcnQpIHtcbiAgICBpZiAoIWEgJiYgYiB8fCBhICYmICFiKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IHA7XG4gICAgZm9yKHAgaW4gYSl7XG4gICAgICAgIGlmIChpc05hbWVkRXhwb3J0ICYmIHAgPT09IFwiZGVmYXVsdFwiKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYVtwXSAhPT0gYltwXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvcihwIGluIGIpe1xuICAgICAgICBpZiAoaXNOYW1lZEV4cG9ydCAmJiBwID09PSBcImRlZmF1bHRcIikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhW3BdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuICAgIHZhciBvbGRMb2NhbHMgPSBjb250ZW50LmxvY2FscztcblxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFxuICAgICAgXCIhIS4uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL2Nzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzZdLm9uZU9mWzE0XS51c2VbMV0hLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzZdLm9uZU9mWzE0XS51c2VbMl0hLi9yZXNldC5jc3NcIixcbiAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL2Nzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzZdLm9uZU9mWzE0XS51c2VbMV0hLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzZdLm9uZU9mWzE0XS51c2VbMl0hLi9yZXNldC5jc3NcIik7XG5cbiAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICghaXNFcXVhbExvY2FscyhvbGRMb2NhbHMsIGNvbnRlbnQubG9jYWxzKSkge1xuICAgICAgICAgICAgICAgIG1vZHVsZS5ob3QuaW52YWxpZGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgb2xkTG9jYWxzID0gY29udGVudC5sb2NhbHM7XG5cbiAgICAgICAgICAgICAgdXBkYXRlKGNvbnRlbnQpO1xuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHtcbiAgICB1cGRhdGUoKTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./styles/reset.css\n"));

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js ***!
  \************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nconst isOldIE = function isOldIE() {\n    let memo;\n    return function memorize() {\n        if (typeof memo === \"undefined\") {\n            // Test for IE <= 9 as proposed by Browserhacks\n            // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n            // Tests for existence of standard globals is to allow style-loader\n            // to operate correctly into non-standard environments\n            // @see https://github.com/webpack-contrib/style-loader/issues/177\n            memo = Boolean(window && document && document.all && !window.atob);\n        }\n        return memo;\n    };\n}();\nconst getTargetElement = function() {\n    const memo = {};\n    return function memorize(target) {\n        if (typeof memo[target] === \"undefined\") {\n            let styleTarget = document.querySelector(target);\n            // Special case to return head of iframe instead of iframe itself\n            if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n                try {\n                    // This will throw an exception if access to iframe is blocked\n                    // due to cross-origin restrictions\n                    styleTarget = styleTarget.contentDocument.head;\n                } catch (e) {\n                    // istanbul ignore next\n                    styleTarget = null;\n                }\n            }\n            memo[target] = styleTarget;\n        }\n        return memo[target];\n    };\n}();\nconst stylesInDom = [];\nfunction getIndexByIdentifier(identifier) {\n    let result = -1;\n    for(let i = 0; i < stylesInDom.length; i++){\n        if (stylesInDom[i].identifier === identifier) {\n            result = i;\n            break;\n        }\n    }\n    return result;\n}\nfunction modulesToDom(list, options) {\n    const idCountMap = {};\n    const identifiers = [];\n    for(let i = 0; i < list.length; i++){\n        const item = list[i];\n        const id = options.base ? item[0] + options.base : item[0];\n        const count = idCountMap[id] || 0;\n        const identifier = id + \" \" + count.toString();\n        idCountMap[id] = count + 1;\n        const index = getIndexByIdentifier(identifier);\n        const obj = {\n            css: item[1],\n            media: item[2],\n            sourceMap: item[3]\n        };\n        if (index !== -1) {\n            stylesInDom[index].references++;\n            stylesInDom[index].updater(obj);\n        } else {\n            stylesInDom.push({\n                identifier: identifier,\n                // eslint-disable-next-line @typescript-eslint/no-use-before-define\n                updater: addStyle(obj, options),\n                references: 1\n            });\n        }\n        identifiers.push(identifier);\n    }\n    return identifiers;\n}\nfunction insertStyleElement(options) {\n    const style = document.createElement(\"style\");\n    const attributes = options.attributes || {};\n    if (typeof attributes.nonce === \"undefined\") {\n        const nonce = // eslint-disable-next-line no-undef\n         true ? __webpack_require__.nc : 0;\n        if (nonce) {\n            attributes.nonce = nonce;\n        }\n    }\n    Object.keys(attributes).forEach(function(key) {\n        style.setAttribute(key, attributes[key]);\n    });\n    if (typeof options.insert === \"function\") {\n        options.insert(style);\n    } else {\n        const target = getTargetElement(options.insert || \"head\");\n        if (!target) {\n            throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n        }\n        target.appendChild(style);\n    }\n    return style;\n}\nfunction removeStyleElement(style) {\n    // istanbul ignore if\n    if (style.parentNode === null) {\n        return false;\n    }\n    style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */ const replaceText = function replaceText() {\n    const textStore = [];\n    return function replace(index, replacement) {\n        textStore[index] = replacement;\n        return textStore.filter(Boolean).join(\"\\n\");\n    };\n}();\nfunction applyToSingletonTag(style, index, remove, obj) {\n    const css = remove ? \"\" : obj.media ? \"@media \" + obj.media + \" {\" + obj.css + \"}\" : obj.css;\n    // For old IE\n    /* istanbul ignore if  */ if (style.styleSheet) {\n        style.styleSheet.cssText = replaceText(index, css);\n    } else {\n        const cssNode = document.createTextNode(css);\n        const childNodes = style.childNodes;\n        if (childNodes[index]) {\n            style.removeChild(childNodes[index]);\n        }\n        if (childNodes.length) {\n            style.insertBefore(cssNode, childNodes[index]);\n        } else {\n            style.appendChild(cssNode);\n        }\n    }\n}\nfunction applyToTag(style, _options, obj) {\n    let css = obj.css;\n    const media = obj.media;\n    const sourceMap = obj.sourceMap;\n    if (media) {\n        style.setAttribute(\"media\", media);\n    } else {\n        style.removeAttribute(\"media\");\n    }\n    if (sourceMap && typeof btoa !== \"undefined\") {\n        css += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n    }\n    // For old IE\n    /* istanbul ignore if  */ if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n    } else {\n        while(style.firstChild){\n            style.removeChild(style.firstChild);\n        }\n        style.appendChild(document.createTextNode(css));\n    }\n}\nlet singleton = null;\nlet singletonCounter = 0;\nfunction addStyle(obj, options) {\n    let style;\n    let update;\n    let remove;\n    if (options.singleton) {\n        const styleIndex = singletonCounter++;\n        style = singleton || (singleton = insertStyleElement(options));\n        update = applyToSingletonTag.bind(null, style, styleIndex, false);\n        remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n    } else {\n        style = insertStyleElement(options);\n        update = applyToTag.bind(null, style, options);\n        remove = function() {\n            removeStyleElement(style);\n        };\n    }\n    update(obj);\n    return function updateStyle(newObj) {\n        if (newObj) {\n            if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n                return;\n            }\n            update(obj = newObj);\n        } else {\n            remove();\n        }\n    };\n}\nmodule.exports = function(list, options) {\n    options = options || {};\n    // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n    // tags it will allow on a page\n    if (!options.singleton && typeof options.singleton !== \"boolean\") {\n        options.singleton = isOldIE();\n    }\n    list = list || [];\n    let lastIdentifiers = modulesToDom(list, options);\n    return function update(newList) {\n        newList = newList || [];\n        if (Object.prototype.toString.call(newList) !== \"[object Array]\") {\n            return;\n        }\n        for(let i = 0; i < lastIdentifiers.length; i++){\n            const identifier = lastIdentifiers[i];\n            const index = getIndexByIdentifier(identifier);\n            stylesInDom[index].references--;\n        }\n        const newLastIdentifiers = modulesToDom(newList, options);\n        for(let i = 0; i < lastIdentifiers.length; i++){\n            const identifier = lastIdentifiers[i];\n            const index = getIndexByIdentifier(identifier);\n            if (stylesInDom[index].references === 0) {\n                stylesInDom[index].updater();\n                stylesInDom.splice(index, 1);\n            }\n        }\n        lastIdentifiers = newLastIdentifiers;\n    };\n};\n\n//# sourceMappingURL=injectStylesIntoStyleTag.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXN0eWxlLWxvYWRlci9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsd0JBQXdCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGlCQUFpQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLEtBQXdDLEdBQUcsc0JBQWlCLEdBQUcsQ0FBSTtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxxRUFBcUUsZ0JBQWdCO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsNEJBQTRCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsNEJBQTRCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtc3R5bGUtbG9hZGVyL3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzPzI2ZWQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgICBsZXQgbWVtbztcbiAgICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgICAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgICAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgICAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICAgICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lbW87XG4gICAgfTtcbn0oKTtcbmNvbnN0IGdldFRhcmdldEVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBtZW1vID0ge307XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgICAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgbGV0IHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuICAgICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcbiAgICAgICAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgICAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgICAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gICAgfTtcbn0oKTtcbmNvbnN0IHN0eWxlc0luRG9tID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gICAgbGV0IHJlc3VsdCA9IC0xO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gICAgY29uc3QgaWRDb3VudE1hcCA9IHt9O1xuICAgIGNvbnN0IGlkZW50aWZpZXJzID0gW107XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBpdGVtID0gbGlzdFtpXTtcbiAgICAgICAgY29uc3QgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICAgICAgY29uc3QgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgICAgICBjb25zdCBpZGVudGlmaWVyID0gaWQgKyBcIiBcIiArIGNvdW50LnRvU3RyaW5nKCk7XG4gICAgICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgICAgICBjb25zdCBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgICBjb25zdCBvYmogPSB7XG4gICAgICAgICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICAgICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgICAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgICAgICB9O1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICAgICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgICB9XG4gICAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICBjb25zdCBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuICAgIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBjb25zdCBub25jZSA9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgICB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG4gICAgICAgIGlmIChub25jZSkge1xuICAgICAgICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gICAgfSk7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBnZXRUYXJnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0IHx8IFwiaGVhZFwiKTtcbiAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gICAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gICAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqLyBjb25zdCByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICAgIGNvbnN0IHRleHRTdG9yZSA9IFtdO1xuICAgIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgICAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCJcXG5cIik7XG4gICAgfTtcbn0oKTtcbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICAgIGNvbnN0IGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIiArIG9iai5tZWRpYSArIFwiIHtcIiArIG9iai5jc3MgKyBcIn1cIiA6IG9iai5jc3M7XG4gICAgLy8gRm9yIG9sZCBJRVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi8gaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICAgICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgICAgIGNvbnN0IGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuICAgICAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgICAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIF9vcHRpb25zLCBvYmopIHtcbiAgICBsZXQgY3NzID0gb2JqLmNzcztcbiAgICBjb25zdCBtZWRpYSA9IG9iai5tZWRpYTtcbiAgICBjb25zdCBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuICAgIGlmIChtZWRpYSkge1xuICAgICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKFwibWVkaWFcIik7XG4gICAgfVxuICAgIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuICAgIH1cbiAgICAvLyBGb3Igb2xkIElFXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqLyBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgICAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgd2hpbGUoc3R5bGUuZmlyc3RDaGlsZCl7XG4gICAgICAgICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgICB9XG59XG5sZXQgc2luZ2xldG9uID0gbnVsbDtcbmxldCBzaW5nbGV0b25Db3VudGVyID0gMDtcbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICAgIGxldCBzdHlsZTtcbiAgICBsZXQgdXBkYXRlO1xuICAgIGxldCByZW1vdmU7XG4gICAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgICAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICAgICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICAgICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcbiAgICAgICAgcmVtb3ZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICB1cGRhdGUob2JqKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgICAgIGlmIChuZXdPYmopIHtcbiAgICAgICAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAgIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcbiAgICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gICAgfVxuICAgIGxpc3QgPSBsaXN0IHx8IFtdO1xuICAgIGxldCBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSBcIltvYmplY3QgQXJyYXldXCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGNvbnN0IGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgY29uc3QgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICAgICAgICBpZiAoc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgICAgICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcigpO1xuICAgICAgICAgICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICAgIH07XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js\n"));

/***/ }),

/***/ "./components/WebGLProgressiveBlur.tsx":
/*!*********************************************!*\
  !*** ./components/WebGLProgressiveBlur.tsx ***!
  \*********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WebGLProgressiveBlur: function() { return /* binding */ WebGLProgressiveBlur; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst WebGLProgressiveBlur = (param)=>{\n    let { blurStrength = 25, topHeight = 25, bottomHeight = 25 } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"fixed\",\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    height: \"\".concat(topHeight, \"%\"),\n                    backdropFilter: \"blur(\".concat(blurStrength, \"px)\"),\n                    WebkitBackdropFilter: \"blur(\".concat(blurStrength, \"px)\"),\n                    mask: \"linear-gradient(to bottom, \\n            rgba(0,0,0,1) 0%, \\n            rgba(0,0,0,0.9) 20%,\\n            rgba(0,0,0,0.7) 40%,\\n            rgba(0,0,0,0.4) 60%,\\n            rgba(0,0,0,0.2) 80%,\\n            rgba(0,0,0,0) 100%)\",\n                    WebkitMask: \"linear-gradient(to bottom, \\n            rgba(0,0,0,1) 0%, \\n            rgba(0,0,0,0.9) 20%,\\n            rgba(0,0,0,0.7) 40%,\\n            rgba(0,0,0,0.4) 60%,\\n            rgba(0,0,0,0.2) 80%,\\n            rgba(0,0,0,0) 100%)\",\n                    pointerEvents: \"none\",\n                    zIndex: 9999\n                }\n            }, void 0, false, {\n                fileName: \"/Users/ludovicveltz/Documents/SOLWEIG-IZAR/webgl-progressive-blur-main/components/WebGLProgressiveBlur.tsx\",\n                lineNumber: 17,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"fixed\",\n                    bottom: 0,\n                    left: 0,\n                    right: 0,\n                    height: \"\".concat(bottomHeight, \"%\"),\n                    backdropFilter: \"blur(\".concat(blurStrength, \"px)\"),\n                    WebkitBackdropFilter: \"blur(\".concat(blurStrength, \"px)\"),\n                    mask: \"linear-gradient(to top, \\n            rgba(0,0,0,1) 0%, \\n            rgba(0,0,0,0.9) 20%,\\n            rgba(0,0,0,0.7) 40%,\\n            rgba(0,0,0,0.4) 60%,\\n            rgba(0,0,0,0.2) 80%,\\n            rgba(0,0,0,0) 100%)\",\n                    WebkitMask: \"linear-gradient(to top, \\n            rgba(0,0,0,1) 0%, \\n            rgba(0,0,0,0.9) 20%,\\n            rgba(0,0,0,0.7) 40%,\\n            rgba(0,0,0,0.4) 60%,\\n            rgba(0,0,0,0.2) 80%,\\n            rgba(0,0,0,0) 100%)\",\n                    pointerEvents: \"none\",\n                    zIndex: 9999\n                }\n            }, void 0, false, {\n                fileName: \"/Users/ludovicveltz/Documents/SOLWEIG-IZAR/webgl-progressive-blur-main/components/WebGLProgressiveBlur.tsx\",\n                lineNumber: 46,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"fixed\",\n                    top: \"20px\",\n                    right: \"20px\",\n                    background: \"rgba(0,0,0,0.8)\",\n                    color: \"white\",\n                    padding: \"8px 12px\",\n                    borderRadius: \"6px\",\n                    fontSize: \"12px\",\n                    fontFamily: \"monospace\",\n                    zIndex: 10000\n                },\n                children: [\n                    \"\\uD83C\\uDF1F Progressive Blur Fluide | Haut: \",\n                    topHeight,\n                    \"% | Bas: \",\n                    bottomHeight,\n                    \"% | Max: \",\n                    blurStrength,\n                    \"px\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/ludovicveltz/Documents/SOLWEIG-IZAR/webgl-progressive-blur-main/components/WebGLProgressiveBlur.tsx\",\n                lineNumber: 75,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true);\n};\n_c = WebGLProgressiveBlur;\nvar _c;\n$RefreshReg$(_c, \"WebGLProgressiveBlur\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL1dlYkdMUHJvZ3Jlc3NpdmVCbHVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMEI7QUFRbkIsTUFBTUMsdUJBQTREO1FBQUMsRUFDeEVDLGVBQWUsRUFBRSxFQUNqQkMsWUFBWSxFQUFFLEVBQ2RDLGVBQWUsRUFBRSxFQUNsQjtJQUNDLHFCQUNFOzswQkFFRSw4REFBQ0M7Z0JBQ0NDLE9BQU87b0JBQ0xDLFVBQVU7b0JBQ1ZDLEtBQUs7b0JBQ0xDLE1BQU07b0JBQ05DLE9BQU87b0JBQ1BDLFFBQVEsR0FBYSxPQUFWUixXQUFVO29CQUNyQlMsZ0JBQWdCLFFBQXFCLE9BQWJWLGNBQWE7b0JBQ3JDVyxzQkFBc0IsUUFBcUIsT0FBYlgsY0FBYTtvQkFDM0NZLE1BQU87b0JBT1BDLFlBQWE7b0JBT2JDLGVBQWU7b0JBQ2ZDLFFBQVE7Z0JBQ1Y7Ozs7OzswQkFJRiw4REFBQ1o7Z0JBQ0NDLE9BQU87b0JBQ0xDLFVBQVU7b0JBQ1ZXLFFBQVE7b0JBQ1JULE1BQU07b0JBQ05DLE9BQU87b0JBQ1BDLFFBQVEsR0FBZ0IsT0FBYlAsY0FBYTtvQkFDeEJRLGdCQUFnQixRQUFxQixPQUFiVixjQUFhO29CQUNyQ1csc0JBQXNCLFFBQXFCLE9BQWJYLGNBQWE7b0JBQzNDWSxNQUFPO29CQU9QQyxZQUFhO29CQU9iQyxlQUFlO29CQUNmQyxRQUFRO2dCQUNWOzs7Ozs7MEJBSUYsOERBQUNaO2dCQUNDQyxPQUFPO29CQUNMQyxVQUFVO29CQUNWQyxLQUFLO29CQUNMRSxPQUFPO29CQUNQUyxZQUFZO29CQUNaQyxPQUFPO29CQUNQQyxTQUFTO29CQUNUQyxjQUFjO29CQUNkQyxVQUFVO29CQUNWQyxZQUFZO29CQUNaUCxRQUFRO2dCQUNWOztvQkFDRDtvQkFDcUNkO29CQUFVO29CQUFVQztvQkFBYTtvQkFBVUY7b0JBQWE7Ozs7Ozs7OztBQUlwRyxFQUFFO0tBcEZXRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL1dlYkdMUHJvZ3Jlc3NpdmVCbHVyLnRzeD84NGRhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmludGVyZmFjZSBXZWJHTFByb2dyZXNzaXZlQmx1clByb3BzIHtcbiAgYmx1clN0cmVuZ3RoPzogbnVtYmVyO1xuICB0b3BIZWlnaHQ/OiBudW1iZXI7XG4gIGJvdHRvbUhlaWdodD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IFdlYkdMUHJvZ3Jlc3NpdmVCbHVyOiBSZWFjdC5GQzxXZWJHTFByb2dyZXNzaXZlQmx1clByb3BzPiA9ICh7IFxuICBibHVyU3RyZW5ndGggPSAyNSxcbiAgdG9wSGVpZ2h0ID0gMjUsXG4gIGJvdHRvbUhlaWdodCA9IDI1XG59KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIHsvKiBGTE9VIFBST0dSRVNTSUYgSEFVVCAtIEVmZmV0IGZsdWlkZSBhdmVjIG1hc2sgZ3JhZGllbnQgKi99XG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgICAgaGVpZ2h0OiBgJHt0b3BIZWlnaHR9JWAsXG4gICAgICAgICAgYmFja2Ryb3BGaWx0ZXI6IGBibHVyKCR7Ymx1clN0cmVuZ3RofXB4KWAsXG4gICAgICAgICAgV2Via2l0QmFja2Ryb3BGaWx0ZXI6IGBibHVyKCR7Ymx1clN0cmVuZ3RofXB4KWAsXG4gICAgICAgICAgbWFzazogYGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sIFxuICAgICAgICAgICAgcmdiYSgwLDAsMCwxKSAwJSwgXG4gICAgICAgICAgICByZ2JhKDAsMCwwLDAuOSkgMjAlLFxuICAgICAgICAgICAgcmdiYSgwLDAsMCwwLjcpIDQwJSxcbiAgICAgICAgICAgIHJnYmEoMCwwLDAsMC40KSA2MCUsXG4gICAgICAgICAgICByZ2JhKDAsMCwwLDAuMikgODAlLFxuICAgICAgICAgICAgcmdiYSgwLDAsMCwwKSAxMDAlKWAsXG4gICAgICAgICAgV2Via2l0TWFzazogYGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sIFxuICAgICAgICAgICAgcmdiYSgwLDAsMCwxKSAwJSwgXG4gICAgICAgICAgICByZ2JhKDAsMCwwLDAuOSkgMjAlLFxuICAgICAgICAgICAgcmdiYSgwLDAsMCwwLjcpIDQwJSxcbiAgICAgICAgICAgIHJnYmEoMCwwLDAsMC40KSA2MCUsXG4gICAgICAgICAgICByZ2JhKDAsMCwwLDAuMikgODAlLFxuICAgICAgICAgICAgcmdiYSgwLDAsMCwwKSAxMDAlKWAsXG4gICAgICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgICAgIHpJbmRleDogOTk5OVxuICAgICAgICB9fVxuICAgICAgLz5cblxuICAgICAgey8qIEZMT1UgUFJPR1JFU1NJRiBCQVMgLSBFZmZldCBmbHVpZGUgYXZlYyBtYXNrIGdyYWRpZW50ICovfVxuICAgICAgPGRpdlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICAgIGhlaWdodDogYCR7Ym90dG9tSGVpZ2h0fSVgLFxuICAgICAgICAgIGJhY2tkcm9wRmlsdGVyOiBgYmx1cigke2JsdXJTdHJlbmd0aH1weClgLFxuICAgICAgICAgIFdlYmtpdEJhY2tkcm9wRmlsdGVyOiBgYmx1cigke2JsdXJTdHJlbmd0aH1weClgLFxuICAgICAgICAgIG1hc2s6IGBsaW5lYXItZ3JhZGllbnQodG8gdG9wLCBcbiAgICAgICAgICAgIHJnYmEoMCwwLDAsMSkgMCUsIFxuICAgICAgICAgICAgcmdiYSgwLDAsMCwwLjkpIDIwJSxcbiAgICAgICAgICAgIHJnYmEoMCwwLDAsMC43KSA0MCUsXG4gICAgICAgICAgICByZ2JhKDAsMCwwLDAuNCkgNjAlLFxuICAgICAgICAgICAgcmdiYSgwLDAsMCwwLjIpIDgwJSxcbiAgICAgICAgICAgIHJnYmEoMCwwLDAsMCkgMTAwJSlgLFxuICAgICAgICAgIFdlYmtpdE1hc2s6IGBsaW5lYXItZ3JhZGllbnQodG8gdG9wLCBcbiAgICAgICAgICAgIHJnYmEoMCwwLDAsMSkgMCUsIFxuICAgICAgICAgICAgcmdiYSgwLDAsMCwwLjkpIDIwJSxcbiAgICAgICAgICAgIHJnYmEoMCwwLDAsMC43KSA0MCUsXG4gICAgICAgICAgICByZ2JhKDAsMCwwLDAuNCkgNjAlLFxuICAgICAgICAgICAgcmdiYSgwLDAsMCwwLjIpIDgwJSxcbiAgICAgICAgICAgIHJnYmEoMCwwLDAsMCkgMTAwJSlgLFxuICAgICAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgICAgICB6SW5kZXg6IDk5OTlcbiAgICAgICAgfX1cbiAgICAgIC8+XG5cbiAgICAgIHsvKiBCYWRnZSBkZSBkZWJ1ZyBmaXhlICovfVxuICAgICAgPGRpdlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICAgIHRvcDogJzIwcHgnLFxuICAgICAgICAgIHJpZ2h0OiAnMjBweCcsXG4gICAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMCwwLDAsMC44KScsXG4gICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgcGFkZGluZzogJzhweCAxMnB4JyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICc2cHgnLFxuICAgICAgICAgIGZvbnRTaXplOiAnMTJweCcsXG4gICAgICAgICAgZm9udEZhbWlseTogJ21vbm9zcGFjZScsXG4gICAgICAgICAgekluZGV4OiAxMDAwMFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICDwn4yfIFByb2dyZXNzaXZlIEJsdXIgRmx1aWRlIHwgSGF1dDoge3RvcEhlaWdodH0lIHwgQmFzOiB7Ym90dG9tSGVpZ2h0fSUgfCBNYXg6IHtibHVyU3RyZW5ndGh9cHhcbiAgICAgIDwvZGl2PlxuICAgIDwvPlxuICApO1xufTsgIl0sIm5hbWVzIjpbIlJlYWN0IiwiV2ViR0xQcm9ncmVzc2l2ZUJsdXIiLCJibHVyU3RyZW5ndGgiLCJ0b3BIZWlnaHQiLCJib3R0b21IZWlnaHQiLCJkaXYiLCJzdHlsZSIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsInJpZ2h0IiwiaGVpZ2h0IiwiYmFja2Ryb3BGaWx0ZXIiLCJXZWJraXRCYWNrZHJvcEZpbHRlciIsIm1hc2siLCJXZWJraXRNYXNrIiwicG9pbnRlckV2ZW50cyIsInpJbmRleCIsImJvdHRvbSIsImJhY2tncm91bmQiLCJjb2xvciIsInBhZGRpbmciLCJib3JkZXJSYWRpdXMiLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/WebGLProgressiveBlur.tsx\n"));

/***/ }),

/***/ "./node_modules/next/node_modules/styled-jsx/dist/index/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/next/node_modules/styled-jsx/dist/index/index.js ***!
  \***********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* provided dependency */ var process = __webpack_require__(/*! process */ \"./node_modules/next/dist/build/polyfills/process.js\");\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n__webpack_require__(/*! client-only */ \"./node_modules/next/dist/compiled/client-only/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nfunction _interopDefaultLegacy(e) {\n    return e && typeof e === \"object\" && \"default\" in e ? e : {\n        \"default\": e\n    };\n}\nvar React__default = /*#__PURE__*/ _interopDefaultLegacy(React);\n_c = React__default;\n/*\nBased on Glamor's sheet\nhttps://github.com/threepointone/glamor/blob/667b480d31b3721a905021b26e1290ce92ca2879/src/sheet.js\n*/ function _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nvar isProd = typeof process !== \"undefined\" && process.env && \"development\" === \"production\";\nvar isString = function(o) {\n    return Object.prototype.toString.call(o) === \"[object String]\";\n};\nvar StyleSheet = /*#__PURE__*/ function() {\n    function StyleSheet(param) {\n        var ref = param === void 0 ? {} : param, _name = ref.name, name = _name === void 0 ? \"stylesheet\" : _name, _optimizeForSpeed = ref.optimizeForSpeed, optimizeForSpeed = _optimizeForSpeed === void 0 ? isProd : _optimizeForSpeed;\n        invariant$1(isString(name), \"`name` must be a string\");\n        this._name = name;\n        this._deletedRulePlaceholder = \"#\" + name + \"-deleted-rule____{}\";\n        invariant$1(typeof optimizeForSpeed === \"boolean\", \"`optimizeForSpeed` must be a boolean\");\n        this._optimizeForSpeed = optimizeForSpeed;\n        this._serverSheet = undefined;\n        this._tags = [];\n        this._injected = false;\n        this._rulesCount = 0;\n        var node =  true && document.querySelector('meta[property=\"csp-nonce\"]');\n        this._nonce = node ? node.getAttribute(\"content\") : null;\n    }\n    var _proto = StyleSheet.prototype;\n    _proto.setOptimizeForSpeed = function setOptimizeForSpeed(bool) {\n        invariant$1(typeof bool === \"boolean\", \"`setOptimizeForSpeed` accepts a boolean\");\n        invariant$1(this._rulesCount === 0, \"optimizeForSpeed cannot be when rules have already been inserted\");\n        this.flush();\n        this._optimizeForSpeed = bool;\n        this.inject();\n    };\n    _proto.isOptimizeForSpeed = function isOptimizeForSpeed() {\n        return this._optimizeForSpeed;\n    };\n    _proto.inject = function inject() {\n        var _this = this;\n        invariant$1(!this._injected, \"sheet already injected\");\n        this._injected = true;\n        if ( true && this._optimizeForSpeed) {\n            this._tags[0] = this.makeStyleTag(this._name);\n            this._optimizeForSpeed = \"insertRule\" in this.getSheet();\n            if (!this._optimizeForSpeed) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: optimizeForSpeed mode not supported falling back to standard mode.\");\n                }\n                this.flush();\n                this._injected = true;\n            }\n            return;\n        }\n        this._serverSheet = {\n            cssRules: [],\n            insertRule: function(rule, index) {\n                if (typeof index === \"number\") {\n                    _this._serverSheet.cssRules[index] = {\n                        cssText: rule\n                    };\n                } else {\n                    _this._serverSheet.cssRules.push({\n                        cssText: rule\n                    });\n                }\n                return index;\n            },\n            deleteRule: function(index) {\n                _this._serverSheet.cssRules[index] = null;\n            }\n        };\n    };\n    _proto.getSheetForTag = function getSheetForTag(tag) {\n        if (tag.sheet) {\n            return tag.sheet;\n        }\n        // this weirdness brought to you by firefox\n        for(var i = 0; i < document.styleSheets.length; i++){\n            if (document.styleSheets[i].ownerNode === tag) {\n                return document.styleSheets[i];\n            }\n        }\n    };\n    _proto.getSheet = function getSheet() {\n        return this.getSheetForTag(this._tags[this._tags.length - 1]);\n    };\n    _proto.insertRule = function insertRule(rule, index) {\n        invariant$1(isString(rule), \"`insertRule` accepts only strings\");\n        if (false) {}\n        if (this._optimizeForSpeed) {\n            var sheet = this.getSheet();\n            if (typeof index !== \"number\") {\n                index = sheet.cssRules.length;\n            }\n            // this weirdness for perf, and chrome's weird bug\n            // https://stackoverflow.com/questions/20007992/chrome-suddenly-stopped-accepting-insertrule\n            try {\n                sheet.insertRule(rule, index);\n            } catch (error) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: illegal rule: \\n\\n\" + rule + \"\\n\\nSee https://stackoverflow.com/q/20007992 for more info\");\n                }\n                return -1;\n            }\n        } else {\n            var insertionPoint = this._tags[index];\n            this._tags.push(this.makeStyleTag(this._name, rule, insertionPoint));\n        }\n        return this._rulesCount++;\n    };\n    _proto.replaceRule = function replaceRule(index, rule) {\n        if (this._optimizeForSpeed || \"object\" === \"undefined\") {\n            var sheet =  true ? this.getSheet() : 0;\n            if (!rule.trim()) {\n                rule = this._deletedRulePlaceholder;\n            }\n            if (!sheet.cssRules[index]) {\n                // @TBD Should we throw an error?\n                return index;\n            }\n            sheet.deleteRule(index);\n            try {\n                sheet.insertRule(rule, index);\n            } catch (error) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: illegal rule: \\n\\n\" + rule + \"\\n\\nSee https://stackoverflow.com/q/20007992 for more info\");\n                }\n                // In order to preserve the indices we insert a deleteRulePlaceholder\n                sheet.insertRule(this._deletedRulePlaceholder, index);\n            }\n        } else {\n            var tag = this._tags[index];\n            invariant$1(tag, \"old rule at index `\" + index + \"` not found\");\n            tag.textContent = rule;\n        }\n        return index;\n    };\n    _proto.deleteRule = function deleteRule(index) {\n        if (false) {}\n        if (this._optimizeForSpeed) {\n            this.replaceRule(index, \"\");\n        } else {\n            var tag = this._tags[index];\n            invariant$1(tag, \"rule at index `\" + index + \"` not found\");\n            tag.parentNode.removeChild(tag);\n            this._tags[index] = null;\n        }\n    };\n    _proto.flush = function flush() {\n        this._injected = false;\n        this._rulesCount = 0;\n        if (true) {\n            this._tags.forEach(function(tag) {\n                return tag && tag.parentNode.removeChild(tag);\n            });\n            this._tags = [];\n        } else {}\n    };\n    _proto.cssRules = function cssRules() {\n        var _this = this;\n        if (false) {}\n        return this._tags.reduce(function(rules, tag) {\n            if (tag) {\n                rules = rules.concat(Array.prototype.map.call(_this.getSheetForTag(tag).cssRules, function(rule) {\n                    return rule.cssText === _this._deletedRulePlaceholder ? null : rule;\n                }));\n            } else {\n                rules.push(null);\n            }\n            return rules;\n        }, []);\n    };\n    _proto.makeStyleTag = function makeStyleTag(name, cssString, relativeToTag) {\n        if (cssString) {\n            invariant$1(isString(cssString), \"makeStyleTag accepts only strings as second parameter\");\n        }\n        var tag = document.createElement(\"style\");\n        if (this._nonce) tag.setAttribute(\"nonce\", this._nonce);\n        tag.type = \"text/css\";\n        tag.setAttribute(\"data-\" + name, \"\");\n        if (cssString) {\n            tag.appendChild(document.createTextNode(cssString));\n        }\n        var head = document.head || document.getElementsByTagName(\"head\")[0];\n        if (relativeToTag) {\n            head.insertBefore(tag, relativeToTag);\n        } else {\n            head.appendChild(tag);\n        }\n        return tag;\n    };\n    _createClass(StyleSheet, [\n        {\n            key: \"length\",\n            get: function get() {\n                return this._rulesCount;\n            }\n        }\n    ]);\n    return StyleSheet;\n}();\nfunction invariant$1(condition, message) {\n    if (!condition) {\n        throw new Error(\"StyleSheet: \" + message + \".\");\n    }\n}\nfunction hash(str) {\n    var _$hash = 5381, i = str.length;\n    while(i){\n        _$hash = _$hash * 33 ^ str.charCodeAt(--i);\n    }\n    /* JavaScript does bitwise operations (like XOR, above) on 32-bit signed\n   * integers. Since we want the results to be always positive, convert the\n   * signed int to an unsigned by doing an unsigned bitshift. */ return _$hash >>> 0;\n}\nvar stringHash = hash;\nvar sanitize = function(rule) {\n    return rule.replace(/\\/style/gi, \"\\\\/style\");\n};\nvar cache = {};\n/**\n * computeId\n *\n * Compute and memoize a jsx id from a basedId and optionally props.\n */ function computeId(baseId, props) {\n    if (!props) {\n        return \"jsx-\" + baseId;\n    }\n    var propsToString = String(props);\n    var key = baseId + propsToString;\n    if (!cache[key]) {\n        cache[key] = \"jsx-\" + stringHash(baseId + \"-\" + propsToString);\n    }\n    return cache[key];\n}\n/**\n * computeSelector\n *\n * Compute and memoize dynamic selectors.\n */ function computeSelector(id, css) {\n    var selectoPlaceholderRegexp = /__jsx-style-dynamic-selector/g;\n    // Sanitize SSR-ed CSS.\n    // Client side code doesn't need to be sanitized since we use\n    // document.createTextNode (dev) and the CSSOM api sheet.insertRule (prod).\n    if (false) {}\n    var idcss = id + css;\n    if (!cache[idcss]) {\n        cache[idcss] = css.replace(selectoPlaceholderRegexp, id);\n    }\n    return cache[idcss];\n}\nfunction mapRulesToStyle(cssRules, options) {\n    if (options === void 0) options = {};\n    return cssRules.map(function(args) {\n        var id = args[0];\n        var css = args[1];\n        return /*#__PURE__*/ React__default[\"default\"].createElement(\"style\", {\n            id: \"__\" + id,\n            // Avoid warnings upon render with a key\n            key: \"__\" + id,\n            nonce: options.nonce ? options.nonce : undefined,\n            dangerouslySetInnerHTML: {\n                __html: css\n            }\n        });\n    });\n}\nvar StyleSheetRegistry = /*#__PURE__*/ function() {\n    function StyleSheetRegistry(param) {\n        var ref = param === void 0 ? {} : param, _styleSheet = ref.styleSheet, styleSheet = _styleSheet === void 0 ? null : _styleSheet, _optimizeForSpeed = ref.optimizeForSpeed, optimizeForSpeed = _optimizeForSpeed === void 0 ? false : _optimizeForSpeed;\n        this._sheet = styleSheet || new StyleSheet({\n            name: \"styled-jsx\",\n            optimizeForSpeed: optimizeForSpeed\n        });\n        this._sheet.inject();\n        if (styleSheet && typeof optimizeForSpeed === \"boolean\") {\n            this._sheet.setOptimizeForSpeed(optimizeForSpeed);\n            this._optimizeForSpeed = this._sheet.isOptimizeForSpeed();\n        }\n        this._fromServer = undefined;\n        this._indices = {};\n        this._instancesCounts = {};\n    }\n    var _proto = StyleSheetRegistry.prototype;\n    _proto.add = function add(props) {\n        var _this = this;\n        if (undefined === this._optimizeForSpeed) {\n            this._optimizeForSpeed = Array.isArray(props.children);\n            this._sheet.setOptimizeForSpeed(this._optimizeForSpeed);\n            this._optimizeForSpeed = this._sheet.isOptimizeForSpeed();\n        }\n        if ( true && !this._fromServer) {\n            this._fromServer = this.selectFromServer();\n            this._instancesCounts = Object.keys(this._fromServer).reduce(function(acc, tagName) {\n                acc[tagName] = 0;\n                return acc;\n            }, {});\n        }\n        var ref = this.getIdAndRules(props), styleId = ref.styleId, rules = ref.rules;\n        // Deduping: just increase the instances count.\n        if (styleId in this._instancesCounts) {\n            this._instancesCounts[styleId] += 1;\n            return;\n        }\n        var indices = rules.map(function(rule) {\n            return _this._sheet.insertRule(rule);\n        }) // Filter out invalid rules\n        .filter(function(index) {\n            return index !== -1;\n        });\n        this._indices[styleId] = indices;\n        this._instancesCounts[styleId] = 1;\n    };\n    _proto.remove = function remove(props) {\n        var _this = this;\n        var styleId = this.getIdAndRules(props).styleId;\n        invariant(styleId in this._instancesCounts, \"styleId: `\" + styleId + \"` not found\");\n        this._instancesCounts[styleId] -= 1;\n        if (this._instancesCounts[styleId] < 1) {\n            var tagFromServer = this._fromServer && this._fromServer[styleId];\n            if (tagFromServer) {\n                tagFromServer.parentNode.removeChild(tagFromServer);\n                delete this._fromServer[styleId];\n            } else {\n                this._indices[styleId].forEach(function(index) {\n                    return _this._sheet.deleteRule(index);\n                });\n                delete this._indices[styleId];\n            }\n            delete this._instancesCounts[styleId];\n        }\n    };\n    _proto.update = function update(props, nextProps) {\n        this.add(nextProps);\n        this.remove(props);\n    };\n    _proto.flush = function flush() {\n        this._sheet.flush();\n        this._sheet.inject();\n        this._fromServer = undefined;\n        this._indices = {};\n        this._instancesCounts = {};\n    };\n    _proto.cssRules = function cssRules() {\n        var _this = this;\n        var fromServer = this._fromServer ? Object.keys(this._fromServer).map(function(styleId) {\n            return [\n                styleId,\n                _this._fromServer[styleId]\n            ];\n        }) : [];\n        var cssRules = this._sheet.cssRules();\n        return fromServer.concat(Object.keys(this._indices).map(function(styleId) {\n            return [\n                styleId,\n                _this._indices[styleId].map(function(index) {\n                    return cssRules[index].cssText;\n                }).join(_this._optimizeForSpeed ? \"\" : \"\\n\")\n            ];\n        }) // filter out empty rules\n        .filter(function(rule) {\n            return Boolean(rule[1]);\n        }));\n    };\n    _proto.styles = function styles(options) {\n        return mapRulesToStyle(this.cssRules(), options);\n    };\n    _proto.getIdAndRules = function getIdAndRules(props) {\n        var css = props.children, dynamic = props.dynamic, id = props.id;\n        if (dynamic) {\n            var styleId = computeId(id, dynamic);\n            return {\n                styleId: styleId,\n                rules: Array.isArray(css) ? css.map(function(rule) {\n                    return computeSelector(styleId, rule);\n                }) : [\n                    computeSelector(styleId, css)\n                ]\n            };\n        }\n        return {\n            styleId: computeId(id),\n            rules: Array.isArray(css) ? css : [\n                css\n            ]\n        };\n    };\n    /**\n   * selectFromServer\n   *\n   * Collects style tags from the document with id __jsx-XXX\n   */ _proto.selectFromServer = function selectFromServer() {\n        var elements = Array.prototype.slice.call(document.querySelectorAll('[id^=\"__jsx-\"]'));\n        return elements.reduce(function(acc, element) {\n            var id = element.id.slice(2);\n            acc[id] = element;\n            return acc;\n        }, {});\n    };\n    return StyleSheetRegistry;\n}();\nfunction invariant(condition, message) {\n    if (!condition) {\n        throw new Error(\"StyleSheetRegistry: \" + message + \".\");\n    }\n}\nvar StyleSheetContext = /*#__PURE__*/ React.createContext(null);\nStyleSheetContext.displayName = \"StyleSheetContext\";\nfunction createStyleRegistry() {\n    return new StyleSheetRegistry();\n}\nfunction StyleRegistry(param) {\n    _s();\n    var configuredRegistry = param.registry, children = param.children;\n    var rootRegistry = React.useContext(StyleSheetContext);\n    var ref = React.useState(function() {\n        return rootRegistry || configuredRegistry || createStyleRegistry();\n    }), registry = ref[0];\n    return /*#__PURE__*/ React__default[\"default\"].createElement(StyleSheetContext.Provider, {\n        value: registry\n    }, children);\n}\n_s(StyleRegistry, \"vgRS4YV7PcSMQCYHzGaNuBIBcZQ=\");\n_c1 = StyleRegistry;\nfunction useStyleRegistry() {\n    _s1();\n    return React.useContext(StyleSheetContext);\n}\n_s1(useStyleRegistry, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n// Opt-into the new `useInsertionEffect` API in React 18, fallback to `useLayoutEffect`.\n// https://github.com/reactwg/react-18/discussions/110\nvar useInsertionEffect = React__default[\"default\"].useInsertionEffect || React__default[\"default\"].useLayoutEffect;\nvar defaultRegistry =  true ? createStyleRegistry() : 0;\nfunction JSXStyle(props) {\n    _s2();\n    var registry = defaultRegistry ? defaultRegistry : useStyleRegistry();\n    // If `registry` does not exist, we do nothing here.\n    if (!registry) {\n        return null;\n    }\n    if (false) {}\n    useInsertionEffect(function() {\n        registry.add(props);\n        return function() {\n            registry.remove(props);\n        };\n    // props.children can be string[], will be striped since id is identical\n    }, [\n        props.id,\n        String(props.dynamic)\n    ]);\n    return null;\n}\n_s2(JSXStyle, \"48Sqj1BUqkshsPdz6NEWXDn8pF4=\", false, function() {\n    return [\n        useStyleRegistry,\n        useInsertionEffect\n    ];\n});\n_c2 = JSXStyle;\nJSXStyle.dynamic = function(info) {\n    return info.map(function(tagInfo) {\n        var baseId = tagInfo[0];\n        var props = tagInfo[1];\n        return computeId(baseId, props);\n    }).join(\" \");\n};\nexports.StyleRegistry = StyleRegistry;\nexports.createStyleRegistry = createStyleRegistry;\nexports.style = JSXStyle;\nexports.useStyleRegistry = useStyleRegistry;\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"React__default\");\n$RefreshReg$(_c1, \"StyleRegistry\");\n$RefreshReg$(_c2, \"JSXStyle\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9ub2RlX21vZHVsZXMvc3R5bGVkLWpzeC9kaXN0L2luZGV4L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7OztBQUFBQSxtQkFBT0EsQ0FBQztBQUNSLElBQUlDLFFBQVFELG1CQUFPQSxDQUFDO0FBRXBCLFNBQVNFLHNCQUF1QkMsQ0FBQztJQUFJLE9BQU9BLEtBQUssT0FBT0EsTUFBTSxZQUFZLGFBQWFBLElBQUlBLElBQUk7UUFBRSxXQUFXQTtJQUFFO0FBQUc7QUFFakgsSUFBSUMsaUJBQWlCLFdBQVcsR0FBRUYsc0JBQXNCRDs7QUFFeEQ7OztBQUdBLEdBQUcsU0FBU0ksa0JBQWtCQyxNQUFNLEVBQUVDLEtBQUs7SUFDdkMsSUFBSSxJQUFJQyxJQUFJLEdBQUdBLElBQUlELE1BQU1FLE1BQU0sRUFBRUQsSUFBSTtRQUNqQyxJQUFJRSxhQUFhSCxLQUFLLENBQUNDLEVBQUU7UUFDekJFLFdBQVdDLFVBQVUsR0FBR0QsV0FBV0MsVUFBVSxJQUFJO1FBQ2pERCxXQUFXRSxZQUFZLEdBQUc7UUFDMUIsSUFBSSxXQUFXRixZQUFZQSxXQUFXRyxRQUFRLEdBQUc7UUFDakRDLE9BQU9DLGNBQWMsQ0FBQ1QsUUFBUUksV0FBV00sR0FBRyxFQUFFTjtJQUNsRDtBQUNKO0FBQ0EsU0FBU08sYUFBYUMsV0FBVyxFQUFFQyxVQUFVLEVBQUVDLFdBQVc7SUFDdEQsSUFBSUQsWUFBWWQsa0JBQWtCYSxZQUFZRyxTQUFTLEVBQUVGO0lBQ3pELElBQUlDLGFBQWFmLGtCQUFrQmEsYUFBYUU7SUFDaEQsT0FBT0Y7QUFDWDtBQUNBLElBQUlJLFNBQVMsT0FBT0MsT0FBT0EsS0FBSyxlQUFlQSxPQUFPQSxDQUFDQyxHQUFHLElBQUlELGtCQUF5QjtBQUN2RixJQUFJRSxXQUFXLFNBQVNDLENBQUM7SUFDckIsT0FBT1osT0FBT08sU0FBUyxDQUFDTSxRQUFRLENBQUNDLElBQUksQ0FBQ0YsT0FBTztBQUNqRDtBQUNBLElBQUlHLGFBQWEsV0FBVyxHQUFH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Ryx3QkFBd0IsR0FBR1AiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQvbm9kZV9tb2R1bGVzL3N0eWxlZC1qc3gvZGlzdC9pbmRleC9pbmRleC5qcz80NGY3Il0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJ2NsaWVudC1vbmx5Jyk7XG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcERlZmF1bHRMZWdhY3kgKGUpIHsgcmV0dXJuIGUgJiYgdHlwZW9mIGUgPT09ICdvYmplY3QnICYmICdkZWZhdWx0JyBpbiBlID8gZSA6IHsgJ2RlZmF1bHQnOiBlIH07IH1cblxudmFyIFJlYWN0X19kZWZhdWx0ID0gLyojX19QVVJFX18qL19pbnRlcm9wRGVmYXVsdExlZ2FjeShSZWFjdCk7XG5cbi8qXG5CYXNlZCBvbiBHbGFtb3IncyBzaGVldFxuaHR0cHM6Ly9naXRodWIuY29tL3RocmVlcG9pbnRvbmUvZ2xhbW9yL2Jsb2IvNjY3YjQ4MGQzMWIzNzIxYTkwNTAyMWIyNmUxMjkwY2U5MmNhMjg3OS9zcmMvc2hlZXQuanNcbiovIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspe1xuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxudmFyIGlzUHJvZCA9IHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmIHByb2Nlc3MuZW52ICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIjtcbnZhciBpc1N0cmluZyA9IGZ1bmN0aW9uKG8pIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pID09PSBcIltvYmplY3QgU3RyaW5nXVwiO1xufTtcbnZhciBTdHlsZVNoZWV0ID0gLyojX19QVVJFX18qLyBmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBTdHlsZVNoZWV0KHBhcmFtKSB7XG4gICAgICAgIHZhciByZWYgPSBwYXJhbSA9PT0gdm9pZCAwID8ge30gOiBwYXJhbSwgX25hbWUgPSByZWYubmFtZSwgbmFtZSA9IF9uYW1lID09PSB2b2lkIDAgPyBcInN0eWxlc2hlZXRcIiA6IF9uYW1lLCBfb3B0aW1pemVGb3JTcGVlZCA9IHJlZi5vcHRpbWl6ZUZvclNwZWVkLCBvcHRpbWl6ZUZvclNwZWVkID0gX29wdGltaXplRm9yU3BlZWQgPT09IHZvaWQgMCA/IGlzUHJvZCA6IF9vcHRpbWl6ZUZvclNwZWVkO1xuICAgICAgICBpbnZhcmlhbnQkMShpc1N0cmluZyhuYW1lKSwgXCJgbmFtZWAgbXVzdCBiZSBhIHN0cmluZ1wiKTtcbiAgICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuX2RlbGV0ZWRSdWxlUGxhY2Vob2xkZXIgPSBcIiNcIiArIG5hbWUgKyBcIi1kZWxldGVkLXJ1bGVfX19fe31cIjtcbiAgICAgICAgaW52YXJpYW50JDEodHlwZW9mIG9wdGltaXplRm9yU3BlZWQgPT09IFwiYm9vbGVhblwiLCBcImBvcHRpbWl6ZUZvclNwZWVkYCBtdXN0IGJlIGEgYm9vbGVhblwiKTtcbiAgICAgICAgdGhpcy5fb3B0aW1pemVGb3JTcGVlZCA9IG9wdGltaXplRm9yU3BlZWQ7XG4gICAgICAgIHRoaXMuX3NlcnZlclNoZWV0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl90YWdzID0gW107XG4gICAgICAgIHRoaXMuX2luamVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3J1bGVzQ291bnQgPSAwO1xuICAgICAgICB2YXIgbm9kZSA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtwcm9wZXJ0eT1cImNzcC1ub25jZVwiXScpO1xuICAgICAgICB0aGlzLl9ub25jZSA9IG5vZGUgPyBub2RlLmdldEF0dHJpYnV0ZShcImNvbnRlbnRcIikgOiBudWxsO1xuICAgIH1cbiAgICB2YXIgX3Byb3RvID0gU3R5bGVTaGVldC5wcm90b3R5cGU7XG4gICAgX3Byb3RvLnNldE9wdGltaXplRm9yU3BlZWQgPSBmdW5jdGlvbiBzZXRPcHRpbWl6ZUZvclNwZWVkKGJvb2wpIHtcbiAgICAgICAgaW52YXJpYW50JDEodHlwZW9mIGJvb2wgPT09IFwiYm9vbGVhblwiLCBcImBzZXRPcHRpbWl6ZUZvclNwZWVkYCBhY2NlcHRzIGEgYm9vbGVhblwiKTtcbiAgICAgICAgaW52YXJpYW50JDEodGhpcy5fcnVsZXNDb3VudCA9PT0gMCwgXCJvcHRpbWl6ZUZvclNwZWVkIGNhbm5vdCBiZSB3aGVuIHJ1bGVzIGhhdmUgYWxyZWFkeSBiZWVuIGluc2VydGVkXCIpO1xuICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIHRoaXMuX29wdGltaXplRm9yU3BlZWQgPSBib29sO1xuICAgICAgICB0aGlzLmluamVjdCgpO1xuICAgIH07XG4gICAgX3Byb3RvLmlzT3B0aW1pemVGb3JTcGVlZCA9IGZ1bmN0aW9uIGlzT3B0aW1pemVGb3JTcGVlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wdGltaXplRm9yU3BlZWQ7XG4gICAgfTtcbiAgICBfcHJvdG8uaW5qZWN0ID0gZnVuY3Rpb24gaW5qZWN0KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpbnZhcmlhbnQkMSghdGhpcy5faW5qZWN0ZWQsIFwic2hlZXQgYWxyZWFkeSBpbmplY3RlZFwiKTtcbiAgICAgICAgdGhpcy5faW5qZWN0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0aGlzLl9vcHRpbWl6ZUZvclNwZWVkKSB7XG4gICAgICAgICAgICB0aGlzLl90YWdzWzBdID0gdGhpcy5tYWtlU3R5bGVUYWcodGhpcy5fbmFtZSk7XG4gICAgICAgICAgICB0aGlzLl9vcHRpbWl6ZUZvclNwZWVkID0gXCJpbnNlcnRSdWxlXCIgaW4gdGhpcy5nZXRTaGVldCgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9vcHRpbWl6ZUZvclNwZWVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1Byb2QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiU3R5bGVTaGVldDogb3B0aW1pemVGb3JTcGVlZCBtb2RlIG5vdCBzdXBwb3J0ZWQgZmFsbGluZyBiYWNrIHRvIHN0YW5kYXJkIG1vZGUuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5qZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NlcnZlclNoZWV0ID0ge1xuICAgICAgICAgICAgY3NzUnVsZXM6IFtdLFxuICAgICAgICAgICAgaW5zZXJ0UnVsZTogZnVuY3Rpb24ocnVsZSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGluZGV4ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9zZXJ2ZXJTaGVldC5jc3NSdWxlc1tpbmRleF0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjc3NUZXh0OiBydWxlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3NlcnZlclNoZWV0LmNzc1J1bGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3NzVGV4dDogcnVsZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlbGV0ZVJ1bGU6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3NlcnZlclNoZWV0LmNzc1J1bGVzW2luZGV4XSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBfcHJvdG8uZ2V0U2hlZXRGb3JUYWcgPSBmdW5jdGlvbiBnZXRTaGVldEZvclRhZyh0YWcpIHtcbiAgICAgICAgaWYgKHRhZy5zaGVldCkge1xuICAgICAgICAgICAgcmV0dXJuIHRhZy5zaGVldDtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzIHdlaXJkbmVzcyBicm91Z2h0IHRvIHlvdSBieSBmaXJlZm94XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBkb2N1bWVudC5zdHlsZVNoZWV0cy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuc3R5bGVTaGVldHNbaV0ub3duZXJOb2RlID09PSB0YWcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuc3R5bGVTaGVldHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIF9wcm90by5nZXRTaGVldCA9IGZ1bmN0aW9uIGdldFNoZWV0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTaGVldEZvclRhZyh0aGlzLl90YWdzW3RoaXMuX3RhZ3MubGVuZ3RoIC0gMV0pO1xuICAgIH07XG4gICAgX3Byb3RvLmluc2VydFJ1bGUgPSBmdW5jdGlvbiBpbnNlcnRSdWxlKHJ1bGUsIGluZGV4KSB7XG4gICAgICAgIGludmFyaWFudCQxKGlzU3RyaW5nKHJ1bGUpLCBcImBpbnNlcnRSdWxlYCBhY2NlcHRzIG9ubHkgc3RyaW5nc1wiKTtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5kZXggIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IHRoaXMuX3NlcnZlclNoZWV0LmNzc1J1bGVzLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3NlcnZlclNoZWV0Lmluc2VydFJ1bGUocnVsZSwgaW5kZXgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3J1bGVzQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fb3B0aW1pemVGb3JTcGVlZCkge1xuICAgICAgICAgICAgdmFyIHNoZWV0ID0gdGhpcy5nZXRTaGVldCgpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbmRleCAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gc2hlZXQuY3NzUnVsZXMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGhpcyB3ZWlyZG5lc3MgZm9yIHBlcmYsIGFuZCBjaHJvbWUncyB3ZWlyZCBidWdcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzIwMDA3OTkyL2Nocm9tZS1zdWRkZW5seS1zdG9wcGVkLWFjY2VwdGluZy1pbnNlcnRydWxlXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHNoZWV0Lmluc2VydFJ1bGUocnVsZSwgaW5kZXgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzUHJvZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJTdHlsZVNoZWV0OiBpbGxlZ2FsIHJ1bGU6IFxcblxcblwiICsgcnVsZSArIFwiXFxuXFxuU2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8yMDAwNzk5MiBmb3IgbW9yZSBpbmZvXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgaW5zZXJ0aW9uUG9pbnQgPSB0aGlzLl90YWdzW2luZGV4XTtcbiAgICAgICAgICAgIHRoaXMuX3RhZ3MucHVzaCh0aGlzLm1ha2VTdHlsZVRhZyh0aGlzLl9uYW1lLCBydWxlLCBpbnNlcnRpb25Qb2ludCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9ydWxlc0NvdW50Kys7XG4gICAgfTtcbiAgICBfcHJvdG8ucmVwbGFjZVJ1bGUgPSBmdW5jdGlvbiByZXBsYWNlUnVsZShpbmRleCwgcnVsZSkge1xuICAgICAgICBpZiAodGhpcy5fb3B0aW1pemVGb3JTcGVlZCB8fCB0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB2YXIgc2hlZXQgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gdGhpcy5nZXRTaGVldCgpIDogdGhpcy5fc2VydmVyU2hlZXQ7XG4gICAgICAgICAgICBpZiAoIXJ1bGUudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgcnVsZSA9IHRoaXMuX2RlbGV0ZWRSdWxlUGxhY2Vob2xkZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXNoZWV0LmNzc1J1bGVzW2luZGV4XSkge1xuICAgICAgICAgICAgICAgIC8vIEBUQkQgU2hvdWxkIHdlIHRocm93IGFuIGVycm9yP1xuICAgICAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNoZWV0LmRlbGV0ZVJ1bGUoaW5kZXgpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzaGVldC5pbnNlcnRSdWxlKHJ1bGUsIGluZGV4KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1Byb2QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiU3R5bGVTaGVldDogaWxsZWdhbCBydWxlOiBcXG5cXG5cIiArIHJ1bGUgKyBcIlxcblxcblNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3EvMjAwMDc5OTIgZm9yIG1vcmUgaW5mb1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSW4gb3JkZXIgdG8gcHJlc2VydmUgdGhlIGluZGljZXMgd2UgaW5zZXJ0IGEgZGVsZXRlUnVsZVBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgICAgc2hlZXQuaW5zZXJ0UnVsZSh0aGlzLl9kZWxldGVkUnVsZVBsYWNlaG9sZGVyLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdGFnID0gdGhpcy5fdGFnc1tpbmRleF07XG4gICAgICAgICAgICBpbnZhcmlhbnQkMSh0YWcsIFwib2xkIHJ1bGUgYXQgaW5kZXggYFwiICsgaW5kZXggKyBcImAgbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgdGFnLnRleHRDb250ZW50ID0gcnVsZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfTtcbiAgICBfcHJvdG8uZGVsZXRlUnVsZSA9IGZ1bmN0aW9uIGRlbGV0ZVJ1bGUoaW5kZXgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX3NlcnZlclNoZWV0LmRlbGV0ZVJ1bGUoaW5kZXgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9vcHRpbWl6ZUZvclNwZWVkKSB7XG4gICAgICAgICAgICB0aGlzLnJlcGxhY2VSdWxlKGluZGV4LCBcIlwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0YWcgPSB0aGlzLl90YWdzW2luZGV4XTtcbiAgICAgICAgICAgIGludmFyaWFudCQxKHRhZywgXCJydWxlIGF0IGluZGV4IGBcIiArIGluZGV4ICsgXCJgIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIHRhZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRhZyk7XG4gICAgICAgICAgICB0aGlzLl90YWdzW2luZGV4XSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIF9wcm90by5mbHVzaCA9IGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICB0aGlzLl9pbmplY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9ydWxlc0NvdW50ID0gMDtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX3RhZ3MuZm9yRWFjaChmdW5jdGlvbih0YWcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFnICYmIHRhZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRhZyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX3RhZ3MgPSBbXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNpbXBsZXIgb24gc2VydmVyXG4gICAgICAgICAgICB0aGlzLl9zZXJ2ZXJTaGVldC5jc3NSdWxlcyA9IFtdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBfcHJvdG8uY3NzUnVsZXMgPSBmdW5jdGlvbiBjc3NSdWxlcygpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXJ2ZXJTaGVldC5jc3NSdWxlcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fdGFncy5yZWR1Y2UoZnVuY3Rpb24ocnVsZXMsIHRhZykge1xuICAgICAgICAgICAgaWYgKHRhZykge1xuICAgICAgICAgICAgICAgIHJ1bGVzID0gcnVsZXMuY29uY2F0KEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChfdGhpcy5nZXRTaGVldEZvclRhZyh0YWcpLmNzc1J1bGVzLCBmdW5jdGlvbihydWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBydWxlLmNzc1RleHQgPT09IF90aGlzLl9kZWxldGVkUnVsZVBsYWNlaG9sZGVyID8gbnVsbCA6IHJ1bGU7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBydWxlcy5wdXNoKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ1bGVzO1xuICAgICAgICB9LCBbXSk7XG4gICAgfTtcbiAgICBfcHJvdG8ubWFrZVN0eWxlVGFnID0gZnVuY3Rpb24gbWFrZVN0eWxlVGFnKG5hbWUsIGNzc1N0cmluZywgcmVsYXRpdmVUb1RhZykge1xuICAgICAgICBpZiAoY3NzU3RyaW5nKSB7XG4gICAgICAgICAgICBpbnZhcmlhbnQkMShpc1N0cmluZyhjc3NTdHJpbmcpLCBcIm1ha2VTdHlsZVRhZyBhY2NlcHRzIG9ubHkgc3RyaW5ncyBhcyBzZWNvbmQgcGFyYW1ldGVyXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICAgIGlmICh0aGlzLl9ub25jZSkgdGFnLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIHRoaXMuX25vbmNlKTtcbiAgICAgICAgdGFnLnR5cGUgPSBcInRleHQvY3NzXCI7XG4gICAgICAgIHRhZy5zZXRBdHRyaWJ1dGUoXCJkYXRhLVwiICsgbmFtZSwgXCJcIik7XG4gICAgICAgIGlmIChjc3NTdHJpbmcpIHtcbiAgICAgICAgICAgIHRhZy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3NTdHJpbmcpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaGVhZCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xuICAgICAgICBpZiAocmVsYXRpdmVUb1RhZykge1xuICAgICAgICAgICAgaGVhZC5pbnNlcnRCZWZvcmUodGFnLCByZWxhdGl2ZVRvVGFnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhlYWQuYXBwZW5kQ2hpbGQodGFnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFnO1xuICAgIH07XG4gICAgX2NyZWF0ZUNsYXNzKFN0eWxlU2hlZXQsIFtcbiAgICAgICAge1xuICAgICAgICAgICAga2V5OiBcImxlbmd0aFwiLFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3J1bGVzQ291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBdKTtcbiAgICByZXR1cm4gU3R5bGVTaGVldDtcbn0oKTtcbmZ1bmN0aW9uIGludmFyaWFudCQxKGNvbmRpdGlvbiwgbWVzc2FnZSkge1xuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN0eWxlU2hlZXQ6IFwiICsgbWVzc2FnZSArIFwiLlwiKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGhhc2goc3RyKSB7XG4gICAgdmFyIF8kaGFzaCA9IDUzODEsIGkgPSBzdHIubGVuZ3RoO1xuICAgIHdoaWxlKGkpe1xuICAgICAgICBfJGhhc2ggPSBfJGhhc2ggKiAzMyBeIHN0ci5jaGFyQ29kZUF0KC0taSk7XG4gICAgfVxuICAgIC8qIEphdmFTY3JpcHQgZG9lcyBiaXR3aXNlIG9wZXJhdGlvbnMgKGxpa2UgWE9SLCBhYm92ZSkgb24gMzItYml0IHNpZ25lZFxuICAgKiBpbnRlZ2Vycy4gU2luY2Ugd2Ugd2FudCB0aGUgcmVzdWx0cyB0byBiZSBhbHdheXMgcG9zaXRpdmUsIGNvbnZlcnQgdGhlXG4gICAqIHNpZ25lZCBpbnQgdG8gYW4gdW5zaWduZWQgYnkgZG9pbmcgYW4gdW5zaWduZWQgYml0c2hpZnQuICovIHJldHVybiBfJGhhc2ggPj4+IDA7XG59XG52YXIgc3RyaW5nSGFzaCA9IGhhc2g7XG5cbnZhciBzYW5pdGl6ZSA9IGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICByZXR1cm4gcnVsZS5yZXBsYWNlKC9cXC9zdHlsZS9naSwgXCJcXFxcL3N0eWxlXCIpO1xufTtcbnZhciBjYWNoZSA9IHt9O1xuLyoqXG4gKiBjb21wdXRlSWRcbiAqXG4gKiBDb21wdXRlIGFuZCBtZW1vaXplIGEganN4IGlkIGZyb20gYSBiYXNlZElkIGFuZCBvcHRpb25hbGx5IHByb3BzLlxuICovIGZ1bmN0aW9uIGNvbXB1dGVJZChiYXNlSWQsIHByb3BzKSB7XG4gICAgaWYgKCFwcm9wcykge1xuICAgICAgICByZXR1cm4gXCJqc3gtXCIgKyBiYXNlSWQ7XG4gICAgfVxuICAgIHZhciBwcm9wc1RvU3RyaW5nID0gU3RyaW5nKHByb3BzKTtcbiAgICB2YXIga2V5ID0gYmFzZUlkICsgcHJvcHNUb1N0cmluZztcbiAgICBpZiAoIWNhY2hlW2tleV0pIHtcbiAgICAgICAgY2FjaGVba2V5XSA9IFwianN4LVwiICsgc3RyaW5nSGFzaChiYXNlSWQgKyBcIi1cIiArIHByb3BzVG9TdHJpbmcpO1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGVba2V5XTtcbn1cbi8qKlxuICogY29tcHV0ZVNlbGVjdG9yXG4gKlxuICogQ29tcHV0ZSBhbmQgbWVtb2l6ZSBkeW5hbWljIHNlbGVjdG9ycy5cbiAqLyBmdW5jdGlvbiBjb21wdXRlU2VsZWN0b3IoaWQsIGNzcykge1xuICAgIHZhciBzZWxlY3RvUGxhY2Vob2xkZXJSZWdleHAgPSAvX19qc3gtc3R5bGUtZHluYW1pYy1zZWxlY3Rvci9nO1xuICAgIC8vIFNhbml0aXplIFNTUi1lZCBDU1MuXG4gICAgLy8gQ2xpZW50IHNpZGUgY29kZSBkb2Vzbid0IG5lZWQgdG8gYmUgc2FuaXRpemVkIHNpbmNlIHdlIHVzZVxuICAgIC8vIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlIChkZXYpIGFuZCB0aGUgQ1NTT00gYXBpIHNoZWV0Lmluc2VydFJ1bGUgKHByb2QpLlxuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGNzcyA9IHNhbml0aXplKGNzcyk7XG4gICAgfVxuICAgIHZhciBpZGNzcyA9IGlkICsgY3NzO1xuICAgIGlmICghY2FjaGVbaWRjc3NdKSB7XG4gICAgICAgIGNhY2hlW2lkY3NzXSA9IGNzcy5yZXBsYWNlKHNlbGVjdG9QbGFjZWhvbGRlclJlZ2V4cCwgaWQpO1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGVbaWRjc3NdO1xufVxuXG5mdW5jdGlvbiBtYXBSdWxlc1RvU3R5bGUoY3NzUnVsZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSBvcHRpb25zID0ge307XG4gICAgcmV0dXJuIGNzc1J1bGVzLm1hcChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBpZCA9IGFyZ3NbMF07XG4gICAgICAgIHZhciBjc3MgPSBhcmdzWzFdO1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qLyBSZWFjdF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInN0eWxlXCIsIHtcbiAgICAgICAgICAgIGlkOiBcIl9fXCIgKyBpZCxcbiAgICAgICAgICAgIC8vIEF2b2lkIHdhcm5pbmdzIHVwb24gcmVuZGVyIHdpdGggYSBrZXlcbiAgICAgICAgICAgIGtleTogXCJfX1wiICsgaWQsXG4gICAgICAgICAgICBub25jZTogb3B0aW9ucy5ub25jZSA/IG9wdGlvbnMubm9uY2UgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDoge1xuICAgICAgICAgICAgICAgIF9faHRtbDogY3NzXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxudmFyIFN0eWxlU2hlZXRSZWdpc3RyeSA9IC8qI19fUFVSRV9fKi8gZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gU3R5bGVTaGVldFJlZ2lzdHJ5KHBhcmFtKSB7XG4gICAgICAgIHZhciByZWYgPSBwYXJhbSA9PT0gdm9pZCAwID8ge30gOiBwYXJhbSwgX3N0eWxlU2hlZXQgPSByZWYuc3R5bGVTaGVldCwgc3R5bGVTaGVldCA9IF9zdHlsZVNoZWV0ID09PSB2b2lkIDAgPyBudWxsIDogX3N0eWxlU2hlZXQsIF9vcHRpbWl6ZUZvclNwZWVkID0gcmVmLm9wdGltaXplRm9yU3BlZWQsIG9wdGltaXplRm9yU3BlZWQgPSBfb3B0aW1pemVGb3JTcGVlZCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfb3B0aW1pemVGb3JTcGVlZDtcbiAgICAgICAgdGhpcy5fc2hlZXQgPSBzdHlsZVNoZWV0IHx8IG5ldyBTdHlsZVNoZWV0KHtcbiAgICAgICAgICAgIG5hbWU6IFwic3R5bGVkLWpzeFwiLFxuICAgICAgICAgICAgb3B0aW1pemVGb3JTcGVlZDogb3B0aW1pemVGb3JTcGVlZFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fc2hlZXQuaW5qZWN0KCk7XG4gICAgICAgIGlmIChzdHlsZVNoZWV0ICYmIHR5cGVvZiBvcHRpbWl6ZUZvclNwZWVkID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgdGhpcy5fc2hlZXQuc2V0T3B0aW1pemVGb3JTcGVlZChvcHRpbWl6ZUZvclNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuX29wdGltaXplRm9yU3BlZWQgPSB0aGlzLl9zaGVldC5pc09wdGltaXplRm9yU3BlZWQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mcm9tU2VydmVyID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9pbmRpY2VzID0ge307XG4gICAgICAgIHRoaXMuX2luc3RhbmNlc0NvdW50cyA9IHt9O1xuICAgIH1cbiAgICB2YXIgX3Byb3RvID0gU3R5bGVTaGVldFJlZ2lzdHJ5LnByb3RvdHlwZTtcbiAgICBfcHJvdG8uYWRkID0gZnVuY3Rpb24gYWRkKHByb3BzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh1bmRlZmluZWQgPT09IHRoaXMuX29wdGltaXplRm9yU3BlZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGltaXplRm9yU3BlZWQgPSBBcnJheS5pc0FycmF5KHByb3BzLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIHRoaXMuX3NoZWV0LnNldE9wdGltaXplRm9yU3BlZWQodGhpcy5fb3B0aW1pemVGb3JTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLl9vcHRpbWl6ZUZvclNwZWVkID0gdGhpcy5fc2hlZXQuaXNPcHRpbWl6ZUZvclNwZWVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgIXRoaXMuX2Zyb21TZXJ2ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2Zyb21TZXJ2ZXIgPSB0aGlzLnNlbGVjdEZyb21TZXJ2ZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlc0NvdW50cyA9IE9iamVjdC5rZXlzKHRoaXMuX2Zyb21TZXJ2ZXIpLnJlZHVjZShmdW5jdGlvbihhY2MsIHRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICBhY2NbdGFnTmFtZV0gPSAwO1xuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9LCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlZiA9IHRoaXMuZ2V0SWRBbmRSdWxlcyhwcm9wcyksIHN0eWxlSWQgPSByZWYuc3R5bGVJZCwgcnVsZXMgPSByZWYucnVsZXM7XG4gICAgICAgIC8vIERlZHVwaW5nOiBqdXN0IGluY3JlYXNlIHRoZSBpbnN0YW5jZXMgY291bnQuXG4gICAgICAgIGlmIChzdHlsZUlkIGluIHRoaXMuX2luc3RhbmNlc0NvdW50cykge1xuICAgICAgICAgICAgdGhpcy5faW5zdGFuY2VzQ291bnRzW3N0eWxlSWRdICs9IDE7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGljZXMgPSBydWxlcy5tYXAoZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9zaGVldC5pbnNlcnRSdWxlKHJ1bGUpO1xuICAgICAgICB9KS8vIEZpbHRlciBvdXQgaW52YWxpZCBydWxlc1xuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gaW5kZXggIT09IC0xO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5faW5kaWNlc1tzdHlsZUlkXSA9IGluZGljZXM7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlc0NvdW50c1tzdHlsZUlkXSA9IDE7XG4gICAgfTtcbiAgICBfcHJvdG8ucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKHByb3BzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzdHlsZUlkID0gdGhpcy5nZXRJZEFuZFJ1bGVzKHByb3BzKS5zdHlsZUlkO1xuICAgICAgICBpbnZhcmlhbnQoc3R5bGVJZCBpbiB0aGlzLl9pbnN0YW5jZXNDb3VudHMsIFwic3R5bGVJZDogYFwiICsgc3R5bGVJZCArIFwiYCBub3QgZm91bmRcIik7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlc0NvdW50c1tzdHlsZUlkXSAtPSAxO1xuICAgICAgICBpZiAodGhpcy5faW5zdGFuY2VzQ291bnRzW3N0eWxlSWRdIDwgMSkge1xuICAgICAgICAgICAgdmFyIHRhZ0Zyb21TZXJ2ZXIgPSB0aGlzLl9mcm9tU2VydmVyICYmIHRoaXMuX2Zyb21TZXJ2ZXJbc3R5bGVJZF07XG4gICAgICAgICAgICBpZiAodGFnRnJvbVNlcnZlcikge1xuICAgICAgICAgICAgICAgIHRhZ0Zyb21TZXJ2ZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0YWdGcm9tU2VydmVyKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fZnJvbVNlcnZlcltzdHlsZUlkXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5kaWNlc1tzdHlsZUlkXS5mb3JFYWNoKGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5fc2hlZXQuZGVsZXRlUnVsZShpbmRleCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2luZGljZXNbc3R5bGVJZF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5faW5zdGFuY2VzQ291bnRzW3N0eWxlSWRdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBfcHJvdG8udXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKHByb3BzLCBuZXh0UHJvcHMpIHtcbiAgICAgICAgdGhpcy5hZGQobmV4dFByb3BzKTtcbiAgICAgICAgdGhpcy5yZW1vdmUocHJvcHMpO1xuICAgIH07XG4gICAgX3Byb3RvLmZsdXNoID0gZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICAgIHRoaXMuX3NoZWV0LmZsdXNoKCk7XG4gICAgICAgIHRoaXMuX3NoZWV0LmluamVjdCgpO1xuICAgICAgICB0aGlzLl9mcm9tU2VydmVyID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9pbmRpY2VzID0ge307XG4gICAgICAgIHRoaXMuX2luc3RhbmNlc0NvdW50cyA9IHt9O1xuICAgIH07XG4gICAgX3Byb3RvLmNzc1J1bGVzID0gZnVuY3Rpb24gY3NzUnVsZXMoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBmcm9tU2VydmVyID0gdGhpcy5fZnJvbVNlcnZlciA/IE9iamVjdC5rZXlzKHRoaXMuX2Zyb21TZXJ2ZXIpLm1hcChmdW5jdGlvbihzdHlsZUlkKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIHN0eWxlSWQsXG4gICAgICAgICAgICAgICAgX3RoaXMuX2Zyb21TZXJ2ZXJbc3R5bGVJZF1cbiAgICAgICAgICAgIF07XG4gICAgICAgIH0pIDogW107XG4gICAgICAgIHZhciBjc3NSdWxlcyA9IHRoaXMuX3NoZWV0LmNzc1J1bGVzKCk7XG4gICAgICAgIHJldHVybiBmcm9tU2VydmVyLmNvbmNhdChPYmplY3Qua2V5cyh0aGlzLl9pbmRpY2VzKS5tYXAoZnVuY3Rpb24oc3R5bGVJZCkge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBzdHlsZUlkLFxuICAgICAgICAgICAgICAgIF90aGlzLl9pbmRpY2VzW3N0eWxlSWRdLm1hcChmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3NzUnVsZXNbaW5kZXhdLmNzc1RleHQ7XG4gICAgICAgICAgICAgICAgfSkuam9pbihfdGhpcy5fb3B0aW1pemVGb3JTcGVlZCA/IFwiXCIgOiBcIlxcblwiKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSkvLyBmaWx0ZXIgb3V0IGVtcHR5IHJ1bGVzXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICAgICAgcmV0dXJuIEJvb2xlYW4ocnVsZVsxXSk7XG4gICAgICAgIH0pKTtcbiAgICB9O1xuICAgIF9wcm90by5zdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbWFwUnVsZXNUb1N0eWxlKHRoaXMuY3NzUnVsZXMoKSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBfcHJvdG8uZ2V0SWRBbmRSdWxlcyA9IGZ1bmN0aW9uIGdldElkQW5kUnVsZXMocHJvcHMpIHtcbiAgICAgICAgdmFyIGNzcyA9IHByb3BzLmNoaWxkcmVuLCBkeW5hbWljID0gcHJvcHMuZHluYW1pYywgaWQgPSBwcm9wcy5pZDtcbiAgICAgICAgaWYgKGR5bmFtaWMpIHtcbiAgICAgICAgICAgIHZhciBzdHlsZUlkID0gY29tcHV0ZUlkKGlkLCBkeW5hbWljKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3R5bGVJZDogc3R5bGVJZCxcbiAgICAgICAgICAgICAgICBydWxlczogQXJyYXkuaXNBcnJheShjc3MpID8gY3NzLm1hcChmdW5jdGlvbihydWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wdXRlU2VsZWN0b3Ioc3R5bGVJZCwgcnVsZSk7XG4gICAgICAgICAgICAgICAgfSkgOiBbXG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVTZWxlY3RvcihzdHlsZUlkLCBjc3MpXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3R5bGVJZDogY29tcHV0ZUlkKGlkKSxcbiAgICAgICAgICAgIHJ1bGVzOiBBcnJheS5pc0FycmF5KGNzcykgPyBjc3MgOiBbXG4gICAgICAgICAgICAgICAgY3NzXG4gICAgICAgICAgICBdXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICogc2VsZWN0RnJvbVNlcnZlclxuICAgKlxuICAgKiBDb2xsZWN0cyBzdHlsZSB0YWdzIGZyb20gdGhlIGRvY3VtZW50IHdpdGggaWQgX19qc3gtWFhYXG4gICAqLyBfcHJvdG8uc2VsZWN0RnJvbVNlcnZlciA9IGZ1bmN0aW9uIHNlbGVjdEZyb21TZXJ2ZXIoKSB7XG4gICAgICAgIHZhciBlbGVtZW50cyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tpZF49XCJfX2pzeC1cIl0nKSk7XG4gICAgICAgIHJldHVybiBlbGVtZW50cy5yZWR1Y2UoZnVuY3Rpb24oYWNjLCBlbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgaWQgPSBlbGVtZW50LmlkLnNsaWNlKDIpO1xuICAgICAgICAgICAgYWNjW2lkXSA9IGVsZW1lbnQ7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3R5bGVTaGVldFJlZ2lzdHJ5O1xufSgpO1xuZnVuY3Rpb24gaW52YXJpYW50KGNvbmRpdGlvbiwgbWVzc2FnZSkge1xuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN0eWxlU2hlZXRSZWdpc3RyeTogXCIgKyBtZXNzYWdlICsgXCIuXCIpO1xuICAgIH1cbn1cbnZhciBTdHlsZVNoZWV0Q29udGV4dCA9IC8qI19fUFVSRV9fKi8gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcblN0eWxlU2hlZXRDb250ZXh0LmRpc3BsYXlOYW1lID0gXCJTdHlsZVNoZWV0Q29udGV4dFwiO1xuZnVuY3Rpb24gY3JlYXRlU3R5bGVSZWdpc3RyeSgpIHtcbiAgICByZXR1cm4gbmV3IFN0eWxlU2hlZXRSZWdpc3RyeSgpO1xufVxuZnVuY3Rpb24gU3R5bGVSZWdpc3RyeShwYXJhbSkge1xuICAgIHZhciBjb25maWd1cmVkUmVnaXN0cnkgPSBwYXJhbS5yZWdpc3RyeSwgY2hpbGRyZW4gPSBwYXJhbS5jaGlsZHJlbjtcbiAgICB2YXIgcm9vdFJlZ2lzdHJ5ID0gUmVhY3QudXNlQ29udGV4dChTdHlsZVNoZWV0Q29udGV4dCk7XG4gICAgdmFyIHJlZiA9IFJlYWN0LnVzZVN0YXRlKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gcm9vdFJlZ2lzdHJ5IHx8IGNvbmZpZ3VyZWRSZWdpc3RyeSB8fCBjcmVhdGVTdHlsZVJlZ2lzdHJ5KCk7XG4gICAgfSksIHJlZ2lzdHJ5ID0gcmVmWzBdO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovIFJlYWN0X19kZWZhdWx0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFN0eWxlU2hlZXRDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgICAgIHZhbHVlOiByZWdpc3RyeVxuICAgIH0sIGNoaWxkcmVuKTtcbn1cbmZ1bmN0aW9uIHVzZVN0eWxlUmVnaXN0cnkoKSB7XG4gICAgcmV0dXJuIFJlYWN0LnVzZUNvbnRleHQoU3R5bGVTaGVldENvbnRleHQpO1xufVxuXG4vLyBPcHQtaW50byB0aGUgbmV3IGB1c2VJbnNlcnRpb25FZmZlY3RgIEFQSSBpbiBSZWFjdCAxOCwgZmFsbGJhY2sgdG8gYHVzZUxheW91dEVmZmVjdGAuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vcmVhY3R3Zy9yZWFjdC0xOC9kaXNjdXNzaW9ucy8xMTBcbnZhciB1c2VJbnNlcnRpb25FZmZlY3QgPSBSZWFjdF9fZGVmYXVsdFtcImRlZmF1bHRcIl0udXNlSW5zZXJ0aW9uRWZmZWN0IHx8IFJlYWN0X19kZWZhdWx0W1wiZGVmYXVsdFwiXS51c2VMYXlvdXRFZmZlY3Q7XG52YXIgZGVmYXVsdFJlZ2lzdHJ5ID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IGNyZWF0ZVN0eWxlUmVnaXN0cnkoKSA6IHVuZGVmaW5lZDtcbmZ1bmN0aW9uIEpTWFN0eWxlKHByb3BzKSB7XG4gICAgdmFyIHJlZ2lzdHJ5ID0gZGVmYXVsdFJlZ2lzdHJ5ID8gZGVmYXVsdFJlZ2lzdHJ5IDogdXNlU3R5bGVSZWdpc3RyeSgpO1xuICAgIC8vIElmIGByZWdpc3RyeWAgZG9lcyBub3QgZXhpc3QsIHdlIGRvIG5vdGhpbmcgaGVyZS5cbiAgICBpZiAoIXJlZ2lzdHJ5KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZWdpc3RyeS5hZGQocHJvcHMpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdXNlSW5zZXJ0aW9uRWZmZWN0KGZ1bmN0aW9uKCkge1xuICAgICAgICByZWdpc3RyeS5hZGQocHJvcHMpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZWdpc3RyeS5yZW1vdmUocHJvcHMpO1xuICAgICAgICB9O1xuICAgIC8vIHByb3BzLmNoaWxkcmVuIGNhbiBiZSBzdHJpbmdbXSwgd2lsbCBiZSBzdHJpcGVkIHNpbmNlIGlkIGlzIGlkZW50aWNhbFxuICAgIH0sIFtcbiAgICAgICAgcHJvcHMuaWQsXG4gICAgICAgIFN0cmluZyhwcm9wcy5keW5hbWljKVxuICAgIF0pO1xuICAgIHJldHVybiBudWxsO1xufVxuSlNYU3R5bGUuZHluYW1pYyA9IGZ1bmN0aW9uKGluZm8pIHtcbiAgICByZXR1cm4gaW5mby5tYXAoZnVuY3Rpb24odGFnSW5mbykge1xuICAgICAgICB2YXIgYmFzZUlkID0gdGFnSW5mb1swXTtcbiAgICAgICAgdmFyIHByb3BzID0gdGFnSW5mb1sxXTtcbiAgICAgICAgcmV0dXJuIGNvbXB1dGVJZChiYXNlSWQsIHByb3BzKTtcbiAgICB9KS5qb2luKFwiIFwiKTtcbn07XG5cbmV4cG9ydHMuU3R5bGVSZWdpc3RyeSA9IFN0eWxlUmVnaXN0cnk7XG5leHBvcnRzLmNyZWF0ZVN0eWxlUmVnaXN0cnkgPSBjcmVhdGVTdHlsZVJlZ2lzdHJ5O1xuZXhwb3J0cy5zdHlsZSA9IEpTWFN0eWxlO1xuZXhwb3J0cy51c2VTdHlsZVJlZ2lzdHJ5ID0gdXNlU3R5bGVSZWdpc3RyeTtcbiJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiUmVhY3QiLCJfaW50ZXJvcERlZmF1bHRMZWdhY3kiLCJlIiwiUmVhY3RfX2RlZmF1bHQiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsIl9jcmVhdGVDbGFzcyIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwicHJvdG90eXBlIiwiaXNQcm9kIiwicHJvY2VzcyIsImVudiIsImlzU3RyaW5nIiwibyIsInRvU3RyaW5nIiwiY2FsbCIsIlN0eWxlU2hlZXQiLCJwYXJhbSIsInJlZiIsIl9uYW1lIiwibmFtZSIsIl9vcHRpbWl6ZUZvclNwZWVkIiwib3B0aW1pemVGb3JTcGVlZCIsImludmFyaWFudCQxIiwiX2RlbGV0ZWRSdWxlUGxhY2Vob2xkZXIiLCJfc2VydmVyU2hlZXQiLCJ1bmRlZmluZWQiLCJfdGFncyIsIl9pbmplY3RlZCIsIl9ydWxlc0NvdW50Iiwibm9kZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIl9ub25jZSIsImdldEF0dHJpYnV0ZSIsIl9wcm90byIsInNldE9wdGltaXplRm9yU3BlZWQiLCJib29sIiwiZmx1c2giLCJpbmplY3QiLCJpc09wdGltaXplRm9yU3BlZWQiLCJfdGhpcyIsIm1ha2VTdHlsZVRhZyIsImdldFNoZWV0IiwiY29uc29sZSIsIndhcm4iLCJjc3NSdWxlcyIsImluc2VydFJ1bGUiLCJydWxlIiwiaW5kZXgiLCJjc3NUZXh0IiwicHVzaCIsImRlbGV0ZVJ1bGUiLCJnZXRTaGVldEZvclRhZyIsInRhZyIsInNoZWV0Iiwic3R5bGVTaGVldHMiLCJvd25lck5vZGUiLCJlcnJvciIsImluc2VydGlvblBvaW50IiwicmVwbGFjZVJ1bGUiLCJ0cmltIiwidGV4dENvbnRlbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJmb3JFYWNoIiwicmVkdWNlIiwicnVsZXMiLCJjb25jYXQiLCJBcnJheSIsIm1hcCIsImNzc1N0cmluZyIsInJlbGF0aXZlVG9UYWciLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwidHlwZSIsImFwcGVuZENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJoZWFkIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpbnNlcnRCZWZvcmUiLCJnZXQiLCJjb25kaXRpb24iLCJtZXNzYWdlIiwiRXJyb3IiLCJoYXNoIiwic3RyIiwiXyRoYXNoIiwiY2hhckNvZGVBdCIsInN0cmluZ0hhc2giLCJzYW5pdGl6ZSIsInJlcGxhY2UiLCJjYWNoZSIsImNvbXB1dGVJZCIsImJhc2VJZCIsInByb3BzVG9TdHJpbmciLCJTdHJpbmciLCJjb21wdXRlU2VsZWN0b3IiLCJpZCIsImNzcyIsInNlbGVjdG9QbGFjZWhvbGRlclJlZ2V4cCIsImlkY3NzIiwibWFwUnVsZXNUb1N0eWxlIiwib3B0aW9ucyIsImFyZ3MiLCJub25jZSIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiX19odG1sIiwiU3R5bGVTaGVldFJlZ2lzdHJ5IiwiX3N0eWxlU2hlZXQiLCJzdHlsZVNoZWV0IiwiX3NoZWV0IiwiX2Zyb21TZXJ2ZXIiLCJfaW5kaWNlcyIsIl9pbnN0YW5jZXNDb3VudHMiLCJhZGQiLCJpc0FycmF5IiwiY2hpbGRyZW4iLCJzZWxlY3RGcm9tU2VydmVyIiwia2V5cyIsImFjYyIsInRhZ05hbWUiLCJnZXRJZEFuZFJ1bGVzIiwic3R5bGVJZCIsImluZGljZXMiLCJmaWx0ZXIiLCJyZW1vdmUiLCJpbnZhcmlhbnQiLCJ0YWdGcm9tU2VydmVyIiwidXBkYXRlIiwibmV4dFByb3BzIiwiZnJvbVNlcnZlciIsImpvaW4iLCJCb29sZWFuIiwic3R5bGVzIiwiZHluYW1pYyIsImVsZW1lbnRzIiwic2xpY2UiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWxlbWVudCIsIlN0eWxlU2hlZXRDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsImRpc3BsYXlOYW1lIiwiY3JlYXRlU3R5bGVSZWdpc3RyeSIsIlN0eWxlUmVnaXN0cnkiLCJjb25maWd1cmVkUmVnaXN0cnkiLCJyZWdpc3RyeSIsInJvb3RSZWdpc3RyeSIsInVzZUNvbnRleHQiLCJ1c2VTdGF0ZSIsIlByb3ZpZGVyIiwidmFsdWUiLCJ1c2VTdHlsZVJlZ2lzdHJ5IiwidXNlSW5zZXJ0aW9uRWZmZWN0IiwidXNlTGF5b3V0RWZmZWN0IiwiZGVmYXVsdFJlZ2lzdHJ5IiwiSlNYU3R5bGUiLCJpbmZvIiwidGFnSW5mbyIsImV4cG9ydHMiLCJzdHlsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/next/node_modules/styled-jsx/dist/index/index.js\n"));

/***/ }),

/***/ "./node_modules/next/node_modules/styled-jsx/style.js":
/*!************************************************************!*\
  !*** ./node_modules/next/node_modules/styled-jsx/style.js ***!
  \************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nmodule.exports = __webpack_require__(/*! ./dist/index */ \"./node_modules/next/node_modules/styled-jsx/dist/index/index.js\").style;\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9ub2RlX21vZHVsZXMvc3R5bGVkLWpzeC9zdHlsZS5qcyIsIm1hcHBpbmdzIjoiO0FBQUFBLGlJQUE4QyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbmV4dC9ub2RlX21vZHVsZXMvc3R5bGVkLWpzeC9zdHlsZS5qcz9iMjYwIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9kaXN0L2luZGV4Jykuc3R5bGVcbiJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicmVxdWlyZSIsInN0eWxlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/node_modules/styled-jsx/style.js\n"));

/***/ }),

/***/ "./pages/_app.tsx":
/*!************************!*\
  !*** ./pages/_app.tsx ***!
  \************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_reset_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/reset.css */ \"./styles/reset.css\");\n/* harmony import */ var _styles_reset_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_reset_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _cntrl_site_sdk_nextjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @cntrl-site/sdk-nextjs */ \"./node_modules/@cntrl-site/sdk-nextjs/lib/index.js\");\n/* harmony import */ var _cntrl_site_sdk_nextjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_cntrl_site_sdk_nextjs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _cntrl_site_sdk_style_sdk_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @cntrl-site/sdk/style/sdk.css */ \"./node_modules/@cntrl-site/sdk/dist/sdk.css\");\n/* harmony import */ var _cntrl_site_sdk_style_sdk_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_cntrl_site_sdk_style_sdk_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_WebGLProgressiveBlur__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/WebGLProgressiveBlur */ \"./components/WebGLProgressiveBlur.tsx\");\n\n\n\n\n\n// Enregistrer le composant WebGL Progressive Blur pour Control CMS\n_cntrl_site_sdk_nextjs__WEBPACK_IMPORTED_MODULE_2__.customItems.define(\"webgl-progressive-blur\", _components_WebGLProgressiveBlur__WEBPACK_IMPORTED_MODULE_4__.WebGLProgressiveBlur);\nfunction App(param) {\n    let { Component, pageProps } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_cntrl_site_sdk_nextjs__WEBPACK_IMPORTED_MODULE_2__.CntrlProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n            ...pageProps\n        }, void 0, false, {\n            fileName: \"/Users/ludovicveltz/Documents/SOLWEIG-IZAR/webgl-progressive-blur-main/pages/_app.tsx\",\n            lineNumber: 13,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/ludovicveltz/Documents/SOLWEIG-IZAR/webgl-progressive-blur-main/pages/_app.tsx\",\n        lineNumber: 12,\n        columnNumber: 5\n    }, this);\n}\n_c = App;\n/* harmony default export */ __webpack_exports__[\"default\"] = (App);\nvar _c;\n$RefreshReg$(_c, \"App\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUE2QjtBQUV1QztBQUM3QjtBQUNtQztBQUUxRSxtRUFBbUU7QUFDbkVDLCtEQUFXQSxDQUFDRSxNQUFNLENBQUMsMEJBQTBCRCxrRkFBb0JBO0FBRWpFLFNBQVNFLElBQUksS0FBa0M7UUFBbEMsRUFBRUMsU0FBUyxFQUFFQyxTQUFTLEVBQVksR0FBbEM7SUFDWCxxQkFDRSw4REFBQ04saUVBQWFBO2tCQUNaLDRFQUFDSztZQUFXLEdBQUdDLFNBQVM7Ozs7Ozs7Ozs7O0FBRzlCO0tBTlNGO0FBUVQsK0RBQWVBLEdBQUdBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vcGFnZXMvX2FwcC50c3g/MmZiZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4uL3N0eWxlcy9yZXNldC5jc3MnO1xuaW1wb3J0IHR5cGUgeyBBcHBQcm9wcyB9IGZyb20gJ25leHQvYXBwJztcbmltcG9ydCB7IENudHJsUHJvdmlkZXIsIGN1c3RvbUl0ZW1zIH0gZnJvbSAnQGNudHJsLXNpdGUvc2RrLW5leHRqcyc7XG5pbXBvcnQgJ0BjbnRybC1zaXRlL3Nkay9zdHlsZS9zZGsuY3NzJztcbmltcG9ydCB7IFdlYkdMUHJvZ3Jlc3NpdmVCbHVyIH0gZnJvbSAnLi4vY29tcG9uZW50cy9XZWJHTFByb2dyZXNzaXZlQmx1cic7XG5cbi8vIEVucmVnaXN0cmVyIGxlIGNvbXBvc2FudCBXZWJHTCBQcm9ncmVzc2l2ZSBCbHVyIHBvdXIgQ29udHJvbCBDTVNcbmN1c3RvbUl0ZW1zLmRlZmluZSgnd2ViZ2wtcHJvZ3Jlc3NpdmUtYmx1cicsIFdlYkdMUHJvZ3Jlc3NpdmVCbHVyKTtcblxuZnVuY3Rpb24gQXBwKHsgQ29tcG9uZW50LCBwYWdlUHJvcHMgfTogQXBwUHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8Q250cmxQcm92aWRlcj5cbiAgICAgIDxDb21wb25lbnQgey4uLnBhZ2VQcm9wc30gLz5cbiAgICA8L0NudHJsUHJvdmlkZXI+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwcDtcbiJdLCJuYW1lcyI6WyJDbnRybFByb3ZpZGVyIiwiY3VzdG9tSXRlbXMiLCJXZWJHTFByb2dyZXNzaXZlQmx1ciIsImRlZmluZSIsIkFwcCIsIkNvbXBvbmVudCIsInBhZ2VQcm9wcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/_app.tsx\n"));

/***/ }),

/***/ "./node_modules/next/dist/compiled/client-only/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/next/dist/compiled/client-only/index.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {



/***/ }),

/***/ "./node_modules/next/dist/compiled/native-url/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/next/dist/compiled/native-url/index.js ***!
  \*************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var __dirname = \"/\";\n(function(){var e={452:function(e){\"use strict\";e.exports=__webpack_require__(/*! next/dist/compiled/querystring-es3 */ \"./node_modules/next/dist/compiled/querystring-es3/index.js\")}};var t={};function __nccwpck_require__(o){var a=t[o];if(a!==undefined){return a.exports}var s=t[o]={exports:{}};var n=true;try{e[o](s,s.exports,__nccwpck_require__);n=false}finally{if(n)delete t[o]}return s.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var o={};!function(){var e=o;var t,a=(t=__nccwpck_require__(452))&&\"object\"==typeof t&&\"default\"in t?t.default:t,s=/https?|ftp|gopher|file/;function r(e){\"string\"==typeof e&&(e=d(e));var t=function(e,t,o){var a=e.auth,s=e.hostname,n=e.protocol||\"\",p=e.pathname||\"\",c=e.hash||\"\",i=e.query||\"\",u=!1;a=a?encodeURIComponent(a).replace(/%3A/i,\":\")+\"@\":\"\",e.host?u=a+e.host:s&&(u=a+(~s.indexOf(\":\")?\"[\"+s+\"]\":s),e.port&&(u+=\":\"+e.port)),i&&\"object\"==typeof i&&(i=t.encode(i));var f=e.search||i&&\"?\"+i||\"\";return n&&\":\"!==n.substr(-1)&&(n+=\":\"),e.slashes||(!n||o.test(n))&&!1!==u?(u=\"//\"+(u||\"\"),p&&\"/\"!==p[0]&&(p=\"/\"+p)):u||(u=\"\"),c&&\"#\"!==c[0]&&(c=\"#\"+c),f&&\"?\"!==f[0]&&(f=\"?\"+f),{protocol:n,host:u,pathname:p=p.replace(/[?#]/g,encodeURIComponent),search:f=f.replace(\"#\",\"%23\"),hash:c}}(e,a,s);return\"\"+t.protocol+t.host+t.pathname+t.search+t.hash}var n=\"http://\",p=\"w.w\",c=n+p,i=/^([a-z0-9.+-]*:\\/\\/\\/)([a-z0-9.+-]:\\/*)?/i,u=/https?|ftp|gopher|file/;function h(e,t){var o=\"string\"==typeof e?d(e):e;e=\"object\"==typeof e?r(e):e;var a=d(t),s=\"\";o.protocol&&!o.slashes&&(s=o.protocol,e=e.replace(o.protocol,\"\"),s+=\"/\"===t[0]||\"/\"===e[0]?\"/\":\"\"),s&&a.protocol&&(s=\"\",a.slashes||(s=a.protocol,t=t.replace(a.protocol,\"\")));var p=e.match(i);p&&!a.protocol&&(e=e.substr((s=p[1]+(p[2]||\"\")).length),/^\\/\\/[^/]/.test(t)&&(s=s.slice(0,-1)));var f=new URL(e,c+\"/\"),m=new URL(t,f).toString().replace(c,\"\"),v=a.protocol||o.protocol;return v+=o.slashes||a.slashes?\"//\":\"\",!s&&v?m=m.replace(n,v):s&&(m=m.replace(n,\"\")),u.test(m)||~t.indexOf(\".\")||\"/\"===e.slice(-1)||\"/\"===t.slice(-1)||\"/\"!==m.slice(-1)||(m=m.slice(0,-1)),s&&(m=s+(\"/\"===m[0]?m.substr(1):m)),m}function l(){}l.prototype.parse=d,l.prototype.format=r,l.prototype.resolve=h,l.prototype.resolveObject=h;var f=/^https?|ftp|gopher|file/,m=/^(.*?)([#?].*)/,v=/^([a-z0-9.+-]*:)(\\/{0,3})(.*)/i,_=/^([a-z0-9.+-]*:)?\\/\\/\\/*/i,b=/^([a-z0-9.+-]*:)(\\/{0,2})\\[(.*)\\]$/i;function d(e,t,o){if(void 0===t&&(t=!1),void 0===o&&(o=!1),e&&\"object\"==typeof e&&e instanceof l)return e;var s=(e=e.trim()).match(m);e=s?s[1].replace(/\\\\/g,\"/\")+s[2]:e.replace(/\\\\/g,\"/\"),b.test(e)&&\"/\"!==e.slice(-1)&&(e+=\"/\");var n=!/(^javascript)/.test(e)&&e.match(v),i=_.test(e),u=\"\";n&&(f.test(n[1])||(u=n[1].toLowerCase(),e=\"\"+n[2]+n[3]),n[2]||(i=!1,f.test(n[1])?(u=n[1],e=\"\"+n[3]):e=\"//\"+n[3]),3!==n[2].length&&1!==n[2].length||(u=n[1],e=\"/\"+n[3]));var g,y=(s?s[1]:e).match(/^https?:\\/\\/[^/]+(:[0-9]+)(?=\\/|$)/),w=y&&y[1],x=new l,C=\"\",U=\"\";try{g=new URL(e)}catch(t){C=t,u||o||!/^\\/\\//.test(e)||/^\\/\\/.+[@.]/.test(e)||(U=\"/\",e=e.substr(1));try{g=new URL(e,c)}catch(e){return x.protocol=u,x.href=u,x}}x.slashes=i&&!U,x.host=g.host===p?\"\":g.host,x.hostname=g.hostname===p?\"\":g.hostname.replace(/(\\[|\\])/g,\"\"),x.protocol=C?u||null:g.protocol,x.search=g.search.replace(/\\\\/g,\"%5C\"),x.hash=g.hash.replace(/\\\\/g,\"%5C\");var j=e.split(\"#\");!x.search&&~j[0].indexOf(\"?\")&&(x.search=\"?\"),x.hash||\"\"!==j[1]||(x.hash=\"#\"),x.query=t?a.decode(g.search.substr(1)):x.search.substr(1),x.pathname=U+(n?function(e){return e.replace(/['^|`]/g,(function(e){return\"%\"+e.charCodeAt().toString(16).toUpperCase()})).replace(/((?:%[0-9A-F]{2})+)/g,(function(e,t){try{return decodeURIComponent(t).split(\"\").map((function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:\"%\"+t.toString(16).toUpperCase()})).join(\"\")}catch(e){return t}}))}(g.pathname):g.pathname),\"about:\"===x.protocol&&\"blank\"===x.pathname&&(x.protocol=\"\",x.pathname=\"\"),C&&\"/\"!==e[0]&&(x.pathname=x.pathname.substr(1)),u&&!f.test(u)&&\"/\"!==e.slice(-1)&&\"/\"===x.pathname&&(x.pathname=\"\"),x.path=x.pathname+x.search,x.auth=[g.username,g.password].map(decodeURIComponent).filter(Boolean).join(\":\"),x.port=g.port,w&&!x.host.endsWith(w)&&(x.host+=w,x.port=w.slice(1)),x.href=U?\"\"+x.pathname+x.search+x.hash:r(x);var q=/^(file)/.test(x.href)?[\"host\",\"hostname\"]:[];return Object.keys(x).forEach((function(e){~q.indexOf(e)||(x[e]=x[e]||null)})),x}e.parse=d,e.format=r,e.resolve=h,e.resolveObject=function(e,t){return d(h(e,t))},e.Url=l}();module.exports=o})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL25hdGl2ZS11cmwvaW5kZXguanMiLCJtYXBwaW5ncyI6IjtBQUFBLFlBQVksT0FBTyxnQkFBZ0IsYUFBYSxVQUFVLG1CQUFPLENBQUMsc0dBQW9DLElBQUksU0FBUyxnQ0FBZ0MsV0FBVyxrQkFBa0IsaUJBQWlCLFlBQVksWUFBWSxXQUFXLElBQUksc0NBQXNDLFFBQVEsUUFBUSxpQkFBaUIsaUJBQWlCLG1FQUFtRSxTQUFTLEtBQUssU0FBUyxZQUFZLFFBQVEsK0dBQStHLGNBQWMsNkJBQTZCLHNCQUFzQiw0RkFBNEYsNktBQTZLLDZCQUE2QixpTEFBaUwseUdBQXlHLFFBQVEsc0RBQXNELHVHQUF1RyxnQkFBZ0IsZ0NBQWdDLDRCQUE0QixnQkFBZ0IsOEtBQThLLGlCQUFpQixnR0FBZ0csd0ZBQXdGLGtPQUFrTyxjQUFjLDJGQUEyRiwwRUFBMEUsSUFBSSw2REFBNkQsSUFBSSxhQUFhLGtCQUFrQix3RkFBd0YsNEJBQTRCLDZGQUE2Riw0REFBNEQsd0tBQXdLLDJGQUEyRixJQUFJLGFBQWEsU0FBUyx5RUFBeUUsSUFBSSxlQUFlLFNBQVMsZ0NBQWdDLHFOQUFxTixtQkFBbUIsb0tBQW9LLHdDQUF3QyxvREFBb0QsMEJBQTBCLEVBQUUscUJBQXFCLElBQUksd0RBQXdELHFCQUFxQix1RUFBdUUsWUFBWSxTQUFTLFVBQVUsR0FBRyxxYkFBcWIsb0RBQW9ELDJDQUEyQyxpQ0FBaUMsS0FBSywrREFBK0QsaUJBQWlCLFNBQVMsR0FBRyxpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9uYXRpdmUtdXJsL2luZGV4LmpzPzcyNDUiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7dmFyIGU9ezQ1MjpmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9cmVxdWlyZShcIm5leHQvZGlzdC9jb21waWxlZC9xdWVyeXN0cmluZy1lczNcIil9fTt2YXIgdD17fTtmdW5jdGlvbiBfX25jY3dwY2tfcmVxdWlyZV9fKG8pe3ZhciBhPXRbb107aWYoYSE9PXVuZGVmaW5lZCl7cmV0dXJuIGEuZXhwb3J0c312YXIgcz10W29dPXtleHBvcnRzOnt9fTt2YXIgbj10cnVlO3RyeXtlW29dKHMscy5leHBvcnRzLF9fbmNjd3Bja19yZXF1aXJlX18pO249ZmFsc2V9ZmluYWxseXtpZihuKWRlbGV0ZSB0W29dfXJldHVybiBzLmV4cG9ydHN9aWYodHlwZW9mIF9fbmNjd3Bja19yZXF1aXJlX18hPT1cInVuZGVmaW5lZFwiKV9fbmNjd3Bja19yZXF1aXJlX18uYWI9X19kaXJuYW1lK1wiL1wiO3ZhciBvPXt9OyFmdW5jdGlvbigpe3ZhciBlPW87dmFyIHQsYT0odD1fX25jY3dwY2tfcmVxdWlyZV9fKDQ1MikpJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmXCJkZWZhdWx0XCJpbiB0P3QuZGVmYXVsdDp0LHM9L2h0dHBzP3xmdHB8Z29waGVyfGZpbGUvO2Z1bmN0aW9uIHIoZSl7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPWQoZSkpO3ZhciB0PWZ1bmN0aW9uKGUsdCxvKXt2YXIgYT1lLmF1dGgscz1lLmhvc3RuYW1lLG49ZS5wcm90b2NvbHx8XCJcIixwPWUucGF0aG5hbWV8fFwiXCIsYz1lLmhhc2h8fFwiXCIsaT1lLnF1ZXJ5fHxcIlwiLHU9ITE7YT1hP2VuY29kZVVSSUNvbXBvbmVudChhKS5yZXBsYWNlKC8lM0EvaSxcIjpcIikrXCJAXCI6XCJcIixlLmhvc3Q/dT1hK2UuaG9zdDpzJiYodT1hKyh+cy5pbmRleE9mKFwiOlwiKT9cIltcIitzK1wiXVwiOnMpLGUucG9ydCYmKHUrPVwiOlwiK2UucG9ydCkpLGkmJlwib2JqZWN0XCI9PXR5cGVvZiBpJiYoaT10LmVuY29kZShpKSk7dmFyIGY9ZS5zZWFyY2h8fGkmJlwiP1wiK2l8fFwiXCI7cmV0dXJuIG4mJlwiOlwiIT09bi5zdWJzdHIoLTEpJiYobis9XCI6XCIpLGUuc2xhc2hlc3x8KCFufHxvLnRlc3QobikpJiYhMSE9PXU/KHU9XCIvL1wiKyh1fHxcIlwiKSxwJiZcIi9cIiE9PXBbMF0mJihwPVwiL1wiK3ApKTp1fHwodT1cIlwiKSxjJiZcIiNcIiE9PWNbMF0mJihjPVwiI1wiK2MpLGYmJlwiP1wiIT09ZlswXSYmKGY9XCI/XCIrZikse3Byb3RvY29sOm4saG9zdDp1LHBhdGhuYW1lOnA9cC5yZXBsYWNlKC9bPyNdL2csZW5jb2RlVVJJQ29tcG9uZW50KSxzZWFyY2g6Zj1mLnJlcGxhY2UoXCIjXCIsXCIlMjNcIiksaGFzaDpjfX0oZSxhLHMpO3JldHVyblwiXCIrdC5wcm90b2NvbCt0Lmhvc3QrdC5wYXRobmFtZSt0LnNlYXJjaCt0Lmhhc2h9dmFyIG49XCJodHRwOi8vXCIscD1cIncud1wiLGM9bitwLGk9L14oW2EtejAtOS4rLV0qOlxcL1xcL1xcLykoW2EtejAtOS4rLV06XFwvKik/L2ksdT0vaHR0cHM/fGZ0cHxnb3BoZXJ8ZmlsZS87ZnVuY3Rpb24gaChlLHQpe3ZhciBvPVwic3RyaW5nXCI9PXR5cGVvZiBlP2QoZSk6ZTtlPVwib2JqZWN0XCI9PXR5cGVvZiBlP3IoZSk6ZTt2YXIgYT1kKHQpLHM9XCJcIjtvLnByb3RvY29sJiYhby5zbGFzaGVzJiYocz1vLnByb3RvY29sLGU9ZS5yZXBsYWNlKG8ucHJvdG9jb2wsXCJcIikscys9XCIvXCI9PT10WzBdfHxcIi9cIj09PWVbMF0/XCIvXCI6XCJcIikscyYmYS5wcm90b2NvbCYmKHM9XCJcIixhLnNsYXNoZXN8fChzPWEucHJvdG9jb2wsdD10LnJlcGxhY2UoYS5wcm90b2NvbCxcIlwiKSkpO3ZhciBwPWUubWF0Y2goaSk7cCYmIWEucHJvdG9jb2wmJihlPWUuc3Vic3RyKChzPXBbMV0rKHBbMl18fFwiXCIpKS5sZW5ndGgpLC9eXFwvXFwvW14vXS8udGVzdCh0KSYmKHM9cy5zbGljZSgwLC0xKSkpO3ZhciBmPW5ldyBVUkwoZSxjK1wiL1wiKSxtPW5ldyBVUkwodCxmKS50b1N0cmluZygpLnJlcGxhY2UoYyxcIlwiKSx2PWEucHJvdG9jb2x8fG8ucHJvdG9jb2w7cmV0dXJuIHYrPW8uc2xhc2hlc3x8YS5zbGFzaGVzP1wiLy9cIjpcIlwiLCFzJiZ2P209bS5yZXBsYWNlKG4sdik6cyYmKG09bS5yZXBsYWNlKG4sXCJcIikpLHUudGVzdChtKXx8fnQuaW5kZXhPZihcIi5cIil8fFwiL1wiPT09ZS5zbGljZSgtMSl8fFwiL1wiPT09dC5zbGljZSgtMSl8fFwiL1wiIT09bS5zbGljZSgtMSl8fChtPW0uc2xpY2UoMCwtMSkpLHMmJihtPXMrKFwiL1wiPT09bVswXT9tLnN1YnN0cigxKTptKSksbX1mdW5jdGlvbiBsKCl7fWwucHJvdG90eXBlLnBhcnNlPWQsbC5wcm90b3R5cGUuZm9ybWF0PXIsbC5wcm90b3R5cGUucmVzb2x2ZT1oLGwucHJvdG90eXBlLnJlc29sdmVPYmplY3Q9aDt2YXIgZj0vXmh0dHBzP3xmdHB8Z29waGVyfGZpbGUvLG09L14oLio/KShbIz9dLiopLyx2PS9eKFthLXowLTkuKy1dKjopKFxcL3swLDN9KSguKikvaSxfPS9eKFthLXowLTkuKy1dKjopP1xcL1xcL1xcLyovaSxiPS9eKFthLXowLTkuKy1dKjopKFxcL3swLDJ9KVxcWyguKilcXF0kL2k7ZnVuY3Rpb24gZChlLHQsbyl7aWYodm9pZCAwPT09dCYmKHQ9ITEpLHZvaWQgMD09PW8mJihvPSExKSxlJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmZSBpbnN0YW5jZW9mIGwpcmV0dXJuIGU7dmFyIHM9KGU9ZS50cmltKCkpLm1hdGNoKG0pO2U9cz9zWzFdLnJlcGxhY2UoL1xcXFwvZyxcIi9cIikrc1syXTplLnJlcGxhY2UoL1xcXFwvZyxcIi9cIiksYi50ZXN0KGUpJiZcIi9cIiE9PWUuc2xpY2UoLTEpJiYoZSs9XCIvXCIpO3ZhciBuPSEvKF5qYXZhc2NyaXB0KS8udGVzdChlKSYmZS5tYXRjaCh2KSxpPV8udGVzdChlKSx1PVwiXCI7biYmKGYudGVzdChuWzFdKXx8KHU9blsxXS50b0xvd2VyQ2FzZSgpLGU9XCJcIituWzJdK25bM10pLG5bMl18fChpPSExLGYudGVzdChuWzFdKT8odT1uWzFdLGU9XCJcIituWzNdKTplPVwiLy9cIituWzNdKSwzIT09blsyXS5sZW5ndGgmJjEhPT1uWzJdLmxlbmd0aHx8KHU9blsxXSxlPVwiL1wiK25bM10pKTt2YXIgZyx5PShzP3NbMV06ZSkubWF0Y2goL15odHRwcz86XFwvXFwvW14vXSsoOlswLTldKykoPz1cXC98JCkvKSx3PXkmJnlbMV0seD1uZXcgbCxDPVwiXCIsVT1cIlwiO3RyeXtnPW5ldyBVUkwoZSl9Y2F0Y2godCl7Qz10LHV8fG98fCEvXlxcL1xcLy8udGVzdChlKXx8L15cXC9cXC8uK1tALl0vLnRlc3QoZSl8fChVPVwiL1wiLGU9ZS5zdWJzdHIoMSkpO3RyeXtnPW5ldyBVUkwoZSxjKX1jYXRjaChlKXtyZXR1cm4geC5wcm90b2NvbD11LHguaHJlZj11LHh9fXguc2xhc2hlcz1pJiYhVSx4Lmhvc3Q9Zy5ob3N0PT09cD9cIlwiOmcuaG9zdCx4Lmhvc3RuYW1lPWcuaG9zdG5hbWU9PT1wP1wiXCI6Zy5ob3N0bmFtZS5yZXBsYWNlKC8oXFxbfFxcXSkvZyxcIlwiKSx4LnByb3RvY29sPUM/dXx8bnVsbDpnLnByb3RvY29sLHguc2VhcmNoPWcuc2VhcmNoLnJlcGxhY2UoL1xcXFwvZyxcIiU1Q1wiKSx4Lmhhc2g9Zy5oYXNoLnJlcGxhY2UoL1xcXFwvZyxcIiU1Q1wiKTt2YXIgaj1lLnNwbGl0KFwiI1wiKTsheC5zZWFyY2gmJn5qWzBdLmluZGV4T2YoXCI/XCIpJiYoeC5zZWFyY2g9XCI/XCIpLHguaGFzaHx8XCJcIiE9PWpbMV18fCh4Lmhhc2g9XCIjXCIpLHgucXVlcnk9dD9hLmRlY29kZShnLnNlYXJjaC5zdWJzdHIoMSkpOnguc2VhcmNoLnN1YnN0cigxKSx4LnBhdGhuYW1lPVUrKG4/ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvWydefGBdL2csKGZ1bmN0aW9uKGUpe3JldHVyblwiJVwiK2UuY2hhckNvZGVBdCgpLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpfSkpLnJlcGxhY2UoLygoPzolWzAtOUEtRl17Mn0pKykvZywoZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh0KS5zcGxpdChcIlwiKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PWUuY2hhckNvZGVBdCgpO3JldHVybiB0PjI1Nnx8L15bYS16MC05XSQvaS50ZXN0KGUpP2U6XCIlXCIrdC50b1N0cmluZygxNikudG9VcHBlckNhc2UoKX0pKS5qb2luKFwiXCIpfWNhdGNoKGUpe3JldHVybiB0fX0pKX0oZy5wYXRobmFtZSk6Zy5wYXRobmFtZSksXCJhYm91dDpcIj09PXgucHJvdG9jb2wmJlwiYmxhbmtcIj09PXgucGF0aG5hbWUmJih4LnByb3RvY29sPVwiXCIseC5wYXRobmFtZT1cIlwiKSxDJiZcIi9cIiE9PWVbMF0mJih4LnBhdGhuYW1lPXgucGF0aG5hbWUuc3Vic3RyKDEpKSx1JiYhZi50ZXN0KHUpJiZcIi9cIiE9PWUuc2xpY2UoLTEpJiZcIi9cIj09PXgucGF0aG5hbWUmJih4LnBhdGhuYW1lPVwiXCIpLHgucGF0aD14LnBhdGhuYW1lK3guc2VhcmNoLHguYXV0aD1bZy51c2VybmFtZSxnLnBhc3N3b3JkXS5tYXAoZGVjb2RlVVJJQ29tcG9uZW50KS5maWx0ZXIoQm9vbGVhbikuam9pbihcIjpcIikseC5wb3J0PWcucG9ydCx3JiYheC5ob3N0LmVuZHNXaXRoKHcpJiYoeC5ob3N0Kz13LHgucG9ydD13LnNsaWNlKDEpKSx4LmhyZWY9VT9cIlwiK3gucGF0aG5hbWUreC5zZWFyY2greC5oYXNoOnIoeCk7dmFyIHE9L14oZmlsZSkvLnRlc3QoeC5ocmVmKT9bXCJob3N0XCIsXCJob3N0bmFtZVwiXTpbXTtyZXR1cm4gT2JqZWN0LmtleXMoeCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7fnEuaW5kZXhPZihlKXx8KHhbZV09eFtlXXx8bnVsbCl9KSkseH1lLnBhcnNlPWQsZS5mb3JtYXQ9cixlLnJlc29sdmU9aCxlLnJlc29sdmVPYmplY3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZChoKGUsdCkpfSxlLlVybD1sfSgpO21vZHVsZS5leHBvcnRzPW99KSgpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/compiled/native-url/index.js\n"));

/***/ }),

/***/ "./node_modules/next/dist/compiled/process/browser.js":
/*!************************************************************!*\
  !*** ./node_modules/next/dist/compiled/process/browser.js ***!
  \************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var __dirname = \"/\";\n(function(){var e={229:function(e){var t=e.exports={};var r;var n;function defaultSetTimout(){throw new Error(\"setTimeout has not been defined\")}function defaultClearTimeout(){throw new Error(\"clearTimeout has not been defined\")}(function(){try{if(typeof setTimeout===\"function\"){r=setTimeout}else{r=defaultSetTimout}}catch(e){r=defaultSetTimout}try{if(typeof clearTimeout===\"function\"){n=clearTimeout}else{n=defaultClearTimeout}}catch(e){n=defaultClearTimeout}})();function runTimeout(e){if(r===setTimeout){return setTimeout(e,0)}if((r===defaultSetTimout||!r)&&setTimeout){r=setTimeout;return setTimeout(e,0)}try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function runClearTimeout(e){if(n===clearTimeout){return clearTimeout(e)}if((n===defaultClearTimeout||!n)&&clearTimeout){n=clearTimeout;return clearTimeout(e)}try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}var i=[];var o=false;var u;var a=-1;function cleanUpNextTick(){if(!o||!u){return}o=false;if(u.length){i=u.concat(i)}else{a=-1}if(i.length){drainQueue()}}function drainQueue(){if(o){return}var e=runTimeout(cleanUpNextTick);o=true;var t=i.length;while(t){u=i;i=[];while(++a<t){if(u){u[a].run()}}a=-1;t=i.length}u=null;o=false;runClearTimeout(e)}t.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}i.push(new Item(e,t));if(i.length===1&&!o){runTimeout(drainQueue)}};function Item(e,t){this.fun=e;this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};t.title=\"browser\";t.browser=true;t.env={};t.argv=[];t.version=\"\";t.versions={};function noop(){}t.on=noop;t.addListener=noop;t.once=noop;t.off=noop;t.removeListener=noop;t.removeAllListeners=noop;t.emit=noop;t.prependListener=noop;t.prependOnceListener=noop;t.listeners=function(e){return[]};t.binding=function(e){throw new Error(\"process.binding is not supported\")};t.cwd=function(){return\"/\"};t.chdir=function(e){throw new Error(\"process.chdir is not supported\")};t.umask=function(){return 0}}};var t={};function __nccwpck_require__(r){var n=t[r];if(n!==undefined){return n.exports}var i=t[r]={exports:{}};var o=true;try{e[r](i,i.exports,__nccwpck_require__);o=false}finally{if(o)delete t[r]}return i.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var r=__nccwpck_require__(229);module.exports=r})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIm1hcHBpbmdzIjoiO0FBQUEsWUFBWSxPQUFPLGdCQUFnQixtQkFBbUIsTUFBTSxNQUFNLDRCQUE0QixtREFBbUQsK0JBQStCLHFEQUFxRCxZQUFZLElBQUksbUNBQW1DLGFBQWEsS0FBSyxvQkFBb0IsU0FBUyxtQkFBbUIsSUFBSSxxQ0FBcUMsZUFBZSxLQUFLLHVCQUF1QixTQUFTLHVCQUF1QixJQUFJLHVCQUF1QixtQkFBbUIsdUJBQXVCLDJDQUEyQyxhQUFhLHVCQUF1QixJQUFJLGNBQWMsU0FBUyxJQUFJLHdCQUF3QixTQUFTLDBCQUEwQiw0QkFBNEIscUJBQXFCLHVCQUF1QixnREFBZ0QsZUFBZSx1QkFBdUIsSUFBSSxZQUFZLFNBQVMsSUFBSSxzQkFBc0IsU0FBUyx3QkFBd0IsU0FBUyxZQUFZLE1BQU0sU0FBUywyQkFBMkIsV0FBVyxPQUFPLFFBQVEsYUFBYSxjQUFjLEtBQUssS0FBSyxhQUFhLGNBQWMsc0JBQXNCLE1BQU0sT0FBTyxrQ0FBa0MsT0FBTyxlQUFlLFNBQVMsSUFBSSxLQUFLLGFBQWEsTUFBTSxZQUFZLEtBQUssV0FBVyxPQUFPLFFBQVEsbUJBQW1CLHVCQUF1QixvQ0FBb0MsdUJBQXVCLFlBQVksbUJBQW1CLEtBQUsscUJBQXFCLHNCQUFzQixxQkFBcUIseUJBQXlCLG1CQUFtQixXQUFXLGFBQWEsOEJBQThCLGlDQUFpQyxrQkFBa0IsZUFBZSxTQUFTLFVBQVUsYUFBYSxjQUFjLGlCQUFpQixVQUFVLG1CQUFtQixZQUFZLFdBQVcsc0JBQXNCLDBCQUEwQixZQUFZLHVCQUF1QiwyQkFBMkIsd0JBQXdCLFVBQVUsc0JBQXNCLHFEQUFxRCxpQkFBaUIsV0FBVyxvQkFBb0IsbURBQW1ELG1CQUFtQixZQUFZLFNBQVMsZ0NBQWdDLFdBQVcsa0JBQWtCLGlCQUFpQixZQUFZLFlBQVksV0FBVyxJQUFJLHNDQUFzQyxRQUFRLFFBQVEsaUJBQWlCLGlCQUFpQixtRUFBbUUsU0FBUyxLQUFLLCtCQUErQixpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9wcm9jZXNzL2Jyb3dzZXIuanM/MWIxZCJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXt2YXIgZT17MjI5OmZ1bmN0aW9uKGUpe3ZhciB0PWUuZXhwb3J0cz17fTt2YXIgcjt2YXIgbjtmdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCl7dGhyb3cgbmV3IEVycm9yKFwic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0KCl7dGhyb3cgbmV3IEVycm9yKFwiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfShmdW5jdGlvbigpe3RyeXtpZih0eXBlb2Ygc2V0VGltZW91dD09PVwiZnVuY3Rpb25cIil7cj1zZXRUaW1lb3V0fWVsc2V7cj1kZWZhdWx0U2V0VGltb3V0fX1jYXRjaChlKXtyPWRlZmF1bHRTZXRUaW1vdXR9dHJ5e2lmKHR5cGVvZiBjbGVhclRpbWVvdXQ9PT1cImZ1bmN0aW9uXCIpe249Y2xlYXJUaW1lb3V0fWVsc2V7bj1kZWZhdWx0Q2xlYXJUaW1lb3V0fX1jYXRjaChlKXtuPWRlZmF1bHRDbGVhclRpbWVvdXR9fSkoKTtmdW5jdGlvbiBydW5UaW1lb3V0KGUpe2lmKHI9PT1zZXRUaW1lb3V0KXtyZXR1cm4gc2V0VGltZW91dChlLDApfWlmKChyPT09ZGVmYXVsdFNldFRpbW91dHx8IXIpJiZzZXRUaW1lb3V0KXtyPXNldFRpbWVvdXQ7cmV0dXJuIHNldFRpbWVvdXQoZSwwKX10cnl7cmV0dXJuIHIoZSwwKX1jYXRjaCh0KXt0cnl7cmV0dXJuIHIuY2FsbChudWxsLGUsMCl9Y2F0Y2godCl7cmV0dXJuIHIuY2FsbCh0aGlzLGUsMCl9fX1mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQoZSl7aWYobj09PWNsZWFyVGltZW91dCl7cmV0dXJuIGNsZWFyVGltZW91dChlKX1pZigobj09PWRlZmF1bHRDbGVhclRpbWVvdXR8fCFuKSYmY2xlYXJUaW1lb3V0KXtuPWNsZWFyVGltZW91dDtyZXR1cm4gY2xlYXJUaW1lb3V0KGUpfXRyeXtyZXR1cm4gbihlKX1jYXRjaCh0KXt0cnl7cmV0dXJuIG4uY2FsbChudWxsLGUpfWNhdGNoKHQpe3JldHVybiBuLmNhbGwodGhpcyxlKX19fXZhciBpPVtdO3ZhciBvPWZhbHNlO3ZhciB1O3ZhciBhPS0xO2Z1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpe2lmKCFvfHwhdSl7cmV0dXJufW89ZmFsc2U7aWYodS5sZW5ndGgpe2k9dS5jb25jYXQoaSl9ZWxzZXthPS0xfWlmKGkubGVuZ3RoKXtkcmFpblF1ZXVlKCl9fWZ1bmN0aW9uIGRyYWluUXVldWUoKXtpZihvKXtyZXR1cm59dmFyIGU9cnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO289dHJ1ZTt2YXIgdD1pLmxlbmd0aDt3aGlsZSh0KXt1PWk7aT1bXTt3aGlsZSgrK2E8dCl7aWYodSl7dVthXS5ydW4oKX19YT0tMTt0PWkubGVuZ3RofXU9bnVsbDtvPWZhbHNlO3J1bkNsZWFyVGltZW91dChlKX10Lm5leHRUaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dFtyLTFdPWFyZ3VtZW50c1tyXX19aS5wdXNoKG5ldyBJdGVtKGUsdCkpO2lmKGkubGVuZ3RoPT09MSYmIW8pe3J1blRpbWVvdXQoZHJhaW5RdWV1ZSl9fTtmdW5jdGlvbiBJdGVtKGUsdCl7dGhpcy5mdW49ZTt0aGlzLmFycmF5PXR9SXRlbS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX07dC50aXRsZT1cImJyb3dzZXJcIjt0LmJyb3dzZXI9dHJ1ZTt0LmVudj17fTt0LmFyZ3Y9W107dC52ZXJzaW9uPVwiXCI7dC52ZXJzaW9ucz17fTtmdW5jdGlvbiBub29wKCl7fXQub249bm9vcDt0LmFkZExpc3RlbmVyPW5vb3A7dC5vbmNlPW5vb3A7dC5vZmY9bm9vcDt0LnJlbW92ZUxpc3RlbmVyPW5vb3A7dC5yZW1vdmVBbGxMaXN0ZW5lcnM9bm9vcDt0LmVtaXQ9bm9vcDt0LnByZXBlbmRMaXN0ZW5lcj1ub29wO3QucHJlcGVuZE9uY2VMaXN0ZW5lcj1ub29wO3QubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybltdfTt0LmJpbmRpbmc9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9O3QuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9O3QuY2hkaXI9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfTt0LnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fX07dmFyIHQ9e307ZnVuY3Rpb24gX19uY2N3cGNrX3JlcXVpcmVfXyhyKXt2YXIgbj10W3JdO2lmKG4hPT11bmRlZmluZWQpe3JldHVybiBuLmV4cG9ydHN9dmFyIGk9dFtyXT17ZXhwb3J0czp7fX07dmFyIG89dHJ1ZTt0cnl7ZVtyXShpLGkuZXhwb3J0cyxfX25jY3dwY2tfcmVxdWlyZV9fKTtvPWZhbHNlfWZpbmFsbHl7aWYobylkZWxldGUgdFtyXX1yZXR1cm4gaS5leHBvcnRzfWlmKHR5cGVvZiBfX25jY3dwY2tfcmVxdWlyZV9fIT09XCJ1bmRlZmluZWRcIilfX25jY3dwY2tfcmVxdWlyZV9fLmFiPV9fZGlybmFtZStcIi9cIjt2YXIgcj1fX25jY3dwY2tfcmVxdWlyZV9fKDIyOSk7bW9kdWxlLmV4cG9ydHM9cn0pKCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/next/dist/compiled/process/browser.js\n"));

/***/ }),

/***/ "./node_modules/next/dist/compiled/querystring-es3/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/next/dist/compiled/querystring-es3/index.js ***!
  \******************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var __dirname = \"/\";\n(function(){\"use strict\";var e={815:function(e){function hasOwnProperty(e,r){return Object.prototype.hasOwnProperty.call(e,r)}e.exports=function(e,n,t,o){n=n||\"&\";t=t||\"=\";var a={};if(typeof e!==\"string\"||e.length===0){return a}var i=/\\+/g;e=e.split(n);var u=1e3;if(o&&typeof o.maxKeys===\"number\"){u=o.maxKeys}var c=e.length;if(u>0&&c>u){c=u}for(var p=0;p<c;++p){var f=e[p].replace(i,\"%20\"),s=f.indexOf(t),_,l,y,d;if(s>=0){_=f.substr(0,s);l=f.substr(s+1)}else{_=f;l=\"\"}y=decodeURIComponent(_);d=decodeURIComponent(l);if(!hasOwnProperty(a,y)){a[y]=d}else if(r(a[y])){a[y].push(d)}else{a[y]=[a[y],d]}}return a};var r=Array.isArray||function(e){return Object.prototype.toString.call(e)===\"[object Array]\"}},577:function(e){var stringifyPrimitive=function(e){switch(typeof e){case\"string\":return e;case\"boolean\":return e?\"true\":\"false\";case\"number\":return isFinite(e)?e:\"\";default:return\"\"}};e.exports=function(e,t,o,a){t=t||\"&\";o=o||\"=\";if(e===null){e=undefined}if(typeof e===\"object\"){return map(n(e),(function(n){var a=encodeURIComponent(stringifyPrimitive(n))+o;if(r(e[n])){return map(e[n],(function(e){return a+encodeURIComponent(stringifyPrimitive(e))})).join(t)}else{return a+encodeURIComponent(stringifyPrimitive(e[n]))}})).join(t)}if(!a)return\"\";return encodeURIComponent(stringifyPrimitive(a))+o+encodeURIComponent(stringifyPrimitive(e))};var r=Array.isArray||function(e){return Object.prototype.toString.call(e)===\"[object Array]\"};function map(e,r){if(e.map)return e.map(r);var n=[];for(var t=0;t<e.length;t++){n.push(r(e[t],t))}return n}var n=Object.keys||function(e){var r=[];for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))r.push(n)}return r}}};var r={};function __nccwpck_require__(n){var t=r[n];if(t!==undefined){return t.exports}var o=r[n]={exports:{}};var a=true;try{e[n](o,o.exports,__nccwpck_require__);a=false}finally{if(a)delete r[n]}return o.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var n={};!function(){var e=n;e.decode=e.parse=__nccwpck_require__(815);e.encode=e.stringify=__nccwpck_require__(577)}();module.exports=n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL3F1ZXJ5c3RyaW5nLWVzMy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiO0FBQUEsWUFBWSxhQUFhLE9BQU8sZ0JBQWdCLDZCQUE2QixpREFBaUQsNEJBQTRCLFNBQVMsU0FBUyxTQUFTLHNDQUFzQyxTQUFTLFlBQVksYUFBYSxVQUFVLG1DQUFtQyxZQUFZLGVBQWUsYUFBYSxJQUFJLFlBQVksSUFBSSxLQUFLLG1EQUFtRCxTQUFTLGdCQUFnQixnQkFBZ0IsS0FBSyxJQUFJLEtBQUssd0JBQXdCLHdCQUF3Qix5QkFBeUIsT0FBTyxpQkFBaUIsYUFBYSxLQUFLLGVBQWUsVUFBVSxpQ0FBaUMsNkRBQTZELGlCQUFpQixtQ0FBbUMsaUJBQWlCLHNCQUFzQixzQ0FBc0MscUNBQXFDLG1CQUFtQiw0QkFBNEIsU0FBUyxTQUFTLGFBQWEsWUFBWSx3QkFBd0IsNkJBQTZCLGtEQUFrRCxZQUFZLDZCQUE2QixtREFBbUQsV0FBVyxLQUFLLHVEQUF1RCxXQUFXLGVBQWUsOEZBQThGLGlDQUFpQyw2REFBNkQsa0JBQWtCLHlCQUF5QixTQUFTLFlBQVksV0FBVyxLQUFLLGtCQUFrQixTQUFTLCtCQUErQixTQUFTLGdCQUFnQix1REFBdUQsWUFBWSxTQUFTLGdDQUFnQyxXQUFXLGtCQUFrQixpQkFBaUIsWUFBWSxZQUFZLFdBQVcsSUFBSSxzQ0FBc0MsUUFBUSxRQUFRLGlCQUFpQixpQkFBaUIsbUVBQW1FLFNBQVMsS0FBSyxTQUFTLFlBQVksUUFBUSwwQ0FBMEMsOENBQThDLEdBQUcsaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcXVlcnlzdHJpbmctZXMzL2luZGV4LmpzPzI0MWYiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9ezgxNTpmdW5jdGlvbihlKXtmdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShlLHIpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHQsbyl7bj1ufHxcIiZcIjt0PXR8fFwiPVwiO3ZhciBhPXt9O2lmKHR5cGVvZiBlIT09XCJzdHJpbmdcInx8ZS5sZW5ndGg9PT0wKXtyZXR1cm4gYX12YXIgaT0vXFwrL2c7ZT1lLnNwbGl0KG4pO3ZhciB1PTFlMztpZihvJiZ0eXBlb2Ygby5tYXhLZXlzPT09XCJudW1iZXJcIil7dT1vLm1heEtleXN9dmFyIGM9ZS5sZW5ndGg7aWYodT4wJiZjPnUpe2M9dX1mb3IodmFyIHA9MDtwPGM7KytwKXt2YXIgZj1lW3BdLnJlcGxhY2UoaSxcIiUyMFwiKSxzPWYuaW5kZXhPZih0KSxfLGwseSxkO2lmKHM+PTApe189Zi5zdWJzdHIoMCxzKTtsPWYuc3Vic3RyKHMrMSl9ZWxzZXtfPWY7bD1cIlwifXk9ZGVjb2RlVVJJQ29tcG9uZW50KF8pO2Q9ZGVjb2RlVVJJQ29tcG9uZW50KGwpO2lmKCFoYXNPd25Qcm9wZXJ0eShhLHkpKXthW3ldPWR9ZWxzZSBpZihyKGFbeV0pKXthW3ldLnB1c2goZCl9ZWxzZXthW3ldPVthW3ldLGRdfX1yZXR1cm4gYX07dmFyIHI9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKT09PVwiW29iamVjdCBBcnJheV1cIn19LDU3NzpmdW5jdGlvbihlKXt2YXIgc3RyaW5naWZ5UHJpbWl0aXZlPWZ1bmN0aW9uKGUpe3N3aXRjaCh0eXBlb2YgZSl7Y2FzZVwic3RyaW5nXCI6cmV0dXJuIGU7Y2FzZVwiYm9vbGVhblwiOnJldHVybiBlP1widHJ1ZVwiOlwiZmFsc2VcIjtjYXNlXCJudW1iZXJcIjpyZXR1cm4gaXNGaW5pdGUoZSk/ZTpcIlwiO2RlZmF1bHQ6cmV0dXJuXCJcIn19O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbyxhKXt0PXR8fFwiJlwiO289b3x8XCI9XCI7aWYoZT09PW51bGwpe2U9dW5kZWZpbmVkfWlmKHR5cGVvZiBlPT09XCJvYmplY3RcIil7cmV0dXJuIG1hcChuKGUpLChmdW5jdGlvbihuKXt2YXIgYT1lbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG4pKStvO2lmKHIoZVtuXSkpe3JldHVybiBtYXAoZVtuXSwoZnVuY3Rpb24oZSl7cmV0dXJuIGErZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShlKSl9KSkuam9pbih0KX1lbHNle3JldHVybiBhK2VuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoZVtuXSkpfX0pKS5qb2luKHQpfWlmKCFhKXJldHVyblwiXCI7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoYSkpK28rZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShlKSl9O3ZhciByPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSk9PT1cIltvYmplY3QgQXJyYXldXCJ9O2Z1bmN0aW9uIG1hcChlLHIpe2lmKGUubWFwKXJldHVybiBlLm1hcChyKTt2YXIgbj1bXTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7bi5wdXNoKHIoZVt0XSx0KSl9cmV0dXJuIG59dmFyIG49T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3ZhciByPVtdO2Zvcih2YXIgbiBpbiBlKXtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSlyLnB1c2gobil9cmV0dXJuIHJ9fX07dmFyIHI9e307ZnVuY3Rpb24gX19uY2N3cGNrX3JlcXVpcmVfXyhuKXt2YXIgdD1yW25dO2lmKHQhPT11bmRlZmluZWQpe3JldHVybiB0LmV4cG9ydHN9dmFyIG89cltuXT17ZXhwb3J0czp7fX07dmFyIGE9dHJ1ZTt0cnl7ZVtuXShvLG8uZXhwb3J0cyxfX25jY3dwY2tfcmVxdWlyZV9fKTthPWZhbHNlfWZpbmFsbHl7aWYoYSlkZWxldGUgcltuXX1yZXR1cm4gby5leHBvcnRzfWlmKHR5cGVvZiBfX25jY3dwY2tfcmVxdWlyZV9fIT09XCJ1bmRlZmluZWRcIilfX25jY3dwY2tfcmVxdWlyZV9fLmFiPV9fZGlybmFtZStcIi9cIjt2YXIgbj17fTshZnVuY3Rpb24oKXt2YXIgZT1uO2UuZGVjb2RlPWUucGFyc2U9X19uY2N3cGNrX3JlcXVpcmVfXyg4MTUpO2UuZW5jb2RlPWUuc3RyaW5naWZ5PV9fbmNjd3Bja19yZXF1aXJlX18oNTc3KX0oKTttb2R1bGUuZXhwb3J0cz1ufSkoKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/next/dist/compiled/querystring-es3/index.js\n"));

/***/ }),

/***/ "./node_modules/next/head.js":
/*!***********************************!*\
  !*** ./node_modules/next/head.js ***!
  \***********************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("module.exports = __webpack_require__(/*! ./dist/shared/lib/head */ \"./node_modules/next/dist/shared/lib/head.js\")\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9oZWFkLmpzIiwibWFwcGluZ3MiOiJBQUFBLGlIQUFrRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbmV4dC9oZWFkLmpzPzg4NDkiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Rpc3Qvc2hhcmVkL2xpYi9oZWFkJylcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/head.js\n"));

/***/ }),

/***/ "./node_modules/react-property/lib/index.js":
/*!**************************************************!*\
  !*** ./node_modules/react-property/lib/index.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\n// A reserved attribute.\n// It is handled by React separately and shouldn't be written to the DOM.\nvar RESERVED = 0; // A simple string attribute.\n// Attributes that aren't in the filter are presumed to have this type.\n\nvar STRING = 1; // A string attribute that accepts booleans in React. In HTML, these are called\n// \"enumerated\" attributes with \"true\" and \"false\" as possible values.\n// When true, it should be set to a \"true\" string.\n// When false, it should be set to a \"false\" string.\n\nvar BOOLEANISH_STRING = 2; // A real boolean attribute.\n// When true, it should be present (set either to an empty string or its name).\n// When false, it should be omitted.\n\nvar BOOLEAN = 3; // An attribute that can be used as a flag as well as with a value.\n// When true, it should be present (set either to an empty string or its name).\n// When false, it should be omitted.\n// For any other value, should be present with that value.\n\nvar OVERLOADED_BOOLEAN = 4; // An attribute that must be numeric or parse as a numeric.\n// When falsy, it should be removed.\n\nvar NUMERIC = 5; // An attribute that must be positive numeric or parse as a positive numeric.\n// When falsy, it should be removed.\n\nvar POSITIVE_NUMERIC = 6;\nfunction getPropertyInfo(name) {\n  return properties.hasOwnProperty(name) ? properties[name] : null;\n}\n\nfunction PropertyInfoRecord(name, type, mustUseProperty, attributeName, attributeNamespace, sanitizeURL, removeEmptyString) {\n  this.acceptsBooleans = type === BOOLEANISH_STRING || type === BOOLEAN || type === OVERLOADED_BOOLEAN;\n  this.attributeName = attributeName;\n  this.attributeNamespace = attributeNamespace;\n  this.mustUseProperty = mustUseProperty;\n  this.propertyName = name;\n  this.type = type;\n  this.sanitizeURL = sanitizeURL;\n  this.removeEmptyString = removeEmptyString;\n} // When adding attributes to this list, be sure to also add them to\n// the `possibleStandardNames` module to ensure casing and incorrect\n// name warnings.\n\n\nvar properties = {}; // These props are reserved by React. They shouldn't be written to the DOM.\n\nvar reservedProps = ['children', 'dangerouslySetInnerHTML', // TODO: This prevents the assignment of defaultValue to regular\n// elements (not just inputs). Now that ReactDOMInput assigns to the\n// defaultValue property -- do we need this?\n'defaultValue', 'defaultChecked', 'innerHTML', 'suppressContentEditableWarning', 'suppressHydrationWarning', 'style'];\nreservedProps.forEach(function (name) {\n  properties[name] = new PropertyInfoRecord(name, RESERVED, false, // mustUseProperty\n  name, // attributeName\n  null, // attributeNamespace\n  false, // sanitizeURL\n  false);\n}); // A few React string attributes have a different name.\n// This is a mapping from React prop names to the attribute names.\n\n[['acceptCharset', 'accept-charset'], ['className', 'class'], ['htmlFor', 'for'], ['httpEquiv', 'http-equiv']].forEach(function (_ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      name = _ref2[0],\n      attributeName = _ref2[1];\n\n  properties[name] = new PropertyInfoRecord(name, STRING, false, // mustUseProperty\n  attributeName, // attributeName\n  null, // attributeNamespace\n  false, // sanitizeURL\n  false);\n}); // These are \"enumerated\" HTML attributes that accept \"true\" and \"false\".\n// In React, we let users pass `true` and `false` even though technically\n// these aren't boolean attributes (they are coerced to strings).\n\n['contentEditable', 'draggable', 'spellCheck', 'value'].forEach(function (name) {\n  properties[name] = new PropertyInfoRecord(name, BOOLEANISH_STRING, false, // mustUseProperty\n  name.toLowerCase(), // attributeName\n  null, // attributeNamespace\n  false, // sanitizeURL\n  false);\n}); // These are \"enumerated\" SVG attributes that accept \"true\" and \"false\".\n// In React, we let users pass `true` and `false` even though technically\n// these aren't boolean attributes (they are coerced to strings).\n// Since these are SVG attributes, their attribute names are case-sensitive.\n\n['autoReverse', 'externalResourcesRequired', 'focusable', 'preserveAlpha'].forEach(function (name) {\n  properties[name] = new PropertyInfoRecord(name, BOOLEANISH_STRING, false, // mustUseProperty\n  name, // attributeName\n  null, // attributeNamespace\n  false, // sanitizeURL\n  false);\n}); // These are HTML boolean attributes.\n\n['allowFullScreen', 'async', // Note: there is a special case that prevents it from being written to the DOM\n// on the client side because the browsers are inconsistent. Instead we call focus().\n'autoFocus', 'autoPlay', 'controls', 'default', 'defer', 'disabled', 'disablePictureInPicture', 'disableRemotePlayback', 'formNoValidate', 'hidden', 'loop', 'noModule', 'noValidate', 'open', 'playsInline', 'readOnly', 'required', 'reversed', 'scoped', 'seamless', // Microdata\n'itemScope'].forEach(function (name) {\n  properties[name] = new PropertyInfoRecord(name, BOOLEAN, false, // mustUseProperty\n  name.toLowerCase(), // attributeName\n  null, // attributeNamespace\n  false, // sanitizeURL\n  false);\n}); // These are the few React props that we set as DOM properties\n// rather than attributes. These are all booleans.\n\n['checked', // Note: `option.selected` is not updated if `select.multiple` is\n// disabled with `removeAttribute`. We have special logic for handling this.\n'multiple', 'muted', 'selected' // NOTE: if you add a camelCased prop to this list,\n// you'll need to set attributeName to name.toLowerCase()\n// instead in the assignment below.\n].forEach(function (name) {\n  properties[name] = new PropertyInfoRecord(name, BOOLEAN, true, // mustUseProperty\n  name, // attributeName\n  null, // attributeNamespace\n  false, // sanitizeURL\n  false);\n}); // These are HTML attributes that are \"overloaded booleans\": they behave like\n// booleans, but can also accept a string value.\n\n['capture', 'download' // NOTE: if you add a camelCased prop to this list,\n// you'll need to set attributeName to name.toLowerCase()\n// instead in the assignment below.\n].forEach(function (name) {\n  properties[name] = new PropertyInfoRecord(name, OVERLOADED_BOOLEAN, false, // mustUseProperty\n  name, // attributeName\n  null, // attributeNamespace\n  false, // sanitizeURL\n  false);\n}); // These are HTML attributes that must be positive numbers.\n\n['cols', 'rows', 'size', 'span' // NOTE: if you add a camelCased prop to this list,\n// you'll need to set attributeName to name.toLowerCase()\n// instead in the assignment below.\n].forEach(function (name) {\n  properties[name] = new PropertyInfoRecord(name, POSITIVE_NUMERIC, false, // mustUseProperty\n  name, // attributeName\n  null, // attributeNamespace\n  false, // sanitizeURL\n  false);\n}); // These are HTML attributes that must be numbers.\n\n['rowSpan', 'start'].forEach(function (name) {\n  properties[name] = new PropertyInfoRecord(name, NUMERIC, false, // mustUseProperty\n  name.toLowerCase(), // attributeName\n  null, // attributeNamespace\n  false, // sanitizeURL\n  false);\n});\nvar CAMELIZE = /[\\-\\:]([a-z])/g;\n\nvar capitalize = function capitalize(token) {\n  return token[1].toUpperCase();\n}; // This is a list of all SVG attributes that need special casing, namespacing,\n// or boolean value assignment. Regular attributes that just accept strings\n// and have the same names are omitted, just like in the HTML attribute filter.\n// Some of these attributes can be hard to find. This list was created by\n// scraping the MDN documentation.\n\n\n['accent-height', 'alignment-baseline', 'arabic-form', 'baseline-shift', 'cap-height', 'clip-path', 'clip-rule', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'dominant-baseline', 'enable-background', 'fill-opacity', 'fill-rule', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'glyph-name', 'glyph-orientation-horizontal', 'glyph-orientation-vertical', 'horiz-adv-x', 'horiz-origin-x', 'image-rendering', 'letter-spacing', 'lighting-color', 'marker-end', 'marker-mid', 'marker-start', 'overline-position', 'overline-thickness', 'paint-order', 'panose-1', 'pointer-events', 'rendering-intent', 'shape-rendering', 'stop-color', 'stop-opacity', 'strikethrough-position', 'strikethrough-thickness', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'text-anchor', 'text-decoration', 'text-rendering', 'underline-position', 'underline-thickness', 'unicode-bidi', 'unicode-range', 'units-per-em', 'v-alphabetic', 'v-hanging', 'v-ideographic', 'v-mathematical', 'vector-effect', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'word-spacing', 'writing-mode', 'xmlns:xlink', 'x-height' // NOTE: if you add a camelCased prop to this list,\n// you'll need to set attributeName to name.toLowerCase()\n// instead in the assignment below.\n].forEach(function (attributeName) {\n  var name = attributeName.replace(CAMELIZE, capitalize);\n  properties[name] = new PropertyInfoRecord(name, STRING, false, // mustUseProperty\n  attributeName, null, // attributeNamespace\n  false, // sanitizeURL\n  false);\n}); // String SVG attributes with the xlink namespace.\n\n['xlink:actuate', 'xlink:arcrole', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type' // NOTE: if you add a camelCased prop to this list,\n// you'll need to set attributeName to name.toLowerCase()\n// instead in the assignment below.\n].forEach(function (attributeName) {\n  var name = attributeName.replace(CAMELIZE, capitalize);\n  properties[name] = new PropertyInfoRecord(name, STRING, false, // mustUseProperty\n  attributeName, 'http://www.w3.org/1999/xlink', false, // sanitizeURL\n  false);\n}); // String SVG attributes with the xml namespace.\n\n['xml:base', 'xml:lang', 'xml:space' // NOTE: if you add a camelCased prop to this list,\n// you'll need to set attributeName to name.toLowerCase()\n// instead in the assignment below.\n].forEach(function (attributeName) {\n  var name = attributeName.replace(CAMELIZE, capitalize);\n  properties[name] = new PropertyInfoRecord(name, STRING, false, // mustUseProperty\n  attributeName, 'http://www.w3.org/XML/1998/namespace', false, // sanitizeURL\n  false);\n}); // These attribute exists both in HTML and SVG.\n// The attribute name is case-sensitive in SVG so we can't just use\n// the React name like we do for attributes that exist only in HTML.\n\n['tabIndex', 'crossOrigin'].forEach(function (attributeName) {\n  properties[attributeName] = new PropertyInfoRecord(attributeName, STRING, false, // mustUseProperty\n  attributeName.toLowerCase(), // attributeName\n  null, // attributeNamespace\n  false, // sanitizeURL\n  false);\n}); // These attributes accept URLs. These must not allow javascript: URLS.\n// These will also need to accept Trusted Types object in the future.\n\nvar xlinkHref = 'xlinkHref';\nproperties[xlinkHref] = new PropertyInfoRecord('xlinkHref', STRING, false, // mustUseProperty\n'xlink:href', 'http://www.w3.org/1999/xlink', true, // sanitizeURL\nfalse);\n['src', 'href', 'action', 'formAction'].forEach(function (attributeName) {\n  properties[attributeName] = new PropertyInfoRecord(attributeName, STRING, false, // mustUseProperty\n  attributeName.toLowerCase(), // attributeName\n  null, // attributeNamespace\n  true, // sanitizeURL\n  true);\n});\n\nvar _require = __webpack_require__(/*! ../lib/possibleStandardNamesOptimized */ \"./node_modules/react-property/lib/possibleStandardNamesOptimized.js\"),\n    CAMELCASE = _require.CAMELCASE,\n    SAME = _require.SAME,\n    possibleStandardNamesOptimized = _require.possibleStandardNames;\n\nvar ATTRIBUTE_NAME_START_CHAR = \":A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\";\nvar ATTRIBUTE_NAME_CHAR = ATTRIBUTE_NAME_START_CHAR + \"\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040\";\n/**\n * Checks whether a property name is a custom attribute.\n *\n * @see {@link https://github.com/facebook/react/blob/15-stable/src/renderers/dom/shared/HTMLDOMPropertyConfig.js#L23-L25}\n *\n * @param {string}\n * @return {boolean}\n */\n\nvar isCustomAttribute = RegExp.prototype.test.bind( // eslint-disable-next-line no-misleading-character-class\nnew RegExp('^(data|aria)-[' + ATTRIBUTE_NAME_CHAR + ']*$'));\nvar possibleStandardNames = Object.keys(possibleStandardNamesOptimized).reduce(function (accumulator, standardName) {\n  var propName = possibleStandardNamesOptimized[standardName];\n\n  if (propName === SAME) {\n    accumulator[standardName] = standardName;\n  } else if (propName === CAMELCASE) {\n    accumulator[standardName.toLowerCase()] = standardName;\n  } else {\n    accumulator[standardName] = propName;\n  }\n\n  return accumulator;\n}, {});\n\nexports.BOOLEAN = BOOLEAN;\nexports.BOOLEANISH_STRING = BOOLEANISH_STRING;\nexports.NUMERIC = NUMERIC;\nexports.OVERLOADED_BOOLEAN = OVERLOADED_BOOLEAN;\nexports.POSITIVE_NUMERIC = POSITIVE_NUMERIC;\nexports.RESERVED = RESERVED;\nexports.STRING = STRING;\nexports.getPropertyInfo = getPropertyInfo;\nexports.isCustomAttribute = isCustomAttribute;\nexports.possibleStandardNames = possibleStandardNames;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtcHJvcGVydHkvbGliL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QyxFQUFFLGFBQWEsRUFBQzs7QUFFN0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsNEJBQTRCLCtCQUErQjtBQUMzRDs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEseUNBQXlDLFNBQVM7O0FBRWxEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7O0FBRUEsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTs7QUFFQSwyQkFBMkI7QUFDM0I7QUFDQTs7QUFFQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBOztBQUVBLDRCQUE0QjtBQUM1Qjs7QUFFQSxpQkFBaUI7QUFDakI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7OztBQUdBLHFCQUFxQjs7QUFFckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEdBQUc7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxHQUFHO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEdBQUc7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxHQUFHOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsR0FBRztBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEdBQUc7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEdBQUc7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxHQUFHOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEdBQUc7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsR0FBRzs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxHQUFHO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEdBQUc7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQsZUFBZSxtQkFBTyxDQUFDLGtIQUF1QztBQUM5RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFdBQVc7QUFDWCxZQUFZO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0EsQ0FBQyxJQUFJOztBQUVMLGVBQWU7QUFDZix5QkFBeUI7QUFDekIsZUFBZTtBQUNmLDBCQUEwQjtBQUMxQix3QkFBd0I7QUFDeEIsZ0JBQWdCO0FBQ2hCLGNBQWM7QUFDZCx1QkFBdUI7QUFDdkIseUJBQXlCO0FBQ3pCLDZCQUE2QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtcHJvcGVydHkvbGliL2luZGV4LmpzP2Y3MTAiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IGFyciA9PSBudWxsID8gbnVsbCA6IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcblxuICBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuO1xuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcblxuICB2YXIgX3MsIF9lO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuXG4gIHJldHVybiBhcnIyO1xufVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG4vLyBBIHJlc2VydmVkIGF0dHJpYnV0ZS5cbi8vIEl0IGlzIGhhbmRsZWQgYnkgUmVhY3Qgc2VwYXJhdGVseSBhbmQgc2hvdWxkbid0IGJlIHdyaXR0ZW4gdG8gdGhlIERPTS5cbnZhciBSRVNFUlZFRCA9IDA7IC8vIEEgc2ltcGxlIHN0cmluZyBhdHRyaWJ1dGUuXG4vLyBBdHRyaWJ1dGVzIHRoYXQgYXJlbid0IGluIHRoZSBmaWx0ZXIgYXJlIHByZXN1bWVkIHRvIGhhdmUgdGhpcyB0eXBlLlxuXG52YXIgU1RSSU5HID0gMTsgLy8gQSBzdHJpbmcgYXR0cmlidXRlIHRoYXQgYWNjZXB0cyBib29sZWFucyBpbiBSZWFjdC4gSW4gSFRNTCwgdGhlc2UgYXJlIGNhbGxlZFxuLy8gXCJlbnVtZXJhdGVkXCIgYXR0cmlidXRlcyB3aXRoIFwidHJ1ZVwiIGFuZCBcImZhbHNlXCIgYXMgcG9zc2libGUgdmFsdWVzLlxuLy8gV2hlbiB0cnVlLCBpdCBzaG91bGQgYmUgc2V0IHRvIGEgXCJ0cnVlXCIgc3RyaW5nLlxuLy8gV2hlbiBmYWxzZSwgaXQgc2hvdWxkIGJlIHNldCB0byBhIFwiZmFsc2VcIiBzdHJpbmcuXG5cbnZhciBCT09MRUFOSVNIX1NUUklORyA9IDI7IC8vIEEgcmVhbCBib29sZWFuIGF0dHJpYnV0ZS5cbi8vIFdoZW4gdHJ1ZSwgaXQgc2hvdWxkIGJlIHByZXNlbnQgKHNldCBlaXRoZXIgdG8gYW4gZW1wdHkgc3RyaW5nIG9yIGl0cyBuYW1lKS5cbi8vIFdoZW4gZmFsc2UsIGl0IHNob3VsZCBiZSBvbWl0dGVkLlxuXG52YXIgQk9PTEVBTiA9IDM7IC8vIEFuIGF0dHJpYnV0ZSB0aGF0IGNhbiBiZSB1c2VkIGFzIGEgZmxhZyBhcyB3ZWxsIGFzIHdpdGggYSB2YWx1ZS5cbi8vIFdoZW4gdHJ1ZSwgaXQgc2hvdWxkIGJlIHByZXNlbnQgKHNldCBlaXRoZXIgdG8gYW4gZW1wdHkgc3RyaW5nIG9yIGl0cyBuYW1lKS5cbi8vIFdoZW4gZmFsc2UsIGl0IHNob3VsZCBiZSBvbWl0dGVkLlxuLy8gRm9yIGFueSBvdGhlciB2YWx1ZSwgc2hvdWxkIGJlIHByZXNlbnQgd2l0aCB0aGF0IHZhbHVlLlxuXG52YXIgT1ZFUkxPQURFRF9CT09MRUFOID0gNDsgLy8gQW4gYXR0cmlidXRlIHRoYXQgbXVzdCBiZSBudW1lcmljIG9yIHBhcnNlIGFzIGEgbnVtZXJpYy5cbi8vIFdoZW4gZmFsc3ksIGl0IHNob3VsZCBiZSByZW1vdmVkLlxuXG52YXIgTlVNRVJJQyA9IDU7IC8vIEFuIGF0dHJpYnV0ZSB0aGF0IG11c3QgYmUgcG9zaXRpdmUgbnVtZXJpYyBvciBwYXJzZSBhcyBhIHBvc2l0aXZlIG51bWVyaWMuXG4vLyBXaGVuIGZhbHN5LCBpdCBzaG91bGQgYmUgcmVtb3ZlZC5cblxudmFyIFBPU0lUSVZFX05VTUVSSUMgPSA2O1xuZnVuY3Rpb24gZ2V0UHJvcGVydHlJbmZvKG5hbWUpIHtcbiAgcmV0dXJuIHByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkobmFtZSkgPyBwcm9wZXJ0aWVzW25hbWVdIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIHR5cGUsIG11c3RVc2VQcm9wZXJ0eSwgYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlTmFtZXNwYWNlLCBzYW5pdGl6ZVVSTCwgcmVtb3ZlRW1wdHlTdHJpbmcpIHtcbiAgdGhpcy5hY2NlcHRzQm9vbGVhbnMgPSB0eXBlID09PSBCT09MRUFOSVNIX1NUUklORyB8fCB0eXBlID09PSBCT09MRUFOIHx8IHR5cGUgPT09IE9WRVJMT0FERURfQk9PTEVBTjtcbiAgdGhpcy5hdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlTmFtZTtcbiAgdGhpcy5hdHRyaWJ1dGVOYW1lc3BhY2UgPSBhdHRyaWJ1dGVOYW1lc3BhY2U7XG4gIHRoaXMubXVzdFVzZVByb3BlcnR5ID0gbXVzdFVzZVByb3BlcnR5O1xuICB0aGlzLnByb3BlcnR5TmFtZSA9IG5hbWU7XG4gIHRoaXMudHlwZSA9IHR5cGU7XG4gIHRoaXMuc2FuaXRpemVVUkwgPSBzYW5pdGl6ZVVSTDtcbiAgdGhpcy5yZW1vdmVFbXB0eVN0cmluZyA9IHJlbW92ZUVtcHR5U3RyaW5nO1xufSAvLyBXaGVuIGFkZGluZyBhdHRyaWJ1dGVzIHRvIHRoaXMgbGlzdCwgYmUgc3VyZSB0byBhbHNvIGFkZCB0aGVtIHRvXG4vLyB0aGUgYHBvc3NpYmxlU3RhbmRhcmROYW1lc2AgbW9kdWxlIHRvIGVuc3VyZSBjYXNpbmcgYW5kIGluY29ycmVjdFxuLy8gbmFtZSB3YXJuaW5ncy5cblxuXG52YXIgcHJvcGVydGllcyA9IHt9OyAvLyBUaGVzZSBwcm9wcyBhcmUgcmVzZXJ2ZWQgYnkgUmVhY3QuIFRoZXkgc2hvdWxkbid0IGJlIHdyaXR0ZW4gdG8gdGhlIERPTS5cblxudmFyIHJlc2VydmVkUHJvcHMgPSBbJ2NoaWxkcmVuJywgJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJywgLy8gVE9ETzogVGhpcyBwcmV2ZW50cyB0aGUgYXNzaWdubWVudCBvZiBkZWZhdWx0VmFsdWUgdG8gcmVndWxhclxuLy8gZWxlbWVudHMgKG5vdCBqdXN0IGlucHV0cykuIE5vdyB0aGF0IFJlYWN0RE9NSW5wdXQgYXNzaWducyB0byB0aGVcbi8vIGRlZmF1bHRWYWx1ZSBwcm9wZXJ0eSAtLSBkbyB3ZSBuZWVkIHRoaXM/XG4nZGVmYXVsdFZhbHVlJywgJ2RlZmF1bHRDaGVja2VkJywgJ2lubmVySFRNTCcsICdzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmcnLCAnc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nJywgJ3N0eWxlJ107XG5yZXNlcnZlZFByb3BzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgcHJvcGVydGllc1tuYW1lXSA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgUkVTRVJWRUQsIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZSwgLy8gYXR0cmlidXRlTmFtZVxuICBudWxsLCAvLyBhdHRyaWJ1dGVOYW1lc3BhY2VcbiAgZmFsc2UsIC8vIHNhbml0aXplVVJMXG4gIGZhbHNlKTtcbn0pOyAvLyBBIGZldyBSZWFjdCBzdHJpbmcgYXR0cmlidXRlcyBoYXZlIGEgZGlmZmVyZW50IG5hbWUuXG4vLyBUaGlzIGlzIGEgbWFwcGluZyBmcm9tIFJlYWN0IHByb3AgbmFtZXMgdG8gdGhlIGF0dHJpYnV0ZSBuYW1lcy5cblxuW1snYWNjZXB0Q2hhcnNldCcsICdhY2NlcHQtY2hhcnNldCddLCBbJ2NsYXNzTmFtZScsICdjbGFzcyddLCBbJ2h0bWxGb3InLCAnZm9yJ10sIFsnaHR0cEVxdWl2JywgJ2h0dHAtZXF1aXYnXV0uZm9yRWFjaChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSxcbiAgICAgIG5hbWUgPSBfcmVmMlswXSxcbiAgICAgIGF0dHJpYnV0ZU5hbWUgPSBfcmVmMlsxXTtcblxuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBTVFJJTkcsIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgYXR0cmlidXRlTmFtZSwgLy8gYXR0cmlidXRlTmFtZVxuICBudWxsLCAvLyBhdHRyaWJ1dGVOYW1lc3BhY2VcbiAgZmFsc2UsIC8vIHNhbml0aXplVVJMXG4gIGZhbHNlKTtcbn0pOyAvLyBUaGVzZSBhcmUgXCJlbnVtZXJhdGVkXCIgSFRNTCBhdHRyaWJ1dGVzIHRoYXQgYWNjZXB0IFwidHJ1ZVwiIGFuZCBcImZhbHNlXCIuXG4vLyBJbiBSZWFjdCwgd2UgbGV0IHVzZXJzIHBhc3MgYHRydWVgIGFuZCBgZmFsc2VgIGV2ZW4gdGhvdWdoIHRlY2huaWNhbGx5XG4vLyB0aGVzZSBhcmVuJ3QgYm9vbGVhbiBhdHRyaWJ1dGVzICh0aGV5IGFyZSBjb2VyY2VkIHRvIHN0cmluZ3MpLlxuXG5bJ2NvbnRlbnRFZGl0YWJsZScsICdkcmFnZ2FibGUnLCAnc3BlbGxDaGVjaycsICd2YWx1ZSddLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgcHJvcGVydGllc1tuYW1lXSA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgQk9PTEVBTklTSF9TVFJJTkcsIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZS50b0xvd2VyQ2FzZSgpLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwsIC8vIGF0dHJpYnV0ZU5hbWVzcGFjZVxuICBmYWxzZSwgLy8gc2FuaXRpemVVUkxcbiAgZmFsc2UpO1xufSk7IC8vIFRoZXNlIGFyZSBcImVudW1lcmF0ZWRcIiBTVkcgYXR0cmlidXRlcyB0aGF0IGFjY2VwdCBcInRydWVcIiBhbmQgXCJmYWxzZVwiLlxuLy8gSW4gUmVhY3QsIHdlIGxldCB1c2VycyBwYXNzIGB0cnVlYCBhbmQgYGZhbHNlYCBldmVuIHRob3VnaCB0ZWNobmljYWxseVxuLy8gdGhlc2UgYXJlbid0IGJvb2xlYW4gYXR0cmlidXRlcyAodGhleSBhcmUgY29lcmNlZCB0byBzdHJpbmdzKS5cbi8vIFNpbmNlIHRoZXNlIGFyZSBTVkcgYXR0cmlidXRlcywgdGhlaXIgYXR0cmlidXRlIG5hbWVzIGFyZSBjYXNlLXNlbnNpdGl2ZS5cblxuWydhdXRvUmV2ZXJzZScsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ2ZvY3VzYWJsZScsICdwcmVzZXJ2ZUFscGhhJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBCT09MRUFOSVNIX1NUUklORywgZmFsc2UsIC8vIG11c3RVc2VQcm9wZXJ0eVxuICBuYW1lLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwsIC8vIGF0dHJpYnV0ZU5hbWVzcGFjZVxuICBmYWxzZSwgLy8gc2FuaXRpemVVUkxcbiAgZmFsc2UpO1xufSk7IC8vIFRoZXNlIGFyZSBIVE1MIGJvb2xlYW4gYXR0cmlidXRlcy5cblxuWydhbGxvd0Z1bGxTY3JlZW4nLCAnYXN5bmMnLCAvLyBOb3RlOiB0aGVyZSBpcyBhIHNwZWNpYWwgY2FzZSB0aGF0IHByZXZlbnRzIGl0IGZyb20gYmVpbmcgd3JpdHRlbiB0byB0aGUgRE9NXG4vLyBvbiB0aGUgY2xpZW50IHNpZGUgYmVjYXVzZSB0aGUgYnJvd3NlcnMgYXJlIGluY29uc2lzdGVudC4gSW5zdGVhZCB3ZSBjYWxsIGZvY3VzKCkuXG4nYXV0b0ZvY3VzJywgJ2F1dG9QbGF5JywgJ2NvbnRyb2xzJywgJ2RlZmF1bHQnLCAnZGVmZXInLCAnZGlzYWJsZWQnLCAnZGlzYWJsZVBpY3R1cmVJblBpY3R1cmUnLCAnZGlzYWJsZVJlbW90ZVBsYXliYWNrJywgJ2Zvcm1Ob1ZhbGlkYXRlJywgJ2hpZGRlbicsICdsb29wJywgJ25vTW9kdWxlJywgJ25vVmFsaWRhdGUnLCAnb3BlbicsICdwbGF5c0lubGluZScsICdyZWFkT25seScsICdyZXF1aXJlZCcsICdyZXZlcnNlZCcsICdzY29wZWQnLCAnc2VhbWxlc3MnLCAvLyBNaWNyb2RhdGFcbidpdGVtU2NvcGUnXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gIHByb3BlcnRpZXNbbmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIEJPT0xFQU4sIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZS50b0xvd2VyQ2FzZSgpLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwsIC8vIGF0dHJpYnV0ZU5hbWVzcGFjZVxuICBmYWxzZSwgLy8gc2FuaXRpemVVUkxcbiAgZmFsc2UpO1xufSk7IC8vIFRoZXNlIGFyZSB0aGUgZmV3IFJlYWN0IHByb3BzIHRoYXQgd2Ugc2V0IGFzIERPTSBwcm9wZXJ0aWVzXG4vLyByYXRoZXIgdGhhbiBhdHRyaWJ1dGVzLiBUaGVzZSBhcmUgYWxsIGJvb2xlYW5zLlxuXG5bJ2NoZWNrZWQnLCAvLyBOb3RlOiBgb3B0aW9uLnNlbGVjdGVkYCBpcyBub3QgdXBkYXRlZCBpZiBgc2VsZWN0Lm11bHRpcGxlYCBpc1xuLy8gZGlzYWJsZWQgd2l0aCBgcmVtb3ZlQXR0cmlidXRlYC4gV2UgaGF2ZSBzcGVjaWFsIGxvZ2ljIGZvciBoYW5kbGluZyB0aGlzLlxuJ211bHRpcGxlJywgJ211dGVkJywgJ3NlbGVjdGVkJyAvLyBOT1RFOiBpZiB5b3UgYWRkIGEgY2FtZWxDYXNlZCBwcm9wIHRvIHRoaXMgbGlzdCxcbi8vIHlvdSdsbCBuZWVkIHRvIHNldCBhdHRyaWJ1dGVOYW1lIHRvIG5hbWUudG9Mb3dlckNhc2UoKVxuLy8gaW5zdGVhZCBpbiB0aGUgYXNzaWdubWVudCBiZWxvdy5cbl0uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBCT09MRUFOLCB0cnVlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZSwgLy8gYXR0cmlidXRlTmFtZVxuICBudWxsLCAvLyBhdHRyaWJ1dGVOYW1lc3BhY2VcbiAgZmFsc2UsIC8vIHNhbml0aXplVVJMXG4gIGZhbHNlKTtcbn0pOyAvLyBUaGVzZSBhcmUgSFRNTCBhdHRyaWJ1dGVzIHRoYXQgYXJlIFwib3ZlcmxvYWRlZCBib29sZWFuc1wiOiB0aGV5IGJlaGF2ZSBsaWtlXG4vLyBib29sZWFucywgYnV0IGNhbiBhbHNvIGFjY2VwdCBhIHN0cmluZyB2YWx1ZS5cblxuWydjYXB0dXJlJywgJ2Rvd25sb2FkJyAvLyBOT1RFOiBpZiB5b3UgYWRkIGEgY2FtZWxDYXNlZCBwcm9wIHRvIHRoaXMgbGlzdCxcbi8vIHlvdSdsbCBuZWVkIHRvIHNldCBhdHRyaWJ1dGVOYW1lIHRvIG5hbWUudG9Mb3dlckNhc2UoKVxuLy8gaW5zdGVhZCBpbiB0aGUgYXNzaWdubWVudCBiZWxvdy5cbl0uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBPVkVSTE9BREVEX0JPT0xFQU4sIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZSwgLy8gYXR0cmlidXRlTmFtZVxuICBudWxsLCAvLyBhdHRyaWJ1dGVOYW1lc3BhY2VcbiAgZmFsc2UsIC8vIHNhbml0aXplVVJMXG4gIGZhbHNlKTtcbn0pOyAvLyBUaGVzZSBhcmUgSFRNTCBhdHRyaWJ1dGVzIHRoYXQgbXVzdCBiZSBwb3NpdGl2ZSBudW1iZXJzLlxuXG5bJ2NvbHMnLCAncm93cycsICdzaXplJywgJ3NwYW4nIC8vIE5PVEU6IGlmIHlvdSBhZGQgYSBjYW1lbENhc2VkIHByb3AgdG8gdGhpcyBsaXN0LFxuLy8geW91J2xsIG5lZWQgdG8gc2V0IGF0dHJpYnV0ZU5hbWUgdG8gbmFtZS50b0xvd2VyQ2FzZSgpXG4vLyBpbnN0ZWFkIGluIHRoZSBhc3NpZ25tZW50IGJlbG93LlxuXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gIHByb3BlcnRpZXNbbmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIFBPU0lUSVZFX05VTUVSSUMsIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZSwgLy8gYXR0cmlidXRlTmFtZVxuICBudWxsLCAvLyBhdHRyaWJ1dGVOYW1lc3BhY2VcbiAgZmFsc2UsIC8vIHNhbml0aXplVVJMXG4gIGZhbHNlKTtcbn0pOyAvLyBUaGVzZSBhcmUgSFRNTCBhdHRyaWJ1dGVzIHRoYXQgbXVzdCBiZSBudW1iZXJzLlxuXG5bJ3Jvd1NwYW4nLCAnc3RhcnQnXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gIHByb3BlcnRpZXNbbmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIE5VTUVSSUMsIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZS50b0xvd2VyQ2FzZSgpLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwsIC8vIGF0dHJpYnV0ZU5hbWVzcGFjZVxuICBmYWxzZSwgLy8gc2FuaXRpemVVUkxcbiAgZmFsc2UpO1xufSk7XG52YXIgQ0FNRUxJWkUgPSAvW1xcLVxcOl0oW2Etel0pL2c7XG5cbnZhciBjYXBpdGFsaXplID0gZnVuY3Rpb24gY2FwaXRhbGl6ZSh0b2tlbikge1xuICByZXR1cm4gdG9rZW5bMV0udG9VcHBlckNhc2UoKTtcbn07IC8vIFRoaXMgaXMgYSBsaXN0IG9mIGFsbCBTVkcgYXR0cmlidXRlcyB0aGF0IG5lZWQgc3BlY2lhbCBjYXNpbmcsIG5hbWVzcGFjaW5nLFxuLy8gb3IgYm9vbGVhbiB2YWx1ZSBhc3NpZ25tZW50LiBSZWd1bGFyIGF0dHJpYnV0ZXMgdGhhdCBqdXN0IGFjY2VwdCBzdHJpbmdzXG4vLyBhbmQgaGF2ZSB0aGUgc2FtZSBuYW1lcyBhcmUgb21pdHRlZCwganVzdCBsaWtlIGluIHRoZSBIVE1MIGF0dHJpYnV0ZSBmaWx0ZXIuXG4vLyBTb21lIG9mIHRoZXNlIGF0dHJpYnV0ZXMgY2FuIGJlIGhhcmQgdG8gZmluZC4gVGhpcyBsaXN0IHdhcyBjcmVhdGVkIGJ5XG4vLyBzY3JhcGluZyB0aGUgTUROIGRvY3VtZW50YXRpb24uXG5cblxuWydhY2NlbnQtaGVpZ2h0JywgJ2FsaWdubWVudC1iYXNlbGluZScsICdhcmFiaWMtZm9ybScsICdiYXNlbGluZS1zaGlmdCcsICdjYXAtaGVpZ2h0JywgJ2NsaXAtcGF0aCcsICdjbGlwLXJ1bGUnLCAnY29sb3ItaW50ZXJwb2xhdGlvbicsICdjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnMnLCAnY29sb3ItcHJvZmlsZScsICdjb2xvci1yZW5kZXJpbmcnLCAnZG9taW5hbnQtYmFzZWxpbmUnLCAnZW5hYmxlLWJhY2tncm91bmQnLCAnZmlsbC1vcGFjaXR5JywgJ2ZpbGwtcnVsZScsICdmbG9vZC1jb2xvcicsICdmbG9vZC1vcGFjaXR5JywgJ2ZvbnQtZmFtaWx5JywgJ2ZvbnQtc2l6ZScsICdmb250LXNpemUtYWRqdXN0JywgJ2ZvbnQtc3RyZXRjaCcsICdmb250LXN0eWxlJywgJ2ZvbnQtdmFyaWFudCcsICdmb250LXdlaWdodCcsICdnbHlwaC1uYW1lJywgJ2dseXBoLW9yaWVudGF0aW9uLWhvcml6b250YWwnLCAnZ2x5cGgtb3JpZW50YXRpb24tdmVydGljYWwnLCAnaG9yaXotYWR2LXgnLCAnaG9yaXotb3JpZ2luLXgnLCAnaW1hZ2UtcmVuZGVyaW5nJywgJ2xldHRlci1zcGFjaW5nJywgJ2xpZ2h0aW5nLWNvbG9yJywgJ21hcmtlci1lbmQnLCAnbWFya2VyLW1pZCcsICdtYXJrZXItc3RhcnQnLCAnb3ZlcmxpbmUtcG9zaXRpb24nLCAnb3ZlcmxpbmUtdGhpY2tuZXNzJywgJ3BhaW50LW9yZGVyJywgJ3Bhbm9zZS0xJywgJ3BvaW50ZXItZXZlbnRzJywgJ3JlbmRlcmluZy1pbnRlbnQnLCAnc2hhcGUtcmVuZGVyaW5nJywgJ3N0b3AtY29sb3InLCAnc3RvcC1vcGFjaXR5JywgJ3N0cmlrZXRocm91Z2gtcG9zaXRpb24nLCAnc3RyaWtldGhyb3VnaC10aGlja25lc3MnLCAnc3Ryb2tlLWRhc2hhcnJheScsICdzdHJva2UtZGFzaG9mZnNldCcsICdzdHJva2UtbGluZWNhcCcsICdzdHJva2UtbGluZWpvaW4nLCAnc3Ryb2tlLW1pdGVybGltaXQnLCAnc3Ryb2tlLW9wYWNpdHknLCAnc3Ryb2tlLXdpZHRoJywgJ3RleHQtYW5jaG9yJywgJ3RleHQtZGVjb3JhdGlvbicsICd0ZXh0LXJlbmRlcmluZycsICd1bmRlcmxpbmUtcG9zaXRpb24nLCAndW5kZXJsaW5lLXRoaWNrbmVzcycsICd1bmljb2RlLWJpZGknLCAndW5pY29kZS1yYW5nZScsICd1bml0cy1wZXItZW0nLCAndi1hbHBoYWJldGljJywgJ3YtaGFuZ2luZycsICd2LWlkZW9ncmFwaGljJywgJ3YtbWF0aGVtYXRpY2FsJywgJ3ZlY3Rvci1lZmZlY3QnLCAndmVydC1hZHYteScsICd2ZXJ0LW9yaWdpbi14JywgJ3ZlcnQtb3JpZ2luLXknLCAnd29yZC1zcGFjaW5nJywgJ3dyaXRpbmctbW9kZScsICd4bWxuczp4bGluaycsICd4LWhlaWdodCcgLy8gTk9URTogaWYgeW91IGFkZCBhIGNhbWVsQ2FzZWQgcHJvcCB0byB0aGlzIGxpc3QsXG4vLyB5b3UnbGwgbmVlZCB0byBzZXQgYXR0cmlidXRlTmFtZSB0byBuYW1lLnRvTG93ZXJDYXNlKClcbi8vIGluc3RlYWQgaW4gdGhlIGFzc2lnbm1lbnQgYmVsb3cuXG5dLmZvckVhY2goZnVuY3Rpb24gKGF0dHJpYnV0ZU5hbWUpIHtcbiAgdmFyIG5hbWUgPSBhdHRyaWJ1dGVOYW1lLnJlcGxhY2UoQ0FNRUxJWkUsIGNhcGl0YWxpemUpO1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBTVFJJTkcsIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgYXR0cmlidXRlTmFtZSwgbnVsbCwgLy8gYXR0cmlidXRlTmFtZXNwYWNlXG4gIGZhbHNlLCAvLyBzYW5pdGl6ZVVSTFxuICBmYWxzZSk7XG59KTsgLy8gU3RyaW5nIFNWRyBhdHRyaWJ1dGVzIHdpdGggdGhlIHhsaW5rIG5hbWVzcGFjZS5cblxuWyd4bGluazphY3R1YXRlJywgJ3hsaW5rOmFyY3JvbGUnLCAneGxpbms6cm9sZScsICd4bGluazpzaG93JywgJ3hsaW5rOnRpdGxlJywgJ3hsaW5rOnR5cGUnIC8vIE5PVEU6IGlmIHlvdSBhZGQgYSBjYW1lbENhc2VkIHByb3AgdG8gdGhpcyBsaXN0LFxuLy8geW91J2xsIG5lZWQgdG8gc2V0IGF0dHJpYnV0ZU5hbWUgdG8gbmFtZS50b0xvd2VyQ2FzZSgpXG4vLyBpbnN0ZWFkIGluIHRoZSBhc3NpZ25tZW50IGJlbG93LlxuXS5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyaWJ1dGVOYW1lKSB7XG4gIHZhciBuYW1lID0gYXR0cmlidXRlTmFtZS5yZXBsYWNlKENBTUVMSVpFLCBjYXBpdGFsaXplKTtcbiAgcHJvcGVydGllc1tuYW1lXSA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgU1RSSU5HLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIGF0dHJpYnV0ZU5hbWUsICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgZmFsc2UsIC8vIHNhbml0aXplVVJMXG4gIGZhbHNlKTtcbn0pOyAvLyBTdHJpbmcgU1ZHIGF0dHJpYnV0ZXMgd2l0aCB0aGUgeG1sIG5hbWVzcGFjZS5cblxuWyd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnIC8vIE5PVEU6IGlmIHlvdSBhZGQgYSBjYW1lbENhc2VkIHByb3AgdG8gdGhpcyBsaXN0LFxuLy8geW91J2xsIG5lZWQgdG8gc2V0IGF0dHJpYnV0ZU5hbWUgdG8gbmFtZS50b0xvd2VyQ2FzZSgpXG4vLyBpbnN0ZWFkIGluIHRoZSBhc3NpZ25tZW50IGJlbG93LlxuXS5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyaWJ1dGVOYW1lKSB7XG4gIHZhciBuYW1lID0gYXR0cmlidXRlTmFtZS5yZXBsYWNlKENBTUVMSVpFLCBjYXBpdGFsaXplKTtcbiAgcHJvcGVydGllc1tuYW1lXSA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgU1RSSU5HLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIGF0dHJpYnV0ZU5hbWUsICdodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2UnLCBmYWxzZSwgLy8gc2FuaXRpemVVUkxcbiAgZmFsc2UpO1xufSk7IC8vIFRoZXNlIGF0dHJpYnV0ZSBleGlzdHMgYm90aCBpbiBIVE1MIGFuZCBTVkcuXG4vLyBUaGUgYXR0cmlidXRlIG5hbWUgaXMgY2FzZS1zZW5zaXRpdmUgaW4gU1ZHIHNvIHdlIGNhbid0IGp1c3QgdXNlXG4vLyB0aGUgUmVhY3QgbmFtZSBsaWtlIHdlIGRvIGZvciBhdHRyaWJ1dGVzIHRoYXQgZXhpc3Qgb25seSBpbiBIVE1MLlxuXG5bJ3RhYkluZGV4JywgJ2Nyb3NzT3JpZ2luJ10uZm9yRWFjaChmdW5jdGlvbiAoYXR0cmlidXRlTmFtZSkge1xuICBwcm9wZXJ0aWVzW2F0dHJpYnV0ZU5hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChhdHRyaWJ1dGVOYW1lLCBTVFJJTkcsIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgYXR0cmlidXRlTmFtZS50b0xvd2VyQ2FzZSgpLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwsIC8vIGF0dHJpYnV0ZU5hbWVzcGFjZVxuICBmYWxzZSwgLy8gc2FuaXRpemVVUkxcbiAgZmFsc2UpO1xufSk7IC8vIFRoZXNlIGF0dHJpYnV0ZXMgYWNjZXB0IFVSTHMuIFRoZXNlIG11c3Qgbm90IGFsbG93IGphdmFzY3JpcHQ6IFVSTFMuXG4vLyBUaGVzZSB3aWxsIGFsc28gbmVlZCB0byBhY2NlcHQgVHJ1c3RlZCBUeXBlcyBvYmplY3QgaW4gdGhlIGZ1dHVyZS5cblxudmFyIHhsaW5rSHJlZiA9ICd4bGlua0hyZWYnO1xucHJvcGVydGllc1t4bGlua0hyZWZdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZCgneGxpbmtIcmVmJywgU1RSSU5HLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4neGxpbms6aHJlZicsICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgdHJ1ZSwgLy8gc2FuaXRpemVVUkxcbmZhbHNlKTtcblsnc3JjJywgJ2hyZWYnLCAnYWN0aW9uJywgJ2Zvcm1BY3Rpb24nXS5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyaWJ1dGVOYW1lKSB7XG4gIHByb3BlcnRpZXNbYXR0cmlidXRlTmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKGF0dHJpYnV0ZU5hbWUsIFNUUklORywgZmFsc2UsIC8vIG11c3RVc2VQcm9wZXJ0eVxuICBhdHRyaWJ1dGVOYW1lLnRvTG93ZXJDYXNlKCksIC8vIGF0dHJpYnV0ZU5hbWVcbiAgbnVsbCwgLy8gYXR0cmlidXRlTmFtZXNwYWNlXG4gIHRydWUsIC8vIHNhbml0aXplVVJMXG4gIHRydWUpO1xufSk7XG5cbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJy4uL2xpYi9wb3NzaWJsZVN0YW5kYXJkTmFtZXNPcHRpbWl6ZWQnKSxcbiAgICBDQU1FTENBU0UgPSBfcmVxdWlyZS5DQU1FTENBU0UsXG4gICAgU0FNRSA9IF9yZXF1aXJlLlNBTUUsXG4gICAgcG9zc2libGVTdGFuZGFyZE5hbWVzT3B0aW1pemVkID0gX3JlcXVpcmUucG9zc2libGVTdGFuZGFyZE5hbWVzO1xuXG52YXIgQVRUUklCVVRFX05BTUVfU1RBUlRfQ0hBUiA9IFwiOkEtWl9hLXpcXFxcdTAwQzAtXFxcXHUwMEQ2XFxcXHUwMEQ4LVxcXFx1MDBGNlxcXFx1MDBGOC1cXFxcdTAyRkZcXFxcdTAzNzAtXFxcXHUwMzdEXFxcXHUwMzdGLVxcXFx1MUZGRlxcXFx1MjAwQy1cXFxcdTIwMERcXFxcdTIwNzAtXFxcXHUyMThGXFxcXHUyQzAwLVxcXFx1MkZFRlxcXFx1MzAwMS1cXFxcdUQ3RkZcXFxcdUY5MDAtXFxcXHVGRENGXFxcXHVGREYwLVxcXFx1RkZGRFwiO1xudmFyIEFUVFJJQlVURV9OQU1FX0NIQVIgPSBBVFRSSUJVVEVfTkFNRV9TVEFSVF9DSEFSICsgXCJcXFxcLS4wLTlcXFxcdTAwQjdcXFxcdTAzMDAtXFxcXHUwMzZGXFxcXHUyMDNGLVxcXFx1MjA0MFwiO1xuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhIHByb3BlcnR5IG5hbWUgaXMgYSBjdXN0b20gYXR0cmlidXRlLlxuICpcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iLzE1LXN0YWJsZS9zcmMvcmVuZGVyZXJzL2RvbS9zaGFyZWQvSFRNTERPTVByb3BlcnR5Q29uZmlnLmpzI0wyMy1MMjV9XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9XG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5cbnZhciBpc0N1c3RvbUF0dHJpYnV0ZSA9IFJlZ0V4cC5wcm90b3R5cGUudGVzdC5iaW5kKCAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWlzbGVhZGluZy1jaGFyYWN0ZXItY2xhc3Ncbm5ldyBSZWdFeHAoJ14oZGF0YXxhcmlhKS1bJyArIEFUVFJJQlVURV9OQU1FX0NIQVIgKyAnXSokJykpO1xudmFyIHBvc3NpYmxlU3RhbmRhcmROYW1lcyA9IE9iamVjdC5rZXlzKHBvc3NpYmxlU3RhbmRhcmROYW1lc09wdGltaXplZCkucmVkdWNlKGZ1bmN0aW9uIChhY2N1bXVsYXRvciwgc3RhbmRhcmROYW1lKSB7XG4gIHZhciBwcm9wTmFtZSA9IHBvc3NpYmxlU3RhbmRhcmROYW1lc09wdGltaXplZFtzdGFuZGFyZE5hbWVdO1xuXG4gIGlmIChwcm9wTmFtZSA9PT0gU0FNRSkge1xuICAgIGFjY3VtdWxhdG9yW3N0YW5kYXJkTmFtZV0gPSBzdGFuZGFyZE5hbWU7XG4gIH0gZWxzZSBpZiAocHJvcE5hbWUgPT09IENBTUVMQ0FTRSkge1xuICAgIGFjY3VtdWxhdG9yW3N0YW5kYXJkTmFtZS50b0xvd2VyQ2FzZSgpXSA9IHN0YW5kYXJkTmFtZTtcbiAgfSBlbHNlIHtcbiAgICBhY2N1bXVsYXRvcltzdGFuZGFyZE5hbWVdID0gcHJvcE5hbWU7XG4gIH1cblxuICByZXR1cm4gYWNjdW11bGF0b3I7XG59LCB7fSk7XG5cbmV4cG9ydHMuQk9PTEVBTiA9IEJPT0xFQU47XG5leHBvcnRzLkJPT0xFQU5JU0hfU1RSSU5HID0gQk9PTEVBTklTSF9TVFJJTkc7XG5leHBvcnRzLk5VTUVSSUMgPSBOVU1FUklDO1xuZXhwb3J0cy5PVkVSTE9BREVEX0JPT0xFQU4gPSBPVkVSTE9BREVEX0JPT0xFQU47XG5leHBvcnRzLlBPU0lUSVZFX05VTUVSSUMgPSBQT1NJVElWRV9OVU1FUklDO1xuZXhwb3J0cy5SRVNFUlZFRCA9IFJFU0VSVkVEO1xuZXhwb3J0cy5TVFJJTkcgPSBTVFJJTkc7XG5leHBvcnRzLmdldFByb3BlcnR5SW5mbyA9IGdldFByb3BlcnR5SW5mbztcbmV4cG9ydHMuaXNDdXN0b21BdHRyaWJ1dGUgPSBpc0N1c3RvbUF0dHJpYnV0ZTtcbmV4cG9ydHMucG9zc2libGVTdGFuZGFyZE5hbWVzID0gcG9zc2libGVTdGFuZGFyZE5hbWVzO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-property/lib/index.js\n"));

/***/ }),

/***/ "./node_modules/react-property/lib/possibleStandardNamesOptimized.js":
/*!***************************************************************************!*\
  !*** ./node_modules/react-property/lib/possibleStandardNamesOptimized.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval(__webpack_require__.ts("// An attribute in which the DOM/SVG standard name is the same as the React prop name (e.g., 'accept').\nvar SAME = 0;\nexports.SAME = SAME;\n\n// An attribute in which the React prop name is the camelcased version of the DOM/SVG standard name (e.g., 'acceptCharset').\nvar CAMELCASE = 1;\nexports.CAMELCASE = CAMELCASE;\n\nexports.possibleStandardNames = {\n  accept: 0,\n  acceptCharset: 1,\n  'accept-charset': 'acceptCharset',\n  accessKey: 1,\n  action: 0,\n  allowFullScreen: 1,\n  alt: 0,\n  as: 0,\n  async: 0,\n  autoCapitalize: 1,\n  autoComplete: 1,\n  autoCorrect: 1,\n  autoFocus: 1,\n  autoPlay: 1,\n  autoSave: 1,\n  capture: 0,\n  cellPadding: 1,\n  cellSpacing: 1,\n  challenge: 0,\n  charSet: 1,\n  checked: 0,\n  children: 0,\n  cite: 0,\n  class: 'className',\n  classID: 1,\n  className: 1,\n  cols: 0,\n  colSpan: 1,\n  content: 0,\n  contentEditable: 1,\n  contextMenu: 1,\n  controls: 0,\n  controlsList: 1,\n  coords: 0,\n  crossOrigin: 1,\n  dangerouslySetInnerHTML: 1,\n  data: 0,\n  dateTime: 1,\n  default: 0,\n  defaultChecked: 1,\n  defaultValue: 1,\n  defer: 0,\n  dir: 0,\n  disabled: 0,\n  disablePictureInPicture: 1,\n  disableRemotePlayback: 1,\n  download: 0,\n  draggable: 0,\n  encType: 1,\n  enterKeyHint: 1,\n  for: 'htmlFor',\n  form: 0,\n  formMethod: 1,\n  formAction: 1,\n  formEncType: 1,\n  formNoValidate: 1,\n  formTarget: 1,\n  frameBorder: 1,\n  headers: 0,\n  height: 0,\n  hidden: 0,\n  high: 0,\n  href: 0,\n  hrefLang: 1,\n  htmlFor: 1,\n  httpEquiv: 1,\n  'http-equiv': 'httpEquiv',\n  icon: 0,\n  id: 0,\n  innerHTML: 1,\n  inputMode: 1,\n  integrity: 0,\n  is: 0,\n  itemID: 1,\n  itemProp: 1,\n  itemRef: 1,\n  itemScope: 1,\n  itemType: 1,\n  keyParams: 1,\n  keyType: 1,\n  kind: 0,\n  label: 0,\n  lang: 0,\n  list: 0,\n  loop: 0,\n  low: 0,\n  manifest: 0,\n  marginWidth: 1,\n  marginHeight: 1,\n  max: 0,\n  maxLength: 1,\n  media: 0,\n  mediaGroup: 1,\n  method: 0,\n  min: 0,\n  minLength: 1,\n  multiple: 0,\n  muted: 0,\n  name: 0,\n  noModule: 1,\n  nonce: 0,\n  noValidate: 1,\n  open: 0,\n  optimum: 0,\n  pattern: 0,\n  placeholder: 0,\n  playsInline: 1,\n  poster: 0,\n  preload: 0,\n  profile: 0,\n  radioGroup: 1,\n  readOnly: 1,\n  referrerPolicy: 1,\n  rel: 0,\n  required: 0,\n  reversed: 0,\n  role: 0,\n  rows: 0,\n  rowSpan: 1,\n  sandbox: 0,\n  scope: 0,\n  scoped: 0,\n  scrolling: 0,\n  seamless: 0,\n  selected: 0,\n  shape: 0,\n  size: 0,\n  sizes: 0,\n  span: 0,\n  spellCheck: 1,\n  src: 0,\n  srcDoc: 1,\n  srcLang: 1,\n  srcSet: 1,\n  start: 0,\n  step: 0,\n  style: 0,\n  summary: 0,\n  tabIndex: 1,\n  target: 0,\n  title: 0,\n  type: 0,\n  useMap: 1,\n  value: 0,\n  width: 0,\n  wmode: 0,\n  wrap: 0,\n  about: 0,\n  accentHeight: 1,\n  'accent-height': 'accentHeight',\n  accumulate: 0,\n  additive: 0,\n  alignmentBaseline: 1,\n  'alignment-baseline': 'alignmentBaseline',\n  allowReorder: 1,\n  alphabetic: 0,\n  amplitude: 0,\n  arabicForm: 1,\n  'arabic-form': 'arabicForm',\n  ascent: 0,\n  attributeName: 1,\n  attributeType: 1,\n  autoReverse: 1,\n  azimuth: 0,\n  baseFrequency: 1,\n  baselineShift: 1,\n  'baseline-shift': 'baselineShift',\n  baseProfile: 1,\n  bbox: 0,\n  begin: 0,\n  bias: 0,\n  by: 0,\n  calcMode: 1,\n  capHeight: 1,\n  'cap-height': 'capHeight',\n  clip: 0,\n  clipPath: 1,\n  'clip-path': 'clipPath',\n  clipPathUnits: 1,\n  clipRule: 1,\n  'clip-rule': 'clipRule',\n  color: 0,\n  colorInterpolation: 1,\n  'color-interpolation': 'colorInterpolation',\n  colorInterpolationFilters: 1,\n  'color-interpolation-filters': 'colorInterpolationFilters',\n  colorProfile: 1,\n  'color-profile': 'colorProfile',\n  colorRendering: 1,\n  'color-rendering': 'colorRendering',\n  contentScriptType: 1,\n  contentStyleType: 1,\n  cursor: 0,\n  cx: 0,\n  cy: 0,\n  d: 0,\n  datatype: 0,\n  decelerate: 0,\n  descent: 0,\n  diffuseConstant: 1,\n  direction: 0,\n  display: 0,\n  divisor: 0,\n  dominantBaseline: 1,\n  'dominant-baseline': 'dominantBaseline',\n  dur: 0,\n  dx: 0,\n  dy: 0,\n  edgeMode: 1,\n  elevation: 0,\n  enableBackground: 1,\n  'enable-background': 'enableBackground',\n  end: 0,\n  exponent: 0,\n  externalResourcesRequired: 1,\n  fill: 0,\n  fillOpacity: 1,\n  'fill-opacity': 'fillOpacity',\n  fillRule: 1,\n  'fill-rule': 'fillRule',\n  filter: 0,\n  filterRes: 1,\n  filterUnits: 1,\n  floodOpacity: 1,\n  'flood-opacity': 'floodOpacity',\n  floodColor: 1,\n  'flood-color': 'floodColor',\n  focusable: 0,\n  fontFamily: 1,\n  'font-family': 'fontFamily',\n  fontSize: 1,\n  'font-size': 'fontSize',\n  fontSizeAdjust: 1,\n  'font-size-adjust': 'fontSizeAdjust',\n  fontStretch: 1,\n  'font-stretch': 'fontStretch',\n  fontStyle: 1,\n  'font-style': 'fontStyle',\n  fontVariant: 1,\n  'font-variant': 'fontVariant',\n  fontWeight: 1,\n  'font-weight': 'fontWeight',\n  format: 0,\n  from: 0,\n  fx: 0,\n  fy: 0,\n  g1: 0,\n  g2: 0,\n  glyphName: 1,\n  'glyph-name': 'glyphName',\n  glyphOrientationHorizontal: 1,\n  'glyph-orientation-horizontal': 'glyphOrientationHorizontal',\n  glyphOrientationVertical: 1,\n  'glyph-orientation-vertical': 'glyphOrientationVertical',\n  glyphRef: 1,\n  gradientTransform: 1,\n  gradientUnits: 1,\n  hanging: 0,\n  horizAdvX: 1,\n  'horiz-adv-x': 'horizAdvX',\n  horizOriginX: 1,\n  'horiz-origin-x': 'horizOriginX',\n  ideographic: 0,\n  imageRendering: 1,\n  'image-rendering': 'imageRendering',\n  in2: 0,\n  in: 0,\n  inlist: 0,\n  intercept: 0,\n  k1: 0,\n  k2: 0,\n  k3: 0,\n  k4: 0,\n  k: 0,\n  kernelMatrix: 1,\n  kernelUnitLength: 1,\n  kerning: 0,\n  keyPoints: 1,\n  keySplines: 1,\n  keyTimes: 1,\n  lengthAdjust: 1,\n  letterSpacing: 1,\n  'letter-spacing': 'letterSpacing',\n  lightingColor: 1,\n  'lighting-color': 'lightingColor',\n  limitingConeAngle: 1,\n  local: 0,\n  markerEnd: 1,\n  'marker-end': 'markerEnd',\n  markerHeight: 1,\n  markerMid: 1,\n  'marker-mid': 'markerMid',\n  markerStart: 1,\n  'marker-start': 'markerStart',\n  markerUnits: 1,\n  markerWidth: 1,\n  mask: 0,\n  maskContentUnits: 1,\n  maskUnits: 1,\n  mathematical: 0,\n  mode: 0,\n  numOctaves: 1,\n  offset: 0,\n  opacity: 0,\n  operator: 0,\n  order: 0,\n  orient: 0,\n  orientation: 0,\n  origin: 0,\n  overflow: 0,\n  overlinePosition: 1,\n  'overline-position': 'overlinePosition',\n  overlineThickness: 1,\n  'overline-thickness': 'overlineThickness',\n  paintOrder: 1,\n  'paint-order': 'paintOrder',\n  panose1: 0,\n  'panose-1': 'panose1',\n  pathLength: 1,\n  patternContentUnits: 1,\n  patternTransform: 1,\n  patternUnits: 1,\n  pointerEvents: 1,\n  'pointer-events': 'pointerEvents',\n  points: 0,\n  pointsAtX: 1,\n  pointsAtY: 1,\n  pointsAtZ: 1,\n  prefix: 0,\n  preserveAlpha: 1,\n  preserveAspectRatio: 1,\n  primitiveUnits: 1,\n  property: 0,\n  r: 0,\n  radius: 0,\n  refX: 1,\n  refY: 1,\n  renderingIntent: 1,\n  'rendering-intent': 'renderingIntent',\n  repeatCount: 1,\n  repeatDur: 1,\n  requiredExtensions: 1,\n  requiredFeatures: 1,\n  resource: 0,\n  restart: 0,\n  result: 0,\n  results: 0,\n  rotate: 0,\n  rx: 0,\n  ry: 0,\n  scale: 0,\n  security: 0,\n  seed: 0,\n  shapeRendering: 1,\n  'shape-rendering': 'shapeRendering',\n  slope: 0,\n  spacing: 0,\n  specularConstant: 1,\n  specularExponent: 1,\n  speed: 0,\n  spreadMethod: 1,\n  startOffset: 1,\n  stdDeviation: 1,\n  stemh: 0,\n  stemv: 0,\n  stitchTiles: 1,\n  stopColor: 1,\n  'stop-color': 'stopColor',\n  stopOpacity: 1,\n  'stop-opacity': 'stopOpacity',\n  strikethroughPosition: 1,\n  'strikethrough-position': 'strikethroughPosition',\n  strikethroughThickness: 1,\n  'strikethrough-thickness': 'strikethroughThickness',\n  string: 0,\n  stroke: 0,\n  strokeDasharray: 1,\n  'stroke-dasharray': 'strokeDasharray',\n  strokeDashoffset: 1,\n  'stroke-dashoffset': 'strokeDashoffset',\n  strokeLinecap: 1,\n  'stroke-linecap': 'strokeLinecap',\n  strokeLinejoin: 1,\n  'stroke-linejoin': 'strokeLinejoin',\n  strokeMiterlimit: 1,\n  'stroke-miterlimit': 'strokeMiterlimit',\n  strokeWidth: 1,\n  'stroke-width': 'strokeWidth',\n  strokeOpacity: 1,\n  'stroke-opacity': 'strokeOpacity',\n  suppressContentEditableWarning: 1,\n  suppressHydrationWarning: 1,\n  surfaceScale: 1,\n  systemLanguage: 1,\n  tableValues: 1,\n  targetX: 1,\n  targetY: 1,\n  textAnchor: 1,\n  'text-anchor': 'textAnchor',\n  textDecoration: 1,\n  'text-decoration': 'textDecoration',\n  textLength: 1,\n  textRendering: 1,\n  'text-rendering': 'textRendering',\n  to: 0,\n  transform: 0,\n  typeof: 0,\n  u1: 0,\n  u2: 0,\n  underlinePosition: 1,\n  'underline-position': 'underlinePosition',\n  underlineThickness: 1,\n  'underline-thickness': 'underlineThickness',\n  unicode: 0,\n  unicodeBidi: 1,\n  'unicode-bidi': 'unicodeBidi',\n  unicodeRange: 1,\n  'unicode-range': 'unicodeRange',\n  unitsPerEm: 1,\n  'units-per-em': 'unitsPerEm',\n  unselectable: 0,\n  vAlphabetic: 1,\n  'v-alphabetic': 'vAlphabetic',\n  values: 0,\n  vectorEffect: 1,\n  'vector-effect': 'vectorEffect',\n  version: 0,\n  vertAdvY: 1,\n  'vert-adv-y': 'vertAdvY',\n  vertOriginX: 1,\n  'vert-origin-x': 'vertOriginX',\n  vertOriginY: 1,\n  'vert-origin-y': 'vertOriginY',\n  vHanging: 1,\n  'v-hanging': 'vHanging',\n  vIdeographic: 1,\n  'v-ideographic': 'vIdeographic',\n  viewBox: 1,\n  viewTarget: 1,\n  visibility: 0,\n  vMathematical: 1,\n  'v-mathematical': 'vMathematical',\n  vocab: 0,\n  widths: 0,\n  wordSpacing: 1,\n  'word-spacing': 'wordSpacing',\n  writingMode: 1,\n  'writing-mode': 'writingMode',\n  x1: 0,\n  x2: 0,\n  x: 0,\n  xChannelSelector: 1,\n  xHeight: 1,\n  'x-height': 'xHeight',\n  xlinkActuate: 1,\n  'xlink:actuate': 'xlinkActuate',\n  xlinkArcrole: 1,\n  'xlink:arcrole': 'xlinkArcrole',\n  xlinkHref: 1,\n  'xlink:href': 'xlinkHref',\n  xlinkRole: 1,\n  'xlink:role': 'xlinkRole',\n  xlinkShow: 1,\n  'xlink:show': 'xlinkShow',\n  xlinkTitle: 1,\n  'xlink:title': 'xlinkTitle',\n  xlinkType: 1,\n  'xlink:type': 'xlinkType',\n  xmlBase: 1,\n  'xml:base': 'xmlBase',\n  xmlLang: 1,\n  'xml:lang': 'xmlLang',\n  xmlns: 0,\n  'xml:space': 'xmlSpace',\n  xmlnsXlink: 1,\n  'xmlns:xlink': 'xmlnsXlink',\n  xmlSpace: 1,\n  y1: 0,\n  y2: 0,\n  y: 0,\n  yChannelSelector: 1,\n  z: 0,\n  zoomAndPan: 1\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtcHJvcGVydHkvbGliL3Bvc3NpYmxlU3RhbmRhcmROYW1lc09wdGltaXplZC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0EsWUFBWTs7QUFFWjtBQUNBO0FBQ0EsaUJBQWlCOztBQUVqQiw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXByb3BlcnR5L2xpYi9wb3NzaWJsZVN0YW5kYXJkTmFtZXNPcHRpbWl6ZWQuanM/NzMxMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBBbiBhdHRyaWJ1dGUgaW4gd2hpY2ggdGhlIERPTS9TVkcgc3RhbmRhcmQgbmFtZSBpcyB0aGUgc2FtZSBhcyB0aGUgUmVhY3QgcHJvcCBuYW1lIChlLmcuLCAnYWNjZXB0JykuXG52YXIgU0FNRSA9IDA7XG5leHBvcnRzLlNBTUUgPSBTQU1FO1xuXG4vLyBBbiBhdHRyaWJ1dGUgaW4gd2hpY2ggdGhlIFJlYWN0IHByb3AgbmFtZSBpcyB0aGUgY2FtZWxjYXNlZCB2ZXJzaW9uIG9mIHRoZSBET00vU1ZHIHN0YW5kYXJkIG5hbWUgKGUuZy4sICdhY2NlcHRDaGFyc2V0JykuXG52YXIgQ0FNRUxDQVNFID0gMTtcbmV4cG9ydHMuQ0FNRUxDQVNFID0gQ0FNRUxDQVNFO1xuXG5leHBvcnRzLnBvc3NpYmxlU3RhbmRhcmROYW1lcyA9IHtcbiAgYWNjZXB0OiAwLFxuICBhY2NlcHRDaGFyc2V0OiAxLFxuICAnYWNjZXB0LWNoYXJzZXQnOiAnYWNjZXB0Q2hhcnNldCcsXG4gIGFjY2Vzc0tleTogMSxcbiAgYWN0aW9uOiAwLFxuICBhbGxvd0Z1bGxTY3JlZW46IDEsXG4gIGFsdDogMCxcbiAgYXM6IDAsXG4gIGFzeW5jOiAwLFxuICBhdXRvQ2FwaXRhbGl6ZTogMSxcbiAgYXV0b0NvbXBsZXRlOiAxLFxuICBhdXRvQ29ycmVjdDogMSxcbiAgYXV0b0ZvY3VzOiAxLFxuICBhdXRvUGxheTogMSxcbiAgYXV0b1NhdmU6IDEsXG4gIGNhcHR1cmU6IDAsXG4gIGNlbGxQYWRkaW5nOiAxLFxuICBjZWxsU3BhY2luZzogMSxcbiAgY2hhbGxlbmdlOiAwLFxuICBjaGFyU2V0OiAxLFxuICBjaGVja2VkOiAwLFxuICBjaGlsZHJlbjogMCxcbiAgY2l0ZTogMCxcbiAgY2xhc3M6ICdjbGFzc05hbWUnLFxuICBjbGFzc0lEOiAxLFxuICBjbGFzc05hbWU6IDEsXG4gIGNvbHM6IDAsXG4gIGNvbFNwYW46IDEsXG4gIGNvbnRlbnQ6IDAsXG4gIGNvbnRlbnRFZGl0YWJsZTogMSxcbiAgY29udGV4dE1lbnU6IDEsXG4gIGNvbnRyb2xzOiAwLFxuICBjb250cm9sc0xpc3Q6IDEsXG4gIGNvb3JkczogMCxcbiAgY3Jvc3NPcmlnaW46IDEsXG4gIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiAxLFxuICBkYXRhOiAwLFxuICBkYXRlVGltZTogMSxcbiAgZGVmYXVsdDogMCxcbiAgZGVmYXVsdENoZWNrZWQ6IDEsXG4gIGRlZmF1bHRWYWx1ZTogMSxcbiAgZGVmZXI6IDAsXG4gIGRpcjogMCxcbiAgZGlzYWJsZWQ6IDAsXG4gIGRpc2FibGVQaWN0dXJlSW5QaWN0dXJlOiAxLFxuICBkaXNhYmxlUmVtb3RlUGxheWJhY2s6IDEsXG4gIGRvd25sb2FkOiAwLFxuICBkcmFnZ2FibGU6IDAsXG4gIGVuY1R5cGU6IDEsXG4gIGVudGVyS2V5SGludDogMSxcbiAgZm9yOiAnaHRtbEZvcicsXG4gIGZvcm06IDAsXG4gIGZvcm1NZXRob2Q6IDEsXG4gIGZvcm1BY3Rpb246IDEsXG4gIGZvcm1FbmNUeXBlOiAxLFxuICBmb3JtTm9WYWxpZGF0ZTogMSxcbiAgZm9ybVRhcmdldDogMSxcbiAgZnJhbWVCb3JkZXI6IDEsXG4gIGhlYWRlcnM6IDAsXG4gIGhlaWdodDogMCxcbiAgaGlkZGVuOiAwLFxuICBoaWdoOiAwLFxuICBocmVmOiAwLFxuICBocmVmTGFuZzogMSxcbiAgaHRtbEZvcjogMSxcbiAgaHR0cEVxdWl2OiAxLFxuICAnaHR0cC1lcXVpdic6ICdodHRwRXF1aXYnLFxuICBpY29uOiAwLFxuICBpZDogMCxcbiAgaW5uZXJIVE1MOiAxLFxuICBpbnB1dE1vZGU6IDEsXG4gIGludGVncml0eTogMCxcbiAgaXM6IDAsXG4gIGl0ZW1JRDogMSxcbiAgaXRlbVByb3A6IDEsXG4gIGl0ZW1SZWY6IDEsXG4gIGl0ZW1TY29wZTogMSxcbiAgaXRlbVR5cGU6IDEsXG4gIGtleVBhcmFtczogMSxcbiAga2V5VHlwZTogMSxcbiAga2luZDogMCxcbiAgbGFiZWw6IDAsXG4gIGxhbmc6IDAsXG4gIGxpc3Q6IDAsXG4gIGxvb3A6IDAsXG4gIGxvdzogMCxcbiAgbWFuaWZlc3Q6IDAsXG4gIG1hcmdpbldpZHRoOiAxLFxuICBtYXJnaW5IZWlnaHQ6IDEsXG4gIG1heDogMCxcbiAgbWF4TGVuZ3RoOiAxLFxuICBtZWRpYTogMCxcbiAgbWVkaWFHcm91cDogMSxcbiAgbWV0aG9kOiAwLFxuICBtaW46IDAsXG4gIG1pbkxlbmd0aDogMSxcbiAgbXVsdGlwbGU6IDAsXG4gIG11dGVkOiAwLFxuICBuYW1lOiAwLFxuICBub01vZHVsZTogMSxcbiAgbm9uY2U6IDAsXG4gIG5vVmFsaWRhdGU6IDEsXG4gIG9wZW46IDAsXG4gIG9wdGltdW06IDAsXG4gIHBhdHRlcm46IDAsXG4gIHBsYWNlaG9sZGVyOiAwLFxuICBwbGF5c0lubGluZTogMSxcbiAgcG9zdGVyOiAwLFxuICBwcmVsb2FkOiAwLFxuICBwcm9maWxlOiAwLFxuICByYWRpb0dyb3VwOiAxLFxuICByZWFkT25seTogMSxcbiAgcmVmZXJyZXJQb2xpY3k6IDEsXG4gIHJlbDogMCxcbiAgcmVxdWlyZWQ6IDAsXG4gIHJldmVyc2VkOiAwLFxuICByb2xlOiAwLFxuICByb3dzOiAwLFxuICByb3dTcGFuOiAxLFxuICBzYW5kYm94OiAwLFxuICBzY29wZTogMCxcbiAgc2NvcGVkOiAwLFxuICBzY3JvbGxpbmc6IDAsXG4gIHNlYW1sZXNzOiAwLFxuICBzZWxlY3RlZDogMCxcbiAgc2hhcGU6IDAsXG4gIHNpemU6IDAsXG4gIHNpemVzOiAwLFxuICBzcGFuOiAwLFxuICBzcGVsbENoZWNrOiAxLFxuICBzcmM6IDAsXG4gIHNyY0RvYzogMSxcbiAgc3JjTGFuZzogMSxcbiAgc3JjU2V0OiAxLFxuICBzdGFydDogMCxcbiAgc3RlcDogMCxcbiAgc3R5bGU6IDAsXG4gIHN1bW1hcnk6IDAsXG4gIHRhYkluZGV4OiAxLFxuICB0YXJnZXQ6IDAsXG4gIHRpdGxlOiAwLFxuICB0eXBlOiAwLFxuICB1c2VNYXA6IDEsXG4gIHZhbHVlOiAwLFxuICB3aWR0aDogMCxcbiAgd21vZGU6IDAsXG4gIHdyYXA6IDAsXG4gIGFib3V0OiAwLFxuICBhY2NlbnRIZWlnaHQ6IDEsXG4gICdhY2NlbnQtaGVpZ2h0JzogJ2FjY2VudEhlaWdodCcsXG4gIGFjY3VtdWxhdGU6IDAsXG4gIGFkZGl0aXZlOiAwLFxuICBhbGlnbm1lbnRCYXNlbGluZTogMSxcbiAgJ2FsaWdubWVudC1iYXNlbGluZSc6ICdhbGlnbm1lbnRCYXNlbGluZScsXG4gIGFsbG93UmVvcmRlcjogMSxcbiAgYWxwaGFiZXRpYzogMCxcbiAgYW1wbGl0dWRlOiAwLFxuICBhcmFiaWNGb3JtOiAxLFxuICAnYXJhYmljLWZvcm0nOiAnYXJhYmljRm9ybScsXG4gIGFzY2VudDogMCxcbiAgYXR0cmlidXRlTmFtZTogMSxcbiAgYXR0cmlidXRlVHlwZTogMSxcbiAgYXV0b1JldmVyc2U6IDEsXG4gIGF6aW11dGg6IDAsXG4gIGJhc2VGcmVxdWVuY3k6IDEsXG4gIGJhc2VsaW5lU2hpZnQ6IDEsXG4gICdiYXNlbGluZS1zaGlmdCc6ICdiYXNlbGluZVNoaWZ0JyxcbiAgYmFzZVByb2ZpbGU6IDEsXG4gIGJib3g6IDAsXG4gIGJlZ2luOiAwLFxuICBiaWFzOiAwLFxuICBieTogMCxcbiAgY2FsY01vZGU6IDEsXG4gIGNhcEhlaWdodDogMSxcbiAgJ2NhcC1oZWlnaHQnOiAnY2FwSGVpZ2h0JyxcbiAgY2xpcDogMCxcbiAgY2xpcFBhdGg6IDEsXG4gICdjbGlwLXBhdGgnOiAnY2xpcFBhdGgnLFxuICBjbGlwUGF0aFVuaXRzOiAxLFxuICBjbGlwUnVsZTogMSxcbiAgJ2NsaXAtcnVsZSc6ICdjbGlwUnVsZScsXG4gIGNvbG9yOiAwLFxuICBjb2xvckludGVycG9sYXRpb246IDEsXG4gICdjb2xvci1pbnRlcnBvbGF0aW9uJzogJ2NvbG9ySW50ZXJwb2xhdGlvbicsXG4gIGNvbG9ySW50ZXJwb2xhdGlvbkZpbHRlcnM6IDEsXG4gICdjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnMnOiAnY29sb3JJbnRlcnBvbGF0aW9uRmlsdGVycycsXG4gIGNvbG9yUHJvZmlsZTogMSxcbiAgJ2NvbG9yLXByb2ZpbGUnOiAnY29sb3JQcm9maWxlJyxcbiAgY29sb3JSZW5kZXJpbmc6IDEsXG4gICdjb2xvci1yZW5kZXJpbmcnOiAnY29sb3JSZW5kZXJpbmcnLFxuICBjb250ZW50U2NyaXB0VHlwZTogMSxcbiAgY29udGVudFN0eWxlVHlwZTogMSxcbiAgY3Vyc29yOiAwLFxuICBjeDogMCxcbiAgY3k6IDAsXG4gIGQ6IDAsXG4gIGRhdGF0eXBlOiAwLFxuICBkZWNlbGVyYXRlOiAwLFxuICBkZXNjZW50OiAwLFxuICBkaWZmdXNlQ29uc3RhbnQ6IDEsXG4gIGRpcmVjdGlvbjogMCxcbiAgZGlzcGxheTogMCxcbiAgZGl2aXNvcjogMCxcbiAgZG9taW5hbnRCYXNlbGluZTogMSxcbiAgJ2RvbWluYW50LWJhc2VsaW5lJzogJ2RvbWluYW50QmFzZWxpbmUnLFxuICBkdXI6IDAsXG4gIGR4OiAwLFxuICBkeTogMCxcbiAgZWRnZU1vZGU6IDEsXG4gIGVsZXZhdGlvbjogMCxcbiAgZW5hYmxlQmFja2dyb3VuZDogMSxcbiAgJ2VuYWJsZS1iYWNrZ3JvdW5kJzogJ2VuYWJsZUJhY2tncm91bmQnLFxuICBlbmQ6IDAsXG4gIGV4cG9uZW50OiAwLFxuICBleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkOiAxLFxuICBmaWxsOiAwLFxuICBmaWxsT3BhY2l0eTogMSxcbiAgJ2ZpbGwtb3BhY2l0eSc6ICdmaWxsT3BhY2l0eScsXG4gIGZpbGxSdWxlOiAxLFxuICAnZmlsbC1ydWxlJzogJ2ZpbGxSdWxlJyxcbiAgZmlsdGVyOiAwLFxuICBmaWx0ZXJSZXM6IDEsXG4gIGZpbHRlclVuaXRzOiAxLFxuICBmbG9vZE9wYWNpdHk6IDEsXG4gICdmbG9vZC1vcGFjaXR5JzogJ2Zsb29kT3BhY2l0eScsXG4gIGZsb29kQ29sb3I6IDEsXG4gICdmbG9vZC1jb2xvcic6ICdmbG9vZENvbG9yJyxcbiAgZm9jdXNhYmxlOiAwLFxuICBmb250RmFtaWx5OiAxLFxuICAnZm9udC1mYW1pbHknOiAnZm9udEZhbWlseScsXG4gIGZvbnRTaXplOiAxLFxuICAnZm9udC1zaXplJzogJ2ZvbnRTaXplJyxcbiAgZm9udFNpemVBZGp1c3Q6IDEsXG4gICdmb250LXNpemUtYWRqdXN0JzogJ2ZvbnRTaXplQWRqdXN0JyxcbiAgZm9udFN0cmV0Y2g6IDEsXG4gICdmb250LXN0cmV0Y2gnOiAnZm9udFN0cmV0Y2gnLFxuICBmb250U3R5bGU6IDEsXG4gICdmb250LXN0eWxlJzogJ2ZvbnRTdHlsZScsXG4gIGZvbnRWYXJpYW50OiAxLFxuICAnZm9udC12YXJpYW50JzogJ2ZvbnRWYXJpYW50JyxcbiAgZm9udFdlaWdodDogMSxcbiAgJ2ZvbnQtd2VpZ2h0JzogJ2ZvbnRXZWlnaHQnLFxuICBmb3JtYXQ6IDAsXG4gIGZyb206IDAsXG4gIGZ4OiAwLFxuICBmeTogMCxcbiAgZzE6IDAsXG4gIGcyOiAwLFxuICBnbHlwaE5hbWU6IDEsXG4gICdnbHlwaC1uYW1lJzogJ2dseXBoTmFtZScsXG4gIGdseXBoT3JpZW50YXRpb25Ib3Jpem9udGFsOiAxLFxuICAnZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbCc6ICdnbHlwaE9yaWVudGF0aW9uSG9yaXpvbnRhbCcsXG4gIGdseXBoT3JpZW50YXRpb25WZXJ0aWNhbDogMSxcbiAgJ2dseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsJzogJ2dseXBoT3JpZW50YXRpb25WZXJ0aWNhbCcsXG4gIGdseXBoUmVmOiAxLFxuICBncmFkaWVudFRyYW5zZm9ybTogMSxcbiAgZ3JhZGllbnRVbml0czogMSxcbiAgaGFuZ2luZzogMCxcbiAgaG9yaXpBZHZYOiAxLFxuICAnaG9yaXotYWR2LXgnOiAnaG9yaXpBZHZYJyxcbiAgaG9yaXpPcmlnaW5YOiAxLFxuICAnaG9yaXotb3JpZ2luLXgnOiAnaG9yaXpPcmlnaW5YJyxcbiAgaWRlb2dyYXBoaWM6IDAsXG4gIGltYWdlUmVuZGVyaW5nOiAxLFxuICAnaW1hZ2UtcmVuZGVyaW5nJzogJ2ltYWdlUmVuZGVyaW5nJyxcbiAgaW4yOiAwLFxuICBpbjogMCxcbiAgaW5saXN0OiAwLFxuICBpbnRlcmNlcHQ6IDAsXG4gIGsxOiAwLFxuICBrMjogMCxcbiAgazM6IDAsXG4gIGs0OiAwLFxuICBrOiAwLFxuICBrZXJuZWxNYXRyaXg6IDEsXG4gIGtlcm5lbFVuaXRMZW5ndGg6IDEsXG4gIGtlcm5pbmc6IDAsXG4gIGtleVBvaW50czogMSxcbiAga2V5U3BsaW5lczogMSxcbiAga2V5VGltZXM6IDEsXG4gIGxlbmd0aEFkanVzdDogMSxcbiAgbGV0dGVyU3BhY2luZzogMSxcbiAgJ2xldHRlci1zcGFjaW5nJzogJ2xldHRlclNwYWNpbmcnLFxuICBsaWdodGluZ0NvbG9yOiAxLFxuICAnbGlnaHRpbmctY29sb3InOiAnbGlnaHRpbmdDb2xvcicsXG4gIGxpbWl0aW5nQ29uZUFuZ2xlOiAxLFxuICBsb2NhbDogMCxcbiAgbWFya2VyRW5kOiAxLFxuICAnbWFya2VyLWVuZCc6ICdtYXJrZXJFbmQnLFxuICBtYXJrZXJIZWlnaHQ6IDEsXG4gIG1hcmtlck1pZDogMSxcbiAgJ21hcmtlci1taWQnOiAnbWFya2VyTWlkJyxcbiAgbWFya2VyU3RhcnQ6IDEsXG4gICdtYXJrZXItc3RhcnQnOiAnbWFya2VyU3RhcnQnLFxuICBtYXJrZXJVbml0czogMSxcbiAgbWFya2VyV2lkdGg6IDEsXG4gIG1hc2s6IDAsXG4gIG1hc2tDb250ZW50VW5pdHM6IDEsXG4gIG1hc2tVbml0czogMSxcbiAgbWF0aGVtYXRpY2FsOiAwLFxuICBtb2RlOiAwLFxuICBudW1PY3RhdmVzOiAxLFxuICBvZmZzZXQ6IDAsXG4gIG9wYWNpdHk6IDAsXG4gIG9wZXJhdG9yOiAwLFxuICBvcmRlcjogMCxcbiAgb3JpZW50OiAwLFxuICBvcmllbnRhdGlvbjogMCxcbiAgb3JpZ2luOiAwLFxuICBvdmVyZmxvdzogMCxcbiAgb3ZlcmxpbmVQb3NpdGlvbjogMSxcbiAgJ292ZXJsaW5lLXBvc2l0aW9uJzogJ292ZXJsaW5lUG9zaXRpb24nLFxuICBvdmVybGluZVRoaWNrbmVzczogMSxcbiAgJ292ZXJsaW5lLXRoaWNrbmVzcyc6ICdvdmVybGluZVRoaWNrbmVzcycsXG4gIHBhaW50T3JkZXI6IDEsXG4gICdwYWludC1vcmRlcic6ICdwYWludE9yZGVyJyxcbiAgcGFub3NlMTogMCxcbiAgJ3Bhbm9zZS0xJzogJ3Bhbm9zZTEnLFxuICBwYXRoTGVuZ3RoOiAxLFxuICBwYXR0ZXJuQ29udGVudFVuaXRzOiAxLFxuICBwYXR0ZXJuVHJhbnNmb3JtOiAxLFxuICBwYXR0ZXJuVW5pdHM6IDEsXG4gIHBvaW50ZXJFdmVudHM6IDEsXG4gICdwb2ludGVyLWV2ZW50cyc6ICdwb2ludGVyRXZlbnRzJyxcbiAgcG9pbnRzOiAwLFxuICBwb2ludHNBdFg6IDEsXG4gIHBvaW50c0F0WTogMSxcbiAgcG9pbnRzQXRaOiAxLFxuICBwcmVmaXg6IDAsXG4gIHByZXNlcnZlQWxwaGE6IDEsXG4gIHByZXNlcnZlQXNwZWN0UmF0aW86IDEsXG4gIHByaW1pdGl2ZVVuaXRzOiAxLFxuICBwcm9wZXJ0eTogMCxcbiAgcjogMCxcbiAgcmFkaXVzOiAwLFxuICByZWZYOiAxLFxuICByZWZZOiAxLFxuICByZW5kZXJpbmdJbnRlbnQ6IDEsXG4gICdyZW5kZXJpbmctaW50ZW50JzogJ3JlbmRlcmluZ0ludGVudCcsXG4gIHJlcGVhdENvdW50OiAxLFxuICByZXBlYXREdXI6IDEsXG4gIHJlcXVpcmVkRXh0ZW5zaW9uczogMSxcbiAgcmVxdWlyZWRGZWF0dXJlczogMSxcbiAgcmVzb3VyY2U6IDAsXG4gIHJlc3RhcnQ6IDAsXG4gIHJlc3VsdDogMCxcbiAgcmVzdWx0czogMCxcbiAgcm90YXRlOiAwLFxuICByeDogMCxcbiAgcnk6IDAsXG4gIHNjYWxlOiAwLFxuICBzZWN1cml0eTogMCxcbiAgc2VlZDogMCxcbiAgc2hhcGVSZW5kZXJpbmc6IDEsXG4gICdzaGFwZS1yZW5kZXJpbmcnOiAnc2hhcGVSZW5kZXJpbmcnLFxuICBzbG9wZTogMCxcbiAgc3BhY2luZzogMCxcbiAgc3BlY3VsYXJDb25zdGFudDogMSxcbiAgc3BlY3VsYXJFeHBvbmVudDogMSxcbiAgc3BlZWQ6IDAsXG4gIHNwcmVhZE1ldGhvZDogMSxcbiAgc3RhcnRPZmZzZXQ6IDEsXG4gIHN0ZERldmlhdGlvbjogMSxcbiAgc3RlbWg6IDAsXG4gIHN0ZW12OiAwLFxuICBzdGl0Y2hUaWxlczogMSxcbiAgc3RvcENvbG9yOiAxLFxuICAnc3RvcC1jb2xvcic6ICdzdG9wQ29sb3InLFxuICBzdG9wT3BhY2l0eTogMSxcbiAgJ3N0b3Atb3BhY2l0eSc6ICdzdG9wT3BhY2l0eScsXG4gIHN0cmlrZXRocm91Z2hQb3NpdGlvbjogMSxcbiAgJ3N0cmlrZXRocm91Z2gtcG9zaXRpb24nOiAnc3RyaWtldGhyb3VnaFBvc2l0aW9uJyxcbiAgc3RyaWtldGhyb3VnaFRoaWNrbmVzczogMSxcbiAgJ3N0cmlrZXRocm91Z2gtdGhpY2tuZXNzJzogJ3N0cmlrZXRocm91Z2hUaGlja25lc3MnLFxuICBzdHJpbmc6IDAsXG4gIHN0cm9rZTogMCxcbiAgc3Ryb2tlRGFzaGFycmF5OiAxLFxuICAnc3Ryb2tlLWRhc2hhcnJheSc6ICdzdHJva2VEYXNoYXJyYXknLFxuICBzdHJva2VEYXNob2Zmc2V0OiAxLFxuICAnc3Ryb2tlLWRhc2hvZmZzZXQnOiAnc3Ryb2tlRGFzaG9mZnNldCcsXG4gIHN0cm9rZUxpbmVjYXA6IDEsXG4gICdzdHJva2UtbGluZWNhcCc6ICdzdHJva2VMaW5lY2FwJyxcbiAgc3Ryb2tlTGluZWpvaW46IDEsXG4gICdzdHJva2UtbGluZWpvaW4nOiAnc3Ryb2tlTGluZWpvaW4nLFxuICBzdHJva2VNaXRlcmxpbWl0OiAxLFxuICAnc3Ryb2tlLW1pdGVybGltaXQnOiAnc3Ryb2tlTWl0ZXJsaW1pdCcsXG4gIHN0cm9rZVdpZHRoOiAxLFxuICAnc3Ryb2tlLXdpZHRoJzogJ3N0cm9rZVdpZHRoJyxcbiAgc3Ryb2tlT3BhY2l0eTogMSxcbiAgJ3N0cm9rZS1vcGFjaXR5JzogJ3N0cm9rZU9wYWNpdHknLFxuICBzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmc6IDEsXG4gIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZzogMSxcbiAgc3VyZmFjZVNjYWxlOiAxLFxuICBzeXN0ZW1MYW5ndWFnZTogMSxcbiAgdGFibGVWYWx1ZXM6IDEsXG4gIHRhcmdldFg6IDEsXG4gIHRhcmdldFk6IDEsXG4gIHRleHRBbmNob3I6IDEsXG4gICd0ZXh0LWFuY2hvcic6ICd0ZXh0QW5jaG9yJyxcbiAgdGV4dERlY29yYXRpb246IDEsXG4gICd0ZXh0LWRlY29yYXRpb24nOiAndGV4dERlY29yYXRpb24nLFxuICB0ZXh0TGVuZ3RoOiAxLFxuICB0ZXh0UmVuZGVyaW5nOiAxLFxuICAndGV4dC1yZW5kZXJpbmcnOiAndGV4dFJlbmRlcmluZycsXG4gIHRvOiAwLFxuICB0cmFuc2Zvcm06IDAsXG4gIHR5cGVvZjogMCxcbiAgdTE6IDAsXG4gIHUyOiAwLFxuICB1bmRlcmxpbmVQb3NpdGlvbjogMSxcbiAgJ3VuZGVybGluZS1wb3NpdGlvbic6ICd1bmRlcmxpbmVQb3NpdGlvbicsXG4gIHVuZGVybGluZVRoaWNrbmVzczogMSxcbiAgJ3VuZGVybGluZS10aGlja25lc3MnOiAndW5kZXJsaW5lVGhpY2tuZXNzJyxcbiAgdW5pY29kZTogMCxcbiAgdW5pY29kZUJpZGk6IDEsXG4gICd1bmljb2RlLWJpZGknOiAndW5pY29kZUJpZGknLFxuICB1bmljb2RlUmFuZ2U6IDEsXG4gICd1bmljb2RlLXJhbmdlJzogJ3VuaWNvZGVSYW5nZScsXG4gIHVuaXRzUGVyRW06IDEsXG4gICd1bml0cy1wZXItZW0nOiAndW5pdHNQZXJFbScsXG4gIHVuc2VsZWN0YWJsZTogMCxcbiAgdkFscGhhYmV0aWM6IDEsXG4gICd2LWFscGhhYmV0aWMnOiAndkFscGhhYmV0aWMnLFxuICB2YWx1ZXM6IDAsXG4gIHZlY3RvckVmZmVjdDogMSxcbiAgJ3ZlY3Rvci1lZmZlY3QnOiAndmVjdG9yRWZmZWN0JyxcbiAgdmVyc2lvbjogMCxcbiAgdmVydEFkdlk6IDEsXG4gICd2ZXJ0LWFkdi15JzogJ3ZlcnRBZHZZJyxcbiAgdmVydE9yaWdpblg6IDEsXG4gICd2ZXJ0LW9yaWdpbi14JzogJ3ZlcnRPcmlnaW5YJyxcbiAgdmVydE9yaWdpblk6IDEsXG4gICd2ZXJ0LW9yaWdpbi15JzogJ3ZlcnRPcmlnaW5ZJyxcbiAgdkhhbmdpbmc6IDEsXG4gICd2LWhhbmdpbmcnOiAndkhhbmdpbmcnLFxuICB2SWRlb2dyYXBoaWM6IDEsXG4gICd2LWlkZW9ncmFwaGljJzogJ3ZJZGVvZ3JhcGhpYycsXG4gIHZpZXdCb3g6IDEsXG4gIHZpZXdUYXJnZXQ6IDEsXG4gIHZpc2liaWxpdHk6IDAsXG4gIHZNYXRoZW1hdGljYWw6IDEsXG4gICd2LW1hdGhlbWF0aWNhbCc6ICd2TWF0aGVtYXRpY2FsJyxcbiAgdm9jYWI6IDAsXG4gIHdpZHRoczogMCxcbiAgd29yZFNwYWNpbmc6IDEsXG4gICd3b3JkLXNwYWNpbmcnOiAnd29yZFNwYWNpbmcnLFxuICB3cml0aW5nTW9kZTogMSxcbiAgJ3dyaXRpbmctbW9kZSc6ICd3cml0aW5nTW9kZScsXG4gIHgxOiAwLFxuICB4MjogMCxcbiAgeDogMCxcbiAgeENoYW5uZWxTZWxlY3RvcjogMSxcbiAgeEhlaWdodDogMSxcbiAgJ3gtaGVpZ2h0JzogJ3hIZWlnaHQnLFxuICB4bGlua0FjdHVhdGU6IDEsXG4gICd4bGluazphY3R1YXRlJzogJ3hsaW5rQWN0dWF0ZScsXG4gIHhsaW5rQXJjcm9sZTogMSxcbiAgJ3hsaW5rOmFyY3JvbGUnOiAneGxpbmtBcmNyb2xlJyxcbiAgeGxpbmtIcmVmOiAxLFxuICAneGxpbms6aHJlZic6ICd4bGlua0hyZWYnLFxuICB4bGlua1JvbGU6IDEsXG4gICd4bGluazpyb2xlJzogJ3hsaW5rUm9sZScsXG4gIHhsaW5rU2hvdzogMSxcbiAgJ3hsaW5rOnNob3cnOiAneGxpbmtTaG93JyxcbiAgeGxpbmtUaXRsZTogMSxcbiAgJ3hsaW5rOnRpdGxlJzogJ3hsaW5rVGl0bGUnLFxuICB4bGlua1R5cGU6IDEsXG4gICd4bGluazp0eXBlJzogJ3hsaW5rVHlwZScsXG4gIHhtbEJhc2U6IDEsXG4gICd4bWw6YmFzZSc6ICd4bWxCYXNlJyxcbiAgeG1sTGFuZzogMSxcbiAgJ3htbDpsYW5nJzogJ3htbExhbmcnLFxuICB4bWxuczogMCxcbiAgJ3htbDpzcGFjZSc6ICd4bWxTcGFjZScsXG4gIHhtbG5zWGxpbms6IDEsXG4gICd4bWxuczp4bGluayc6ICd4bWxuc1hsaW5rJyxcbiAgeG1sU3BhY2U6IDEsXG4gIHkxOiAwLFxuICB5MjogMCxcbiAgeTogMCxcbiAgeUNoYW5uZWxTZWxlY3RvcjogMSxcbiAgejogMCxcbiAgem9vbUFuZFBhbjogMVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-property/lib/possibleStandardNamesOptimized.js\n"));

/***/ }),

/***/ "./node_modules/react/cjs/react-jsx-dev-runtime.development.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react/cjs/react-jsx-dev-runtime.development.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nif (true) {\n  (function() {\n'use strict';\n\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false; // Track which Fiber(s) schedule render work.\n\nvar REACT_MODULE_REFERENCE;\n\n{\n  REACT_MODULE_REFERENCE = Symbol.for('react.module.reference');\n}\n\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_MODULE_REFERENCE || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var displayName = outerType.displayName;\n\n  if (displayName) {\n    return displayName;\n  }\n\n  var functionName = innerType.displayName || innerType.name || '';\n  return functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName;\n} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n} // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\n\nfunction getComponentNameFromType(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  {\n    if (typeof type.tag === 'number') {\n      error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n    }\n  }\n\n  if (typeof type === 'function') {\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        var context = type;\n        return getContextName(context) + '.Consumer';\n\n      case REACT_PROVIDER_TYPE:\n        var provider = type;\n        return getContextName(provider._context) + '.Provider';\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        var outerName = type.displayName || null;\n\n        if (outerName !== null) {\n          return outerName;\n        }\n\n        return getComponentNameFromType(type.type) || 'Memo';\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            return getComponentNameFromType(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n\n      // eslint-disable-next-line no-fallthrough\n    }\n  }\n\n  return null;\n}\n\nvar assign = Object.assign;\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\nvar disabledDepth = 0;\nvar prevLog;\nvar prevInfo;\nvar prevWarn;\nvar prevError;\nvar prevGroup;\nvar prevGroupCollapsed;\nvar prevGroupEnd;\n\nfunction disabledLog() {}\n\ndisabledLog.__reactDisabledLog = true;\nfunction disableLogs() {\n  {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n      var props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    disabledDepth++;\n  }\n}\nfunction reenableLogs() {\n  {\n    disabledDepth--;\n\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      var props = {\n        configurable: true,\n        enumerable: true,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        log: assign({}, props, {\n          value: prevLog\n        }),\n        info: assign({}, props, {\n          value: prevInfo\n        }),\n        warn: assign({}, props, {\n          value: prevWarn\n        }),\n        error: assign({}, props, {\n          value: prevError\n        }),\n        group: assign({}, props, {\n          value: prevGroup\n        }),\n        groupCollapsed: assign({}, props, {\n          value: prevGroupCollapsed\n        }),\n        groupEnd: assign({}, props, {\n          value: prevGroupEnd\n        })\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    if (disabledDepth < 0) {\n      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n    }\n  }\n}\n\nvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\nvar prefix;\nfunction describeBuiltInComponentFrame(name, source, ownerFn) {\n  {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        var match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = match && match[1] || '';\n      }\n    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n    return '\\n' + prefix + name;\n  }\n}\nvar reentry = false;\nvar componentFrameCache;\n\n{\n  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n\nfunction describeNativeComponentFrame(fn, construct) {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if ( !fn || reentry) {\n    return '';\n  }\n\n  {\n    var frame = componentFrameCache.get(fn);\n\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  var control;\n  reentry = true;\n  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe It does accept undefined.\n\n  Error.prepareStackTrace = undefined;\n  var previousDispatcher;\n\n  {\n    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n\n    ReactCurrentDispatcher.current = null;\n    disableLogs();\n  }\n\n  try {\n    // This should throw.\n    if (construct) {\n      // Something should be setting the props in the constructor.\n      var Fake = function () {\n        throw Error();\n      }; // $FlowFixMe\n\n\n      Object.defineProperty(Fake.prototype, 'props', {\n        set: function () {\n          // We use a throwing setter instead of frozen or non-writable props\n          // because that won't throw in a non-strict mode function.\n          throw Error();\n        }\n      });\n\n      if (typeof Reflect === 'object' && Reflect.construct) {\n        // We construct a different control for this case to include any extra\n        // frames added by the construct call.\n        try {\n          Reflect.construct(Fake, []);\n        } catch (x) {\n          control = x;\n        }\n\n        Reflect.construct(fn, [], Fake);\n      } else {\n        try {\n          Fake.call();\n        } catch (x) {\n          control = x;\n        }\n\n        fn.call(Fake.prototype);\n      }\n    } else {\n      try {\n        throw Error();\n      } catch (x) {\n        control = x;\n      }\n\n      fn();\n    }\n  } catch (sample) {\n    // This is inlined manually because closure doesn't do it for us.\n    if (sample && control && typeof sample.stack === 'string') {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      var sampleLines = sample.stack.split('\\n');\n      var controlLines = control.stack.split('\\n');\n      var s = sampleLines.length - 1;\n      var c = controlLines.length - 1;\n\n      while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n        // We expect at least one stack frame to be shared.\n        // Typically this will be the root most one. However, stack frames may be\n        // cut off due to maximum stack limits. In this case, one maybe cut off\n        // earlier than the other. We assume that the sample is longer or the same\n        // and there for cut off earlier. So we should find the root most frame in\n        // the sample somewhere in the control.\n        c--;\n      }\n\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--; // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n\n\n                if (fn.displayName && _frame.includes('<anonymous>')) {\n                  _frame = _frame.replace('<anonymous>', fn.displayName);\n                }\n\n                {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, _frame);\n                  }\n                } // Return the line we found.\n\n\n                return _frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    {\n      ReactCurrentDispatcher.current = previousDispatcher;\n      reenableLogs();\n    }\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  } // Fallback to just using the name if we couldn't make it throw.\n\n\n  var name = fn ? fn.displayName || fn.name : '';\n  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n  {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n\n  return syntheticFrame;\n}\nfunction describeFunctionComponentFrame(fn, source, ownerFn) {\n  {\n    return describeNativeComponentFrame(fn, false);\n  }\n}\n\nfunction shouldConstruct(Component) {\n  var prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction describeUnknownElementTypeFrameInDEV(type, source, ownerFn) {\n\n  if (type == null) {\n    return '';\n  }\n\n  if (typeof type === 'function') {\n    {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    }\n  }\n\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense');\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render);\n\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, source, ownerFn);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            // Lazy may contain any component type so we recursively resolve it.\n            return describeUnknownElementTypeFrameInDEV(init(payload), source, ownerFn);\n          } catch (x) {}\n        }\n    }\n  }\n\n  return '';\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar loggedTypeFailures = {};\nvar ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame.setExtraStackFrame(null);\n    }\n  }\n}\n\nfunction checkPropTypes(typeSpecs, values, location, componentName, element) {\n  {\n    // $FlowFixMe This is okay but Flow doesn't know it.\n    var has = Function.call.bind(hasOwnProperty);\n\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error$1 = void 0; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            // eslint-disable-next-line react-internal/prod-error-codes\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' + 'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error$1 = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED');\n        } catch (ex) {\n          error$1 = ex;\n        }\n\n        if (error$1 && !(error$1 instanceof Error)) {\n          setCurrentlyValidatingElement(element);\n\n          error('%s: type specification of %s' + ' `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error$1);\n\n          setCurrentlyValidatingElement(null);\n        }\n\n        if (error$1 instanceof Error && !(error$1.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error$1.message] = true;\n          setCurrentlyValidatingElement(element);\n\n          error('Failed %s type: %s', location, error$1.message);\n\n          setCurrentlyValidatingElement(null);\n        }\n      }\n    }\n  }\n}\n\nvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\nfunction isArray(a) {\n  return isArrayImpl(a);\n}\n\n/*\n * The `'' + value` pattern (used in in perf-sensitive code) throws for Symbol\n * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n *\n * The functions in this module will throw an easier-to-understand,\n * easier-to-debug exception with a clear errors message message explaining the\n * problem. (Instead of a confusing exception thrown inside the implementation\n * of the `value` object).\n */\n// $FlowFixMe only called in DEV, so void return is not possible.\nfunction typeName(value) {\n  {\n    // toStringTag is needed for namespaced types like Temporal.Instant\n    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object';\n    return type;\n  }\n} // $FlowFixMe only called in DEV, so void return is not possible.\n\n\nfunction willCoercionThrow(value) {\n  {\n    try {\n      testStringCoercion(value);\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n}\n\nfunction testStringCoercion(value) {\n  // If you ended up here by following an exception call stack, here's what's\n  // happened: you supplied an object or symbol value to React (as a prop, key,\n  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n  // coerce it to a string using `'' + value`, an exception was thrown.\n  //\n  // The most common types that will cause this exception are `Symbol` instances\n  // and Temporal objects like `Temporal.Instant`. But any object that has a\n  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n  // exception. (Library authors do this to prevent users from using built-in\n  // numeric operators like `+` or comparison operators like `>=` because custom\n  // methods are needed to perform accurate arithmetic or comparison.)\n  //\n  // To fix the problem, coerce this object or symbol value to a string before\n  // passing it to React. The most reliable way is usually `String(value)`.\n  //\n  // To find which value is throwing, check the browser or debugger console.\n  // Before this exception was thrown, there should be `console.error` output\n  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n  // problem and how that type was used: key, atrribute, input value prop, etc.\n  // In most cases, this console output also shows the component and its\n  // ancestor components where the exception happened.\n  //\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + value;\n}\nfunction checkKeyStringCoercion(value) {\n  {\n    if (willCoercionThrow(value)) {\n      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before before using it here.', typeName(value));\n\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nvar ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\nvar RESERVED_PROPS = {\n  key: true,\n  ref: true,\n  __self: true,\n  __source: true\n};\nvar specialPropKeyWarningShown;\nvar specialPropRefWarningShown;\nvar didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config, self) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner.current && self && ReactCurrentOwner.current.stateNode !== self) {\n      var componentName = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentNameFromType(ReactCurrentOwner.current.type), config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingKey = function () {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingKey.isReactWarning = true;\n    Object.defineProperty(props, 'key', {\n      get: warnAboutAccessingKey,\n      configurable: true\n    });\n  }\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingRef = function () {\n      if (!specialPropRefWarningShown) {\n        specialPropRefWarningShown = true;\n\n        error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingRef.isReactWarning = true;\n    Object.defineProperty(props, 'ref', {\n      get: warnAboutAccessingRef,\n      configurable: true\n    });\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nvar ReactElement = function (type, key, ref, self, source, owner, props) {\n  var element = {\n    // This tag allows us to uniquely identify this as a React Element\n    $$typeof: REACT_ELEMENT_TYPE,\n    // Built-in properties that belong on the element\n    type: type,\n    key: key,\n    ref: ref,\n    props: props,\n    // Record the component responsible for creating this element.\n    _owner: owner\n  };\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // self and source are DEV only properties.\n\n    Object.defineProperty(element, '_self', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: self\n    }); // Two elements created in two different places should be considered\n    // equal for testing purposes and therefore we hide it from enumeration.\n\n    Object.defineProperty(element, '_source', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: source\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n};\n/**\n * https://github.com/reactjs/rfcs/pull/107\n * @param {*} type\n * @param {object} props\n * @param {string} key\n */\n\nfunction jsxDEV(type, config, maybeKey, source, self) {\n  {\n    var propName; // Reserved names are extracted\n\n    var props = {};\n    var key = null;\n    var ref = null; // Currently, key can be spread in as a prop. This causes a potential\n    // issue if key is also explicitly declared (ie. <div {...props} key=\"Hi\" />\n    // or <div key=\"Hi\" {...props} /> ). We want to deprecate key spread,\n    // but as an intermediary step, we will use jsxDEV for everything except\n    // <div {...props} key=\"Hi\" />, because we aren't currently able to tell if\n    // key is explicitly declared to be undefined or not.\n\n    if (maybeKey !== undefined) {\n      {\n        checkKeyStringCoercion(maybeKey);\n      }\n\n      key = '' + maybeKey;\n    }\n\n    if (hasValidKey(config)) {\n      {\n        checkKeyStringCoercion(config.key);\n      }\n\n      key = '' + config.key;\n    }\n\n    if (hasValidRef(config)) {\n      ref = config.ref;\n      warnIfStringRefCannotBeAutoConverted(config, self);\n    } // Remaining properties are added to a new props object\n\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        props[propName] = config[propName];\n      }\n    } // Resolve default props\n\n\n    if (type && type.defaultProps) {\n      var defaultProps = type.defaultProps;\n\n      for (propName in defaultProps) {\n        if (props[propName] === undefined) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    }\n\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n\n    return ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n  }\n}\n\nvar ReactCurrentOwner$1 = ReactSharedInternals.ReactCurrentOwner;\nvar ReactDebugCurrentFrame$1 = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement$1(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame$1.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame$1.setExtraStackFrame(null);\n    }\n  }\n}\n\nvar propTypesMisspellWarningShown;\n\n{\n  propTypesMisspellWarningShown = false;\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\n\nfunction isValidElement(object) {\n  {\n    return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n  }\n}\n\nfunction getDeclarationErrorAddendum() {\n  {\n    if (ReactCurrentOwner$1.current) {\n      var name = getComponentNameFromType(ReactCurrentOwner$1.current.type);\n\n      if (name) {\n        return '\\n\\nCheck the render method of `' + name + '`.';\n      }\n    }\n\n    return '';\n  }\n}\n\nfunction getSourceInfoErrorAddendum(source) {\n  {\n    if (source !== undefined) {\n      var fileName = source.fileName.replace(/^.*[\\\\\\/]/, '');\n      var lineNumber = source.lineNumber;\n      return '\\n\\nCheck your code at ' + fileName + ':' + lineNumber + '.';\n    }\n\n    return '';\n  }\n}\n/**\n * Warn if there's no key explicitly set on dynamic arrays of children or\n * object keys are not valid. This allows us to keep track of children between\n * updates.\n */\n\n\nvar ownerHasKeyUseWarning = {};\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  {\n    var info = getDeclarationErrorAddendum();\n\n    if (!info) {\n      var parentName = typeof parentType === 'string' ? parentType : parentType.displayName || parentType.name;\n\n      if (parentName) {\n        info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n      }\n    }\n\n    return info;\n  }\n}\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\n\nfunction validateExplicitKey(element, parentType) {\n  {\n    if (!element._store || element._store.validated || element.key != null) {\n      return;\n    }\n\n    element._store.validated = true;\n    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n      return;\n    }\n\n    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n    // property, it may be the creator of the child that's responsible for\n    // assigning it a key.\n\n    var childOwner = '';\n\n    if (element && element._owner && element._owner !== ReactCurrentOwner$1.current) {\n      // Give the component that originally created this child.\n      childOwner = \" It was passed a child from \" + getComponentNameFromType(element._owner.type) + \".\";\n    }\n\n    setCurrentlyValidatingElement$1(element);\n\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n    setCurrentlyValidatingElement$1(null);\n  }\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  {\n    if (typeof node !== 'object') {\n      return;\n    }\n\n    if (isArray(node)) {\n      for (var i = 0; i < node.length; i++) {\n        var child = node[i];\n\n        if (isValidElement(child)) {\n          validateExplicitKey(child, parentType);\n        }\n      }\n    } else if (isValidElement(node)) {\n      // This element was passed in a valid location.\n      if (node._store) {\n        node._store.validated = true;\n      }\n    } else if (node) {\n      var iteratorFn = getIteratorFn(node);\n\n      if (typeof iteratorFn === 'function') {\n        // Entry iterators used to provide implicit keys,\n        // but now we print a separate warning for them later.\n        if (iteratorFn !== node.entries) {\n          var iterator = iteratorFn.call(node);\n          var step;\n\n          while (!(step = iterator.next()).done) {\n            if (isValidElement(step.value)) {\n              validateExplicitKey(step.value, parentType);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Given an element, validate that its props follow the propTypes definition,\n * provided by the type.\n *\n * @param {ReactElement} element\n */\n\n\nfunction validatePropTypes(element) {\n  {\n    var type = element.type;\n\n    if (type === null || type === undefined || typeof type === 'string') {\n      return;\n    }\n\n    var propTypes;\n\n    if (typeof type === 'function') {\n      propTypes = type.propTypes;\n    } else if (typeof type === 'object' && (type.$$typeof === REACT_FORWARD_REF_TYPE || // Note: Memo only checks outer props here.\n    // Inner props are checked in the reconciler.\n    type.$$typeof === REACT_MEMO_TYPE)) {\n      propTypes = type.propTypes;\n    } else {\n      return;\n    }\n\n    if (propTypes) {\n      // Intentionally inside to avoid triggering lazy initializers:\n      var name = getComponentNameFromType(type);\n      checkPropTypes(propTypes, element.props, 'prop', name, element);\n    } else if (type.PropTypes !== undefined && !propTypesMisspellWarningShown) {\n      propTypesMisspellWarningShown = true; // Intentionally inside to avoid triggering lazy initializers:\n\n      var _name = getComponentNameFromType(type);\n\n      error('Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?', _name || 'Unknown');\n    }\n\n    if (typeof type.getDefaultProps === 'function' && !type.getDefaultProps.isReactClassApproved) {\n      error('getDefaultProps is only used on classic React.createClass ' + 'definitions. Use a static property named `defaultProps` instead.');\n    }\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  {\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        setCurrentlyValidatingElement$1(fragment);\n\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        setCurrentlyValidatingElement$1(null);\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      setCurrentlyValidatingElement$1(fragment);\n\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n      setCurrentlyValidatingElement$1(null);\n    }\n  }\n}\n\nvar didWarnAboutKeySpread = {};\nfunction jsxWithValidation(type, props, key, isStaticChildren, source, self) {\n  {\n    var validType = isValidElementType(type); // We warn in this case but don't throw. We expect the element creation to\n    // succeed and there will likely be errors in render.\n\n    if (!validType) {\n      var info = '';\n\n      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n        info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n      }\n\n      var sourceInfo = getSourceInfoErrorAddendum(source);\n\n      if (sourceInfo) {\n        info += sourceInfo;\n      } else {\n        info += getDeclarationErrorAddendum();\n      }\n\n      var typeString;\n\n      if (type === null) {\n        typeString = 'null';\n      } else if (isArray(type)) {\n        typeString = 'array';\n      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n        typeString = \"<\" + (getComponentNameFromType(type.type) || 'Unknown') + \" />\";\n        info = ' Did you accidentally export a JSX literal instead of a component?';\n      } else {\n        typeString = typeof type;\n      }\n\n      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    }\n\n    var element = jsxDEV(type, props, key, source, self); // The result can be nullish if a mock or a custom function is used.\n    // TODO: Drop this when these are no longer allowed as the type argument.\n\n    if (element == null) {\n      return element;\n    } // Skip key warning if the type isn't valid since our key validation logic\n    // doesn't expect a non-string/function type and can throw confusing errors.\n    // We don't want exception behavior to differ between dev and prod.\n    // (Rendering will throw with a helpful message and as soon as the type is\n    // fixed, the key warnings will appear.)\n\n\n    if (validType) {\n      var children = props.children;\n\n      if (children !== undefined) {\n        if (isStaticChildren) {\n          if (isArray(children)) {\n            for (var i = 0; i < children.length; i++) {\n              validateChildKeys(children[i], type);\n            }\n\n            if (Object.freeze) {\n              Object.freeze(children);\n            }\n          } else {\n            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');\n          }\n        } else {\n          validateChildKeys(children, type);\n        }\n      }\n    }\n\n    {\n      if (hasOwnProperty.call(props, 'key')) {\n        var componentName = getComponentNameFromType(type);\n        var keys = Object.keys(props).filter(function (k) {\n          return k !== 'key';\n        });\n        var beforeExample = keys.length > 0 ? '{key: someKey, ' + keys.join(': ..., ') + ': ...}' : '{key: someKey}';\n\n        if (!didWarnAboutKeySpread[componentName + beforeExample]) {\n          var afterExample = keys.length > 0 ? '{' + keys.join(': ..., ') + ': ...}' : '{}';\n\n          error('A props object containing a \"key\" prop is being spread into JSX:\\n' + '  let props = %s;\\n' + '  <%s {...props} />\\n' + 'React keys must be passed directly to JSX without using spread:\\n' + '  let props = %s;\\n' + '  <%s key={someKey} {...props} />', beforeExample, componentName, afterExample, componentName);\n\n          didWarnAboutKeySpread[componentName + beforeExample] = true;\n        }\n      }\n    }\n\n    if (type === REACT_FRAGMENT_TYPE) {\n      validateFragmentProps(element);\n    } else {\n      validatePropTypes(element);\n    }\n\n    return element;\n  }\n} // These two functions exist to still get child warnings in dev\n\nvar jsxDEV$1 =  jsxWithValidation ;\n\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsxDEV = jsxDEV$1;\n  })();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsSUFBSSxJQUFxQztBQUN6QztBQUNBOztBQUVBLFlBQVksbUJBQU8sQ0FBQyw0Q0FBTzs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpR0FBaUcsZUFBZTtBQUNoSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjtBQUNBO0FBQ0EsS0FBSyxHQUFHOztBQUVSLGtEQUFrRDtBQUNsRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSw0QkFBNEI7QUFDNUI7QUFDQSxxQ0FBcUM7O0FBRXJDLGdDQUFnQztBQUNoQztBQUNBOztBQUVBLGdDQUFnQzs7QUFFaEM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBLEVBQUU7OztBQUdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNB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O0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsV0FBVyxHQUFHO0FBQ2QsV0FBVyxHQUFHO0FBQ2QsV0FBVyxlQUFlO0FBQzFCLFdBQVcsR0FBRztBQUNkLFdBQVcsR0FBRztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2Q7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssR0FBRzs7QUFFUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxHQUFHO0FBQ1I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQjs7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O0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHFCQUFxQjtBQUNqRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsZ0RBQWdELGdEQUFnRCxNQUFNLGFBQWE7O0FBRW5IO0FBQ0EsaURBQWlELGtDQUFrQyxPQUFPOztBQUUxRix5R0FBeUcsY0FBYyxVQUFVLGdHQUFnRyxrQkFBa0IsVUFBVSxVQUFVOztBQUV2UTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUEsZ0JBQWdCO0FBQ2hCLGNBQWM7QUFDZCxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanM/MTdlMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG4vLyBBVFRFTlRJT05cbi8vIFdoZW4gYWRkaW5nIG5ldyBzeW1ib2xzIHRvIHRoaXMgZmlsZSxcbi8vIFBsZWFzZSBjb25zaWRlciBhbHNvIGFkZGluZyB0byAncmVhY3QtZGV2dG9vbHMtc2hhcmVkL3NyYy9iYWNrZW5kL1JlYWN0U3ltYm9scydcbi8vIFRoZSBTeW1ib2wgdXNlZCB0byB0YWcgdGhlIFJlYWN0RWxlbWVudC1saWtlIHR5cGVzLlxudmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKTtcbnZhciBSRUFDVF9QT1JUQUxfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LnBvcnRhbCcpO1xudmFyIFJFQUNUX0ZSQUdNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5mcmFnbWVudCcpO1xudmFyIFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5zdHJpY3RfbW9kZScpO1xudmFyIFJFQUNUX1BST0ZJTEVSX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5wcm9maWxlcicpO1xudmFyIFJFQUNUX1BST1ZJREVSX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5wcm92aWRlcicpO1xudmFyIFJFQUNUX0NPTlRFWFRfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmNvbnRleHQnKTtcbnZhciBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZm9yd2FyZF9yZWYnKTtcbnZhciBSRUFDVF9TVVNQRU5TRV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3VzcGVuc2UnKTtcbnZhciBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZV9saXN0Jyk7XG52YXIgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcigncmVhY3QubWVtbycpO1xudmFyIFJFQUNUX0xBWllfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmxhenknKTtcbnZhciBSRUFDVF9PRkZTQ1JFRU5fVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0Lm9mZnNjcmVlbicpO1xudmFyIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9IFN5bWJvbC5pdGVyYXRvcjtcbnZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJztcbmZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICBpZiAobWF5YmVJdGVyYWJsZSA9PT0gbnVsbCB8fCB0eXBlb2YgbWF5YmVJdGVyYWJsZSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBtYXliZUl0ZXJhdG9yID0gTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXTtcblxuICBpZiAodHlwZW9mIG1heWJlSXRlcmF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gbWF5YmVJdGVyYXRvcjtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG52YXIgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPSBSZWFjdC5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDtcblxuZnVuY3Rpb24gZXJyb3IoZm9ybWF0KSB7XG4gIHtcbiAgICB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICBwcmludFdhcm5pbmcoJ2Vycm9yJywgZm9ybWF0LCBhcmdzKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJpbnRXYXJuaW5nKGxldmVsLCBmb3JtYXQsIGFyZ3MpIHtcbiAgLy8gV2hlbiBjaGFuZ2luZyB0aGlzIGxvZ2ljLCB5b3UgbWlnaHQgd2FudCB0byBhbHNvXG4gIC8vIHVwZGF0ZSBjb25zb2xlV2l0aFN0YWNrRGV2Lnd3dy5qcyBhcyB3ZWxsLlxuICB7XG4gICAgdmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuICAgIHZhciBzdGFjayA9IFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSgpO1xuXG4gICAgaWYgKHN0YWNrICE9PSAnJykge1xuICAgICAgZm9ybWF0ICs9ICclcyc7XG4gICAgICBhcmdzID0gYXJncy5jb25jYXQoW3N0YWNrXSk7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvc2FmZS1zdHJpbmctY29lcmNpb25cblxuXG4gICAgdmFyIGFyZ3NXaXRoRm9ybWF0ID0gYXJncy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBTdHJpbmcoaXRlbSk7XG4gICAgfSk7IC8vIENhcmVmdWw6IFJOIGN1cnJlbnRseSBkZXBlbmRzIG9uIHRoaXMgcHJlZml4XG5cbiAgICBhcmdzV2l0aEZvcm1hdC51bnNoaWZ0KCdXYXJuaW5nOiAnICsgZm9ybWF0KTsgLy8gV2UgaW50ZW50aW9uYWxseSBkb24ndCB1c2Ugc3ByZWFkIChvciAuYXBwbHkpIGRpcmVjdGx5IGJlY2F1c2UgaXRcbiAgICAvLyBicmVha3MgSUU5OiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzEzNjEwXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZ1xuXG4gICAgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZVtsZXZlbF0sIGNvbnNvbGUsIGFyZ3NXaXRoRm9ybWF0KTtcbiAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG52YXIgZW5hYmxlU2NvcGVBUEkgPSBmYWxzZTsgLy8gRXhwZXJpbWVudGFsIENyZWF0ZSBFdmVudCBIYW5kbGUgQVBJLlxudmFyIGVuYWJsZUNhY2hlRWxlbWVudCA9IGZhbHNlO1xudmFyIGVuYWJsZVRyYW5zaXRpb25UcmFjaW5nID0gZmFsc2U7IC8vIE5vIGtub3duIGJ1Z3MsIGJ1dCBuZWVkcyBwZXJmb3JtYW5jZSB0ZXN0aW5nXG5cbnZhciBlbmFibGVMZWdhY3lIaWRkZW4gPSBmYWxzZTsgLy8gRW5hYmxlcyB1bnN0YWJsZV9hdm9pZFRoaXNGYWxsYmFjayBmZWF0dXJlIGluIEZpYmVyXG4vLyBzdHVmZi4gSW50ZW5kZWQgdG8gZW5hYmxlIFJlYWN0IGNvcmUgbWVtYmVycyB0byBtb3JlIGVhc2lseSBkZWJ1ZyBzY2hlZHVsaW5nXG4vLyBpc3N1ZXMgaW4gREVWIGJ1aWxkcy5cblxudmFyIGVuYWJsZURlYnVnVHJhY2luZyA9IGZhbHNlOyAvLyBUcmFjayB3aGljaCBGaWJlcihzKSBzY2hlZHVsZSByZW5kZXIgd29yay5cblxudmFyIFJFQUNUX01PRFVMRV9SRUZFUkVOQ0U7XG5cbntcbiAgUkVBQ1RfTU9EVUxFX1JFRkVSRU5DRSA9IFN5bWJvbC5mb3IoJ3JlYWN0Lm1vZHVsZS5yZWZlcmVuY2UnKTtcbn1cblxuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHtcbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIE5vdGU6IHR5cGVvZiBtaWdodCBiZSBvdGhlciB0aGFuICdzeW1ib2wnIG9yICdudW1iZXInIChlLmcuIGlmIGl0J3MgYSBwb2x5ZmlsbCkuXG5cblxuICBpZiAodHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9QUk9GSUxFUl9UWVBFIHx8IGVuYWJsZURlYnVnVHJhY2luZyAgfHwgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSB8fCBlbmFibGVMZWdhY3lIaWRkZW4gIHx8IHR5cGUgPT09IFJFQUNUX09GRlNDUkVFTl9UWVBFIHx8IGVuYWJsZVNjb3BlQVBJICB8fCBlbmFibGVDYWNoZUVsZW1lbnQgIHx8IGVuYWJsZVRyYW5zaXRpb25UcmFjaW5nICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsKSB7XG4gICAgaWYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfUFJPVklERVJfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DT05URVhUX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSB8fCAvLyBUaGlzIG5lZWRzIHRvIGluY2x1ZGUgYWxsIHBvc3NpYmxlIG1vZHVsZSByZWZlcmVuY2Ugb2JqZWN0XG4gICAgLy8gdHlwZXMgc3VwcG9ydGVkIGJ5IGFueSBGbGlnaHQgY29uZmlndXJhdGlvbiBhbnl3aGVyZSBzaW5jZVxuICAgIC8vIHdlIGRvbid0IGtub3cgd2hpY2ggRmxpZ2h0IGJ1aWxkIHRoaXMgd2lsbCBlbmQgdXAgYmVpbmcgdXNlZFxuICAgIC8vIHdpdGguXG4gICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTU9EVUxFX1JFRkVSRU5DRSB8fCB0eXBlLmdldE1vZHVsZUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0V3JhcHBlZE5hbWUob3V0ZXJUeXBlLCBpbm5lclR5cGUsIHdyYXBwZXJOYW1lKSB7XG4gIHZhciBkaXNwbGF5TmFtZSA9IG91dGVyVHlwZS5kaXNwbGF5TmFtZTtcblxuICBpZiAoZGlzcGxheU5hbWUpIHtcbiAgICByZXR1cm4gZGlzcGxheU5hbWU7XG4gIH1cblxuICB2YXIgZnVuY3Rpb25OYW1lID0gaW5uZXJUeXBlLmRpc3BsYXlOYW1lIHx8IGlubmVyVHlwZS5uYW1lIHx8ICcnO1xuICByZXR1cm4gZnVuY3Rpb25OYW1lICE9PSAnJyA/IHdyYXBwZXJOYW1lICsgXCIoXCIgKyBmdW5jdGlvbk5hbWUgKyBcIilcIiA6IHdyYXBwZXJOYW1lO1xufSAvLyBLZWVwIGluIHN5bmMgd2l0aCByZWFjdC1yZWNvbmNpbGVyL2dldENvbXBvbmVudE5hbWVGcm9tRmliZXJcblxuXG5mdW5jdGlvbiBnZXRDb250ZXh0TmFtZSh0eXBlKSB7XG4gIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lIHx8ICdDb250ZXh0Jztcbn0gLy8gTm90ZSB0aGF0IHRoZSByZWNvbmNpbGVyIHBhY2thZ2Ugc2hvdWxkIGdlbmVyYWxseSBwcmVmZXIgdG8gdXNlIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoKSBpbnN0ZWFkLlxuXG5cbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKSB7XG4gIGlmICh0eXBlID09IG51bGwpIHtcbiAgICAvLyBIb3N0IHJvb3QsIHRleHQgbm9kZSBvciBqdXN0IGludmFsaWQgdHlwZS5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHtcbiAgICBpZiAodHlwZW9mIHR5cGUudGFnID09PSAnbnVtYmVyJykge1xuICAgICAgZXJyb3IoJ1JlY2VpdmVkIGFuIHVuZXhwZWN0ZWQgb2JqZWN0IGluIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSgpLiAnICsgJ1RoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgbnVsbDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdHlwZTtcbiAgfVxuXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgIHJldHVybiAnRnJhZ21lbnQnO1xuXG4gICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgIHJldHVybiAnUG9ydGFsJztcblxuICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgIHJldHVybiAnUHJvZmlsZXInO1xuXG4gICAgY2FzZSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFOlxuICAgICAgcmV0dXJuICdTdHJpY3RNb2RlJztcblxuICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcbiAgICAgIHJldHVybiAnU3VzcGVuc2UnO1xuXG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICByZXR1cm4gJ1N1c3BlbnNlTGlzdCc7XG5cbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICBzd2l0Y2ggKHR5cGUuJCR0eXBlb2YpIHtcbiAgICAgIGNhc2UgUkVBQ1RfQ09OVEVYVF9UWVBFOlxuICAgICAgICB2YXIgY29udGV4dCA9IHR5cGU7XG4gICAgICAgIHJldHVybiBnZXRDb250ZXh0TmFtZShjb250ZXh0KSArICcuQ29uc3VtZXInO1xuXG4gICAgICBjYXNlIFJFQUNUX1BST1ZJREVSX1RZUEU6XG4gICAgICAgIHZhciBwcm92aWRlciA9IHR5cGU7XG4gICAgICAgIHJldHVybiBnZXRDb250ZXh0TmFtZShwcm92aWRlci5fY29udGV4dCkgKyAnLlByb3ZpZGVyJztcblxuICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICByZXR1cm4gZ2V0V3JhcHBlZE5hbWUodHlwZSwgdHlwZS5yZW5kZXIsICdGb3J3YXJkUmVmJyk7XG5cbiAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICB2YXIgb3V0ZXJOYW1lID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsO1xuXG4gICAgICAgIGlmIChvdXRlck5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gb3V0ZXJOYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8ICdNZW1vJztcblxuICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbGF6eUNvbXBvbmVudCA9IHR5cGU7XG4gICAgICAgICAgdmFyIHBheWxvYWQgPSBsYXp5Q29tcG9uZW50Ll9wYXlsb2FkO1xuICAgICAgICAgIHZhciBpbml0ID0gbGF6eUNvbXBvbmVudC5faW5pdDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKGluaXQocGF5bG9hZCkpO1xuICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZmFsbHRocm91Z2hcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxudmFyIGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG5cbi8vIEhlbHBlcnMgdG8gcGF0Y2ggY29uc29sZS5sb2dzIHRvIGF2b2lkIGxvZ2dpbmcgZHVyaW5nIHNpZGUtZWZmZWN0IGZyZWVcbi8vIHJlcGxheWluZyBvbiByZW5kZXIgZnVuY3Rpb24uIFRoaXMgY3VycmVudGx5IG9ubHkgcGF0Y2hlcyB0aGUgb2JqZWN0XG4vLyBsYXppbHkgd2hpY2ggd29uJ3QgY292ZXIgaWYgdGhlIGxvZyBmdW5jdGlvbiB3YXMgZXh0cmFjdGVkIGVhZ2VybHkuXG4vLyBXZSBjb3VsZCBhbHNvIGVhZ2VybHkgcGF0Y2ggdGhlIG1ldGhvZC5cbnZhciBkaXNhYmxlZERlcHRoID0gMDtcbnZhciBwcmV2TG9nO1xudmFyIHByZXZJbmZvO1xudmFyIHByZXZXYXJuO1xudmFyIHByZXZFcnJvcjtcbnZhciBwcmV2R3JvdXA7XG52YXIgcHJldkdyb3VwQ29sbGFwc2VkO1xudmFyIHByZXZHcm91cEVuZDtcblxuZnVuY3Rpb24gZGlzYWJsZWRMb2coKSB7fVxuXG5kaXNhYmxlZExvZy5fX3JlYWN0RGlzYWJsZWRMb2cgPSB0cnVlO1xuZnVuY3Rpb24gZGlzYWJsZUxvZ3MoKSB7XG4gIHtcbiAgICBpZiAoZGlzYWJsZWREZXB0aCA9PT0gMCkge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgcmVhY3QtaW50ZXJuYWwvbm8tcHJvZHVjdGlvbi1sb2dnaW5nICovXG4gICAgICBwcmV2TG9nID0gY29uc29sZS5sb2c7XG4gICAgICBwcmV2SW5mbyA9IGNvbnNvbGUuaW5mbztcbiAgICAgIHByZXZXYXJuID0gY29uc29sZS53YXJuO1xuICAgICAgcHJldkVycm9yID0gY29uc29sZS5lcnJvcjtcbiAgICAgIHByZXZHcm91cCA9IGNvbnNvbGUuZ3JvdXA7XG4gICAgICBwcmV2R3JvdXBDb2xsYXBzZWQgPSBjb25zb2xlLmdyb3VwQ29sbGFwc2VkO1xuICAgICAgcHJldkdyb3VwRW5kID0gY29uc29sZS5ncm91cEVuZDsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xOTA5OVxuXG4gICAgICB2YXIgcHJvcHMgPSB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGRpc2FibGVkTG9nLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfTsgLy8gJEZsb3dGaXhNZSBGbG93IHRoaW5rcyBjb25zb2xlIGlzIGltbXV0YWJsZS5cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuICAgICAgICBpbmZvOiBwcm9wcyxcbiAgICAgICAgbG9nOiBwcm9wcyxcbiAgICAgICAgd2FybjogcHJvcHMsXG4gICAgICAgIGVycm9yOiBwcm9wcyxcbiAgICAgICAgZ3JvdXA6IHByb3BzLFxuICAgICAgICBncm91cENvbGxhcHNlZDogcHJvcHMsXG4gICAgICAgIGdyb3VwRW5kOiBwcm9wc1xuICAgICAgfSk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgIH1cblxuICAgIGRpc2FibGVkRGVwdGgrKztcbiAgfVxufVxuZnVuY3Rpb24gcmVlbmFibGVMb2dzKCkge1xuICB7XG4gICAgZGlzYWJsZWREZXB0aC0tO1xuXG4gICAgaWYgKGRpc2FibGVkRGVwdGggPT09IDApIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9OyAvLyAkRmxvd0ZpeE1lIEZsb3cgdGhpbmtzIGNvbnNvbGUgaXMgaW1tdXRhYmxlLlxuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG4gICAgICAgIGxvZzogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2TG9nXG4gICAgICAgIH0pLFxuICAgICAgICBpbmZvOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZJbmZvXG4gICAgICAgIH0pLFxuICAgICAgICB3YXJuOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZXYXJuXG4gICAgICAgIH0pLFxuICAgICAgICBlcnJvcjogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2RXJyb3JcbiAgICAgICAgfSksXG4gICAgICAgIGdyb3VwOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZHcm91cFxuICAgICAgICB9KSxcbiAgICAgICAgZ3JvdXBDb2xsYXBzZWQ6IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkdyb3VwQ29sbGFwc2VkXG4gICAgICAgIH0pLFxuICAgICAgICBncm91cEVuZDogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2R3JvdXBFbmRcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgICAgLyogZXNsaW50LWVuYWJsZSByZWFjdC1pbnRlcm5hbC9uby1wcm9kdWN0aW9uLWxvZ2dpbmcgKi9cbiAgICB9XG5cbiAgICBpZiAoZGlzYWJsZWREZXB0aCA8IDApIHtcbiAgICAgIGVycm9yKCdkaXNhYmxlZERlcHRoIGZlbGwgYmVsb3cgemVyby4gJyArICdUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIFJlYWN0Q3VycmVudERpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnREaXNwYXRjaGVyO1xudmFyIHByZWZpeDtcbmZ1bmN0aW9uIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKG5hbWUsIHNvdXJjZSwgb3duZXJGbikge1xuICB7XG4gICAgaWYgKHByZWZpeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBFeHRyYWN0IHRoZSBWTSBzcGVjaWZpYyBwcmVmaXggdXNlZCBieSBlYWNoIGxpbmUuXG4gICAgICB0cnkge1xuICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICB2YXIgbWF0Y2ggPSB4LnN0YWNrLnRyaW0oKS5tYXRjaCgvXFxuKCAqKGF0ICk/KS8pO1xuICAgICAgICBwcmVmaXggPSBtYXRjaCAmJiBtYXRjaFsxXSB8fCAnJztcbiAgICAgIH1cbiAgICB9IC8vIFdlIHVzZSB0aGUgcHJlZml4IHRvIGVuc3VyZSBvdXIgc3RhY2tzIGxpbmUgdXAgd2l0aCBuYXRpdmUgc3RhY2sgZnJhbWVzLlxuXG5cbiAgICByZXR1cm4gJ1xcbicgKyBwcmVmaXggKyBuYW1lO1xuICB9XG59XG52YXIgcmVlbnRyeSA9IGZhbHNlO1xudmFyIGNvbXBvbmVudEZyYW1lQ2FjaGU7XG5cbntcbiAgdmFyIFBvc3NpYmx5V2Vha01hcCA9IHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nID8gV2Vha01hcCA6IE1hcDtcbiAgY29tcG9uZW50RnJhbWVDYWNoZSA9IG5ldyBQb3NzaWJseVdlYWtNYXAoKTtcbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZShmbiwgY29uc3RydWN0KSB7XG4gIC8vIElmIHNvbWV0aGluZyBhc2tlZCBmb3IgYSBzdGFjayBpbnNpZGUgYSBmYWtlIHJlbmRlciwgaXQgc2hvdWxkIGdldCBpZ25vcmVkLlxuICBpZiAoICFmbiB8fCByZWVudHJ5KSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAge1xuICAgIHZhciBmcmFtZSA9IGNvbXBvbmVudEZyYW1lQ2FjaGUuZ2V0KGZuKTtcblxuICAgIGlmIChmcmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZnJhbWU7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNvbnRyb2w7XG4gIHJlZW50cnkgPSB0cnVlO1xuICB2YXIgcHJldmlvdXNQcmVwYXJlU3RhY2tUcmFjZSA9IEVycm9yLnByZXBhcmVTdGFja1RyYWNlOyAvLyAkRmxvd0ZpeE1lIEl0IGRvZXMgYWNjZXB0IHVuZGVmaW5lZC5cblxuICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHVuZGVmaW5lZDtcbiAgdmFyIHByZXZpb3VzRGlzcGF0Y2hlcjtcblxuICB7XG4gICAgcHJldmlvdXNEaXNwYXRjaGVyID0gUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50OyAvLyBTZXQgdGhlIGRpc3BhdGNoZXIgaW4gREVWIGJlY2F1c2UgdGhpcyBtaWdodCBiZSBjYWxsIGluIHRoZSByZW5kZXIgZnVuY3Rpb25cbiAgICAvLyBmb3Igd2FybmluZ3MuXG5cbiAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyLmN1cnJlbnQgPSBudWxsO1xuICAgIGRpc2FibGVMb2dzKCk7XG4gIH1cblxuICB0cnkge1xuICAgIC8vIFRoaXMgc2hvdWxkIHRocm93LlxuICAgIGlmIChjb25zdHJ1Y3QpIHtcbiAgICAgIC8vIFNvbWV0aGluZyBzaG91bGQgYmUgc2V0dGluZyB0aGUgcHJvcHMgaW4gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgdmFyIEZha2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICB9OyAvLyAkRmxvd0ZpeE1lXG5cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZha2UucHJvdG90eXBlLCAncHJvcHMnLCB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vIFdlIHVzZSBhIHRocm93aW5nIHNldHRlciBpbnN0ZWFkIG9mIGZyb3plbiBvciBub24td3JpdGFibGUgcHJvcHNcbiAgICAgICAgICAvLyBiZWNhdXNlIHRoYXQgd29uJ3QgdGhyb3cgaW4gYSBub24tc3RyaWN0IG1vZGUgZnVuY3Rpb24uXG4gICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgJiYgUmVmbGVjdC5jb25zdHJ1Y3QpIHtcbiAgICAgICAgLy8gV2UgY29uc3RydWN0IGEgZGlmZmVyZW50IGNvbnRyb2wgZm9yIHRoaXMgY2FzZSB0byBpbmNsdWRlIGFueSBleHRyYVxuICAgICAgICAvLyBmcmFtZXMgYWRkZWQgYnkgdGhlIGNvbnN0cnVjdCBjYWxsLlxuICAgICAgICB0cnkge1xuICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KEZha2UsIFtdKTtcbiAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgIGNvbnRyb2wgPSB4O1xuICAgICAgICB9XG5cbiAgICAgICAgUmVmbGVjdC5jb25zdHJ1Y3QoZm4sIFtdLCBGYWtlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgRmFrZS5jYWxsKCk7XG4gICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICBjb250cm9sID0geDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZuLmNhbGwoRmFrZS5wcm90b3R5cGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICBjb250cm9sID0geDtcbiAgICAgIH1cblxuICAgICAgZm4oKTtcbiAgICB9XG4gIH0gY2F0Y2ggKHNhbXBsZSkge1xuICAgIC8vIFRoaXMgaXMgaW5saW5lZCBtYW51YWxseSBiZWNhdXNlIGNsb3N1cmUgZG9lc24ndCBkbyBpdCBmb3IgdXMuXG4gICAgaWYgKHNhbXBsZSAmJiBjb250cm9sICYmIHR5cGVvZiBzYW1wbGUuc3RhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBUaGlzIGV4dHJhY3RzIHRoZSBmaXJzdCBmcmFtZSBmcm9tIHRoZSBzYW1wbGUgdGhhdCBpc24ndCBhbHNvIGluIHRoZSBjb250cm9sLlxuICAgICAgLy8gU2tpcHBpbmcgb25lIGZyYW1lIHRoYXQgd2UgYXNzdW1lIGlzIHRoZSBmcmFtZSB0aGF0IGNhbGxzIHRoZSB0d28uXG4gICAgICB2YXIgc2FtcGxlTGluZXMgPSBzYW1wbGUuc3RhY2suc3BsaXQoJ1xcbicpO1xuICAgICAgdmFyIGNvbnRyb2xMaW5lcyA9IGNvbnRyb2wuc3RhY2suc3BsaXQoJ1xcbicpO1xuICAgICAgdmFyIHMgPSBzYW1wbGVMaW5lcy5sZW5ndGggLSAxO1xuICAgICAgdmFyIGMgPSBjb250cm9sTGluZXMubGVuZ3RoIC0gMTtcblxuICAgICAgd2hpbGUgKHMgPj0gMSAmJiBjID49IDAgJiYgc2FtcGxlTGluZXNbc10gIT09IGNvbnRyb2xMaW5lc1tjXSkge1xuICAgICAgICAvLyBXZSBleHBlY3QgYXQgbGVhc3Qgb25lIHN0YWNrIGZyYW1lIHRvIGJlIHNoYXJlZC5cbiAgICAgICAgLy8gVHlwaWNhbGx5IHRoaXMgd2lsbCBiZSB0aGUgcm9vdCBtb3N0IG9uZS4gSG93ZXZlciwgc3RhY2sgZnJhbWVzIG1heSBiZVxuICAgICAgICAvLyBjdXQgb2ZmIGR1ZSB0byBtYXhpbXVtIHN0YWNrIGxpbWl0cy4gSW4gdGhpcyBjYXNlLCBvbmUgbWF5YmUgY3V0IG9mZlxuICAgICAgICAvLyBlYXJsaWVyIHRoYW4gdGhlIG90aGVyLiBXZSBhc3N1bWUgdGhhdCB0aGUgc2FtcGxlIGlzIGxvbmdlciBvciB0aGUgc2FtZVxuICAgICAgICAvLyBhbmQgdGhlcmUgZm9yIGN1dCBvZmYgZWFybGllci4gU28gd2Ugc2hvdWxkIGZpbmQgdGhlIHJvb3QgbW9zdCBmcmFtZSBpblxuICAgICAgICAvLyB0aGUgc2FtcGxlIHNvbWV3aGVyZSBpbiB0aGUgY29udHJvbC5cbiAgICAgICAgYy0tO1xuICAgICAgfVxuXG4gICAgICBmb3IgKDsgcyA+PSAxICYmIGMgPj0gMDsgcy0tLCBjLS0pIHtcbiAgICAgICAgLy8gTmV4dCB3ZSBmaW5kIHRoZSBmaXJzdCBvbmUgdGhhdCBpc24ndCB0aGUgc2FtZSB3aGljaCBzaG91bGQgYmUgdGhlXG4gICAgICAgIC8vIGZyYW1lIHRoYXQgY2FsbGVkIG91ciBzYW1wbGUgZnVuY3Rpb24gYW5kIHRoZSBjb250cm9sLlxuICAgICAgICBpZiAoc2FtcGxlTGluZXNbc10gIT09IGNvbnRyb2xMaW5lc1tjXSkge1xuICAgICAgICAgIC8vIEluIFY4LCB0aGUgZmlyc3QgbGluZSBpcyBkZXNjcmliaW5nIHRoZSBtZXNzYWdlIGJ1dCBvdGhlciBWTXMgZG9uJ3QuXG4gICAgICAgICAgLy8gSWYgd2UncmUgYWJvdXQgdG8gcmV0dXJuIHRoZSBmaXJzdCBsaW5lLCBhbmQgdGhlIGNvbnRyb2wgaXMgYWxzbyBvbiB0aGUgc2FtZVxuICAgICAgICAgIC8vIGxpbmUsIHRoYXQncyBhIHByZXR0eSBnb29kIGluZGljYXRvciB0aGF0IG91ciBzYW1wbGUgdGhyZXcgYXQgc2FtZSBsaW5lIGFzXG4gICAgICAgICAgLy8gdGhlIGNvbnRyb2wuIEkuZS4gYmVmb3JlIHdlIGVudGVyZWQgdGhlIHNhbXBsZSBmcmFtZS4gU28gd2UgaWdub3JlIHRoaXMgcmVzdWx0LlxuICAgICAgICAgIC8vIFRoaXMgY2FuIGhhcHBlbiBpZiB5b3UgcGFzc2VkIGEgY2xhc3MgdG8gZnVuY3Rpb24gY29tcG9uZW50LCBvciBub24tZnVuY3Rpb24uXG4gICAgICAgICAgaWYgKHMgIT09IDEgfHwgYyAhPT0gMSkge1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICBzLS07XG4gICAgICAgICAgICAgIGMtLTsgLy8gV2UgbWF5IHN0aWxsIGhhdmUgc2ltaWxhciBpbnRlcm1lZGlhdGUgZnJhbWVzIGZyb20gdGhlIGNvbnN0cnVjdCBjYWxsLlxuICAgICAgICAgICAgICAvLyBUaGUgbmV4dCBvbmUgdGhhdCBpc24ndCB0aGUgc2FtZSBzaG91bGQgYmUgb3VyIG1hdGNoIHRob3VnaC5cblxuICAgICAgICAgICAgICBpZiAoYyA8IDAgfHwgc2FtcGxlTGluZXNbc10gIT09IGNvbnRyb2xMaW5lc1tjXSkge1xuICAgICAgICAgICAgICAgIC8vIFY4IGFkZHMgYSBcIm5ld1wiIHByZWZpeCBmb3IgbmF0aXZlIGNsYXNzZXMuIExldCdzIHJlbW92ZSBpdCB0byBtYWtlIGl0IHByZXR0aWVyLlxuICAgICAgICAgICAgICAgIHZhciBfZnJhbWUgPSAnXFxuJyArIHNhbXBsZUxpbmVzW3NdLnJlcGxhY2UoJyBhdCBuZXcgJywgJyBhdCAnKTsgLy8gSWYgb3VyIGNvbXBvbmVudCBmcmFtZSBpcyBsYWJlbGVkIFwiPGFub255bW91cz5cIlxuICAgICAgICAgICAgICAgIC8vIGJ1dCB3ZSBoYXZlIGEgdXNlci1wcm92aWRlZCBcImRpc3BsYXlOYW1lXCJcbiAgICAgICAgICAgICAgICAvLyBzcGxpY2UgaXQgaW4gdG8gbWFrZSB0aGUgc3RhY2sgbW9yZSByZWFkYWJsZS5cblxuXG4gICAgICAgICAgICAgICAgaWYgKGZuLmRpc3BsYXlOYW1lICYmIF9mcmFtZS5pbmNsdWRlcygnPGFub255bW91cz4nKSkge1xuICAgICAgICAgICAgICAgICAgX2ZyYW1lID0gX2ZyYW1lLnJlcGxhY2UoJzxhbm9ueW1vdXM+JywgZm4uZGlzcGxheU5hbWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50RnJhbWVDYWNoZS5zZXQoZm4sIF9mcmFtZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSAvLyBSZXR1cm4gdGhlIGxpbmUgd2UgZm91bmQuXG5cblxuICAgICAgICAgICAgICAgIHJldHVybiBfZnJhbWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKHMgPj0gMSAmJiBjID49IDApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGZpbmFsbHkge1xuICAgIHJlZW50cnkgPSBmYWxzZTtcblxuICAgIHtcbiAgICAgIFJlYWN0Q3VycmVudERpc3BhdGNoZXIuY3VycmVudCA9IHByZXZpb3VzRGlzcGF0Y2hlcjtcbiAgICAgIHJlZW5hYmxlTG9ncygpO1xuICAgIH1cblxuICAgIEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gcHJldmlvdXNQcmVwYXJlU3RhY2tUcmFjZTtcbiAgfSAvLyBGYWxsYmFjayB0byBqdXN0IHVzaW5nIHRoZSBuYW1lIGlmIHdlIGNvdWxkbid0IG1ha2UgaXQgdGhyb3cuXG5cblxuICB2YXIgbmFtZSA9IGZuID8gZm4uZGlzcGxheU5hbWUgfHwgZm4ubmFtZSA6ICcnO1xuICB2YXIgc3ludGhldGljRnJhbWUgPSBuYW1lID8gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUobmFtZSkgOiAnJztcblxuICB7XG4gICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29tcG9uZW50RnJhbWVDYWNoZS5zZXQoZm4sIHN5bnRoZXRpY0ZyYW1lKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc3ludGhldGljRnJhbWU7XG59XG5mdW5jdGlvbiBkZXNjcmliZUZ1bmN0aW9uQ29tcG9uZW50RnJhbWUoZm4sIHNvdXJjZSwgb3duZXJGbikge1xuICB7XG4gICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzaG91bGRDb25zdHJ1Y3QoQ29tcG9uZW50KSB7XG4gIHZhciBwcm90b3R5cGUgPSBDb21wb25lbnQucHJvdG90eXBlO1xuICByZXR1cm4gISEocHJvdG90eXBlICYmIHByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KTtcbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUsIHNvdXJjZSwgb3duZXJGbikge1xuXG4gIGlmICh0eXBlID09IG51bGwpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICB7XG4gICAgICByZXR1cm4gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZSh0eXBlLCBzaG91bGRDb25zdHJ1Y3QodHlwZSkpO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUodHlwZSk7XG4gIH1cblxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoJ1N1c3BlbnNlJyk7XG5cbiAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZSgnU3VzcGVuc2VMaXN0Jyk7XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgc3dpdGNoICh0eXBlLiQkdHlwZW9mKSB7XG4gICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgIHJldHVybiBkZXNjcmliZUZ1bmN0aW9uQ29tcG9uZW50RnJhbWUodHlwZS5yZW5kZXIpO1xuXG4gICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgLy8gTWVtbyBtYXkgY29udGFpbiBhbnkgY29tcG9uZW50IHR5cGUgc28gd2UgcmVjdXJzaXZlbHkgcmVzb2x2ZSBpdC5cbiAgICAgICAgcmV0dXJuIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVih0eXBlLnR5cGUsIHNvdXJjZSwgb3duZXJGbik7XG5cbiAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIGxhenlDb21wb25lbnQgPSB0eXBlO1xuICAgICAgICAgIHZhciBwYXlsb2FkID0gbGF6eUNvbXBvbmVudC5fcGF5bG9hZDtcbiAgICAgICAgICB2YXIgaW5pdCA9IGxhenlDb21wb25lbnQuX2luaXQ7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gTGF6eSBtYXkgY29udGFpbiBhbnkgY29tcG9uZW50IHR5cGUgc28gd2UgcmVjdXJzaXZlbHkgcmVzb2x2ZSBpdC5cbiAgICAgICAgICAgIHJldHVybiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYoaW5pdChwYXlsb2FkKSwgc291cmNlLCBvd25lckZuKTtcbiAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG52YXIgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0RGVidWdDdXJyZW50RnJhbWU7XG5cbmZ1bmN0aW9uIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGVsZW1lbnQpIHtcbiAge1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICB2YXIgb3duZXIgPSBlbGVtZW50Ll9vd25lcjtcbiAgICAgIHZhciBzdGFjayA9IGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVihlbGVtZW50LnR5cGUsIGVsZW1lbnQuX3NvdXJjZSwgb3duZXIgPyBvd25lci50eXBlIDogbnVsbCk7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lLnNldEV4dHJhU3RhY2tGcmFtZShzdGFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RnJhbWUuc2V0RXh0cmFTdGFja0ZyYW1lKG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja1Byb3BUeXBlcyh0eXBlU3BlY3MsIHZhbHVlcywgbG9jYXRpb24sIGNvbXBvbmVudE5hbWUsIGVsZW1lbnQpIHtcbiAge1xuICAgIC8vICRGbG93Rml4TWUgVGhpcyBpcyBva2F5IGJ1dCBGbG93IGRvZXNuJ3Qga25vdyBpdC5cbiAgICB2YXIgaGFzID0gRnVuY3Rpb24uY2FsbC5iaW5kKGhhc093blByb3BlcnR5KTtcblxuICAgIGZvciAodmFyIHR5cGVTcGVjTmFtZSBpbiB0eXBlU3BlY3MpIHtcbiAgICAgIGlmIChoYXModHlwZVNwZWNzLCB0eXBlU3BlY05hbWUpKSB7XG4gICAgICAgIHZhciBlcnJvciQxID0gdm9pZCAwOyAvLyBQcm9wIHR5cGUgdmFsaWRhdGlvbiBtYXkgdGhyb3cuIEluIGNhc2UgdGhleSBkbywgd2UgZG9uJ3Qgd2FudCB0b1xuICAgICAgICAvLyBmYWlsIHRoZSByZW5kZXIgcGhhc2Ugd2hlcmUgaXQgZGlkbid0IGZhaWwgYmVmb3JlLiBTbyB3ZSBsb2cgaXQuXG4gICAgICAgIC8vIEFmdGVyIHRoZXNlIGhhdmUgYmVlbiBjbGVhbmVkIHVwLCB3ZSdsbCBsZXQgdGhlbSB0aHJvdy5cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgaXMgaW50ZW50aW9uYWxseSBhbiBpbnZhcmlhbnQgdGhhdCBnZXRzIGNhdWdodC4gSXQncyB0aGUgc2FtZVxuICAgICAgICAgIC8vIGJlaGF2aW9yIGFzIHdpdGhvdXQgdGhpcyBzdGF0ZW1lbnQgZXhjZXB0IHdpdGggYSBiZXR0ZXIgbWVzc2FnZS5cbiAgICAgICAgICBpZiAodHlwZW9mIHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvcHJvZC1lcnJvci1jb2Rlc1xuICAgICAgICAgICAgdmFyIGVyciA9IEVycm9yKChjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycpICsgJzogJyArIGxvY2F0aW9uICsgJyB0eXBlIGAnICsgdHlwZVNwZWNOYW1lICsgJ2AgaXMgaW52YWxpZDsgJyArICdpdCBtdXN0IGJlIGEgZnVuY3Rpb24sIHVzdWFsbHkgZnJvbSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UsIGJ1dCByZWNlaXZlZCBgJyArIHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSArICdgLicgKyAnVGhpcyBvZnRlbiBoYXBwZW5zIGJlY2F1c2Ugb2YgdHlwb3Mgc3VjaCBhcyBgUHJvcFR5cGVzLmZ1bmN0aW9uYCBpbnN0ZWFkIG9mIGBQcm9wVHlwZXMuZnVuY2AuJyk7XG4gICAgICAgICAgICBlcnIubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlcnJvciQxID0gdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0odmFsdWVzLCB0eXBlU3BlY05hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBudWxsLCAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnKTtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICBlcnJvciQxID0gZXg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyb3IkMSAmJiAhKGVycm9yJDEgaW5zdGFuY2VvZiBFcnJvcikpIHtcbiAgICAgICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChlbGVtZW50KTtcblxuICAgICAgICAgIGVycm9yKCclczogdHlwZSBzcGVjaWZpY2F0aW9uIG9mICVzJyArICcgYCVzYCBpcyBpbnZhbGlkOyB0aGUgdHlwZSBjaGVja2VyICcgKyAnZnVuY3Rpb24gbXVzdCByZXR1cm4gYG51bGxgIG9yIGFuIGBFcnJvcmAgYnV0IHJldHVybmVkIGEgJXMuICcgKyAnWW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBwYXNzIGFuIGFyZ3VtZW50IHRvIHRoZSB0eXBlIGNoZWNrZXIgJyArICdjcmVhdG9yIChhcnJheU9mLCBpbnN0YW5jZU9mLCBvYmplY3RPZiwgb25lT2YsIG9uZU9mVHlwZSwgYW5kICcgKyAnc2hhcGUgYWxsIHJlcXVpcmUgYW4gYXJndW1lbnQpLicsIGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJywgbG9jYXRpb24sIHR5cGVTcGVjTmFtZSwgdHlwZW9mIGVycm9yJDEpO1xuXG4gICAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyb3IkMSBpbnN0YW5jZW9mIEVycm9yICYmICEoZXJyb3IkMS5tZXNzYWdlIGluIGxvZ2dlZFR5cGVGYWlsdXJlcykpIHtcbiAgICAgICAgICAvLyBPbmx5IG1vbml0b3IgdGhpcyBmYWlsdXJlIG9uY2UgYmVjYXVzZSB0aGVyZSB0ZW5kcyB0byBiZSBhIGxvdCBvZiB0aGVcbiAgICAgICAgICAvLyBzYW1lIGVycm9yLlxuICAgICAgICAgIGxvZ2dlZFR5cGVGYWlsdXJlc1tlcnJvciQxLm1lc3NhZ2VdID0gdHJ1ZTtcbiAgICAgICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChlbGVtZW50KTtcblxuICAgICAgICAgIGVycm9yKCdGYWlsZWQgJXMgdHlwZTogJXMnLCBsb2NhdGlvbiwgZXJyb3IkMS5tZXNzYWdlKTtcblxuICAgICAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KG51bGwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbnZhciBpc0FycmF5SW1wbCA9IEFycmF5LmlzQXJyYXk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZWRlY2xhcmVcblxuZnVuY3Rpb24gaXNBcnJheShhKSB7XG4gIHJldHVybiBpc0FycmF5SW1wbChhKTtcbn1cblxuLypcbiAqIFRoZSBgJycgKyB2YWx1ZWAgcGF0dGVybiAodXNlZCBpbiBpbiBwZXJmLXNlbnNpdGl2ZSBjb2RlKSB0aHJvd3MgZm9yIFN5bWJvbFxuICogYW5kIFRlbXBvcmFsLiogdHlwZXMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8yMjA2NC5cbiAqXG4gKiBUaGUgZnVuY3Rpb25zIGluIHRoaXMgbW9kdWxlIHdpbGwgdGhyb3cgYW4gZWFzaWVyLXRvLXVuZGVyc3RhbmQsXG4gKiBlYXNpZXItdG8tZGVidWcgZXhjZXB0aW9uIHdpdGggYSBjbGVhciBlcnJvcnMgbWVzc2FnZSBtZXNzYWdlIGV4cGxhaW5pbmcgdGhlXG4gKiBwcm9ibGVtLiAoSW5zdGVhZCBvZiBhIGNvbmZ1c2luZyBleGNlcHRpb24gdGhyb3duIGluc2lkZSB0aGUgaW1wbGVtZW50YXRpb25cbiAqIG9mIHRoZSBgdmFsdWVgIG9iamVjdCkuXG4gKi9cbi8vICRGbG93Rml4TWUgb25seSBjYWxsZWQgaW4gREVWLCBzbyB2b2lkIHJldHVybiBpcyBub3QgcG9zc2libGUuXG5mdW5jdGlvbiB0eXBlTmFtZSh2YWx1ZSkge1xuICB7XG4gICAgLy8gdG9TdHJpbmdUYWcgaXMgbmVlZGVkIGZvciBuYW1lc3BhY2VkIHR5cGVzIGxpa2UgVGVtcG9yYWwuSW5zdGFudFxuICAgIHZhciBoYXNUb1N0cmluZ1RhZyA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLnRvU3RyaW5nVGFnO1xuICAgIHZhciB0eXBlID0gaGFzVG9TdHJpbmdUYWcgJiYgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSB8fCB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8ICdPYmplY3QnO1xuICAgIHJldHVybiB0eXBlO1xuICB9XG59IC8vICRGbG93Rml4TWUgb25seSBjYWxsZWQgaW4gREVWLCBzbyB2b2lkIHJldHVybiBpcyBub3QgcG9zc2libGUuXG5cblxuZnVuY3Rpb24gd2lsbENvZXJjaW9uVGhyb3codmFsdWUpIHtcbiAge1xuICAgIHRyeSB7XG4gICAgICB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgLy8gSWYgeW91IGVuZGVkIHVwIGhlcmUgYnkgZm9sbG93aW5nIGFuIGV4Y2VwdGlvbiBjYWxsIHN0YWNrLCBoZXJlJ3Mgd2hhdCdzXG4gIC8vIGhhcHBlbmVkOiB5b3Ugc3VwcGxpZWQgYW4gb2JqZWN0IG9yIHN5bWJvbCB2YWx1ZSB0byBSZWFjdCAoYXMgYSBwcm9wLCBrZXksXG4gIC8vIERPTSBhdHRyaWJ1dGUsIENTUyBwcm9wZXJ0eSwgc3RyaW5nIHJlZiwgZXRjLikgYW5kIHdoZW4gUmVhY3QgdHJpZWQgdG9cbiAgLy8gY29lcmNlIGl0IHRvIGEgc3RyaW5nIHVzaW5nIGAnJyArIHZhbHVlYCwgYW4gZXhjZXB0aW9uIHdhcyB0aHJvd24uXG4gIC8vXG4gIC8vIFRoZSBtb3N0IGNvbW1vbiB0eXBlcyB0aGF0IHdpbGwgY2F1c2UgdGhpcyBleGNlcHRpb24gYXJlIGBTeW1ib2xgIGluc3RhbmNlc1xuICAvLyBhbmQgVGVtcG9yYWwgb2JqZWN0cyBsaWtlIGBUZW1wb3JhbC5JbnN0YW50YC4gQnV0IGFueSBvYmplY3QgdGhhdCBoYXMgYVxuICAvLyBgdmFsdWVPZmAgb3IgYFtTeW1ib2wudG9QcmltaXRpdmVdYCBtZXRob2QgdGhhdCB0aHJvd3Mgd2lsbCBhbHNvIGNhdXNlIHRoaXNcbiAgLy8gZXhjZXB0aW9uLiAoTGlicmFyeSBhdXRob3JzIGRvIHRoaXMgdG8gcHJldmVudCB1c2VycyBmcm9tIHVzaW5nIGJ1aWx0LWluXG4gIC8vIG51bWVyaWMgb3BlcmF0b3JzIGxpa2UgYCtgIG9yIGNvbXBhcmlzb24gb3BlcmF0b3JzIGxpa2UgYD49YCBiZWNhdXNlIGN1c3RvbVxuICAvLyBtZXRob2RzIGFyZSBuZWVkZWQgdG8gcGVyZm9ybSBhY2N1cmF0ZSBhcml0aG1ldGljIG9yIGNvbXBhcmlzb24uKVxuICAvL1xuICAvLyBUbyBmaXggdGhlIHByb2JsZW0sIGNvZXJjZSB0aGlzIG9iamVjdCBvciBzeW1ib2wgdmFsdWUgdG8gYSBzdHJpbmcgYmVmb3JlXG4gIC8vIHBhc3NpbmcgaXQgdG8gUmVhY3QuIFRoZSBtb3N0IHJlbGlhYmxlIHdheSBpcyB1c3VhbGx5IGBTdHJpbmcodmFsdWUpYC5cbiAgLy9cbiAgLy8gVG8gZmluZCB3aGljaCB2YWx1ZSBpcyB0aHJvd2luZywgY2hlY2sgdGhlIGJyb3dzZXIgb3IgZGVidWdnZXIgY29uc29sZS5cbiAgLy8gQmVmb3JlIHRoaXMgZXhjZXB0aW9uIHdhcyB0aHJvd24sIHRoZXJlIHNob3VsZCBiZSBgY29uc29sZS5lcnJvcmAgb3V0cHV0XG4gIC8vIHRoYXQgc2hvd3MgdGhlIHR5cGUgKFN5bWJvbCwgVGVtcG9yYWwuUGxhaW5EYXRlLCBldGMuKSB0aGF0IGNhdXNlZCB0aGVcbiAgLy8gcHJvYmxlbSBhbmQgaG93IHRoYXQgdHlwZSB3YXMgdXNlZDoga2V5LCBhdHJyaWJ1dGUsIGlucHV0IHZhbHVlIHByb3AsIGV0Yy5cbiAgLy8gSW4gbW9zdCBjYXNlcywgdGhpcyBjb25zb2xlIG91dHB1dCBhbHNvIHNob3dzIHRoZSBjb21wb25lbnQgYW5kIGl0c1xuICAvLyBhbmNlc3RvciBjb21wb25lbnRzIHdoZXJlIHRoZSBleGNlcHRpb24gaGFwcGVuZWQuXG4gIC8vXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1pbnRlcm5hbC9zYWZlLXN0cmluZy1jb2VyY2lvblxuICByZXR1cm4gJycgKyB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAge1xuICAgIGlmICh3aWxsQ29lcmNpb25UaHJvdyh2YWx1ZSkpIHtcbiAgICAgIGVycm9yKCdUaGUgcHJvdmlkZWQga2V5IGlzIGFuIHVuc3VwcG9ydGVkIHR5cGUgJXMuJyArICcgVGhpcyB2YWx1ZSBtdXN0IGJlIGNvZXJjZWQgdG8gYSBzdHJpbmcgYmVmb3JlIGJlZm9yZSB1c2luZyBpdCBoZXJlLicsIHR5cGVOYW1lKHZhbHVlKSk7XG5cbiAgICAgIHJldHVybiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpOyAvLyB0aHJvdyAodG8gaGVscCBjYWxsZXJzIGZpbmQgdHJvdWJsZXNob290aW5nIGNvbW1lbnRzKVxuICAgIH1cbiAgfVxufVxuXG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnRPd25lcjtcbnZhciBSRVNFUlZFRF9QUk9QUyA9IHtcbiAga2V5OiB0cnVlLFxuICByZWY6IHRydWUsXG4gIF9fc2VsZjogdHJ1ZSxcbiAgX19zb3VyY2U6IHRydWVcbn07XG52YXIgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd247XG52YXIgc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd247XG52YXIgZGlkV2FybkFib3V0U3RyaW5nUmVmcztcblxue1xuICBkaWRXYXJuQWJvdXRTdHJpbmdSZWZzID0ge307XG59XG5cbmZ1bmN0aW9uIGhhc1ZhbGlkUmVmKGNvbmZpZykge1xuICB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCAncmVmJykpIHtcbiAgICAgIHZhciBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgJ3JlZicpLmdldDtcblxuICAgICAgaWYgKGdldHRlciAmJiBnZXR0ZXIuaXNSZWFjdFdhcm5pbmcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb25maWcucmVmICE9PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGhhc1ZhbGlkS2V5KGNvbmZpZykge1xuICB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCAna2V5JykpIHtcbiAgICAgIHZhciBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgJ2tleScpLmdldDtcblxuICAgICAgaWYgKGdldHRlciAmJiBnZXR0ZXIuaXNSZWFjdFdhcm5pbmcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb25maWcua2V5ICE9PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIHdhcm5JZlN0cmluZ1JlZkNhbm5vdEJlQXV0b0NvbnZlcnRlZChjb25maWcsIHNlbGYpIHtcbiAge1xuICAgIGlmICh0eXBlb2YgY29uZmlnLnJlZiA9PT0gJ3N0cmluZycgJiYgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCAmJiBzZWxmICYmIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQuc3RhdGVOb2RlICE9PSBzZWxmKSB7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnR5cGUpO1xuXG4gICAgICBpZiAoIWRpZFdhcm5BYm91dFN0cmluZ1JlZnNbY29tcG9uZW50TmFtZV0pIHtcbiAgICAgICAgZXJyb3IoJ0NvbXBvbmVudCBcIiVzXCIgY29udGFpbnMgdGhlIHN0cmluZyByZWYgXCIlc1wiLiAnICsgJ1N1cHBvcnQgZm9yIHN0cmluZyByZWZzIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiAnICsgJ1RoaXMgY2FzZSBjYW5ub3QgYmUgYXV0b21hdGljYWxseSBjb252ZXJ0ZWQgdG8gYW4gYXJyb3cgZnVuY3Rpb24uICcgKyAnV2UgYXNrIHlvdSB0byBtYW51YWxseSBmaXggdGhpcyBjYXNlIGJ5IHVzaW5nIHVzZVJlZigpIG9yIGNyZWF0ZVJlZigpIGluc3RlYWQuICcgKyAnTGVhcm4gbW9yZSBhYm91dCB1c2luZyByZWZzIHNhZmVseSBoZXJlOiAnICsgJ2h0dHBzOi8vcmVhY3Rqcy5vcmcvbGluay9zdHJpY3QtbW9kZS1zdHJpbmctcmVmJywgZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQudHlwZSksIGNvbmZpZy5yZWYpO1xuXG4gICAgICAgIGRpZFdhcm5BYm91dFN0cmluZ1JlZnNbY29tcG9uZW50TmFtZV0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpIHtcbiAge1xuICAgIHZhciB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duKSB7XG4gICAgICAgIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duID0gdHJ1ZTtcblxuICAgICAgICBlcnJvcignJXM6IGBrZXlgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgJyArICdpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lICcgKyAndmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCAnICsgJ3Byb3AuIChodHRwczovL3JlYWN0anMub3JnL2xpbmsvc3BlY2lhbC1wcm9wcyknLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdhcm5BYm91dEFjY2Vzc2luZ0tleS5pc1JlYWN0V2FybmluZyA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAna2V5Jywge1xuICAgICAgZ2V0OiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXksXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkZWZpbmVSZWZQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpIHtcbiAge1xuICAgIHZhciB3YXJuQWJvdXRBY2Nlc3NpbmdSZWYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duKSB7XG4gICAgICAgIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duID0gdHJ1ZTtcblxuICAgICAgICBlcnJvcignJXM6IGByZWZgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgJyArICdpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lICcgKyAndmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCAnICsgJ3Byb3AuIChodHRwczovL3JlYWN0anMub3JnL2xpbmsvc3BlY2lhbC1wcm9wcyknLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdhcm5BYm91dEFjY2Vzc2luZ1JlZi5pc1JlYWN0V2FybmluZyA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAncmVmJywge1xuICAgICAgZ2V0OiB3YXJuQWJvdXRBY2Nlc3NpbmdSZWYsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxufVxuLyoqXG4gKiBGYWN0b3J5IG1ldGhvZCB0byBjcmVhdGUgYSBuZXcgUmVhY3QgZWxlbWVudC4gVGhpcyBubyBsb25nZXIgYWRoZXJlcyB0b1xuICogdGhlIGNsYXNzIHBhdHRlcm4sIHNvIGRvIG5vdCB1c2UgbmV3IHRvIGNhbGwgaXQuIEFsc28sIGluc3RhbmNlb2YgY2hlY2tcbiAqIHdpbGwgbm90IHdvcmsuIEluc3RlYWQgdGVzdCAkJHR5cGVvZiBmaWVsZCBhZ2FpbnN0IFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSB0byBjaGVja1xuICogaWYgc29tZXRoaW5nIGlzIGEgUmVhY3QgRWxlbWVudC5cbiAqXG4gKiBAcGFyYW0geyp9IHR5cGVcbiAqIEBwYXJhbSB7Kn0gcHJvcHNcbiAqIEBwYXJhbSB7Kn0ga2V5XG4gKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHJlZlxuICogQHBhcmFtIHsqfSBvd25lclxuICogQHBhcmFtIHsqfSBzZWxmIEEgKnRlbXBvcmFyeSogaGVscGVyIHRvIGRldGVjdCBwbGFjZXMgd2hlcmUgYHRoaXNgIGlzXG4gKiBkaWZmZXJlbnQgZnJvbSB0aGUgYG93bmVyYCB3aGVuIFJlYWN0LmNyZWF0ZUVsZW1lbnQgaXMgY2FsbGVkLCBzbyB0aGF0IHdlXG4gKiBjYW4gd2Fybi4gV2Ugd2FudCB0byBnZXQgcmlkIG9mIG93bmVyIGFuZCByZXBsYWNlIHN0cmluZyBgcmVmYHMgd2l0aCBhcnJvd1xuICogZnVuY3Rpb25zLCBhbmQgYXMgbG9uZyBhcyBgdGhpc2AgYW5kIG93bmVyIGFyZSB0aGUgc2FtZSwgdGhlcmUgd2lsbCBiZSBub1xuICogY2hhbmdlIGluIGJlaGF2aW9yLlxuICogQHBhcmFtIHsqfSBzb3VyY2UgQW4gYW5ub3RhdGlvbiBvYmplY3QgKGFkZGVkIGJ5IGEgdHJhbnNwaWxlciBvciBvdGhlcndpc2UpXG4gKiBpbmRpY2F0aW5nIGZpbGVuYW1lLCBsaW5lIG51bWJlciwgYW5kL29yIG90aGVyIGluZm9ybWF0aW9uLlxuICogQGludGVybmFsXG4gKi9cblxuXG52YXIgUmVhY3RFbGVtZW50ID0gZnVuY3Rpb24gKHR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIG93bmVyLCBwcm9wcykge1xuICB2YXIgZWxlbWVudCA9IHtcbiAgICAvLyBUaGlzIHRhZyBhbGxvd3MgdXMgdG8gdW5pcXVlbHkgaWRlbnRpZnkgdGhpcyBhcyBhIFJlYWN0IEVsZW1lbnRcbiAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuICAgIC8vIEJ1aWx0LWluIHByb3BlcnRpZXMgdGhhdCBiZWxvbmcgb24gdGhlIGVsZW1lbnRcbiAgICB0eXBlOiB0eXBlLFxuICAgIGtleToga2V5LFxuICAgIHJlZjogcmVmLFxuICAgIHByb3BzOiBwcm9wcyxcbiAgICAvLyBSZWNvcmQgdGhlIGNvbXBvbmVudCByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgdGhpcyBlbGVtZW50LlxuICAgIF9vd25lcjogb3duZXJcbiAgfTtcblxuICB7XG4gICAgLy8gVGhlIHZhbGlkYXRpb24gZmxhZyBpcyBjdXJyZW50bHkgbXV0YXRpdmUuIFdlIHB1dCBpdCBvblxuICAgIC8vIGFuIGV4dGVybmFsIGJhY2tpbmcgc3RvcmUgc28gdGhhdCB3ZSBjYW4gZnJlZXplIHRoZSB3aG9sZSBvYmplY3QuXG4gICAgLy8gVGhpcyBjYW4gYmUgcmVwbGFjZWQgd2l0aCBhIFdlYWtNYXAgb25jZSB0aGV5IGFyZSBpbXBsZW1lbnRlZCBpblxuICAgIC8vIGNvbW1vbmx5IHVzZWQgZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzLlxuICAgIGVsZW1lbnQuX3N0b3JlID0ge307IC8vIFRvIG1ha2UgY29tcGFyaW5nIFJlYWN0RWxlbWVudHMgZWFzaWVyIGZvciB0ZXN0aW5nIHB1cnBvc2VzLCB3ZSBtYWtlXG4gICAgLy8gdGhlIHZhbGlkYXRpb24gZmxhZyBub24tZW51bWVyYWJsZSAod2hlcmUgcG9zc2libGUsIHdoaWNoIHNob3VsZFxuICAgIC8vIGluY2x1ZGUgZXZlcnkgZW52aXJvbm1lbnQgd2UgcnVuIHRlc3RzIGluKSwgc28gdGhlIHRlc3QgZnJhbWV3b3JrXG4gICAgLy8gaWdub3JlcyBpdC5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50Ll9zdG9yZSwgJ3ZhbGlkYXRlZCcsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGZhbHNlXG4gICAgfSk7IC8vIHNlbGYgYW5kIHNvdXJjZSBhcmUgREVWIG9ubHkgcHJvcGVydGllcy5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX3NlbGYnLCB7XG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICB2YWx1ZTogc2VsZlxuICAgIH0pOyAvLyBUd28gZWxlbWVudHMgY3JlYXRlZCBpbiB0d28gZGlmZmVyZW50IHBsYWNlcyBzaG91bGQgYmUgY29uc2lkZXJlZFxuICAgIC8vIGVxdWFsIGZvciB0ZXN0aW5nIHB1cnBvc2VzIGFuZCB0aGVyZWZvcmUgd2UgaGlkZSBpdCBmcm9tIGVudW1lcmF0aW9uLlxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQsICdfc291cmNlJywge1xuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgdmFsdWU6IHNvdXJjZVxuICAgIH0pO1xuXG4gICAgaWYgKE9iamVjdC5mcmVlemUpIHtcbiAgICAgIE9iamVjdC5mcmVlemUoZWxlbWVudC5wcm9wcyk7XG4gICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufTtcbi8qKlxuICogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmZjcy9wdWxsLzEwN1xuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqL1xuXG5mdW5jdGlvbiBqc3hERVYodHlwZSwgY29uZmlnLCBtYXliZUtleSwgc291cmNlLCBzZWxmKSB7XG4gIHtcbiAgICB2YXIgcHJvcE5hbWU7IC8vIFJlc2VydmVkIG5hbWVzIGFyZSBleHRyYWN0ZWRcblxuICAgIHZhciBwcm9wcyA9IHt9O1xuICAgIHZhciBrZXkgPSBudWxsO1xuICAgIHZhciByZWYgPSBudWxsOyAvLyBDdXJyZW50bHksIGtleSBjYW4gYmUgc3ByZWFkIGluIGFzIGEgcHJvcC4gVGhpcyBjYXVzZXMgYSBwb3RlbnRpYWxcbiAgICAvLyBpc3N1ZSBpZiBrZXkgaXMgYWxzbyBleHBsaWNpdGx5IGRlY2xhcmVkIChpZS4gPGRpdiB7Li4ucHJvcHN9IGtleT1cIkhpXCIgLz5cbiAgICAvLyBvciA8ZGl2IGtleT1cIkhpXCIgey4uLnByb3BzfSAvPiApLiBXZSB3YW50IHRvIGRlcHJlY2F0ZSBrZXkgc3ByZWFkLFxuICAgIC8vIGJ1dCBhcyBhbiBpbnRlcm1lZGlhcnkgc3RlcCwgd2Ugd2lsbCB1c2UganN4REVWIGZvciBldmVyeXRoaW5nIGV4Y2VwdFxuICAgIC8vIDxkaXYgey4uLnByb3BzfSBrZXk9XCJIaVwiIC8+LCBiZWNhdXNlIHdlIGFyZW4ndCBjdXJyZW50bHkgYWJsZSB0byB0ZWxsIGlmXG4gICAgLy8ga2V5IGlzIGV4cGxpY2l0bHkgZGVjbGFyZWQgdG8gYmUgdW5kZWZpbmVkIG9yIG5vdC5cblxuICAgIGlmIChtYXliZUtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB7XG4gICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24obWF5YmVLZXkpO1xuICAgICAgfVxuXG4gICAgICBrZXkgPSAnJyArIG1heWJlS2V5O1xuICAgIH1cblxuICAgIGlmIChoYXNWYWxpZEtleShjb25maWcpKSB7XG4gICAgICB7XG4gICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSk7XG4gICAgICB9XG5cbiAgICAgIGtleSA9ICcnICsgY29uZmlnLmtleTtcbiAgICB9XG5cbiAgICBpZiAoaGFzVmFsaWRSZWYoY29uZmlnKSkge1xuICAgICAgcmVmID0gY29uZmlnLnJlZjtcbiAgICAgIHdhcm5JZlN0cmluZ1JlZkNhbm5vdEJlQXV0b0NvbnZlcnRlZChjb25maWcsIHNlbGYpO1xuICAgIH0gLy8gUmVtYWluaW5nIHByb3BlcnRpZXMgYXJlIGFkZGVkIHRvIGEgbmV3IHByb3BzIG9iamVjdFxuXG5cbiAgICBmb3IgKHByb3BOYW1lIGluIGNvbmZpZykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBwcm9wTmFtZSkgJiYgIVJFU0VSVkVEX1BST1BTLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdO1xuICAgICAgfVxuICAgIH0gLy8gUmVzb2x2ZSBkZWZhdWx0IHByb3BzXG5cblxuICAgIGlmICh0eXBlICYmIHR5cGUuZGVmYXVsdFByb3BzKSB7XG4gICAgICB2YXIgZGVmYXVsdFByb3BzID0gdHlwZS5kZWZhdWx0UHJvcHM7XG5cbiAgICAgIGZvciAocHJvcE5hbWUgaW4gZGVmYXVsdFByb3BzKSB7XG4gICAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoa2V5IHx8IHJlZikge1xuICAgICAgdmFyIGRpc3BsYXlOYW1lID0gdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgPyB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCAnVW5rbm93bicgOiB0eXBlO1xuXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWYpIHtcbiAgICAgICAgZGVmaW5lUmVmUHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQsIHByb3BzKTtcbiAgfVxufVxuXG52YXIgUmVhY3RDdXJyZW50T3duZXIkMSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0Q3VycmVudE93bmVyO1xudmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUkMSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0RGVidWdDdXJyZW50RnJhbWU7XG5cbmZ1bmN0aW9uIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50JDEoZWxlbWVudCkge1xuICB7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHZhciBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgdmFyIHN0YWNrID0gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKGVsZW1lbnQudHlwZSwgZWxlbWVudC5fc291cmNlLCBvd25lciA/IG93bmVyLnR5cGUgOiBudWxsKTtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RnJhbWUkMS5zZXRFeHRyYVN0YWNrRnJhbWUoc3RhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lJDEuc2V0RXh0cmFTdGFja0ZyYW1lKG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgcHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd247XG5cbntcbiAgcHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd24gPSBmYWxzZTtcbn1cbi8qKlxuICogVmVyaWZpZXMgdGhlIG9iamVjdCBpcyBhIFJlYWN0RWxlbWVudC5cbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjaXN2YWxpZGVsZW1lbnRcbiAqIEBwYXJhbSB7P29iamVjdH0gb2JqZWN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGBvYmplY3RgIGlzIGEgUmVhY3RFbGVtZW50LlxuICogQGZpbmFsXG4gKi9cblxuXG5mdW5jdGlvbiBpc1ZhbGlkRWxlbWVudChvYmplY3QpIHtcbiAge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgIT09IG51bGwgJiYgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCkge1xuICB7XG4gICAgaWYgKFJlYWN0Q3VycmVudE93bmVyJDEuY3VycmVudCkge1xuICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoUmVhY3RDdXJyZW50T3duZXIkMS5jdXJyZW50LnR5cGUpO1xuXG4gICAgICBpZiAobmFtZSkge1xuICAgICAgICByZXR1cm4gJ1xcblxcbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGAnICsgbmFtZSArICdgLic7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFNvdXJjZUluZm9FcnJvckFkZGVuZHVtKHNvdXJjZSkge1xuICB7XG4gICAgaWYgKHNvdXJjZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgZmlsZU5hbWUgPSBzb3VyY2UuZmlsZU5hbWUucmVwbGFjZSgvXi4qW1xcXFxcXC9dLywgJycpO1xuICAgICAgdmFyIGxpbmVOdW1iZXIgPSBzb3VyY2UubGluZU51bWJlcjtcbiAgICAgIHJldHVybiAnXFxuXFxuQ2hlY2sgeW91ciBjb2RlIGF0ICcgKyBmaWxlTmFtZSArICc6JyArIGxpbmVOdW1iZXIgKyAnLic7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG59XG4vKipcbiAqIFdhcm4gaWYgdGhlcmUncyBubyBrZXkgZXhwbGljaXRseSBzZXQgb24gZHluYW1pYyBhcnJheXMgb2YgY2hpbGRyZW4gb3JcbiAqIG9iamVjdCBrZXlzIGFyZSBub3QgdmFsaWQuIFRoaXMgYWxsb3dzIHVzIHRvIGtlZXAgdHJhY2sgb2YgY2hpbGRyZW4gYmV0d2VlblxuICogdXBkYXRlcy5cbiAqL1xuXG5cbnZhciBvd25lckhhc0tleVVzZVdhcm5pbmcgPSB7fTtcblxuZnVuY3Rpb24gZ2V0Q3VycmVudENvbXBvbmVudEVycm9ySW5mbyhwYXJlbnRUeXBlKSB7XG4gIHtcbiAgICB2YXIgaW5mbyA9IGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpO1xuXG4gICAgaWYgKCFpbmZvKSB7XG4gICAgICB2YXIgcGFyZW50TmFtZSA9IHR5cGVvZiBwYXJlbnRUeXBlID09PSAnc3RyaW5nJyA/IHBhcmVudFR5cGUgOiBwYXJlbnRUeXBlLmRpc3BsYXlOYW1lIHx8IHBhcmVudFR5cGUubmFtZTtcblxuICAgICAgaWYgKHBhcmVudE5hbWUpIHtcbiAgICAgICAgaW5mbyA9IFwiXFxuXFxuQ2hlY2sgdGhlIHRvcC1sZXZlbCByZW5kZXIgY2FsbCB1c2luZyA8XCIgKyBwYXJlbnROYW1lICsgXCI+LlwiO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpbmZvO1xuICB9XG59XG4vKipcbiAqIFdhcm4gaWYgdGhlIGVsZW1lbnQgZG9lc24ndCBoYXZlIGFuIGV4cGxpY2l0IGtleSBhc3NpZ25lZCB0byBpdC5cbiAqIFRoaXMgZWxlbWVudCBpcyBpbiBhbiBhcnJheS4gVGhlIGFycmF5IGNvdWxkIGdyb3cgYW5kIHNocmluayBvciBiZVxuICogcmVvcmRlcmVkLiBBbGwgY2hpbGRyZW4gdGhhdCBoYXZlbid0IGFscmVhZHkgYmVlbiB2YWxpZGF0ZWQgYXJlIHJlcXVpcmVkIHRvXG4gKiBoYXZlIGEgXCJrZXlcIiBwcm9wZXJ0eSBhc3NpZ25lZCB0byBpdC4gRXJyb3Igc3RhdHVzZXMgYXJlIGNhY2hlZCBzbyBhIHdhcm5pbmdcbiAqIHdpbGwgb25seSBiZSBzaG93biBvbmNlLlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0aGF0IHJlcXVpcmVzIGEga2V5LlxuICogQHBhcmFtIHsqfSBwYXJlbnRUeXBlIGVsZW1lbnQncyBwYXJlbnQncyB0eXBlLlxuICovXG5cblxuZnVuY3Rpb24gdmFsaWRhdGVFeHBsaWNpdEtleShlbGVtZW50LCBwYXJlbnRUeXBlKSB7XG4gIHtcbiAgICBpZiAoIWVsZW1lbnQuX3N0b3JlIHx8IGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCB8fCBlbGVtZW50LmtleSAhPSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZWxlbWVudC5fc3RvcmUudmFsaWRhdGVkID0gdHJ1ZTtcbiAgICB2YXIgY3VycmVudENvbXBvbmVudEVycm9ySW5mbyA9IGdldEN1cnJlbnRDb21wb25lbnRFcnJvckluZm8ocGFyZW50VHlwZSk7XG5cbiAgICBpZiAob3duZXJIYXNLZXlVc2VXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgb3duZXJIYXNLZXlVc2VXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dID0gdHJ1ZTsgLy8gVXN1YWxseSB0aGUgY3VycmVudCBvd25lciBpcyB0aGUgb2ZmZW5kZXIsIGJ1dCBpZiBpdCBhY2NlcHRzIGNoaWxkcmVuIGFzIGFcbiAgICAvLyBwcm9wZXJ0eSwgaXQgbWF5IGJlIHRoZSBjcmVhdG9yIG9mIHRoZSBjaGlsZCB0aGF0J3MgcmVzcG9uc2libGUgZm9yXG4gICAgLy8gYXNzaWduaW5nIGl0IGEga2V5LlxuXG4gICAgdmFyIGNoaWxkT3duZXIgPSAnJztcblxuICAgIGlmIChlbGVtZW50ICYmIGVsZW1lbnQuX293bmVyICYmIGVsZW1lbnQuX293bmVyICE9PSBSZWFjdEN1cnJlbnRPd25lciQxLmN1cnJlbnQpIHtcbiAgICAgIC8vIEdpdmUgdGhlIGNvbXBvbmVudCB0aGF0IG9yaWdpbmFsbHkgY3JlYXRlZCB0aGlzIGNoaWxkLlxuICAgICAgY2hpbGRPd25lciA9IFwiIEl0IHdhcyBwYXNzZWQgYSBjaGlsZCBmcm9tIFwiICsgZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKGVsZW1lbnQuX293bmVyLnR5cGUpICsgXCIuXCI7XG4gICAgfVxuXG4gICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShlbGVtZW50KTtcblxuICAgIGVycm9yKCdFYWNoIGNoaWxkIGluIGEgbGlzdCBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBcImtleVwiIHByb3AuJyArICclcyVzIFNlZSBodHRwczovL3JlYWN0anMub3JnL2xpbmsvd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8sIGNoaWxkT3duZXIpO1xuXG4gICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShudWxsKTtcbiAgfVxufVxuLyoqXG4gKiBFbnN1cmUgdGhhdCBldmVyeSBlbGVtZW50IGVpdGhlciBpcyBwYXNzZWQgaW4gYSBzdGF0aWMgbG9jYXRpb24sIGluIGFuXG4gKiBhcnJheSB3aXRoIGFuIGV4cGxpY2l0IGtleXMgcHJvcGVydHkgZGVmaW5lZCwgb3IgaW4gYW4gb2JqZWN0IGxpdGVyYWxcbiAqIHdpdGggdmFsaWQga2V5IHByb3BlcnR5LlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdE5vZGV9IG5vZGUgU3RhdGljYWxseSBwYXNzZWQgY2hpbGQgb2YgYW55IHR5cGUuXG4gKiBAcGFyYW0geyp9IHBhcmVudFR5cGUgbm9kZSdzIHBhcmVudCdzIHR5cGUuXG4gKi9cblxuXG5mdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlLCBwYXJlbnRUeXBlKSB7XG4gIHtcbiAgICBpZiAodHlwZW9mIG5vZGUgIT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzQXJyYXkobm9kZSkpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY2hpbGQgPSBub2RlW2ldO1xuXG4gICAgICAgIGlmIChpc1ZhbGlkRWxlbWVudChjaGlsZCkpIHtcbiAgICAgICAgICB2YWxpZGF0ZUV4cGxpY2l0S2V5KGNoaWxkLCBwYXJlbnRUeXBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNWYWxpZEVsZW1lbnQobm9kZSkpIHtcbiAgICAgIC8vIFRoaXMgZWxlbWVudCB3YXMgcGFzc2VkIGluIGEgdmFsaWQgbG9jYXRpb24uXG4gICAgICBpZiAobm9kZS5fc3RvcmUpIHtcbiAgICAgICAgbm9kZS5fc3RvcmUudmFsaWRhdGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5vZGUpIHtcbiAgICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihub2RlKTtcblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIEVudHJ5IGl0ZXJhdG9ycyB1c2VkIHRvIHByb3ZpZGUgaW1wbGljaXQga2V5cyxcbiAgICAgICAgLy8gYnV0IG5vdyB3ZSBwcmludCBhIHNlcGFyYXRlIHdhcm5pbmcgZm9yIHRoZW0gbGF0ZXIuXG4gICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBub2RlLmVudHJpZXMpIHtcbiAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvckZuLmNhbGwobm9kZSk7XG4gICAgICAgICAgdmFyIHN0ZXA7XG5cbiAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICBpZiAoaXNWYWxpZEVsZW1lbnQoc3RlcC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShzdGVwLnZhbHVlLCBwYXJlbnRUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbi8qKlxuICogR2l2ZW4gYW4gZWxlbWVudCwgdmFsaWRhdGUgdGhhdCBpdHMgcHJvcHMgZm9sbG93IHRoZSBwcm9wVHlwZXMgZGVmaW5pdGlvbixcbiAqIHByb3ZpZGVkIGJ5IHRoZSB0eXBlLlxuICpcbiAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBlbGVtZW50XG4gKi9cblxuXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BUeXBlcyhlbGVtZW50KSB7XG4gIHtcbiAgICB2YXIgdHlwZSA9IGVsZW1lbnQudHlwZTtcblxuICAgIGlmICh0eXBlID09PSBudWxsIHx8IHR5cGUgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgcHJvcFR5cGVzO1xuXG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwcm9wVHlwZXMgPSB0eXBlLnByb3BUeXBlcztcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiAodHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSB8fCAvLyBOb3RlOiBNZW1vIG9ubHkgY2hlY2tzIG91dGVyIHByb3BzIGhlcmUuXG4gICAgLy8gSW5uZXIgcHJvcHMgYXJlIGNoZWNrZWQgaW4gdGhlIHJlY29uY2lsZXIuXG4gICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTUVNT19UWVBFKSkge1xuICAgICAgcHJvcFR5cGVzID0gdHlwZS5wcm9wVHlwZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocHJvcFR5cGVzKSB7XG4gICAgICAvLyBJbnRlbnRpb25hbGx5IGluc2lkZSB0byBhdm9pZCB0cmlnZ2VyaW5nIGxhenkgaW5pdGlhbGl6ZXJzOlxuICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSk7XG4gICAgICBjaGVja1Byb3BUeXBlcyhwcm9wVHlwZXMsIGVsZW1lbnQucHJvcHMsICdwcm9wJywgbmFtZSwgZWxlbWVudCk7XG4gICAgfSBlbHNlIGlmICh0eXBlLlByb3BUeXBlcyAhPT0gdW5kZWZpbmVkICYmICFwcm9wVHlwZXNNaXNzcGVsbFdhcm5pbmdTaG93bikge1xuICAgICAgcHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd24gPSB0cnVlOyAvLyBJbnRlbnRpb25hbGx5IGluc2lkZSB0byBhdm9pZCB0cmlnZ2VyaW5nIGxhenkgaW5pdGlhbGl6ZXJzOlxuXG4gICAgICB2YXIgX25hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSk7XG5cbiAgICAgIGVycm9yKCdDb21wb25lbnQgJXMgZGVjbGFyZWQgYFByb3BUeXBlc2AgaW5zdGVhZCBvZiBgcHJvcFR5cGVzYC4gRGlkIHlvdSBtaXNzcGVsbCB0aGUgcHJvcGVydHkgYXNzaWdubWVudD8nLCBfbmFtZSB8fCAnVW5rbm93bicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdHlwZS5nZXREZWZhdWx0UHJvcHMgPT09ICdmdW5jdGlvbicgJiYgIXR5cGUuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkKSB7XG4gICAgICBlcnJvcignZ2V0RGVmYXVsdFByb3BzIGlzIG9ubHkgdXNlZCBvbiBjbGFzc2ljIFJlYWN0LmNyZWF0ZUNsYXNzICcgKyAnZGVmaW5pdGlvbnMuIFVzZSBhIHN0YXRpYyBwcm9wZXJ0eSBuYW1lZCBgZGVmYXVsdFByb3BzYCBpbnN0ZWFkLicpO1xuICAgIH1cbiAgfVxufVxuLyoqXG4gKiBHaXZlbiBhIGZyYWdtZW50LCB2YWxpZGF0ZSB0aGF0IGl0IGNhbiBvbmx5IGJlIHByb3ZpZGVkIHdpdGggZnJhZ21lbnQgcHJvcHNcbiAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBmcmFnbWVudFxuICovXG5cblxuZnVuY3Rpb24gdmFsaWRhdGVGcmFnbWVudFByb3BzKGZyYWdtZW50KSB7XG4gIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGZyYWdtZW50LnByb3BzKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG5cbiAgICAgIGlmIChrZXkgIT09ICdjaGlsZHJlbicgJiYga2V5ICE9PSAna2V5Jykge1xuICAgICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCQxKGZyYWdtZW50KTtcblxuICAgICAgICBlcnJvcignSW52YWxpZCBwcm9wIGAlc2Agc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC4gJyArICdSZWFjdC5GcmFnbWVudCBjYW4gb25seSBoYXZlIGBrZXlgIGFuZCBgY2hpbGRyZW5gIHByb3BzLicsIGtleSk7XG5cbiAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShudWxsKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZyYWdtZW50LnJlZiAhPT0gbnVsbCkge1xuICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShmcmFnbWVudCk7XG5cbiAgICAgIGVycm9yKCdJbnZhbGlkIGF0dHJpYnV0ZSBgcmVmYCBzdXBwbGllZCB0byBgUmVhY3QuRnJhZ21lbnRgLicpO1xuXG4gICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCQxKG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgZGlkV2FybkFib3V0S2V5U3ByZWFkID0ge307XG5mdW5jdGlvbiBqc3hXaXRoVmFsaWRhdGlvbih0eXBlLCBwcm9wcywga2V5LCBpc1N0YXRpY0NoaWxkcmVuLCBzb3VyY2UsIHNlbGYpIHtcbiAge1xuICAgIHZhciB2YWxpZFR5cGUgPSBpc1ZhbGlkRWxlbWVudFR5cGUodHlwZSk7IC8vIFdlIHdhcm4gaW4gdGhpcyBjYXNlIGJ1dCBkb24ndCB0aHJvdy4gV2UgZXhwZWN0IHRoZSBlbGVtZW50IGNyZWF0aW9uIHRvXG4gICAgLy8gc3VjY2VlZCBhbmQgdGhlcmUgd2lsbCBsaWtlbHkgYmUgZXJyb3JzIGluIHJlbmRlci5cblxuICAgIGlmICghdmFsaWRUeXBlKSB7XG4gICAgICB2YXIgaW5mbyA9ICcnO1xuXG4gICAgICBpZiAodHlwZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsICYmIE9iamVjdC5rZXlzKHR5cGUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBpbmZvICs9ICcgWW91IGxpa2VseSBmb3Jnb3QgdG8gZXhwb3J0IHlvdXIgY29tcG9uZW50IGZyb20gdGhlIGZpbGUgJyArIFwiaXQncyBkZWZpbmVkIGluLCBvciB5b3UgbWlnaHQgaGF2ZSBtaXhlZCB1cCBkZWZhdWx0IGFuZCBuYW1lZCBpbXBvcnRzLlwiO1xuICAgICAgfVxuXG4gICAgICB2YXIgc291cmNlSW5mbyA9IGdldFNvdXJjZUluZm9FcnJvckFkZGVuZHVtKHNvdXJjZSk7XG5cbiAgICAgIGlmIChzb3VyY2VJbmZvKSB7XG4gICAgICAgIGluZm8gKz0gc291cmNlSW5mbztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluZm8gKz0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciB0eXBlU3RyaW5nO1xuXG4gICAgICBpZiAodHlwZSA9PT0gbnVsbCkge1xuICAgICAgICB0eXBlU3RyaW5nID0gJ251bGwnO1xuICAgICAgfSBlbHNlIGlmIChpc0FycmF5KHR5cGUpKSB7XG4gICAgICAgIHR5cGVTdHJpbmcgPSAnYXJyYXknO1xuICAgICAgfSBlbHNlIGlmICh0eXBlICE9PSB1bmRlZmluZWQgJiYgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFKSB7XG4gICAgICAgIHR5cGVTdHJpbmcgPSBcIjxcIiArIChnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZS50eXBlKSB8fCAnVW5rbm93bicpICsgXCIgLz5cIjtcbiAgICAgICAgaW5mbyA9ICcgRGlkIHlvdSBhY2NpZGVudGFsbHkgZXhwb3J0IGEgSlNYIGxpdGVyYWwgaW5zdGVhZCBvZiBhIGNvbXBvbmVudD8nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHlwZVN0cmluZyA9IHR5cGVvZiB0eXBlO1xuICAgICAgfVxuXG4gICAgICBlcnJvcignUmVhY3QuanN4OiB0eXBlIGlzIGludmFsaWQgLS0gZXhwZWN0ZWQgYSBzdHJpbmcgKGZvciAnICsgJ2J1aWx0LWluIGNvbXBvbmVudHMpIG9yIGEgY2xhc3MvZnVuY3Rpb24gKGZvciBjb21wb3NpdGUgJyArICdjb21wb25lbnRzKSBidXQgZ290OiAlcy4lcycsIHR5cGVTdHJpbmcsIGluZm8pO1xuICAgIH1cblxuICAgIHZhciBlbGVtZW50ID0ganN4REVWKHR5cGUsIHByb3BzLCBrZXksIHNvdXJjZSwgc2VsZik7IC8vIFRoZSByZXN1bHQgY2FuIGJlIG51bGxpc2ggaWYgYSBtb2NrIG9yIGEgY3VzdG9tIGZ1bmN0aW9uIGlzIHVzZWQuXG4gICAgLy8gVE9ETzogRHJvcCB0aGlzIHdoZW4gdGhlc2UgYXJlIG5vIGxvbmdlciBhbGxvd2VkIGFzIHRoZSB0eXBlIGFyZ3VtZW50LlxuXG4gICAgaWYgKGVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfSAvLyBTa2lwIGtleSB3YXJuaW5nIGlmIHRoZSB0eXBlIGlzbid0IHZhbGlkIHNpbmNlIG91ciBrZXkgdmFsaWRhdGlvbiBsb2dpY1xuICAgIC8vIGRvZXNuJ3QgZXhwZWN0IGEgbm9uLXN0cmluZy9mdW5jdGlvbiB0eXBlIGFuZCBjYW4gdGhyb3cgY29uZnVzaW5nIGVycm9ycy5cbiAgICAvLyBXZSBkb24ndCB3YW50IGV4Y2VwdGlvbiBiZWhhdmlvciB0byBkaWZmZXIgYmV0d2VlbiBkZXYgYW5kIHByb2QuXG4gICAgLy8gKFJlbmRlcmluZyB3aWxsIHRocm93IHdpdGggYSBoZWxwZnVsIG1lc3NhZ2UgYW5kIGFzIHNvb24gYXMgdGhlIHR5cGUgaXNcbiAgICAvLyBmaXhlZCwgdGhlIGtleSB3YXJuaW5ncyB3aWxsIGFwcGVhci4pXG5cblxuICAgIGlmICh2YWxpZFR5cGUpIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xuXG4gICAgICBpZiAoY2hpbGRyZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoaXNTdGF0aWNDaGlsZHJlbikge1xuICAgICAgICAgIGlmIChpc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICB2YWxpZGF0ZUNoaWxkS2V5cyhjaGlsZHJlbltpXSwgdHlwZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChPYmplY3QuZnJlZXplKSB7XG4gICAgICAgICAgICAgIE9iamVjdC5mcmVlemUoY2hpbGRyZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlcnJvcignUmVhY3QuanN4OiBTdGF0aWMgY2hpbGRyZW4gc2hvdWxkIGFsd2F5cyBiZSBhbiBhcnJheS4gJyArICdZb3UgYXJlIGxpa2VseSBleHBsaWNpdGx5IGNhbGxpbmcgUmVhY3QuanN4cyBvciBSZWFjdC5qc3hERVYuICcgKyAnVXNlIHRoZSBCYWJlbCB0cmFuc2Zvcm0gaW5zdGVhZC4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW4sIHR5cGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocHJvcHMsICdrZXknKSkge1xuICAgICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKTtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wcykuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgcmV0dXJuIGsgIT09ICdrZXknO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGJlZm9yZUV4YW1wbGUgPSBrZXlzLmxlbmd0aCA+IDAgPyAne2tleTogc29tZUtleSwgJyArIGtleXMuam9pbignOiAuLi4sICcpICsgJzogLi4ufScgOiAne2tleTogc29tZUtleX0nO1xuXG4gICAgICAgIGlmICghZGlkV2FybkFib3V0S2V5U3ByZWFkW2NvbXBvbmVudE5hbWUgKyBiZWZvcmVFeGFtcGxlXSkge1xuICAgICAgICAgIHZhciBhZnRlckV4YW1wbGUgPSBrZXlzLmxlbmd0aCA+IDAgPyAneycgKyBrZXlzLmpvaW4oJzogLi4uLCAnKSArICc6IC4uLn0nIDogJ3t9JztcblxuICAgICAgICAgIGVycm9yKCdBIHByb3BzIG9iamVjdCBjb250YWluaW5nIGEgXCJrZXlcIiBwcm9wIGlzIGJlaW5nIHNwcmVhZCBpbnRvIEpTWDpcXG4nICsgJyAgbGV0IHByb3BzID0gJXM7XFxuJyArICcgIDwlcyB7Li4ucHJvcHN9IC8+XFxuJyArICdSZWFjdCBrZXlzIG11c3QgYmUgcGFzc2VkIGRpcmVjdGx5IHRvIEpTWCB3aXRob3V0IHVzaW5nIHNwcmVhZDpcXG4nICsgJyAgbGV0IHByb3BzID0gJXM7XFxuJyArICcgIDwlcyBrZXk9e3NvbWVLZXl9IHsuLi5wcm9wc30gLz4nLCBiZWZvcmVFeGFtcGxlLCBjb21wb25lbnROYW1lLCBhZnRlckV4YW1wbGUsIGNvbXBvbmVudE5hbWUpO1xuXG4gICAgICAgICAgZGlkV2FybkFib3V0S2V5U3ByZWFkW2NvbXBvbmVudE5hbWUgKyBiZWZvcmVFeGFtcGxlXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSkge1xuICAgICAgdmFsaWRhdGVGcmFnbWVudFByb3BzKGVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWxpZGF0ZVByb3BUeXBlcyhlbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxufSAvLyBUaGVzZSB0d28gZnVuY3Rpb25zIGV4aXN0IHRvIHN0aWxsIGdldCBjaGlsZCB3YXJuaW5ncyBpbiBkZXZcblxudmFyIGpzeERFViQxID0gIGpzeFdpdGhWYWxpZGF0aW9uIDtcblxuZXhwb3J0cy5GcmFnbWVudCA9IFJFQUNUX0ZSQUdNRU5UX1RZUEU7XG5leHBvcnRzLmpzeERFViA9IGpzeERFViQxO1xuICB9KSgpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react/cjs/react-jsx-dev-runtime.development.js\n"));

/***/ }),

/***/ "./node_modules/react/jsx-dev-runtime.js":
/*!***********************************************!*\
  !*** ./node_modules/react/jsx-dev-runtime.js ***!
  \***********************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-jsx-dev-runtime.development.js */ \"./node_modules/react/cjs/react-jsx-dev-runtime.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QvanN4LWRldi1ydW50aW1lLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsRUFBRSx1SkFBc0U7QUFDeEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2pzeC1kZXYtcnVudGltZS5qcz81Nzc3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1qc3gtZGV2LXJ1bnRpbWUucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzJyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react/jsx-dev-runtime.js\n"));

/***/ }),

/***/ "./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js":
/*!*************************************************************************!*\
  !*** ./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof __webpack_require__.g !== 'undefined' && __webpack_require__.g.Math === Math) {\r\n        return __webpack_require__.g;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (index);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVzaXplLW9ic2VydmVyLXBvbHlmaWxsL2Rpc3QvUmVzaXplT2JzZXJ2ZXIuZXMuanMiLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGNBQWM7QUFDN0IsZUFBZSxHQUFHO0FBQ2xCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLG1CQUFtQixHQUFHO0FBQ3RCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixHQUFHO0FBQ3RCLG1CQUFtQixHQUFHO0FBQ3RCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLEdBQUc7QUFDdEIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixHQUFHO0FBQ3RCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsVUFBVTtBQUM3QixtQkFBbUIsR0FBRztBQUN0QixxQkFBcUI7QUFDckI7QUFDQTtBQUNBLGtDQUFrQztBQUNsQyxvREFBb0QsZ0JBQWdCO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxxQkFBTSxv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QUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx3QkFBd0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCwrREFBZSxLQUFLLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3Jlc2l6ZS1vYnNlcnZlci1wb2x5ZmlsbC9kaXN0L1Jlc2l6ZU9ic2VydmVyLmVzLmpzP2YzNDciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEEgY29sbGVjdGlvbiBvZiBzaGltcyB0aGF0IHByb3ZpZGUgbWluaW1hbCBmdW5jdGlvbmFsaXR5IG9mIHRoZSBFUzYgY29sbGVjdGlvbnMuXHJcbiAqXHJcbiAqIFRoZXNlIGltcGxlbWVudGF0aW9ucyBhcmUgbm90IG1lYW50IHRvIGJlIHVzZWQgb3V0c2lkZSBvZiB0aGUgUmVzaXplT2JzZXJ2ZXJcclxuICogbW9kdWxlcyBhcyB0aGV5IGNvdmVyIG9ubHkgYSBsaW1pdGVkIHJhbmdlIG9mIHVzZSBjYXNlcy5cclxuICovXHJcbi8qIGVzbGludC1kaXNhYmxlIHJlcXVpcmUtanNkb2MsIHZhbGlkLWpzZG9jICovXHJcbnZhciBNYXBTaGltID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICh0eXBlb2YgTWFwICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybiBNYXA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgaW5kZXggaW4gcHJvdmlkZWQgYXJyYXkgdGhhdCBtYXRjaGVzIHRoZSBzcGVjaWZpZWQga2V5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7QXJyYXk8QXJyYXk+fSBhcnJcclxuICAgICAqIEBwYXJhbSB7Kn0ga2V5XHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRJbmRleChhcnIsIGtleSkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSAtMTtcclxuICAgICAgICBhcnIuc29tZShmdW5jdGlvbiAoZW50cnksIGluZGV4KSB7XHJcbiAgICAgICAgICAgIGlmIChlbnRyeVswXSA9PT0ga2V5KSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBjbGFzc18xKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9fZW50cmllc19fID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjbGFzc18xLnByb3RvdHlwZSwgXCJzaXplXCIsIHtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fX2VudHJpZXNfXy5sZW5ndGg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0ga2V5XHJcbiAgICAgICAgICogQHJldHVybnMgeyp9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBnZXRJbmRleCh0aGlzLl9fZW50cmllc19fLCBrZXkpO1xyXG4gICAgICAgICAgICB2YXIgZW50cnkgPSB0aGlzLl9fZW50cmllc19fW2luZGV4XTtcclxuICAgICAgICAgICAgcmV0dXJuIGVudHJ5ICYmIGVudHJ5WzFdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHBhcmFtIHsqfSBrZXlcclxuICAgICAgICAgKiBAcGFyYW0geyp9IHZhbHVlXHJcbiAgICAgICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXgodGhpcy5fX2VudHJpZXNfXywga2V5KTtcclxuICAgICAgICAgICAgaWYgKH5pbmRleCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fX2VudHJpZXNfX1tpbmRleF1bMV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX19lbnRyaWVzX18ucHVzaChba2V5LCB2YWx1ZV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcGFyYW0geyp9IGtleVxyXG4gICAgICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgdmFyIGVudHJpZXMgPSB0aGlzLl9fZW50cmllc19fO1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBnZXRJbmRleChlbnRyaWVzLCBrZXkpO1xyXG4gICAgICAgICAgICBpZiAofmluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICBlbnRyaWVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0ga2V5XHJcbiAgICAgICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gISF+Z2V0SW5kZXgodGhpcy5fX2VudHJpZXNfXywga2V5KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9fZW50cmllc19fLnNwbGljZSgwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAgICAgICAgICogQHBhcmFtIHsqfSBbY3R4PW51bGxdXHJcbiAgICAgICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgY3R4KSB7XHJcbiAgICAgICAgICAgIGlmIChjdHggPT09IHZvaWQgMCkgeyBjdHggPSBudWxsOyB9XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLl9fZW50cmllc19fOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChjdHgsIGVudHJ5WzFdLCBlbnRyeVswXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBjbGFzc18xO1xyXG4gICAgfSgpKTtcclxufSkoKTtcblxuLyoqXHJcbiAqIERldGVjdHMgd2hldGhlciB3aW5kb3cgYW5kIGRvY3VtZW50IG9iamVjdHMgYXJlIGF2YWlsYWJsZSBpbiBjdXJyZW50IGVudmlyb25tZW50LlxyXG4gKi9cclxudmFyIGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ID09PSBkb2N1bWVudDtcblxuLy8gUmV0dXJucyBnbG9iYWwgb2JqZWN0IG9mIGEgY3VycmVudCBlbnZpcm9ubWVudC5cclxudmFyIGdsb2JhbCQxID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWwuTWF0aCA9PT0gTWF0aCkge1xyXG4gICAgICAgIHJldHVybiBnbG9iYWw7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PT0gTWF0aCkge1xyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09PSBNYXRoKSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcclxuICAgIH1cclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xyXG4gICAgcmV0dXJuIEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XHJcbn0pKCk7XG5cbi8qKlxyXG4gKiBBIHNoaW0gZm9yIHRoZSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgd2hpY2ggZmFsbHMgYmFjayB0byB0aGUgc2V0VGltZW91dCBpZlxyXG4gKiBmaXJzdCBvbmUgaXMgbm90IHN1cHBvcnRlZC5cclxuICpcclxuICogQHJldHVybnMge251bWJlcn0gUmVxdWVzdHMnIGlkZW50aWZpZXIuXHJcbiAqL1xyXG52YXIgcmVxdWVzdEFuaW1hdGlvbkZyYW1lJDEgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAvLyBJdCdzIHJlcXVpcmVkIHRvIHVzZSBhIGJvdW5kZWQgZnVuY3Rpb24gYmVjYXVzZSBJRSBzb21ldGltZXMgdGhyb3dzXHJcbiAgICAgICAgLy8gYW4gXCJJbnZhbGlkIGNhbGxpbmcgb2JqZWN0XCIgZXJyb3IgaWYgckFGIGlzIGludm9rZWQgd2l0aG91dCB0aGUgZ2xvYmFsXHJcbiAgICAgICAgLy8gb2JqZWN0IG9uIHRoZSBsZWZ0IGhhbmQgc2lkZS5cclxuICAgICAgICByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQoZ2xvYmFsJDEpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChjYWxsYmFjaykgeyByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBjYWxsYmFjayhEYXRlLm5vdygpKTsgfSwgMTAwMCAvIDYwKTsgfTtcclxufSkoKTtcblxuLy8gRGVmaW5lcyBtaW5pbXVtIHRpbWVvdXQgYmVmb3JlIGFkZGluZyBhIHRyYWlsaW5nIGNhbGwuXHJcbnZhciB0cmFpbGluZ1RpbWVvdXQgPSAyO1xyXG4vKipcclxuICogQ3JlYXRlcyBhIHdyYXBwZXIgZnVuY3Rpb24gd2hpY2ggZW5zdXJlcyB0aGF0IHByb3ZpZGVkIGNhbGxiYWNrIHdpbGwgYmVcclxuICogaW52b2tlZCBvbmx5IG9uY2UgZHVyaW5nIHRoZSBzcGVjaWZpZWQgZGVsYXkgcGVyaW9kLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmN0aW9uIHRvIGJlIGludm9rZWQgYWZ0ZXIgdGhlIGRlbGF5IHBlcmlvZC5cclxuICogQHBhcmFtIHtudW1iZXJ9IGRlbGF5IC0gRGVsYXkgYWZ0ZXIgd2hpY2ggdG8gaW52b2tlIGNhbGxiYWNrLlxyXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XHJcbiAqL1xyXG5mdW5jdGlvbiB0aHJvdHRsZSAoY2FsbGJhY2ssIGRlbGF5KSB7XHJcbiAgICB2YXIgbGVhZGluZ0NhbGwgPSBmYWxzZSwgdHJhaWxpbmdDYWxsID0gZmFsc2UsIGxhc3RDYWxsVGltZSA9IDA7XHJcbiAgICAvKipcclxuICAgICAqIEludm9rZXMgdGhlIG9yaWdpbmFsIGNhbGxiYWNrIGZ1bmN0aW9uIGFuZCBzY2hlZHVsZXMgbmV3IGludm9jYXRpb24gaWZcclxuICAgICAqIHRoZSBcInByb3h5XCIgd2FzIGNhbGxlZCBkdXJpbmcgY3VycmVudCByZXF1ZXN0LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiByZXNvbHZlUGVuZGluZygpIHtcclxuICAgICAgICBpZiAobGVhZGluZ0NhbGwpIHtcclxuICAgICAgICAgICAgbGVhZGluZ0NhbGwgPSBmYWxzZTtcclxuICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRyYWlsaW5nQ2FsbCkge1xyXG4gICAgICAgICAgICBwcm94eSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGJhY2sgaW52b2tlZCBhZnRlciB0aGUgc3BlY2lmaWVkIGRlbGF5LiBJdCB3aWxsIGZ1cnRoZXIgcG9zdHBvbmVcclxuICAgICAqIGludm9jYXRpb24gb2YgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uIGRlbGVnYXRpbmcgaXQgdG8gdGhlXHJcbiAgICAgKiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHRpbWVvdXRDYWxsYmFjaygpIHtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUkMShyZXNvbHZlUGVuZGluZyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNjaGVkdWxlcyBpbnZvY2F0aW9uIG9mIHRoZSBvcmlnaW5hbCBmdW5jdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gcHJveHkoKSB7XHJcbiAgICAgICAgdmFyIHRpbWVTdGFtcCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgaWYgKGxlYWRpbmdDYWxsKSB7XHJcbiAgICAgICAgICAgIC8vIFJlamVjdCBpbW1lZGlhdGVseSBmb2xsb3dpbmcgY2FsbHMuXHJcbiAgICAgICAgICAgIGlmICh0aW1lU3RhbXAgLSBsYXN0Q2FsbFRpbWUgPCB0cmFpbGluZ1RpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBTY2hlZHVsZSBuZXcgY2FsbCB0byBiZSBpbiBpbnZva2VkIHdoZW4gdGhlIHBlbmRpbmcgb25lIGlzIHJlc29sdmVkLlxyXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGltcG9ydGFudCBmb3IgXCJ0cmFuc2l0aW9uc1wiIHdoaWNoIG5ldmVyIGFjdHVhbGx5IHN0YXJ0XHJcbiAgICAgICAgICAgIC8vIGltbWVkaWF0ZWx5IHNvIHRoZXJlIGlzIGEgY2hhbmNlIHRoYXQgd2UgbWlnaHQgbWlzcyBvbmUgaWYgY2hhbmdlXHJcbiAgICAgICAgICAgIC8vIGhhcHBlbnMgYW1pZHMgdGhlIHBlbmRpbmcgaW52b2NhdGlvbi5cclxuICAgICAgICAgICAgdHJhaWxpbmdDYWxsID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxlYWRpbmdDYWxsID0gdHJ1ZTtcclxuICAgICAgICAgICAgdHJhaWxpbmdDYWxsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQodGltZW91dENhbGxiYWNrLCBkZWxheSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxhc3RDYWxsVGltZSA9IHRpbWVTdGFtcDtcclxuICAgIH1cclxuICAgIHJldHVybiBwcm94eTtcclxufVxuXG4vLyBNaW5pbXVtIGRlbGF5IGJlZm9yZSBpbnZva2luZyB0aGUgdXBkYXRlIG9mIG9ic2VydmVycy5cclxudmFyIFJFRlJFU0hfREVMQVkgPSAyMDtcclxuLy8gQSBsaXN0IG9mIHN1YnN0cmluZ3Mgb2YgQ1NTIHByb3BlcnRpZXMgdXNlZCB0byBmaW5kIHRyYW5zaXRpb24gZXZlbnRzIHRoYXRcclxuLy8gbWlnaHQgYWZmZWN0IGRpbWVuc2lvbnMgb2Ygb2JzZXJ2ZWQgZWxlbWVudHMuXHJcbnZhciB0cmFuc2l0aW9uS2V5cyA9IFsndG9wJywgJ3JpZ2h0JywgJ2JvdHRvbScsICdsZWZ0JywgJ3dpZHRoJywgJ2hlaWdodCcsICdzaXplJywgJ3dlaWdodCddO1xyXG4vLyBDaGVjayBpZiBNdXRhdGlvbk9ic2VydmVyIGlzIGF2YWlsYWJsZS5cclxudmFyIG11dGF0aW9uT2JzZXJ2ZXJTdXBwb3J0ZWQgPSB0eXBlb2YgTXV0YXRpb25PYnNlcnZlciAhPT0gJ3VuZGVmaW5lZCc7XHJcbi8qKlxyXG4gKiBTaW5nbGV0b24gY29udHJvbGxlciBjbGFzcyB3aGljaCBoYW5kbGVzIHVwZGF0ZXMgb2YgUmVzaXplT2JzZXJ2ZXIgaW5zdGFuY2VzLlxyXG4gKi9cclxudmFyIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyKCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEluZGljYXRlcyB3aGV0aGVyIERPTSBsaXN0ZW5lcnMgaGF2ZSBiZWVuIGFkZGVkLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGUge2Jvb2xlYW59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRfID0gZmFsc2U7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGVsbHMgdGhhdCBjb250cm9sbGVyIGhhcyBzdWJzY3JpYmVkIGZvciBNdXRhdGlvbiBFdmVudHMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZSB7Ym9vbGVhbn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLm11dGF0aW9uRXZlbnRzQWRkZWRfID0gZmFsc2U7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogS2VlcHMgcmVmZXJlbmNlIHRvIHRoZSBpbnN0YW5jZSBvZiBNdXRhdGlvbk9ic2VydmVyLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGUge011dGF0aW9uT2JzZXJ2ZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5tdXRhdGlvbnNPYnNlcnZlcl8gPSBudWxsO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgbGlzdCBvZiBjb25uZWN0ZWQgb2JzZXJ2ZXJzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGUge0FycmF5PFJlc2l6ZU9ic2VydmVyU1BJPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLm9ic2VydmVyc18gPSBbXTtcclxuICAgICAgICB0aGlzLm9uVHJhbnNpdGlvbkVuZF8gPSB0aGlzLm9uVHJhbnNpdGlvbkVuZF8uYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnJlZnJlc2ggPSB0aHJvdHRsZSh0aGlzLnJlZnJlc2guYmluZCh0aGlzKSwgUkVGUkVTSF9ERUxBWSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgb2JzZXJ2ZXIgdG8gb2JzZXJ2ZXJzIGxpc3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtSZXNpemVPYnNlcnZlclNQSX0gb2JzZXJ2ZXIgLSBPYnNlcnZlciB0byBiZSBhZGRlZC5cclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIucHJvdG90eXBlLmFkZE9ic2VydmVyID0gZnVuY3Rpb24gKG9ic2VydmVyKSB7XHJcbiAgICAgICAgaWYgKCF+dGhpcy5vYnNlcnZlcnNfLmluZGV4T2Yob2JzZXJ2ZXIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXJzXy5wdXNoKG9ic2VydmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQWRkIGxpc3RlbmVycyBpZiB0aGV5IGhhdmVuJ3QgYmVlbiBhZGRlZCB5ZXQuXHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3RlZF8pIHtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0XygpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgb2JzZXJ2ZXIgZnJvbSBvYnNlcnZlcnMgbGlzdC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge1Jlc2l6ZU9ic2VydmVyU1BJfSBvYnNlcnZlciAtIE9ic2VydmVyIHRvIGJlIHJlbW92ZWQuXHJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnByb3RvdHlwZS5yZW1vdmVPYnNlcnZlciA9IGZ1bmN0aW9uIChvYnNlcnZlcikge1xyXG4gICAgICAgIHZhciBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVyc187XHJcbiAgICAgICAgdmFyIGluZGV4ID0gb2JzZXJ2ZXJzLmluZGV4T2Yob2JzZXJ2ZXIpO1xyXG4gICAgICAgIC8vIFJlbW92ZSBvYnNlcnZlciBpZiBpdCdzIHByZXNlbnQgaW4gcmVnaXN0cnkuXHJcbiAgICAgICAgaWYgKH5pbmRleCkge1xyXG4gICAgICAgICAgICBvYnNlcnZlcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmVtb3ZlIGxpc3RlbmVycyBpZiBjb250cm9sbGVyIGhhcyBubyBjb25uZWN0ZWQgb2JzZXJ2ZXJzLlxyXG4gICAgICAgIGlmICghb2JzZXJ2ZXJzLmxlbmd0aCAmJiB0aGlzLmNvbm5lY3RlZF8pIHtcclxuICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0XygpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEludm9rZXMgdGhlIHVwZGF0ZSBvZiBvYnNlcnZlcnMuIEl0IHdpbGwgY29udGludWUgcnVubmluZyB1cGRhdGVzIGluc29mYXJcclxuICAgICAqIGl0IGRldGVjdHMgY2hhbmdlcy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjaGFuZ2VzRGV0ZWN0ZWQgPSB0aGlzLnVwZGF0ZU9ic2VydmVyc18oKTtcclxuICAgICAgICAvLyBDb250aW51ZSBydW5uaW5nIHVwZGF0ZXMgaWYgY2hhbmdlcyBoYXZlIGJlZW4gZGV0ZWN0ZWQgYXMgdGhlcmUgbWlnaHRcclxuICAgICAgICAvLyBiZSBmdXR1cmUgb25lcyBjYXVzZWQgYnkgQ1NTIHRyYW5zaXRpb25zLlxyXG4gICAgICAgIGlmIChjaGFuZ2VzRGV0ZWN0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlcyBldmVyeSBvYnNlcnZlciBmcm9tIG9ic2VydmVycyBsaXN0IGFuZCBub3RpZmllcyB0aGVtIG9mIHF1ZXVlZFxyXG4gICAgICogZW50cmllcy5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgXCJ0cnVlXCIgaWYgYW55IG9ic2VydmVyIGhhcyBkZXRlY3RlZCBjaGFuZ2VzIGluXHJcbiAgICAgKiAgICAgIGRpbWVuc2lvbnMgb2YgaXQncyBlbGVtZW50cy5cclxuICAgICAqL1xyXG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnByb3RvdHlwZS51cGRhdGVPYnNlcnZlcnNfID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIENvbGxlY3Qgb2JzZXJ2ZXJzIHRoYXQgaGF2ZSBhY3RpdmUgb2JzZXJ2YXRpb25zLlxyXG4gICAgICAgIHZhciBhY3RpdmVPYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVyc18uZmlsdGVyKGZ1bmN0aW9uIChvYnNlcnZlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZXIuZ2F0aGVyQWN0aXZlKCksIG9ic2VydmVyLmhhc0FjdGl2ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIERlbGl2ZXIgbm90aWZpY2F0aW9ucyBpbiBhIHNlcGFyYXRlIGN5Y2xlIGluIG9yZGVyIHRvIGF2b2lkIGFueVxyXG4gICAgICAgIC8vIGNvbGxpc2lvbnMgYmV0d2VlbiBvYnNlcnZlcnMsIGUuZy4gd2hlbiBtdWx0aXBsZSBpbnN0YW5jZXMgb2ZcclxuICAgICAgICAvLyBSZXNpemVPYnNlcnZlciBhcmUgdHJhY2tpbmcgdGhlIHNhbWUgZWxlbWVudCBhbmQgdGhlIGNhbGxiYWNrIG9mIG9uZVxyXG4gICAgICAgIC8vIG9mIHRoZW0gY2hhbmdlcyBjb250ZW50IGRpbWVuc2lvbnMgb2YgdGhlIG9ic2VydmVkIHRhcmdldC4gU29tZXRpbWVzXHJcbiAgICAgICAgLy8gdGhpcyBtYXkgcmVzdWx0IGluIG5vdGlmaWNhdGlvbnMgYmVpbmcgYmxvY2tlZCBmb3IgdGhlIHJlc3Qgb2Ygb2JzZXJ2ZXJzLlxyXG4gICAgICAgIGFjdGl2ZU9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIChvYnNlcnZlcikgeyByZXR1cm4gb2JzZXJ2ZXIuYnJvYWRjYXN0QWN0aXZlKCk7IH0pO1xyXG4gICAgICAgIHJldHVybiBhY3RpdmVPYnNlcnZlcnMubGVuZ3RoID4gMDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemVzIERPTSBsaXN0ZW5lcnMuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIucHJvdG90eXBlLmNvbm5lY3RfID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIERvIG5vdGhpbmcgaWYgcnVubmluZyBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50IG9yIGlmIGxpc3RlbmVyc1xyXG4gICAgICAgIC8vIGhhdmUgYmVlbiBhbHJlYWR5IGFkZGVkLlxyXG4gICAgICAgIGlmICghaXNCcm93c2VyIHx8IHRoaXMuY29ubmVjdGVkXykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFN1YnNjcmlwdGlvbiB0byB0aGUgXCJUcmFuc2l0aW9uZW5kXCIgZXZlbnQgaXMgdXNlZCBhcyBhIHdvcmthcm91bmQgZm9yXHJcbiAgICAgICAgLy8gZGVsYXllZCB0cmFuc2l0aW9ucy4gVGhpcyB3YXkgaXQncyBwb3NzaWJsZSB0byBjYXB0dXJlIGF0IGxlYXN0IHRoZVxyXG4gICAgICAgIC8vIGZpbmFsIHN0YXRlIG9mIGFuIGVsZW1lbnQuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHRoaXMub25UcmFuc2l0aW9uRW5kXyk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVmcmVzaCk7XHJcbiAgICAgICAgaWYgKG11dGF0aW9uT2JzZXJ2ZXJTdXBwb3J0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5tdXRhdGlvbnNPYnNlcnZlcl8gPSBuZXcgTXV0YXRpb25PYnNlcnZlcih0aGlzLnJlZnJlc2gpO1xyXG4gICAgICAgICAgICB0aGlzLm11dGF0aW9uc09ic2VydmVyXy5vYnNlcnZlKGRvY3VtZW50LCB7XHJcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHN1YnRyZWU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01TdWJ0cmVlTW9kaWZpZWQnLCB0aGlzLnJlZnJlc2gpO1xyXG4gICAgICAgICAgICB0aGlzLm11dGF0aW9uRXZlbnRzQWRkZWRfID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRfID0gdHJ1ZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgRE9NIGxpc3RlbmVycy5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5wcm90b3R5cGUuZGlzY29ubmVjdF8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gRG8gbm90aGluZyBpZiBydW5uaW5nIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnQgb3IgaWYgbGlzdGVuZXJzXHJcbiAgICAgICAgLy8gaGF2ZSBiZWVuIGFscmVhZHkgcmVtb3ZlZC5cclxuICAgICAgICBpZiAoIWlzQnJvd3NlciB8fCAhdGhpcy5jb25uZWN0ZWRfKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHRoaXMub25UcmFuc2l0aW9uRW5kXyk7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVmcmVzaCk7XHJcbiAgICAgICAgaWYgKHRoaXMubXV0YXRpb25zT2JzZXJ2ZXJfKSB7XHJcbiAgICAgICAgICAgIHRoaXMubXV0YXRpb25zT2JzZXJ2ZXJfLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubXV0YXRpb25FdmVudHNBZGRlZF8pIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignRE9NU3VidHJlZU1vZGlmaWVkJywgdGhpcy5yZWZyZXNoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tdXRhdGlvbnNPYnNlcnZlcl8gPSBudWxsO1xyXG4gICAgICAgIHRoaXMubXV0YXRpb25FdmVudHNBZGRlZF8gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNvbm5lY3RlZF8gPSBmYWxzZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFwiVHJhbnNpdGlvbmVuZFwiIGV2ZW50IGhhbmRsZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBwYXJhbSB7VHJhbnNpdGlvbkV2ZW50fSBldmVudFxyXG4gICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5wcm90b3R5cGUub25UcmFuc2l0aW9uRW5kXyA9IGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgIHZhciBfYiA9IF9hLnByb3BlcnR5TmFtZSwgcHJvcGVydHlOYW1lID0gX2IgPT09IHZvaWQgMCA/ICcnIDogX2I7XHJcbiAgICAgICAgLy8gRGV0ZWN0IHdoZXRoZXIgdHJhbnNpdGlvbiBtYXkgYWZmZWN0IGRpbWVuc2lvbnMgb2YgYW4gZWxlbWVudC5cclxuICAgICAgICB2YXIgaXNSZWZsb3dQcm9wZXJ0eSA9IHRyYW5zaXRpb25LZXlzLnNvbWUoZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gISF+cHJvcGVydHlOYW1lLmluZGV4T2Yoa2V5KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoaXNSZWZsb3dQcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGluc3RhbmNlIG9mIHRoZSBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge1Jlc2l6ZU9ic2VydmVyQ29udHJvbGxlcn1cclxuICAgICAqL1xyXG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmdldEluc3RhbmNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZV8pIHtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZV8gPSBuZXcgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlXztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEhvbGRzIHJlZmVyZW5jZSB0byB0aGUgY29udHJvbGxlcidzIGluc3RhbmNlLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlIHtSZXNpemVPYnNlcnZlckNvbnRyb2xsZXJ9XHJcbiAgICAgKi9cclxuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5pbnN0YW5jZV8gPSBudWxsO1xyXG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcjtcclxufSgpKTtcblxuLyoqXHJcbiAqIERlZmluZXMgbm9uLXdyaXRhYmxlL2VudW1lcmFibGUgcHJvcGVydGllcyBvZiB0aGUgcHJvdmlkZWQgdGFyZ2V0IG9iamVjdC5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCAtIE9iamVjdCBmb3Igd2hpY2ggdG8gZGVmaW5lIHByb3BlcnRpZXMuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIFByb3BlcnRpZXMgdG8gYmUgZGVmaW5lZC5cclxuICogQHJldHVybnMge09iamVjdH0gVGFyZ2V0IG9iamVjdC5cclxuICovXHJcbnZhciBkZWZpbmVDb25maWd1cmFibGUgPSAoZnVuY3Rpb24gKHRhcmdldCwgcHJvcHMpIHtcclxuICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3Qua2V5cyhwcm9wcyk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgdmFyIGtleSA9IF9hW19pXTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHtcclxuICAgICAgICAgICAgdmFsdWU6IHByb3BzW2tleV0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRhcmdldDtcclxufSk7XG5cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBnbG9iYWwgb2JqZWN0IGFzc29jaWF0ZWQgd2l0aCBwcm92aWRlZCBlbGVtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XHJcbiAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAqL1xyXG52YXIgZ2V0V2luZG93T2YgPSAoZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgLy8gQXNzdW1lIHRoYXQgdGhlIGVsZW1lbnQgaXMgYW4gaW5zdGFuY2Ugb2YgTm9kZSwgd2hpY2ggbWVhbnMgdGhhdCBpdFxyXG4gICAgLy8gaGFzIHRoZSBcIm93bmVyRG9jdW1lbnRcIiBwcm9wZXJ0eSBmcm9tIHdoaWNoIHdlIGNhbiByZXRyaWV2ZSBhXHJcbiAgICAvLyBjb3JyZXNwb25kaW5nIGdsb2JhbCBvYmplY3QuXHJcbiAgICB2YXIgb3duZXJHbG9iYWwgPSB0YXJnZXQgJiYgdGFyZ2V0Lm93bmVyRG9jdW1lbnQgJiYgdGFyZ2V0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XHJcbiAgICAvLyBSZXR1cm4gdGhlIGxvY2FsIGdsb2JhbCBvYmplY3QgaWYgaXQncyBub3QgcG9zc2libGUgZXh0cmFjdCBvbmUgZnJvbVxyXG4gICAgLy8gcHJvdmlkZWQgZWxlbWVudC5cclxuICAgIHJldHVybiBvd25lckdsb2JhbCB8fCBnbG9iYWwkMTtcclxufSk7XG5cbi8vIFBsYWNlaG9sZGVyIG9mIGFuIGVtcHR5IGNvbnRlbnQgcmVjdGFuZ2xlLlxyXG52YXIgZW1wdHlSZWN0ID0gY3JlYXRlUmVjdEluaXQoMCwgMCwgMCwgMCk7XHJcbi8qKlxyXG4gKiBDb252ZXJ0cyBwcm92aWRlZCBzdHJpbmcgdG8gYSBudW1iZXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gdmFsdWVcclxuICogQHJldHVybnMge251bWJlcn1cclxuICovXHJcbmZ1bmN0aW9uIHRvRmxvYXQodmFsdWUpIHtcclxuICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKSB8fCAwO1xyXG59XHJcbi8qKlxyXG4gKiBFeHRyYWN0cyBib3JkZXJzIHNpemUgZnJvbSBwcm92aWRlZCBzdHlsZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Q1NTU3R5bGVEZWNsYXJhdGlvbn0gc3R5bGVzXHJcbiAqIEBwYXJhbSB7Li4uc3RyaW5nfSBwb3NpdGlvbnMgLSBCb3JkZXJzIHBvc2l0aW9ucyAodG9wLCByaWdodCwgLi4uKVxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0Qm9yZGVyc1NpemUoc3R5bGVzKSB7XHJcbiAgICB2YXIgcG9zaXRpb25zID0gW107XHJcbiAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIHBvc2l0aW9uc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcclxuICAgIH1cclxuICAgIHJldHVybiBwb3NpdGlvbnMucmVkdWNlKGZ1bmN0aW9uIChzaXplLCBwb3NpdGlvbikge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IHN0eWxlc1snYm9yZGVyLScgKyBwb3NpdGlvbiArICctd2lkdGgnXTtcclxuICAgICAgICByZXR1cm4gc2l6ZSArIHRvRmxvYXQodmFsdWUpO1xyXG4gICAgfSwgMCk7XHJcbn1cclxuLyoqXHJcbiAqIEV4dHJhY3RzIHBhZGRpbmdzIHNpemVzIGZyb20gcHJvdmlkZWQgc3R5bGVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0NTU1N0eWxlRGVjbGFyYXRpb259IHN0eWxlc1xyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBQYWRkaW5ncyBib3guXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRQYWRkaW5ncyhzdHlsZXMpIHtcclxuICAgIHZhciBwb3NpdGlvbnMgPSBbJ3RvcCcsICdyaWdodCcsICdib3R0b20nLCAnbGVmdCddO1xyXG4gICAgdmFyIHBhZGRpbmdzID0ge307XHJcbiAgICBmb3IgKHZhciBfaSA9IDAsIHBvc2l0aW9uc18xID0gcG9zaXRpb25zOyBfaSA8IHBvc2l0aW9uc18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHBvc2l0aW9uc18xW19pXTtcclxuICAgICAgICB2YXIgdmFsdWUgPSBzdHlsZXNbJ3BhZGRpbmctJyArIHBvc2l0aW9uXTtcclxuICAgICAgICBwYWRkaW5nc1twb3NpdGlvbl0gPSB0b0Zsb2F0KHZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwYWRkaW5ncztcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyBjb250ZW50IHJlY3RhbmdsZSBvZiBwcm92aWRlZCBTVkcgZWxlbWVudC5cclxuICpcclxuICogQHBhcmFtIHtTVkdHcmFwaGljc0VsZW1lbnR9IHRhcmdldCAtIEVsZW1lbnQgY29udGVudCByZWN0YW5nbGUgb2Ygd2hpY2ggbmVlZHNcclxuICogICAgICB0byBiZSBjYWxjdWxhdGVkLlxyXG4gKiBAcmV0dXJucyB7RE9NUmVjdEluaXR9XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRTVkdDb250ZW50UmVjdCh0YXJnZXQpIHtcclxuICAgIHZhciBiYm94ID0gdGFyZ2V0LmdldEJCb3goKTtcclxuICAgIHJldHVybiBjcmVhdGVSZWN0SW5pdCgwLCAwLCBiYm94LndpZHRoLCBiYm94LmhlaWdodCk7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgY29udGVudCByZWN0YW5nbGUgb2YgcHJvdmlkZWQgSFRNTEVsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldCAtIEVsZW1lbnQgZm9yIHdoaWNoIHRvIGNhbGN1bGF0ZSB0aGUgY29udGVudCByZWN0YW5nbGUuXHJcbiAqIEByZXR1cm5zIHtET01SZWN0SW5pdH1cclxuICovXHJcbmZ1bmN0aW9uIGdldEhUTUxFbGVtZW50Q29udGVudFJlY3QodGFyZ2V0KSB7XHJcbiAgICAvLyBDbGllbnQgd2lkdGggJiBoZWlnaHQgcHJvcGVydGllcyBjYW4ndCBiZVxyXG4gICAgLy8gdXNlZCBleGNsdXNpdmVseSBhcyB0aGV5IHByb3ZpZGUgcm91bmRlZCB2YWx1ZXMuXHJcbiAgICB2YXIgY2xpZW50V2lkdGggPSB0YXJnZXQuY2xpZW50V2lkdGgsIGNsaWVudEhlaWdodCA9IHRhcmdldC5jbGllbnRIZWlnaHQ7XHJcbiAgICAvLyBCeSB0aGlzIGNvbmRpdGlvbiB3ZSBjYW4gY2F0Y2ggYWxsIG5vbi1yZXBsYWNlZCBpbmxpbmUsIGhpZGRlbiBhbmRcclxuICAgIC8vIGRldGFjaGVkIGVsZW1lbnRzLiBUaG91Z2ggZWxlbWVudHMgd2l0aCB3aWR0aCAmIGhlaWdodCBwcm9wZXJ0aWVzIGxlc3NcclxuICAgIC8vIHRoYW4gMC41IHdpbGwgYmUgZGlzY2FyZGVkIGFzIHdlbGwuXHJcbiAgICAvL1xyXG4gICAgLy8gV2l0aG91dCBpdCB3ZSB3b3VsZCBuZWVkIHRvIGltcGxlbWVudCBzZXBhcmF0ZSBtZXRob2RzIGZvciBlYWNoIG9mXHJcbiAgICAvLyB0aG9zZSBjYXNlcyBhbmQgaXQncyBub3QgcG9zc2libGUgdG8gcGVyZm9ybSBhIHByZWNpc2UgYW5kIHBlcmZvcm1hbmNlXHJcbiAgICAvLyBlZmZlY3RpdmUgdGVzdCBmb3IgaGlkZGVuIGVsZW1lbnRzLiBFLmcuIGV2ZW4galF1ZXJ5J3MgJzp2aXNpYmxlJyBmaWx0ZXJcclxuICAgIC8vIGdpdmVzIHdyb25nIHJlc3VsdHMgZm9yIGVsZW1lbnRzIHdpdGggd2lkdGggJiBoZWlnaHQgbGVzcyB0aGFuIDAuNS5cclxuICAgIGlmICghY2xpZW50V2lkdGggJiYgIWNsaWVudEhlaWdodCkge1xyXG4gICAgICAgIHJldHVybiBlbXB0eVJlY3Q7XHJcbiAgICB9XHJcbiAgICB2YXIgc3R5bGVzID0gZ2V0V2luZG93T2YodGFyZ2V0KS5nZXRDb21wdXRlZFN0eWxlKHRhcmdldCk7XHJcbiAgICB2YXIgcGFkZGluZ3MgPSBnZXRQYWRkaW5ncyhzdHlsZXMpO1xyXG4gICAgdmFyIGhvcml6UGFkID0gcGFkZGluZ3MubGVmdCArIHBhZGRpbmdzLnJpZ2h0O1xyXG4gICAgdmFyIHZlcnRQYWQgPSBwYWRkaW5ncy50b3AgKyBwYWRkaW5ncy5ib3R0b207XHJcbiAgICAvLyBDb21wdXRlZCBzdHlsZXMgb2Ygd2lkdGggJiBoZWlnaHQgYXJlIGJlaW5nIHVzZWQgYmVjYXVzZSB0aGV5IGFyZSB0aGVcclxuICAgIC8vIG9ubHkgZGltZW5zaW9ucyBhdmFpbGFibGUgdG8gSlMgdGhhdCBjb250YWluIG5vbi1yb3VuZGVkIHZhbHVlcy4gSXQgY291bGRcclxuICAgIC8vIGJlIHBvc3NpYmxlIHRvIHV0aWxpemUgdGhlIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBpZiBvbmx5IGl0J3MgZGF0YSB3YXNuJ3RcclxuICAgIC8vIGFmZmVjdGVkIGJ5IENTUyB0cmFuc2Zvcm1hdGlvbnMgbGV0IGFsb25lIHBhZGRpbmdzLCBib3JkZXJzIGFuZCBzY3JvbGwgYmFycy5cclxuICAgIHZhciB3aWR0aCA9IHRvRmxvYXQoc3R5bGVzLndpZHRoKSwgaGVpZ2h0ID0gdG9GbG9hdChzdHlsZXMuaGVpZ2h0KTtcclxuICAgIC8vIFdpZHRoICYgaGVpZ2h0IGluY2x1ZGUgcGFkZGluZ3MgYW5kIGJvcmRlcnMgd2hlbiB0aGUgJ2JvcmRlci1ib3gnIGJveFxyXG4gICAgLy8gbW9kZWwgaXMgYXBwbGllZCAoZXhjZXB0IGZvciBJRSkuXHJcbiAgICBpZiAoc3R5bGVzLmJveFNpemluZyA9PT0gJ2JvcmRlci1ib3gnKSB7XHJcbiAgICAgICAgLy8gRm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIHJlcXVpcmVkIHRvIGhhbmRsZSBJbnRlcm5ldCBFeHBsb3JlciB3aGljaFxyXG4gICAgICAgIC8vIGRvZXNuJ3QgaW5jbHVkZSBwYWRkaW5ncyBhbmQgYm9yZGVycyB0byBjb21wdXRlZCBDU1MgZGltZW5zaW9ucy5cclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIFdlIGNhbiBzYXkgdGhhdCBpZiBDU1MgZGltZW5zaW9ucyArIHBhZGRpbmdzIGFyZSBlcXVhbCB0byB0aGUgXCJjbGllbnRcIlxyXG4gICAgICAgIC8vIHByb3BlcnRpZXMgdGhlbiBpdCdzIGVpdGhlciBJRSwgYW5kIHRodXMgd2UgZG9uJ3QgbmVlZCB0byBzdWJ0cmFjdFxyXG4gICAgICAgIC8vIGFueXRoaW5nLCBvciBhbiBlbGVtZW50IG1lcmVseSBkb2Vzbid0IGhhdmUgcGFkZGluZ3MvYm9yZGVycyBzdHlsZXMuXHJcbiAgICAgICAgaWYgKE1hdGgucm91bmQod2lkdGggKyBob3JpelBhZCkgIT09IGNsaWVudFdpZHRoKSB7XHJcbiAgICAgICAgICAgIHdpZHRoIC09IGdldEJvcmRlcnNTaXplKHN0eWxlcywgJ2xlZnQnLCAncmlnaHQnKSArIGhvcml6UGFkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoTWF0aC5yb3VuZChoZWlnaHQgKyB2ZXJ0UGFkKSAhPT0gY2xpZW50SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIGhlaWdodCAtPSBnZXRCb3JkZXJzU2l6ZShzdHlsZXMsICd0b3AnLCAnYm90dG9tJykgKyB2ZXJ0UGFkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIEZvbGxvd2luZyBzdGVwcyBjYW4ndCBiZSBhcHBsaWVkIHRvIHRoZSBkb2N1bWVudCdzIHJvb3QgZWxlbWVudCBhcyBpdHNcclxuICAgIC8vIGNsaWVudFtXaWR0aC9IZWlnaHRdIHByb3BlcnRpZXMgcmVwcmVzZW50IHZpZXdwb3J0IGFyZWEgb2YgdGhlIHdpbmRvdy5cclxuICAgIC8vIEJlc2lkZXMsIGl0J3MgYXMgd2VsbCBub3QgbmVjZXNzYXJ5IGFzIHRoZSA8aHRtbD4gaXRzZWxmIG5laXRoZXIgaGFzXHJcbiAgICAvLyByZW5kZXJlZCBzY3JvbGwgYmFycyBub3IgaXQgY2FuIGJlIGNsaXBwZWQuXHJcbiAgICBpZiAoIWlzRG9jdW1lbnRFbGVtZW50KHRhcmdldCkpIHtcclxuICAgICAgICAvLyBJbiBzb21lIGJyb3dzZXJzIChvbmx5IGluIEZpcmVmb3gsIGFjdHVhbGx5KSBDU1Mgd2lkdGggJiBoZWlnaHRcclxuICAgICAgICAvLyBpbmNsdWRlIHNjcm9sbCBiYXJzIHNpemUgd2hpY2ggY2FuIGJlIHJlbW92ZWQgYXQgdGhpcyBzdGVwIGFzIHNjcm9sbFxyXG4gICAgICAgIC8vIGJhcnMgYXJlIHRoZSBvbmx5IGRpZmZlcmVuY2UgYmV0d2VlbiByb3VuZGVkIGRpbWVuc2lvbnMgKyBwYWRkaW5nc1xyXG4gICAgICAgIC8vIGFuZCBcImNsaWVudFwiIHByb3BlcnRpZXMsIHRob3VnaCB0aGF0IGlzIG5vdCBhbHdheXMgdHJ1ZSBpbiBDaHJvbWUuXHJcbiAgICAgICAgdmFyIHZlcnRTY3JvbGxiYXIgPSBNYXRoLnJvdW5kKHdpZHRoICsgaG9yaXpQYWQpIC0gY2xpZW50V2lkdGg7XHJcbiAgICAgICAgdmFyIGhvcml6U2Nyb2xsYmFyID0gTWF0aC5yb3VuZChoZWlnaHQgKyB2ZXJ0UGFkKSAtIGNsaWVudEhlaWdodDtcclxuICAgICAgICAvLyBDaHJvbWUgaGFzIGEgcmF0aGVyIHdlaXJkIHJvdW5kaW5nIG9mIFwiY2xpZW50XCIgcHJvcGVydGllcy5cclxuICAgICAgICAvLyBFLmcuIGZvciBhbiBlbGVtZW50IHdpdGggY29udGVudCB3aWR0aCBvZiAzMTQuMnB4IGl0IHNvbWV0aW1lcyBnaXZlc1xyXG4gICAgICAgIC8vIHRoZSBjbGllbnQgd2lkdGggb2YgMzE1cHggYW5kIGZvciB0aGUgd2lkdGggb2YgMzE0LjdweCBpdCBtYXkgZ2l2ZVxyXG4gICAgICAgIC8vIDMxNHB4LiBBbmQgaXQgZG9lc24ndCBoYXBwZW4gYWxsIHRoZSB0aW1lLiBTbyBqdXN0IGlnbm9yZSB0aGlzIGRlbHRhXHJcbiAgICAgICAgLy8gYXMgYSBub24tcmVsZXZhbnQuXHJcbiAgICAgICAgaWYgKE1hdGguYWJzKHZlcnRTY3JvbGxiYXIpICE9PSAxKSB7XHJcbiAgICAgICAgICAgIHdpZHRoIC09IHZlcnRTY3JvbGxiYXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChNYXRoLmFicyhob3JpelNjcm9sbGJhcikgIT09IDEpIHtcclxuICAgICAgICAgICAgaGVpZ2h0IC09IGhvcml6U2Nyb2xsYmFyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBjcmVhdGVSZWN0SW5pdChwYWRkaW5ncy5sZWZ0LCBwYWRkaW5ncy50b3AsIHdpZHRoLCBoZWlnaHQpO1xyXG59XHJcbi8qKlxyXG4gKiBDaGVja3Mgd2hldGhlciBwcm92aWRlZCBlbGVtZW50IGlzIGFuIGluc3RhbmNlIG9mIHRoZSBTVkdHcmFwaGljc0VsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0IC0gRWxlbWVudCB0byBiZSBjaGVja2VkLlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbnZhciBpc1NWR0dyYXBoaWNzRWxlbWVudCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBTb21lIGJyb3dzZXJzLCBuYW1lbHkgSUUgYW5kIEVkZ2UsIGRvbid0IGhhdmUgdGhlIFNWR0dyYXBoaWNzRWxlbWVudFxyXG4gICAgLy8gaW50ZXJmYWNlLlxyXG4gICAgaWYgKHR5cGVvZiBTVkdHcmFwaGljc0VsZW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQpIHsgcmV0dXJuIHRhcmdldCBpbnN0YW5jZW9mIGdldFdpbmRvd09mKHRhcmdldCkuU1ZHR3JhcGhpY3NFbGVtZW50OyB9O1xyXG4gICAgfVxyXG4gICAgLy8gSWYgaXQncyBzbywgdGhlbiBjaGVjayB0aGF0IGVsZW1lbnQgaXMgYXQgbGVhc3QgYW4gaW5zdGFuY2Ugb2YgdGhlXHJcbiAgICAvLyBTVkdFbGVtZW50IGFuZCB0aGF0IGl0IGhhcyB0aGUgXCJnZXRCQm94XCIgbWV0aG9kLlxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWV4dHJhLXBhcmVuc1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQpIHsgcmV0dXJuICh0YXJnZXQgaW5zdGFuY2VvZiBnZXRXaW5kb3dPZih0YXJnZXQpLlNWR0VsZW1lbnQgJiZcclxuICAgICAgICB0eXBlb2YgdGFyZ2V0LmdldEJCb3ggPT09ICdmdW5jdGlvbicpOyB9O1xyXG59KSgpO1xyXG4vKipcclxuICogQ2hlY2tzIHdoZXRoZXIgcHJvdmlkZWQgZWxlbWVudCBpcyBhIGRvY3VtZW50IGVsZW1lbnQgKDxodG1sPikuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0IC0gRWxlbWVudCB0byBiZSBjaGVja2VkLlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbmZ1bmN0aW9uIGlzRG9jdW1lbnRFbGVtZW50KHRhcmdldCkge1xyXG4gICAgcmV0dXJuIHRhcmdldCA9PT0gZ2V0V2luZG93T2YodGFyZ2V0KS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgYW4gYXBwcm9wcmlhdGUgY29udGVudCByZWN0YW5nbGUgZm9yIHByb3ZpZGVkIGh0bWwgb3Igc3ZnIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0IC0gRWxlbWVudCBjb250ZW50IHJlY3RhbmdsZSBvZiB3aGljaCBuZWVkcyB0byBiZSBjYWxjdWxhdGVkLlxyXG4gKiBAcmV0dXJucyB7RE9NUmVjdEluaXR9XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRDb250ZW50UmVjdCh0YXJnZXQpIHtcclxuICAgIGlmICghaXNCcm93c2VyKSB7XHJcbiAgICAgICAgcmV0dXJuIGVtcHR5UmVjdDtcclxuICAgIH1cclxuICAgIGlmIChpc1NWR0dyYXBoaWNzRWxlbWVudCh0YXJnZXQpKSB7XHJcbiAgICAgICAgcmV0dXJuIGdldFNWR0NvbnRlbnRSZWN0KHRhcmdldCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZ2V0SFRNTEVsZW1lbnRDb250ZW50UmVjdCh0YXJnZXQpO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIHJlY3RhbmdsZSB3aXRoIGFuIGludGVyZmFjZSBvZiB0aGUgRE9NUmVjdFJlYWRPbmx5LlxyXG4gKiBTcGVjOiBodHRwczovL2RyYWZ0cy5meHRmLm9yZy9nZW9tZXRyeS8jZG9tcmVjdHJlYWRvbmx5XHJcbiAqXHJcbiAqIEBwYXJhbSB7RE9NUmVjdEluaXR9IHJlY3RJbml0IC0gT2JqZWN0IHdpdGggcmVjdGFuZ2xlJ3MgeC95IGNvb3JkaW5hdGVzIGFuZCBkaW1lbnNpb25zLlxyXG4gKiBAcmV0dXJucyB7RE9NUmVjdFJlYWRPbmx5fVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlUmVhZE9ubHlSZWN0KF9hKSB7XHJcbiAgICB2YXIgeCA9IF9hLngsIHkgPSBfYS55LCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XHJcbiAgICAvLyBJZiBET01SZWN0UmVhZE9ubHkgaXMgYXZhaWxhYmxlIHVzZSBpdCBhcyBhIHByb3RvdHlwZSBmb3IgdGhlIHJlY3RhbmdsZS5cclxuICAgIHZhciBDb25zdHIgPSB0eXBlb2YgRE9NUmVjdFJlYWRPbmx5ICE9PSAndW5kZWZpbmVkJyA/IERPTVJlY3RSZWFkT25seSA6IE9iamVjdDtcclxuICAgIHZhciByZWN0ID0gT2JqZWN0LmNyZWF0ZShDb25zdHIucHJvdG90eXBlKTtcclxuICAgIC8vIFJlY3RhbmdsZSdzIHByb3BlcnRpZXMgYXJlIG5vdCB3cml0YWJsZSBhbmQgbm9uLWVudW1lcmFibGUuXHJcbiAgICBkZWZpbmVDb25maWd1cmFibGUocmVjdCwge1xyXG4gICAgICAgIHg6IHgsIHk6IHksIHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQsXHJcbiAgICAgICAgdG9wOiB5LFxyXG4gICAgICAgIHJpZ2h0OiB4ICsgd2lkdGgsXHJcbiAgICAgICAgYm90dG9tOiBoZWlnaHQgKyB5LFxyXG4gICAgICAgIGxlZnQ6IHhcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHJlY3Q7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgRE9NUmVjdEluaXQgb2JqZWN0IGJhc2VkIG9uIHRoZSBwcm92aWRlZCBkaW1lbnNpb25zIGFuZCB0aGUgeC95IGNvb3JkaW5hdGVzLlxyXG4gKiBTcGVjOiBodHRwczovL2RyYWZ0cy5meHRmLm9yZy9nZW9tZXRyeS8jZGljdGRlZi1kb21yZWN0aW5pdFxyXG4gKlxyXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIFggY29vcmRpbmF0ZS5cclxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBZIGNvb3JkaW5hdGUuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFJlY3RhbmdsZSdzIHdpZHRoLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gUmVjdGFuZ2xlJ3MgaGVpZ2h0LlxyXG4gKiBAcmV0dXJucyB7RE9NUmVjdEluaXR9XHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVSZWN0SW5pdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICByZXR1cm4geyB4OiB4LCB5OiB5LCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH07XHJcbn1cblxuLyoqXHJcbiAqIENsYXNzIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIGNvbXB1dGF0aW9ucyBvZiB0aGUgY29udGVudCByZWN0YW5nbGUgb2ZcclxuICogcHJvdmlkZWQgRE9NIGVsZW1lbnQgYW5kIGZvciBrZWVwaW5nIHRyYWNrIG9mIGl0J3MgY2hhbmdlcy5cclxuICovXHJcbnZhciBSZXNpemVPYnNlcnZhdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBSZXNpemVPYnNlcnZhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCAtIEVsZW1lbnQgdG8gYmUgb2JzZXJ2ZWQuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmF0aW9uKHRhcmdldCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEJyb2FkY2FzdGVkIHdpZHRoIG9mIGNvbnRlbnQgcmVjdGFuZ2xlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmJyb2FkY2FzdFdpZHRoID0gMDtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBCcm9hZGNhc3RlZCBoZWlnaHQgb2YgY29udGVudCByZWN0YW5nbGUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuYnJvYWRjYXN0SGVpZ2h0ID0gMDtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGxhc3Qgb2JzZXJ2ZWQgY29udGVudCByZWN0YW5nbGUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZSB7RE9NUmVjdEluaXR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5jb250ZW50UmVjdF8gPSBjcmVhdGVSZWN0SW5pdCgwLCAwLCAwLCAwKTtcclxuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlcyBjb250ZW50IHJlY3RhbmdsZSBhbmQgdGVsbHMgd2hldGhlciBpdCdzIHdpZHRoIG9yIGhlaWdodCBwcm9wZXJ0aWVzXHJcbiAgICAgKiBoYXZlIGNoYW5nZWQgc2luY2UgdGhlIGxhc3QgYnJvYWRjYXN0LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICBSZXNpemVPYnNlcnZhdGlvbi5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHJlY3QgPSBnZXRDb250ZW50UmVjdCh0aGlzLnRhcmdldCk7XHJcbiAgICAgICAgdGhpcy5jb250ZW50UmVjdF8gPSByZWN0O1xyXG4gICAgICAgIHJldHVybiAocmVjdC53aWR0aCAhPT0gdGhpcy5icm9hZGNhc3RXaWR0aCB8fFxyXG4gICAgICAgICAgICByZWN0LmhlaWdodCAhPT0gdGhpcy5icm9hZGNhc3RIZWlnaHQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlcyAnYnJvYWRjYXN0V2lkdGgnIGFuZCAnYnJvYWRjYXN0SGVpZ2h0JyBwcm9wZXJ0aWVzIHdpdGggYSBkYXRhXHJcbiAgICAgKiBmcm9tIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnRpZXMgb2YgdGhlIGxhc3Qgb2JzZXJ2ZWQgY29udGVudCByZWN0YW5nbGUuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge0RPTVJlY3RJbml0fSBMYXN0IG9ic2VydmVkIGNvbnRlbnQgcmVjdGFuZ2xlLlxyXG4gICAgICovXHJcbiAgICBSZXNpemVPYnNlcnZhdGlvbi5wcm90b3R5cGUuYnJvYWRjYXN0UmVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmVjdCA9IHRoaXMuY29udGVudFJlY3RfO1xyXG4gICAgICAgIHRoaXMuYnJvYWRjYXN0V2lkdGggPSByZWN0LndpZHRoO1xyXG4gICAgICAgIHRoaXMuYnJvYWRjYXN0SGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XHJcbiAgICAgICAgcmV0dXJuIHJlY3Q7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmF0aW9uO1xyXG59KCkpO1xuXG52YXIgUmVzaXplT2JzZXJ2ZXJFbnRyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBSZXNpemVPYnNlcnZlckVudHJ5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0IC0gRWxlbWVudCB0aGF0IGlzIGJlaW5nIG9ic2VydmVkLlxyXG4gICAgICogQHBhcmFtIHtET01SZWN0SW5pdH0gcmVjdEluaXQgLSBEYXRhIG9mIHRoZSBlbGVtZW50J3MgY29udGVudCByZWN0YW5nbGUuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyRW50cnkodGFyZ2V0LCByZWN0SW5pdCkge1xyXG4gICAgICAgIHZhciBjb250ZW50UmVjdCA9IGNyZWF0ZVJlYWRPbmx5UmVjdChyZWN0SW5pdCk7XHJcbiAgICAgICAgLy8gQWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpY2F0aW9uIGZvbGxvd2luZyBwcm9wZXJ0aWVzIGFyZSBub3Qgd3JpdGFibGVcclxuICAgICAgICAvLyBhbmQgYXJlIGFsc28gbm90IGVudW1lcmFibGUgaW4gdGhlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbi5cclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIFByb3BlcnR5IGFjY2Vzc29ycyBhcmUgbm90IGJlaW5nIHVzZWQgYXMgdGhleSdkIHJlcXVpcmUgdG8gZGVmaW5lIGFcclxuICAgICAgICAvLyBwcml2YXRlIFdlYWtNYXAgc3RvcmFnZSB3aGljaCBtYXkgY2F1c2UgbWVtb3J5IGxlYWtzIGluIGJyb3dzZXJzIHRoYXRcclxuICAgICAgICAvLyBkb24ndCBzdXBwb3J0IHRoaXMgdHlwZSBvZiBjb2xsZWN0aW9ucy5cclxuICAgICAgICBkZWZpbmVDb25maWd1cmFibGUodGhpcywgeyB0YXJnZXQ6IHRhcmdldCwgY29udGVudFJlY3Q6IGNvbnRlbnRSZWN0IH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyRW50cnk7XHJcbn0oKSk7XG5cbnZhciBSZXNpemVPYnNlcnZlclNQSSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBSZXNpemVPYnNlcnZlci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge1Jlc2l6ZU9ic2VydmVyQ2FsbGJhY2t9IGNhbGxiYWNrIC0gQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBpbnZva2VkXHJcbiAgICAgKiAgICAgIHdoZW4gb25lIG9mIHRoZSBvYnNlcnZlZCBlbGVtZW50cyBjaGFuZ2VzIGl0J3MgY29udGVudCBkaW1lbnNpb25zLlxyXG4gICAgICogQHBhcmFtIHtSZXNpemVPYnNlcnZlckNvbnRyb2xsZXJ9IGNvbnRyb2xsZXIgLSBDb250cm9sbGVyIGluc3RhbmNlIHdoaWNoXHJcbiAgICAgKiAgICAgIGlzIHJlc3BvbnNpYmxlIGZvciB0aGUgdXBkYXRlcyBvZiBvYnNlcnZlci5cclxuICAgICAqIEBwYXJhbSB7UmVzaXplT2JzZXJ2ZXJ9IGNhbGxiYWNrQ3R4IC0gUmVmZXJlbmNlIHRvIHRoZSBwdWJsaWNcclxuICAgICAqICAgICAgUmVzaXplT2JzZXJ2ZXIgaW5zdGFuY2Ugd2hpY2ggd2lsbCBiZSBwYXNzZWQgdG8gY2FsbGJhY2sgZnVuY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyU1BJKGNhbGxiYWNrLCBjb250cm9sbGVyLCBjYWxsYmFja0N0eCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgcmVzaXplIG9ic2VydmF0aW9ucyB0aGF0IGhhdmUgZGV0ZWN0ZWQgY2hhbmdlcyBpbiBkaW1lbnNpb25zXHJcbiAgICAgICAgICogb2YgZWxlbWVudHMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZSB7QXJyYXk8UmVzaXplT2JzZXJ2YXRpb24+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuYWN0aXZlT2JzZXJ2YXRpb25zXyA9IFtdO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJlZ2lzdHJ5IG9mIHRoZSBSZXNpemVPYnNlcnZhdGlvbiBpbnN0YW5jZXMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZSB7TWFwPEVsZW1lbnQsIFJlc2l6ZU9ic2VydmF0aW9uPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLm9ic2VydmF0aW9uc18gPSBuZXcgTWFwU2hpbSgpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGNhbGxiYWNrIHByb3ZpZGVkIGFzIHBhcmFtZXRlciAxIGlzIG5vdCBhIGZ1bmN0aW9uLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNhbGxiYWNrXyA9IGNhbGxiYWNrO1xyXG4gICAgICAgIHRoaXMuY29udHJvbGxlcl8gPSBjb250cm9sbGVyO1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2tDdHhfID0gY2FsbGJhY2tDdHg7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFN0YXJ0cyBvYnNlcnZpbmcgcHJvdmlkZWQgZWxlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCAtIEVsZW1lbnQgdG8gYmUgb2JzZXJ2ZWQuXHJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgUmVzaXplT2JzZXJ2ZXJTUEkucHJvdG90eXBlLm9ic2VydmUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcbiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJzEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRG8gbm90aGluZyBpZiBjdXJyZW50IGVudmlyb25tZW50IGRvZXNuJ3QgaGF2ZSB0aGUgRWxlbWVudCBpbnRlcmZhY2UuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBFbGVtZW50ID09PSAndW5kZWZpbmVkJyB8fCAhKEVsZW1lbnQgaW5zdGFuY2VvZiBPYmplY3QpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgZ2V0V2luZG93T2YodGFyZ2V0KS5FbGVtZW50KSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdwYXJhbWV0ZXIgMSBpcyBub3Qgb2YgdHlwZSBcIkVsZW1lbnRcIi4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG9ic2VydmF0aW9ucyA9IHRoaXMub2JzZXJ2YXRpb25zXztcclxuICAgICAgICAvLyBEbyBub3RoaW5nIGlmIGVsZW1lbnQgaXMgYWxyZWFkeSBiZWluZyBvYnNlcnZlZC5cclxuICAgICAgICBpZiAob2JzZXJ2YXRpb25zLmhhcyh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgb2JzZXJ2YXRpb25zLnNldCh0YXJnZXQsIG5ldyBSZXNpemVPYnNlcnZhdGlvbih0YXJnZXQpKTtcclxuICAgICAgICB0aGlzLmNvbnRyb2xsZXJfLmFkZE9ic2VydmVyKHRoaXMpO1xyXG4gICAgICAgIC8vIEZvcmNlIHRoZSB1cGRhdGUgb2Ygb2JzZXJ2YXRpb25zLlxyXG4gICAgICAgIHRoaXMuY29udHJvbGxlcl8ucmVmcmVzaCgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU3RvcHMgb2JzZXJ2aW5nIHByb3ZpZGVkIGVsZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IHRvIHN0b3Agb2JzZXJ2aW5nLlxyXG4gICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIFJlc2l6ZU9ic2VydmVyU1BJLnByb3RvdHlwZS51bm9ic2VydmUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcbiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJzEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRG8gbm90aGluZyBpZiBjdXJyZW50IGVudmlyb25tZW50IGRvZXNuJ3QgaGF2ZSB0aGUgRWxlbWVudCBpbnRlcmZhY2UuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBFbGVtZW50ID09PSAndW5kZWZpbmVkJyB8fCAhKEVsZW1lbnQgaW5zdGFuY2VvZiBPYmplY3QpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgZ2V0V2luZG93T2YodGFyZ2V0KS5FbGVtZW50KSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdwYXJhbWV0ZXIgMSBpcyBub3Qgb2YgdHlwZSBcIkVsZW1lbnRcIi4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG9ic2VydmF0aW9ucyA9IHRoaXMub2JzZXJ2YXRpb25zXztcclxuICAgICAgICAvLyBEbyBub3RoaW5nIGlmIGVsZW1lbnQgaXMgbm90IGJlaW5nIG9ic2VydmVkLlxyXG4gICAgICAgIGlmICghb2JzZXJ2YXRpb25zLmhhcyh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgb2JzZXJ2YXRpb25zLmRlbGV0ZSh0YXJnZXQpO1xyXG4gICAgICAgIGlmICghb2JzZXJ2YXRpb25zLnNpemUpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyXy5yZW1vdmVPYnNlcnZlcih0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9wcyBvYnNlcnZpbmcgYWxsIGVsZW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBSZXNpemVPYnNlcnZlclNQSS5wcm90b3R5cGUuZGlzY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNsZWFyQWN0aXZlKCk7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZhdGlvbnNfLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5jb250cm9sbGVyXy5yZW1vdmVPYnNlcnZlcih0aGlzKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENvbGxlY3RzIG9ic2VydmF0aW9uIGluc3RhbmNlcyB0aGUgYXNzb2NpYXRlZCBlbGVtZW50IG9mIHdoaWNoIGhhcyBjaGFuZ2VkXHJcbiAgICAgKiBpdCdzIGNvbnRlbnQgcmVjdGFuZ2xlLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBSZXNpemVPYnNlcnZlclNQSS5wcm90b3R5cGUuZ2F0aGVyQWN0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5jbGVhckFjdGl2ZSgpO1xyXG4gICAgICAgIHRoaXMub2JzZXJ2YXRpb25zXy5mb3JFYWNoKGZ1bmN0aW9uIChvYnNlcnZhdGlvbikge1xyXG4gICAgICAgICAgICBpZiAob2JzZXJ2YXRpb24uaXNBY3RpdmUoKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZlT2JzZXJ2YXRpb25zXy5wdXNoKG9ic2VydmF0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSW52b2tlcyBpbml0aWFsIGNhbGxiYWNrIGZ1bmN0aW9uIHdpdGggYSBsaXN0IG9mIFJlc2l6ZU9ic2VydmVyRW50cnlcclxuICAgICAqIGluc3RhbmNlcyBjb2xsZWN0ZWQgZnJvbSBhY3RpdmUgcmVzaXplIG9ic2VydmF0aW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgUmVzaXplT2JzZXJ2ZXJTUEkucHJvdG90eXBlLmJyb2FkY2FzdEFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBEbyBub3RoaW5nIGlmIG9ic2VydmVyIGRvZXNuJ3QgaGF2ZSBhY3RpdmUgb2JzZXJ2YXRpb25zLlxyXG4gICAgICAgIGlmICghdGhpcy5oYXNBY3RpdmUoKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjdHggPSB0aGlzLmNhbGxiYWNrQ3R4XztcclxuICAgICAgICAvLyBDcmVhdGUgUmVzaXplT2JzZXJ2ZXJFbnRyeSBpbnN0YW5jZSBmb3IgZXZlcnkgYWN0aXZlIG9ic2VydmF0aW9uLlxyXG4gICAgICAgIHZhciBlbnRyaWVzID0gdGhpcy5hY3RpdmVPYnNlcnZhdGlvbnNfLm1hcChmdW5jdGlvbiAob2JzZXJ2YXRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNpemVPYnNlcnZlckVudHJ5KG9ic2VydmF0aW9uLnRhcmdldCwgb2JzZXJ2YXRpb24uYnJvYWRjYXN0UmVjdCgpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmNhbGxiYWNrXy5jYWxsKGN0eCwgZW50cmllcywgY3R4KTtcclxuICAgICAgICB0aGlzLmNsZWFyQWN0aXZlKCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhcnMgdGhlIGNvbGxlY3Rpb24gb2YgYWN0aXZlIG9ic2VydmF0aW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgUmVzaXplT2JzZXJ2ZXJTUEkucHJvdG90eXBlLmNsZWFyQWN0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuYWN0aXZlT2JzZXJ2YXRpb25zXy5zcGxpY2UoMCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUZWxscyB3aGV0aGVyIG9ic2VydmVyIGhhcyBhY3RpdmUgb2JzZXJ2YXRpb25zLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICBSZXNpemVPYnNlcnZlclNQSS5wcm90b3R5cGUuaGFzQWN0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZU9ic2VydmF0aW9uc18ubGVuZ3RoID4gMDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXJTUEk7XHJcbn0oKSk7XG5cbi8vIFJlZ2lzdHJ5IG9mIGludGVybmFsIG9ic2VydmVycy4gSWYgV2Vha01hcCBpcyBub3QgYXZhaWxhYmxlIHVzZSBjdXJyZW50IHNoaW1cclxuLy8gZm9yIHRoZSBNYXAgY29sbGVjdGlvbiBhcyBpdCBoYXMgYWxsIHJlcXVpcmVkIG1ldGhvZHMgYW5kIGJlY2F1c2UgV2Vha01hcFxyXG4vLyBjYW4ndCBiZSBmdWxseSBwb2x5ZmlsbGVkIGFueXdheS5cclxudmFyIG9ic2VydmVycyA9IHR5cGVvZiBXZWFrTWFwICE9PSAndW5kZWZpbmVkJyA/IG5ldyBXZWFrTWFwKCkgOiBuZXcgTWFwU2hpbSgpO1xyXG4vKipcclxuICogUmVzaXplT2JzZXJ2ZXIgQVBJLiBFbmNhcHN1bGF0ZXMgdGhlIFJlc2l6ZU9ic2VydmVyIFNQSSBpbXBsZW1lbnRhdGlvblxyXG4gKiBleHBvc2luZyBvbmx5IHRob3NlIG1ldGhvZHMgYW5kIHByb3BlcnRpZXMgdGhhdCBhcmUgZGVmaW5lZCBpbiB0aGUgc3BlYy5cclxuICovXHJcbnZhciBSZXNpemVPYnNlcnZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBSZXNpemVPYnNlcnZlci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge1Jlc2l6ZU9ic2VydmVyQ2FsbGJhY2t9IGNhbGxiYWNrIC0gQ2FsbGJhY2sgdGhhdCBpcyBpbnZva2VkIHdoZW5cclxuICAgICAqICAgICAgZGltZW5zaW9ucyBvZiB0aGUgb2JzZXJ2ZWQgZWxlbWVudHMgY2hhbmdlLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlcihjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZXNpemVPYnNlcnZlcikpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgMCBwcmVzZW50LicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY29udHJvbGxlciA9IFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlclNQSShjYWxsYmFjaywgY29udHJvbGxlciwgdGhpcyk7XHJcbiAgICAgICAgb2JzZXJ2ZXJzLnNldCh0aGlzLCBvYnNlcnZlcik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXI7XHJcbn0oKSk7XHJcbi8vIEV4cG9zZSBwdWJsaWMgbWV0aG9kcyBvZiBSZXNpemVPYnNlcnZlci5cclxuW1xyXG4gICAgJ29ic2VydmUnLFxyXG4gICAgJ3Vub2JzZXJ2ZScsXHJcbiAgICAnZGlzY29ubmVjdCdcclxuXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcclxuICAgIFJlc2l6ZU9ic2VydmVyLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICByZXR1cm4gKF9hID0gb2JzZXJ2ZXJzLmdldCh0aGlzKSlbbWV0aG9kXS5hcHBseShfYSwgYXJndW1lbnRzKTtcclxuICAgIH07XHJcbn0pO1xuXG52YXIgaW5kZXggPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gRXhwb3J0IGV4aXN0aW5nIGltcGxlbWVudGF0aW9uIGlmIGF2YWlsYWJsZS5cclxuICAgIGlmICh0eXBlb2YgZ2xvYmFsJDEuUmVzaXplT2JzZXJ2ZXIgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuIGdsb2JhbCQxLlJlc2l6ZU9ic2VydmVyO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyO1xyXG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBpbmRleDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js\n"));

/***/ }),

/***/ "./node_modules/style-to-js/cjs/index.js":
/*!***********************************************!*\
  !*** ./node_modules/style-to-js/cjs/index.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar style_to_object_1 = __importDefault(__webpack_require__(/*! style-to-object */ \"./node_modules/style-to-object/index.js\"));\nvar utilities_1 = __webpack_require__(/*! ./utilities */ \"./node_modules/style-to-js/cjs/utilities.js\");\nfunction StyleToJS(style, options) {\n    var output = {};\n    if (!style || typeof style !== 'string') {\n        return output;\n    }\n    (0, style_to_object_1[\"default\"])(style, function (property, value) {\n        if (property && value) {\n            output[(0, utilities_1.camelCase)(property, options)] = value;\n        }\n    });\n    return output;\n}\nexports[\"default\"] = StyleToJS;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtdG8tanMvY2pzL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSxrQkFBa0I7QUFDbEIsd0NBQXdDLG1CQUFPLENBQUMsZ0VBQWlCO0FBQ2pFLGtCQUFrQixtQkFBTyxDQUFDLGdFQUFhO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esa0JBQWtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdHlsZS10by1qcy9janMvaW5kZXguanM/MjNlNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG52YXIgc3R5bGVfdG9fb2JqZWN0XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcInN0eWxlLXRvLW9iamVjdFwiKSk7XG52YXIgdXRpbGl0aWVzXzEgPSByZXF1aXJlKFwiLi91dGlsaXRpZXNcIik7XG5mdW5jdGlvbiBTdHlsZVRvSlMoc3R5bGUsIG9wdGlvbnMpIHtcbiAgICB2YXIgb3V0cHV0ID0ge307XG4gICAgaWYgKCFzdHlsZSB8fCB0eXBlb2Ygc3R5bGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICAgICgwLCBzdHlsZV90b19vYmplY3RfMVtcImRlZmF1bHRcIl0pKHN0eWxlLCBmdW5jdGlvbiAocHJvcGVydHksIHZhbHVlKSB7XG4gICAgICAgIGlmIChwcm9wZXJ0eSAmJiB2YWx1ZSkge1xuICAgICAgICAgICAgb3V0cHV0WygwLCB1dGlsaXRpZXNfMS5jYW1lbENhc2UpKHByb3BlcnR5LCBvcHRpb25zKV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBvdXRwdXQ7XG59XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFN0eWxlVG9KUztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/style-to-js/cjs/index.js\n"));

/***/ }),

/***/ "./node_modules/style-to-js/cjs/utilities.js":
/*!***************************************************!*\
  !*** ./node_modules/style-to-js/cjs/utilities.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nexports.__esModule = true;\nexports.camelCase = void 0;\nvar CUSTOM_PROPERTY_REGEX = /^--[a-zA-Z0-9-]+$/;\nvar HYPHEN_REGEX = /-([a-z])/g;\nvar NO_HYPHEN_REGEX = /^[^-]+$/;\nvar VENDOR_PREFIX_REGEX = /^-(webkit|moz|ms|o|khtml)-/;\nvar MS_VENDOR_PREFIX_REGEX = /^-(ms)-/;\nvar skipCamelCase = function (property) {\n    return !property ||\n        NO_HYPHEN_REGEX.test(property) ||\n        CUSTOM_PROPERTY_REGEX.test(property);\n};\nvar capitalize = function (match, character) {\n    return character.toUpperCase();\n};\nvar trimHyphen = function (match, prefix) { return \"\".concat(prefix, \"-\"); };\nvar camelCase = function (property, options) {\n    if (options === void 0) { options = {}; }\n    if (skipCamelCase(property)) {\n        return property;\n    }\n    property = property.toLowerCase();\n    if (options.reactCompat) {\n        property = property.replace(MS_VENDOR_PREFIX_REGEX, trimHyphen);\n    }\n    else {\n        property = property.replace(VENDOR_PREFIX_REGEX, trimHyphen);\n    }\n    return property.replace(HYPHEN_REGEX, capitalize);\n};\nexports.camelCase = camelCase;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtdG8tanMvY2pzL3V0aWxpdGllcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLGtCQUFrQjtBQUNsQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdHlsZS10by1qcy9janMvdXRpbGl0aWVzLmpzPzc1YWQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5jYW1lbENhc2UgPSB2b2lkIDA7XG52YXIgQ1VTVE9NX1BST1BFUlRZX1JFR0VYID0gL14tLVthLXpBLVowLTktXSskLztcbnZhciBIWVBIRU5fUkVHRVggPSAvLShbYS16XSkvZztcbnZhciBOT19IWVBIRU5fUkVHRVggPSAvXlteLV0rJC87XG52YXIgVkVORE9SX1BSRUZJWF9SRUdFWCA9IC9eLSh3ZWJraXR8bW96fG1zfG98a2h0bWwpLS87XG52YXIgTVNfVkVORE9SX1BSRUZJWF9SRUdFWCA9IC9eLShtcyktLztcbnZhciBza2lwQ2FtZWxDYXNlID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgcmV0dXJuICFwcm9wZXJ0eSB8fFxuICAgICAgICBOT19IWVBIRU5fUkVHRVgudGVzdChwcm9wZXJ0eSkgfHxcbiAgICAgICAgQ1VTVE9NX1BST1BFUlRZX1JFR0VYLnRlc3QocHJvcGVydHkpO1xufTtcbnZhciBjYXBpdGFsaXplID0gZnVuY3Rpb24gKG1hdGNoLCBjaGFyYWN0ZXIpIHtcbiAgICByZXR1cm4gY2hhcmFjdGVyLnRvVXBwZXJDYXNlKCk7XG59O1xudmFyIHRyaW1IeXBoZW4gPSBmdW5jdGlvbiAobWF0Y2gsIHByZWZpeCkgeyByZXR1cm4gXCJcIi5jb25jYXQocHJlZml4LCBcIi1cIik7IH07XG52YXIgY2FtZWxDYXNlID0gZnVuY3Rpb24gKHByb3BlcnR5LCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICBpZiAoc2tpcENhbWVsQ2FzZShwcm9wZXJ0eSkpIHtcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5O1xuICAgIH1cbiAgICBwcm9wZXJ0eSA9IHByb3BlcnR5LnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKG9wdGlvbnMucmVhY3RDb21wYXQpIHtcbiAgICAgICAgcHJvcGVydHkgPSBwcm9wZXJ0eS5yZXBsYWNlKE1TX1ZFTkRPUl9QUkVGSVhfUkVHRVgsIHRyaW1IeXBoZW4pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcHJvcGVydHkgPSBwcm9wZXJ0eS5yZXBsYWNlKFZFTkRPUl9QUkVGSVhfUkVHRVgsIHRyaW1IeXBoZW4pO1xuICAgIH1cbiAgICByZXR1cm4gcHJvcGVydHkucmVwbGFjZShIWVBIRU5fUkVHRVgsIGNhcGl0YWxpemUpO1xufTtcbmV4cG9ydHMuY2FtZWxDYXNlID0gY2FtZWxDYXNlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/style-to-js/cjs/utilities.js\n"));

/***/ }),

/***/ "./node_modules/style-to-object/index.js":
/*!***********************************************!*\
  !*** ./node_modules/style-to-object/index.js ***!
  \***********************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var parse = __webpack_require__(/*! inline-style-parser */ \"./node_modules/inline-style-parser/index.js\");\n\n/**\n * Parses inline style to object.\n *\n * @example\n * // returns { 'line-height': '42' }\n * StyleToObject('line-height: 42;');\n *\n * @param  {String}      style      - The inline style.\n * @param  {Function}    [iterator] - The iterator function.\n * @return {null|Object}\n */\nfunction StyleToObject(style, iterator) {\n  var output = null;\n  if (!style || typeof style !== 'string') {\n    return output;\n  }\n\n  var declaration;\n  var declarations = parse(style);\n  var hasIterator = typeof iterator === 'function';\n  var property;\n  var value;\n\n  for (var i = 0, len = declarations.length; i < len; i++) {\n    declaration = declarations[i];\n    property = declaration.property;\n    value = declaration.value;\n\n    if (hasIterator) {\n      iterator(property, value, declaration);\n    } else if (value) {\n      output || (output = {});\n      output[property] = value;\n    }\n  }\n\n  return output;\n}\n\nmodule.exports = StyleToObject;\nmodule.exports[\"default\"] = StyleToObject; // ESM support\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtdG8tb2JqZWN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFBLFlBQVksbUJBQU8sQ0FBQyx3RUFBcUI7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCLGtDQUFrQztBQUNsQztBQUNBLFlBQVksYUFBYTtBQUN6QixZQUFZLGFBQWE7QUFDekIsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZDQUE2QyxTQUFTO0FBQ3REO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHlCQUFzQixrQkFBa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N0eWxlLXRvLW9iamVjdC9pbmRleC5qcz9mMWUwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBwYXJzZSA9IHJlcXVpcmUoJ2lubGluZS1zdHlsZS1wYXJzZXInKTtcblxuLyoqXG4gKiBQYXJzZXMgaW5saW5lIHN0eWxlIHRvIG9iamVjdC5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gcmV0dXJucyB7ICdsaW5lLWhlaWdodCc6ICc0MicgfVxuICogU3R5bGVUb09iamVjdCgnbGluZS1oZWlnaHQ6IDQyOycpO1xuICpcbiAqIEBwYXJhbSAge1N0cmluZ30gICAgICBzdHlsZSAgICAgIC0gVGhlIGlubGluZSBzdHlsZS5cbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSAgICBbaXRlcmF0b3JdIC0gVGhlIGl0ZXJhdG9yIGZ1bmN0aW9uLlxuICogQHJldHVybiB7bnVsbHxPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIFN0eWxlVG9PYmplY3Qoc3R5bGUsIGl0ZXJhdG9yKSB7XG4gIHZhciBvdXRwdXQgPSBudWxsO1xuICBpZiAoIXN0eWxlIHx8IHR5cGVvZiBzdHlsZSAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gb3V0cHV0O1xuICB9XG5cbiAgdmFyIGRlY2xhcmF0aW9uO1xuICB2YXIgZGVjbGFyYXRpb25zID0gcGFyc2Uoc3R5bGUpO1xuICB2YXIgaGFzSXRlcmF0b3IgPSB0eXBlb2YgaXRlcmF0b3IgPT09ICdmdW5jdGlvbic7XG4gIHZhciBwcm9wZXJ0eTtcbiAgdmFyIHZhbHVlO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBkZWNsYXJhdGlvbnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBkZWNsYXJhdGlvbiA9IGRlY2xhcmF0aW9uc1tpXTtcbiAgICBwcm9wZXJ0eSA9IGRlY2xhcmF0aW9uLnByb3BlcnR5O1xuICAgIHZhbHVlID0gZGVjbGFyYXRpb24udmFsdWU7XG5cbiAgICBpZiAoaGFzSXRlcmF0b3IpIHtcbiAgICAgIGl0ZXJhdG9yKHByb3BlcnR5LCB2YWx1ZSwgZGVjbGFyYXRpb24pO1xuICAgIH0gZWxzZSBpZiAodmFsdWUpIHtcbiAgICAgIG91dHB1dCB8fCAob3V0cHV0ID0ge30pO1xuICAgICAgb3V0cHV0W3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvdXRwdXQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gU3R5bGVUb09iamVjdDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBTdHlsZVRvT2JqZWN0OyAvLyBFU00gc3VwcG9ydFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/style-to-object/index.js\n"));

/***/ }),

/***/ "./node_modules/ua-parser-js/src/ua-parser.js":
/*!****************************************************!*\
  !*** ./node_modules/ua-parser-js/src/ua-parser.js ***!
  \****************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval(__webpack_require__.ts("var __WEBPACK_AMD_DEFINE_RESULT__;/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v1.0.40\n   Copyright  2012-2024 Faisal Salman <f@faisalman.com>\n   MIT License *//*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment. \n   Demo   : https://faisalman.github.io/ua-parser-js\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '1.0.40',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major',\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded',\n        UA_MAX_LENGTH = 500;\n\n    var AMAZON  = 'Amazon',\n        APPLE   = 'Apple',\n        ASUS    = 'ASUS',\n        BLACKBERRY = 'BlackBerry',\n        BROWSER = 'Browser',\n        CHROME  = 'Chrome',\n        EDGE    = 'Edge',\n        FIREFOX = 'Firefox',\n        GOOGLE  = 'Google',\n        HUAWEI  = 'Huawei',\n        LG      = 'LG',\n        MICROSOFT = 'Microsoft',\n        MOTOROLA  = 'Motorola',\n        OPERA   = 'Opera',\n        SAMSUNG = 'Samsung',\n        SHARP   = 'Sharp',\n        SONY    = 'Sony',\n        XIAOMI  = 'Xiaomi',\n        ZEBRA   = 'Zebra',\n        FACEBOOK    = 'Facebook',\n        CHROMIUM_OS = 'Chromium OS',\n        MAC_OS  = 'Mac OS',\n        SUFFIX_BROWSER = ' Browser';\n\n    ///////////\n    // Helper\n    //////////\n\n    var extend = function (regexes, extensions) {\n            var mergedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    mergedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    mergedRegexes[i] = regexes[i];\n                }\n            }\n            return mergedRegexes;\n        },\n        enumerize = function (arr) {\n            var enums = {};\n            for (var i=0; i<arr.length; i++) {\n                enums[arr[i].toUpperCase()] = arr[i];\n            }\n            return enums;\n        },\n        has = function (str1, str2) {\n            return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n        },\n        lowerize = function (str) {\n            return str.toLowerCase();\n        },\n        majorize = function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g, EMPTY).split('.')[0] : undefined;\n        },\n        trim = function (str, len) {\n            if (typeof(str) === STR_TYPE) {\n                str = str.replace(/^\\s\\s*/, EMPTY);\n                return typeof(len) === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n            }\n    };\n\n    ///////////////\n    // Map helper\n    //////////////\n\n    var rgxMapper = function (ua, arrays) {\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    if (!regex[j]) { break; }\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length === 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length === 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length === 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        strMapper = function (str, map) {\n\n            for (var i in map) {\n                // check if current value is array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return map.hasOwnProperty('*') ? map['*'] : str;\n    };\n\n    ///////////////\n    // String map\n    //////////////\n\n    // Safari < 3.0\n    var oldSafariMap = {\n            '1.0'   : '/8',\n            '1.2'   : '/1',\n            '1.3'   : '/3',\n            '2.0'   : '/412',\n            '2.0.2' : '/416',\n            '2.0.3' : '/417',\n            '2.0.4' : '/419',\n            '?'     : '/'\n        },\n        windowsVersionMap = {\n            'ME'        : '4.90',\n            'NT 3.11'   : 'NT3.51',\n            'NT 4.0'    : 'NT4.0',\n            '2000'      : 'NT 5.0',\n            'XP'        : ['NT 5.1', 'NT 5.2'],\n            'Vista'     : 'NT 6.0',\n            '7'         : 'NT 6.1',\n            '8'         : 'NT 6.2',\n            '8.1'       : 'NT 6.3',\n            '10'        : ['NT 6.4', 'NT 10.0'],\n            'RT'        : 'ARM'\n    };\n\n    //////////////\n    // Regex map\n    /////////////\n\n    var regexes = {\n\n        browser : [[\n\n            /\\b(?:crmo|crios)\\/([\\w\\.]+)/i                                      // Chrome for Android/iOS\n            ], [VERSION, [NAME, 'Chrome']], [\n            /edg(?:e|ios|a)?\\/([\\w\\.]+)/i                                       // Microsoft Edge\n            ], [VERSION, [NAME, 'Edge']], [\n\n            // Presto based\n            /(opera mini)\\/([-\\w\\.]+)/i,                                        // Opera Mini\n            /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,                 // Opera Mobi/Tablet\n            /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i                           // Opera\n            ], [NAME, VERSION], [\n            /opios[\\/ ]+([\\w\\.]+)/i                                             // Opera mini on iphone >= 8.0\n            ], [VERSION, [NAME, OPERA+' Mini']], [\n            /\\bop(?:rg)?x\\/([\\w\\.]+)/i                                          // Opera GX\n            ], [VERSION, [NAME, OPERA+' GX']], [\n            /\\bopr\\/([\\w\\.]+)/i                                                 // Opera Webkit\n            ], [VERSION, [NAME, OPERA]], [\n\n            // Mixed\n            /\\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\\/ ]?([\\w\\.]+)/i            // Baidu\n            ], [VERSION, [NAME, 'Baidu']], [\n            /\\b(?:mxbrowser|mxios|myie2)\\/?([-\\w\\.]*)\\b/i                       // Maxthon\n            ], [VERSION, [NAME, 'Maxthon']], [\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\\/ ]?([\\w\\.]*)/i,      \n                                                                                // Lunascape/Maxthon/Netfront/Jasmine/Blazer/Sleipnir\n            // Trident based\n            /(avant|iemobile|slim(?:browser|boat|jet))[\\/ ]?([\\d\\.]*)/i,        // Avant/IEMobile/SlimBrowser/SlimBoat/Slimjet\n            /(?:ms|\\()(ie) ([\\w\\.]+)/i,                                         // Internet Explorer\n\n            // Blink/Webkit/KHTML based                                         // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n            /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\\/([-\\w\\.]+)/i,\n                                                                                // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ//Vivaldi/DuckDuckGo/Klar/Helio/Dragon\n            /(heytap|ovi|115)browser\\/([\\d\\.]+)/i,                              // HeyTap/Ovi/115\n            /(weibo)__([\\d\\.]+)/i                                               // Weibo\n            ], [NAME, VERSION], [\n            /quark(?:pc)?\\/([-\\w\\.]+)/i                                         // Quark\n            ], [VERSION, [NAME, 'Quark']], [\n            /\\bddg\\/([\\w\\.]+)/i                                                 // DuckDuckGo\n            ], [VERSION, [NAME, 'DuckDuckGo']], [\n            /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i                 // UCBrowser\n            ], [VERSION, [NAME, 'UC'+BROWSER]], [\n            /microm.+\\bqbcore\\/([\\w\\.]+)/i,                                     // WeChat Desktop for Windows Built-in Browser\n            /\\bqbcore\\/([\\w\\.]+).+microm/i,\n            /micromessenger\\/([\\w\\.]+)/i                                        // WeChat\n            ], [VERSION, [NAME, 'WeChat']], [\n            /konqueror\\/([\\w\\.]+)/i                                             // Konqueror\n            ], [VERSION, [NAME, 'Konqueror']], [\n            /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i                       // IE11\n            ], [VERSION, [NAME, 'IE']], [\n            /ya(?:search)?browser\\/([\\w\\.]+)/i                                  // Yandex\n            ], [VERSION, [NAME, 'Yandex']], [\n            /slbrowser\\/([\\w\\.]+)/i                                             // Smart Lenovo Browser\n            ], [VERSION, [NAME, 'Smart Lenovo '+BROWSER]], [\n            /(avast|avg)\\/([\\w\\.]+)/i                                           // Avast/AVG Secure Browser\n            ], [[NAME, /(.+)/, '$1 Secure '+BROWSER], VERSION], [\n            /\\bfocus\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [VERSION, [NAME, FIREFOX+' Focus']], [\n            /\\bopt\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [VERSION, [NAME, OPERA+' Touch']], [\n            /coc_coc\\w+\\/([\\w\\.]+)/i                                            // Coc Coc Browser\n            ], [VERSION, [NAME, 'Coc Coc']], [\n            /dolfin\\/([\\w\\.]+)/i                                                // Dolphin\n            ], [VERSION, [NAME, 'Dolphin']], [\n            /coast\\/([\\w\\.]+)/i                                                 // Opera Coast\n            ], [VERSION, [NAME, OPERA+' Coast']], [\n            /miuibrowser\\/([\\w\\.]+)/i                                           // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI' + SUFFIX_BROWSER]], [\n            /fxios\\/([\\w\\.-]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, FIREFOX]], [\n            /\\bqihoobrowser\\/?([\\w\\.]*)/i                                       // 360\n            ], [VERSION, [NAME, '360']], [\n            /\\b(qq)\\/([\\w\\.]+)/i                                                // QQ\n            ], [[NAME, /(.+)/, '$1Browser'], VERSION], [\n            /(oculus|sailfish|huawei|vivo|pico)browser\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+)/, '$1' + SUFFIX_BROWSER], VERSION], [              // Oculus/Sailfish/HuaweiBrowser/VivoBrowser/PicoBrowser\n            /samsungbrowser\\/([\\w\\.]+)/i                                        // Samsung Internet\n            ], [VERSION, [NAME, SAMSUNG + ' Internet']], [\n            /metasr[\\/ ]?([\\d\\.]+)/i                                            // Sogou Explorer\n            ], [VERSION, [NAME, 'Sogou Explorer']], [\n            /(sogou)mo\\w+\\/([\\d\\.]+)/i                                          // Sogou Mobile\n            ], [[NAME, 'Sogou Mobile'], VERSION], [\n            /(electron)\\/([\\w\\.]+) safari/i,                                    // Electron-based App\n            /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,                   // Tesla\n            /m?(qqbrowser|2345(?=browser|chrome|explorer))\\w*[\\/ ]?v?([\\w\\.]+)/i   // QQ/2345\n            ], [NAME, VERSION], [\n            /(lbbrowser|rekonq)/i,                                              // LieBao Browser/Rekonq\n            /\\[(linkedin)app\\]/i                                                // LinkedIn App for iOS & Android\n            ], [NAME], [\n            /ome\\/([\\w\\.]+) \\w* ?(iron) saf/i,                                  // Iron\n            /ome\\/([\\w\\.]+).+qihu (360)[es]e/i                                  // 360\n            ], [VERSION, NAME], [\n\n            // WebView\n            /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i       // Facebook App for iOS & Android\n            ], [[NAME, FACEBOOK], VERSION], [\n            /(Klarna)\\/([\\w\\.]+)/i,                                             // Klarna Shopping Browser for iOS & Android\n            /(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,                             // Kakao App\n            /(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,                                  // Naver InApp\n            /safari (line)\\/([\\w\\.]+)/i,                                        // Line App for iOS\n            /\\b(line)\\/([\\w\\.]+)\\/iab/i,                                        // Line App for Android\n            /(alipay)client\\/([\\w\\.]+)/i,                                       // Alipay\n            /(twitter)(?:and| f.+e\\/([\\w\\.]+))/i,                               // Twitter\n            /(chromium|instagram|snapchat)[\\/ ]([-\\w\\.]+)/i                     // Chromium/Instagram/Snapchat\n            ], [NAME, VERSION], [\n            /\\bgsa\\/([\\w\\.]+) .*safari\\//i                                      // Google Search Appliance on iOS\n            ], [VERSION, [NAME, 'GSA']], [\n            /musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i                        // TikTok\n            ], [VERSION, [NAME, 'TikTok']], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)| )/i                                  // Chrome Headless\n            ], [VERSION, [NAME, CHROME+' Headless']], [\n\n            / wv\\).+(chrome)\\/([\\w\\.]+)/i                                       // Chrome WebView\n            ], [[NAME, CHROME+' WebView'], VERSION], [\n\n            /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i           // Android Browser\n            ], [VERSION, [NAME, 'Android '+BROWSER]], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i       // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i                      // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n            /version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i                // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n            /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i                      // Safari < 3.0\n            ], [NAME, [VERSION, strMapper, oldSafariMap]], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i                              // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /(wolvic|librewolf)\\/([\\w\\.]+)/i                                    // Wolvic/LibreWolf\n            ], [NAME, VERSION], [\n            /mobile vr; rv:([\\w\\.]+)\\).+firefox/i                               // Firefox Reality\n            ], [VERSION, [NAME, FIREFOX+' Reality']], [\n            /ekiohf.+(flow)\\/([\\w\\.]+)/i,                                       // Flow\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\\/ ]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror\n            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(firefox)\\/([\\w\\.]+)/i,                                            // Other Firefox-based\n            /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,                         // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Obigo/Mosaic/Go/ICE/UP.Browser\n            /(links) \\(([\\w\\.]+)/i                                              // Links\n            ], [NAME, [VERSION, /_/g, '.']], [\n            \n            /(cobalt)\\/([\\w\\.]+)/i                                              // Cobalt\n            ], [NAME, [VERSION, /master.|lts./, \"\"]]\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i                     // AMD64 (x64)\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32 (x86)\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            /\\b(aarch64|arm(v?8e?l?|_?64))\\b/i                                 // ARM64\n            ], [[ARCHITECTURE, 'arm64']], [\n\n            /\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i                                   // ARMHF\n            ], [[ARCHITECTURE, 'armhf']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows (ce|mobile); ppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i                            // PowerPC\n            ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, lowerize]]\n        ],\n\n        device : [[\n\n            //////////////////////////\n            // MOBILES & TABLETS\n            /////////////////////////\n\n            // Samsung\n            /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [\n            /\\b((?:s[cgp]h|gt|sm)-(?![lr])\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,\n            /samsung[- ]((?!sm-[lr])[-\\w]+)/i,\n            /sec-(sgh\\w+)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [\n\n            // Apple\n            /(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i                          // iPod/iPhone\n            ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [\n            /\\((ipad);[-\\w\\),; ]+apple/i,                                       // iPad\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n            /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n            ], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [\n            /(macintosh);/i\n            ], [MODEL, [VENDOR, APPLE]], [\n\n            // Sharp\n            /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n            ], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [\n\n            // Honor\n            /(?:honor)([-\\w ]+)[;\\)]/i\n            ], [MODEL, [VENDOR, 'Honor'], [TYPE, MOBILE]], [\n\n            // Huawei\n            /\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [\n            /(?:huawei)([-\\w ]+)[;\\)]/i,\n            /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [\n\n            // Xiaomi\n            /\\b(poco[\\w ]+|m2\\d{3}j\\d\\d[a-z]{2})(?: bui|\\))/i,                  // Xiaomi POCO\n            /\\b; (\\w+) build\\/hm\\1/i,                                           // Xiaomi Hongmi 'numeric' models\n            /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,                             // Xiaomi Hongmi\n            /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,                   // Xiaomi Redmi\n            /oid[^\\)]+; (m?[12][0-389][01]\\w{3,6}[c-y])( bui|; wv|\\))/i,        // Xiaomi Redmi 'numeric' models\n            /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\\))/i // Xiaomi Mi\n            ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [\n            /oid[^\\)]+; (2\\d{4}(283|rpbf)[cgl])( bui|\\))/i,                     // Redmi Pad\n            /\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i                        // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [\n\n            // OPPO\n            /; (\\w+) bui.+ oppo/i,\n            /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, MOBILE]], [\n            /\\b(opd2\\d{3}a?) bui/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, TABLET]], [\n\n            // Vivo\n            /vivo (\\w+)(?: bui|\\))/i,\n            /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n            ], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [\n\n            // Realme\n            /\\b(rmx[1-3]\\d{3})(?: bui|;|\\))/i\n            ], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [\n\n            // Motorola\n            /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n            /\\bmot(?:orola)?[- ](\\w*)/i,\n            /((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [\n            /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [\n\n            // LG\n            /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n            ], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [\n            /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n            /\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,\n            /\\blg-?([\\d\\w]+) bui/i\n            ], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [\n\n            // Lenovo\n            /(ideatab[-\\w ]+)/i,\n            /lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n\n            // Nokia\n            /(?:maemo|nokia).*(n900|lumia \\d+)/i,\n            /nokia[-_ ]?([-\\w\\.]*)/i\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Nokia'], [TYPE, MOBILE]], [\n\n            // Google\n            /(pixel c)\\b/i                                                      // Google Pixel C\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [\n            /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i                         // Google Pixel\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [\n\n            // Sony\n            /droid.+; (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [\n            /sony tablet [ps]/i,\n            /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n            ], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [\n\n            // OnePlus\n            / (kb2005|in20[12]5|be20[12][59])\\b/i,\n            /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            // Amazon\n            /(alexa)webm/i,\n            /(kf[a-z]{2}wi|aeo(?!bc)\\w\\w)( bui|\\))/i,                           // Kindle Fire without Silk / Echo Show\n            /(kf[a-z]+)( bui|\\)).+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [\n            /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i                     // Fire Phone\n            ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [\n\n            // BlackBerry\n            /(playbook);[-\\w\\),; ]+(rim)/i                                      // BlackBerry PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n            /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n            /\\(bb10; (\\w+)/i                                                    // BlackBerry 10\n            ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [\n\n            // Asus\n            /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [\n            / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [\n\n            // HTC\n            /(nexus 9)/i                                                        // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n            /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,                         // HTC\n\n            // ZTE\n            /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n            /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i         // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            // TCL\n            /droid [\\w\\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\\w*(\\)| bui)/i\n            ], [MODEL, [VENDOR, 'TCL'], [TYPE, TABLET]], [\n\n            // itel\n            /(itel) ((\\w+))/i\n            ], [[VENDOR, lowerize], MODEL, [TYPE, strMapper, { 'tablet' : ['p10001l', 'w7001'], '*' : 'mobile' }]], [\n\n            // Acer\n            /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            // Meizu\n            /droid.+; (m[1-5] note) bui/i,\n            /\\bmz-([-\\w]{2,})/i\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n                \n            // Ulefone\n            /; ((?:power )?armor(?:[\\w ]{0,8}))(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Ulefone'], [TYPE, MOBILE]], [\n\n            // Energizer\n            /; (energy ?\\w+)(?: bui|\\))/i,\n            /; energizer ([\\w ]+)(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Energizer'], [TYPE, MOBILE]], [\n\n            // Cat\n            /; cat (b35);/i,\n            /; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Cat'], [TYPE, MOBILE]], [\n\n            // Smartfren\n            /((?:new )?andromax[\\w- ]+)(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Smartfren'], [TYPE, MOBILE]], [\n\n            // Nothing\n            /droid.+; (a(?:015|06[35]|142p?))/i\n            ], [MODEL, [VENDOR, 'Nothing'], [TYPE, MOBILE]], [\n\n            // MIXED\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\\w]*)/i,\n                                                                                // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron/Infinix/Tecno/Micromax/Advan\n            /; (imo) ((?!tab)[\\w ]+?)(?: bui|\\))/i,                             // IMO\n            /(hp) ([\\w ]+\\w)/i,                                                 // HP iPAQ\n            /(asus)-?(\\w+)/i,                                                   // Asus\n            /(microsoft); (lumia[\\w ]+)/i,                                      // Microsoft Lumia\n            /(lenovo)[-_ ]?([-\\w]+)/i,                                          // Lenovo\n            /(jolla)/i,                                                         // Jolla\n            /(oppo) ?([\\w ]+) bui/i                                             // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /(imo) (tab \\w+)/i,                                                 // IMO\n            /(kobo)\\s(ereader|touch)/i,                                         // Kobo\n            /(archos) (gamepad2?)/i,                                            // Archos\n            /(hp).+(touchpad(?!.+tablet)|tablet)/i,                             // HP TouchPad\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(nook)[\\w ]+build\\/(\\w+)/i,                                        // Nook\n            /(dell) (strea[kpr\\d ]*[\\dko])/i,                                   // Dell Streak\n            /(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,                                  // Le Pan Tablets\n            /(trinity)[- ]*(t\\d{3}) bui/i,                                      // Trinity Tablets\n            /(gigaset)[- ]+(q\\w{1,9}) bui/i,                                    // Gigaset Tablets\n            /(vodafone) ([\\w ]+)(?:\\)| bui)/i                                   // Vodafone\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(surface duo)/i                                                    // Surface Duo\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [\n            /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i                                 // Fairphone\n            ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [\n            /(u304aa)/i                                                         // AT&T\n            ], [MODEL, [VENDOR, 'AT&T'], [TYPE, MOBILE]], [\n            /\\bsie-(\\w*)/i                                                      // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n            /\\b(rct\\w+) b/i                                                     // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n            /\\b(venue[\\d ]{2,7}) b/i                                            // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n            /\\b(q(?:mv|ta)\\w+) b/i                                              // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n            /\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i                       // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'Barnes & Noble'], [TYPE, TABLET]], [\n            /\\b(tm\\d{3}\\w+) b/i\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n            /\\b(k88) b/i                                                        // ZTE K Series Tablet\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [\n            /\\b(nx\\d{3}j) b/i                                                   // ZTE Nubia\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [\n            /\\b(gen\\d{3}) b.+49h/i                                              // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n            /\\b(zur\\d{3}) b/i                                                   // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n            /\\b((zeki)?tb.*\\b) b/i                                              // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n            /\\b([yr]\\d{2}) b/i,\n            /\\b(dragon[- ]+touch |dt)(\\w{5}) b/i                                // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n            /\\b(ns-?\\w{0,9}) b/i                                                // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n            /\\b((nxa|next)-?\\w{0,9}) b/i                                        // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n            /\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i                  // Voice Xtreme Phones\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [\n            /\\b(lvtel\\-)?(v1[12]) b/i                                           // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n            /\\b(ph-1) /i                                                        // Essential PH-1\n            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [\n            /\\b(v(100md|700na|7011|917g).*\\b) b/i                               // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n            /\\b(trio[-\\w\\. ]+) b/i                                              // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n            /\\btu_(1491) b/i                                                    // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n            /(shield[\\w ]+) b/i                                                 // Nvidia Shield Tablets\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, TABLET]], [\n            /(sprint) (\\w+)/i                                                   // Sprint Phones\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [\n            /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i             // Zebra\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [\n            /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [\n\n            ///////////////////\n            // SMARTTVS\n            ///////////////////\n\n            /smart-tv.+(samsung)/i                                              // Samsung\n            ], [VENDOR, [TYPE, SMARTTV]], [\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [\n            /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i        // LG SmartTV\n            ], [[VENDOR, LG], [TYPE, SMARTTV]], [\n            /(apple) ?tv/i                                                      // Apple TV\n            ], [VENDOR, [MODEL, APPLE+' TV'], [TYPE, SMARTTV]], [\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, CHROME+'cast'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /droid.+aft(\\w+)( bui|\\))/i                                         // Fire TV\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [\n            /\\(dtv[\\);].+(aquos)/i,\n            /(aquos-tv[\\w ]+)\\)/i                                               // Sharp\n            ], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],[\n            /(bravia[\\w ]+)( bui|\\))/i                                              // Sony\n            ], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [\n            /(mitv-\\w{5}) bui/i                                                 // Xiaomi\n            ], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [\n            /Hbbtv.*(technisat) (.*);/i                                         // TechniSAT\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,                          // Roku\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i         // HbbTV devices\n            ], [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]], [\n            /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i                   // SmartTV from Unidentified Vendors\n            ], [[TYPE, SMARTTV]], [\n\n            ///////////////////\n            // CONSOLES\n            ///////////////////\n\n            /(ouya)/i,                                                          // Ouya\n            /(nintendo) ([wids3utch]+)/i                                        // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n            /droid.+; (shield) bui/i                                            // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n            /(playstation [345portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [\n            /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i                                // Microsoft Xbox\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [\n\n            ///////////////////\n            // WEARABLES\n            ///////////////////\n\n            /\\b(sm-[lr]\\d\\d[05][fnuw]?s?)\\b/i                                   // Samsung Galaxy Watch\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, WEARABLE]], [\n            /((pebble))app/i                                                    // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i                              // Apple Watch\n            ], [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]], [\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [\n            /droid.+; (wt63?0{2,3})\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // XR\n            ///////////////////\n\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [\n            /(pico) (4|neo3(?: link|pro)?)/i                                    // Pico\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /; (quest( \\d| pro)?)/i                                             // Oculus Quest\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // EMBEDDED\n            ///////////////////\n\n            /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i                              // Tesla\n            ], [VENDOR, [TYPE, EMBEDDED]], [\n            /(aeobc)\\b/i                                                        // Echo Dot\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]], [\n\n            ////////////////////\n            // MIXED (GENERIC)\n            ///////////////////\n\n            /droid .+?; ([^;]+?)(?: bui|; wv\\)|\\) applew).+? mobile safari/i    // Android Phones from Unidentified Vendors\n            ], [MODEL, [TYPE, MOBILE]], [\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i       // Android Tablets from Unidentified Vendors\n            ], [MODEL, [TYPE, TABLET]], [\n            /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i                      // Unidentifiable Tablet\n            ], [[TYPE, TABLET]], [\n            /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i    // Unidentifiable Mobile\n            ], [[TYPE, MOBILE]], [\n            /(android[-\\w\\. ]{0,9});.+buil/i                                    // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+ edge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, EDGE+'HTML']], [\n\n            /(arkweb)\\/([\\w\\.]+)/i                                              // ArkWeb\n            ], [NAME, VERSION], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna/Servo\n            /ekioh(flow)\\/([\\w\\.]+)/i,                                          // Flow\n            /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,                           // KHTML/Tasman/Links\n            /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,                                      // iCab\n            /\\b(libweb)/i\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i                                     // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows\n            /microsoft (windows) (vista|xp)/i                                   // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i             // Windows Phone\n            ], [NAME, [VERSION, strMapper, windowsVersionMap]], [\n            /windows nt 6\\.2; (arm)/i,                                        // Windows RT\n            /windows[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i,\n            /(?:win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i\n            ], [[VERSION, strMapper, windowsVersionMap], [NAME, 'Windows']], [\n\n            // iOS/macOS\n            /ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,              // iOS\n            /(?:ios;fbsv\\/|iphone.+ios[\\/ ])([\\d\\.]+)/i,\n            /cfnetwork\\/.+darwin/i\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n            /(mac os x) ?([\\w\\. ]*)/i,\n            /(macintosh|mac_powerpc\\b)(?!.+haiku)/i                             // Mac OS\n            ], [[NAME, MAC_OS], [VERSION, /_/g, '.']], [\n\n            // Mobile OSes\n            /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i                    // Android-x86/HarmonyOS\n            ], [VERSION, NAME], [                                               // Android/WebOS/QNX/Bada/RIM/Maemo/MeeGo/Sailfish OS/OpenHarmony\n            /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\\/ ]?([\\w\\.]*)/i,\n            /(blackberry)\\w*\\/([\\w\\.]*)/i,                                      // Blackberry\n            /(tizen|kaios)[\\/ ]([\\w\\.]+)/i,                                     // Tizen/KaiOS\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME, VERSION], [\n            /\\(bb(10);/i                                                        // BlackBerry 10\n            ], [VERSION, [NAME, BLACKBERRY]], [\n            /(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i         // Symbian\n            ], [VERSION, [NAME, 'Symbian']], [\n            /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n            ], [VERSION, [NAME, FIREFOX+' OS']], [\n            /web0s;.+rt(tv)/i,\n            /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i                              // WebOS\n            ], [VERSION, [NAME, 'webOS']], [\n            /watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i                              // watchOS\n            ], [VERSION, [NAME, 'watchOS']], [\n\n            // Google Chromecast\n            /crkey\\/([\\d\\.]+)/i                                                 // Google Chromecast\n            ], [VERSION, [NAME, CHROME+'cast']], [\n            /(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i                                  // Chromium OS\n            ], [[NAME, CHROMIUM_OS], VERSION],[\n\n            // Smart TVs\n            /panasonic;(viera)/i,                                               // Panasonic Viera\n            /(netrange)mmh/i,                                                   // Netrange\n            /(nettv)\\/(\\d+\\.[\\w\\.]+)/i,                                         // NetTV\n\n            // Console\n            /(nintendo|playstation) ([wids345portablevuch]+)/i,                 // Nintendo/Playstation\n            /(xbox); +xbox ([^\\);]+)/i,                                         // Microsoft Xbox (360, One, X, S, Series X, Series S)\n\n            // Other\n            /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,                            // Joli/Palm\n            /(mint)[\\/\\(\\) ]?(\\w*)/i,                                           // Mint\n            /(mageia|vectorlinux)[; ]/i,                                        // Mageia/VectorLinux\n            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n                                                                                // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n            /(hurd|linux) ?([\\w\\.]*)/i,                                         // Hurd/Linux\n            /(gnu) ?([\\w\\.]*)/i,                                                // GNU\n            /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n            /(haiku) (\\w+)/i                                                    // Haiku\n            ], [NAME, VERSION], [\n            /(sunos) ?([\\w\\.\\d]*)/i                                             // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n            /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,                              // Solaris\n            /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,                                  // AIX\n            /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i, // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX/SerenityOS\n            /(unix) ?([\\w\\.]*)/i                                                // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n    /////////////////\n    // Constructor\n    ////////////////\n\n    var UAParser = function (ua, extensions) {\n\n        if (typeof ua === OBJ_TYPE) {\n            extensions = ua;\n            ua = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(ua, extensions).getResult();\n        }\n\n        var _navigator = (typeof window !== UNDEF_TYPE && window.navigator) ? window.navigator : undefined;\n        var _ua = ua || ((_navigator && _navigator.userAgent) ? _navigator.userAgent : EMPTY);\n        var _uach = (_navigator && _navigator.userAgentData) ? _navigator.userAgentData : undefined;\n        var _rgxmap = extensions ? extend(regexes, extensions) : regexes;\n        var _isSelfNav = _navigator && _navigator.userAgent == _ua;\n\n        this.getBrowser = function () {\n            var _browser = {};\n            _browser[NAME] = undefined;\n            _browser[VERSION] = undefined;\n            rgxMapper.call(_browser, _ua, _rgxmap.browser);\n            _browser[MAJOR] = majorize(_browser[VERSION]);\n            // Brave-specific detection\n            if (_isSelfNav && _navigator && _navigator.brave && typeof _navigator.brave.isBrave == FUNC_TYPE) {\n                _browser[NAME] = 'Brave';\n            }\n            return _browser;\n        };\n        this.getCPU = function () {\n            var _cpu = {};\n            _cpu[ARCHITECTURE] = undefined;\n            rgxMapper.call(_cpu, _ua, _rgxmap.cpu);\n            return _cpu;\n        };\n        this.getDevice = function () {\n            var _device = {};\n            _device[VENDOR] = undefined;\n            _device[MODEL] = undefined;\n            _device[TYPE] = undefined;\n            rgxMapper.call(_device, _ua, _rgxmap.device);\n            if (_isSelfNav && !_device[TYPE] && _uach && _uach.mobile) {\n                _device[TYPE] = MOBILE;\n            }\n            // iPadOS-specific detection: identified as Mac, but has some iOS-only properties\n            if (_isSelfNav && _device[MODEL] == 'Macintosh' && _navigator && typeof _navigator.standalone !== UNDEF_TYPE && _navigator.maxTouchPoints && _navigator.maxTouchPoints > 2) {\n                _device[MODEL] = 'iPad';\n                _device[TYPE] = TABLET;\n            }\n            return _device;\n        };\n        this.getEngine = function () {\n            var _engine = {};\n            _engine[NAME] = undefined;\n            _engine[VERSION] = undefined;\n            rgxMapper.call(_engine, _ua, _rgxmap.engine);\n            return _engine;\n        };\n        this.getOS = function () {\n            var _os = {};\n            _os[NAME] = undefined;\n            _os[VERSION] = undefined;\n            rgxMapper.call(_os, _ua, _rgxmap.os);\n            if (_isSelfNav && !_os[NAME] && _uach && _uach.platform && _uach.platform != 'Unknown') {\n                _os[NAME] = _uach.platform  \n                                    .replace(/chrome os/i, CHROMIUM_OS)\n                                    .replace(/macos/i, MAC_OS);           // backward compatibility\n            }\n            return _os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return _ua;\n        };\n        this.setUA = function (ua) {\n            _ua = (typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH) ? trim(ua, UA_MAX_LENGTH) : ua;\n            return this;\n        };\n        this.setUA(_ua);\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER =  enumerize([NAME, VERSION, MAJOR]);\n    UAParser.CPU = enumerize([ARCHITECTURE]);\n    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n    ///////////\n    // Export\n    //////////\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (\"object\" !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (\"function\" === FUNC_TYPE && __webpack_require__.amdO) {\n            !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n                return UAParser;\n            }).call(exports, __webpack_require__, exports, module),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n        } else if (typeof window !== UNDEF_TYPE) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = typeof window !== UNDEF_TYPE && (window.jQuery || window.Zepto);\n    if ($ && !$.ua) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (ua) {\n            parser.setUA(ua);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdWEtcGFyc2VyLWpzL3NyYy91YS1wYXJzZXIuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDBCQUEwQixjQUFjO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSw2Q0FBNkM7QUFDN0M7O0FBRUE7QUFDQTs7QUFFQSxxQ0FBcUM7QUFDckM7O0FBRUE7QUFDQSxvQ0FBb0Msa0JBQWtCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFD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O0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRUFBMEU7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQWE7QUFDekI7QUFDQTtBQUNBLFFBQVEsZ0JBQWdCO0FBQ3hCLE1BQU07QUFDTjtBQUNBLFlBQVksVUFBYyxrQkFBa0Isd0JBQVU7QUFDdEQsWUFBWSxtQ0FBTztBQUNuQjtBQUNBLGFBQWE7QUFBQSxrR0FBQztBQUNkLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3VhLXBhcnNlci1qcy9zcmMvdWEtcGFyc2VyLmpzPzMwZDMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vKiBVQVBhcnNlci5qcyB2MS4wLjQwXG4gICBDb3B5cmlnaHQgwqkgMjAxMi0yMDI0IEZhaXNhbCBTYWxtYW4gPGZAZmFpc2FsbWFuLmNvbT5cbiAgIE1JVCBMaWNlbnNlICovLypcbiAgIERldGVjdCBCcm93c2VyLCBFbmdpbmUsIE9TLCBDUFUsIGFuZCBEZXZpY2UgdHlwZS9tb2RlbCBmcm9tIFVzZXItQWdlbnQgZGF0YS5cbiAgIFN1cHBvcnRzIGJyb3dzZXIgJiBub2RlLmpzIGVudmlyb25tZW50LiBcbiAgIERlbW8gICA6IGh0dHBzOi8vZmFpc2FsbWFuLmdpdGh1Yi5pby91YS1wYXJzZXItanNcbiAgIFNvdXJjZSA6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWlzYWxtYW4vdWEtcGFyc2VyLWpzICovXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuKGZ1bmN0aW9uICh3aW5kb3csIHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBDb25zdGFudHNcbiAgICAvLy8vLy8vLy8vLy8vXG5cblxuICAgIHZhciBMSUJWRVJTSU9OICA9ICcxLjAuNDAnLFxuICAgICAgICBFTVBUWSAgICAgICA9ICcnLFxuICAgICAgICBVTktOT1dOICAgICA9ICc/JyxcbiAgICAgICAgRlVOQ19UWVBFICAgPSAnZnVuY3Rpb24nLFxuICAgICAgICBVTkRFRl9UWVBFICA9ICd1bmRlZmluZWQnLFxuICAgICAgICBPQkpfVFlQRSAgICA9ICdvYmplY3QnLFxuICAgICAgICBTVFJfVFlQRSAgICA9ICdzdHJpbmcnLFxuICAgICAgICBNQUpPUiAgICAgICA9ICdtYWpvcicsXG4gICAgICAgIE1PREVMICAgICAgID0gJ21vZGVsJyxcbiAgICAgICAgTkFNRSAgICAgICAgPSAnbmFtZScsXG4gICAgICAgIFRZUEUgICAgICAgID0gJ3R5cGUnLFxuICAgICAgICBWRU5ET1IgICAgICA9ICd2ZW5kb3InLFxuICAgICAgICBWRVJTSU9OICAgICA9ICd2ZXJzaW9uJyxcbiAgICAgICAgQVJDSElURUNUVVJFPSAnYXJjaGl0ZWN0dXJlJyxcbiAgICAgICAgQ09OU09MRSAgICAgPSAnY29uc29sZScsXG4gICAgICAgIE1PQklMRSAgICAgID0gJ21vYmlsZScsXG4gICAgICAgIFRBQkxFVCAgICAgID0gJ3RhYmxldCcsXG4gICAgICAgIFNNQVJUVFYgICAgID0gJ3NtYXJ0dHYnLFxuICAgICAgICBXRUFSQUJMRSAgICA9ICd3ZWFyYWJsZScsXG4gICAgICAgIEVNQkVEREVEICAgID0gJ2VtYmVkZGVkJyxcbiAgICAgICAgVUFfTUFYX0xFTkdUSCA9IDUwMDtcblxuICAgIHZhciBBTUFaT04gID0gJ0FtYXpvbicsXG4gICAgICAgIEFQUExFICAgPSAnQXBwbGUnLFxuICAgICAgICBBU1VTICAgID0gJ0FTVVMnLFxuICAgICAgICBCTEFDS0JFUlJZID0gJ0JsYWNrQmVycnknLFxuICAgICAgICBCUk9XU0VSID0gJ0Jyb3dzZXInLFxuICAgICAgICBDSFJPTUUgID0gJ0Nocm9tZScsXG4gICAgICAgIEVER0UgICAgPSAnRWRnZScsXG4gICAgICAgIEZJUkVGT1ggPSAnRmlyZWZveCcsXG4gICAgICAgIEdPT0dMRSAgPSAnR29vZ2xlJyxcbiAgICAgICAgSFVBV0VJICA9ICdIdWF3ZWknLFxuICAgICAgICBMRyAgICAgID0gJ0xHJyxcbiAgICAgICAgTUlDUk9TT0ZUID0gJ01pY3Jvc29mdCcsXG4gICAgICAgIE1PVE9ST0xBICA9ICdNb3Rvcm9sYScsXG4gICAgICAgIE9QRVJBICAgPSAnT3BlcmEnLFxuICAgICAgICBTQU1TVU5HID0gJ1NhbXN1bmcnLFxuICAgICAgICBTSEFSUCAgID0gJ1NoYXJwJyxcbiAgICAgICAgU09OWSAgICA9ICdTb255JyxcbiAgICAgICAgWElBT01JICA9ICdYaWFvbWknLFxuICAgICAgICBaRUJSQSAgID0gJ1plYnJhJyxcbiAgICAgICAgRkFDRUJPT0sgICAgPSAnRmFjZWJvb2snLFxuICAgICAgICBDSFJPTUlVTV9PUyA9ICdDaHJvbWl1bSBPUycsXG4gICAgICAgIE1BQ19PUyAgPSAnTWFjIE9TJyxcbiAgICAgICAgU1VGRklYX0JST1dTRVIgPSAnIEJyb3dzZXInO1xuXG4gICAgLy8vLy8vLy8vLy9cbiAgICAvLyBIZWxwZXJcbiAgICAvLy8vLy8vLy8vXG5cbiAgICB2YXIgZXh0ZW5kID0gZnVuY3Rpb24gKHJlZ2V4ZXMsIGV4dGVuc2lvbnMpIHtcbiAgICAgICAgICAgIHZhciBtZXJnZWRSZWdleGVzID0ge307XG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIHJlZ2V4ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXh0ZW5zaW9uc1tpXSAmJiBleHRlbnNpb25zW2ldLmxlbmd0aCAlIDIgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkUmVnZXhlc1tpXSA9IGV4dGVuc2lvbnNbaV0uY29uY2F0KHJlZ2V4ZXNbaV0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1lcmdlZFJlZ2V4ZXNbaV0gPSByZWdleGVzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtZXJnZWRSZWdleGVzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJpemUgPSBmdW5jdGlvbiAoYXJyKSB7XG4gICAgICAgICAgICB2YXIgZW51bXMgPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBlbnVtc1thcnJbaV0udG9VcHBlckNhc2UoKV0gPSBhcnJbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZW51bXM7XG4gICAgICAgIH0sXG4gICAgICAgIGhhcyA9IGZ1bmN0aW9uIChzdHIxLCBzdHIyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHN0cjEgPT09IFNUUl9UWVBFID8gbG93ZXJpemUoc3RyMikuaW5kZXhPZihsb3dlcml6ZShzdHIxKSkgIT09IC0xIDogZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGxvd2VyaXplID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICAgICAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9LFxuICAgICAgICBtYWpvcml6ZSA9IGZ1bmN0aW9uICh2ZXJzaW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mKHZlcnNpb24pID09PSBTVFJfVFlQRSA/IHZlcnNpb24ucmVwbGFjZSgvW15cXGRcXC5dL2csIEVNUFRZKS5zcGxpdCgnLicpWzBdIDogdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICB0cmltID0gZnVuY3Rpb24gKHN0ciwgbGVuKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mKHN0cikgPT09IFNUUl9UWVBFKSB7XG4gICAgICAgICAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoL15cXHNcXHMqLywgRU1QVFkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YobGVuKSA9PT0gVU5ERUZfVFlQRSA/IHN0ciA6IHN0ci5zdWJzdHJpbmcoMCwgVUFfTUFYX0xFTkdUSCk7XG4gICAgICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vLy8vLy8vLy8vLy8vL1xuICAgIC8vIE1hcCBoZWxwZXJcbiAgICAvLy8vLy8vLy8vLy8vL1xuXG4gICAgdmFyIHJneE1hcHBlciA9IGZ1bmN0aW9uICh1YSwgYXJyYXlzKSB7XG5cbiAgICAgICAgICAgIHZhciBpID0gMCwgaiwgaywgcCwgcSwgbWF0Y2hlcywgbWF0Y2g7XG5cbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCBhbGwgcmVnZXhlcyBtYXBzXG4gICAgICAgICAgICB3aGlsZSAoaSA8IGFycmF5cy5sZW5ndGggJiYgIW1hdGNoZXMpIHtcblxuICAgICAgICAgICAgICAgIHZhciByZWdleCA9IGFycmF5c1tpXSwgICAgICAgLy8gZXZlbiBzZXF1ZW5jZSAoMCwyLDQsLi4pXG4gICAgICAgICAgICAgICAgICAgIHByb3BzID0gYXJyYXlzW2kgKyAxXTsgICAvLyBvZGQgc2VxdWVuY2UgKDEsMyw1LC4uKVxuICAgICAgICAgICAgICAgIGogPSBrID0gMDtcblxuICAgICAgICAgICAgICAgIC8vIHRyeSBtYXRjaGluZyB1YXN0cmluZyB3aXRoIHJlZ2V4ZXNcbiAgICAgICAgICAgICAgICB3aGlsZSAoaiA8IHJlZ2V4Lmxlbmd0aCAmJiAhbWF0Y2hlcykge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVnZXhbal0pIHsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcyA9IHJlZ2V4W2orK10uZXhlYyh1YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCEhbWF0Y2hlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChwID0gMDsgcCA8IHByb3BzLmxlbmd0aDsgcCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBtYXRjaGVzWysra107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcSA9IHByb3BzW3BdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGdpdmVuIHByb3BlcnR5IGlzIGFjdHVhbGx5IGFycmF5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBxID09PSBPQkpfVFlQRSAmJiBxLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHEubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHFbMV0gPT0gRlVOQ19UWVBFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXNzaWduIG1vZGlmaWVkIG1hdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1txWzBdXSA9IHFbMV0uY2FsbCh0aGlzLCBtYXRjaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFzc2lnbiBnaXZlbiB2YWx1ZSwgaWdub3JlIHJlZ2V4IG1hdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1txWzBdXSA9IHFbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocS5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIHdoZXRoZXIgZnVuY3Rpb24gb3IgcmVnZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcVsxXSA9PT0gRlVOQ19UWVBFICYmICEocVsxXS5leGVjICYmIHFbMV0udGVzdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxsIGZ1bmN0aW9uICh1c3VhbGx5IHN0cmluZyBtYXBwZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1txWzBdXSA9IG1hdGNoID8gcVsxXS5jYWxsKHRoaXMsIG1hdGNoLCBxWzJdKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2FuaXRpemUgbWF0Y2ggdXNpbmcgZ2l2ZW4gcmVnZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3FbMF1dID0gbWF0Y2ggPyBtYXRjaC5yZXBsYWNlKHFbMV0sIHFbMl0pIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHEubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1txWzBdXSA9IG1hdGNoID8gcVszXS5jYWxsKHRoaXMsIG1hdGNoLnJlcGxhY2UocVsxXSwgcVsyXSkpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1txXSA9IG1hdGNoID8gbWF0Y2ggOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBzdHJNYXBwZXIgPSBmdW5jdGlvbiAoc3RyLCBtYXApIHtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBtYXApIHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBjdXJyZW50IHZhbHVlIGlzIGFycmF5XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtYXBbaV0gPT09IE9CSl9UWVBFICYmIG1hcFtpXS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWFwW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzKG1hcFtpXVtqXSwgc3RyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoaSA9PT0gVU5LTk9XTikgPyB1bmRlZmluZWQgOiBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoYXMobWFwW2ldLCBzdHIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoaSA9PT0gVU5LTk9XTikgPyB1bmRlZmluZWQgOiBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtYXAuaGFzT3duUHJvcGVydHkoJyonKSA/IG1hcFsnKiddIDogc3RyO1xuICAgIH07XG5cbiAgICAvLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBTdHJpbmcgbWFwXG4gICAgLy8vLy8vLy8vLy8vLy9cblxuICAgIC8vIFNhZmFyaSA8IDMuMFxuICAgIHZhciBvbGRTYWZhcmlNYXAgPSB7XG4gICAgICAgICAgICAnMS4wJyAgIDogJy84JyxcbiAgICAgICAgICAgICcxLjInICAgOiAnLzEnLFxuICAgICAgICAgICAgJzEuMycgICA6ICcvMycsXG4gICAgICAgICAgICAnMi4wJyAgIDogJy80MTInLFxuICAgICAgICAgICAgJzIuMC4yJyA6ICcvNDE2JyxcbiAgICAgICAgICAgICcyLjAuMycgOiAnLzQxNycsXG4gICAgICAgICAgICAnMi4wLjQnIDogJy80MTknLFxuICAgICAgICAgICAgJz8nICAgICA6ICcvJ1xuICAgICAgICB9LFxuICAgICAgICB3aW5kb3dzVmVyc2lvbk1hcCA9IHtcbiAgICAgICAgICAgICdNRScgICAgICAgIDogJzQuOTAnLFxuICAgICAgICAgICAgJ05UIDMuMTEnICAgOiAnTlQzLjUxJyxcbiAgICAgICAgICAgICdOVCA0LjAnICAgIDogJ05UNC4wJyxcbiAgICAgICAgICAgICcyMDAwJyAgICAgIDogJ05UIDUuMCcsXG4gICAgICAgICAgICAnWFAnICAgICAgICA6IFsnTlQgNS4xJywgJ05UIDUuMiddLFxuICAgICAgICAgICAgJ1Zpc3RhJyAgICAgOiAnTlQgNi4wJyxcbiAgICAgICAgICAgICc3JyAgICAgICAgIDogJ05UIDYuMScsXG4gICAgICAgICAgICAnOCcgICAgICAgICA6ICdOVCA2LjInLFxuICAgICAgICAgICAgJzguMScgICAgICAgOiAnTlQgNi4zJyxcbiAgICAgICAgICAgICcxMCcgICAgICAgIDogWydOVCA2LjQnLCAnTlQgMTAuMCddLFxuICAgICAgICAgICAgJ1JUJyAgICAgICAgOiAnQVJNJ1xuICAgIH07XG5cbiAgICAvLy8vLy8vLy8vLy8vL1xuICAgIC8vIFJlZ2V4IG1hcFxuICAgIC8vLy8vLy8vLy8vLy9cblxuICAgIHZhciByZWdleGVzID0ge1xuXG4gICAgICAgIGJyb3dzZXIgOiBbW1xuXG4gICAgICAgICAgICAvXFxiKD86Y3Jtb3xjcmlvcylcXC8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaHJvbWUgZm9yIEFuZHJvaWQvaU9TXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsICdDaHJvbWUnXV0sIFtcbiAgICAgICAgICAgIC9lZGcoPzplfGlvc3xhKT9cXC8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWljcm9zb2Z0IEVkZ2VcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgJ0VkZ2UnXV0sIFtcblxuICAgICAgICAgICAgLy8gUHJlc3RvIGJhc2VkXG4gICAgICAgICAgICAvKG9wZXJhIG1pbmkpXFwvKFstXFx3XFwuXSspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9wZXJhIE1pbmlcbiAgICAgICAgICAgIC8ob3BlcmEgW21vYmlsZXRhYl17Myw2fSlcXGIuK3ZlcnNpb25cXC8oWy1cXHdcXC5dKykvaSwgICAgICAgICAgICAgICAgIC8vIE9wZXJhIE1vYmkvVGFibGV0XG4gICAgICAgICAgICAvKG9wZXJhKSg/Oi4rdmVyc2lvblxcL3xbXFwvIF0rKShbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPcGVyYVxuICAgICAgICAgICAgXSwgW05BTUUsIFZFUlNJT05dLCBbXG4gICAgICAgICAgICAvb3Bpb3NbXFwvIF0rKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9wZXJhIG1pbmkgb24gaXBob25lID49IDguMFxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCBPUEVSQSsnIE1pbmknXV0sIFtcbiAgICAgICAgICAgIC9cXGJvcCg/OnJnKT94XFwvKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9wZXJhIEdYXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsIE9QRVJBKycgR1gnXV0sIFtcbiAgICAgICAgICAgIC9cXGJvcHJcXC8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9wZXJhIFdlYmtpdFxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCBPUEVSQV1dLCBbXG5cbiAgICAgICAgICAgIC8vIE1peGVkXG4gICAgICAgICAgICAvXFxiYlthaV0qZCg/OnVoZHxbdWJdKlthZWtvcHJzd3hdezUsNn0pW1xcLyBdPyhbXFx3XFwuXSspL2kgICAgICAgICAgICAvLyBCYWlkdVxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnQmFpZHUnXV0sIFtcbiAgICAgICAgICAgIC9cXGIoPzpteGJyb3dzZXJ8bXhpb3N8bXlpZTIpXFwvPyhbLVxcd1xcLl0qKVxcYi9pICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXh0aG9uXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsICdNYXh0aG9uJ11dLCBbXG4gICAgICAgICAgICAvKGtpbmRsZSlcXC8oW1xcd1xcLl0rKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEtpbmRsZVxuICAgICAgICAgICAgLyhsdW5hc2NhcGV8bWF4dGhvbnxuZXRmcm9udHxqYXNtaW5lfGJsYXplcnxzbGVpcG5pcilbXFwvIF0/KFtcXHdcXC5dKikvaSwgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTHVuYXNjYXBlL01heHRob24vTmV0ZnJvbnQvSmFzbWluZS9CbGF6ZXIvU2xlaXBuaXJcbiAgICAgICAgICAgIC8vIFRyaWRlbnQgYmFzZWRcbiAgICAgICAgICAgIC8oYXZhbnR8aWVtb2JpbGV8c2xpbSg/OmJyb3dzZXJ8Ym9hdHxqZXQpKVtcXC8gXT8oW1xcZFxcLl0qKS9pLCAgICAgICAgLy8gQXZhbnQvSUVNb2JpbGUvU2xpbUJyb3dzZXIvU2xpbUJvYXQvU2xpbWpldFxuICAgICAgICAgICAgLyg/Om1zfFxcKCkoaWUpIChbXFx3XFwuXSspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbnRlcm5ldCBFeHBsb3JlclxuXG4gICAgICAgICAgICAvLyBCbGluay9XZWJraXQvS0hUTUwgYmFzZWQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZsb2NrL1JvY2tNZWx0L01pZG9yaS9FcGlwaGFueS9TaWxrL1NreWZpcmUvQm9sdC9Jcm9uL0lyaWRpdW0vUGhhbnRvbUpTL0Jvd3Nlci9RdXBaaWxsYS9GYWxrb25cbiAgICAgICAgICAgIC8oZmxvY2t8cm9ja21lbHR8bWlkb3JpfGVwaXBoYW55fHNpbGt8c2t5ZmlyZXxvdmlicm93c2VyfGJvbHR8aXJvbnx2aXZhbGRpfGlyaWRpdW18cGhhbnRvbWpzfGJvd3NlcnxxdXB6aWxsYXxmYWxrb258cmVrb25xfHB1ZmZpbnxicmF2ZXx3aGFsZSg/IS4rbmF2ZXIpfHFxYnJvd3NlcmxpdGV8ZHVja2R1Y2tnb3xrbGFyfGhlbGlvfCg/PWNvbW9kb18pP2RyYWdvbilcXC8oWy1cXHdcXC5dKykvaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVrb25xL1B1ZmZpbi9CcmF2ZS9XaGFsZS9RUUJyb3dzZXJMaXRlL1FRLy9WaXZhbGRpL0R1Y2tEdWNrR28vS2xhci9IZWxpby9EcmFnb25cbiAgICAgICAgICAgIC8oaGV5dGFwfG92aXwxMTUpYnJvd3NlclxcLyhbXFxkXFwuXSspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGV5VGFwL092aS8xMTVcbiAgICAgICAgICAgIC8od2VpYm8pX18oW1xcZFxcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZWlib1xuICAgICAgICAgICAgXSwgW05BTUUsIFZFUlNJT05dLCBbXG4gICAgICAgICAgICAvcXVhcmsoPzpwYyk/XFwvKFstXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFF1YXJrXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsICdRdWFyayddXSwgW1xuICAgICAgICAgICAgL1xcYmRkZ1xcLyhbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRHVja0R1Y2tHb1xuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnRHVja0R1Y2tHbyddXSwgW1xuICAgICAgICAgICAgLyg/OlxcYnVjPyA/YnJvd3NlcnwoPzpqdWMuKyl1Y3dlYilbXFwvIF0/KFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgLy8gVUNCcm93c2VyXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsICdVQycrQlJPV1NFUl1dLCBbXG4gICAgICAgICAgICAvbWljcm9tLitcXGJxYmNvcmVcXC8oW1xcd1xcLl0rKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZUNoYXQgRGVza3RvcCBmb3IgV2luZG93cyBCdWlsdC1pbiBCcm93c2VyXG4gICAgICAgICAgICAvXFxicWJjb3JlXFwvKFtcXHdcXC5dKykuK21pY3JvbS9pLFxuICAgICAgICAgICAgL21pY3JvbWVzc2VuZ2VyXFwvKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZUNoYXRcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgJ1dlQ2hhdCddXSwgW1xuICAgICAgICAgICAgL2tvbnF1ZXJvclxcLyhbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBLb25xdWVyb3JcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgJ0tvbnF1ZXJvciddXSwgW1xuICAgICAgICAgICAgL3RyaWRlbnQuK3J2WzogXShbXFx3XFwuXXsxLDl9KVxcYi4rbGlrZSBnZWNrby9pICAgICAgICAgICAgICAgICAgICAgICAvLyBJRTExXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsICdJRSddXSwgW1xuICAgICAgICAgICAgL3lhKD86c2VhcmNoKT9icm93c2VyXFwvKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBZYW5kZXhcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgJ1lhbmRleCddXSwgW1xuICAgICAgICAgICAgL3NsYnJvd3NlclxcLyhbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTbWFydCBMZW5vdm8gQnJvd3NlclxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnU21hcnQgTGVub3ZvICcrQlJPV1NFUl1dLCBbXG4gICAgICAgICAgICAvKGF2YXN0fGF2ZylcXC8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEF2YXN0L0FWRyBTZWN1cmUgQnJvd3NlclxuICAgICAgICAgICAgXSwgW1tOQU1FLCAvKC4rKS8sICckMSBTZWN1cmUgJytCUk9XU0VSXSwgVkVSU0lPTl0sIFtcbiAgICAgICAgICAgIC9cXGJmb2N1c1xcLyhbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpcmVmb3ggRm9jdXNcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgRklSRUZPWCsnIEZvY3VzJ11dLCBbXG4gICAgICAgICAgICAvXFxib3B0XFwvKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPcGVyYSBUb3VjaFxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCBPUEVSQSsnIFRvdWNoJ11dLCBbXG4gICAgICAgICAgICAvY29jX2NvY1xcdytcXC8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb2MgQ29jIEJyb3dzZXJcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgJ0NvYyBDb2MnXV0sIFtcbiAgICAgICAgICAgIC9kb2xmaW5cXC8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9scGhpblxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnRG9scGhpbiddXSwgW1xuICAgICAgICAgICAgL2NvYXN0XFwvKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPcGVyYSBDb2FzdFxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCBPUEVSQSsnIENvYXN0J11dLCBbXG4gICAgICAgICAgICAvbWl1aWJyb3dzZXJcXC8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1JVUkgQnJvd3NlclxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnTUlVSScgKyBTVUZGSVhfQlJPV1NFUl1dLCBbXG4gICAgICAgICAgICAvZnhpb3NcXC8oW1xcd1xcLi1dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpcmVmb3ggZm9yIGlPU1xuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCBGSVJFRk9YXV0sIFtcbiAgICAgICAgICAgIC9cXGJxaWhvb2Jyb3dzZXJcXC8/KFtcXHdcXC5dKikvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDM2MFxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnMzYwJ11dLCBbXG4gICAgICAgICAgICAvXFxiKHFxKVxcLyhbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBRUVxuICAgICAgICAgICAgXSwgW1tOQU1FLCAvKC4rKS8sICckMUJyb3dzZXInXSwgVkVSU0lPTl0sIFtcbiAgICAgICAgICAgIC8ob2N1bHVzfHNhaWxmaXNofGh1YXdlaXx2aXZvfHBpY28pYnJvd3NlclxcLyhbXFx3XFwuXSspL2lcbiAgICAgICAgICAgIF0sIFtbTkFNRSwgLyguKykvLCAnJDEnICsgU1VGRklYX0JST1dTRVJdLCBWRVJTSU9OXSwgWyAgICAgICAgICAgICAgLy8gT2N1bHVzL1NhaWxmaXNoL0h1YXdlaUJyb3dzZXIvVml2b0Jyb3dzZXIvUGljb0Jyb3dzZXJcbiAgICAgICAgICAgIC9zYW1zdW5nYnJvd3NlclxcLyhbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2Ftc3VuZyBJbnRlcm5ldFxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCBTQU1TVU5HICsgJyBJbnRlcm5ldCddXSwgW1xuICAgICAgICAgICAgL21ldGFzcltcXC8gXT8oW1xcZFxcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTb2dvdSBFeHBsb3JlclxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnU29nb3UgRXhwbG9yZXInXV0sIFtcbiAgICAgICAgICAgIC8oc29nb3UpbW9cXHcrXFwvKFtcXGRcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNvZ291IE1vYmlsZVxuICAgICAgICAgICAgXSwgW1tOQU1FLCAnU29nb3UgTW9iaWxlJ10sIFZFUlNJT05dLCBbXG4gICAgICAgICAgICAvKGVsZWN0cm9uKVxcLyhbXFx3XFwuXSspIHNhZmFyaS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVsZWN0cm9uLWJhc2VkIEFwcFxuICAgICAgICAgICAgLyh0ZXNsYSkoPzogcXRjYXJicm93c2VyfFxcLygyMFxcZFxcZFxcLlstXFx3XFwuXSspKS9pLCAgICAgICAgICAgICAgICAgICAvLyBUZXNsYVxuICAgICAgICAgICAgL20/KHFxYnJvd3NlcnwyMzQ1KD89YnJvd3NlcnxjaHJvbWV8ZXhwbG9yZXIpKVxcdypbXFwvIF0/dj8oW1xcd1xcLl0rKS9pICAgLy8gUVEvMjM0NVxuICAgICAgICAgICAgXSwgW05BTUUsIFZFUlNJT05dLCBbXG4gICAgICAgICAgICAvKGxiYnJvd3NlcnxyZWtvbnEpL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExpZUJhbyBCcm93c2VyL1Jla29ucVxuICAgICAgICAgICAgL1xcWyhsaW5rZWRpbilhcHBcXF0vaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExpbmtlZEluIEFwcCBmb3IgaU9TICYgQW5kcm9pZFxuICAgICAgICAgICAgXSwgW05BTUVdLCBbXG4gICAgICAgICAgICAvb21lXFwvKFtcXHdcXC5dKykgXFx3KiA/KGlyb24pIHNhZi9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJcm9uXG4gICAgICAgICAgICAvb21lXFwvKFtcXHdcXC5dKykuK3FpaHUgKDM2MClbZXNdZS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDM2MFxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIE5BTUVdLCBbXG5cbiAgICAgICAgICAgIC8vIFdlYlZpZXdcbiAgICAgICAgICAgIC8oKD86ZmJhblxcL2ZiaW9zfGZiX2lhYlxcL2ZiNGEpKD8hLitmYmF2KXw7ZmJhdlxcLyhbXFx3XFwuXSspOykvaSAgICAgICAvLyBGYWNlYm9vayBBcHAgZm9yIGlPUyAmIEFuZHJvaWRcbiAgICAgICAgICAgIF0sIFtbTkFNRSwgRkFDRUJPT0tdLCBWRVJTSU9OXSwgW1xuICAgICAgICAgICAgLyhLbGFybmEpXFwvKFtcXHdcXC5dKykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBLbGFybmEgU2hvcHBpbmcgQnJvd3NlciBmb3IgaU9TICYgQW5kcm9pZFxuICAgICAgICAgICAgLyhrYWthbyg/OnRhbGt8c3RvcnkpKVtcXC8gXShbXFx3XFwuXSspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBLYWthbyBBcHBcbiAgICAgICAgICAgIC8obmF2ZXIpXFwoLio/KFxcZCtcXC5bXFx3XFwuXSspLipcXCkvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTmF2ZXIgSW5BcHBcbiAgICAgICAgICAgIC9zYWZhcmkgKGxpbmUpXFwvKFtcXHdcXC5dKykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGluZSBBcHAgZm9yIGlPU1xuICAgICAgICAgICAgL1xcYihsaW5lKVxcLyhbXFx3XFwuXSspXFwvaWFiL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExpbmUgQXBwIGZvciBBbmRyb2lkXG4gICAgICAgICAgICAvKGFsaXBheSljbGllbnRcXC8oW1xcd1xcLl0rKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsaXBheVxuICAgICAgICAgICAgLyh0d2l0dGVyKSg/OmFuZHwgZi4rZVxcLyhbXFx3XFwuXSspKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUd2l0dGVyXG4gICAgICAgICAgICAvKGNocm9taXVtfGluc3RhZ3JhbXxzbmFwY2hhdClbXFwvIF0oWy1cXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgIC8vIENocm9taXVtL0luc3RhZ3JhbS9TbmFwY2hhdFxuICAgICAgICAgICAgXSwgW05BTUUsIFZFUlNJT05dLCBbXG4gICAgICAgICAgICAvXFxiZ3NhXFwvKFtcXHdcXC5dKykgLipzYWZhcmlcXC8vaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR29vZ2xlIFNlYXJjaCBBcHBsaWFuY2Ugb24gaU9TXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsICdHU0EnXV0sIFtcbiAgICAgICAgICAgIC9tdXNpY2FsX2x5KD86LithcHBfP3ZlcnNpb25cXC98XykoW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGlrVG9rXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsICdUaWtUb2snXV0sIFtcblxuICAgICAgICAgICAgL2hlYWRsZXNzY2hyb21lKD86XFwvKFtcXHdcXC5dKyl8ICkvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaHJvbWUgSGVhZGxlc3NcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgQ0hST01FKycgSGVhZGxlc3MnXV0sIFtcblxuICAgICAgICAgICAgLyB3dlxcKS4rKGNocm9tZSlcXC8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hyb21lIFdlYlZpZXdcbiAgICAgICAgICAgIF0sIFtbTkFNRSwgQ0hST01FKycgV2ViVmlldyddLCBWRVJTSU9OXSwgW1xuXG4gICAgICAgICAgICAvZHJvaWQuKyB2ZXJzaW9uXFwvKFtcXHdcXC5dKylcXGIuKyg/Om1vYmlsZSBzYWZhcml8c2FmYXJpKS9pICAgICAgICAgICAvLyBBbmRyb2lkIEJyb3dzZXJcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgJ0FuZHJvaWQgJytCUk9XU0VSXV0sIFtcblxuICAgICAgICAgICAgLyhjaHJvbWV8b21uaXdlYnxhcm9yYXxbdGl6ZW5va2FdezV9ID9icm93c2VyKVxcL3Y/KFtcXHdcXC5dKykvaSAgICAgICAvLyBDaHJvbWUvT21uaVdlYi9Bcm9yYS9UaXplbi9Ob2tpYVxuICAgICAgICAgICAgXSwgW05BTUUsIFZFUlNJT05dLCBbXG5cbiAgICAgICAgICAgIC92ZXJzaW9uXFwvKFtcXHdcXC5cXCxdKykgLiptb2JpbGVcXC9cXHcrIChzYWZhcmkpL2kgICAgICAgICAgICAgICAgICAgICAgLy8gTW9iaWxlIFNhZmFyaVxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnTW9iaWxlIFNhZmFyaSddXSwgW1xuICAgICAgICAgICAgL3ZlcnNpb25cXC8oW1xcdyhcXC58XFwsKV0rKSAuKihtb2JpbGUgP3NhZmFyaXxzYWZhcmkpL2kgICAgICAgICAgICAgICAgLy8gU2FmYXJpICYgU2FmYXJpIE1vYmlsZVxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIE5BTUVdLCBbXG4gICAgICAgICAgICAvd2Via2l0Lis/KG1vYmlsZSA/c2FmYXJpfHNhZmFyaSkoXFwvW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgIC8vIFNhZmFyaSA8IDMuMFxuICAgICAgICAgICAgXSwgW05BTUUsIFtWRVJTSU9OLCBzdHJNYXBwZXIsIG9sZFNhZmFyaU1hcF1dLCBbXG5cbiAgICAgICAgICAgIC8od2Via2l0fGtodG1sKVxcLyhbXFx3XFwuXSspL2lcbiAgICAgICAgICAgIF0sIFtOQU1FLCBWRVJTSU9OXSwgW1xuXG4gICAgICAgICAgICAvLyBHZWNrbyBiYXNlZFxuICAgICAgICAgICAgLyhuYXZpZ2F0b3J8bmV0c2NhcGVcXGQ/KVxcLyhbLVxcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTmV0c2NhcGVcbiAgICAgICAgICAgIF0sIFtbTkFNRSwgJ05ldHNjYXBlJ10sIFZFUlNJT05dLCBbXG4gICAgICAgICAgICAvKHdvbHZpY3xsaWJyZXdvbGYpXFwvKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdvbHZpYy9MaWJyZVdvbGZcbiAgICAgICAgICAgIF0sIFtOQU1FLCBWRVJTSU9OXSwgW1xuICAgICAgICAgICAgL21vYmlsZSB2cjsgcnY6KFtcXHdcXC5dKylcXCkuK2ZpcmVmb3gvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaXJlZm94IFJlYWxpdHlcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgRklSRUZPWCsnIFJlYWxpdHknXV0sIFtcbiAgICAgICAgICAgIC9la2lvaGYuKyhmbG93KVxcLyhbXFx3XFwuXSspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmxvd1xuICAgICAgICAgICAgLyhzd2lmdGZveCkvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTd2lmdGZveFxuICAgICAgICAgICAgLyhpY2VkcmFnb258aWNld2Vhc2VsfGNhbWlub3xjaGltZXJhfGZlbm5lY3xtYWVtbyBicm93c2VyfG1pbmltb3xjb25rZXJvcilbXFwvIF0/KFtcXHdcXC5cXCtdKykvaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWNlRHJhZ29uL0ljZXdlYXNlbC9DYW1pbm8vQ2hpbWVyYS9GZW5uZWMvTWFlbW8vTWluaW1vL0Nvbmtlcm9yXG4gICAgICAgICAgICAvKHNlYW1vbmtleXxrLW1lbGVvbnxpY2VjYXR8aWNlYXBlfGZpcmViaXJkfHBob2VuaXh8cGFsZW1vb258YmFzaWxpc2t8d2F0ZXJmb3gpXFwvKFstXFx3XFwuXSspJC9pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaXJlZm94L1NlYU1vbmtleS9LLU1lbGVvbi9JY2VDYXQvSWNlQXBlL0ZpcmViaXJkL1Bob2VuaXhcbiAgICAgICAgICAgIC8oZmlyZWZveClcXC8oW1xcd1xcLl0rKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXIgRmlyZWZveC1iYXNlZFxuICAgICAgICAgICAgLyhtb3ppbGxhKVxcLyhbXFx3XFwuXSspIC4rcnZcXDouK2dlY2tvXFwvXFxkKy9pLCAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNb3ppbGxhXG5cbiAgICAgICAgICAgIC8vIE90aGVyXG4gICAgICAgICAgICAvKHBvbGFyaXN8bHlueHxkaWxsb3xpY2FifGRvcmlzfGFtYXlhfHczbXxuZXRzdXJmfG9iaWdvfG1vc2FpY3woPzpnb3xpY2V8dXApW1xcLiBdP2Jyb3dzZXIpWy1cXC8gXT92PyhbXFx3XFwuXSspL2ksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBvbGFyaXMvTHlueC9EaWxsby9pQ2FiL0RvcmlzL0FtYXlhL3czbS9OZXRTdXJmL09iaWdvL01vc2FpYy9Hby9JQ0UvVVAuQnJvd3NlclxuICAgICAgICAgICAgLyhsaW5rcykgXFwoKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMaW5rc1xuICAgICAgICAgICAgXSwgW05BTUUsIFtWRVJTSU9OLCAvXy9nLCAnLiddXSwgW1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvKGNvYmFsdClcXC8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvYmFsdFxuICAgICAgICAgICAgXSwgW05BTUUsIFtWRVJTSU9OLCAvbWFzdGVyLnxsdHMuLywgXCJcIl1dXG4gICAgICAgIF0sXG5cbiAgICAgICAgY3B1IDogW1tcblxuICAgICAgICAgICAgLyg/OihhbWR8eCg/Oig/Ojg2fDY0KVstX10pP3x3b3d8d2luKTY0KVs7XFwpXS9pICAgICAgICAgICAgICAgICAgICAgLy8gQU1ENjQgKHg2NClcbiAgICAgICAgICAgIF0sIFtbQVJDSElURUNUVVJFLCAnYW1kNjQnXV0sIFtcblxuICAgICAgICAgICAgLyhpYTMyKD89OykpL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJQTMyIChxdWlja3RpbWUpXG4gICAgICAgICAgICBdLCBbW0FSQ0hJVEVDVFVSRSwgbG93ZXJpemVdXSwgW1xuXG4gICAgICAgICAgICAvKCg/OmlbMzQ2XXx4KTg2KVs7XFwpXS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJQTMyICh4ODYpXG4gICAgICAgICAgICBdLCBbW0FSQ0hJVEVDVFVSRSwgJ2lhMzInXV0sIFtcblxuICAgICAgICAgICAgL1xcYihhYXJjaDY0fGFybSh2PzhlP2w/fF8/NjQpKVxcYi9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQVJNNjRcbiAgICAgICAgICAgIF0sIFtbQVJDSElURUNUVVJFLCAnYXJtNjQnXV0sIFtcblxuICAgICAgICAgICAgL1xcYihhcm0oPzp2WzY3XSk/aHQ/bj9bZmxdcD8pXFxiL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFSTUhGXG4gICAgICAgICAgICBdLCBbW0FSQ0hJVEVDVFVSRSwgJ2FybWhmJ11dLCBbXG5cbiAgICAgICAgICAgIC8vIFBvY2tldFBDIG1pc3Rha2VubHkgaWRlbnRpZmllZCBhcyBQb3dlclBDXG4gICAgICAgICAgICAvd2luZG93cyAoY2V8bW9iaWxlKTsgcHBjOy9pXG4gICAgICAgICAgICBdLCBbW0FSQ0hJVEVDVFVSRSwgJ2FybSddXSwgW1xuXG4gICAgICAgICAgICAvKCg/OnBwY3xwb3dlcnBjKSg/OjY0KT8pKD86IG1hY3w7fFxcKSkvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQb3dlclBDXG4gICAgICAgICAgICBdLCBbW0FSQ0hJVEVDVFVSRSwgL293ZXIvLCBFTVBUWSwgbG93ZXJpemVdXSwgW1xuXG4gICAgICAgICAgICAvKHN1bjRcXHcpWztcXCldL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU1BBUkNcbiAgICAgICAgICAgIF0sIFtbQVJDSElURUNUVVJFLCAnc3BhcmMnXV0sIFtcblxuICAgICAgICAgICAgLygoPzphdnIzMnxpYTY0KD89OykpfDY4ayg/PVxcKSl8XFxiYXJtKD89dig/OlsxLTddfFs1LTddMSlsP3w7fGVhYmkpfCg/PWF0bWVsIClhdnJ8KD86aXJpeHxtaXBzfHNwYXJjKSg/OjY0KT9cXGJ8cGEtcmlzYykvaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJQTY0LCA2OEssIEFSTS82NCwgQVZSLzMyLCBJUklYLzY0LCBNSVBTLzY0LCBTUEFSQy82NCwgUEEtUklTQ1xuICAgICAgICAgICAgXSwgW1tBUkNISVRFQ1RVUkUsIGxvd2VyaXplXV1cbiAgICAgICAgXSxcblxuICAgICAgICBkZXZpY2UgOiBbW1xuXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgLy8gTU9CSUxFUyAmIFRBQkxFVFNcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAgICAgLy8gU2Ftc3VuZ1xuICAgICAgICAgICAgL1xcYihzY2gtaVs4OV0wXFxkfHNody1tMzgwc3xzbS1bcHR4XVxcd3syLDR9fGd0LVtwbl1cXGR7Miw0fXxzZ2gtdDhbNTZdOXxuZXh1cyAxMCkvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBTQU1TVU5HXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvXFxiKCg/OnNbY2dwXWh8Z3R8c20pLSg/IVtscl0pXFx3K3xzY1tnLV0/W1xcZF0rYT98Z2FsYXh5IG5leHVzKS9pLFxuICAgICAgICAgICAgL3NhbXN1bmdbLSBdKCg/IXNtLVtscl0pWy1cXHddKykvaSxcbiAgICAgICAgICAgIC9zZWMtKHNnaFxcdyspL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgU0FNU1VOR10sIFtUWVBFLCBNT0JJTEVdXSwgW1xuXG4gICAgICAgICAgICAvLyBBcHBsZVxuICAgICAgICAgICAgLyg/OlxcL3xcXCgpKGlwKD86aG9uZXxvZClbXFx3LCBdKikoPzpcXC98OykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaVBvZC9pUGhvbmVcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgQVBQTEVdLCBbVFlQRSwgTU9CSUxFXV0sIFtcbiAgICAgICAgICAgIC9cXCgoaXBhZCk7Wy1cXHdcXCksOyBdK2FwcGxlL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaVBhZFxuICAgICAgICAgICAgL2FwcGxlY29yZW1lZGlhXFwvW1xcd1xcLl0rIFxcKChpcGFkKS9pLFxuICAgICAgICAgICAgL1xcYihpcGFkKVxcZFxcZD8sXFxkXFxkP1s7XFxdXS4raW9zL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgQVBQTEVdLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC8obWFjaW50b3NoKTsvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBBUFBMRV1dLCBbXG5cbiAgICAgICAgICAgIC8vIFNoYXJwXG4gICAgICAgICAgICAvXFxiKHNoLT9bYWx0dnpdP1xcZFxcZFthLWVrbV0/KS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIFNIQVJQXSwgW1RZUEUsIE1PQklMRV1dLCBbXG5cbiAgICAgICAgICAgIC8vIEhvbm9yXG4gICAgICAgICAgICAvKD86aG9ub3IpKFstXFx3IF0rKVs7XFwpXS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdIb25vciddLCBbVFlQRSwgTU9CSUxFXV0sIFtcblxuICAgICAgICAgICAgLy8gSHVhd2VpXG4gICAgICAgICAgICAvXFxiKCg/OmFnW3JzXVsyM10/fGJhaDI/fHNodD98YnR2KS1hP1tsd11cXGR7Mn0pXFxiKD8hLitkXFwvcykvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBIVUFXRUldLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC8oPzpodWF3ZWkpKFstXFx3IF0rKVs7XFwpXS9pLFxuICAgICAgICAgICAgL1xcYihuZXh1cyA2cHxcXHd7Miw0fWU/LVthdHVdP1tsbl1bXFxkeF1bMDEyMzU5Y11bYWRuXT8pXFxiKD8hLitkXFwvcykvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBIVUFXRUldLCBbVFlQRSwgTU9CSUxFXV0sIFtcblxuICAgICAgICAgICAgLy8gWGlhb21pXG4gICAgICAgICAgICAvXFxiKHBvY29bXFx3IF0rfG0yXFxkezN9alxcZFxcZFthLXpdezJ9KSg/OiBidWl8XFwpKS9pLCAgICAgICAgICAgICAgICAgIC8vIFhpYW9taSBQT0NPXG4gICAgICAgICAgICAvXFxiOyAoXFx3KykgYnVpbGRcXC9obVxcMS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBYaWFvbWkgSG9uZ21pICdudW1lcmljJyBtb2RlbHNcbiAgICAgICAgICAgIC9cXGIoaG1bLV8gXT9ub3RlP1tfIF0/KD86XFxkXFx3KT8pIGJ1aS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gWGlhb21pIEhvbmdtaVxuICAgICAgICAgICAgL1xcYihyZWRtaVtcXC1fIF0/KD86bm90ZXxrKT9bXFx3XyBdKykoPzogYnVpfFxcKSkvaSwgICAgICAgICAgICAgICAgICAgLy8gWGlhb21pIFJlZG1pXG4gICAgICAgICAgICAvb2lkW15cXCldKzsgKG0/WzEyXVswLTM4OV1bMDFdXFx3ezMsNn1bYy15XSkoIGJ1aXw7IHd2fFxcKSkvaSwgICAgICAgIC8vIFhpYW9taSBSZWRtaSAnbnVtZXJpYycgbW9kZWxzXG4gICAgICAgICAgICAvXFxiKG1pWy1fIF0/KD86YVxcZHxvbmV8b25lW18gXXBsdXN8bm90ZSBsdGV8bWF4fGNjKT9bXyBdPyg/OlxcZD9cXHc/KVtfIF0/KD86cGx1c3xzZXxsaXRlfHBybyk/KSg/OiBidWl8XFwpKS9pIC8vIFhpYW9taSBNaVxuICAgICAgICAgICAgXSwgW1tNT0RFTCwgL18vZywgJyAnXSwgW1ZFTkRPUiwgWElBT01JXSwgW1RZUEUsIE1PQklMRV1dLCBbXG4gICAgICAgICAgICAvb2lkW15cXCldKzsgKDJcXGR7NH0oMjgzfHJwYmYpW2NnbF0pKCBidWl8XFwpKS9pLCAgICAgICAgICAgICAgICAgICAgIC8vIFJlZG1pIFBhZFxuICAgICAgICAgICAgL1xcYihtaVstXyBdPyg/OnBhZCkoPzpbXFx3XyBdKykpKD86IGJ1aXxcXCkpL2kgICAgICAgICAgICAgICAgICAgICAgICAvLyBNaSBQYWQgdGFibGV0c1xuICAgICAgICAgICAgXSxbW01PREVMLCAvXy9nLCAnICddLCBbVkVORE9SLCBYSUFPTUldLCBbVFlQRSwgVEFCTEVUXV0sIFtcblxuICAgICAgICAgICAgLy8gT1BQT1xuICAgICAgICAgICAgLzsgKFxcdyspIGJ1aS4rIG9wcG8vaSxcbiAgICAgICAgICAgIC9cXGIoY3BoWzEyXVxcZHszfXxwKD86YWZ8Y1thbF18ZFxcd3xlW2FyXSlbbXRdXFxkMHx4OTAwN3xhMTAxb3ApXFxiL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ09QUE8nXSwgW1RZUEUsIE1PQklMRV1dLCBbXG4gICAgICAgICAgICAvXFxiKG9wZDJcXGR7M31hPykgYnVpL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ09QUE8nXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG5cbiAgICAgICAgICAgIC8vIFZpdm9cbiAgICAgICAgICAgIC92aXZvIChcXHcrKSg/OiBidWl8XFwpKS9pLFxuICAgICAgICAgICAgL1xcYih2WzEyXVxcZHszfVxcdz9bYXRdKSg/OiBidWl8OykvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnVml2byddLCBbVFlQRSwgTU9CSUxFXV0sIFtcblxuICAgICAgICAgICAgLy8gUmVhbG1lXG4gICAgICAgICAgICAvXFxiKHJteFsxLTNdXFxkezN9KSg/OiBidWl8O3xcXCkpL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ1JlYWxtZSddLCBbVFlQRSwgTU9CSUxFXV0sIFtcblxuICAgICAgICAgICAgLy8gTW90b3JvbGFcbiAgICAgICAgICAgIC9cXGIobWlsZXN0b25lfGRyb2lkKD86WzItNHhdfCAoPzpiaW9uaWN8eDJ8cHJvfHJhenIpKT86PyggNGcpPylcXGJbXFx3IF0rYnVpbGRcXC8vaSxcbiAgICAgICAgICAgIC9cXGJtb3QoPzpvcm9sYSk/Wy0gXShcXHcqKS9pLFxuICAgICAgICAgICAgLygoPzptb3RvW1xcd1xcKFxcKSBdK3x4dFxcZHszLDR9fG5leHVzIDYpKD89IGJ1aXxcXCkpKS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIE1PVE9ST0xBXSwgW1RZUEUsIE1PQklMRV1dLCBbXG4gICAgICAgICAgICAvXFxiKG16NjBcXGR8eG9vbVsyIF17MCwyfSkgYnVpbGRcXC8vaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBNT1RPUk9MQV0sIFtUWVBFLCBUQUJMRVRdXSwgW1xuXG4gICAgICAgICAgICAvLyBMR1xuICAgICAgICAgICAgLygoPz1sZyk/W3ZsXWtcXC0/XFxkezN9KSBidWl8IDNcXC5bLVxcdzsgXXsxMH1sZz8tKFswNmN2OV17Myw0fSkvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBMR10sIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgLyhsbSg/Oi0/ZjEwMFtudl0/fC1bXFx3XFwuXSspKD89IGJ1aXxcXCkpfG5leHVzIFs0NV0pL2ksXG4gICAgICAgICAgICAvXFxibGdbLWU7XFwvIF0rKCg/IWJyb3dzZXJ8bmV0Y2FzdHxhbmRyb2lkIHR2KVxcdyspL2ksXG4gICAgICAgICAgICAvXFxibGctPyhbXFxkXFx3XSspIGJ1aS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIExHXSwgW1RZUEUsIE1PQklMRV1dLCBbXG5cbiAgICAgICAgICAgIC8vIExlbm92b1xuICAgICAgICAgICAgLyhpZGVhdGFiWy1cXHcgXSspL2ksXG4gICAgICAgICAgICAvbGVub3ZvID8oc1s1Nl0wMDBbLVxcd10rfHRhYig/OltcXHcgXSspfHl0Wy1cXGRcXHddezZ9fHRiWy1cXGRcXHddezZ9KS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdMZW5vdm8nXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG5cbiAgICAgICAgICAgIC8vIE5va2lhXG4gICAgICAgICAgICAvKD86bWFlbW98bm9raWEpLioobjkwMHxsdW1pYSBcXGQrKS9pLFxuICAgICAgICAgICAgL25va2lhWy1fIF0/KFstXFx3XFwuXSopL2lcbiAgICAgICAgICAgIF0sIFtbTU9ERUwsIC9fL2csICcgJ10sIFtWRU5ET1IsICdOb2tpYSddLCBbVFlQRSwgTU9CSUxFXV0sIFtcblxuICAgICAgICAgICAgLy8gR29vZ2xlXG4gICAgICAgICAgICAvKHBpeGVsIGMpXFxiL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHb29nbGUgUGl4ZWwgQ1xuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBHT09HTEVdLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC9kcm9pZC4rOyAocGl4ZWxbXFxkYXhsIF17MCw2fSkoPzogYnVpfFxcKSkvaSAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHb29nbGUgUGl4ZWxcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgR09PR0xFXSwgW1RZUEUsIE1PQklMRV1dLCBbXG5cbiAgICAgICAgICAgIC8vIFNvbnlcbiAgICAgICAgICAgIC9kcm9pZC4rOyAoYT9cXGRbMC0yXXsyfXNvfFtjLWddXFxkezR9fHNvWy1nbF1cXHcrfHhxLWFcXHdbNC03XVsxMl0pKD89IGJ1aXxcXCkuK2Nocm9tZVxcLyg/IVsxLTZdezAsMX1cXGRcXC4pKS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIFNPTlldLCBbVFlQRSwgTU9CSUxFXV0sIFtcbiAgICAgICAgICAgIC9zb255IHRhYmxldCBbcHNdL2ksXG4gICAgICAgICAgICAvXFxiKD86c29ueSk/c2dwXFx3Kyg/OiBidWl8XFwpKS9pXG4gICAgICAgICAgICBdLCBbW01PREVMLCAnWHBlcmlhIFRhYmxldCddLCBbVkVORE9SLCBTT05ZXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG5cbiAgICAgICAgICAgIC8vIE9uZVBsdXNcbiAgICAgICAgICAgIC8gKGtiMjAwNXxpbjIwWzEyXTV8YmUyMFsxMl1bNTldKVxcYi9pLFxuICAgICAgICAgICAgLyg/Om9uZSk/KD86cGx1cyk/IChhXFxkMFxcZFxcZCkoPzogYnxcXCkpL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ09uZVBsdXMnXSwgW1RZUEUsIE1PQklMRV1dLCBbXG5cbiAgICAgICAgICAgIC8vIEFtYXpvblxuICAgICAgICAgICAgLyhhbGV4YSl3ZWJtL2ksXG4gICAgICAgICAgICAvKGtmW2Etel17Mn13aXxhZW8oPyFiYylcXHdcXHcpKCBidWl8XFwpKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEtpbmRsZSBGaXJlIHdpdGhvdXQgU2lsayAvIEVjaG8gU2hvd1xuICAgICAgICAgICAgLyhrZlthLXpdKykoIGJ1aXxcXCkpLitzaWxrXFwvL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEtpbmRsZSBGaXJlIEhEXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIEFNQVpPTl0sIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgLygoPzpzZHxrZilbMDM0OWhpam9yc3R1d10rKSggYnVpfFxcKSkuK3NpbGtcXC8vaSAgICAgICAgICAgICAgICAgICAgIC8vIEZpcmUgUGhvbmVcbiAgICAgICAgICAgIF0sIFtbTU9ERUwsIC8oLispL2csICdGaXJlIFBob25lICQxJ10sIFtWRU5ET1IsIEFNQVpPTl0sIFtUWVBFLCBNT0JJTEVdXSwgW1xuXG4gICAgICAgICAgICAvLyBCbGFja0JlcnJ5XG4gICAgICAgICAgICAvKHBsYXlib29rKTtbLVxcd1xcKSw7IF0rKHJpbSkvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2tCZXJyeSBQbGF5Qm9va1xuICAgICAgICAgICAgXSwgW01PREVMLCBWRU5ET1IsIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgL1xcYigoPzpiYlthLWZdfHN0W2h2XSkxMDAtXFxkKS9pLFxuICAgICAgICAgICAgL1xcKGJiMTA7IChcXHcrKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJsYWNrQmVycnkgMTBcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgQkxBQ0tCRVJSWV0sIFtUWVBFLCBNT0JJTEVdXSwgW1xuXG4gICAgICAgICAgICAvLyBBc3VzXG4gICAgICAgICAgICAvKD86XFxifGFzdXNfKSh0cmFuc2ZvW3ByaW1lIF17NCwxMH0gXFx3K3xlZWVwY3xzbGlkZXIgXFx3K3xuZXh1cyA3fHBhZGZvbmV8cDAwW2NqXSkvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBBU1VTXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvICh6W2Jlc102WzAyN11bMDEyXVtrbV1bbHNdfHplbmZvbmUgXFxkXFx3PylcXGIvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBBU1VTXSwgW1RZUEUsIE1PQklMRV1dLCBbXG5cbiAgICAgICAgICAgIC8vIEhUQ1xuICAgICAgICAgICAgLyhuZXh1cyA5KS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIVEMgTmV4dXMgOVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnSFRDJ10sIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgLyhodGMpWy07XyBdezEsMn0oW1xcdyBdKyg/PVxcKXwgYnVpKXxcXHcrKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIVENcblxuICAgICAgICAgICAgLy8gWlRFXG4gICAgICAgICAgICAvKHp0ZSlbLSBdKFtcXHcgXSs/KSg/OiBidWl8XFwvfFxcKSkvaSxcbiAgICAgICAgICAgIC8oYWxjYXRlbHxnZWVrc3Bob25lfG5leGlhbnxwYW5hc29uaWMoPyEoPzo7fFxcLikpfHNvbnkoPyEtYnJhKSlbLV8gXT8oWy1cXHddKikvaSAgICAgICAgIC8vIEFsY2F0ZWwvR2Vla3NQaG9uZS9OZXhpYW4vUGFuYXNvbmljL1NvbnlcbiAgICAgICAgICAgIF0sIFtWRU5ET1IsIFtNT0RFTCwgL18vZywgJyAnXSwgW1RZUEUsIE1PQklMRV1dLCBbXG5cbiAgICAgICAgICAgIC8vIFRDTFxuICAgICAgICAgICAgL2Ryb2lkIFtcXHdcXC5dKzsgKCg/OjhbMTRdOVsxNl18OSg/OjAoPzo0OHw2MHw4WzAxXSl8MSg/OjNbMjddfDY2KXwyKD86Nls2OV18OVs1Nl0pfDQ2NikpW2dxc3d4XSlcXHcqKFxcKXwgYnVpKS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdUQ0wnXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG5cbiAgICAgICAgICAgIC8vIGl0ZWxcbiAgICAgICAgICAgIC8oaXRlbCkgKChcXHcrKSkvaVxuICAgICAgICAgICAgXSwgW1tWRU5ET1IsIGxvd2VyaXplXSwgTU9ERUwsIFtUWVBFLCBzdHJNYXBwZXIsIHsgJ3RhYmxldCcgOiBbJ3AxMDAwMWwnLCAndzcwMDEnXSwgJyonIDogJ21vYmlsZScgfV1dLCBbXG5cbiAgICAgICAgICAgIC8vIEFjZXJcbiAgICAgICAgICAgIC9kcm9pZC4rOyAoW2FiXVsxLTddLT9bMDE3OGFdXFxkXFxkPykvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnQWNlciddLCBbVFlQRSwgVEFCTEVUXV0sIFtcblxuICAgICAgICAgICAgLy8gTWVpenVcbiAgICAgICAgICAgIC9kcm9pZC4rOyAobVsxLTVdIG5vdGUpIGJ1aS9pLFxuICAgICAgICAgICAgL1xcYm16LShbLVxcd117Mix9KS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdNZWl6dSddLCBbVFlQRSwgTU9CSUxFXV0sIFtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFVsZWZvbmVcbiAgICAgICAgICAgIC87ICgoPzpwb3dlciApP2FybW9yKD86W1xcdyBdezAsOH0pKSg/OiBidWl8XFwpKS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdVbGVmb25lJ10sIFtUWVBFLCBNT0JJTEVdXSwgW1xuXG4gICAgICAgICAgICAvLyBFbmVyZ2l6ZXJcbiAgICAgICAgICAgIC87IChlbmVyZ3kgP1xcdyspKD86IGJ1aXxcXCkpL2ksXG4gICAgICAgICAgICAvOyBlbmVyZ2l6ZXIgKFtcXHcgXSspKD86IGJ1aXxcXCkpL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ0VuZXJnaXplciddLCBbVFlQRSwgTU9CSUxFXV0sIFtcblxuICAgICAgICAgICAgLy8gQ2F0XG4gICAgICAgICAgICAvOyBjYXQgKGIzNSk7L2ksXG4gICAgICAgICAgICAvOyAoYjE1cT98czIyIGZsaXB8czQ4Y3xzNjIgcHJvKSg/OiBidWl8XFwpKS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdDYXQnXSwgW1RZUEUsIE1PQklMRV1dLCBbXG5cbiAgICAgICAgICAgIC8vIFNtYXJ0ZnJlblxuICAgICAgICAgICAgLygoPzpuZXcgKT9hbmRyb21heFtcXHctIF0rKSg/OiBidWl8XFwpKS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdTbWFydGZyZW4nXSwgW1RZUEUsIE1PQklMRV1dLCBbXG5cbiAgICAgICAgICAgIC8vIE5vdGhpbmdcbiAgICAgICAgICAgIC9kcm9pZC4rOyAoYSg/OjAxNXwwNlszNV18MTQycD8pKS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdOb3RoaW5nJ10sIFtUWVBFLCBNT0JJTEVdXSwgW1xuXG4gICAgICAgICAgICAvLyBNSVhFRFxuICAgICAgICAgICAgLyhibGFja2JlcnJ5fGJlbnF8cGFsbSg/PVxcLSl8c29ueWVyaWNzc29ufGFjZXJ8YXN1c3xkZWxsfG1laXp1fG1vdG9yb2xhfHBvbHl0cm9ufGluZmluaXh8dGVjbm98bWljcm9tYXh8YWR2YW4pWy1fIF0/KFstXFx3XSopL2ksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJsYWNrQmVycnkvQmVuUS9QYWxtL1NvbnktRXJpY3Nzb24vQWNlci9Bc3VzL0RlbGwvTWVpenUvTW90b3JvbGEvUG9seXRyb24vSW5maW5peC9UZWNuby9NaWNyb21heC9BZHZhblxuICAgICAgICAgICAgLzsgKGltbykgKCg/IXRhYilbXFx3IF0rPykoPzogYnVpfFxcKSkvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElNT1xuICAgICAgICAgICAgLyhocCkgKFtcXHcgXStcXHcpL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhQIGlQQVFcbiAgICAgICAgICAgIC8oYXN1cyktPyhcXHcrKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFzdXNcbiAgICAgICAgICAgIC8obWljcm9zb2Z0KTsgKGx1bWlhW1xcdyBdKykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1pY3Jvc29mdCBMdW1pYVxuICAgICAgICAgICAgLyhsZW5vdm8pWy1fIF0/KFstXFx3XSspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGVub3ZvXG4gICAgICAgICAgICAvKGpvbGxhKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEpvbGxhXG4gICAgICAgICAgICAvKG9wcG8pID8oW1xcdyBdKykgYnVpL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPUFBPXG4gICAgICAgICAgICBdLCBbVkVORE9SLCBNT0RFTCwgW1RZUEUsIE1PQklMRV1dLCBbXG5cbiAgICAgICAgICAgIC8oaW1vKSAodGFiIFxcdyspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElNT1xuICAgICAgICAgICAgLyhrb2JvKVxccyhlcmVhZGVyfHRvdWNoKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gS29ib1xuICAgICAgICAgICAgLyhhcmNob3MpIChnYW1lcGFkMj8pL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBcmNob3NcbiAgICAgICAgICAgIC8oaHApLisodG91Y2hwYWQoPyEuK3RhYmxldCl8dGFibGV0KS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSFAgVG91Y2hQYWRcbiAgICAgICAgICAgIC8oa2luZGxlKVxcLyhbXFx3XFwuXSspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gS2luZGxlXG4gICAgICAgICAgICAvKG5vb2spW1xcdyBdK2J1aWxkXFwvKFxcdyspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vb2tcbiAgICAgICAgICAgIC8oZGVsbCkgKHN0cmVhW2twclxcZCBdKltcXGRrb10pL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEZWxsIFN0cmVha1xuICAgICAgICAgICAgLyhsZVstIF0rcGFuKVstIF0rKFxcd3sxLDl9KSBidWkvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGUgUGFuIFRhYmxldHNcbiAgICAgICAgICAgIC8odHJpbml0eSlbLSBdKih0XFxkezN9KSBidWkvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyaW5pdHkgVGFibGV0c1xuICAgICAgICAgICAgLyhnaWdhc2V0KVstIF0rKHFcXHd7MSw5fSkgYnVpL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2lnYXNldCBUYWJsZXRzXG4gICAgICAgICAgICAvKHZvZGFmb25lKSAoW1xcdyBdKykoPzpcXCl8IGJ1aSkvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVm9kYWZvbmVcbiAgICAgICAgICAgIF0sIFtWRU5ET1IsIE1PREVMLCBbVFlQRSwgVEFCTEVUXV0sIFtcblxuICAgICAgICAgICAgLyhzdXJmYWNlIGR1bykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdXJmYWNlIER1b1xuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBNSUNST1NPRlRdLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC9kcm9pZCBbXFxkXFwuXSs7IChmcFxcZHU/KSg/OiBifFxcKSkvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZhaXJwaG9uZVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnRmFpcnBob25lJ10sIFtUWVBFLCBNT0JJTEVdXSwgW1xuICAgICAgICAgICAgLyh1MzA0YWEpL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBVCZUXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdBVCZUJ10sIFtUWVBFLCBNT0JJTEVdXSwgW1xuICAgICAgICAgICAgL1xcYnNpZS0oXFx3KikvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpZW1lbnNcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ1NpZW1lbnMnXSwgW1RZUEUsIE1PQklMRV1dLCBbXG4gICAgICAgICAgICAvXFxiKHJjdFxcdyspIGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUkNBIFRhYmxldHNcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ1JDQSddLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC9cXGIodmVudWVbXFxkIF17Miw3fSkgYi9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEZWxsIFZlbnVlIFRhYmxldHNcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ0RlbGwnXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvXFxiKHEoPzptdnx0YSlcXHcrKSBiL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmVyaXpvbiBUYWJsZXRcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ1Zlcml6b24nXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvXFxiKD86YmFybmVzWyYgXStub2JsZSB8Ym5bcnRdKShbXFx3XFwrIF0qKSBiL2kgICAgICAgICAgICAgICAgICAgICAgIC8vIEJhcm5lcyAmIE5vYmxlIFRhYmxldFxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnQmFybmVzICYgTm9ibGUnXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvXFxiKHRtXFxkezN9XFx3KykgYi9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdOdVZpc2lvbiddLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC9cXGIoazg4KSBiL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFpURSBLIFNlcmllcyBUYWJsZXRcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ1pURSddLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC9cXGIobnhcXGR7M31qKSBiL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBaVEUgTnViaWFcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ1pURSddLCBbVFlQRSwgTU9CSUxFXV0sIFtcbiAgICAgICAgICAgIC9cXGIoZ2VuXFxkezN9KSBiLis0OWgvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTd2lzcyBHRU4gTW9iaWxlXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdTd2lzcyddLCBbVFlQRSwgTU9CSUxFXV0sIFtcbiAgICAgICAgICAgIC9cXGIoenVyXFxkezN9KSBiL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTd2lzcyBaVVIgVGFibGV0XG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdTd2lzcyddLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC9cXGIoKHpla2kpP3RiLipcXGIpIGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBaZWtpIFRhYmxldHNcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ1pla2knXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvXFxiKFt5cl1cXGR7Mn0pIGIvaSxcbiAgICAgICAgICAgIC9cXGIoZHJhZ29uWy0gXSt0b3VjaCB8ZHQpKFxcd3s1fSkgYi9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEcmFnb24gVG91Y2ggVGFibGV0XG4gICAgICAgICAgICBdLCBbW1ZFTkRPUiwgJ0RyYWdvbiBUb3VjaCddLCBNT0RFTCwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvXFxiKG5zLT9cXHd7MCw5fSkgYi9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5zaWduaWEgVGFibGV0c1xuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnSW5zaWduaWEnXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvXFxiKChueGF8bmV4dCktP1xcd3swLDl9KSBiL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTmV4dEJvb2sgVGFibGV0c1xuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnTmV4dEJvb2snXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvXFxiKHh0cmVtZVxcXyk/KHYoMVswNDVdfDJbMDE1XXxbMzQ2OV0wfDdbMDVdKSkgYi9pICAgICAgICAgICAgICAgICAgLy8gVm9pY2UgWHRyZW1lIFBob25lc1xuICAgICAgICAgICAgXSwgW1tWRU5ET1IsICdWb2ljZSddLCBNT0RFTCwgW1RZUEUsIE1PQklMRV1dLCBbXG4gICAgICAgICAgICAvXFxiKGx2dGVsXFwtKT8odjFbMTJdKSBiL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTHZUZWwgUGhvbmVzXG4gICAgICAgICAgICBdLCBbW1ZFTkRPUiwgJ0x2VGVsJ10sIE1PREVMLCBbVFlQRSwgTU9CSUxFXV0sIFtcbiAgICAgICAgICAgIC9cXGIocGgtMSkgL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVzc2VudGlhbCBQSC0xXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdFc3NlbnRpYWwnXSwgW1RZUEUsIE1PQklMRV1dLCBbXG4gICAgICAgICAgICAvXFxiKHYoMTAwbWR8NzAwbmF8NzAxMXw5MTdnKS4qXFxiKSBiL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW52aXplbiBUYWJsZXRzXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdFbnZpemVuJ10sIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgL1xcYih0cmlvWy1cXHdcXC4gXSspIGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYWNoU3BlZWQgVGFibGV0c1xuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnTWFjaFNwZWVkJ10sIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgL1xcYnR1XygxNDkxKSBiL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUm90b3IgVGFibGV0c1xuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnUm90b3InXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvKHNoaWVsZFtcXHcgXSspIGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOdmlkaWEgU2hpZWxkIFRhYmxldHNcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ052aWRpYSddLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC8oc3ByaW50KSAoXFx3KykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNwcmludCBQaG9uZXNcbiAgICAgICAgICAgIF0sIFtWRU5ET1IsIE1PREVMLCBbVFlQRSwgTU9CSUxFXV0sIFtcbiAgICAgICAgICAgIC8oa2luXFwuW29uZXR3XXszfSkvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1pY3Jvc29mdCBLaW5cbiAgICAgICAgICAgIF0sIFtbTU9ERUwsIC9cXC4vZywgJyAnXSwgW1ZFTkRPUiwgTUlDUk9TT0ZUXSwgW1RZUEUsIE1PQklMRV1dLCBbXG4gICAgICAgICAgICAvZHJvaWQuKzsgKGNjNjY2Nj98ZXQ1WzE2XXxtY1syMzldWzIzXXg/fHZjOFswM114PylcXCkvaSAgICAgICAgICAgICAvLyBaZWJyYVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBaRUJSQV0sIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgL2Ryb2lkLis7IChlYzMwfHBzMjB8dGNbMi04XVxcZFtreF0pXFwpL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgWkVCUkFdLCBbVFlQRSwgTU9CSUxFXV0sIFtcblxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgLy8gU01BUlRUVlNcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAgICAgL3NtYXJ0LXR2Lisoc2Ftc3VuZykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTYW1zdW5nXG4gICAgICAgICAgICBdLCBbVkVORE9SLCBbVFlQRSwgU01BUlRUVl1dLCBbXG4gICAgICAgICAgICAvaGJidHYuK21hcGxlOyhcXGQrKS9pXG4gICAgICAgICAgICBdLCBbW01PREVMLCAvXi8sICdTbWFydFRWJ10sIFtWRU5ET1IsIFNBTVNVTkddLCBbVFlQRSwgU01BUlRUVl1dLCBbXG4gICAgICAgICAgICAvKG51eDsgbmV0Y2FzdC4rc21hcnR0dnxsZyAobmV0Y2FzdFxcLnR2LTIwMVxcZHxhbmRyb2lkIHR2KSkvaSAgICAgICAgLy8gTEcgU21hcnRUVlxuICAgICAgICAgICAgXSwgW1tWRU5ET1IsIExHXSwgW1RZUEUsIFNNQVJUVFZdXSwgW1xuICAgICAgICAgICAgLyhhcHBsZSkgP3R2L2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBcHBsZSBUVlxuICAgICAgICAgICAgXSwgW1ZFTkRPUiwgW01PREVMLCBBUFBMRSsnIFRWJ10sIFtUWVBFLCBTTUFSVFRWXV0sIFtcbiAgICAgICAgICAgIC9jcmtleS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR29vZ2xlIENocm9tZWNhc3RcbiAgICAgICAgICAgIF0sIFtbTU9ERUwsIENIUk9NRSsnY2FzdCddLCBbVkVORE9SLCBHT09HTEVdLCBbVFlQRSwgU01BUlRUVl1dLCBbXG4gICAgICAgICAgICAvZHJvaWQuK2FmdChcXHcrKSggYnVpfFxcKSkvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmlyZSBUVlxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBBTUFaT05dLCBbVFlQRSwgU01BUlRUVl1dLCBbXG4gICAgICAgICAgICAvXFwoZHR2W1xcKTtdLisoYXF1b3MpL2ksXG4gICAgICAgICAgICAvKGFxdW9zLXR2W1xcdyBdKylcXCkvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2hhcnBcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgU0hBUlBdLCBbVFlQRSwgU01BUlRUVl1dLFtcbiAgICAgICAgICAgIC8oYnJhdmlhW1xcdyBdKykoIGJ1aXxcXCkpL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU29ueVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBTT05ZXSwgW1RZUEUsIFNNQVJUVFZdXSwgW1xuICAgICAgICAgICAgLyhtaXR2LVxcd3s1fSkgYnVpL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gWGlhb21pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIFhJQU9NSV0sIFtUWVBFLCBTTUFSVFRWXV0sIFtcbiAgICAgICAgICAgIC9IYmJ0di4qKHRlY2huaXNhdCkgKC4qKTsvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGVjaG5pU0FUXG4gICAgICAgICAgICBdLCBbVkVORE9SLCBNT0RFTCwgW1RZUEUsIFNNQVJUVFZdXSwgW1xuICAgICAgICAgICAgL1xcYihyb2t1KVtcXGR4XSpbXFwpXFwvXSgoPzpkdnAtKT9bXFxkXFwuXSopL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSb2t1XG4gICAgICAgICAgICAvaGJidHZcXC9cXGQrXFwuXFxkK1xcLlxcZCsgK1xcKFtcXHdcXCsgXSo7ICooW1xcd1xcZF1bXjtdKik7KFteO10qKS9pICAgICAgICAgLy8gSGJiVFYgZGV2aWNlc1xuICAgICAgICAgICAgXSwgW1tWRU5ET1IsIHRyaW1dLCBbTU9ERUwsIHRyaW1dLCBbVFlQRSwgU01BUlRUVl1dLCBbXG4gICAgICAgICAgICAvXFxiKGFuZHJvaWQgdHZ8c21hcnRbLSBdP3R2fG9wZXJhIHR2fHR2OyBydjopXFxiL2kgICAgICAgICAgICAgICAgICAgLy8gU21hcnRUViBmcm9tIFVuaWRlbnRpZmllZCBWZW5kb3JzXG4gICAgICAgICAgICBdLCBbW1RZUEUsIFNNQVJUVFZdXSwgW1xuXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBDT05TT0xFU1xuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgICAgICAvKG91eWEpL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE91eWFcbiAgICAgICAgICAgIC8obmludGVuZG8pIChbd2lkczN1dGNoXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTmludGVuZG9cbiAgICAgICAgICAgIF0sIFtWRU5ET1IsIE1PREVMLCBbVFlQRSwgQ09OU09MRV1dLCBbXG4gICAgICAgICAgICAvZHJvaWQuKzsgKHNoaWVsZCkgYnVpL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE52aWRpYVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnTnZpZGlhJ10sIFtUWVBFLCBDT05TT0xFXV0sIFtcbiAgICAgICAgICAgIC8ocGxheXN0YXRpb24gWzM0NXBvcnRhYmxldmldKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGxheXN0YXRpb25cbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgU09OWV0sIFtUWVBFLCBDT05TT0xFXV0sIFtcbiAgICAgICAgICAgIC9cXGIoeGJveCg/OiBvbmUpPyg/ITsgeGJveCkpW1xcKTsgXS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNaWNyb3NvZnQgWGJveFxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBNSUNST1NPRlRdLCBbVFlQRSwgQ09OU09MRV1dLCBbXG5cbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIC8vIFdFQVJBQkxFU1xuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgICAgICAvXFxiKHNtLVtscl1cXGRcXGRbMDVdW2ZudXddP3M/KVxcYi9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTYW1zdW5nIEdhbGF4eSBXYXRjaFxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBTQU1TVU5HXSwgW1RZUEUsIFdFQVJBQkxFXV0sIFtcbiAgICAgICAgICAgIC8oKHBlYmJsZSkpYXBwL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGViYmxlXG4gICAgICAgICAgICBdLCBbVkVORE9SLCBNT0RFTCwgW1RZUEUsIFdFQVJBQkxFXV0sIFtcbiAgICAgICAgICAgIC8od2F0Y2gpKD86ID9vc1ssXFwvXXxcXGQsXFxkXFwvKVtcXGRcXC5dKy9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXBwbGUgV2F0Y2hcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgQVBQTEVdLCBbVFlQRSwgV0VBUkFCTEVdXSwgW1xuICAgICAgICAgICAgL2Ryb2lkLis7IChnbGFzcykgXFxkL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR29vZ2xlIEdsYXNzXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIEdPT0dMRV0sIFtUWVBFLCBXRUFSQUJMRV1dLCBbXG4gICAgICAgICAgICAvZHJvaWQuKzsgKHd0NjM/MHsyLDN9KVxcKS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIFpFQlJBXSwgW1RZUEUsIFdFQVJBQkxFXV0sIFtcblxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgLy8gWFJcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAgICAgL2Ryb2lkLis7IChnbGFzcykgXFxkL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR29vZ2xlIEdsYXNzXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIEdPT0dMRV0sIFtUWVBFLCBXRUFSQUJMRV1dLCBbXG4gICAgICAgICAgICAvKHBpY28pICg0fG5lbzMoPzogbGlua3xwcm8pPykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBpY29cbiAgICAgICAgICAgIF0sIFtWRU5ET1IsIE1PREVMLCBbVFlQRSwgV0VBUkFCTEVdXSwgW1xuICAgICAgICAgICAgLzsgKHF1ZXN0KCBcXGR8IHBybyk/KS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT2N1bHVzIFF1ZXN0XG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIEZBQ0VCT09LXSwgW1RZUEUsIFdFQVJBQkxFXV0sIFtcblxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgLy8gRU1CRURERURcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAgICAgLyh0ZXNsYSkoPzogcXRjYXJicm93c2VyfFxcL1stXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUZXNsYVxuICAgICAgICAgICAgXSwgW1ZFTkRPUiwgW1RZUEUsIEVNQkVEREVEXV0sIFtcbiAgICAgICAgICAgIC8oYWVvYmMpXFxiL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVjaG8gRG90XG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIEFNQVpPTl0sIFtUWVBFLCBFTUJFRERFRF1dLCBbXG5cbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBNSVhFRCAoR0VORVJJQylcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAgICAgL2Ryb2lkIC4rPzsgKFteO10rPykoPzogYnVpfDsgd3ZcXCl8XFwpIGFwcGxldykuKz8gbW9iaWxlIHNhZmFyaS9pICAgIC8vIEFuZHJvaWQgUGhvbmVzIGZyb20gVW5pZGVudGlmaWVkIFZlbmRvcnNcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1RZUEUsIE1PQklMRV1dLCBbXG4gICAgICAgICAgICAvZHJvaWQgLis/OyAoW147XSs/KSg/OiBidWl8XFwpIGFwcGxldykuKz8oPyEgbW9iaWxlKSBzYWZhcmkvaSAgICAgICAvLyBBbmRyb2lkIFRhYmxldHMgZnJvbSBVbmlkZW50aWZpZWQgVmVuZG9yc1xuICAgICAgICAgICAgXSwgW01PREVMLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC9cXGIoKHRhYmxldHx0YWIpWztcXC9dfGZvY3VzXFwvXFxkKD8hLittb2JpbGUpKS9pICAgICAgICAgICAgICAgICAgICAgIC8vIFVuaWRlbnRpZmlhYmxlIFRhYmxldFxuICAgICAgICAgICAgXSwgW1tUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgLyhwaG9uZXxtb2JpbGUoPzpbO1xcL118IFsgXFx3XFwvXFwuXSpzYWZhcmkpfHBkYSg/PS4rd2luZG93cyBjZSkpL2kgICAgLy8gVW5pZGVudGlmaWFibGUgTW9iaWxlXG4gICAgICAgICAgICBdLCBbW1RZUEUsIE1PQklMRV1dLCBbXG4gICAgICAgICAgICAvKGFuZHJvaWRbLVxcd1xcLiBdezAsOX0pOy4rYnVpbC9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2VuZXJpYyBBbmRyb2lkIERldmljZVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnR2VuZXJpYyddXVxuICAgICAgICBdLFxuXG4gICAgICAgIGVuZ2luZSA6IFtbXG5cbiAgICAgICAgICAgIC93aW5kb3dzLisgZWRnZVxcLyhbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFZGdlSFRNTFxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCBFREdFKydIVE1MJ11dLCBbXG5cbiAgICAgICAgICAgIC8oYXJrd2ViKVxcLyhbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXJrV2ViXG4gICAgICAgICAgICBdLCBbTkFNRSwgVkVSU0lPTl0sIFtcblxuICAgICAgICAgICAgL3dlYmtpdFxcLzUzN1xcLjM2LitjaHJvbWVcXC8oPyEyNykoW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJsaW5rXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsICdCbGluayddXSwgW1xuXG4gICAgICAgICAgICAvKHByZXN0bylcXC8oW1xcd1xcLl0rKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXN0b1xuICAgICAgICAgICAgLyh3ZWJraXR8dHJpZGVudHxuZXRmcm9udHxuZXRzdXJmfGFtYXlhfGx5bnh8dzNtfGdvYW5uYXxzZXJ2bylcXC8oW1xcd1xcLl0rKS9pLCAvLyBXZWJLaXQvVHJpZGVudC9OZXRGcm9udC9OZXRTdXJmL0FtYXlhL0x5bngvdzNtL0dvYW5uYS9TZXJ2b1xuICAgICAgICAgICAgL2VraW9oKGZsb3cpXFwvKFtcXHdcXC5dKykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGbG93XG4gICAgICAgICAgICAvKGtodG1sfHRhc21hbnxsaW5rcylbXFwvIF1cXCg/KFtcXHdcXC5dKykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBLSFRNTC9UYXNtYW4vTGlua3NcbiAgICAgICAgICAgIC8oaWNhYilbXFwvIF0oWzIzXVxcLltcXGRcXC5dKykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlDYWJcbiAgICAgICAgICAgIC9cXGIobGlid2ViKS9pXG4gICAgICAgICAgICBdLCBbTkFNRSwgVkVSU0lPTl0sIFtcblxuICAgICAgICAgICAgL3J2XFw6KFtcXHdcXC5dezEsOX0pXFxiLisoZ2Vja28pL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2Vja29cbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBOQU1FXVxuICAgICAgICBdLFxuXG4gICAgICAgIG9zIDogW1tcblxuICAgICAgICAgICAgLy8gV2luZG93c1xuICAgICAgICAgICAgL21pY3Jvc29mdCAod2luZG93cykgKHZpc3RhfHhwKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXaW5kb3dzIChpVHVuZXMpXG4gICAgICAgICAgICBdLCBbTkFNRSwgVkVSU0lPTl0sIFtcbiAgICAgICAgICAgIC8od2luZG93cyAoPzpwaG9uZSg/OiBvcyk/fG1vYmlsZSkpW1xcLyBdPyhbXFxkXFwuXFx3IF0qKS9pICAgICAgICAgICAgIC8vIFdpbmRvd3MgUGhvbmVcbiAgICAgICAgICAgIF0sIFtOQU1FLCBbVkVSU0lPTiwgc3RyTWFwcGVyLCB3aW5kb3dzVmVyc2lvbk1hcF1dLCBbXG4gICAgICAgICAgICAvd2luZG93cyBudCA2XFwuMjsgKGFybSkvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2luZG93cyBSVFxuICAgICAgICAgICAgL3dpbmRvd3NbXFwvIF0/KFtudGNlXFxkXFwuIF0rXFx3KSg/IS4reGJveCkvaSxcbiAgICAgICAgICAgIC8oPzp3aW4oPz0zfDl8bil8d2luIDl4ICkoW250XFxkXFwuXSspL2lcbiAgICAgICAgICAgIF0sIFtbVkVSU0lPTiwgc3RyTWFwcGVyLCB3aW5kb3dzVmVyc2lvbk1hcF0sIFtOQU1FLCAnV2luZG93cyddXSwgW1xuXG4gICAgICAgICAgICAvLyBpT1MvbWFjT1NcbiAgICAgICAgICAgIC9pcFtob25lYWRdezIsNH1cXGIoPzouKm9zIChbXFx3XSspIGxpa2UgbWFjfDsgb3BlcmEpL2ksICAgICAgICAgICAgICAvLyBpT1NcbiAgICAgICAgICAgIC8oPzppb3M7ZmJzdlxcL3xpcGhvbmUuK2lvc1tcXC8gXSkoW1xcZFxcLl0rKS9pLFxuICAgICAgICAgICAgL2NmbmV0d29ya1xcLy4rZGFyd2luL2lcbiAgICAgICAgICAgIF0sIFtbVkVSU0lPTiwgL18vZywgJy4nXSwgW05BTUUsICdpT1MnXV0sIFtcbiAgICAgICAgICAgIC8obWFjIG9zIHgpID8oW1xcd1xcLiBdKikvaSxcbiAgICAgICAgICAgIC8obWFjaW50b3NofG1hY19wb3dlcnBjXFxiKSg/IS4raGFpa3UpL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hYyBPU1xuICAgICAgICAgICAgXSwgW1tOQU1FLCBNQUNfT1NdLCBbVkVSU0lPTiwgL18vZywgJy4nXV0sIFtcblxuICAgICAgICAgICAgLy8gTW9iaWxlIE9TZXNcbiAgICAgICAgICAgIC9kcm9pZCAoW1xcd1xcLl0rKVxcYi4rKGFuZHJvaWRbLSBdeDg2fGhhcm1vbnlvcykvaSAgICAgICAgICAgICAgICAgICAgLy8gQW5kcm9pZC14ODYvSGFybW9ueU9TXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgTkFNRV0sIFsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFuZHJvaWQvV2ViT1MvUU5YL0JhZGEvUklNL01hZW1vL01lZUdvL1NhaWxmaXNoIE9TL09wZW5IYXJtb255XG4gICAgICAgICAgICAvKGFuZHJvaWR8d2Vib3N8cW54fGJhZGF8cmltIHRhYmxldCBvc3xtYWVtb3xtZWVnb3xzYWlsZmlzaHxvcGVuaGFybW9ueSlbLVxcLyBdPyhbXFx3XFwuXSopL2ksXG4gICAgICAgICAgICAvKGJsYWNrYmVycnkpXFx3KlxcLyhbXFx3XFwuXSopL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCbGFja2JlcnJ5XG4gICAgICAgICAgICAvKHRpemVufGthaW9zKVtcXC8gXShbXFx3XFwuXSspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRpemVuL0thaU9TXG4gICAgICAgICAgICAvXFwoKHNlcmllczQwKTsvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXJpZXMgNDBcbiAgICAgICAgICAgIF0sIFtOQU1FLCBWRVJTSU9OXSwgW1xuICAgICAgICAgICAgL1xcKGJiKDEwKTsvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2tCZXJyeSAxMFxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCBCTEFDS0JFUlJZXV0sIFtcbiAgICAgICAgICAgIC8oPzpzeW1iaWFuID9vc3xzeW1ib3N8czYwKD89Oyl8c2VyaWVzNjApWy1cXC8gXT8oW1xcd1xcLl0qKS9pICAgICAgICAgLy8gU3ltYmlhblxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnU3ltYmlhbiddXSwgW1xuICAgICAgICAgICAgL21vemlsbGFcXC9bXFxkXFwuXSsgXFwoKD86bW9iaWxlfHRhYmxldHx0dnxtb2JpbGU7IFtcXHcgXSspOyBydjouKyBnZWNrb1xcLyhbXFx3XFwuXSspL2kgLy8gRmlyZWZveCBPU1xuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCBGSVJFRk9YKycgT1MnXV0sIFtcbiAgICAgICAgICAgIC93ZWIwczsuK3J0KHR2KS9pLFxuICAgICAgICAgICAgL1xcYig/OmhwKT93b3MoPzpicm93c2VyKT9cXC8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2ViT1NcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgJ3dlYk9TJ11dLCBbXG4gICAgICAgICAgICAvd2F0Y2goPzogP29zWyxcXC9dfFxcZCxcXGRcXC8pKFtcXGRcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdhdGNoT1NcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgJ3dhdGNoT1MnXV0sIFtcblxuICAgICAgICAgICAgLy8gR29vZ2xlIENocm9tZWNhc3RcbiAgICAgICAgICAgIC9jcmtleVxcLyhbXFxkXFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR29vZ2xlIENocm9tZWNhc3RcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgQ0hST01FKydjYXN0J11dLCBbXG4gICAgICAgICAgICAvKGNyb3MpIFtcXHddKyg/OlxcKXwgKFtcXHdcXC5dKylcXGIpL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hyb21pdW0gT1NcbiAgICAgICAgICAgIF0sIFtbTkFNRSwgQ0hST01JVU1fT1NdLCBWRVJTSU9OXSxbXG5cbiAgICAgICAgICAgIC8vIFNtYXJ0IFRWc1xuICAgICAgICAgICAgL3BhbmFzb25pYzsodmllcmEpL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQYW5hc29uaWMgVmllcmFcbiAgICAgICAgICAgIC8obmV0cmFuZ2UpbW1oL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTmV0cmFuZ2VcbiAgICAgICAgICAgIC8obmV0dHYpXFwvKFxcZCtcXC5bXFx3XFwuXSspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOZXRUVlxuXG4gICAgICAgICAgICAvLyBDb25zb2xlXG4gICAgICAgICAgICAvKG5pbnRlbmRvfHBsYXlzdGF0aW9uKSAoW3dpZHMzNDVwb3J0YWJsZXZ1Y2hdKykvaSwgICAgICAgICAgICAgICAgIC8vIE5pbnRlbmRvL1BsYXlzdGF0aW9uXG4gICAgICAgICAgICAvKHhib3gpOyAreGJveCAoW15cXCk7XSspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNaWNyb3NvZnQgWGJveCAoMzYwLCBPbmUsIFgsIFMsIFNlcmllcyBYLCBTZXJpZXMgUylcblxuICAgICAgICAgICAgLy8gT3RoZXJcbiAgICAgICAgICAgIC9cXGIoam9saXxwYWxtKVxcYiA/KD86b3MpP1xcLz8oW1xcd1xcLl0qKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBKb2xpL1BhbG1cbiAgICAgICAgICAgIC8obWludClbXFwvXFwoXFwpIF0/KFxcdyopL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1pbnRcbiAgICAgICAgICAgIC8obWFnZWlhfHZlY3RvcmxpbnV4KVs7IF0vaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFnZWlhL1ZlY3RvckxpbnV4XG4gICAgICAgICAgICAvKFtreGxuXT91YnVudHV8ZGViaWFufHN1c2V8b3BlbnN1c2V8Z2VudG9vfGFyY2goPz0gbGludXgpfHNsYWNrd2FyZXxmZWRvcmF8bWFuZHJpdmF8Y2VudG9zfHBjbGludXhvc3xyZWQgP2hhdHx6ZW53YWxrfGxpbnB1c3xyYXNwYmlhbnxwbGFuIDl8bWluaXh8cmlzYyBvc3xjb250aWtpfGRlZXBpbnxtYW5qYXJvfGVsZW1lbnRhcnkgb3N8c2FiYXlvbnxsaW5zcGlyZSkoPzogZ251XFwvbGludXgpPyg/OiBlbnRlcnByaXNlKT8oPzpbLSBdbGludXgpPyg/Oi1nbnUpP1stXFwvIF0/KD8hY2hyb218cGFja2FnZSkoWy1cXHdcXC5dKikvaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVWJ1bnR1L0RlYmlhbi9TVVNFL0dlbnRvby9BcmNoL1NsYWNrd2FyZS9GZWRvcmEvTWFuZHJpdmEvQ2VudE9TL1BDTGludXhPUy9SZWRIYXQvWmVud2Fsay9MaW5wdXMvUmFzcGJpYW4vUGxhbjkvTWluaXgvUklTQ09TL0NvbnRpa2kvRGVlcGluL01hbmphcm8vZWxlbWVudGFyeS9TYWJheW9uL0xpbnNwaXJlXG4gICAgICAgICAgICAvKGh1cmR8bGludXgpID8oW1xcd1xcLl0qKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSHVyZC9MaW51eFxuICAgICAgICAgICAgLyhnbnUpID8oW1xcd1xcLl0qKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdOVVxuICAgICAgICAgICAgL1xcYihbLWZyZW50b3BjZ2hzXXswLDV9YnNkfGRyYWdvbmZseSlbXFwvIF0/KD8hYW1kfFtpeDM0Nl17MSwyfTg2KShbXFx3XFwuXSopL2ksIC8vIEZyZWVCU0QvTmV0QlNEL09wZW5CU0QvUEMtQlNEL0dob3N0QlNEL0RyYWdvbkZseVxuICAgICAgICAgICAgLyhoYWlrdSkgKFxcdyspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFpa3VcbiAgICAgICAgICAgIF0sIFtOQU1FLCBWRVJTSU9OXSwgW1xuICAgICAgICAgICAgLyhzdW5vcykgPyhbXFx3XFwuXFxkXSopL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTb2xhcmlzXG4gICAgICAgICAgICBdLCBbW05BTUUsICdTb2xhcmlzJ10sIFZFUlNJT05dLCBbXG4gICAgICAgICAgICAvKCg/Om9wZW4pP3NvbGFyaXMpWy1cXC8gXT8oW1xcd1xcLl0qKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNvbGFyaXNcbiAgICAgICAgICAgIC8oYWl4KSAoKFxcZCkoPz1cXC58XFwpfCApW1xcd1xcLl0pKi9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBSVhcbiAgICAgICAgICAgIC9cXGIoYmVvc3xvc1xcLzJ8YW1pZ2Fvc3xtb3JwaG9zfG9wZW52bXN8ZnVjaHNpYXxocC11eHxzZXJlbml0eW9zKS9pLCAvLyBCZU9TL09TMi9BbWlnYU9TL01vcnBoT1MvT3BlblZNUy9GdWNoc2lhL0hQLVVYL1NlcmVuaXR5T1NcbiAgICAgICAgICAgIC8odW5peCkgPyhbXFx3XFwuXSopL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVTklYXG4gICAgICAgICAgICBdLCBbTkFNRSwgVkVSU0lPTl1cbiAgICAgICAgXVxuICAgIH07XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vL1xuICAgIC8vIENvbnN0cnVjdG9yXG4gICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgdmFyIFVBUGFyc2VyID0gZnVuY3Rpb24gKHVhLCBleHRlbnNpb25zKSB7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB1YSA9PT0gT0JKX1RZUEUpIHtcbiAgICAgICAgICAgIGV4dGVuc2lvbnMgPSB1YTtcbiAgICAgICAgICAgIHVhID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFVBUGFyc2VyKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVQVBhcnNlcih1YSwgZXh0ZW5zaW9ucykuZ2V0UmVzdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgX25hdmlnYXRvciA9ICh0eXBlb2Ygd2luZG93ICE9PSBVTkRFRl9UWVBFICYmIHdpbmRvdy5uYXZpZ2F0b3IpID8gd2luZG93Lm5hdmlnYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIF91YSA9IHVhIHx8ICgoX25hdmlnYXRvciAmJiBfbmF2aWdhdG9yLnVzZXJBZ2VudCkgPyBfbmF2aWdhdG9yLnVzZXJBZ2VudCA6IEVNUFRZKTtcbiAgICAgICAgdmFyIF91YWNoID0gKF9uYXZpZ2F0b3IgJiYgX25hdmlnYXRvci51c2VyQWdlbnREYXRhKSA/IF9uYXZpZ2F0b3IudXNlckFnZW50RGF0YSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIF9yZ3htYXAgPSBleHRlbnNpb25zID8gZXh0ZW5kKHJlZ2V4ZXMsIGV4dGVuc2lvbnMpIDogcmVnZXhlcztcbiAgICAgICAgdmFyIF9pc1NlbGZOYXYgPSBfbmF2aWdhdG9yICYmIF9uYXZpZ2F0b3IudXNlckFnZW50ID09IF91YTtcblxuICAgICAgICB0aGlzLmdldEJyb3dzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2Jyb3dzZXIgPSB7fTtcbiAgICAgICAgICAgIF9icm93c2VyW05BTUVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgX2Jyb3dzZXJbVkVSU0lPTl0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZ3hNYXBwZXIuY2FsbChfYnJvd3NlciwgX3VhLCBfcmd4bWFwLmJyb3dzZXIpO1xuICAgICAgICAgICAgX2Jyb3dzZXJbTUFKT1JdID0gbWFqb3JpemUoX2Jyb3dzZXJbVkVSU0lPTl0pO1xuICAgICAgICAgICAgLy8gQnJhdmUtc3BlY2lmaWMgZGV0ZWN0aW9uXG4gICAgICAgICAgICBpZiAoX2lzU2VsZk5hdiAmJiBfbmF2aWdhdG9yICYmIF9uYXZpZ2F0b3IuYnJhdmUgJiYgdHlwZW9mIF9uYXZpZ2F0b3IuYnJhdmUuaXNCcmF2ZSA9PSBGVU5DX1RZUEUpIHtcbiAgICAgICAgICAgICAgICBfYnJvd3NlcltOQU1FXSA9ICdCcmF2ZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX2Jyb3dzZXI7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0Q1BVID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9jcHUgPSB7fTtcbiAgICAgICAgICAgIF9jcHVbQVJDSElURUNUVVJFXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJneE1hcHBlci5jYWxsKF9jcHUsIF91YSwgX3JneG1hcC5jcHUpO1xuICAgICAgICAgICAgcmV0dXJuIF9jcHU7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0RGV2aWNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9kZXZpY2UgPSB7fTtcbiAgICAgICAgICAgIF9kZXZpY2VbVkVORE9SXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIF9kZXZpY2VbTU9ERUxdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgX2RldmljZVtUWVBFXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJneE1hcHBlci5jYWxsKF9kZXZpY2UsIF91YSwgX3JneG1hcC5kZXZpY2UpO1xuICAgICAgICAgICAgaWYgKF9pc1NlbGZOYXYgJiYgIV9kZXZpY2VbVFlQRV0gJiYgX3VhY2ggJiYgX3VhY2gubW9iaWxlKSB7XG4gICAgICAgICAgICAgICAgX2RldmljZVtUWVBFXSA9IE1PQklMRTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlQYWRPUy1zcGVjaWZpYyBkZXRlY3Rpb246IGlkZW50aWZpZWQgYXMgTWFjLCBidXQgaGFzIHNvbWUgaU9TLW9ubHkgcHJvcGVydGllc1xuICAgICAgICAgICAgaWYgKF9pc1NlbGZOYXYgJiYgX2RldmljZVtNT0RFTF0gPT0gJ01hY2ludG9zaCcgJiYgX25hdmlnYXRvciAmJiB0eXBlb2YgX25hdmlnYXRvci5zdGFuZGFsb25lICE9PSBVTkRFRl9UWVBFICYmIF9uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgJiYgX25hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDIpIHtcbiAgICAgICAgICAgICAgICBfZGV2aWNlW01PREVMXSA9ICdpUGFkJztcbiAgICAgICAgICAgICAgICBfZGV2aWNlW1RZUEVdID0gVEFCTEVUO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9kZXZpY2U7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0RW5naW5lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9lbmdpbmUgPSB7fTtcbiAgICAgICAgICAgIF9lbmdpbmVbTkFNRV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBfZW5naW5lW1ZFUlNJT05dID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmd4TWFwcGVyLmNhbGwoX2VuZ2luZSwgX3VhLCBfcmd4bWFwLmVuZ2luZSk7XG4gICAgICAgICAgICByZXR1cm4gX2VuZ2luZTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRPUyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfb3MgPSB7fTtcbiAgICAgICAgICAgIF9vc1tOQU1FXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIF9vc1tWRVJTSU9OXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJneE1hcHBlci5jYWxsKF9vcywgX3VhLCBfcmd4bWFwLm9zKTtcbiAgICAgICAgICAgIGlmIChfaXNTZWxmTmF2ICYmICFfb3NbTkFNRV0gJiYgX3VhY2ggJiYgX3VhY2gucGxhdGZvcm0gJiYgX3VhY2gucGxhdGZvcm0gIT0gJ1Vua25vd24nKSB7XG4gICAgICAgICAgICAgICAgX29zW05BTUVdID0gX3VhY2gucGxhdGZvcm0gIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL2Nocm9tZSBvcy9pLCBDSFJPTUlVTV9PUylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9tYWNvcy9pLCBNQUNfT1MpOyAgICAgICAgICAgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9vcztcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRSZXN1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVhICAgICAgOiB0aGlzLmdldFVBKCksXG4gICAgICAgICAgICAgICAgYnJvd3NlciA6IHRoaXMuZ2V0QnJvd3NlcigpLFxuICAgICAgICAgICAgICAgIGVuZ2luZSAgOiB0aGlzLmdldEVuZ2luZSgpLFxuICAgICAgICAgICAgICAgIG9zICAgICAgOiB0aGlzLmdldE9TKCksXG4gICAgICAgICAgICAgICAgZGV2aWNlICA6IHRoaXMuZ2V0RGV2aWNlKCksXG4gICAgICAgICAgICAgICAgY3B1ICAgICA6IHRoaXMuZ2V0Q1BVKClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0VUEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3VhO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldFVBID0gZnVuY3Rpb24gKHVhKSB7XG4gICAgICAgICAgICBfdWEgPSAodHlwZW9mIHVhID09PSBTVFJfVFlQRSAmJiB1YS5sZW5ndGggPiBVQV9NQVhfTEVOR1RIKSA/IHRyaW0odWEsIFVBX01BWF9MRU5HVEgpIDogdWE7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXRVQShfdWEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgVUFQYXJzZXIuVkVSU0lPTiA9IExJQlZFUlNJT047XG4gICAgVUFQYXJzZXIuQlJPV1NFUiA9ICBlbnVtZXJpemUoW05BTUUsIFZFUlNJT04sIE1BSk9SXSk7XG4gICAgVUFQYXJzZXIuQ1BVID0gZW51bWVyaXplKFtBUkNISVRFQ1RVUkVdKTtcbiAgICBVQVBhcnNlci5ERVZJQ0UgPSBlbnVtZXJpemUoW01PREVMLCBWRU5ET1IsIFRZUEUsIENPTlNPTEUsIE1PQklMRSwgU01BUlRUViwgVEFCTEVULCBXRUFSQUJMRSwgRU1CRURERURdKTtcbiAgICBVQVBhcnNlci5FTkdJTkUgPSBVQVBhcnNlci5PUyA9IGVudW1lcml6ZShbTkFNRSwgVkVSU0lPTl0pO1xuXG4gICAgLy8vLy8vLy8vLy9cbiAgICAvLyBFeHBvcnRcbiAgICAvLy8vLy8vLy8vXG5cbiAgICAvLyBjaGVjayBqcyBlbnZpcm9ubWVudFxuICAgIGlmICh0eXBlb2YoZXhwb3J0cykgIT09IFVOREVGX1RZUEUpIHtcbiAgICAgICAgLy8gbm9kZWpzIGVudlxuICAgICAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gVU5ERUZfVFlQRSAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICAgICAgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gVUFQYXJzZXI7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0cy5VQVBhcnNlciA9IFVBUGFyc2VyO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHJlcXVpcmVqcyBlbnYgKG9wdGlvbmFsKVxuICAgICAgICBpZiAodHlwZW9mKGRlZmluZSkgPT09IEZVTkNfVFlQRSAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgICAgICBkZWZpbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBVQVBhcnNlcjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFVOREVGX1RZUEUpIHtcbiAgICAgICAgICAgIC8vIGJyb3dzZXIgZW52XG4gICAgICAgICAgICB3aW5kb3cuVUFQYXJzZXIgPSBVQVBhcnNlcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGpRdWVyeS9aZXB0byBzcGVjaWZpYyAob3B0aW9uYWwpXG4gICAgLy8gTm90ZTpcbiAgICAvLyAgIEluIEFNRCBlbnYgdGhlIGdsb2JhbCBzY29wZSBzaG91bGQgYmUga2VwdCBjbGVhbiwgYnV0IGpRdWVyeSBpcyBhbiBleGNlcHRpb24uXG4gICAgLy8gICBqUXVlcnkgYWx3YXlzIGV4cG9ydHMgdG8gZ2xvYmFsIHNjb3BlLCB1bmxlc3MgalF1ZXJ5Lm5vQ29uZmxpY3QodHJ1ZSkgaXMgdXNlZCxcbiAgICAvLyAgIGFuZCB3ZSBzaG91bGQgY2F0Y2ggdGhhdC5cbiAgICB2YXIgJCA9IHR5cGVvZiB3aW5kb3cgIT09IFVOREVGX1RZUEUgJiYgKHdpbmRvdy5qUXVlcnkgfHwgd2luZG93LlplcHRvKTtcbiAgICBpZiAoJCAmJiAhJC51YSkge1xuICAgICAgICB2YXIgcGFyc2VyID0gbmV3IFVBUGFyc2VyKCk7XG4gICAgICAgICQudWEgPSBwYXJzZXIuZ2V0UmVzdWx0KCk7XG4gICAgICAgICQudWEuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlci5nZXRVQSgpO1xuICAgICAgICB9O1xuICAgICAgICAkLnVhLnNldCA9IGZ1bmN0aW9uICh1YSkge1xuICAgICAgICAgICAgcGFyc2VyLnNldFVBKHVhKTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBwYXJzZXIuZ2V0UmVzdWx0KCk7XG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICQudWFbcHJvcF0gPSByZXN1bHRbcHJvcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG59KSh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JyA/IHdpbmRvdyA6IHRoaXMpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/ua-parser-js/src/ua-parser.js\n"));

/***/ }),

/***/ "./node_modules/classnames/index.js":
/*!******************************************!*\
  !*** ./node_modules/classnames/index.js ***!
  \******************************************/
/***/ (function(module, exports, __webpack_require__) {

eval(__webpack_require__.ts("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif ( true && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (true) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n\t\t\treturn classNames;\n\t\t}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n}());\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxnQkFBZ0I7O0FBRWhCO0FBQ0E7O0FBRUEsa0JBQWtCLHNCQUFzQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSyxLQUE2QjtBQUNsQztBQUNBO0FBQ0EsR0FBRyxTQUFTLElBQTRFO0FBQ3hGO0FBQ0EsRUFBRSxpQ0FBcUIsRUFBRSxtQ0FBRTtBQUMzQjtBQUNBLEdBQUc7QUFBQSxrR0FBQztBQUNKLEdBQUcsS0FBSyxFQUVOO0FBQ0YsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcz9lZGM2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuXHRDb3B5cmlnaHQgKGMpIDIwMTggSmVkIFdhdHNvbi5cblx0TGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcblx0aHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzICgpIHtcblx0XHR2YXIgY2xhc3NlcyA9ICcnO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoYXJnKSB7XG5cdFx0XHRcdGNsYXNzZXMgPSBhcHBlbmRDbGFzcyhjbGFzc2VzLCBwYXJzZVZhbHVlKGFyZykpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjbGFzc2VzO1xuXHR9XG5cblx0ZnVuY3Rpb24gcGFyc2VWYWx1ZSAoYXJnKSB7XG5cdFx0aWYgKHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBhcmcgPT09ICdudW1iZXInKSB7XG5cdFx0XHRyZXR1cm4gYXJnO1xuXHRcdH1cblxuXHRcdGlmICh0eXBlb2YgYXJnICE9PSAnb2JqZWN0Jykge1xuXHRcdFx0cmV0dXJuICcnO1xuXHRcdH1cblxuXHRcdGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZyk7XG5cdFx0fVxuXG5cdFx0aWYgKGFyZy50b1N0cmluZyAhPT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyAmJiAhYXJnLnRvU3RyaW5nLnRvU3RyaW5nKCkuaW5jbHVkZXMoJ1tuYXRpdmUgY29kZV0nKSkge1xuXHRcdFx0cmV0dXJuIGFyZy50b1N0cmluZygpO1xuXHRcdH1cblxuXHRcdHZhciBjbGFzc2VzID0gJyc7XG5cblx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdGNsYXNzZXMgPSBhcHBlbmRDbGFzcyhjbGFzc2VzLCBrZXkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjbGFzc2VzO1xuXHR9XG5cblx0ZnVuY3Rpb24gYXBwZW5kQ2xhc3MgKHZhbHVlLCBuZXdDbGFzcykge1xuXHRcdGlmICghbmV3Q2xhc3MpIHtcblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cdFxuXHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0cmV0dXJuIHZhbHVlICsgJyAnICsgbmV3Q2xhc3M7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gdmFsdWUgKyBuZXdDbGFzcztcblx0fVxuXG5cdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdGNsYXNzTmFtZXMuZGVmYXVsdCA9IGNsYXNzTmFtZXM7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0ZGVmaW5lKCdjbGFzc25hbWVzJywgW10sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0fVxufSgpKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/classnames/index.js\n"));

/***/ }),

/***/ "./node_modules/zod/index.cjs":
/*!************************************!*\
  !*** ./node_modules/zod/index.cjs ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.z = void 0;\nconst z = __importStar(__webpack_require__(/*! ./v3/external.cjs */ \"./node_modules/zod/v3/external.cjs\"));\nexports.z = z;\n__exportStar(__webpack_require__(/*! ./v3/external.cjs */ \"./node_modules/zod/v3/external.cjs\"), exports);\nexports[\"default\"] = z;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvem9kL2luZGV4LmNqcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsMENBQTBDLDRCQUE0QjtBQUN0RSxDQUFDO0FBQ0Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsU0FBUztBQUNULHVCQUF1QixtQkFBTyxDQUFDLDZEQUFtQjtBQUNsRCxTQUFTO0FBQ1QsYUFBYSxtQkFBTyxDQUFDLDZEQUFtQjtBQUN4QyxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvem9kL2luZGV4LmNqcz9mY2YwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIHApKSBfX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgbSwgcCk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy56ID0gdm9pZCAwO1xuY29uc3QgeiA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi92My9leHRlcm5hbC5janNcIikpO1xuZXhwb3J0cy56ID0gejtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi92My9leHRlcm5hbC5janNcIiksIGV4cG9ydHMpO1xuZXhwb3J0cy5kZWZhdWx0ID0gejtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/zod/index.cjs\n"));

/***/ }),

/***/ "./node_modules/zod/v3/ZodError.cjs":
/*!******************************************!*\
  !*** ./node_modules/zod/v3/ZodError.cjs ***!
  \******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ZodError = exports.quotelessJson = exports.ZodIssueCode = void 0;\nconst util_js_1 = __webpack_require__(/*! ./helpers/util.cjs */ \"./node_modules/zod/v3/helpers/util.cjs\");\nexports.ZodIssueCode = util_js_1.util.arrayToEnum([\n    \"invalid_type\",\n    \"invalid_literal\",\n    \"custom\",\n    \"invalid_union\",\n    \"invalid_union_discriminator\",\n    \"invalid_enum_value\",\n    \"unrecognized_keys\",\n    \"invalid_arguments\",\n    \"invalid_return_type\",\n    \"invalid_date\",\n    \"invalid_string\",\n    \"too_small\",\n    \"too_big\",\n    \"invalid_intersection_types\",\n    \"not_multiple_of\",\n    \"not_finite\",\n]);\nconst quotelessJson = (obj) => {\n    const json = JSON.stringify(obj, null, 2);\n    return json.replace(/\"([^\"]+)\":/g, \"$1:\");\n};\nexports.quotelessJson = quotelessJson;\nclass ZodError extends Error {\n    get errors() {\n        return this.issues;\n    }\n    constructor(issues) {\n        super();\n        this.issues = [];\n        this.addIssue = (sub) => {\n            this.issues = [...this.issues, sub];\n        };\n        this.addIssues = (subs = []) => {\n            this.issues = [...this.issues, ...subs];\n        };\n        const actualProto = new.target.prototype;\n        if (Object.setPrototypeOf) {\n            // eslint-disable-next-line ban/ban\n            Object.setPrototypeOf(this, actualProto);\n        }\n        else {\n            this.__proto__ = actualProto;\n        }\n        this.name = \"ZodError\";\n        this.issues = issues;\n    }\n    format(_mapper) {\n        const mapper = _mapper ||\n            function (issue) {\n                return issue.message;\n            };\n        const fieldErrors = { _errors: [] };\n        const processError = (error) => {\n            for (const issue of error.issues) {\n                if (issue.code === \"invalid_union\") {\n                    issue.unionErrors.map(processError);\n                }\n                else if (issue.code === \"invalid_return_type\") {\n                    processError(issue.returnTypeError);\n                }\n                else if (issue.code === \"invalid_arguments\") {\n                    processError(issue.argumentsError);\n                }\n                else if (issue.path.length === 0) {\n                    fieldErrors._errors.push(mapper(issue));\n                }\n                else {\n                    let curr = fieldErrors;\n                    let i = 0;\n                    while (i < issue.path.length) {\n                        const el = issue.path[i];\n                        const terminal = i === issue.path.length - 1;\n                        if (!terminal) {\n                            curr[el] = curr[el] || { _errors: [] };\n                            // if (typeof el === \"string\") {\n                            //   curr[el] = curr[el] || { _errors: [] };\n                            // } else if (typeof el === \"number\") {\n                            //   const errorArray: any = [];\n                            //   errorArray._errors = [];\n                            //   curr[el] = curr[el] || errorArray;\n                            // }\n                        }\n                        else {\n                            curr[el] = curr[el] || { _errors: [] };\n                            curr[el]._errors.push(mapper(issue));\n                        }\n                        curr = curr[el];\n                        i++;\n                    }\n                }\n            }\n        };\n        processError(this);\n        return fieldErrors;\n    }\n    static assert(value) {\n        if (!(value instanceof ZodError)) {\n            throw new Error(`Not a ZodError: ${value}`);\n        }\n    }\n    toString() {\n        return this.message;\n    }\n    get message() {\n        return JSON.stringify(this.issues, util_js_1.util.jsonStringifyReplacer, 2);\n    }\n    get isEmpty() {\n        return this.issues.length === 0;\n    }\n    flatten(mapper = (issue) => issue.message) {\n        const fieldErrors = {};\n        const formErrors = [];\n        for (const sub of this.issues) {\n            if (sub.path.length > 0) {\n                const firstEl = sub.path[0];\n                fieldErrors[firstEl] = fieldErrors[firstEl] || [];\n                fieldErrors[firstEl].push(mapper(sub));\n            }\n            else {\n                formErrors.push(mapper(sub));\n            }\n        }\n        return { formErrors, fieldErrors };\n    }\n    get formErrors() {\n        return this.flatten();\n    }\n}\nexports.ZodError = ZodError;\nZodError.create = (issues) => {\n    const error = new ZodError(issues);\n    return error;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvem9kL3YzL1pvZEVycm9yLmNqcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0IsR0FBRyxxQkFBcUIsR0FBRyxvQkFBb0I7QUFDL0Qsa0JBQWtCLG1CQUFPLENBQUMsa0VBQW9CO0FBQzlDLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQ7QUFDQSwwREFBMEQ7QUFDMUQsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxNQUFNO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy96b2QvdjMvWm9kRXJyb3IuY2pzPzVjNDQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlpvZEVycm9yID0gZXhwb3J0cy5xdW90ZWxlc3NKc29uID0gZXhwb3J0cy5ab2RJc3N1ZUNvZGUgPSB2b2lkIDA7XG5jb25zdCB1dGlsX2pzXzEgPSByZXF1aXJlKFwiLi9oZWxwZXJzL3V0aWwuY2pzXCIpO1xuZXhwb3J0cy5ab2RJc3N1ZUNvZGUgPSB1dGlsX2pzXzEudXRpbC5hcnJheVRvRW51bShbXG4gICAgXCJpbnZhbGlkX3R5cGVcIixcbiAgICBcImludmFsaWRfbGl0ZXJhbFwiLFxuICAgIFwiY3VzdG9tXCIsXG4gICAgXCJpbnZhbGlkX3VuaW9uXCIsXG4gICAgXCJpbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3JcIixcbiAgICBcImludmFsaWRfZW51bV92YWx1ZVwiLFxuICAgIFwidW5yZWNvZ25pemVkX2tleXNcIixcbiAgICBcImludmFsaWRfYXJndW1lbnRzXCIsXG4gICAgXCJpbnZhbGlkX3JldHVybl90eXBlXCIsXG4gICAgXCJpbnZhbGlkX2RhdGVcIixcbiAgICBcImludmFsaWRfc3RyaW5nXCIsXG4gICAgXCJ0b29fc21hbGxcIixcbiAgICBcInRvb19iaWdcIixcbiAgICBcImludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzXCIsXG4gICAgXCJub3RfbXVsdGlwbGVfb2ZcIixcbiAgICBcIm5vdF9maW5pdGVcIixcbl0pO1xuY29uc3QgcXVvdGVsZXNzSnNvbiA9IChvYmopID0+IHtcbiAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkob2JqLCBudWxsLCAyKTtcbiAgICByZXR1cm4ganNvbi5yZXBsYWNlKC9cIihbXlwiXSspXCI6L2csIFwiJDE6XCIpO1xufTtcbmV4cG9ydHMucXVvdGVsZXNzSnNvbiA9IHF1b3RlbGVzc0pzb247XG5jbGFzcyBab2RFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBnZXQgZXJyb3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc3N1ZXM7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGlzc3Vlcykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlzc3VlcyA9IFtdO1xuICAgICAgICB0aGlzLmFkZElzc3VlID0gKHN1YikgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc3N1ZXMgPSBbLi4udGhpcy5pc3N1ZXMsIHN1Yl07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYWRkSXNzdWVzID0gKHN1YnMgPSBbXSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc3N1ZXMgPSBbLi4udGhpcy5pc3N1ZXMsIC4uLnN1YnNdO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBhY3R1YWxQcm90byA9IG5ldy50YXJnZXQucHJvdG90eXBlO1xuICAgICAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgYmFuL2JhblxuICAgICAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIGFjdHVhbFByb3RvKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX19wcm90b19fID0gYWN0dWFsUHJvdG87XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uYW1lID0gXCJab2RFcnJvclwiO1xuICAgICAgICB0aGlzLmlzc3VlcyA9IGlzc3VlcztcbiAgICB9XG4gICAgZm9ybWF0KF9tYXBwZXIpIHtcbiAgICAgICAgY29uc3QgbWFwcGVyID0gX21hcHBlciB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGlzc3VlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzc3VlLm1lc3NhZ2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICBjb25zdCBmaWVsZEVycm9ycyA9IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgY29uc3QgcHJvY2Vzc0Vycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlzc3VlIG9mIGVycm9yLmlzc3Vlcykge1xuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfdW5pb25cIikge1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZS51bmlvbkVycm9ycy5tYXAocHJvY2Vzc0Vycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX3JldHVybl90eXBlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0Vycm9yKGlzc3VlLnJldHVyblR5cGVFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF9hcmd1bWVudHNcIikge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzRXJyb3IoaXNzdWUuYXJndW1lbnRzRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5wYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBmaWVsZEVycm9ycy5fZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3VyciA9IGZpZWxkRXJyb3JzO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgaXNzdWUucGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gaXNzdWUucGF0aFtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlcm1pbmFsID0gaSA9PT0gaXNzdWUucGF0aC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0ZXJtaW5hbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgeyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmICh0eXBlb2YgZWwgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgeyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0gZWxzZSBpZiAodHlwZW9mIGVsID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBjb25zdCBlcnJvckFycmF5OiBhbnkgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGVycm9yQXJyYXkuX2Vycm9ycyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCBlcnJvckFycmF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgeyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJbZWxdLl9lcnJvcnMucHVzaChtYXBwZXIoaXNzdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnIgPSBjdXJyW2VsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcHJvY2Vzc0Vycm9yKHRoaXMpO1xuICAgICAgICByZXR1cm4gZmllbGRFcnJvcnM7XG4gICAgfVxuICAgIHN0YXRpYyBhc3NlcnQodmFsdWUpIHtcbiAgICAgICAgaWYgKCEodmFsdWUgaW5zdGFuY2VvZiBab2RFcnJvcikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm90IGEgWm9kRXJyb3I6ICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2U7XG4gICAgfVxuICAgIGdldCBtZXNzYWdlKCkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5pc3N1ZXMsIHV0aWxfanNfMS51dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlciwgMik7XG4gICAgfVxuICAgIGdldCBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc3N1ZXMubGVuZ3RoID09PSAwO1xuICAgIH1cbiAgICBmbGF0dGVuKG1hcHBlciA9IChpc3N1ZSkgPT4gaXNzdWUubWVzc2FnZSkge1xuICAgICAgICBjb25zdCBmaWVsZEVycm9ycyA9IHt9O1xuICAgICAgICBjb25zdCBmb3JtRXJyb3JzID0gW107XG4gICAgICAgIGZvciAoY29uc3Qgc3ViIG9mIHRoaXMuaXNzdWVzKSB7XG4gICAgICAgICAgICBpZiAoc3ViLnBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0RWwgPSBzdWIucGF0aFswXTtcbiAgICAgICAgICAgICAgICBmaWVsZEVycm9yc1tmaXJzdEVsXSA9IGZpZWxkRXJyb3JzW2ZpcnN0RWxdIHx8IFtdO1xuICAgICAgICAgICAgICAgIGZpZWxkRXJyb3JzW2ZpcnN0RWxdLnB1c2gobWFwcGVyKHN1YikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9ybUVycm9ycy5wdXNoKG1hcHBlcihzdWIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBmb3JtRXJyb3JzLCBmaWVsZEVycm9ycyB9O1xuICAgIH1cbiAgICBnZXQgZm9ybUVycm9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhdHRlbigpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kRXJyb3IgPSBab2RFcnJvcjtcblpvZEVycm9yLmNyZWF0ZSA9IChpc3N1ZXMpID0+IHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBab2RFcnJvcihpc3N1ZXMpO1xuICAgIHJldHVybiBlcnJvcjtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/zod/v3/ZodError.cjs\n"));

/***/ }),

/***/ "./node_modules/zod/v3/errors.cjs":
/*!****************************************!*\
  !*** ./node_modules/zod/v3/errors.cjs ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.defaultErrorMap = void 0;\nexports.setErrorMap = setErrorMap;\nexports.getErrorMap = getErrorMap;\nconst en_js_1 = __importDefault(__webpack_require__(/*! ./locales/en.cjs */ \"./node_modules/zod/v3/locales/en.cjs\"));\nexports.defaultErrorMap = en_js_1.default;\nlet overrideErrorMap = en_js_1.default;\nfunction setErrorMap(map) {\n    overrideErrorMap = map;\n}\nfunction getErrorMap() {\n    return overrideErrorMap;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvem9kL3YzL2Vycm9ycy5janMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx1QkFBdUI7QUFDdkIsbUJBQW1CO0FBQ25CLG1CQUFtQjtBQUNuQixnQ0FBZ0MsbUJBQU8sQ0FBQyw4REFBa0I7QUFDMUQsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy96b2QvdjMvZXJyb3JzLmNqcz83Y2ZmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kZWZhdWx0RXJyb3JNYXAgPSB2b2lkIDA7XG5leHBvcnRzLnNldEVycm9yTWFwID0gc2V0RXJyb3JNYXA7XG5leHBvcnRzLmdldEVycm9yTWFwID0gZ2V0RXJyb3JNYXA7XG5jb25zdCBlbl9qc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2xvY2FsZXMvZW4uY2pzXCIpKTtcbmV4cG9ydHMuZGVmYXVsdEVycm9yTWFwID0gZW5fanNfMS5kZWZhdWx0O1xubGV0IG92ZXJyaWRlRXJyb3JNYXAgPSBlbl9qc18xLmRlZmF1bHQ7XG5mdW5jdGlvbiBzZXRFcnJvck1hcChtYXApIHtcbiAgICBvdmVycmlkZUVycm9yTWFwID0gbWFwO1xufVxuZnVuY3Rpb24gZ2V0RXJyb3JNYXAoKSB7XG4gICAgcmV0dXJuIG92ZXJyaWRlRXJyb3JNYXA7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/zod/v3/errors.cjs\n"));

/***/ }),

/***/ "./node_modules/zod/v3/external.cjs":
/*!******************************************!*\
  !*** ./node_modules/zod/v3/external.cjs ***!
  \******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n__exportStar(__webpack_require__(/*! ./errors.cjs */ \"./node_modules/zod/v3/errors.cjs\"), exports);\n__exportStar(__webpack_require__(/*! ./helpers/parseUtil.cjs */ \"./node_modules/zod/v3/helpers/parseUtil.cjs\"), exports);\n__exportStar(__webpack_require__(/*! ./helpers/typeAliases.cjs */ \"./node_modules/zod/v3/helpers/typeAliases.cjs\"), exports);\n__exportStar(__webpack_require__(/*! ./helpers/util.cjs */ \"./node_modules/zod/v3/helpers/util.cjs\"), exports);\n__exportStar(__webpack_require__(/*! ./types.cjs */ \"./node_modules/zod/v3/types.cjs\"), exports);\n__exportStar(__webpack_require__(/*! ./ZodError.cjs */ \"./node_modules/zod/v3/ZodError.cjs\"), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvem9kL3YzL2V4dGVybmFsLmNqcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxhQUFhLG1CQUFPLENBQUMsc0RBQWM7QUFDbkMsYUFBYSxtQkFBTyxDQUFDLDRFQUF5QjtBQUM5QyxhQUFhLG1CQUFPLENBQUMsZ0ZBQTJCO0FBQ2hELGFBQWEsbUJBQU8sQ0FBQyxrRUFBb0I7QUFDekMsYUFBYSxtQkFBTyxDQUFDLG9EQUFhO0FBQ2xDLGFBQWEsbUJBQU8sQ0FBQywwREFBZ0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3pvZC92My9leHRlcm5hbC5janM/OWY4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIHApKSBfX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgbSwgcCk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2Vycm9ycy5janNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2hlbHBlcnMvcGFyc2VVdGlsLmNqc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vaGVscGVycy90eXBlQWxpYXNlcy5janNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2hlbHBlcnMvdXRpbC5janNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3R5cGVzLmNqc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vWm9kRXJyb3IuY2pzXCIpLCBleHBvcnRzKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/zod/v3/external.cjs\n"));

/***/ }),

/***/ "./node_modules/zod/v3/helpers/errorUtil.cjs":
/*!***************************************************!*\
  !*** ./node_modules/zod/v3/helpers/errorUtil.cjs ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.errorUtil = void 0;\nvar errorUtil;\n(function (errorUtil) {\n    errorUtil.errToObj = (message) => typeof message === \"string\" ? { message } : message || {};\n    // biome-ignore lint:\n    errorUtil.toString = (message) => typeof message === \"string\" ? message : message?.message;\n})(errorUtil || (exports.errorUtil = errorUtil = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvem9kL3YzL2hlbHBlcnMvZXJyb3JVdGlsLmNqcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLHNFQUFzRSxVQUFVO0FBQ2hGO0FBQ0E7QUFDQSxDQUFDLGdCQUFnQixpQkFBaUIsaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy96b2QvdjMvaGVscGVycy9lcnJvclV0aWwuY2pzP2Y1MzYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmVycm9yVXRpbCA9IHZvaWQgMDtcbnZhciBlcnJvclV0aWw7XG4oZnVuY3Rpb24gKGVycm9yVXRpbCkge1xuICAgIGVycm9yVXRpbC5lcnJUb09iaiA9IChtZXNzYWdlKSA9PiB0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiA/IHsgbWVzc2FnZSB9IDogbWVzc2FnZSB8fCB7fTtcbiAgICAvLyBiaW9tZS1pZ25vcmUgbGludDpcbiAgICBlcnJvclV0aWwudG9TdHJpbmcgPSAobWVzc2FnZSkgPT4gdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgPyBtZXNzYWdlIDogbWVzc2FnZT8ubWVzc2FnZTtcbn0pKGVycm9yVXRpbCB8fCAoZXhwb3J0cy5lcnJvclV0aWwgPSBlcnJvclV0aWwgPSB7fSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/zod/v3/helpers/errorUtil.cjs\n"));

/***/ }),

/***/ "./node_modules/zod/v3/helpers/parseUtil.cjs":
/*!***************************************************!*\
  !*** ./node_modules/zod/v3/helpers/parseUtil.cjs ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isAsync = exports.isValid = exports.isDirty = exports.isAborted = exports.OK = exports.DIRTY = exports.INVALID = exports.ParseStatus = exports.EMPTY_PATH = exports.makeIssue = void 0;\nexports.addIssueToContext = addIssueToContext;\nconst errors_js_1 = __webpack_require__(/*! ../errors.cjs */ \"./node_modules/zod/v3/errors.cjs\");\nconst en_js_1 = __importDefault(__webpack_require__(/*! ../locales/en.cjs */ \"./node_modules/zod/v3/locales/en.cjs\"));\nconst makeIssue = (params) => {\n    const { data, path, errorMaps, issueData } = params;\n    const fullPath = [...path, ...(issueData.path || [])];\n    const fullIssue = {\n        ...issueData,\n        path: fullPath,\n    };\n    if (issueData.message !== undefined) {\n        return {\n            ...issueData,\n            path: fullPath,\n            message: issueData.message,\n        };\n    }\n    let errorMessage = \"\";\n    const maps = errorMaps\n        .filter((m) => !!m)\n        .slice()\n        .reverse();\n    for (const map of maps) {\n        errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;\n    }\n    return {\n        ...issueData,\n        path: fullPath,\n        message: errorMessage,\n    };\n};\nexports.makeIssue = makeIssue;\nexports.EMPTY_PATH = [];\nfunction addIssueToContext(ctx, issueData) {\n    const overrideMap = (0, errors_js_1.getErrorMap)();\n    const issue = (0, exports.makeIssue)({\n        issueData: issueData,\n        data: ctx.data,\n        path: ctx.path,\n        errorMaps: [\n            ctx.common.contextualErrorMap, // contextual error map is first priority\n            ctx.schemaErrorMap, // then schema-bound map if available\n            overrideMap, // then global override map\n            overrideMap === en_js_1.default ? undefined : en_js_1.default, // then global default map\n        ].filter((x) => !!x),\n    });\n    ctx.common.issues.push(issue);\n}\nclass ParseStatus {\n    constructor() {\n        this.value = \"valid\";\n    }\n    dirty() {\n        if (this.value === \"valid\")\n            this.value = \"dirty\";\n    }\n    abort() {\n        if (this.value !== \"aborted\")\n            this.value = \"aborted\";\n    }\n    static mergeArray(status, results) {\n        const arrayValue = [];\n        for (const s of results) {\n            if (s.status === \"aborted\")\n                return exports.INVALID;\n            if (s.status === \"dirty\")\n                status.dirty();\n            arrayValue.push(s.value);\n        }\n        return { status: status.value, value: arrayValue };\n    }\n    static async mergeObjectAsync(status, pairs) {\n        const syncPairs = [];\n        for (const pair of pairs) {\n            const key = await pair.key;\n            const value = await pair.value;\n            syncPairs.push({\n                key,\n                value,\n            });\n        }\n        return ParseStatus.mergeObjectSync(status, syncPairs);\n    }\n    static mergeObjectSync(status, pairs) {\n        const finalObject = {};\n        for (const pair of pairs) {\n            const { key, value } = pair;\n            if (key.status === \"aborted\")\n                return exports.INVALID;\n            if (value.status === \"aborted\")\n                return exports.INVALID;\n            if (key.status === \"dirty\")\n                status.dirty();\n            if (value.status === \"dirty\")\n                status.dirty();\n            if (key.value !== \"__proto__\" && (typeof value.value !== \"undefined\" || pair.alwaysSet)) {\n                finalObject[key.value] = value.value;\n            }\n        }\n        return { status: status.value, value: finalObject };\n    }\n}\nexports.ParseStatus = ParseStatus;\nexports.INVALID = Object.freeze({\n    status: \"aborted\",\n});\nconst DIRTY = (value) => ({ status: \"dirty\", value });\nexports.DIRTY = DIRTY;\nconst OK = (value) => ({ status: \"valid\", value });\nexports.OK = OK;\nconst isAborted = (x) => x.status === \"aborted\";\nexports.isAborted = isAborted;\nconst isDirty = (x) => x.status === \"dirty\";\nexports.isDirty = isDirty;\nconst isValid = (x) => x.status === \"valid\";\nexports.isValid = isValid;\nconst isAsync = (x) => typeof Promise !== \"undefined\" && x instanceof Promise;\nexports.isAsync = isAsync;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvem9kL3YzL2hlbHBlcnMvcGFyc2VVdGlsLmNqcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGVBQWUsR0FBRyxlQUFlLEdBQUcsZUFBZSxHQUFHLGlCQUFpQixHQUFHLFVBQVUsR0FBRyxhQUFhLEdBQUcsZUFBZSxHQUFHLG1CQUFtQixHQUFHLGtCQUFrQixHQUFHLGlCQUFpQjtBQUNyTCx5QkFBeUI7QUFDekIsb0JBQW9CLG1CQUFPLENBQUMsdURBQWU7QUFDM0MsZ0NBQWdDLG1CQUFPLENBQUMsK0RBQW1CO0FBQzNEO0FBQ0EsWUFBWSxtQ0FBbUM7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLGtDQUFrQztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixhQUFhO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CLGVBQWU7QUFDZjtBQUNBLENBQUM7QUFDRCw0QkFBNEIsd0JBQXdCO0FBQ3BELGFBQWE7QUFDYix5QkFBeUIsd0JBQXdCO0FBQ2pELFVBQVU7QUFDVjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGVBQWU7QUFDZjtBQUNBLGVBQWU7QUFDZjtBQUNBLGVBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3pvZC92My9oZWxwZXJzL3BhcnNlVXRpbC5janM/NzcyNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNBc3luYyA9IGV4cG9ydHMuaXNWYWxpZCA9IGV4cG9ydHMuaXNEaXJ0eSA9IGV4cG9ydHMuaXNBYm9ydGVkID0gZXhwb3J0cy5PSyA9IGV4cG9ydHMuRElSVFkgPSBleHBvcnRzLklOVkFMSUQgPSBleHBvcnRzLlBhcnNlU3RhdHVzID0gZXhwb3J0cy5FTVBUWV9QQVRIID0gZXhwb3J0cy5tYWtlSXNzdWUgPSB2b2lkIDA7XG5leHBvcnRzLmFkZElzc3VlVG9Db250ZXh0ID0gYWRkSXNzdWVUb0NvbnRleHQ7XG5jb25zdCBlcnJvcnNfanNfMSA9IHJlcXVpcmUoXCIuLi9lcnJvcnMuY2pzXCIpO1xuY29uc3QgZW5fanNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vbG9jYWxlcy9lbi5janNcIikpO1xuY29uc3QgbWFrZUlzc3VlID0gKHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgcGF0aCwgZXJyb3JNYXBzLCBpc3N1ZURhdGEgfSA9IHBhcmFtcztcbiAgICBjb25zdCBmdWxsUGF0aCA9IFsuLi5wYXRoLCAuLi4oaXNzdWVEYXRhLnBhdGggfHwgW10pXTtcbiAgICBjb25zdCBmdWxsSXNzdWUgPSB7XG4gICAgICAgIC4uLmlzc3VlRGF0YSxcbiAgICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgfTtcbiAgICBpZiAoaXNzdWVEYXRhLm1lc3NhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uaXNzdWVEYXRhLFxuICAgICAgICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgICAgICAgICBtZXNzYWdlOiBpc3N1ZURhdGEubWVzc2FnZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgbGV0IGVycm9yTWVzc2FnZSA9IFwiXCI7XG4gICAgY29uc3QgbWFwcyA9IGVycm9yTWFwc1xuICAgICAgICAuZmlsdGVyKChtKSA9PiAhIW0pXG4gICAgICAgIC5zbGljZSgpXG4gICAgICAgIC5yZXZlcnNlKCk7XG4gICAgZm9yIChjb25zdCBtYXAgb2YgbWFwcykge1xuICAgICAgICBlcnJvck1lc3NhZ2UgPSBtYXAoZnVsbElzc3VlLCB7IGRhdGEsIGRlZmF1bHRFcnJvcjogZXJyb3JNZXNzYWdlIH0pLm1lc3NhZ2U7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmlzc3VlRGF0YSxcbiAgICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZSxcbiAgICB9O1xufTtcbmV4cG9ydHMubWFrZUlzc3VlID0gbWFrZUlzc3VlO1xuZXhwb3J0cy5FTVBUWV9QQVRIID0gW107XG5mdW5jdGlvbiBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIGlzc3VlRGF0YSkge1xuICAgIGNvbnN0IG92ZXJyaWRlTWFwID0gKDAsIGVycm9yc19qc18xLmdldEVycm9yTWFwKSgpO1xuICAgIGNvbnN0IGlzc3VlID0gKDAsIGV4cG9ydHMubWFrZUlzc3VlKSh7XG4gICAgICAgIGlzc3VlRGF0YTogaXNzdWVEYXRhLFxuICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgIGVycm9yTWFwczogW1xuICAgICAgICAgICAgY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsIC8vIGNvbnRleHR1YWwgZXJyb3IgbWFwIGlzIGZpcnN0IHByaW9yaXR5XG4gICAgICAgICAgICBjdHguc2NoZW1hRXJyb3JNYXAsIC8vIHRoZW4gc2NoZW1hLWJvdW5kIG1hcCBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgIG92ZXJyaWRlTWFwLCAvLyB0aGVuIGdsb2JhbCBvdmVycmlkZSBtYXBcbiAgICAgICAgICAgIG92ZXJyaWRlTWFwID09PSBlbl9qc18xLmRlZmF1bHQgPyB1bmRlZmluZWQgOiBlbl9qc18xLmRlZmF1bHQsIC8vIHRoZW4gZ2xvYmFsIGRlZmF1bHQgbWFwXG4gICAgICAgIF0uZmlsdGVyKCh4KSA9PiAhIXgpLFxuICAgIH0pO1xuICAgIGN0eC5jb21tb24uaXNzdWVzLnB1c2goaXNzdWUpO1xufVxuY2xhc3MgUGFyc2VTdGF0dXMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnZhbHVlID0gXCJ2YWxpZFwiO1xuICAgIH1cbiAgICBkaXJ0eSgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09IFwidmFsaWRcIilcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcImRpcnR5XCI7XG4gICAgfVxuICAgIGFib3J0KCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZSAhPT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gXCJhYm9ydGVkXCI7XG4gICAgfVxuICAgIHN0YXRpYyBtZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0cykge1xuICAgICAgICBjb25zdCBhcnJheVZhbHVlID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcyBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICBpZiAocy5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLklOVkFMSUQ7XG4gICAgICAgICAgICBpZiAocy5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGFycmF5VmFsdWUucHVzaChzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGFycmF5VmFsdWUgfTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIG1lcmdlT2JqZWN0QXN5bmMoc3RhdHVzLCBwYWlycykge1xuICAgICAgICBjb25zdCBzeW5jUGFpcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCBwYWlyLmtleTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFpci52YWx1ZTtcbiAgICAgICAgICAgIHN5bmNQYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgc3luY1BhaXJzKTtcbiAgICB9XG4gICAgc3RhdGljIG1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKSB7XG4gICAgICAgIGNvbnN0IGZpbmFsT2JqZWN0ID0ge307XG4gICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgY29uc3QgeyBrZXksIHZhbHVlIH0gPSBwYWlyO1xuICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLklOVkFMSUQ7XG4gICAgICAgICAgICBpZiAodmFsdWUuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5JTlZBTElEO1xuICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGlmIChrZXkudmFsdWUgIT09IFwiX19wcm90b19fXCIgJiYgKHR5cGVvZiB2YWx1ZS52YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiB8fCBwYWlyLmFsd2F5c1NldCkpIHtcbiAgICAgICAgICAgICAgICBmaW5hbE9iamVjdFtrZXkudmFsdWVdID0gdmFsdWUudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBmaW5hbE9iamVjdCB9O1xuICAgIH1cbn1cbmV4cG9ydHMuUGFyc2VTdGF0dXMgPSBQYXJzZVN0YXR1cztcbmV4cG9ydHMuSU5WQUxJRCA9IE9iamVjdC5mcmVlemUoe1xuICAgIHN0YXR1czogXCJhYm9ydGVkXCIsXG59KTtcbmNvbnN0IERJUlRZID0gKHZhbHVlKSA9PiAoeyBzdGF0dXM6IFwiZGlydHlcIiwgdmFsdWUgfSk7XG5leHBvcnRzLkRJUlRZID0gRElSVFk7XG5jb25zdCBPSyA9ICh2YWx1ZSkgPT4gKHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlIH0pO1xuZXhwb3J0cy5PSyA9IE9LO1xuY29uc3QgaXNBYm9ydGVkID0gKHgpID0+IHguc3RhdHVzID09PSBcImFib3J0ZWRcIjtcbmV4cG9ydHMuaXNBYm9ydGVkID0gaXNBYm9ydGVkO1xuY29uc3QgaXNEaXJ0eSA9ICh4KSA9PiB4LnN0YXR1cyA9PT0gXCJkaXJ0eVwiO1xuZXhwb3J0cy5pc0RpcnR5ID0gaXNEaXJ0eTtcbmNvbnN0IGlzVmFsaWQgPSAoeCkgPT4geC5zdGF0dXMgPT09IFwidmFsaWRcIjtcbmV4cG9ydHMuaXNWYWxpZCA9IGlzVmFsaWQ7XG5jb25zdCBpc0FzeW5jID0gKHgpID0+IHR5cGVvZiBQcm9taXNlICE9PSBcInVuZGVmaW5lZFwiICYmIHggaW5zdGFuY2VvZiBQcm9taXNlO1xuZXhwb3J0cy5pc0FzeW5jID0gaXNBc3luYztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/zod/v3/helpers/parseUtil.cjs\n"));

/***/ }),

/***/ "./node_modules/zod/v3/helpers/typeAliases.cjs":
/*!*****************************************************!*\
  !*** ./node_modules/zod/v3/helpers/typeAliases.cjs ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvem9kL3YzL2hlbHBlcnMvdHlwZUFsaWFzZXMuY2pzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy96b2QvdjMvaGVscGVycy90eXBlQWxpYXNlcy5janM/ZWI5YyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/zod/v3/helpers/typeAliases.cjs\n"));

/***/ }),

/***/ "./node_modules/zod/v3/helpers/util.cjs":
/*!**********************************************!*\
  !*** ./node_modules/zod/v3/helpers/util.cjs ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getParsedType = exports.ZodParsedType = exports.objectUtil = exports.util = void 0;\nvar util;\n(function (util) {\n    util.assertEqual = (_) => { };\n    function assertIs(_arg) { }\n    util.assertIs = assertIs;\n    function assertNever(_x) {\n        throw new Error();\n    }\n    util.assertNever = assertNever;\n    util.arrayToEnum = (items) => {\n        const obj = {};\n        for (const item of items) {\n            obj[item] = item;\n        }\n        return obj;\n    };\n    util.getValidEnumValues = (obj) => {\n        const validKeys = util.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== \"number\");\n        const filtered = {};\n        for (const k of validKeys) {\n            filtered[k] = obj[k];\n        }\n        return util.objectValues(filtered);\n    };\n    util.objectValues = (obj) => {\n        return util.objectKeys(obj).map(function (e) {\n            return obj[e];\n        });\n    };\n    util.objectKeys = typeof Object.keys === \"function\" // eslint-disable-line ban/ban\n        ? (obj) => Object.keys(obj) // eslint-disable-line ban/ban\n        : (object) => {\n            const keys = [];\n            for (const key in object) {\n                if (Object.prototype.hasOwnProperty.call(object, key)) {\n                    keys.push(key);\n                }\n            }\n            return keys;\n        };\n    util.find = (arr, checker) => {\n        for (const item of arr) {\n            if (checker(item))\n                return item;\n        }\n        return undefined;\n    };\n    util.isInteger = typeof Number.isInteger === \"function\"\n        ? (val) => Number.isInteger(val) // eslint-disable-line ban/ban\n        : (val) => typeof val === \"number\" && Number.isFinite(val) && Math.floor(val) === val;\n    function joinValues(array, separator = \" | \") {\n        return array.map((val) => (typeof val === \"string\" ? `'${val}'` : val)).join(separator);\n    }\n    util.joinValues = joinValues;\n    util.jsonStringifyReplacer = (_, value) => {\n        if (typeof value === \"bigint\") {\n            return value.toString();\n        }\n        return value;\n    };\n})(util || (exports.util = util = {}));\nvar objectUtil;\n(function (objectUtil) {\n    objectUtil.mergeShapes = (first, second) => {\n        return {\n            ...first,\n            ...second, // second overwrites first\n        };\n    };\n})(objectUtil || (exports.objectUtil = objectUtil = {}));\nexports.ZodParsedType = util.arrayToEnum([\n    \"string\",\n    \"nan\",\n    \"number\",\n    \"integer\",\n    \"float\",\n    \"boolean\",\n    \"date\",\n    \"bigint\",\n    \"symbol\",\n    \"function\",\n    \"undefined\",\n    \"null\",\n    \"array\",\n    \"object\",\n    \"unknown\",\n    \"promise\",\n    \"void\",\n    \"never\",\n    \"map\",\n    \"set\",\n]);\nconst getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return exports.ZodParsedType.undefined;\n        case \"string\":\n            return exports.ZodParsedType.string;\n        case \"number\":\n            return Number.isNaN(data) ? exports.ZodParsedType.nan : exports.ZodParsedType.number;\n        case \"boolean\":\n            return exports.ZodParsedType.boolean;\n        case \"function\":\n            return exports.ZodParsedType.function;\n        case \"bigint\":\n            return exports.ZodParsedType.bigint;\n        case \"symbol\":\n            return exports.ZodParsedType.symbol;\n        case \"object\":\n            if (Array.isArray(data)) {\n                return exports.ZodParsedType.array;\n            }\n            if (data === null) {\n                return exports.ZodParsedType.null;\n            }\n            if (data.then && typeof data.then === \"function\" && data.catch && typeof data.catch === \"function\") {\n                return exports.ZodParsedType.promise;\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return exports.ZodParsedType.map;\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return exports.ZodParsedType.set;\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return exports.ZodParsedType.date;\n            }\n            return exports.ZodParsedType.object;\n        default:\n            return exports.ZodParsedType.unknown;\n    }\n};\nexports.getParsedType = getParsedType;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvem9kL3YzL2hlbHBlcnMvdXRpbC5janMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QscUJBQXFCLEdBQUcscUJBQXFCLEdBQUcsa0JBQWtCLEdBQUcsWUFBWTtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxJQUFJO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLFdBQVcsWUFBWSxZQUFZO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGlCQUFpQixrQkFBa0Isa0JBQWtCO0FBQ3RELHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy96b2QvdjMvaGVscGVycy91dGlsLmNqcz81YTk4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5nZXRQYXJzZWRUeXBlID0gZXhwb3J0cy5ab2RQYXJzZWRUeXBlID0gZXhwb3J0cy5vYmplY3RVdGlsID0gZXhwb3J0cy51dGlsID0gdm9pZCAwO1xudmFyIHV0aWw7XG4oZnVuY3Rpb24gKHV0aWwpIHtcbiAgICB1dGlsLmFzc2VydEVxdWFsID0gKF8pID0+IHsgfTtcbiAgICBmdW5jdGlvbiBhc3NlcnRJcyhfYXJnKSB7IH1cbiAgICB1dGlsLmFzc2VydElzID0gYXNzZXJ0SXM7XG4gICAgZnVuY3Rpb24gYXNzZXJ0TmV2ZXIoX3gpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgfVxuICAgIHV0aWwuYXNzZXJ0TmV2ZXIgPSBhc3NlcnROZXZlcjtcbiAgICB1dGlsLmFycmF5VG9FbnVtID0gKGl0ZW1zKSA9PiB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgICAgIG9ialtpdGVtXSA9IGl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuICAgIHV0aWwuZ2V0VmFsaWRFbnVtVmFsdWVzID0gKG9iaikgPT4ge1xuICAgICAgICBjb25zdCB2YWxpZEtleXMgPSB1dGlsLm9iamVjdEtleXMob2JqKS5maWx0ZXIoKGspID0+IHR5cGVvZiBvYmpbb2JqW2tdXSAhPT0gXCJudW1iZXJcIik7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkID0ge307XG4gICAgICAgIGZvciAoY29uc3QgayBvZiB2YWxpZEtleXMpIHtcbiAgICAgICAgICAgIGZpbHRlcmVkW2tdID0gb2JqW2tdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1dGlsLm9iamVjdFZhbHVlcyhmaWx0ZXJlZCk7XG4gICAgfTtcbiAgICB1dGlsLm9iamVjdFZhbHVlcyA9IChvYmopID0+IHtcbiAgICAgICAgcmV0dXJuIHV0aWwub2JqZWN0S2V5cyhvYmopLm1hcChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIG9ialtlXTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB1dGlsLm9iamVjdEtleXMgPSB0eXBlb2YgT2JqZWN0LmtleXMgPT09IFwiZnVuY3Rpb25cIiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGJhbi9iYW5cbiAgICAgICAgPyAob2JqKSA9PiBPYmplY3Qua2V5cyhvYmopIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgYmFuL2JhblxuICAgICAgICA6IChvYmplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBrZXlzO1xuICAgICAgICB9O1xuICAgIHV0aWwuZmluZCA9IChhcnIsIGNoZWNrZXIpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGFycikge1xuICAgICAgICAgICAgaWYgKGNoZWNrZXIoaXRlbSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIHV0aWwuaXNJbnRlZ2VyID0gdHlwZW9mIE51bWJlci5pc0ludGVnZXIgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICA/ICh2YWwpID0+IE51bWJlci5pc0ludGVnZXIodmFsKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGJhbi9iYW5cbiAgICAgICAgOiAodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcIm51bWJlclwiICYmIE51bWJlci5pc0Zpbml0ZSh2YWwpICYmIE1hdGguZmxvb3IodmFsKSA9PT0gdmFsO1xuICAgIGZ1bmN0aW9uIGpvaW5WYWx1ZXMoYXJyYXksIHNlcGFyYXRvciA9IFwiIHwgXCIpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5Lm1hcCgodmFsKSA9PiAodHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIiA/IGAnJHt2YWx9J2AgOiB2YWwpKS5qb2luKHNlcGFyYXRvcik7XG4gICAgfVxuICAgIHV0aWwuam9pblZhbHVlcyA9IGpvaW5WYWx1ZXM7XG4gICAgdXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIgPSAoXywgdmFsdWUpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJiaWdpbnRcIikge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG59KSh1dGlsIHx8IChleHBvcnRzLnV0aWwgPSB1dGlsID0ge30pKTtcbnZhciBvYmplY3RVdGlsO1xuKGZ1bmN0aW9uIChvYmplY3RVdGlsKSB7XG4gICAgb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyA9IChmaXJzdCwgc2Vjb25kKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5maXJzdCxcbiAgICAgICAgICAgIC4uLnNlY29uZCwgLy8gc2Vjb25kIG92ZXJ3cml0ZXMgZmlyc3RcbiAgICAgICAgfTtcbiAgICB9O1xufSkob2JqZWN0VXRpbCB8fCAoZXhwb3J0cy5vYmplY3RVdGlsID0gb2JqZWN0VXRpbCA9IHt9KSk7XG5leHBvcnRzLlpvZFBhcnNlZFR5cGUgPSB1dGlsLmFycmF5VG9FbnVtKFtcbiAgICBcInN0cmluZ1wiLFxuICAgIFwibmFuXCIsXG4gICAgXCJudW1iZXJcIixcbiAgICBcImludGVnZXJcIixcbiAgICBcImZsb2F0XCIsXG4gICAgXCJib29sZWFuXCIsXG4gICAgXCJkYXRlXCIsXG4gICAgXCJiaWdpbnRcIixcbiAgICBcInN5bWJvbFwiLFxuICAgIFwiZnVuY3Rpb25cIixcbiAgICBcInVuZGVmaW5lZFwiLFxuICAgIFwibnVsbFwiLFxuICAgIFwiYXJyYXlcIixcbiAgICBcIm9iamVjdFwiLFxuICAgIFwidW5rbm93blwiLFxuICAgIFwicHJvbWlzZVwiLFxuICAgIFwidm9pZFwiLFxuICAgIFwibmV2ZXJcIixcbiAgICBcIm1hcFwiLFxuICAgIFwic2V0XCIsXG5dKTtcbmNvbnN0IGdldFBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS51bmRlZmluZWQ7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUuc3RyaW5nO1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLm5hbiA6IGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5udW1iZXI7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLmJvb2xlYW47XG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5mdW5jdGlvbjtcbiAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5iaWdpbnQ7XG4gICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUuc3ltYm9sO1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUuYXJyYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUubnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLnRoZW4gJiYgdHlwZW9mIGRhdGEudGhlbiA9PT0gXCJmdW5jdGlvblwiICYmIGRhdGEuY2F0Y2ggJiYgdHlwZW9mIGRhdGEuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUucHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgTWFwICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLm1hcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgU2V0ICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgRGF0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUuZGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUub2JqZWN0O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS51bmtub3duO1xuICAgIH1cbn07XG5leHBvcnRzLmdldFBhcnNlZFR5cGUgPSBnZXRQYXJzZWRUeXBlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/zod/v3/helpers/util.cjs\n"));

/***/ }),

/***/ "./node_modules/zod/v3/locales/en.cjs":
/*!********************************************!*\
  !*** ./node_modules/zod/v3/locales/en.cjs ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst ZodError_js_1 = __webpack_require__(/*! ../ZodError.cjs */ \"./node_modules/zod/v3/ZodError.cjs\");\nconst util_js_1 = __webpack_require__(/*! ../helpers/util.cjs */ \"./node_modules/zod/v3/helpers/util.cjs\");\nconst errorMap = (issue, _ctx) => {\n    let message;\n    switch (issue.code) {\n        case ZodError_js_1.ZodIssueCode.invalid_type:\n            if (issue.received === util_js_1.ZodParsedType.undefined) {\n                message = \"Required\";\n            }\n            else {\n                message = `Expected ${issue.expected}, received ${issue.received}`;\n            }\n            break;\n        case ZodError_js_1.ZodIssueCode.invalid_literal:\n            message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util_js_1.util.jsonStringifyReplacer)}`;\n            break;\n        case ZodError_js_1.ZodIssueCode.unrecognized_keys:\n            message = `Unrecognized key(s) in object: ${util_js_1.util.joinValues(issue.keys, \", \")}`;\n            break;\n        case ZodError_js_1.ZodIssueCode.invalid_union:\n            message = `Invalid input`;\n            break;\n        case ZodError_js_1.ZodIssueCode.invalid_union_discriminator:\n            message = `Invalid discriminator value. Expected ${util_js_1.util.joinValues(issue.options)}`;\n            break;\n        case ZodError_js_1.ZodIssueCode.invalid_enum_value:\n            message = `Invalid enum value. Expected ${util_js_1.util.joinValues(issue.options)}, received '${issue.received}'`;\n            break;\n        case ZodError_js_1.ZodIssueCode.invalid_arguments:\n            message = `Invalid function arguments`;\n            break;\n        case ZodError_js_1.ZodIssueCode.invalid_return_type:\n            message = `Invalid function return type`;\n            break;\n        case ZodError_js_1.ZodIssueCode.invalid_date:\n            message = `Invalid date`;\n            break;\n        case ZodError_js_1.ZodIssueCode.invalid_string:\n            if (typeof issue.validation === \"object\") {\n                if (\"includes\" in issue.validation) {\n                    message = `Invalid input: must include \"${issue.validation.includes}\"`;\n                    if (typeof issue.validation.position === \"number\") {\n                        message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;\n                    }\n                }\n                else if (\"startsWith\" in issue.validation) {\n                    message = `Invalid input: must start with \"${issue.validation.startsWith}\"`;\n                }\n                else if (\"endsWith\" in issue.validation) {\n                    message = `Invalid input: must end with \"${issue.validation.endsWith}\"`;\n                }\n                else {\n                    util_js_1.util.assertNever(issue.validation);\n                }\n            }\n            else if (issue.validation !== \"regex\") {\n                message = `Invalid ${issue.validation}`;\n            }\n            else {\n                message = \"Invalid\";\n            }\n            break;\n        case ZodError_js_1.ZodIssueCode.too_small:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;\n            else if (issue.type === \"bigint\")\n                message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${new Date(Number(issue.minimum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodError_js_1.ZodIssueCode.too_big:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"bigint\")\n                message = `BigInt must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact ? `exactly` : issue.inclusive ? `smaller than or equal to` : `smaller than`} ${new Date(Number(issue.maximum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodError_js_1.ZodIssueCode.custom:\n            message = `Invalid input`;\n            break;\n        case ZodError_js_1.ZodIssueCode.invalid_intersection_types:\n            message = `Intersection results could not be merged`;\n            break;\n        case ZodError_js_1.ZodIssueCode.not_multiple_of:\n            message = `Number must be a multiple of ${issue.multipleOf}`;\n            break;\n        case ZodError_js_1.ZodIssueCode.not_finite:\n            message = \"Number must be finite\";\n            break;\n        default:\n            message = _ctx.defaultError;\n            util_js_1.util.assertNever(issue);\n    }\n    return { message };\n};\nexports[\"default\"] = errorMap;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvem9kL3YzL2xvY2FsZXMvZW4uY2pzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQixtQkFBTyxDQUFDLDJEQUFpQjtBQUMvQyxrQkFBa0IsbUJBQU8sQ0FBQyxtRUFBcUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxlQUFlLGFBQWEsZUFBZTtBQUNqRjtBQUNBO0FBQ0E7QUFDQSx5REFBeUQscUVBQXFFO0FBQzlIO0FBQ0E7QUFDQSx3REFBd0QsNENBQTRDO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QseUNBQXlDO0FBQ3hHO0FBQ0E7QUFDQSxzREFBc0QseUNBQXlDLGNBQWMsZUFBZTtBQUM1SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCwwQkFBMEI7QUFDeEY7QUFDQSxxQ0FBcUMsU0FBUyxvREFBb0QsMEJBQTBCO0FBQzVIO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSw0QkFBNEI7QUFDN0Y7QUFDQTtBQUNBLCtEQUErRCwwQkFBMEI7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGlCQUFpQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxzRUFBc0UsRUFBRSxlQUFlO0FBQ3ZJO0FBQ0EsaURBQWlELGlFQUFpRSxFQUFFLGVBQWU7QUFDbkk7QUFDQSw0Q0FBNEMsb0dBQW9HLEVBQUUsY0FBYztBQUNoSztBQUNBLDRDQUE0QyxvR0FBb0csRUFBRSxjQUFjO0FBQ2hLO0FBQ0EsMENBQTBDLG9HQUFvRyxFQUFFLGdDQUFnQztBQUNoTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELHFFQUFxRSxFQUFFLGVBQWU7QUFDdEk7QUFDQSxpREFBaUQsaUVBQWlFLEVBQUUsZUFBZTtBQUNuSTtBQUNBLDRDQUE0QyxtRkFBbUYsRUFBRSxjQUFjO0FBQy9JO0FBQ0EsNENBQTRDLG1GQUFtRixFQUFFLGNBQWM7QUFDL0k7QUFDQSwwQ0FBMEMseUZBQXlGLEVBQUUsZ0NBQWdDO0FBQ3JLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELGlCQUFpQjtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0Esa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3pvZC92My9sb2NhbGVzL2VuLmNqcz83M2Y0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgWm9kRXJyb3JfanNfMSA9IHJlcXVpcmUoXCIuLi9ab2RFcnJvci5janNcIik7XG5jb25zdCB1dGlsX2pzXzEgPSByZXF1aXJlKFwiLi4vaGVscGVycy91dGlsLmNqc1wiKTtcbmNvbnN0IGVycm9yTWFwID0gKGlzc3VlLCBfY3R4KSA9PiB7XG4gICAgbGV0IG1lc3NhZ2U7XG4gICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlOlxuICAgICAgICAgICAgaWYgKGlzc3VlLnJlY2VpdmVkID09PSB1dGlsX2pzXzEuWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJSZXF1aXJlZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBFeHBlY3RlZCAke2lzc3VlLmV4cGVjdGVkfSwgcmVjZWl2ZWQgJHtpc3N1ZS5yZWNlaXZlZH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9saXRlcmFsOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGxpdGVyYWwgdmFsdWUsIGV4cGVjdGVkICR7SlNPTi5zdHJpbmdpZnkoaXNzdWUuZXhwZWN0ZWQsIHV0aWxfanNfMS51dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlcil9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLnVucmVjb2duaXplZF9rZXlzOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBVbnJlY29nbml6ZWQga2V5KHMpIGluIG9iamVjdDogJHt1dGlsX2pzXzEudXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb246XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXRgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGRpc2NyaW1pbmF0b3IgdmFsdWUuIEV4cGVjdGVkICR7dXRpbF9qc18xLnV0aWwuam9pblZhbHVlcyhpc3N1ZS5vcHRpb25zKX1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGVudW0gdmFsdWUuIEV4cGVjdGVkICR7dXRpbF9qc18xLnV0aWwuam9pblZhbHVlcyhpc3N1ZS5vcHRpb25zKX0sIHJlY2VpdmVkICcke2lzc3VlLnJlY2VpdmVkfSdgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9hcmd1bWVudHM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZnVuY3Rpb24gYXJndW1lbnRzYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfcmV0dXJuX3R5cGU6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZnVuY3Rpb24gcmV0dXJuIHR5cGVgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9kYXRlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGRhdGVgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmc6XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlLnZhbGlkYXRpb24gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoXCJpbmNsdWRlc1wiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IGluY2x1ZGUgXCIke2lzc3VlLnZhbGlkYXRpb24uaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlLnZhbGlkYXRpb24ucG9zaXRpb24gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgJHttZXNzYWdlfSBhdCBvbmUgb3IgbW9yZSBwb3NpdGlvbnMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvICR7aXNzdWUudmFsaWRhdGlvbi5wb3NpdGlvbn1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFwic3RhcnRzV2l0aFwiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IHN0YXJ0IHdpdGggXCIke2lzc3VlLnZhbGlkYXRpb24uc3RhcnRzV2l0aH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFwiZW5kc1dpdGhcIiBpbiBpc3N1ZS52YWxpZGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dDogbXVzdCBlbmQgd2l0aCBcIiR7aXNzdWUudmFsaWRhdGlvbi5lbmRzV2l0aH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1dGlsX2pzXzEudXRpbC5hc3NlcnROZXZlcihpc3N1ZS52YWxpZGF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS52YWxpZGF0aW9uICE9PSBcInJlZ2V4XCIpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgJHtpc3N1ZS52YWxpZGF0aW9ufWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJJbnZhbGlkXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS50b29fc21hbGw6XG4gICAgICAgICAgICBpZiAoaXNzdWUudHlwZSA9PT0gXCJhcnJheVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgQXJyYXkgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBcImV4YWN0bHlcIiA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBsZWFzdGAgOiBgbW9yZSB0aGFuYH0gJHtpc3N1ZS5taW5pbXVtfSBlbGVtZW50KHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBTdHJpbmcgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBcImV4YWN0bHlcIiA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBsZWFzdGAgOiBgb3ZlcmB9ICR7aXNzdWUubWluaW11bX0gY2hhcmFjdGVyKHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHkgZXF1YWwgdG8gYCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYCA6IGBncmVhdGVyIHRoYW4gYH0ke2lzc3VlLm1pbmltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiYmlnaW50XCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHkgZXF1YWwgdG8gYCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYCA6IGBncmVhdGVyIHRoYW4gYH0ke2lzc3VlLm1pbmltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiZGF0ZVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgRGF0ZSBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseSBlcXVhbCB0byBgIDogaXNzdWUuaW5jbHVzaXZlID8gYGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgIDogYGdyZWF0ZXIgdGhhbiBgfSR7bmV3IERhdGUoTnVtYmVyKGlzc3VlLm1pbmltdW0pKX1gO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkludmFsaWQgaW5wdXRcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLnRvb19iaWc6XG4gICAgICAgICAgICBpZiAoaXNzdWUudHlwZSA9PT0gXCJhcnJheVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgQXJyYXkgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgYXQgbW9zdGAgOiBgbGVzcyB0aGFuYH0gJHtpc3N1ZS5tYXhpbXVtfSBlbGVtZW50KHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBTdHJpbmcgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgYXQgbW9zdGAgOiBgdW5kZXJgfSAke2lzc3VlLm1heGltdW19IGNoYXJhY3RlcihzKWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgTnVtYmVyIG11c3QgYmUgJHtpc3N1ZS5leGFjdCA/IGBleGFjdGx5YCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBsZXNzIHRoYW4gb3IgZXF1YWwgdG9gIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX1gO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJiaWdpbnRcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEJpZ0ludCBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgbGVzcyB0aGFuIG9yIGVxdWFsIHRvYCA6IGBsZXNzIHRoYW5gfSAke2lzc3VlLm1heGltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiZGF0ZVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgRGF0ZSBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgc21hbGxlciB0aGFuIG9yIGVxdWFsIHRvYCA6IGBzbWFsbGVyIHRoYW5gfSAke25ldyBEYXRlKE51bWJlcihpc3N1ZS5tYXhpbXVtKSl9YDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJJbnZhbGlkIGlucHV0XCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS5jdXN0b206XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXRgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludGVyc2VjdGlvbiByZXN1bHRzIGNvdWxkIG5vdCBiZSBtZXJnZWRgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSBhIG11bHRpcGxlIG9mICR7aXNzdWUubXVsdGlwbGVPZn1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUubm90X2Zpbml0ZTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIk51bWJlciBtdXN0IGJlIGZpbml0ZVwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBtZXNzYWdlID0gX2N0eC5kZWZhdWx0RXJyb3I7XG4gICAgICAgICAgICB1dGlsX2pzXzEudXRpbC5hc3NlcnROZXZlcihpc3N1ZSk7XG4gICAgfVxuICAgIHJldHVybiB7IG1lc3NhZ2UgfTtcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBlcnJvck1hcDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/zod/v3/locales/en.cjs\n"));

/***/ }),

/***/ "./node_modules/zod/v3/types.cjs":
/*!***************************************!*\
  !*** ./node_modules/zod/v3/types.cjs ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.discriminatedUnion = exports.date = exports.boolean = exports.bigint = exports.array = exports.any = exports.coerce = exports.ZodFirstPartyTypeKind = exports.late = exports.ZodSchema = exports.Schema = exports.ZodReadonly = exports.ZodPipeline = exports.ZodBranded = exports.BRAND = exports.ZodNaN = exports.ZodCatch = exports.ZodDefault = exports.ZodNullable = exports.ZodOptional = exports.ZodTransformer = exports.ZodEffects = exports.ZodPromise = exports.ZodNativeEnum = exports.ZodEnum = exports.ZodLiteral = exports.ZodLazy = exports.ZodFunction = exports.ZodSet = exports.ZodMap = exports.ZodRecord = exports.ZodTuple = exports.ZodIntersection = exports.ZodDiscriminatedUnion = exports.ZodUnion = exports.ZodObject = exports.ZodArray = exports.ZodVoid = exports.ZodNever = exports.ZodUnknown = exports.ZodAny = exports.ZodNull = exports.ZodUndefined = exports.ZodSymbol = exports.ZodDate = exports.ZodBoolean = exports.ZodBigInt = exports.ZodNumber = exports.ZodString = exports.ZodType = void 0;\nexports.NEVER = exports[\"void\"] = exports.unknown = exports.union = exports.undefined = exports.tuple = exports.transformer = exports.symbol = exports.string = exports.strictObject = exports.set = exports.record = exports.promise = exports.preprocess = exports.pipeline = exports.ostring = exports.optional = exports.onumber = exports.oboolean = exports.object = exports.number = exports.nullable = exports[\"null\"] = exports.never = exports.nativeEnum = exports.nan = exports.map = exports.literal = exports.lazy = exports.intersection = exports[\"instanceof\"] = exports[\"function\"] = exports[\"enum\"] = exports.effect = void 0;\nexports.datetimeRegex = datetimeRegex;\nexports.custom = custom;\nconst ZodError_js_1 = __webpack_require__(/*! ./ZodError.cjs */ \"./node_modules/zod/v3/ZodError.cjs\");\nconst errors_js_1 = __webpack_require__(/*! ./errors.cjs */ \"./node_modules/zod/v3/errors.cjs\");\nconst errorUtil_js_1 = __webpack_require__(/*! ./helpers/errorUtil.cjs */ \"./node_modules/zod/v3/helpers/errorUtil.cjs\");\nconst parseUtil_js_1 = __webpack_require__(/*! ./helpers/parseUtil.cjs */ \"./node_modules/zod/v3/helpers/parseUtil.cjs\");\nconst util_js_1 = __webpack_require__(/*! ./helpers/util.cjs */ \"./node_modules/zod/v3/helpers/util.cjs\");\nclass ParseInputLazyPath {\n    constructor(parent, value, path, key) {\n        this._cachedPath = [];\n        this.parent = parent;\n        this.data = value;\n        this._path = path;\n        this._key = key;\n    }\n    get path() {\n        if (!this._cachedPath.length) {\n            if (Array.isArray(this._key)) {\n                this._cachedPath.push(...this._path, ...this._key);\n            }\n            else {\n                this._cachedPath.push(...this._path, this._key);\n            }\n        }\n        return this._cachedPath;\n    }\n}\nconst handleResult = (ctx, result) => {\n    if ((0, parseUtil_js_1.isValid)(result)) {\n        return { success: true, data: result.value };\n    }\n    else {\n        if (!ctx.common.issues.length) {\n            throw new Error(\"Validation failed but no issues detected.\");\n        }\n        return {\n            success: false,\n            get error() {\n                if (this._error)\n                    return this._error;\n                const error = new ZodError_js_1.ZodError(ctx.common.issues);\n                this._error = error;\n                return this._error;\n            },\n        };\n    }\n};\nfunction processCreateParams(params) {\n    if (!params)\n        return {};\n    const { errorMap, invalid_type_error, required_error, description } = params;\n    if (errorMap && (invalid_type_error || required_error)) {\n        throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n    }\n    if (errorMap)\n        return { errorMap: errorMap, description };\n    const customMap = (iss, ctx) => {\n        const { message } = params;\n        if (iss.code === \"invalid_enum_value\") {\n            return { message: message ?? ctx.defaultError };\n        }\n        if (typeof ctx.data === \"undefined\") {\n            return { message: message ?? required_error ?? ctx.defaultError };\n        }\n        if (iss.code !== \"invalid_type\")\n            return { message: ctx.defaultError };\n        return { message: message ?? invalid_type_error ?? ctx.defaultError };\n    };\n    return { errorMap: customMap, description };\n}\nclass ZodType {\n    get description() {\n        return this._def.description;\n    }\n    _getType(input) {\n        return (0, util_js_1.getParsedType)(input.data);\n    }\n    _getOrReturnCtx(input, ctx) {\n        return (ctx || {\n            common: input.parent.common,\n            data: input.data,\n            parsedType: (0, util_js_1.getParsedType)(input.data),\n            schemaErrorMap: this._def.errorMap,\n            path: input.path,\n            parent: input.parent,\n        });\n    }\n    _processInputParams(input) {\n        return {\n            status: new parseUtil_js_1.ParseStatus(),\n            ctx: {\n                common: input.parent.common,\n                data: input.data,\n                parsedType: (0, util_js_1.getParsedType)(input.data),\n                schemaErrorMap: this._def.errorMap,\n                path: input.path,\n                parent: input.parent,\n            },\n        };\n    }\n    _parseSync(input) {\n        const result = this._parse(input);\n        if ((0, parseUtil_js_1.isAsync)(result)) {\n            throw new Error(\"Synchronous parse encountered promise.\");\n        }\n        return result;\n    }\n    _parseAsync(input) {\n        const result = this._parse(input);\n        return Promise.resolve(result);\n    }\n    parse(data, params) {\n        const result = this.safeParse(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    safeParse(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                async: params?.async ?? false,\n                contextualErrorMap: params?.errorMap,\n            },\n            path: params?.path || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: (0, util_js_1.getParsedType)(data),\n        };\n        const result = this._parseSync({ data, path: ctx.path, parent: ctx });\n        return handleResult(ctx, result);\n    }\n    \"~validate\"(data) {\n        const ctx = {\n            common: {\n                issues: [],\n                async: !!this[\"~standard\"].async,\n            },\n            path: [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: (0, util_js_1.getParsedType)(data),\n        };\n        if (!this[\"~standard\"].async) {\n            try {\n                const result = this._parseSync({ data, path: [], parent: ctx });\n                return (0, parseUtil_js_1.isValid)(result)\n                    ? {\n                        value: result.value,\n                    }\n                    : {\n                        issues: ctx.common.issues,\n                    };\n            }\n            catch (err) {\n                if (err?.message?.toLowerCase()?.includes(\"encountered\")) {\n                    this[\"~standard\"].async = true;\n                }\n                ctx.common = {\n                    issues: [],\n                    async: true,\n                };\n            }\n        }\n        return this._parseAsync({ data, path: [], parent: ctx }).then((result) => (0, parseUtil_js_1.isValid)(result)\n            ? {\n                value: result.value,\n            }\n            : {\n                issues: ctx.common.issues,\n            });\n    }\n    async parseAsync(data, params) {\n        const result = await this.safeParseAsync(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    async safeParseAsync(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                contextualErrorMap: params?.errorMap,\n                async: true,\n            },\n            path: params?.path || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: (0, util_js_1.getParsedType)(data),\n        };\n        const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });\n        const result = await ((0, parseUtil_js_1.isAsync)(maybeAsyncResult) ? maybeAsyncResult : Promise.resolve(maybeAsyncResult));\n        return handleResult(ctx, result);\n    }\n    refine(check, message) {\n        const getIssueProperties = (val) => {\n            if (typeof message === \"string\" || typeof message === \"undefined\") {\n                return { message };\n            }\n            else if (typeof message === \"function\") {\n                return message(val);\n            }\n            else {\n                return message;\n            }\n        };\n        return this._refinement((val, ctx) => {\n            const result = check(val);\n            const setError = () => ctx.addIssue({\n                code: ZodError_js_1.ZodIssueCode.custom,\n                ...getIssueProperties(val),\n            });\n            if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n                return result.then((data) => {\n                    if (!data) {\n                        setError();\n                        return false;\n                    }\n                    else {\n                        return true;\n                    }\n                });\n            }\n            if (!result) {\n                setError();\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    refinement(check, refinementData) {\n        return this._refinement((val, ctx) => {\n            if (!check(val)) {\n                ctx.addIssue(typeof refinementData === \"function\" ? refinementData(val, ctx) : refinementData);\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    _refinement(refinement) {\n        return new ZodEffects({\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"refinement\", refinement },\n        });\n    }\n    superRefine(refinement) {\n        return this._refinement(refinement);\n    }\n    constructor(def) {\n        /** Alias of safeParseAsync */\n        this.spa = this.safeParseAsync;\n        this._def = def;\n        this.parse = this.parse.bind(this);\n        this.safeParse = this.safeParse.bind(this);\n        this.parseAsync = this.parseAsync.bind(this);\n        this.safeParseAsync = this.safeParseAsync.bind(this);\n        this.spa = this.spa.bind(this);\n        this.refine = this.refine.bind(this);\n        this.refinement = this.refinement.bind(this);\n        this.superRefine = this.superRefine.bind(this);\n        this.optional = this.optional.bind(this);\n        this.nullable = this.nullable.bind(this);\n        this.nullish = this.nullish.bind(this);\n        this.array = this.array.bind(this);\n        this.promise = this.promise.bind(this);\n        this.or = this.or.bind(this);\n        this.and = this.and.bind(this);\n        this.transform = this.transform.bind(this);\n        this.brand = this.brand.bind(this);\n        this.default = this.default.bind(this);\n        this.catch = this.catch.bind(this);\n        this.describe = this.describe.bind(this);\n        this.pipe = this.pipe.bind(this);\n        this.readonly = this.readonly.bind(this);\n        this.isNullable = this.isNullable.bind(this);\n        this.isOptional = this.isOptional.bind(this);\n        this[\"~standard\"] = {\n            version: 1,\n            vendor: \"zod\",\n            validate: (data) => this[\"~validate\"](data),\n        };\n    }\n    optional() {\n        return ZodOptional.create(this, this._def);\n    }\n    nullable() {\n        return ZodNullable.create(this, this._def);\n    }\n    nullish() {\n        return this.nullable().optional();\n    }\n    array() {\n        return ZodArray.create(this);\n    }\n    promise() {\n        return ZodPromise.create(this, this._def);\n    }\n    or(option) {\n        return ZodUnion.create([this, option], this._def);\n    }\n    and(incoming) {\n        return ZodIntersection.create(this, incoming, this._def);\n    }\n    transform(transform) {\n        return new ZodEffects({\n            ...processCreateParams(this._def),\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"transform\", transform },\n        });\n    }\n    default(def) {\n        const defaultValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodDefault({\n            ...processCreateParams(this._def),\n            innerType: this,\n            defaultValue: defaultValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodDefault,\n        });\n    }\n    brand() {\n        return new ZodBranded({\n            typeName: ZodFirstPartyTypeKind.ZodBranded,\n            type: this,\n            ...processCreateParams(this._def),\n        });\n    }\n    catch(def) {\n        const catchValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodCatch({\n            ...processCreateParams(this._def),\n            innerType: this,\n            catchValue: catchValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodCatch,\n        });\n    }\n    describe(description) {\n        const This = this.constructor;\n        return new This({\n            ...this._def,\n            description,\n        });\n    }\n    pipe(target) {\n        return ZodPipeline.create(this, target);\n    }\n    readonly() {\n        return ZodReadonly.create(this);\n    }\n    isOptional() {\n        return this.safeParse(undefined).success;\n    }\n    isNullable() {\n        return this.safeParse(null).success;\n    }\n}\nexports.ZodType = ZodType;\nexports.Schema = ZodType;\nexports.ZodSchema = ZodType;\nconst cuidRegex = /^c[^\\s-]{8,}$/i;\nconst cuid2Regex = /^[0-9a-z]+$/;\nconst ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;\n// const uuidRegex =\n//   /^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i;\nconst uuidRegex = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i;\nconst nanoidRegex = /^[a-z0-9_-]{21}$/i;\nconst jwtRegex = /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/;\nconst durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n// from https://stackoverflow.com/a/46181/1550155\n// old version: too slow, didn't support unicode\n// const emailRegex = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i;\n//old email regex\n// const emailRegex = /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@((?!-)([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{1,})[^-<>()[\\].,;:\\s@\"]$/i;\n// eslint-disable-next-line\n// const emailRegex =\n//   /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$/;\n// const emailRegex =\n//   /^[a-zA-Z0-9\\.\\!\\#\\$\\%\\&\\'\\*\\+\\/\\=\\?\\^\\_\\`\\{\\|\\}\\~\\-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// const emailRegex =\n//   /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/i;\nconst emailRegex = /^(?!\\.)(?!.*\\.\\.)([A-Z0-9_'+\\-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;\n// const emailRegex =\n//   /^[a-z0-9.!#$%&*+/=?^_`{|}~-]+@[a-z0-9-]+(?:\\.[a-z0-9\\-]+)*$/i;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst _emojiRegex = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nlet emojiRegex;\n// faster, simpler, safer\nconst ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nconst ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/;\n// const ipv6Regex =\n// /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;\nconst ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;\nconst ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\n// https://stackoverflow.com/questions/7860392/determine-if-string-is-in-base64-using-javascript\nconst base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;\n// https://base64.guru/standards/base64url\nconst base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;\n// simple\n// const dateRegexSource = `\\\\d{4}-\\\\d{2}-\\\\d{2}`;\n// no leap year validation\n// const dateRegexSource = `\\\\d{4}-((0[13578]|10|12)-31|(0[13-9]|1[0-2])-30|(0[1-9]|1[0-2])-(0[1-9]|1\\\\d|2\\\\d))`;\n// with leap year validation\nconst dateRegexSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateRegex = new RegExp(`^${dateRegexSource}$`);\nfunction timeRegexSource(args) {\n    let secondsRegexSource = `[0-5]\\\\d`;\n    if (args.precision) {\n        secondsRegexSource = `${secondsRegexSource}\\\\.\\\\d{${args.precision}}`;\n    }\n    else if (args.precision == null) {\n        secondsRegexSource = `${secondsRegexSource}(\\\\.\\\\d+)?`;\n    }\n    const secondsQuantifier = args.precision ? \"+\" : \"?\"; // require seconds if precision is nonzero\n    return `([01]\\\\d|2[0-3]):[0-5]\\\\d(:${secondsRegexSource})${secondsQuantifier}`;\n}\nfunction timeRegex(args) {\n    return new RegExp(`^${timeRegexSource(args)}$`);\n}\n// Adapted from https://stackoverflow.com/a/3143231\nfunction datetimeRegex(args) {\n    let regex = `${dateRegexSource}T${timeRegexSource(args)}`;\n    const opts = [];\n    opts.push(args.local ? `Z?` : `Z`);\n    if (args.offset)\n        opts.push(`([+-]\\\\d{2}:?\\\\d{2})`);\n    regex = `${regex}(${opts.join(\"|\")})`;\n    return new RegExp(`^${regex}$`);\n}\nfunction isValidIP(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4Regex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6Regex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nfunction isValidJWT(jwt, alg) {\n    if (!jwtRegex.test(jwt))\n        return false;\n    try {\n        const [header] = jwt.split(\".\");\n        if (!header)\n            return false;\n        // Convert base64url to base64\n        const base64 = header\n            .replace(/-/g, \"+\")\n            .replace(/_/g, \"/\")\n            .padEnd(header.length + ((4 - (header.length % 4)) % 4), \"=\");\n        const decoded = JSON.parse(atob(base64));\n        if (typeof decoded !== \"object\" || decoded === null)\n            return false;\n        if (\"typ\" in decoded && decoded?.typ !== \"JWT\")\n            return false;\n        if (!decoded.alg)\n            return false;\n        if (alg && decoded.alg !== alg)\n            return false;\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nfunction isValidCidr(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4CidrRegex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6CidrRegex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nclass ZodString extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = String(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== util_js_1.ZodParsedType.string) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.invalid_type,\n                expected: util_js_1.ZodParsedType.string,\n                received: ctx.parsedType,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        const status = new parseUtil_js_1.ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.length < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        code: ZodError_js_1.ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.length > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        code: ZodError_js_1.ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"length\") {\n                const tooBig = input.data.length > check.value;\n                const tooSmall = input.data.length < check.value;\n                if (tooBig || tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    if (tooBig) {\n                        (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                            code: ZodError_js_1.ZodIssueCode.too_big,\n                            maximum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    else if (tooSmall) {\n                        (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                            code: ZodError_js_1.ZodIssueCode.too_small,\n                            minimum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"email\") {\n                if (!emailRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        validation: \"email\",\n                        code: ZodError_js_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"emoji\") {\n                if (!emojiRegex) {\n                    emojiRegex = new RegExp(_emojiRegex, \"u\");\n                }\n                if (!emojiRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        validation: \"emoji\",\n                        code: ZodError_js_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"uuid\") {\n                if (!uuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        validation: \"uuid\",\n                        code: ZodError_js_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"nanoid\") {\n                if (!nanoidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        validation: \"nanoid\",\n                        code: ZodError_js_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid\") {\n                if (!cuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        validation: \"cuid\",\n                        code: ZodError_js_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid2\") {\n                if (!cuid2Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        validation: \"cuid2\",\n                        code: ZodError_js_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ulid\") {\n                if (!ulidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        validation: \"ulid\",\n                        code: ZodError_js_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"url\") {\n                try {\n                    new URL(input.data);\n                }\n                catch {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        validation: \"url\",\n                        code: ZodError_js_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"regex\") {\n                check.regex.lastIndex = 0;\n                const testResult = check.regex.test(input.data);\n                if (!testResult) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        validation: \"regex\",\n                        code: ZodError_js_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"trim\") {\n                input.data = input.data.trim();\n            }\n            else if (check.kind === \"includes\") {\n                if (!input.data.includes(check.value, check.position)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        code: ZodError_js_1.ZodIssueCode.invalid_string,\n                        validation: { includes: check.value, position: check.position },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"toLowerCase\") {\n                input.data = input.data.toLowerCase();\n            }\n            else if (check.kind === \"toUpperCase\") {\n                input.data = input.data.toUpperCase();\n            }\n            else if (check.kind === \"startsWith\") {\n                if (!input.data.startsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        code: ZodError_js_1.ZodIssueCode.invalid_string,\n                        validation: { startsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"endsWith\") {\n                if (!input.data.endsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        code: ZodError_js_1.ZodIssueCode.invalid_string,\n                        validation: { endsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"datetime\") {\n                const regex = datetimeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        code: ZodError_js_1.ZodIssueCode.invalid_string,\n                        validation: \"datetime\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"date\") {\n                const regex = dateRegex;\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        code: ZodError_js_1.ZodIssueCode.invalid_string,\n                        validation: \"date\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"time\") {\n                const regex = timeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        code: ZodError_js_1.ZodIssueCode.invalid_string,\n                        validation: \"time\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"duration\") {\n                if (!durationRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        validation: \"duration\",\n                        code: ZodError_js_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ip\") {\n                if (!isValidIP(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        validation: \"ip\",\n                        code: ZodError_js_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"jwt\") {\n                if (!isValidJWT(input.data, check.alg)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        validation: \"jwt\",\n                        code: ZodError_js_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cidr\") {\n                if (!isValidCidr(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        validation: \"cidr\",\n                        code: ZodError_js_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64\") {\n                if (!base64Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        validation: \"base64\",\n                        code: ZodError_js_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64url\") {\n                if (!base64urlRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        validation: \"base64url\",\n                        code: ZodError_js_1.ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util_js_1.util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _regex(regex, validation, message) {\n        return this.refinement((data) => regex.test(data), {\n            validation,\n            code: ZodError_js_1.ZodIssueCode.invalid_string,\n            ...errorUtil_js_1.errorUtil.errToObj(message),\n        });\n    }\n    _addCheck(check) {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    email(message) {\n        return this._addCheck({ kind: \"email\", ...errorUtil_js_1.errorUtil.errToObj(message) });\n    }\n    url(message) {\n        return this._addCheck({ kind: \"url\", ...errorUtil_js_1.errorUtil.errToObj(message) });\n    }\n    emoji(message) {\n        return this._addCheck({ kind: \"emoji\", ...errorUtil_js_1.errorUtil.errToObj(message) });\n    }\n    uuid(message) {\n        return this._addCheck({ kind: \"uuid\", ...errorUtil_js_1.errorUtil.errToObj(message) });\n    }\n    nanoid(message) {\n        return this._addCheck({ kind: \"nanoid\", ...errorUtil_js_1.errorUtil.errToObj(message) });\n    }\n    cuid(message) {\n        return this._addCheck({ kind: \"cuid\", ...errorUtil_js_1.errorUtil.errToObj(message) });\n    }\n    cuid2(message) {\n        return this._addCheck({ kind: \"cuid2\", ...errorUtil_js_1.errorUtil.errToObj(message) });\n    }\n    ulid(message) {\n        return this._addCheck({ kind: \"ulid\", ...errorUtil_js_1.errorUtil.errToObj(message) });\n    }\n    base64(message) {\n        return this._addCheck({ kind: \"base64\", ...errorUtil_js_1.errorUtil.errToObj(message) });\n    }\n    base64url(message) {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return this._addCheck({\n            kind: \"base64url\",\n            ...errorUtil_js_1.errorUtil.errToObj(message),\n        });\n    }\n    jwt(options) {\n        return this._addCheck({ kind: \"jwt\", ...errorUtil_js_1.errorUtil.errToObj(options) });\n    }\n    ip(options) {\n        return this._addCheck({ kind: \"ip\", ...errorUtil_js_1.errorUtil.errToObj(options) });\n    }\n    cidr(options) {\n        return this._addCheck({ kind: \"cidr\", ...errorUtil_js_1.errorUtil.errToObj(options) });\n    }\n    datetime(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"datetime\",\n                precision: null,\n                offset: false,\n                local: false,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"datetime\",\n            precision: typeof options?.precision === \"undefined\" ? null : options?.precision,\n            offset: options?.offset ?? false,\n            local: options?.local ?? false,\n            ...errorUtil_js_1.errorUtil.errToObj(options?.message),\n        });\n    }\n    date(message) {\n        return this._addCheck({ kind: \"date\", message });\n    }\n    time(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"time\",\n                precision: null,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"time\",\n            precision: typeof options?.precision === \"undefined\" ? null : options?.precision,\n            ...errorUtil_js_1.errorUtil.errToObj(options?.message),\n        });\n    }\n    duration(message) {\n        return this._addCheck({ kind: \"duration\", ...errorUtil_js_1.errorUtil.errToObj(message) });\n    }\n    regex(regex, message) {\n        return this._addCheck({\n            kind: \"regex\",\n            regex: regex,\n            ...errorUtil_js_1.errorUtil.errToObj(message),\n        });\n    }\n    includes(value, options) {\n        return this._addCheck({\n            kind: \"includes\",\n            value: value,\n            position: options?.position,\n            ...errorUtil_js_1.errorUtil.errToObj(options?.message),\n        });\n    }\n    startsWith(value, message) {\n        return this._addCheck({\n            kind: \"startsWith\",\n            value: value,\n            ...errorUtil_js_1.errorUtil.errToObj(message),\n        });\n    }\n    endsWith(value, message) {\n        return this._addCheck({\n            kind: \"endsWith\",\n            value: value,\n            ...errorUtil_js_1.errorUtil.errToObj(message),\n        });\n    }\n    min(minLength, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minLength,\n            ...errorUtil_js_1.errorUtil.errToObj(message),\n        });\n    }\n    max(maxLength, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxLength,\n            ...errorUtil_js_1.errorUtil.errToObj(message),\n        });\n    }\n    length(len, message) {\n        return this._addCheck({\n            kind: \"length\",\n            value: len,\n            ...errorUtil_js_1.errorUtil.errToObj(message),\n        });\n    }\n    /**\n     * Equivalent to `.min(1)`\n     */\n    nonempty(message) {\n        return this.min(1, errorUtil_js_1.errorUtil.errToObj(message));\n    }\n    trim() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"trim\" }],\n        });\n    }\n    toLowerCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toLowerCase\" }],\n        });\n    }\n    toUpperCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toUpperCase\" }],\n        });\n    }\n    get isDatetime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"datetime\");\n    }\n    get isDate() {\n        return !!this._def.checks.find((ch) => ch.kind === \"date\");\n    }\n    get isTime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"time\");\n    }\n    get isDuration() {\n        return !!this._def.checks.find((ch) => ch.kind === \"duration\");\n    }\n    get isEmail() {\n        return !!this._def.checks.find((ch) => ch.kind === \"email\");\n    }\n    get isURL() {\n        return !!this._def.checks.find((ch) => ch.kind === \"url\");\n    }\n    get isEmoji() {\n        return !!this._def.checks.find((ch) => ch.kind === \"emoji\");\n    }\n    get isUUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"uuid\");\n    }\n    get isNANOID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"nanoid\");\n    }\n    get isCUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid\");\n    }\n    get isCUID2() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid2\");\n    }\n    get isULID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ulid\");\n    }\n    get isIP() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ip\");\n    }\n    get isCIDR() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cidr\");\n    }\n    get isBase64() {\n        return !!this._def.checks.find((ch) => ch.kind === \"base64\");\n    }\n    get isBase64url() {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return !!this._def.checks.find((ch) => ch.kind === \"base64url\");\n    }\n    get minLength() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxLength() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nexports.ZodString = ZodString;\nZodString.create = (params) => {\n    return new ZodString({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodString,\n        coerce: params?.coerce ?? false,\n        ...processCreateParams(params),\n    });\n};\n// https://stackoverflow.com/questions/3966484/why-does-modulus-operator-return-fractional-number-in-javascript/31711034#31711034\nfunction floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = Number.parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = Number.parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / 10 ** decCount;\n}\nclass ZodNumber extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n        this.step = this.multipleOf;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Number(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== util_js_1.ZodParsedType.number) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.invalid_type,\n                expected: util_js_1.ZodParsedType.number,\n                received: ctx.parsedType,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        let ctx = undefined;\n        const status = new parseUtil_js_1.ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"int\") {\n                if (!util_js_1.util.isInteger(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        code: ZodError_js_1.ZodIssueCode.invalid_type,\n                        expected: \"integer\",\n                        received: \"float\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"min\") {\n                const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        code: ZodError_js_1.ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        code: ZodError_js_1.ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (floatSafeRemainder(input.data, check.value) !== 0) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        code: ZodError_js_1.ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"finite\") {\n                if (!Number.isFinite(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        code: ZodError_js_1.ZodIssueCode.not_finite,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util_js_1.util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil_js_1.errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil_js_1.errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil_js_1.errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil_js_1.errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil_js_1.errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    int(message) {\n        return this._addCheck({\n            kind: \"int\",\n            message: errorUtil_js_1.errorUtil.toString(message),\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil_js_1.errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil_js_1.errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil_js_1.errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil_js_1.errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value: value,\n            message: errorUtil_js_1.errorUtil.toString(message),\n        });\n    }\n    finite(message) {\n        return this._addCheck({\n            kind: \"finite\",\n            message: errorUtil_js_1.errorUtil.toString(message),\n        });\n    }\n    safe(message) {\n        return this._addCheck({\n            kind: \"min\",\n            inclusive: true,\n            value: Number.MIN_SAFE_INTEGER,\n            message: errorUtil_js_1.errorUtil.toString(message),\n        })._addCheck({\n            kind: \"max\",\n            inclusive: true,\n            value: Number.MAX_SAFE_INTEGER,\n            message: errorUtil_js_1.errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n    get isInt() {\n        return !!this._def.checks.find((ch) => ch.kind === \"int\" || (ch.kind === \"multipleOf\" && util_js_1.util.isInteger(ch.value)));\n    }\n    get isFinite() {\n        let max = null;\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"finite\" || ch.kind === \"int\" || ch.kind === \"multipleOf\") {\n                return true;\n            }\n            else if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n            else if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return Number.isFinite(min) && Number.isFinite(max);\n    }\n}\nexports.ZodNumber = ZodNumber;\nZodNumber.create = (params) => {\n    return new ZodNumber({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodNumber,\n        coerce: params?.coerce || false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodBigInt extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            try {\n                input.data = BigInt(input.data);\n            }\n            catch {\n                return this._getInvalidInput(input);\n            }\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== util_js_1.ZodParsedType.bigint) {\n            return this._getInvalidInput(input);\n        }\n        let ctx = undefined;\n        const status = new parseUtil_js_1.ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        code: ZodError_js_1.ZodIssueCode.too_small,\n                        type: \"bigint\",\n                        minimum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        code: ZodError_js_1.ZodIssueCode.too_big,\n                        type: \"bigint\",\n                        maximum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (input.data % check.value !== BigInt(0)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        code: ZodError_js_1.ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util_js_1.util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _getInvalidInput(input) {\n        const ctx = this._getOrReturnCtx(input);\n        (0, parseUtil_js_1.addIssueToContext)(ctx, {\n            code: ZodError_js_1.ZodIssueCode.invalid_type,\n            expected: util_js_1.ZodParsedType.bigint,\n            received: ctx.parsedType,\n        });\n        return parseUtil_js_1.INVALID;\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil_js_1.errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil_js_1.errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil_js_1.errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil_js_1.errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil_js_1.errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil_js_1.errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil_js_1.errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil_js_1.errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil_js_1.errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value,\n            message: errorUtil_js_1.errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nexports.ZodBigInt = ZodBigInt;\nZodBigInt.create = (params) => {\n    return new ZodBigInt({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodBigInt,\n        coerce: params?.coerce ?? false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodBoolean extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Boolean(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== util_js_1.ZodParsedType.boolean) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.invalid_type,\n                expected: util_js_1.ZodParsedType.boolean,\n                received: ctx.parsedType,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        return (0, parseUtil_js_1.OK)(input.data);\n    }\n}\nexports.ZodBoolean = ZodBoolean;\nZodBoolean.create = (params) => {\n    return new ZodBoolean({\n        typeName: ZodFirstPartyTypeKind.ZodBoolean,\n        coerce: params?.coerce || false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodDate extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = new Date(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== util_js_1.ZodParsedType.date) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.invalid_type,\n                expected: util_js_1.ZodParsedType.date,\n                received: ctx.parsedType,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        if (Number.isNaN(input.data.getTime())) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.invalid_date,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        const status = new parseUtil_js_1.ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.getTime() < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        code: ZodError_js_1.ZodIssueCode.too_small,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        minimum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.getTime() > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        code: ZodError_js_1.ZodIssueCode.too_big,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        maximum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util_js_1.util.assertNever(check);\n            }\n        }\n        return {\n            status: status.value,\n            value: new Date(input.data.getTime()),\n        };\n    }\n    _addCheck(check) {\n        return new ZodDate({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    min(minDate, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minDate.getTime(),\n            message: errorUtil_js_1.errorUtil.toString(message),\n        });\n    }\n    max(maxDate, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxDate.getTime(),\n            message: errorUtil_js_1.errorUtil.toString(message),\n        });\n    }\n    get minDate() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min != null ? new Date(min) : null;\n    }\n    get maxDate() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max != null ? new Date(max) : null;\n    }\n}\nexports.ZodDate = ZodDate;\nZodDate.create = (params) => {\n    return new ZodDate({\n        checks: [],\n        coerce: params?.coerce || false,\n        typeName: ZodFirstPartyTypeKind.ZodDate,\n        ...processCreateParams(params),\n    });\n};\nclass ZodSymbol extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== util_js_1.ZodParsedType.symbol) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.invalid_type,\n                expected: util_js_1.ZodParsedType.symbol,\n                received: ctx.parsedType,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        return (0, parseUtil_js_1.OK)(input.data);\n    }\n}\nexports.ZodSymbol = ZodSymbol;\nZodSymbol.create = (params) => {\n    return new ZodSymbol({\n        typeName: ZodFirstPartyTypeKind.ZodSymbol,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUndefined extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== util_js_1.ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.invalid_type,\n                expected: util_js_1.ZodParsedType.undefined,\n                received: ctx.parsedType,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        return (0, parseUtil_js_1.OK)(input.data);\n    }\n}\nexports.ZodUndefined = ZodUndefined;\nZodUndefined.create = (params) => {\n    return new ZodUndefined({\n        typeName: ZodFirstPartyTypeKind.ZodUndefined,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNull extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== util_js_1.ZodParsedType.null) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.invalid_type,\n                expected: util_js_1.ZodParsedType.null,\n                received: ctx.parsedType,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        return (0, parseUtil_js_1.OK)(input.data);\n    }\n}\nexports.ZodNull = ZodNull;\nZodNull.create = (params) => {\n    return new ZodNull({\n        typeName: ZodFirstPartyTypeKind.ZodNull,\n        ...processCreateParams(params),\n    });\n};\nclass ZodAny extends ZodType {\n    constructor() {\n        super(...arguments);\n        // to prevent instances of other classes from extending ZodAny. this causes issues with catchall in ZodObject.\n        this._any = true;\n    }\n    _parse(input) {\n        return (0, parseUtil_js_1.OK)(input.data);\n    }\n}\nexports.ZodAny = ZodAny;\nZodAny.create = (params) => {\n    return new ZodAny({\n        typeName: ZodFirstPartyTypeKind.ZodAny,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUnknown extends ZodType {\n    constructor() {\n        super(...arguments);\n        // required\n        this._unknown = true;\n    }\n    _parse(input) {\n        return (0, parseUtil_js_1.OK)(input.data);\n    }\n}\nexports.ZodUnknown = ZodUnknown;\nZodUnknown.create = (params) => {\n    return new ZodUnknown({\n        typeName: ZodFirstPartyTypeKind.ZodUnknown,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNever extends ZodType {\n    _parse(input) {\n        const ctx = this._getOrReturnCtx(input);\n        (0, parseUtil_js_1.addIssueToContext)(ctx, {\n            code: ZodError_js_1.ZodIssueCode.invalid_type,\n            expected: util_js_1.ZodParsedType.never,\n            received: ctx.parsedType,\n        });\n        return parseUtil_js_1.INVALID;\n    }\n}\nexports.ZodNever = ZodNever;\nZodNever.create = (params) => {\n    return new ZodNever({\n        typeName: ZodFirstPartyTypeKind.ZodNever,\n        ...processCreateParams(params),\n    });\n};\nclass ZodVoid extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== util_js_1.ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.invalid_type,\n                expected: util_js_1.ZodParsedType.void,\n                received: ctx.parsedType,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        return (0, parseUtil_js_1.OK)(input.data);\n    }\n}\nexports.ZodVoid = ZodVoid;\nZodVoid.create = (params) => {\n    return new ZodVoid({\n        typeName: ZodFirstPartyTypeKind.ZodVoid,\n        ...processCreateParams(params),\n    });\n};\nclass ZodArray extends ZodType {\n    _parse(input) {\n        const { ctx, status } = this._processInputParams(input);\n        const def = this._def;\n        if (ctx.parsedType !== util_js_1.ZodParsedType.array) {\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.invalid_type,\n                expected: util_js_1.ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        if (def.exactLength !== null) {\n            const tooBig = ctx.data.length > def.exactLength.value;\n            const tooSmall = ctx.data.length < def.exactLength.value;\n            if (tooBig || tooSmall) {\n                (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                    code: tooBig ? ZodError_js_1.ZodIssueCode.too_big : ZodError_js_1.ZodIssueCode.too_small,\n                    minimum: (tooSmall ? def.exactLength.value : undefined),\n                    maximum: (tooBig ? def.exactLength.value : undefined),\n                    type: \"array\",\n                    inclusive: true,\n                    exact: true,\n                    message: def.exactLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.minLength !== null) {\n            if (ctx.data.length < def.minLength.value) {\n                (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                    code: ZodError_js_1.ZodIssueCode.too_small,\n                    minimum: def.minLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxLength !== null) {\n            if (ctx.data.length > def.maxLength.value) {\n                (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                    code: ZodError_js_1.ZodIssueCode.too_big,\n                    maximum: def.maxLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.all([...ctx.data].map((item, i) => {\n                return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n            })).then((result) => {\n                return parseUtil_js_1.ParseStatus.mergeArray(status, result);\n            });\n        }\n        const result = [...ctx.data].map((item, i) => {\n            return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n        });\n        return parseUtil_js_1.ParseStatus.mergeArray(status, result);\n    }\n    get element() {\n        return this._def.type;\n    }\n    min(minLength, message) {\n        return new ZodArray({\n            ...this._def,\n            minLength: { value: minLength, message: errorUtil_js_1.errorUtil.toString(message) },\n        });\n    }\n    max(maxLength, message) {\n        return new ZodArray({\n            ...this._def,\n            maxLength: { value: maxLength, message: errorUtil_js_1.errorUtil.toString(message) },\n        });\n    }\n    length(len, message) {\n        return new ZodArray({\n            ...this._def,\n            exactLength: { value: len, message: errorUtil_js_1.errorUtil.toString(message) },\n        });\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nexports.ZodArray = ZodArray;\nZodArray.create = (schema, params) => {\n    return new ZodArray({\n        type: schema,\n        minLength: null,\n        maxLength: null,\n        exactLength: null,\n        typeName: ZodFirstPartyTypeKind.ZodArray,\n        ...processCreateParams(params),\n    });\n};\nfunction deepPartialify(schema) {\n    if (schema instanceof ZodObject) {\n        const newShape = {};\n        for (const key in schema.shape) {\n            const fieldSchema = schema.shape[key];\n            newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));\n        }\n        return new ZodObject({\n            ...schema._def,\n            shape: () => newShape,\n        });\n    }\n    else if (schema instanceof ZodArray) {\n        return new ZodArray({\n            ...schema._def,\n            type: deepPartialify(schema.element),\n        });\n    }\n    else if (schema instanceof ZodOptional) {\n        return ZodOptional.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodNullable) {\n        return ZodNullable.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodTuple) {\n        return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));\n    }\n    else {\n        return schema;\n    }\n}\nclass ZodObject extends ZodType {\n    constructor() {\n        super(...arguments);\n        this._cached = null;\n        /**\n         * @deprecated In most cases, this is no longer needed - unknown properties are now silently stripped.\n         * If you want to pass through unknown properties, use `.passthrough()` instead.\n         */\n        this.nonstrict = this.passthrough;\n        // extend<\n        //   Augmentation extends ZodRawShape,\n        //   NewOutput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_output\"]\n        //       : k extends keyof Output\n        //       ? Output[k]\n        //       : never;\n        //   }>,\n        //   NewInput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_input\"]\n        //       : k extends keyof Input\n        //       ? Input[k]\n        //       : never;\n        //   }>\n        // >(\n        //   augmentation: Augmentation\n        // ): ZodObject<\n        //   extendShape<T, Augmentation>,\n        //   UnknownKeys,\n        //   Catchall,\n        //   NewOutput,\n        //   NewInput\n        // > {\n        //   return new ZodObject({\n        //     ...this._def,\n        //     shape: () => ({\n        //       ...this._def.shape(),\n        //       ...augmentation,\n        //     }),\n        //   }) as any;\n        // }\n        /**\n         * @deprecated Use `.extend` instead\n         *  */\n        this.augment = this.extend;\n    }\n    _getCached() {\n        if (this._cached !== null)\n            return this._cached;\n        const shape = this._def.shape();\n        const keys = util_js_1.util.objectKeys(shape);\n        this._cached = { shape, keys };\n        return this._cached;\n    }\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== util_js_1.ZodParsedType.object) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.invalid_type,\n                expected: util_js_1.ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        const { status, ctx } = this._processInputParams(input);\n        const { shape, keys: shapeKeys } = this._getCached();\n        const extraKeys = [];\n        if (!(this._def.catchall instanceof ZodNever && this._def.unknownKeys === \"strip\")) {\n            for (const key in ctx.data) {\n                if (!shapeKeys.includes(key)) {\n                    extraKeys.push(key);\n                }\n            }\n        }\n        const pairs = [];\n        for (const key of shapeKeys) {\n            const keyValidator = shape[key];\n            const value = ctx.data[key];\n            pairs.push({\n                key: { status: \"valid\", value: key },\n                value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (this._def.catchall instanceof ZodNever) {\n            const unknownKeys = this._def.unknownKeys;\n            if (unknownKeys === \"passthrough\") {\n                for (const key of extraKeys) {\n                    pairs.push({\n                        key: { status: \"valid\", value: key },\n                        value: { status: \"valid\", value: ctx.data[key] },\n                    });\n                }\n            }\n            else if (unknownKeys === \"strict\") {\n                if (extraKeys.length > 0) {\n                    (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                        code: ZodError_js_1.ZodIssueCode.unrecognized_keys,\n                        keys: extraKeys,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (unknownKeys === \"strip\") {\n            }\n            else {\n                throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);\n            }\n        }\n        else {\n            // run catchall validation\n            const catchall = this._def.catchall;\n            for (const key of extraKeys) {\n                const value = ctx.data[key];\n                pairs.push({\n                    key: { status: \"valid\", value: key },\n                    value: catchall._parse(new ParseInputLazyPath(ctx, value, ctx.path, key) //, ctx.child(key), value, getParsedType(value)\n                    ),\n                    alwaysSet: key in ctx.data,\n                });\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.resolve()\n                .then(async () => {\n                const syncPairs = [];\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    syncPairs.push({\n                        key,\n                        value,\n                        alwaysSet: pair.alwaysSet,\n                    });\n                }\n                return syncPairs;\n            })\n                .then((syncPairs) => {\n                return parseUtil_js_1.ParseStatus.mergeObjectSync(status, syncPairs);\n            });\n        }\n        else {\n            return parseUtil_js_1.ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get shape() {\n        return this._def.shape();\n    }\n    strict(message) {\n        errorUtil_js_1.errorUtil.errToObj;\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strict\",\n            ...(message !== undefined\n                ? {\n                    errorMap: (issue, ctx) => {\n                        const defaultError = this._def.errorMap?.(issue, ctx).message ?? ctx.defaultError;\n                        if (issue.code === \"unrecognized_keys\")\n                            return {\n                                message: errorUtil_js_1.errorUtil.errToObj(message).message ?? defaultError,\n                            };\n                        return {\n                            message: defaultError,\n                        };\n                    },\n                }\n                : {}),\n        });\n    }\n    strip() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strip\",\n        });\n    }\n    passthrough() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"passthrough\",\n        });\n    }\n    // const AugmentFactory =\n    //   <Def extends ZodObjectDef>(def: Def) =>\n    //   <Augmentation extends ZodRawShape>(\n    //     augmentation: Augmentation\n    //   ): ZodObject<\n    //     extendShape<ReturnType<Def[\"shape\"]>, Augmentation>,\n    //     Def[\"unknownKeys\"],\n    //     Def[\"catchall\"]\n    //   > => {\n    //     return new ZodObject({\n    //       ...def,\n    //       shape: () => ({\n    //         ...def.shape(),\n    //         ...augmentation,\n    //       }),\n    //     }) as any;\n    //   };\n    extend(augmentation) {\n        return new ZodObject({\n            ...this._def,\n            shape: () => ({\n                ...this._def.shape(),\n                ...augmentation,\n            }),\n        });\n    }\n    /**\n     * Prior to zod@1.0.12 there was a bug in the\n     * inferred type of merged objects. Please\n     * upgrade if you are experiencing issues.\n     */\n    merge(merging) {\n        const merged = new ZodObject({\n            unknownKeys: merging._def.unknownKeys,\n            catchall: merging._def.catchall,\n            shape: () => ({\n                ...this._def.shape(),\n                ...merging._def.shape(),\n            }),\n            typeName: ZodFirstPartyTypeKind.ZodObject,\n        });\n        return merged;\n    }\n    // merge<\n    //   Incoming extends AnyZodObject,\n    //   Augmentation extends Incoming[\"shape\"],\n    //   NewOutput extends {\n    //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_output\"]\n    //       : k extends keyof Output\n    //       ? Output[k]\n    //       : never;\n    //   },\n    //   NewInput extends {\n    //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_input\"]\n    //       : k extends keyof Input\n    //       ? Input[k]\n    //       : never;\n    //   }\n    // >(\n    //   merging: Incoming\n    // ): ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"],\n    //   NewOutput,\n    //   NewInput\n    // > {\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    setKey(key, schema) {\n        return this.augment({ [key]: schema });\n    }\n    // merge<Incoming extends AnyZodObject>(\n    //   merging: Incoming\n    // ): //ZodObject<T & Incoming[\"_shape\"], UnknownKeys, Catchall> = (merging) => {\n    // ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"]\n    // > {\n    //   // const mergedShape = objectUtil.mergeShapes(\n    //   //   this._def.shape(),\n    //   //   merging._def.shape()\n    //   // );\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    catchall(index) {\n        return new ZodObject({\n            ...this._def,\n            catchall: index,\n        });\n    }\n    pick(mask) {\n        const shape = {};\n        for (const key of util_js_1.util.objectKeys(mask)) {\n            if (mask[key] && this.shape[key]) {\n                shape[key] = this.shape[key];\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    omit(mask) {\n        const shape = {};\n        for (const key of util_js_1.util.objectKeys(this.shape)) {\n            if (!mask[key]) {\n                shape[key] = this.shape[key];\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    /**\n     * @deprecated\n     */\n    deepPartial() {\n        return deepPartialify(this);\n    }\n    partial(mask) {\n        const newShape = {};\n        for (const key of util_js_1.util.objectKeys(this.shape)) {\n            const fieldSchema = this.shape[key];\n            if (mask && !mask[key]) {\n                newShape[key] = fieldSchema;\n            }\n            else {\n                newShape[key] = fieldSchema.optional();\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    required(mask) {\n        const newShape = {};\n        for (const key of util_js_1.util.objectKeys(this.shape)) {\n            if (mask && !mask[key]) {\n                newShape[key] = this.shape[key];\n            }\n            else {\n                const fieldSchema = this.shape[key];\n                let newField = fieldSchema;\n                while (newField instanceof ZodOptional) {\n                    newField = newField._def.innerType;\n                }\n                newShape[key] = newField;\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    keyof() {\n        return createZodEnum(util_js_1.util.objectKeys(this.shape));\n    }\n}\nexports.ZodObject = ZodObject;\nZodObject.create = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.strictCreate = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strict\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.lazycreate = (shape, params) => {\n    return new ZodObject({\n        shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const options = this._def.options;\n        function handleResults(results) {\n            // return first issue-free validation if it exists\n            for (const result of results) {\n                if (result.result.status === \"valid\") {\n                    return result.result;\n                }\n            }\n            for (const result of results) {\n                if (result.result.status === \"dirty\") {\n                    // add issues from dirty option\n                    ctx.common.issues.push(...result.ctx.common.issues);\n                    return result.result;\n                }\n            }\n            // return invalid\n            const unionErrors = results.map((result) => new ZodError_js_1.ZodError(result.ctx.common.issues));\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        if (ctx.common.async) {\n            return Promise.all(options.map(async (option) => {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                return {\n                    result: await option._parseAsync({\n                        data: ctx.data,\n                        path: ctx.path,\n                        parent: childCtx,\n                    }),\n                    ctx: childCtx,\n                };\n            })).then(handleResults);\n        }\n        else {\n            let dirty = undefined;\n            const issues = [];\n            for (const option of options) {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                const result = option._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: childCtx,\n                });\n                if (result.status === \"valid\") {\n                    return result;\n                }\n                else if (result.status === \"dirty\" && !dirty) {\n                    dirty = { result, ctx: childCtx };\n                }\n                if (childCtx.common.issues.length) {\n                    issues.push(childCtx.common.issues);\n                }\n            }\n            if (dirty) {\n                ctx.common.issues.push(...dirty.ctx.common.issues);\n                return dirty.result;\n            }\n            const unionErrors = issues.map((issues) => new ZodError_js_1.ZodError(issues));\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n    }\n    get options() {\n        return this._def.options;\n    }\n}\nexports.ZodUnion = ZodUnion;\nZodUnion.create = (types, params) => {\n    return new ZodUnion({\n        options: types,\n        typeName: ZodFirstPartyTypeKind.ZodUnion,\n        ...processCreateParams(params),\n    });\n};\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\n//////////                                 //////////\n//////////      ZodDiscriminatedUnion      //////////\n//////////                                 //////////\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\nconst getDiscriminator = (type) => {\n    if (type instanceof ZodLazy) {\n        return getDiscriminator(type.schema);\n    }\n    else if (type instanceof ZodEffects) {\n        return getDiscriminator(type.innerType());\n    }\n    else if (type instanceof ZodLiteral) {\n        return [type.value];\n    }\n    else if (type instanceof ZodEnum) {\n        return type.options;\n    }\n    else if (type instanceof ZodNativeEnum) {\n        // eslint-disable-next-line ban/ban\n        return util_js_1.util.objectValues(type.enum);\n    }\n    else if (type instanceof ZodDefault) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else if (type instanceof ZodUndefined) {\n        return [undefined];\n    }\n    else if (type instanceof ZodNull) {\n        return [null];\n    }\n    else if (type instanceof ZodOptional) {\n        return [undefined, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodNullable) {\n        return [null, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodBranded) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodReadonly) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodCatch) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else {\n        return [];\n    }\n};\nclass ZodDiscriminatedUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== util_js_1.ZodParsedType.object) {\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.invalid_type,\n                expected: util_js_1.ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        const discriminator = this.discriminator;\n        const discriminatorValue = ctx.data[discriminator];\n        const option = this.optionsMap.get(discriminatorValue);\n        if (!option) {\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.invalid_union_discriminator,\n                options: Array.from(this.optionsMap.keys()),\n                path: [discriminator],\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        if (ctx.common.async) {\n            return option._parseAsync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n        else {\n            return option._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n    }\n    get discriminator() {\n        return this._def.discriminator;\n    }\n    get options() {\n        return this._def.options;\n    }\n    get optionsMap() {\n        return this._def.optionsMap;\n    }\n    /**\n     * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.\n     * However, it only allows a union of objects, all of which need to share a discriminator property. This property must\n     * have a different value for each object in the union.\n     * @param discriminator the name of the discriminator property\n     * @param types an array of object schemas\n     * @param params\n     */\n    static create(discriminator, options, params) {\n        // Get all the valid discriminator values\n        const optionsMap = new Map();\n        // try {\n        for (const type of options) {\n            const discriminatorValues = getDiscriminator(type.shape[discriminator]);\n            if (!discriminatorValues.length) {\n                throw new Error(`A discriminator value for key \\`${discriminator}\\` could not be extracted from all schema options`);\n            }\n            for (const value of discriminatorValues) {\n                if (optionsMap.has(value)) {\n                    throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);\n                }\n                optionsMap.set(value, type);\n            }\n        }\n        return new ZodDiscriminatedUnion({\n            typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,\n            discriminator,\n            options,\n            optionsMap,\n            ...processCreateParams(params),\n        });\n    }\n}\nexports.ZodDiscriminatedUnion = ZodDiscriminatedUnion;\nfunction mergeValues(a, b) {\n    const aType = (0, util_js_1.getParsedType)(a);\n    const bType = (0, util_js_1.getParsedType)(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    else if (aType === util_js_1.ZodParsedType.object && bType === util_js_1.ZodParsedType.object) {\n        const bKeys = util_js_1.util.objectKeys(b);\n        const sharedKeys = util_js_1.util.objectKeys(a).filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    else if (aType === util_js_1.ZodParsedType.array && bType === util_js_1.ZodParsedType.array) {\n        if (a.length !== b.length) {\n            return { valid: false };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    else if (aType === util_js_1.ZodParsedType.date && bType === util_js_1.ZodParsedType.date && +a === +b) {\n        return { valid: true, data: a };\n    }\n    else {\n        return { valid: false };\n    }\n}\nclass ZodIntersection extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const handleParsed = (parsedLeft, parsedRight) => {\n            if ((0, parseUtil_js_1.isAborted)(parsedLeft) || (0, parseUtil_js_1.isAborted)(parsedRight)) {\n                return parseUtil_js_1.INVALID;\n            }\n            const merged = mergeValues(parsedLeft.value, parsedRight.value);\n            if (!merged.valid) {\n                (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                    code: ZodError_js_1.ZodIssueCode.invalid_intersection_types,\n                });\n                return parseUtil_js_1.INVALID;\n            }\n            if ((0, parseUtil_js_1.isDirty)(parsedLeft) || (0, parseUtil_js_1.isDirty)(parsedRight)) {\n                status.dirty();\n            }\n            return { status: status.value, value: merged.data };\n        };\n        if (ctx.common.async) {\n            return Promise.all([\n                this._def.left._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n                this._def.right._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n            ]).then(([left, right]) => handleParsed(left, right));\n        }\n        else {\n            return handleParsed(this._def.left._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }), this._def.right._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }));\n        }\n    }\n}\nexports.ZodIntersection = ZodIntersection;\nZodIntersection.create = (left, right, params) => {\n    return new ZodIntersection({\n        left: left,\n        right: right,\n        typeName: ZodFirstPartyTypeKind.ZodIntersection,\n        ...processCreateParams(params),\n    });\n};\n// type ZodTupleItems = [ZodTypeAny, ...ZodTypeAny[]];\nclass ZodTuple extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== util_js_1.ZodParsedType.array) {\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.invalid_type,\n                expected: util_js_1.ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        if (ctx.data.length < this._def.items.length) {\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.too_small,\n                minimum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        const rest = this._def.rest;\n        if (!rest && ctx.data.length > this._def.items.length) {\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.too_big,\n                maximum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            status.dirty();\n        }\n        const items = [...ctx.data]\n            .map((item, itemIndex) => {\n            const schema = this._def.items[itemIndex] || this._def.rest;\n            if (!schema)\n                return null;\n            return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));\n        })\n            .filter((x) => !!x); // filter nulls\n        if (ctx.common.async) {\n            return Promise.all(items).then((results) => {\n                return parseUtil_js_1.ParseStatus.mergeArray(status, results);\n            });\n        }\n        else {\n            return parseUtil_js_1.ParseStatus.mergeArray(status, items);\n        }\n    }\n    get items() {\n        return this._def.items;\n    }\n    rest(rest) {\n        return new ZodTuple({\n            ...this._def,\n            rest,\n        });\n    }\n}\nexports.ZodTuple = ZodTuple;\nZodTuple.create = (schemas, params) => {\n    if (!Array.isArray(schemas)) {\n        throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n    }\n    return new ZodTuple({\n        items: schemas,\n        typeName: ZodFirstPartyTypeKind.ZodTuple,\n        rest: null,\n        ...processCreateParams(params),\n    });\n};\nclass ZodRecord extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== util_js_1.ZodParsedType.object) {\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.invalid_type,\n                expected: util_js_1.ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        const pairs = [];\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        for (const key in ctx.data) {\n            pairs.push({\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),\n                value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (ctx.common.async) {\n            return parseUtil_js_1.ParseStatus.mergeObjectAsync(status, pairs);\n        }\n        else {\n            return parseUtil_js_1.ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get element() {\n        return this._def.valueType;\n    }\n    static create(first, second, third) {\n        if (second instanceof ZodType) {\n            return new ZodRecord({\n                keyType: first,\n                valueType: second,\n                typeName: ZodFirstPartyTypeKind.ZodRecord,\n                ...processCreateParams(third),\n            });\n        }\n        return new ZodRecord({\n            keyType: ZodString.create(),\n            valueType: first,\n            typeName: ZodFirstPartyTypeKind.ZodRecord,\n            ...processCreateParams(second),\n        });\n    }\n}\nexports.ZodRecord = ZodRecord;\nclass ZodMap extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== util_js_1.ZodParsedType.map) {\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.invalid_type,\n                expected: util_js_1.ZodParsedType.map,\n                received: ctx.parsedType,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        const pairs = [...ctx.data.entries()].map(([key, value], index) => {\n            return {\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index, \"key\"])),\n                value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index, \"value\"])),\n            };\n        });\n        if (ctx.common.async) {\n            const finalMap = new Map();\n            return Promise.resolve().then(async () => {\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    if (key.status === \"aborted\" || value.status === \"aborted\") {\n                        return parseUtil_js_1.INVALID;\n                    }\n                    if (key.status === \"dirty\" || value.status === \"dirty\") {\n                        status.dirty();\n                    }\n                    finalMap.set(key.value, value.value);\n                }\n                return { status: status.value, value: finalMap };\n            });\n        }\n        else {\n            const finalMap = new Map();\n            for (const pair of pairs) {\n                const key = pair.key;\n                const value = pair.value;\n                if (key.status === \"aborted\" || value.status === \"aborted\") {\n                    return parseUtil_js_1.INVALID;\n                }\n                if (key.status === \"dirty\" || value.status === \"dirty\") {\n                    status.dirty();\n                }\n                finalMap.set(key.value, value.value);\n            }\n            return { status: status.value, value: finalMap };\n        }\n    }\n}\nexports.ZodMap = ZodMap;\nZodMap.create = (keyType, valueType, params) => {\n    return new ZodMap({\n        valueType,\n        keyType,\n        typeName: ZodFirstPartyTypeKind.ZodMap,\n        ...processCreateParams(params),\n    });\n};\nclass ZodSet extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== util_js_1.ZodParsedType.set) {\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.invalid_type,\n                expected: util_js_1.ZodParsedType.set,\n                received: ctx.parsedType,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        const def = this._def;\n        if (def.minSize !== null) {\n            if (ctx.data.size < def.minSize.value) {\n                (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                    code: ZodError_js_1.ZodIssueCode.too_small,\n                    minimum: def.minSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minSize.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxSize !== null) {\n            if (ctx.data.size > def.maxSize.value) {\n                (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                    code: ZodError_js_1.ZodIssueCode.too_big,\n                    maximum: def.maxSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxSize.message,\n                });\n                status.dirty();\n            }\n        }\n        const valueType = this._def.valueType;\n        function finalizeSet(elements) {\n            const parsedSet = new Set();\n            for (const element of elements) {\n                if (element.status === \"aborted\")\n                    return parseUtil_js_1.INVALID;\n                if (element.status === \"dirty\")\n                    status.dirty();\n                parsedSet.add(element.value);\n            }\n            return { status: status.value, value: parsedSet };\n        }\n        const elements = [...ctx.data.values()].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));\n        if (ctx.common.async) {\n            return Promise.all(elements).then((elements) => finalizeSet(elements));\n        }\n        else {\n            return finalizeSet(elements);\n        }\n    }\n    min(minSize, message) {\n        return new ZodSet({\n            ...this._def,\n            minSize: { value: minSize, message: errorUtil_js_1.errorUtil.toString(message) },\n        });\n    }\n    max(maxSize, message) {\n        return new ZodSet({\n            ...this._def,\n            maxSize: { value: maxSize, message: errorUtil_js_1.errorUtil.toString(message) },\n        });\n    }\n    size(size, message) {\n        return this.min(size, message).max(size, message);\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nexports.ZodSet = ZodSet;\nZodSet.create = (valueType, params) => {\n    return new ZodSet({\n        valueType,\n        minSize: null,\n        maxSize: null,\n        typeName: ZodFirstPartyTypeKind.ZodSet,\n        ...processCreateParams(params),\n    });\n};\nclass ZodFunction extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.validate = this.implement;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== util_js_1.ZodParsedType.function) {\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.invalid_type,\n                expected: util_js_1.ZodParsedType.function,\n                received: ctx.parsedType,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        function makeArgsIssue(args, error) {\n            return (0, parseUtil_js_1.makeIssue)({\n                data: args,\n                path: ctx.path,\n                errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, (0, errors_js_1.getErrorMap)(), errors_js_1.defaultErrorMap].filter((x) => !!x),\n                issueData: {\n                    code: ZodError_js_1.ZodIssueCode.invalid_arguments,\n                    argumentsError: error,\n                },\n            });\n        }\n        function makeReturnsIssue(returns, error) {\n            return (0, parseUtil_js_1.makeIssue)({\n                data: returns,\n                path: ctx.path,\n                errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, (0, errors_js_1.getErrorMap)(), errors_js_1.defaultErrorMap].filter((x) => !!x),\n                issueData: {\n                    code: ZodError_js_1.ZodIssueCode.invalid_return_type,\n                    returnTypeError: error,\n                },\n            });\n        }\n        const params = { errorMap: ctx.common.contextualErrorMap };\n        const fn = ctx.data;\n        if (this._def.returns instanceof ZodPromise) {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return (0, parseUtil_js_1.OK)(async function (...args) {\n                const error = new ZodError_js_1.ZodError([]);\n                const parsedArgs = await me._def.args.parseAsync(args, params).catch((e) => {\n                    error.addIssue(makeArgsIssue(args, e));\n                    throw error;\n                });\n                const result = await Reflect.apply(fn, this, parsedArgs);\n                const parsedReturns = await me._def.returns._def.type\n                    .parseAsync(result, params)\n                    .catch((e) => {\n                    error.addIssue(makeReturnsIssue(result, e));\n                    throw error;\n                });\n                return parsedReturns;\n            });\n        }\n        else {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return (0, parseUtil_js_1.OK)(function (...args) {\n                const parsedArgs = me._def.args.safeParse(args, params);\n                if (!parsedArgs.success) {\n                    throw new ZodError_js_1.ZodError([makeArgsIssue(args, parsedArgs.error)]);\n                }\n                const result = Reflect.apply(fn, this, parsedArgs.data);\n                const parsedReturns = me._def.returns.safeParse(result, params);\n                if (!parsedReturns.success) {\n                    throw new ZodError_js_1.ZodError([makeReturnsIssue(result, parsedReturns.error)]);\n                }\n                return parsedReturns.data;\n            });\n        }\n    }\n    parameters() {\n        return this._def.args;\n    }\n    returnType() {\n        return this._def.returns;\n    }\n    args(...items) {\n        return new ZodFunction({\n            ...this._def,\n            args: ZodTuple.create(items).rest(ZodUnknown.create()),\n        });\n    }\n    returns(returnType) {\n        return new ZodFunction({\n            ...this._def,\n            returns: returnType,\n        });\n    }\n    implement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    strictImplement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    static create(args, returns, params) {\n        return new ZodFunction({\n            args: (args ? args : ZodTuple.create([]).rest(ZodUnknown.create())),\n            returns: returns || ZodUnknown.create(),\n            typeName: ZodFirstPartyTypeKind.ZodFunction,\n            ...processCreateParams(params),\n        });\n    }\n}\nexports.ZodFunction = ZodFunction;\nclass ZodLazy extends ZodType {\n    get schema() {\n        return this._def.getter();\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const lazySchema = this._def.getter();\n        return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });\n    }\n}\nexports.ZodLazy = ZodLazy;\nZodLazy.create = (getter, params) => {\n    return new ZodLazy({\n        getter: getter,\n        typeName: ZodFirstPartyTypeKind.ZodLazy,\n        ...processCreateParams(params),\n    });\n};\nclass ZodLiteral extends ZodType {\n    _parse(input) {\n        if (input.data !== this._def.value) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                received: ctx.data,\n                code: ZodError_js_1.ZodIssueCode.invalid_literal,\n                expected: this._def.value,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n    get value() {\n        return this._def.value;\n    }\n}\nexports.ZodLiteral = ZodLiteral;\nZodLiteral.create = (value, params) => {\n    return new ZodLiteral({\n        value: value,\n        typeName: ZodFirstPartyTypeKind.ZodLiteral,\n        ...processCreateParams(params),\n    });\n};\nfunction createZodEnum(values, params) {\n    return new ZodEnum({\n        values,\n        typeName: ZodFirstPartyTypeKind.ZodEnum,\n        ...processCreateParams(params),\n    });\n}\nclass ZodEnum extends ZodType {\n    _parse(input) {\n        if (typeof input.data !== \"string\") {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                expected: util_js_1.util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodError_js_1.ZodIssueCode.invalid_type,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        if (!this._cache) {\n            this._cache = new Set(this._def.values);\n        }\n        if (!this._cache.has(input.data)) {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                received: ctx.data,\n                code: ZodError_js_1.ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        return (0, parseUtil_js_1.OK)(input.data);\n    }\n    get options() {\n        return this._def.values;\n    }\n    get enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Values() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    extract(values, newDef = this._def) {\n        return ZodEnum.create(values, {\n            ...this._def,\n            ...newDef,\n        });\n    }\n    exclude(values, newDef = this._def) {\n        return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {\n            ...this._def,\n            ...newDef,\n        });\n    }\n}\nexports.ZodEnum = ZodEnum;\nZodEnum.create = createZodEnum;\nclass ZodNativeEnum extends ZodType {\n    _parse(input) {\n        const nativeEnumValues = util_js_1.util.getValidEnumValues(this._def.values);\n        const ctx = this._getOrReturnCtx(input);\n        if (ctx.parsedType !== util_js_1.ZodParsedType.string && ctx.parsedType !== util_js_1.ZodParsedType.number) {\n            const expectedValues = util_js_1.util.objectValues(nativeEnumValues);\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                expected: util_js_1.util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodError_js_1.ZodIssueCode.invalid_type,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        if (!this._cache) {\n            this._cache = new Set(util_js_1.util.getValidEnumValues(this._def.values));\n        }\n        if (!this._cache.has(input.data)) {\n            const expectedValues = util_js_1.util.objectValues(nativeEnumValues);\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                received: ctx.data,\n                code: ZodError_js_1.ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        return (0, parseUtil_js_1.OK)(input.data);\n    }\n    get enum() {\n        return this._def.values;\n    }\n}\nexports.ZodNativeEnum = ZodNativeEnum;\nZodNativeEnum.create = (values, params) => {\n    return new ZodNativeEnum({\n        values: values,\n        typeName: ZodFirstPartyTypeKind.ZodNativeEnum,\n        ...processCreateParams(params),\n    });\n};\nclass ZodPromise extends ZodType {\n    unwrap() {\n        return this._def.type;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== util_js_1.ZodParsedType.promise && ctx.common.async === false) {\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.invalid_type,\n                expected: util_js_1.ZodParsedType.promise,\n                received: ctx.parsedType,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        const promisified = ctx.parsedType === util_js_1.ZodParsedType.promise ? ctx.data : Promise.resolve(ctx.data);\n        return (0, parseUtil_js_1.OK)(promisified.then((data) => {\n            return this._def.type.parseAsync(data, {\n                path: ctx.path,\n                errorMap: ctx.common.contextualErrorMap,\n            });\n        }));\n    }\n}\nexports.ZodPromise = ZodPromise;\nZodPromise.create = (schema, params) => {\n    return new ZodPromise({\n        type: schema,\n        typeName: ZodFirstPartyTypeKind.ZodPromise,\n        ...processCreateParams(params),\n    });\n};\nclass ZodEffects extends ZodType {\n    innerType() {\n        return this._def.schema;\n    }\n    sourceType() {\n        return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects\n            ? this._def.schema.sourceType()\n            : this._def.schema;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const effect = this._def.effect || null;\n        const checkCtx = {\n            addIssue: (arg) => {\n                (0, parseUtil_js_1.addIssueToContext)(ctx, arg);\n                if (arg.fatal) {\n                    status.abort();\n                }\n                else {\n                    status.dirty();\n                }\n            },\n            get path() {\n                return ctx.path;\n            },\n        };\n        checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);\n        if (effect.type === \"preprocess\") {\n            const processed = effect.transform(ctx.data, checkCtx);\n            if (ctx.common.async) {\n                return Promise.resolve(processed).then(async (processed) => {\n                    if (status.value === \"aborted\")\n                        return parseUtil_js_1.INVALID;\n                    const result = await this._def.schema._parseAsync({\n                        data: processed,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                    if (result.status === \"aborted\")\n                        return parseUtil_js_1.INVALID;\n                    if (result.status === \"dirty\")\n                        return (0, parseUtil_js_1.DIRTY)(result.value);\n                    if (status.value === \"dirty\")\n                        return (0, parseUtil_js_1.DIRTY)(result.value);\n                    return result;\n                });\n            }\n            else {\n                if (status.value === \"aborted\")\n                    return parseUtil_js_1.INVALID;\n                const result = this._def.schema._parseSync({\n                    data: processed,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (result.status === \"aborted\")\n                    return parseUtil_js_1.INVALID;\n                if (result.status === \"dirty\")\n                    return (0, parseUtil_js_1.DIRTY)(result.value);\n                if (status.value === \"dirty\")\n                    return (0, parseUtil_js_1.DIRTY)(result.value);\n                return result;\n            }\n        }\n        if (effect.type === \"refinement\") {\n            const executeRefinement = (acc) => {\n                const result = effect.refinement(acc, checkCtx);\n                if (ctx.common.async) {\n                    return Promise.resolve(result);\n                }\n                if (result instanceof Promise) {\n                    throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n                }\n                return acc;\n            };\n            if (ctx.common.async === false) {\n                const inner = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inner.status === \"aborted\")\n                    return parseUtil_js_1.INVALID;\n                if (inner.status === \"dirty\")\n                    status.dirty();\n                // return value is ignored\n                executeRefinement(inner.value);\n                return { status: status.value, value: inner.value };\n            }\n            else {\n                return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((inner) => {\n                    if (inner.status === \"aborted\")\n                        return parseUtil_js_1.INVALID;\n                    if (inner.status === \"dirty\")\n                        status.dirty();\n                    return executeRefinement(inner.value).then(() => {\n                        return { status: status.value, value: inner.value };\n                    });\n                });\n            }\n        }\n        if (effect.type === \"transform\") {\n            if (ctx.common.async === false) {\n                const base = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (!(0, parseUtil_js_1.isValid)(base))\n                    return parseUtil_js_1.INVALID;\n                const result = effect.transform(base.value, checkCtx);\n                if (result instanceof Promise) {\n                    throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);\n                }\n                return { status: status.value, value: result };\n            }\n            else {\n                return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((base) => {\n                    if (!(0, parseUtil_js_1.isValid)(base))\n                        return parseUtil_js_1.INVALID;\n                    return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({\n                        status: status.value,\n                        value: result,\n                    }));\n                });\n            }\n        }\n        util_js_1.util.assertNever(effect);\n    }\n}\nexports.ZodEffects = ZodEffects;\nexports.ZodTransformer = ZodEffects;\nZodEffects.create = (schema, effect, params) => {\n    return new ZodEffects({\n        schema,\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        effect,\n        ...processCreateParams(params),\n    });\n};\nZodEffects.createWithPreprocess = (preprocess, schema, params) => {\n    return new ZodEffects({\n        schema,\n        effect: { type: \"preprocess\", transform: preprocess },\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        ...processCreateParams(params),\n    });\n};\nclass ZodOptional extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === util_js_1.ZodParsedType.undefined) {\n            return (0, parseUtil_js_1.OK)(undefined);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nexports.ZodOptional = ZodOptional;\nZodOptional.create = (type, params) => {\n    return new ZodOptional({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodOptional,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNullable extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === util_js_1.ZodParsedType.null) {\n            return (0, parseUtil_js_1.OK)(null);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nexports.ZodNullable = ZodNullable;\nZodNullable.create = (type, params) => {\n    return new ZodNullable({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodNullable,\n        ...processCreateParams(params),\n    });\n};\nclass ZodDefault extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        let data = ctx.data;\n        if (ctx.parsedType === util_js_1.ZodParsedType.undefined) {\n            data = this._def.defaultValue();\n        }\n        return this._def.innerType._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    removeDefault() {\n        return this._def.innerType;\n    }\n}\nexports.ZodDefault = ZodDefault;\nZodDefault.create = (type, params) => {\n    return new ZodDefault({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodDefault,\n        defaultValue: typeof params.default === \"function\" ? params.default : () => params.default,\n        ...processCreateParams(params),\n    });\n};\nclass ZodCatch extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        // newCtx is used to not collect issues from inner types in ctx\n        const newCtx = {\n            ...ctx,\n            common: {\n                ...ctx.common,\n                issues: [],\n            },\n        };\n        const result = this._def.innerType._parse({\n            data: newCtx.data,\n            path: newCtx.path,\n            parent: {\n                ...newCtx,\n            },\n        });\n        if ((0, parseUtil_js_1.isAsync)(result)) {\n            return result.then((result) => {\n                return {\n                    status: \"valid\",\n                    value: result.status === \"valid\"\n                        ? result.value\n                        : this._def.catchValue({\n                            get error() {\n                                return new ZodError_js_1.ZodError(newCtx.common.issues);\n                            },\n                            input: newCtx.data,\n                        }),\n                };\n            });\n        }\n        else {\n            return {\n                status: \"valid\",\n                value: result.status === \"valid\"\n                    ? result.value\n                    : this._def.catchValue({\n                        get error() {\n                            return new ZodError_js_1.ZodError(newCtx.common.issues);\n                        },\n                        input: newCtx.data,\n                    }),\n            };\n        }\n    }\n    removeCatch() {\n        return this._def.innerType;\n    }\n}\nexports.ZodCatch = ZodCatch;\nZodCatch.create = (type, params) => {\n    return new ZodCatch({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodCatch,\n        catchValue: typeof params.catch === \"function\" ? params.catch : () => params.catch,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNaN extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== util_js_1.ZodParsedType.nan) {\n            const ctx = this._getOrReturnCtx(input);\n            (0, parseUtil_js_1.addIssueToContext)(ctx, {\n                code: ZodError_js_1.ZodIssueCode.invalid_type,\n                expected: util_js_1.ZodParsedType.nan,\n                received: ctx.parsedType,\n            });\n            return parseUtil_js_1.INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n}\nexports.ZodNaN = ZodNaN;\nZodNaN.create = (params) => {\n    return new ZodNaN({\n        typeName: ZodFirstPartyTypeKind.ZodNaN,\n        ...processCreateParams(params),\n    });\n};\nexports.BRAND = Symbol(\"zod_brand\");\nclass ZodBranded extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const data = ctx.data;\n        return this._def.type._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    unwrap() {\n        return this._def.type;\n    }\n}\nexports.ZodBranded = ZodBranded;\nclass ZodPipeline extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.common.async) {\n            const handleAsync = async () => {\n                const inResult = await this._def.in._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inResult.status === \"aborted\")\n                    return parseUtil_js_1.INVALID;\n                if (inResult.status === \"dirty\") {\n                    status.dirty();\n                    return (0, parseUtil_js_1.DIRTY)(inResult.value);\n                }\n                else {\n                    return this._def.out._parseAsync({\n                        data: inResult.value,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                }\n            };\n            return handleAsync();\n        }\n        else {\n            const inResult = this._def.in._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n            if (inResult.status === \"aborted\")\n                return parseUtil_js_1.INVALID;\n            if (inResult.status === \"dirty\") {\n                status.dirty();\n                return {\n                    status: \"dirty\",\n                    value: inResult.value,\n                };\n            }\n            else {\n                return this._def.out._parseSync({\n                    data: inResult.value,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n            }\n        }\n    }\n    static create(a, b) {\n        return new ZodPipeline({\n            in: a,\n            out: b,\n            typeName: ZodFirstPartyTypeKind.ZodPipeline,\n        });\n    }\n}\nexports.ZodPipeline = ZodPipeline;\nclass ZodReadonly extends ZodType {\n    _parse(input) {\n        const result = this._def.innerType._parse(input);\n        const freeze = (data) => {\n            if ((0, parseUtil_js_1.isValid)(data)) {\n                data.value = Object.freeze(data.value);\n            }\n            return data;\n        };\n        return (0, parseUtil_js_1.isAsync)(result) ? result.then((data) => freeze(data)) : freeze(result);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nexports.ZodReadonly = ZodReadonly;\nZodReadonly.create = (type, params) => {\n    return new ZodReadonly({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodReadonly,\n        ...processCreateParams(params),\n    });\n};\n////////////////////////////////////////\n////////////////////////////////////////\n//////////                    //////////\n//////////      z.custom      //////////\n//////////                    //////////\n////////////////////////////////////////\n////////////////////////////////////////\nfunction cleanParams(params, data) {\n    const p = typeof params === \"function\" ? params(data) : typeof params === \"string\" ? { message: params } : params;\n    const p2 = typeof p === \"string\" ? { message: p } : p;\n    return p2;\n}\nfunction custom(check, _params = {}, \n/**\n * @deprecated\n *\n * Pass `fatal` into the params object instead:\n *\n * ```ts\n * z.string().custom((val) => val.length > 5, { fatal: false })\n * ```\n *\n */\nfatal) {\n    if (check)\n        return ZodAny.create().superRefine((data, ctx) => {\n            const r = check(data);\n            if (r instanceof Promise) {\n                return r.then((r) => {\n                    if (!r) {\n                        const params = cleanParams(_params, data);\n                        const _fatal = params.fatal ?? fatal ?? true;\n                        ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n                    }\n                });\n            }\n            if (!r) {\n                const params = cleanParams(_params, data);\n                const _fatal = params.fatal ?? fatal ?? true;\n                ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n            }\n            return;\n        });\n    return ZodAny.create();\n}\nexports.late = {\n    object: ZodObject.lazycreate,\n};\nvar ZodFirstPartyTypeKind;\n(function (ZodFirstPartyTypeKind) {\n    ZodFirstPartyTypeKind[\"ZodString\"] = \"ZodString\";\n    ZodFirstPartyTypeKind[\"ZodNumber\"] = \"ZodNumber\";\n    ZodFirstPartyTypeKind[\"ZodNaN\"] = \"ZodNaN\";\n    ZodFirstPartyTypeKind[\"ZodBigInt\"] = \"ZodBigInt\";\n    ZodFirstPartyTypeKind[\"ZodBoolean\"] = \"ZodBoolean\";\n    ZodFirstPartyTypeKind[\"ZodDate\"] = \"ZodDate\";\n    ZodFirstPartyTypeKind[\"ZodSymbol\"] = \"ZodSymbol\";\n    ZodFirstPartyTypeKind[\"ZodUndefined\"] = \"ZodUndefined\";\n    ZodFirstPartyTypeKind[\"ZodNull\"] = \"ZodNull\";\n    ZodFirstPartyTypeKind[\"ZodAny\"] = \"ZodAny\";\n    ZodFirstPartyTypeKind[\"ZodUnknown\"] = \"ZodUnknown\";\n    ZodFirstPartyTypeKind[\"ZodNever\"] = \"ZodNever\";\n    ZodFirstPartyTypeKind[\"ZodVoid\"] = \"ZodVoid\";\n    ZodFirstPartyTypeKind[\"ZodArray\"] = \"ZodArray\";\n    ZodFirstPartyTypeKind[\"ZodObject\"] = \"ZodObject\";\n    ZodFirstPartyTypeKind[\"ZodUnion\"] = \"ZodUnion\";\n    ZodFirstPartyTypeKind[\"ZodDiscriminatedUnion\"] = \"ZodDiscriminatedUnion\";\n    ZodFirstPartyTypeKind[\"ZodIntersection\"] = \"ZodIntersection\";\n    ZodFirstPartyTypeKind[\"ZodTuple\"] = \"ZodTuple\";\n    ZodFirstPartyTypeKind[\"ZodRecord\"] = \"ZodRecord\";\n    ZodFirstPartyTypeKind[\"ZodMap\"] = \"ZodMap\";\n    ZodFirstPartyTypeKind[\"ZodSet\"] = \"ZodSet\";\n    ZodFirstPartyTypeKind[\"ZodFunction\"] = \"ZodFunction\";\n    ZodFirstPartyTypeKind[\"ZodLazy\"] = \"ZodLazy\";\n    ZodFirstPartyTypeKind[\"ZodLiteral\"] = \"ZodLiteral\";\n    ZodFirstPartyTypeKind[\"ZodEnum\"] = \"ZodEnum\";\n    ZodFirstPartyTypeKind[\"ZodEffects\"] = \"ZodEffects\";\n    ZodFirstPartyTypeKind[\"ZodNativeEnum\"] = \"ZodNativeEnum\";\n    ZodFirstPartyTypeKind[\"ZodOptional\"] = \"ZodOptional\";\n    ZodFirstPartyTypeKind[\"ZodNullable\"] = \"ZodNullable\";\n    ZodFirstPartyTypeKind[\"ZodDefault\"] = \"ZodDefault\";\n    ZodFirstPartyTypeKind[\"ZodCatch\"] = \"ZodCatch\";\n    ZodFirstPartyTypeKind[\"ZodPromise\"] = \"ZodPromise\";\n    ZodFirstPartyTypeKind[\"ZodBranded\"] = \"ZodBranded\";\n    ZodFirstPartyTypeKind[\"ZodPipeline\"] = \"ZodPipeline\";\n    ZodFirstPartyTypeKind[\"ZodReadonly\"] = \"ZodReadonly\";\n})(ZodFirstPartyTypeKind || (exports.ZodFirstPartyTypeKind = ZodFirstPartyTypeKind = {}));\n// requires TS 4.4+\nclass Class {\n    constructor(..._) { }\n}\nconst instanceOfType = (\n// const instanceOfType = <T extends new (...args: any[]) => any>(\ncls, params = {\n    message: `Input not instance of ${cls.name}`,\n}) => custom((data) => data instanceof cls, params);\nexports[\"instanceof\"] = instanceOfType;\nconst stringType = ZodString.create;\nexports.string = stringType;\nconst numberType = ZodNumber.create;\nexports.number = numberType;\nconst nanType = ZodNaN.create;\nexports.nan = nanType;\nconst bigIntType = ZodBigInt.create;\nexports.bigint = bigIntType;\nconst booleanType = ZodBoolean.create;\nexports.boolean = booleanType;\nconst dateType = ZodDate.create;\nexports.date = dateType;\nconst symbolType = ZodSymbol.create;\nexports.symbol = symbolType;\nconst undefinedType = ZodUndefined.create;\nexports.undefined = undefinedType;\nconst nullType = ZodNull.create;\nexports[\"null\"] = nullType;\nconst anyType = ZodAny.create;\nexports.any = anyType;\nconst unknownType = ZodUnknown.create;\nexports.unknown = unknownType;\nconst neverType = ZodNever.create;\nexports.never = neverType;\nconst voidType = ZodVoid.create;\nexports[\"void\"] = voidType;\nconst arrayType = ZodArray.create;\nexports.array = arrayType;\nconst objectType = ZodObject.create;\nexports.object = objectType;\nconst strictObjectType = ZodObject.strictCreate;\nexports.strictObject = strictObjectType;\nconst unionType = ZodUnion.create;\nexports.union = unionType;\nconst discriminatedUnionType = ZodDiscriminatedUnion.create;\nexports.discriminatedUnion = discriminatedUnionType;\nconst intersectionType = ZodIntersection.create;\nexports.intersection = intersectionType;\nconst tupleType = ZodTuple.create;\nexports.tuple = tupleType;\nconst recordType = ZodRecord.create;\nexports.record = recordType;\nconst mapType = ZodMap.create;\nexports.map = mapType;\nconst setType = ZodSet.create;\nexports.set = setType;\nconst functionType = ZodFunction.create;\nexports[\"function\"] = functionType;\nconst lazyType = ZodLazy.create;\nexports.lazy = lazyType;\nconst literalType = ZodLiteral.create;\nexports.literal = literalType;\nconst enumType = ZodEnum.create;\nexports[\"enum\"] = enumType;\nconst nativeEnumType = ZodNativeEnum.create;\nexports.nativeEnum = nativeEnumType;\nconst promiseType = ZodPromise.create;\nexports.promise = promiseType;\nconst effectsType = ZodEffects.create;\nexports.effect = effectsType;\nexports.transformer = effectsType;\nconst optionalType = ZodOptional.create;\nexports.optional = optionalType;\nconst nullableType = ZodNullable.create;\nexports.nullable = nullableType;\nconst preprocessType = ZodEffects.createWithPreprocess;\nexports.preprocess = preprocessType;\nconst pipelineType = ZodPipeline.create;\nexports.pipeline = pipelineType;\nconst ostring = () => stringType().optional();\nexports.ostring = ostring;\nconst onumber = () => numberType().optional();\nexports.onumber = onumber;\nconst oboolean = () => booleanType().optional();\nexports.oboolean = oboolean;\nexports.coerce = {\n    string: ((arg) => ZodString.create({ ...arg, coerce: true })),\n    number: ((arg) => ZodNumber.create({ ...arg, coerce: true })),\n    boolean: ((arg) => ZodBoolean.create({\n        ...arg,\n        coerce: true,\n    })),\n    bigint: ((arg) => ZodBigInt.create({ ...arg, coerce: true })),\n    date: ((arg) => ZodDate.create({ ...arg, coerce: true })),\n};\nexports.NEVER = parseUtil_js_1.INVALID;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsaURBQWlEO0FBQ3ZGO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MseUJBQXlCO0FBQy9EO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsdUJBQXVCO0FBQzdEO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxnQ0FBZ0MsOERBQThEO0FBQzlGO0FBQ0E7QUFDQSxnQ0FBZ0MsNERBQTREO0FBQzVGO0FBQ0E7QUFDQSxnQ0FBZ0MsOERBQThEO0FBQzlGO0FBQ0E7QUFDQSxnQ0FBZ0MsNkRBQTZEO0FBQzdGO0FBQ0E7QUFDQSxnQ0FBZ0MsK0RBQStEO0FBQy9GO0FBQ0E7QUFDQSxnQ0FBZ0MsNkRBQTZEO0FBQzdGO0FBQ0E7QUFDQSxnQ0FBZ0MsOERBQThEO0FBQzlGO0FBQ0E7QUFDQSxnQ0FBZ0MsNkRBQTZEO0FBQzdGO0FBQ0E7QUFDQSxnQ0FBZ0MsK0RBQStEO0FBQy9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZ0NBQWdDLDREQUE0RDtBQUM1RjtBQUNBO0FBQ0EsZ0NBQWdDLDJEQUEyRDtBQUMzRjtBQUNBO0FBQ0EsZ0NBQWdDLDZEQUE2RDtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGdDQUFnQyx1QkFBdUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZ0NBQWdDLGlFQUFpRTtBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxjQUFjO0FBQzFELFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxxQkFBcUI7QUFDakUsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLHFCQUFxQjtBQUNqRSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7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Q0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxvQkFBb0I7QUFDcEIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixlQUFlO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixNQUFNO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Es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QUNBLGVBQWU7QUFDZjtBQUNBLFlBQVk7QUFDWjtBQUNBLGNBQWM7QUFDZDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGVBQVk7QUFDWjtBQUNBLFdBQVc7QUFDWDtBQUNBLGVBQWU7QUFDZjtBQUNBLGFBQWE7QUFDYjtBQUNBLGVBQVk7QUFDWjtBQUNBLGFBQWE7QUFDYjtBQUNBLGNBQWM7QUFDZDtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBLGFBQWE7QUFDYjtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBLGFBQWE7QUFDYjtBQUNBLGNBQWM7QUFDZDtBQUNBLFdBQVc7QUFDWDtBQUNBLFdBQVc7QUFDWDtBQUNBLG1CQUFnQjtBQUNoQjtBQUNBLFlBQVk7QUFDWjtBQUNBLGVBQWU7QUFDZjtBQUNBLGVBQVk7QUFDWjtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBLGVBQWU7QUFDZjtBQUNBLGNBQWM7QUFDZCxtQkFBbUI7QUFDbkI7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxlQUFlO0FBQ2Y7QUFDQSxlQUFlO0FBQ2Y7QUFDQSxnQkFBZ0I7QUFDaEIsY0FBYztBQUNkLHlDQUF5QyxzQkFBc0I7QUFDL0QseUNBQXlDLHNCQUFzQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wseUNBQXlDLHNCQUFzQjtBQUMvRCxxQ0FBcUMsc0JBQXNCO0FBQzNEO0FBQ0EsYUFBYSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvem9kL3YzL3R5cGVzLmNqcz8yOWY2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kaXNjcmltaW5hdGVkVW5pb24gPSBleHBvcnRzLmRhdGUgPSBleHBvcnRzLmJvb2xlYW4gPSBleHBvcnRzLmJpZ2ludCA9IGV4cG9ydHMuYXJyYXkgPSBleHBvcnRzLmFueSA9IGV4cG9ydHMuY29lcmNlID0gZXhwb3J0cy5ab2RGaXJzdFBhcnR5VHlwZUtpbmQgPSBleHBvcnRzLmxhdGUgPSBleHBvcnRzLlpvZFNjaGVtYSA9IGV4cG9ydHMuU2NoZW1hID0gZXhwb3J0cy5ab2RSZWFkb25seSA9IGV4cG9ydHMuWm9kUGlwZWxpbmUgPSBleHBvcnRzLlpvZEJyYW5kZWQgPSBleHBvcnRzLkJSQU5EID0gZXhwb3J0cy5ab2ROYU4gPSBleHBvcnRzLlpvZENhdGNoID0gZXhwb3J0cy5ab2REZWZhdWx0ID0gZXhwb3J0cy5ab2ROdWxsYWJsZSA9IGV4cG9ydHMuWm9kT3B0aW9uYWwgPSBleHBvcnRzLlpvZFRyYW5zZm9ybWVyID0gZXhwb3J0cy5ab2RFZmZlY3RzID0gZXhwb3J0cy5ab2RQcm9taXNlID0gZXhwb3J0cy5ab2ROYXRpdmVFbnVtID0gZXhwb3J0cy5ab2RFbnVtID0gZXhwb3J0cy5ab2RMaXRlcmFsID0gZXhwb3J0cy5ab2RMYXp5ID0gZXhwb3J0cy5ab2RGdW5jdGlvbiA9IGV4cG9ydHMuWm9kU2V0ID0gZXhwb3J0cy5ab2RNYXAgPSBleHBvcnRzLlpvZFJlY29yZCA9IGV4cG9ydHMuWm9kVHVwbGUgPSBleHBvcnRzLlpvZEludGVyc2VjdGlvbiA9IGV4cG9ydHMuWm9kRGlzY3JpbWluYXRlZFVuaW9uID0gZXhwb3J0cy5ab2RVbmlvbiA9IGV4cG9ydHMuWm9kT2JqZWN0ID0gZXhwb3J0cy5ab2RBcnJheSA9IGV4cG9ydHMuWm9kVm9pZCA9IGV4cG9ydHMuWm9kTmV2ZXIgPSBleHBvcnRzLlpvZFVua25vd24gPSBleHBvcnRzLlpvZEFueSA9IGV4cG9ydHMuWm9kTnVsbCA9IGV4cG9ydHMuWm9kVW5kZWZpbmVkID0gZXhwb3J0cy5ab2RTeW1ib2wgPSBleHBvcnRzLlpvZERhdGUgPSBleHBvcnRzLlpvZEJvb2xlYW4gPSBleHBvcnRzLlpvZEJpZ0ludCA9IGV4cG9ydHMuWm9kTnVtYmVyID0gZXhwb3J0cy5ab2RTdHJpbmcgPSBleHBvcnRzLlpvZFR5cGUgPSB2b2lkIDA7XG5leHBvcnRzLk5FVkVSID0gZXhwb3J0cy52b2lkID0gZXhwb3J0cy51bmtub3duID0gZXhwb3J0cy51bmlvbiA9IGV4cG9ydHMudW5kZWZpbmVkID0gZXhwb3J0cy50dXBsZSA9IGV4cG9ydHMudHJhbnNmb3JtZXIgPSBleHBvcnRzLnN5bWJvbCA9IGV4cG9ydHMuc3RyaW5nID0gZXhwb3J0cy5zdHJpY3RPYmplY3QgPSBleHBvcnRzLnNldCA9IGV4cG9ydHMucmVjb3JkID0gZXhwb3J0cy5wcm9taXNlID0gZXhwb3J0cy5wcmVwcm9jZXNzID0gZXhwb3J0cy5waXBlbGluZSA9IGV4cG9ydHMub3N0cmluZyA9IGV4cG9ydHMub3B0aW9uYWwgPSBleHBvcnRzLm9udW1iZXIgPSBleHBvcnRzLm9ib29sZWFuID0gZXhwb3J0cy5vYmplY3QgPSBleHBvcnRzLm51bWJlciA9IGV4cG9ydHMubnVsbGFibGUgPSBleHBvcnRzLm51bGwgPSBleHBvcnRzLm5ldmVyID0gZXhwb3J0cy5uYXRpdmVFbnVtID0gZXhwb3J0cy5uYW4gPSBleHBvcnRzLm1hcCA9IGV4cG9ydHMubGl0ZXJhbCA9IGV4cG9ydHMubGF6eSA9IGV4cG9ydHMuaW50ZXJzZWN0aW9uID0gZXhwb3J0cy5pbnN0YW5jZW9mID0gZXhwb3J0cy5mdW5jdGlvbiA9IGV4cG9ydHMuZW51bSA9IGV4cG9ydHMuZWZmZWN0ID0gdm9pZCAwO1xuZXhwb3J0cy5kYXRldGltZVJlZ2V4ID0gZGF0ZXRpbWVSZWdleDtcbmV4cG9ydHMuY3VzdG9tID0gY3VzdG9tO1xuY29uc3QgWm9kRXJyb3JfanNfMSA9IHJlcXVpcmUoXCIuL1pvZEVycm9yLmNqc1wiKTtcbmNvbnN0IGVycm9yc19qc18xID0gcmVxdWlyZShcIi4vZXJyb3JzLmNqc1wiKTtcbmNvbnN0IGVycm9yVXRpbF9qc18xID0gcmVxdWlyZShcIi4vaGVscGVycy9lcnJvclV0aWwuY2pzXCIpO1xuY29uc3QgcGFyc2VVdGlsX2pzXzEgPSByZXF1aXJlKFwiLi9oZWxwZXJzL3BhcnNlVXRpbC5janNcIik7XG5jb25zdCB1dGlsX2pzXzEgPSByZXF1aXJlKFwiLi9oZWxwZXJzL3V0aWwuY2pzXCIpO1xuY2xhc3MgUGFyc2VJbnB1dExhenlQYXRoIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIHZhbHVlLCBwYXRoLCBrZXkpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkUGF0aCA9IFtdO1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5kYXRhID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3BhdGggPSBwYXRoO1xuICAgICAgICB0aGlzLl9rZXkgPSBrZXk7XG4gICAgfVxuICAgIGdldCBwYXRoKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlZFBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLl9rZXkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVkUGF0aC5wdXNoKC4uLnRoaXMuX3BhdGgsIC4uLnRoaXMuX2tleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZWRQYXRoLnB1c2goLi4udGhpcy5fcGF0aCwgdGhpcy5fa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkUGF0aDtcbiAgICB9XG59XG5jb25zdCBoYW5kbGVSZXN1bHQgPSAoY3R4LCByZXN1bHQpID0+IHtcbiAgICBpZiAoKDAsIHBhcnNlVXRpbF9qc18xLmlzVmFsaWQpKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzdWx0LnZhbHVlIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoIWN0eC5jb21tb24uaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmFsaWRhdGlvbiBmYWlsZWQgYnV0IG5vIGlzc3VlcyBkZXRlY3RlZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9lcnJvcilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yX2pzXzEuWm9kRXJyb3IoY3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gZXJyb3I7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59O1xuZnVuY3Rpb24gcHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpIHtcbiAgICBpZiAoIXBhcmFtcylcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIGNvbnN0IHsgZXJyb3JNYXAsIGludmFsaWRfdHlwZV9lcnJvciwgcmVxdWlyZWRfZXJyb3IsIGRlc2NyaXB0aW9uIH0gPSBwYXJhbXM7XG4gICAgaWYgKGVycm9yTWFwICYmIChpbnZhbGlkX3R5cGVfZXJyb3IgfHwgcmVxdWlyZWRfZXJyb3IpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FuJ3QgdXNlIFwiaW52YWxpZF90eXBlX2Vycm9yXCIgb3IgXCJyZXF1aXJlZF9lcnJvclwiIGluIGNvbmp1bmN0aW9uIHdpdGggY3VzdG9tIGVycm9yIG1hcC5gKTtcbiAgICB9XG4gICAgaWYgKGVycm9yTWFwKVxuICAgICAgICByZXR1cm4geyBlcnJvck1hcDogZXJyb3JNYXAsIGRlc2NyaXB0aW9uIH07XG4gICAgY29uc3QgY3VzdG9tTWFwID0gKGlzcywgY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gcGFyYW1zO1xuICAgICAgICBpZiAoaXNzLmNvZGUgPT09IFwiaW52YWxpZF9lbnVtX3ZhbHVlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IG1lc3NhZ2UgPz8gY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY3R4LmRhdGEgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IG1lc3NhZ2UgPz8gcmVxdWlyZWRfZXJyb3IgPz8gY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc3MuY29kZSAhPT0gXCJpbnZhbGlkX3R5cGVcIilcbiAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgcmV0dXJuIHsgbWVzc2FnZTogbWVzc2FnZSA/PyBpbnZhbGlkX3R5cGVfZXJyb3IgPz8gY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgIH07XG4gICAgcmV0dXJuIHsgZXJyb3JNYXA6IGN1c3RvbU1hcCwgZGVzY3JpcHRpb24gfTtcbn1cbmNsYXNzIFpvZFR5cGUge1xuICAgIGdldCBkZXNjcmlwdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5kZXNjcmlwdGlvbjtcbiAgICB9XG4gICAgX2dldFR5cGUoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuICgwLCB1dGlsX2pzXzEuZ2V0UGFyc2VkVHlwZSkoaW5wdXQuZGF0YSk7XG4gICAgfVxuICAgIF9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KSB7XG4gICAgICAgIHJldHVybiAoY3R4IHx8IHtcbiAgICAgICAgICAgIGNvbW1vbjogaW5wdXQucGFyZW50LmNvbW1vbixcbiAgICAgICAgICAgIGRhdGE6IGlucHV0LmRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiAoMCwgdXRpbF9qc18xLmdldFBhcnNlZFR5cGUpKGlucHV0LmRhdGEpLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhdGg6IGlucHV0LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IGlucHV0LnBhcmVudCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogbmV3IHBhcnNlVXRpbF9qc18xLlBhcnNlU3RhdHVzKCksXG4gICAgICAgICAgICBjdHg6IHtcbiAgICAgICAgICAgICAgICBjb21tb246IGlucHV0LnBhcmVudC5jb21tb24sXG4gICAgICAgICAgICAgICAgZGF0YTogaW5wdXQuZGF0YSxcbiAgICAgICAgICAgICAgICBwYXJzZWRUeXBlOiAoMCwgdXRpbF9qc18xLmdldFBhcnNlZFR5cGUpKGlucHV0LmRhdGEpLFxuICAgICAgICAgICAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICAgICAgICAgICAgcGF0aDogaW5wdXQucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGlucHV0LnBhcmVudCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIF9wYXJzZVN5bmMoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2UoaW5wdXQpO1xuICAgICAgICBpZiAoKDAsIHBhcnNlVXRpbF9qc18xLmlzQXN5bmMpKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN5bmNocm9ub3VzIHBhcnNlIGVuY291bnRlcmVkIHByb21pc2UuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIF9wYXJzZUFzeW5jKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgIH1cbiAgICBwYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zYWZlUGFyc2UoZGF0YSwgcGFyYW1zKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xuICAgICAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gICAgfVxuICAgIHNhZmVQYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBhc3luYzogcGFyYW1zPy5hc3luYyA/PyBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcz8uZXJyb3JNYXAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0aDogcGFyYW1zPy5wYXRoIHx8IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiAoMCwgdXRpbF9qc18xLmdldFBhcnNlZFR5cGUpKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZVN5bmMoeyBkYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXN1bHQoY3R4LCByZXN1bHQpO1xuICAgIH1cbiAgICBcIn52YWxpZGF0ZVwiKGRhdGEpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBhc3luYzogISF0aGlzW1wifnN0YW5kYXJkXCJdLmFzeW5jLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhdGg6IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiAoMCwgdXRpbF9qc18xLmdldFBhcnNlZFR5cGUpKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoIXRoaXNbXCJ+c3RhbmRhcmRcIl0uYXN5bmMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2VTeW5jKHsgZGF0YSwgcGF0aDogW10sIHBhcmVudDogY3R4IH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsX2pzXzEuaXNWYWxpZCkocmVzdWx0KVxuICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IGN0eC5jb21tb24uaXNzdWVzLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChlcnI/Lm1lc3NhZ2U/LnRvTG93ZXJDYXNlKCk/LmluY2x1ZGVzKFwiZW5jb3VudGVyZWRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tcIn5zdGFuZGFyZFwiXS5hc3luYyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN0eC5jb21tb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jOiB0cnVlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnNlQXN5bmMoeyBkYXRhLCBwYXRoOiBbXSwgcGFyZW50OiBjdHggfSkudGhlbigocmVzdWx0KSA9PiAoMCwgcGFyc2VVdGlsX2pzXzEuaXNWYWxpZCkocmVzdWx0KVxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgIGlzc3VlczogY3R4LmNvbW1vbi5pc3N1ZXMsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgcGFyc2VBc3luYyhkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zYWZlUGFyc2VBc3luYyhkYXRhLCBwYXJhbXMpO1xuICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gICAgICAgIHRocm93IHJlc3VsdC5lcnJvcjtcbiAgICB9XG4gICAgYXN5bmMgc2FmZVBhcnNlQXN5bmMoZGF0YSwgcGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHtcbiAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgY29udGV4dHVhbEVycm9yTWFwOiBwYXJhbXM/LmVycm9yTWFwLFxuICAgICAgICAgICAgICAgIGFzeW5jOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhdGg6IHBhcmFtcz8ucGF0aCB8fCBbXSxcbiAgICAgICAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcGFyc2VkVHlwZTogKDAsIHV0aWxfanNfMS5nZXRQYXJzZWRUeXBlKShkYXRhKSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbWF5YmVBc3luY1Jlc3VsdCA9IHRoaXMuX3BhcnNlKHsgZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAoKDAsIHBhcnNlVXRpbF9qc18xLmlzQXN5bmMpKG1heWJlQXN5bmNSZXN1bHQpID8gbWF5YmVBc3luY1Jlc3VsdCA6IFByb21pc2UucmVzb2x2ZShtYXliZUFzeW5jUmVzdWx0KSk7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXN1bHQoY3R4LCByZXN1bHQpO1xuICAgIH1cbiAgICByZWZpbmUoY2hlY2ssIG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgZ2V0SXNzdWVQcm9wZXJ0aWVzID0gKHZhbCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBtZXNzYWdlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbWVzc2FnZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZmluZW1lbnQoKHZhbCwgY3R4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBjaGVjayh2YWwpO1xuICAgICAgICAgICAgY29uc3Qgc2V0RXJyb3IgPSAoKSA9PiBjdHguYWRkSXNzdWUoe1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmN1c3RvbSxcbiAgICAgICAgICAgICAgICAuLi5nZXRJc3N1ZVByb3BlcnRpZXModmFsKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBQcm9taXNlICE9PSBcInVuZGVmaW5lZFwiICYmIHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgc2V0RXJyb3IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlZmluZW1lbnQoY2hlY2ssIHJlZmluZW1lbnREYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZpbmVtZW50KCh2YWwsIGN0eCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFjaGVjayh2YWwpKSB7XG4gICAgICAgICAgICAgICAgY3R4LmFkZElzc3VlKHR5cGVvZiByZWZpbmVtZW50RGF0YSA9PT0gXCJmdW5jdGlvblwiID8gcmVmaW5lbWVudERhdGEodmFsLCBjdHgpIDogcmVmaW5lbWVudERhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3JlZmluZW1lbnQocmVmaW5lbWVudCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICAgICAgc2NoZW1hOiB0aGlzLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICAgICAgZWZmZWN0OiB7IHR5cGU6IFwicmVmaW5lbWVudFwiLCByZWZpbmVtZW50IH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdXBlclJlZmluZShyZWZpbmVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZpbmVtZW50KHJlZmluZW1lbnQpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihkZWYpIHtcbiAgICAgICAgLyoqIEFsaWFzIG9mIHNhZmVQYXJzZUFzeW5jICovXG4gICAgICAgIHRoaXMuc3BhID0gdGhpcy5zYWZlUGFyc2VBc3luYztcbiAgICAgICAgdGhpcy5fZGVmID0gZGVmO1xuICAgICAgICB0aGlzLnBhcnNlID0gdGhpcy5wYXJzZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNhZmVQYXJzZSA9IHRoaXMuc2FmZVBhcnNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucGFyc2VBc3luYyA9IHRoaXMucGFyc2VBc3luYy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNhZmVQYXJzZUFzeW5jID0gdGhpcy5zYWZlUGFyc2VBc3luYy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNwYSA9IHRoaXMuc3BhLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVmaW5lID0gdGhpcy5yZWZpbmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWZpbmVtZW50ID0gdGhpcy5yZWZpbmVtZW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc3VwZXJSZWZpbmUgPSB0aGlzLnN1cGVyUmVmaW5lLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub3B0aW9uYWwgPSB0aGlzLm9wdGlvbmFsLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubnVsbGFibGUgPSB0aGlzLm51bGxhYmxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubnVsbGlzaCA9IHRoaXMubnVsbGlzaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmFycmF5ID0gdGhpcy5hcnJheS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb21pc2UgPSB0aGlzLnByb21pc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vciA9IHRoaXMub3IuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hbmQgPSB0aGlzLmFuZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYnJhbmQgPSB0aGlzLmJyYW5kLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IHRoaXMuZGVmYXVsdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNhdGNoID0gdGhpcy5jYXRjaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRlc2NyaWJlID0gdGhpcy5kZXNjcmliZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnBpcGUgPSB0aGlzLnBpcGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWFkb25seSA9IHRoaXMucmVhZG9ubHkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5pc051bGxhYmxlID0gdGhpcy5pc051bGxhYmxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaXNPcHRpb25hbCA9IHRoaXMuaXNPcHRpb25hbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzW1wifnN0YW5kYXJkXCJdID0ge1xuICAgICAgICAgICAgdmVyc2lvbjogMSxcbiAgICAgICAgICAgIHZlbmRvcjogXCJ6b2RcIixcbiAgICAgICAgICAgIHZhbGlkYXRlOiAoZGF0YSkgPT4gdGhpc1tcIn52YWxpZGF0ZVwiXShkYXRhKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgb3B0aW9uYWwoKSB7XG4gICAgICAgIHJldHVybiBab2RPcHRpb25hbC5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgbnVsbGFibGUoKSB7XG4gICAgICAgIHJldHVybiBab2ROdWxsYWJsZS5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgbnVsbGlzaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubnVsbGFibGUoKS5vcHRpb25hbCgpO1xuICAgIH1cbiAgICBhcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIFpvZEFycmF5LmNyZWF0ZSh0aGlzKTtcbiAgICB9XG4gICAgcHJvbWlzZSgpIHtcbiAgICAgICAgcmV0dXJuIFpvZFByb21pc2UuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG9yKG9wdGlvbikge1xuICAgICAgICByZXR1cm4gWm9kVW5pb24uY3JlYXRlKFt0aGlzLCBvcHRpb25dLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBhbmQoaW5jb21pbmcpIHtcbiAgICAgICAgcmV0dXJuIFpvZEludGVyc2VjdGlvbi5jcmVhdGUodGhpcywgaW5jb21pbmcsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIHRyYW5zZm9ybSh0cmFuc2Zvcm0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgICAgIHNjaGVtYTogdGhpcyxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgICAgIGVmZmVjdDogeyB0eXBlOiBcInRyYW5zZm9ybVwiLCB0cmFuc2Zvcm0gfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlZmF1bHQoZGVmKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZUZ1bmMgPSB0eXBlb2YgZGVmID09PSBcImZ1bmN0aW9uXCIgPyBkZWYgOiAoKSA9PiBkZWY7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRGVmYXVsdCh7XG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgICAgICBpbm5lclR5cGU6IHRoaXMsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZUZ1bmMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERlZmF1bHQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBicmFuZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RCcmFuZGVkKHtcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQnJhbmRlZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMsXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaChkZWYpIHtcbiAgICAgICAgY29uc3QgY2F0Y2hWYWx1ZUZ1bmMgPSB0eXBlb2YgZGVmID09PSBcImZ1bmN0aW9uXCIgPyBkZWYgOiAoKSA9PiBkZWY7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQ2F0Y2goe1xuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICAgICAgaW5uZXJUeXBlOiB0aGlzLFxuICAgICAgICAgICAgY2F0Y2hWYWx1ZTogY2F0Y2hWYWx1ZUZ1bmMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZENhdGNoLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGVzY3JpYmUoZGVzY3JpcHRpb24pIHtcbiAgICAgICAgY29uc3QgVGhpcyA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIHJldHVybiBuZXcgVGhpcyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBpcGUodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBab2RQaXBlbGluZS5jcmVhdGUodGhpcywgdGFyZ2V0KTtcbiAgICB9XG4gICAgcmVhZG9ubHkoKSB7XG4gICAgICAgIHJldHVybiBab2RSZWFkb25seS5jcmVhdGUodGhpcyk7XG4gICAgfVxuICAgIGlzT3B0aW9uYWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNhZmVQYXJzZSh1bmRlZmluZWQpLnN1Y2Nlc3M7XG4gICAgfVxuICAgIGlzTnVsbGFibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNhZmVQYXJzZShudWxsKS5zdWNjZXNzO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kVHlwZSA9IFpvZFR5cGU7XG5leHBvcnRzLlNjaGVtYSA9IFpvZFR5cGU7XG5leHBvcnRzLlpvZFNjaGVtYSA9IFpvZFR5cGU7XG5jb25zdCBjdWlkUmVnZXggPSAvXmNbXlxccy1dezgsfSQvaTtcbmNvbnN0IGN1aWQyUmVnZXggPSAvXlswLTlhLXpdKyQvO1xuY29uc3QgdWxpZFJlZ2V4ID0gL15bMC05QS1ISktNTlAtVFYtWl17MjZ9JC9pO1xuLy8gY29uc3QgdXVpZFJlZ2V4ID1cbi8vICAgL14oW2EtZjAtOV17OH0tW2EtZjAtOV17NH0tWzEtNV1bYS1mMC05XXszfS1bYS1mMC05XXs0fS1bYS1mMC05XXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTtcbmNvbnN0IHV1aWRSZWdleCA9IC9eWzAtOWEtZkEtRl17OH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17MTJ9JC9pO1xuY29uc3QgbmFub2lkUmVnZXggPSAvXlthLXowLTlfLV17MjF9JC9pO1xuY29uc3Qgand0UmVnZXggPSAvXltBLVphLXowLTktX10rXFwuW0EtWmEtejAtOS1fXStcXC5bQS1aYS16MC05LV9dKiQvO1xuY29uc3QgZHVyYXRpb25SZWdleCA9IC9eWy0rXT9QKD8hJCkoPzooPzpbLStdP1xcZCtZKXwoPzpbLStdP1xcZCtbLixdXFxkK1kkKSk/KD86KD86Wy0rXT9cXGQrTSl8KD86Wy0rXT9cXGQrWy4sXVxcZCtNJCkpPyg/Oig/OlstK10/XFxkK1cpfCg/OlstK10/XFxkK1suLF1cXGQrVyQpKT8oPzooPzpbLStdP1xcZCtEKXwoPzpbLStdP1xcZCtbLixdXFxkK0QkKSk/KD86VCg/PVtcXGQrLV0pKD86KD86Wy0rXT9cXGQrSCl8KD86Wy0rXT9cXGQrWy4sXVxcZCtIJCkpPyg/Oig/OlstK10/XFxkK00pfCg/OlstK10/XFxkK1suLF1cXGQrTSQpKT8oPzpbLStdP1xcZCsoPzpbLixdXFxkKyk/Uyk/KT8/JC87XG4vLyBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80NjE4MS8xNTUwMTU1XG4vLyBvbGQgdmVyc2lvbjogdG9vIHNsb3csIGRpZG4ndCBzdXBwb3J0IHVuaWNvZGVcbi8vIGNvbnN0IGVtYWlsUmVnZXggPSAvXigoKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSsoXFwuKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSspKil8KChcXHgyMikoKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPygoW1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4N2ZdfFxceDIxfFtcXHgyMy1cXHg1Yl18W1xceDVkLVxceDdlXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KFxcXFwoW1xceDAxLVxceDA5XFx4MGJcXHgwY1xceDBkLVxceDdmXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKSkqKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPyhcXHgyMikpKUAoKChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpXFwuKSsoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSkkL2k7XG4vL29sZCBlbWFpbCByZWdleFxuLy8gY29uc3QgZW1haWxSZWdleCA9IC9eKChbXjw+KClbXFxdLiw7Olxcc0BcIl0rKFxcLltePD4oKVtcXF0uLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoPyEtKShbXjw+KClbXFxdLiw7Olxcc0BcIl0rXFwuKStbXjw+KClbXFxdLiw7Olxcc0BcIl17MSx9KVteLTw+KClbXFxdLiw7Olxcc0BcIl0kL2k7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKSopfChcXFwiLitcXFwiKSlAKChcXFsoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXF0pfChcXFtJUHY2OigoW2EtZjAtOV17MSw0fTopezd9fDo6KFthLWYwLTldezEsNH06KXswLDZ9fChbYS1mMC05XXsxLDR9Oil7MX06KFthLWYwLTldezEsNH06KXswLDV9fChbYS1mMC05XXsxLDR9Oil7Mn06KFthLWYwLTldezEsNH06KXswLDR9fChbYS1mMC05XXsxLDR9Oil7M306KFthLWYwLTldezEsNH06KXswLDN9fChbYS1mMC05XXsxLDR9Oil7NH06KFthLWYwLTldezEsNH06KXswLDJ9fChbYS1mMC05XXsxLDR9Oil7NX06KFthLWYwLTldezEsNH06KXswLDF9KShbYS1mMC05XXsxLDR9fCgoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKSlcXF0pfChbQS1aYS16MC05XShbQS1aYS16MC05LV0qW0EtWmEtejAtOV0pKihcXC5bQS1aYS16XXsyLH0pKykpJC87XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID1cbi8vICAgL15bYS16QS1aMC05XFwuXFwhXFwjXFwkXFwlXFwmXFwnXFwqXFwrXFwvXFw9XFw/XFxeXFxfXFxgXFx7XFx8XFx9XFx+XFwtXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSokLztcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXig/OlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSsoPzpcXC5bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKSp8XCIoPzpbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHgyMVxceDIzLVxceDViXFx4NWQtXFx4N2ZdfFxcXFxbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGUtXFx4N2ZdKSpcIilAKD86KD86W2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP1xcLikrW2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP3xcXFsoPzooPzoyNVswLTVdfDJbMC00XVswLTldfFswMV0/WzAtOV1bMC05XT8pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldP3xbYS16MC05LV0qW2EtejAtOV06KD86W1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4MjEtXFx4NWFcXHg1My1cXHg3Zl18XFxcXFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZS1cXHg3Zl0pKylcXF0pJC9pO1xuY29uc3QgZW1haWxSZWdleCA9IC9eKD8hXFwuKSg/IS4qXFwuXFwuKShbQS1aMC05XycrXFwtXFwuXSopW0EtWjAtOV8rLV1AKFtBLVowLTldW0EtWjAtOVxcLV0qXFwuKStbQS1aXXsyLH0kL2k7XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID1cbi8vICAgL15bYS16MC05LiEjJCUm4oCZKisvPT9eX2B7fH1+LV0rQFthLXowLTktXSsoPzpcXC5bYS16MC05XFwtXSspKiQvaTtcbi8vIGZyb20gaHR0cHM6Ly90aGVrZXZpbnNjb3R0LmNvbS9lbW9qaXMtaW4tamF2YXNjcmlwdC8jd3JpdGluZy1hLXJlZ3VsYXItZXhwcmVzc2lvblxuY29uc3QgX2Vtb2ppUmVnZXggPSBgXihcXFxccHtFeHRlbmRlZF9QaWN0b2dyYXBoaWN9fFxcXFxwe0Vtb2ppX0NvbXBvbmVudH0pKyRgO1xubGV0IGVtb2ppUmVnZXg7XG4vLyBmYXN0ZXIsIHNpbXBsZXIsIHNhZmVyXG5jb25zdCBpcHY0UmVnZXggPSAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKSQvO1xuY29uc3QgaXB2NENpZHJSZWdleCA9IC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwvKDNbMC0yXXxbMTJdP1swLTldKSQvO1xuLy8gY29uc3QgaXB2NlJlZ2V4ID1cbi8vIC9eKChbYS1mMC05XXsxLDR9Oil7N318OjooW2EtZjAtOV17MSw0fTopezAsNn18KFthLWYwLTldezEsNH06KXsxfTooW2EtZjAtOV17MSw0fTopezAsNX18KFthLWYwLTldezEsNH06KXsyfTooW2EtZjAtOV17MSw0fTopezAsNH18KFthLWYwLTldezEsNH06KXszfTooW2EtZjAtOV17MSw0fTopezAsM318KFthLWYwLTldezEsNH06KXs0fTooW2EtZjAtOV17MSw0fTopezAsMn18KFthLWYwLTldezEsNH06KXs1fTooW2EtZjAtOV17MSw0fTopezAsMX0pKFthLWYwLTldezEsNH18KCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpKSQvO1xuY29uc3QgaXB2NlJlZ2V4ID0gL14oKFswLTlhLWZBLUZdezEsNH06KXs3LDd9WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsN306fChbMC05YS1mQS1GXXsxLDR9Oil7MSw2fTpbMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw1fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwyfXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH0oOlswLTlhLWZBLUZdezEsNH0pezEsM318KFswLTlhLWZBLUZdezEsNH06KXsxLDN9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwyfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw1fXxbMC05YS1mQS1GXXsxLDR9OigoOlswLTlhLWZBLUZdezEsNH0pezEsNn0pfDooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDd9fDopfGZlODA6KDpbMC05YS1mQS1GXXswLDR9KXswLDR9JVswLTlhLXpBLVpdezEsfXw6OihmZmZmKDowezEsNH0pezAsMX06KXswLDF9KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pfChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fTooKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSkpJC87XG5jb25zdCBpcHY2Q2lkclJlZ2V4ID0gL14oKFswLTlhLWZBLUZdezEsNH06KXs3LDd9WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsN306fChbMC05YS1mQS1GXXsxLDR9Oil7MSw2fTpbMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw1fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwyfXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH0oOlswLTlhLWZBLUZdezEsNH0pezEsM318KFswLTlhLWZBLUZdezEsNH06KXsxLDN9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwyfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw1fXxbMC05YS1mQS1GXXsxLDR9OigoOlswLTlhLWZBLUZdezEsNH0pezEsNn0pfDooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDd9fDopfGZlODA6KDpbMC05YS1mQS1GXXswLDR9KXswLDR9JVswLTlhLXpBLVpdezEsfXw6OihmZmZmKDowezEsNH0pezAsMX06KXswLDF9KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pfChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fTooKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSkpXFwvKDEyWzAtOF18MVswMV1bMC05XXxbMS05XT9bMC05XSkkLztcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NjAzOTIvZGV0ZXJtaW5lLWlmLXN0cmluZy1pcy1pbi1iYXNlNjQtdXNpbmctamF2YXNjcmlwdFxuY29uc3QgYmFzZTY0UmVnZXggPSAvXihbMC05YS16QS1aKy9dezR9KSooKFswLTlhLXpBLVorL117Mn09PSl8KFswLTlhLXpBLVorL117M309KSk/JC87XG4vLyBodHRwczovL2Jhc2U2NC5ndXJ1L3N0YW5kYXJkcy9iYXNlNjR1cmxcbmNvbnN0IGJhc2U2NHVybFJlZ2V4ID0gL14oWzAtOWEtekEtWi1fXXs0fSkqKChbMC05YS16QS1aLV9dezJ9KD09KT8pfChbMC05YS16QS1aLV9dezN9KD0pPykpPyQvO1xuLy8gc2ltcGxlXG4vLyBjb25zdCBkYXRlUmVnZXhTb3VyY2UgPSBgXFxcXGR7NH0tXFxcXGR7Mn0tXFxcXGR7Mn1gO1xuLy8gbm8gbGVhcCB5ZWFyIHZhbGlkYXRpb25cbi8vIGNvbnN0IGRhdGVSZWdleFNvdXJjZSA9IGBcXFxcZHs0fS0oKDBbMTM1NzhdfDEwfDEyKS0zMXwoMFsxMy05XXwxWzAtMl0pLTMwfCgwWzEtOV18MVswLTJdKS0oMFsxLTldfDFcXFxcZHwyXFxcXGQpKWA7XG4vLyB3aXRoIGxlYXAgeWVhciB2YWxpZGF0aW9uXG5jb25zdCBkYXRlUmVnZXhTb3VyY2UgPSBgKChcXFxcZFxcXFxkWzI0NjhdWzA0OF18XFxcXGRcXFxcZFsxMzU3OV1bMjZdfFxcXFxkXFxcXGQwWzQ4XXxbMDI0NjhdWzA0OF0wMHxbMTM1NzldWzI2XTAwKS0wMi0yOXxcXFxcZHs0fS0oKDBbMTM1NzhdfDFbMDJdKS0oMFsxLTldfFsxMl1cXFxcZHwzWzAxXSl8KDBbNDY5XXwxMSktKDBbMS05XXxbMTJdXFxcXGR8MzApfCgwMiktKDBbMS05XXwxXFxcXGR8MlswLThdKSkpYDtcbmNvbnN0IGRhdGVSZWdleCA9IG5ldyBSZWdFeHAoYF4ke2RhdGVSZWdleFNvdXJjZX0kYCk7XG5mdW5jdGlvbiB0aW1lUmVnZXhTb3VyY2UoYXJncykge1xuICAgIGxldCBzZWNvbmRzUmVnZXhTb3VyY2UgPSBgWzAtNV1cXFxcZGA7XG4gICAgaWYgKGFyZ3MucHJlY2lzaW9uKSB7XG4gICAgICAgIHNlY29uZHNSZWdleFNvdXJjZSA9IGAke3NlY29uZHNSZWdleFNvdXJjZX1cXFxcLlxcXFxkeyR7YXJncy5wcmVjaXNpb259fWA7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFyZ3MucHJlY2lzaW9uID09IG51bGwpIHtcbiAgICAgICAgc2Vjb25kc1JlZ2V4U291cmNlID0gYCR7c2Vjb25kc1JlZ2V4U291cmNlfShcXFxcLlxcXFxkKyk/YDtcbiAgICB9XG4gICAgY29uc3Qgc2Vjb25kc1F1YW50aWZpZXIgPSBhcmdzLnByZWNpc2lvbiA/IFwiK1wiIDogXCI/XCI7IC8vIHJlcXVpcmUgc2Vjb25kcyBpZiBwcmVjaXNpb24gaXMgbm9uemVyb1xuICAgIHJldHVybiBgKFswMV1cXFxcZHwyWzAtM10pOlswLTVdXFxcXGQoOiR7c2Vjb25kc1JlZ2V4U291cmNlfSkke3NlY29uZHNRdWFudGlmaWVyfWA7XG59XG5mdW5jdGlvbiB0aW1lUmVnZXgoYXJncykge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeJHt0aW1lUmVnZXhTb3VyY2UoYXJncyl9JGApO1xufVxuLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zMTQzMjMxXG5mdW5jdGlvbiBkYXRldGltZVJlZ2V4KGFyZ3MpIHtcbiAgICBsZXQgcmVnZXggPSBgJHtkYXRlUmVnZXhTb3VyY2V9VCR7dGltZVJlZ2V4U291cmNlKGFyZ3MpfWA7XG4gICAgY29uc3Qgb3B0cyA9IFtdO1xuICAgIG9wdHMucHVzaChhcmdzLmxvY2FsID8gYFo/YCA6IGBaYCk7XG4gICAgaWYgKGFyZ3Mub2Zmc2V0KVxuICAgICAgICBvcHRzLnB1c2goYChbKy1dXFxcXGR7Mn06P1xcXFxkezJ9KWApO1xuICAgIHJlZ2V4ID0gYCR7cmVnZXh9KCR7b3B0cy5qb2luKFwifFwiKX0pYDtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7cmVnZXh9JGApO1xufVxuZnVuY3Rpb24gaXNWYWxpZElQKGlwLCB2ZXJzaW9uKSB7XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY0XCIgfHwgIXZlcnNpb24pICYmIGlwdjRSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY2XCIgfHwgIXZlcnNpb24pICYmIGlwdjZSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNWYWxpZEpXVChqd3QsIGFsZykge1xuICAgIGlmICghand0UmVnZXgudGVzdChqd3QpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgW2hlYWRlcl0gPSBqd3Quc3BsaXQoXCIuXCIpO1xuICAgICAgICBpZiAoIWhlYWRlcilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gQ29udmVydCBiYXNlNjR1cmwgdG8gYmFzZTY0XG4gICAgICAgIGNvbnN0IGJhc2U2NCA9IGhlYWRlclxuICAgICAgICAgICAgLnJlcGxhY2UoLy0vZywgXCIrXCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvXy9nLCBcIi9cIilcbiAgICAgICAgICAgIC5wYWRFbmQoaGVhZGVyLmxlbmd0aCArICgoNCAtIChoZWFkZXIubGVuZ3RoICUgNCkpICUgNCksIFwiPVwiKTtcbiAgICAgICAgY29uc3QgZGVjb2RlZCA9IEpTT04ucGFyc2UoYXRvYihiYXNlNjQpKTtcbiAgICAgICAgaWYgKHR5cGVvZiBkZWNvZGVkICE9PSBcIm9iamVjdFwiIHx8IGRlY29kZWQgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChcInR5cFwiIGluIGRlY29kZWQgJiYgZGVjb2RlZD8udHlwICE9PSBcIkpXVFwiKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIWRlY29kZWQuYWxnKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoYWxnICYmIGRlY29kZWQuYWxnICE9PSBhbGcpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc1ZhbGlkQ2lkcihpcCwgdmVyc2lvbikge1xuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NFwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY0Q2lkclJlZ2V4LnRlc3QoaXApKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoKHZlcnNpb24gPT09IFwidjZcIiB8fCAhdmVyc2lvbikgJiYgaXB2NkNpZHJSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuY2xhc3MgWm9kU3RyaW5nIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gU3RyaW5nKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfanNfMS5ab2RQYXJzZWRUeXBlLnN0cmluZykge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF9qc18xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfanNfMS5ab2RQYXJzZWRUeXBlLnN0cmluZyxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfanNfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBwYXJzZVV0aWxfanNfMS5QYXJzZVN0YXR1cygpO1xuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEubGVuZ3RoIDwgY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfanNfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmxlbmd0aCA+IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImxlbmd0aFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gaW5wdXQuZGF0YS5sZW5ndGggPiBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGlucHV0LmRhdGEubGVuZ3RoIDwgY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb0JpZyB8fCB0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvb0JpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF9qc18xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF9qc18xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW1haWxcIikge1xuICAgICAgICAgICAgICAgIGlmICghZW1haWxSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJlbWFpbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJlbW9qaVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbW9qaVJlZ2V4KSB7XG4gICAgICAgICAgICAgICAgICAgIGVtb2ppUmVnZXggPSBuZXcgUmVnRXhwKF9lbW9qaVJlZ2V4LCBcInVcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZW1vamlSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJlbW9qaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ1dWlkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXV1aWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ1dWlkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm5hbm9pZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFuYW5vaWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJuYW5vaWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY3VpZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdWlkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF9qc18xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiY3VpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJjdWlkMlwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdWlkMlJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfanNfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImN1aWQyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInVsaWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghdWxpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfanNfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInVsaWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidXJsXCIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBuZXcgVVJMKGlucHV0LmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ1cmxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwicmVnZXhcIikge1xuICAgICAgICAgICAgICAgIGNoZWNrLnJlZ2V4Lmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVzdFJlc3VsdCA9IGNoZWNrLnJlZ2V4LnRlc3QoaW5wdXQuZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKCF0ZXN0UmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJyZWdleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0cmltXCIpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5kYXRhID0gaW5wdXQuZGF0YS50cmltKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImluY2x1ZGVzXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuaW5jbHVkZXMoY2hlY2sudmFsdWUsIGNoZWNrLnBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF9qc18xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogeyBpbmNsdWRlczogY2hlY2sudmFsdWUsIHBvc2l0aW9uOiBjaGVjay5wb3NpdGlvbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidG9Mb3dlckNhc2VcIikge1xuICAgICAgICAgICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRvVXBwZXJDYXNlXCIpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5kYXRhID0gaW5wdXQuZGF0YS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJzdGFydHNXaXRoXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuc3RhcnRzV2l0aChjaGVjay52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfanNfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IHsgc3RhcnRzV2l0aDogY2hlY2sudmFsdWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImVuZHNXaXRoXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuZW5kc1dpdGgoY2hlY2sudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiB7IGVuZHNXaXRoOiBjaGVjay52YWx1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZGF0ZXRpbWVcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gZGF0ZXRpbWVSZWdleChjaGVjayk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJkYXRlXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IGRhdGVSZWdleDtcbiAgICAgICAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfanNfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidGltZVwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSB0aW1lUmVnZXgoY2hlY2spO1xuICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF9qc18xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ0aW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJkdXJhdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkdXJhdGlvblJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfanNfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImR1cmF0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImlwXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRJUChpbnB1dC5kYXRhLCBjaGVjay52ZXJzaW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF9qc18xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiaXBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiand0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRKV1QoaW5wdXQuZGF0YSwgY2hlY2suYWxnKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF9qc18xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiand0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImNpZHJcIikge1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZENpZHIoaW5wdXQuZGF0YSwgY2hlY2sudmVyc2lvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfanNfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImNpZHJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiYmFzZTY0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWJhc2U2NFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfanNfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImJhc2U2NFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJiYXNlNjR1cmxcIikge1xuICAgICAgICAgICAgICAgIGlmICghYmFzZTY0dXJsUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF9qc18xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiYmFzZTY0dXJsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGlsX2pzXzEudXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIF9yZWdleChyZWdleCwgdmFsaWRhdGlvbiwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZpbmVtZW50KChkYXRhKSA9PiByZWdleC50ZXN0KGRhdGEpLCB7XG4gICAgICAgICAgICB2YWxpZGF0aW9uLFxuICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWxfanNfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZW1haWwobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImVtYWlsXCIsIC4uLmVycm9yVXRpbF9qc18xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgdXJsKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJ1cmxcIiwgLi4uZXJyb3JVdGlsX2pzXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBlbW9qaShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZW1vamlcIiwgLi4uZXJyb3JVdGlsX2pzXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICB1dWlkKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJ1dWlkXCIsIC4uLmVycm9yVXRpbF9qc18xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgbmFub2lkKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJuYW5vaWRcIiwgLi4uZXJyb3JVdGlsX2pzXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBjdWlkKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJjdWlkXCIsIC4uLmVycm9yVXRpbF9qc18xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgY3VpZDIobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImN1aWQyXCIsIC4uLmVycm9yVXRpbF9qc18xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgdWxpZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwidWxpZFwiLCAuLi5lcnJvclV0aWxfanNfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGJhc2U2NChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiYmFzZTY0XCIsIC4uLmVycm9yVXRpbF9qc18xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgYmFzZTY0dXJsKG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gYmFzZTY0dXJsIGVuY29kaW5nIGlzIGEgbW9kaWZpY2F0aW9uIG9mIGJhc2U2NCB0aGF0IGNhbiBzYWZlbHkgYmUgdXNlZCBpbiBVUkxzIGFuZCBmaWxlbmFtZXNcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiYmFzZTY0dXJsXCIsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWxfanNfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBqd3Qob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImp3dFwiLCAuLi5lcnJvclV0aWxfanNfMS5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucykgfSk7XG4gICAgfVxuICAgIGlwKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJpcFwiLCAuLi5lcnJvclV0aWxfanNfMS5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucykgfSk7XG4gICAgfVxuICAgIGNpZHIob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImNpZHJcIiwgLi4uZXJyb3JVdGlsX2pzXzEuZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMpIH0pO1xuICAgIH1cbiAgICBkYXRldGltZShvcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgICAgICBraW5kOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICAgICAgcHJlY2lzaW9uOiBudWxsLFxuICAgICAgICAgICAgICAgIG9mZnNldDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbG9jYWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJkYXRldGltZVwiLFxuICAgICAgICAgICAgcHJlY2lzaW9uOiB0eXBlb2Ygb3B0aW9ucz8ucHJlY2lzaW9uID09PSBcInVuZGVmaW5lZFwiID8gbnVsbCA6IG9wdGlvbnM/LnByZWNpc2lvbixcbiAgICAgICAgICAgIG9mZnNldDogb3B0aW9ucz8ub2Zmc2V0ID8/IGZhbHNlLFxuICAgICAgICAgICAgbG9jYWw6IG9wdGlvbnM/LmxvY2FsID8/IGZhbHNlLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsX2pzXzEuZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnM/Lm1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGF0ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZGF0ZVwiLCBtZXNzYWdlIH0pO1xuICAgIH1cbiAgICB0aW1lKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAgICAgIGtpbmQ6IFwidGltZVwiLFxuICAgICAgICAgICAgICAgIHByZWNpc2lvbjogbnVsbCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBvcHRpb25zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwidGltZVwiLFxuICAgICAgICAgICAgcHJlY2lzaW9uOiB0eXBlb2Ygb3B0aW9ucz8ucHJlY2lzaW9uID09PSBcInVuZGVmaW5lZFwiID8gbnVsbCA6IG9wdGlvbnM/LnByZWNpc2lvbixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbF9qc18xLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zPy5tZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGR1cmF0aW9uKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJkdXJhdGlvblwiLCAuLi5lcnJvclV0aWxfanNfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHJlZ2V4KHJlZ2V4LCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcInJlZ2V4XCIsXG4gICAgICAgICAgICByZWdleDogcmVnZXgsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWxfanNfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbmNsdWRlcyh2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJpbmNsdWRlc1wiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgcG9zaXRpb246IG9wdGlvbnM/LnBvc2l0aW9uLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsX2pzXzEuZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnM/Lm1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhcnRzV2l0aCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJzdGFydHNXaXRoXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWxfanNfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbmRzV2l0aCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJlbmRzV2l0aFwiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsX2pzXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWluKG1pbkxlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBtaW5MZW5ndGgsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWxfanNfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4TGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IG1heExlbmd0aCxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbF9qc18xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxlbmd0aChsZW4sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibGVuZ3RoXCIsXG4gICAgICAgICAgICB2YWx1ZTogbGVuLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsX2pzXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byBgLm1pbigxKWBcbiAgICAgKi9cbiAgICBub25lbXB0eShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbigxLCBlcnJvclV0aWxfanNfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkpO1xuICAgIH1cbiAgICB0cmltKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCB7IGtpbmQ6IFwidHJpbVwiIH1dLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdG9Mb3dlckNhc2UoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0b0xvd2VyQ2FzZVwiIH1dLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdG9VcHBlckNhc2UoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0b1VwcGVyQ2FzZVwiIH1dLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IGlzRGF0ZXRpbWUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZGF0ZXRpbWVcIik7XG4gICAgfVxuICAgIGdldCBpc0RhdGUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZGF0ZVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVGltZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ0aW1lXCIpO1xuICAgIH1cbiAgICBnZXQgaXNEdXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJkdXJhdGlvblwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRW1haWwoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZW1haWxcIik7XG4gICAgfVxuICAgIGdldCBpc1VSTCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ1cmxcIik7XG4gICAgfVxuICAgIGdldCBpc0Vtb2ppKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImVtb2ppXCIpO1xuICAgIH1cbiAgICBnZXQgaXNVVUlEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInV1aWRcIik7XG4gICAgfVxuICAgIGdldCBpc05BTk9JRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJuYW5vaWRcIik7XG4gICAgfVxuICAgIGdldCBpc0NVSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY3VpZFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQ1VJRDIoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY3VpZDJcIik7XG4gICAgfVxuICAgIGdldCBpc1VMSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidWxpZFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzSVAoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiaXBcIik7XG4gICAgfVxuICAgIGdldCBpc0NJRFIoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY2lkclwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQmFzZTY0KCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImJhc2U2NFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQmFzZTY0dXJsKCkge1xuICAgICAgICAvLyBiYXNlNjR1cmwgZW5jb2RpbmcgaXMgYSBtb2RpZmljYXRpb24gb2YgYmFzZTY0IHRoYXQgY2FuIHNhZmVseSBiZSB1c2VkIGluIFVSTHMgYW5kIGZpbGVuYW1lc1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImJhc2U2NHVybFwiKTtcbiAgICB9XG4gICAgZ2V0IG1pbkxlbmd0aCgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBnZXQgbWF4TGVuZ3RoKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RTdHJpbmcgPSBab2RTdHJpbmc7XG5ab2RTdHJpbmcuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTdHJpbmcsXG4gICAgICAgIGNvZXJjZTogcGFyYW1zPy5jb2VyY2UgPz8gZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zOTY2NDg0L3doeS1kb2VzLW1vZHVsdXMtb3BlcmF0b3ItcmV0dXJuLWZyYWN0aW9uYWwtbnVtYmVyLWluLWphdmFzY3JpcHQvMzE3MTEwMzQjMzE3MTEwMzRcbmZ1bmN0aW9uIGZsb2F0U2FmZVJlbWFpbmRlcih2YWwsIHN0ZXApIHtcbiAgICBjb25zdCB2YWxEZWNDb3VudCA9ICh2YWwudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0gfHwgXCJcIikubGVuZ3RoO1xuICAgIGNvbnN0IHN0ZXBEZWNDb3VudCA9IChzdGVwLnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzFdIHx8IFwiXCIpLmxlbmd0aDtcbiAgICBjb25zdCBkZWNDb3VudCA9IHZhbERlY0NvdW50ID4gc3RlcERlY0NvdW50ID8gdmFsRGVjQ291bnQgOiBzdGVwRGVjQ291bnQ7XG4gICAgY29uc3QgdmFsSW50ID0gTnVtYmVyLnBhcnNlSW50KHZhbC50b0ZpeGVkKGRlY0NvdW50KS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgY29uc3Qgc3RlcEludCA9IE51bWJlci5wYXJzZUludChzdGVwLnRvRml4ZWQoZGVjQ291bnQpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICByZXR1cm4gKHZhbEludCAlIHN0ZXBJbnQpIC8gMTAgKiogZGVjQ291bnQ7XG59XG5jbGFzcyBab2ROdW1iZXIgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5taW4gPSB0aGlzLmd0ZTtcbiAgICAgICAgdGhpcy5tYXggPSB0aGlzLmx0ZTtcbiAgICAgICAgdGhpcy5zdGVwID0gdGhpcy5tdWx0aXBsZU9mO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBOdW1iZXIoaW5wdXQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gdXRpbF9qc18xLlpvZFBhcnNlZFR5cGUubnVtYmVyKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF9qc18xLlpvZFBhcnNlZFR5cGUubnVtYmVyLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF9qc18xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IHBhcnNlVXRpbF9qc18xLlBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwiaW50XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXV0aWxfanNfMS51dGlsLmlzSW50ZWdlcihpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF9qc18xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcImludGVnZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBcImZsb2F0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gY2hlY2suaW5jbHVzaXZlID8gaW5wdXQuZGF0YSA8IGNoZWNrLnZhbHVlIDogaW5wdXQuZGF0YSA8PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfanNfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gY2hlY2suaW5jbHVzaXZlID8gaW5wdXQuZGF0YSA+IGNoZWNrLnZhbHVlIDogaW5wdXQuZGF0YSA+PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZsb2F0U2FmZVJlbWFpbmRlcihpbnB1dC5kYXRhLCBjaGVjay52YWx1ZSkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfanNfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS5ub3RfbXVsdGlwbGVfb2YsXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZU9mOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImZpbml0ZVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfanNfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS5ub3RfZmluaXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWxfanNfMS51dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgZ3RlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWxfanNfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBndCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbF9qc18xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsX2pzXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHQodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWxfanNfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBzZXRMaW1pdChraW5kLCB2YWx1ZSwgaW5jbHVzaXZlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kTnVtYmVyKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogW1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5jaGVja3MsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBraW5kLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfanNfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2ROdW1iZXIoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaW50KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiaW50XCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfanNfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsX2pzXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF9qc18xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbnBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF9qc18xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbm5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF9qc18xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG11bHRpcGxlT2YodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibXVsdGlwbGVPZlwiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsX2pzXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZmluaXRlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiZmluaXRlXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfanNfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzYWZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfanNfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsX2pzXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IG1pblZhbHVlKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuICAgIGdldCBtYXhWYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4O1xuICAgIH1cbiAgICBnZXQgaXNJbnQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiaW50XCIgfHwgKGNoLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiICYmIHV0aWxfanNfMS51dGlsLmlzSW50ZWdlcihjaC52YWx1ZSkpKTtcbiAgICB9XG4gICAgZ2V0IGlzRmluaXRlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwiZmluaXRlXCIgfHwgY2gua2luZCA9PT0gXCJpbnRcIiB8fCBjaC5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBOdW1iZXIuaXNGaW5pdGUobWluKSAmJiBOdW1iZXIuaXNGaW5pdGUobWF4KTtcbiAgICB9XG59XG5leHBvcnRzLlpvZE51bWJlciA9IFpvZE51bWJlcjtcblpvZE51bWJlci5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROdW1iZXIoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bWJlcixcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSB8fCBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZEJpZ0ludCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm1pbiA9IHRoaXMuZ3RlO1xuICAgICAgICB0aGlzLm1heCA9IHRoaXMubHRlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IEJpZ0ludChpbnB1dC5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0SW52YWxpZElucHV0KGlucHV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSB1dGlsX2pzXzEuWm9kUGFyc2VkVHlwZS5iaWdpbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRJbnZhbGlkSW5wdXQoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBwYXJzZVV0aWxfanNfMS5QYXJzZVN0YXR1cygpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBjaGVjay5pbmNsdXNpdmUgPyBpbnB1dC5kYXRhIDwgY2hlY2sudmFsdWUgOiBpbnB1dC5kYXRhIDw9IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF9qc18xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYmlnaW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjaGVjay5pbmNsdXNpdmUgPyBpbnB1dC5kYXRhID4gY2hlY2sudmFsdWUgOiBpbnB1dC5kYXRhID49IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfanNfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJiaWdpbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YSAlIGNoZWNrLnZhbHVlICE9PSBCaWdJbnQoMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfanNfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS5ub3RfbXVsdGlwbGVfb2YsXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZU9mOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGlsX2pzXzEudXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIF9nZXRJbnZhbGlkSW5wdXQoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfanNfMS5ab2RQYXJzZWRUeXBlLmJpZ2ludCxcbiAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXJzZVV0aWxfanNfMS5JTlZBTElEO1xuICAgIH1cbiAgICBndGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbF9qc18xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGd0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsX2pzXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHRlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWxfanNfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbF9qc18xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIHNldExpbWl0KGtpbmQsIHZhbHVlLCBpbmNsdXNpdmUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbXG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLmNoZWNrcyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF9qc18xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEJpZ0ludCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfanNfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBuZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfanNfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25wb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF9qc18xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbm5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsX2pzXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbXVsdGlwbGVPZih2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtdWx0aXBsZU9mXCIsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF9qc18xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBtaW5WYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBnZXQgbWF4VmFsdWUoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICB9XG59XG5leHBvcnRzLlpvZEJpZ0ludCA9IFpvZEJpZ0ludDtcblpvZEJpZ0ludC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJpZ0ludCxcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSA/PyBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZEJvb2xlYW4gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBCb29sZWFuKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfanNfMS5ab2RQYXJzZWRUeXBlLmJvb2xlYW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfanNfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsX2pzXzEuWm9kUGFyc2VkVHlwZS5ib29sZWFuLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF9qc18xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfanNfMS5PSykoaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RCb29sZWFuID0gWm9kQm9vbGVhbjtcblpvZEJvb2xlYW4uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQm9vbGVhbih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQm9vbGVhbixcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSB8fCBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZERhdGUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBuZXcgRGF0ZShpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSB1dGlsX2pzXzEuWm9kUGFyc2VkVHlwZS5kYXRlKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF9qc18xLlpvZFBhcnNlZFR5cGUuZGF0ZSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfanNfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOdW1iZXIuaXNOYU4oaW5wdXQuZGF0YS5nZXRUaW1lKCkpKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfZGF0ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF9qc18xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IHBhcnNlVXRpbF9qc18xLlBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5nZXRUaW1lKCkgPCBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF9qc18xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmdldFRpbWUoKSA+IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbF9qc18xLnV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6IHN0YXR1cy52YWx1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZShpbnB1dC5kYXRhLmdldFRpbWUoKSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZERhdGUoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWluKG1pbkRhdGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogbWluRGF0ZS5nZXRUaW1lKCksXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfanNfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4RGF0ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBtYXhEYXRlLmdldFRpbWUoKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF9qc18xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBtaW5EYXRlKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW4gIT0gbnVsbCA/IG5ldyBEYXRlKG1pbikgOiBudWxsO1xuICAgIH1cbiAgICBnZXQgbWF4RGF0ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4ICE9IG51bGwgPyBuZXcgRGF0ZShtYXgpIDogbnVsbDtcbiAgICB9XG59XG5leHBvcnRzLlpvZERhdGUgPSBab2REYXRlO1xuWm9kRGF0ZS5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2REYXRlKHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSB8fCBmYWxzZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REYXRlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kU3ltYm9sIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfanNfMS5ab2RQYXJzZWRUeXBlLnN5bWJvbCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF9qc18xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfanNfMS5ab2RQYXJzZWRUeXBlLnN5bWJvbCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfanNfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsX2pzXzEuT0spKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kU3ltYm9sID0gWm9kU3ltYm9sO1xuWm9kU3ltYm9sLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFN5bWJvbCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3ltYm9sLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kVW5kZWZpbmVkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfanNfMS5ab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF9qc18xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfanNfMS5ab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfanNfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsX2pzXzEuT0spKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kVW5kZWZpbmVkID0gWm9kVW5kZWZpbmVkO1xuWm9kVW5kZWZpbmVkLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFVuZGVmaW5lZCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5kZWZpbmVkLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kTnVsbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSB1dGlsX2pzXzEuWm9kUGFyc2VkVHlwZS5udWxsKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF9qc18xLlpvZFBhcnNlZFR5cGUubnVsbCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfanNfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsX2pzXzEuT0spKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kTnVsbCA9IFpvZE51bGw7XG5ab2ROdWxsLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE51bGwoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RBbnkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgLy8gdG8gcHJldmVudCBpbnN0YW5jZXMgb2Ygb3RoZXIgY2xhc3NlcyBmcm9tIGV4dGVuZGluZyBab2RBbnkuIHRoaXMgY2F1c2VzIGlzc3VlcyB3aXRoIGNhdGNoYWxsIGluIFpvZE9iamVjdC5cbiAgICAgICAgdGhpcy5fYW55ID0gdHJ1ZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsX2pzXzEuT0spKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kQW55ID0gWm9kQW55O1xuWm9kQW55LmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEFueSh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQW55LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kVW5rbm93biBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvLyByZXF1aXJlZFxuICAgICAgICB0aGlzLl91bmtub3duID0gdHJ1ZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsX2pzXzEuT0spKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kVW5rbm93biA9IFpvZFVua25vd247XG5ab2RVbmtub3duLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFVua25vd24oe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVua25vd24sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2ROZXZlciBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICgwLCBwYXJzZVV0aWxfanNfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICBleHBlY3RlZDogdXRpbF9qc18xLlpvZFBhcnNlZFR5cGUubmV2ZXIsXG4gICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGFyc2VVdGlsX2pzXzEuSU5WQUxJRDtcbiAgICB9XG59XG5leHBvcnRzLlpvZE5ldmVyID0gWm9kTmV2ZXI7XG5ab2ROZXZlci5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROZXZlcih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmV2ZXIsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RWb2lkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfanNfMS5ab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF9qc18xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfanNfMS5ab2RQYXJzZWRUeXBlLnZvaWQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsX2pzXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF9qc18xLk9LKShpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5leHBvcnRzLlpvZFZvaWQgPSBab2RWb2lkO1xuWm9kVm9pZC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RWb2lkKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RWb2lkLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kQXJyYXkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHgsIHN0YXR1cyB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgZGVmID0gdGhpcy5fZGVmO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IHV0aWxfanNfMS5ab2RQYXJzZWRUeXBlLmFycmF5KSB7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF9qc18xLlpvZFBhcnNlZFR5cGUuYXJyYXksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsX2pzXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLmV4YWN0TGVuZ3RoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjdHguZGF0YS5sZW5ndGggPiBkZWYuZXhhY3RMZW5ndGgudmFsdWU7XG4gICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGN0eC5kYXRhLmxlbmd0aCA8IGRlZi5leGFjdExlbmd0aC52YWx1ZTtcbiAgICAgICAgICAgIGlmICh0b29CaWcgfHwgdG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiB0b29CaWcgPyBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS50b29fYmlnIDogWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiAodG9vU21hbGwgPyBkZWYuZXhhY3RMZW5ndGgudmFsdWUgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiAodG9vQmlnID8gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYuZXhhY3RMZW5ndGgubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLm1pbkxlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA8IGRlZi5taW5MZW5ndGgudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGRlZi5taW5MZW5ndGgudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5taW5MZW5ndGgubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLm1heExlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA+IGRlZi5tYXhMZW5ndGgudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBkZWYubWF4TGVuZ3RoLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYubWF4TGVuZ3RoLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbLi4uY3R4LmRhdGFdLm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWYudHlwZS5fcGFyc2VBc3luYyhuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGkpKTtcbiAgICAgICAgICAgIH0pKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsX2pzXzEuUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBbLi4uY3R4LmRhdGFdLm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGRlZi50eXBlLl9wYXJzZVN5bmMobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGFyc2VVdGlsX2pzXzEuUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdCk7XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGU7XG4gICAgfVxuICAgIG1pbihtaW5MZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBtaW5MZW5ndGg6IHsgdmFsdWU6IG1pbkxlbmd0aCwgbWVzc2FnZTogZXJyb3JVdGlsX2pzXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4TGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWF4TGVuZ3RoOiB7IHZhbHVlOiBtYXhMZW5ndGgsIG1lc3NhZ2U6IGVycm9yVXRpbF9qc18xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGVuZ3RoKGxlbiwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGV4YWN0TGVuZ3RoOiB7IHZhbHVlOiBsZW4sIG1lc3NhZ2U6IGVycm9yVXRpbF9qc18xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9uZW1wdHkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oMSwgbWVzc2FnZSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RBcnJheSA9IFpvZEFycmF5O1xuWm9kQXJyYXkuY3JlYXRlID0gKHNjaGVtYSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgIHR5cGU6IHNjaGVtYSxcbiAgICAgICAgbWluTGVuZ3RoOiBudWxsLFxuICAgICAgICBtYXhMZW5ndGg6IG51bGwsXG4gICAgICAgIGV4YWN0TGVuZ3RoOiBudWxsLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFycmF5LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZnVuY3Rpb24gZGVlcFBhcnRpYWxpZnkoc2NoZW1hKSB7XG4gICAgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE9iamVjdCkge1xuICAgICAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzY2hlbWEuc2hhcGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkU2NoZW1hID0gc2NoZW1hLnNoYXBlW2tleV07XG4gICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gWm9kT3B0aW9uYWwuY3JlYXRlKGRlZXBQYXJ0aWFsaWZ5KGZpZWxkU2NoZW1hKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4uc2NoZW1hLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gbmV3U2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RBcnJheSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnNjaGVtYS5fZGVmLFxuICAgICAgICAgICAgdHlwZTogZGVlcFBhcnRpYWxpZnkoc2NoZW1hLmVsZW1lbnQpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kT3B0aW9uYWwpIHtcbiAgICAgICAgcmV0dXJuIFpvZE9wdGlvbmFsLmNyZWF0ZShkZWVwUGFydGlhbGlmeShzY2hlbWEudW53cmFwKCkpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kTnVsbGFibGUpIHtcbiAgICAgICAgcmV0dXJuIFpvZE51bGxhYmxlLmNyZWF0ZShkZWVwUGFydGlhbGlmeShzY2hlbWEudW53cmFwKCkpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kVHVwbGUpIHtcbiAgICAgICAgcmV0dXJuIFpvZFR1cGxlLmNyZWF0ZShzY2hlbWEuaXRlbXMubWFwKChpdGVtKSA9PiBkZWVwUGFydGlhbGlmeShpdGVtKSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICB9XG59XG5jbGFzcyBab2RPYmplY3QgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5fY2FjaGVkID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXByZWNhdGVkIEluIG1vc3QgY2FzZXMsIHRoaXMgaXMgbm8gbG9uZ2VyIG5lZWRlZCAtIHVua25vd24gcHJvcGVydGllcyBhcmUgbm93IHNpbGVudGx5IHN0cmlwcGVkLlxuICAgICAgICAgKiBJZiB5b3Ugd2FudCB0byBwYXNzIHRocm91Z2ggdW5rbm93biBwcm9wZXJ0aWVzLCB1c2UgYC5wYXNzdGhyb3VnaCgpYCBpbnN0ZWFkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ub25zdHJpY3QgPSB0aGlzLnBhc3N0aHJvdWdoO1xuICAgICAgICAvLyBleHRlbmQ8XG4gICAgICAgIC8vICAgQXVnbWVudGF0aW9uIGV4dGVuZHMgWm9kUmF3U2hhcGUsXG4gICAgICAgIC8vICAgTmV3T3V0cHV0IGV4dGVuZHMgdXRpbC5mbGF0dGVuPHtcbiAgICAgICAgLy8gICAgIFtrIGluIGtleW9mIEF1Z21lbnRhdGlvbiB8IGtleW9mIE91dHB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAgICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfb3V0cHV0XCJdXG4gICAgICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIE91dHB1dFxuICAgICAgICAvLyAgICAgICA/IE91dHB1dFtrXVxuICAgICAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgICAgICAvLyAgIH0+LFxuICAgICAgICAvLyAgIE5ld0lucHV0IGV4dGVuZHMgdXRpbC5mbGF0dGVuPHtcbiAgICAgICAgLy8gICAgIFtrIGluIGtleW9mIEF1Z21lbnRhdGlvbiB8IGtleW9mIElucHV0XTogayBleHRlbmRzIGtleW9mIEF1Z21lbnRhdGlvblxuICAgICAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9pbnB1dFwiXVxuICAgICAgICAvLyAgICAgICA6IGsgZXh0ZW5kcyBrZXlvZiBJbnB1dFxuICAgICAgICAvLyAgICAgICA/IElucHV0W2tdXG4gICAgICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgICAgIC8vICAgfT5cbiAgICAgICAgLy8gPihcbiAgICAgICAgLy8gICBhdWdtZW50YXRpb246IEF1Z21lbnRhdGlvblxuICAgICAgICAvLyApOiBab2RPYmplY3Q8XG4gICAgICAgIC8vICAgZXh0ZW5kU2hhcGU8VCwgQXVnbWVudGF0aW9uPixcbiAgICAgICAgLy8gICBVbmtub3duS2V5cyxcbiAgICAgICAgLy8gICBDYXRjaGFsbCxcbiAgICAgICAgLy8gICBOZXdPdXRwdXQsXG4gICAgICAgIC8vICAgTmV3SW5wdXRcbiAgICAgICAgLy8gPiB7XG4gICAgICAgIC8vICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAvLyAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAvLyAgICAgc2hhcGU6ICgpID0+ICh7XG4gICAgICAgIC8vICAgICAgIC4uLnRoaXMuX2RlZi5zaGFwZSgpLFxuICAgICAgICAvLyAgICAgICAuLi5hdWdtZW50YXRpb24sXG4gICAgICAgIC8vICAgICB9KSxcbiAgICAgICAgLy8gICB9KSBhcyBhbnk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXByZWNhdGVkIFVzZSBgLmV4dGVuZGAgaW5zdGVhZFxuICAgICAgICAgKiAgKi9cbiAgICAgICAgdGhpcy5hdWdtZW50ID0gdGhpcy5leHRlbmQ7XG4gICAgfVxuICAgIF9nZXRDYWNoZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jYWNoZWQgIT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkO1xuICAgICAgICBjb25zdCBzaGFwZSA9IHRoaXMuX2RlZi5zaGFwZSgpO1xuICAgICAgICBjb25zdCBrZXlzID0gdXRpbF9qc18xLnV0aWwub2JqZWN0S2V5cyhzaGFwZSk7XG4gICAgICAgIHRoaXMuX2NhY2hlZCA9IHsgc2hhcGUsIGtleXMgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZDtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfanNfMS5ab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF9qc18xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfanNfMS5ab2RQYXJzZWRUeXBlLm9iamVjdCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfanNfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IHsgc2hhcGUsIGtleXM6IHNoYXBlS2V5cyB9ID0gdGhpcy5fZ2V0Q2FjaGVkKCk7XG4gICAgICAgIGNvbnN0IGV4dHJhS2V5cyA9IFtdO1xuICAgICAgICBpZiAoISh0aGlzLl9kZWYuY2F0Y2hhbGwgaW5zdGFuY2VvZiBab2ROZXZlciAmJiB0aGlzLl9kZWYudW5rbm93bktleXMgPT09IFwic3RyaXBcIikpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGN0eC5kYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzaGFwZUtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBleHRyYUtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWlycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBzaGFwZUtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleVZhbGlkYXRvciA9IHNoYXBlW2tleV07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN0eC5kYXRhW2tleV07XG4gICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgICAgICAgICB2YWx1ZToga2V5VmFsaWRhdG9yLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgdmFsdWUsIGN0eC5wYXRoLCBrZXkpKSxcbiAgICAgICAgICAgICAgICBhbHdheXNTZXQ6IGtleSBpbiBjdHguZGF0YSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY2F0Y2hhbGwgaW5zdGFuY2VvZiBab2ROZXZlcikge1xuICAgICAgICAgICAgY29uc3QgdW5rbm93bktleXMgPSB0aGlzLl9kZWYudW5rbm93bktleXM7XG4gICAgICAgICAgICBpZiAodW5rbm93bktleXMgPT09IFwicGFzc3Rocm91Z2hcIikge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGV4dHJhS2V5cykge1xuICAgICAgICAgICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGtleSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBjdHguZGF0YVtrZXldIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHVua25vd25LZXlzID09PSBcInN0cmljdFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4dHJhS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfanNfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS51bnJlY29nbml6ZWRfa2V5cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXM6IGV4dHJhS2V5cyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHVua25vd25LZXlzID09PSBcInN0cmlwXCIpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW50ZXJuYWwgWm9kT2JqZWN0IGVycm9yOiBpbnZhbGlkIHVua25vd25LZXlzIHZhbHVlLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gcnVuIGNhdGNoYWxsIHZhbGlkYXRpb25cbiAgICAgICAgICAgIGNvbnN0IGNhdGNoYWxsID0gdGhpcy5fZGVmLmNhdGNoYWxsO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgZXh0cmFLZXlzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHguZGF0YVtrZXldO1xuICAgICAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNhdGNoYWxsLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgdmFsdWUsIGN0eC5wYXRoLCBrZXkpIC8vLCBjdHguY2hpbGQoa2V5KSwgdmFsdWUsIGdldFBhcnNlZFR5cGUodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgICAgICAgICAudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3luY1BhaXJzID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGF3YWl0IHBhaXIua2V5O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHN5bmNQYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBwYWlyLmFsd2F5c1NldCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzeW5jUGFpcnM7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChzeW5jUGFpcnMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsX2pzXzEuUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgc3luY1BhaXJzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF9qc18xLlBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2hhcGUoKTtcbiAgICB9XG4gICAgc3RyaWN0KG1lc3NhZ2UpIHtcbiAgICAgICAgZXJyb3JVdGlsX2pzXzEuZXJyb3JVdGlsLmVyclRvT2JqO1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJzdHJpY3RcIixcbiAgICAgICAgICAgIC4uLihtZXNzYWdlICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNYXA6IChpc3N1ZSwgY3R4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0RXJyb3IgPSB0aGlzLl9kZWYuZXJyb3JNYXA/Lihpc3N1ZSwgY3R4KS5tZXNzYWdlID8/IGN0eC5kZWZhdWx0RXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNzdWUuY29kZSA9PT0gXCJ1bnJlY29nbml6ZWRfa2V5c1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF9qc18xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKS5tZXNzYWdlID8/IGRlZmF1bHRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWZhdWx0RXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0cmlwKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGFzc3Rocm91Z2goKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHVua25vd25LZXlzOiBcInBhc3N0aHJvdWdoXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBjb25zdCBBdWdtZW50RmFjdG9yeSA9XG4gICAgLy8gICA8RGVmIGV4dGVuZHMgWm9kT2JqZWN0RGVmPihkZWY6IERlZikgPT5cbiAgICAvLyAgIDxBdWdtZW50YXRpb24gZXh0ZW5kcyBab2RSYXdTaGFwZT4oXG4gICAgLy8gICAgIGF1Z21lbnRhdGlvbjogQXVnbWVudGF0aW9uXG4gICAgLy8gICApOiBab2RPYmplY3Q8XG4gICAgLy8gICAgIGV4dGVuZFNoYXBlPFJldHVyblR5cGU8RGVmW1wic2hhcGVcIl0+LCBBdWdtZW50YXRpb24+LFxuICAgIC8vICAgICBEZWZbXCJ1bmtub3duS2V5c1wiXSxcbiAgICAvLyAgICAgRGVmW1wiY2F0Y2hhbGxcIl1cbiAgICAvLyAgID4gPT4ge1xuICAgIC8vICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgLy8gICAgICAgLi4uZGVmLFxuICAgIC8vICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgIC8vICAgICAgICAgLi4uZGVmLnNoYXBlKCksXG4gICAgLy8gICAgICAgICAuLi5hdWdtZW50YXRpb24sXG4gICAgLy8gICAgICAgfSksXG4gICAgLy8gICAgIH0pIGFzIGFueTtcbiAgICAvLyAgIH07XG4gICAgZXh0ZW5kKGF1Z21lbnRhdGlvbikge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgICAgICAgICAuLi5hdWdtZW50YXRpb24sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByaW9yIHRvIHpvZEAxLjAuMTIgdGhlcmUgd2FzIGEgYnVnIGluIHRoZVxuICAgICAqIGluZmVycmVkIHR5cGUgb2YgbWVyZ2VkIG9iamVjdHMuIFBsZWFzZVxuICAgICAqIHVwZ3JhZGUgaWYgeW91IGFyZSBleHBlcmllbmNpbmcgaXNzdWVzLlxuICAgICAqL1xuICAgIG1lcmdlKG1lcmdpbmcpIHtcbiAgICAgICAgY29uc3QgbWVyZ2VkID0gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgICAgICAgICAgY2F0Y2hhbGw6IG1lcmdpbmcuX2RlZi5jYXRjaGFsbCxcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgICAgICAgIC4uLm1lcmdpbmcuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtZXJnZWQ7XG4gICAgfVxuICAgIC8vIG1lcmdlPFxuICAgIC8vICAgSW5jb21pbmcgZXh0ZW5kcyBBbnlab2RPYmplY3QsXG4gICAgLy8gICBBdWdtZW50YXRpb24gZXh0ZW5kcyBJbmNvbWluZ1tcInNoYXBlXCJdLFxuICAgIC8vICAgTmV3T3V0cHV0IGV4dGVuZHMge1xuICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBPdXRwdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfb3V0cHV0XCJdXG4gICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgT3V0cHV0XG4gICAgLy8gICAgICAgPyBPdXRwdXRba11cbiAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgIC8vICAgfSxcbiAgICAvLyAgIE5ld0lucHV0IGV4dGVuZHMge1xuICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBJbnB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9pbnB1dFwiXVxuICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIElucHV0XG4gICAgLy8gICAgICAgPyBJbnB1dFtrXVxuICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgLy8gICB9XG4gICAgLy8gPihcbiAgICAvLyAgIG1lcmdpbmc6IEluY29taW5nXG4gICAgLy8gKTogWm9kT2JqZWN0PFxuICAgIC8vICAgZXh0ZW5kU2hhcGU8VCwgUmV0dXJuVHlwZTxJbmNvbWluZ1tcIl9kZWZcIl1bXCJzaGFwZVwiXT4+LFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJjYXRjaGFsbFwiXSxcbiAgICAvLyAgIE5ld091dHB1dCxcbiAgICAvLyAgIE5ld0lucHV0XG4gICAgLy8gPiB7XG4gICAgLy8gICBjb25zdCBtZXJnZWQ6IGFueSA9IG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgIC8vICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgIC8vICAgICBzaGFwZTogKCkgPT5cbiAgICAvLyAgICAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKHRoaXMuX2RlZi5zaGFwZSgpLCBtZXJnaW5nLl9kZWYuc2hhcGUoKSksXG4gICAgLy8gICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgIC8vICAgfSkgYXMgYW55O1xuICAgIC8vICAgcmV0dXJuIG1lcmdlZDtcbiAgICAvLyB9XG4gICAgc2V0S2V5KGtleSwgc2NoZW1hKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF1Z21lbnQoeyBba2V5XTogc2NoZW1hIH0pO1xuICAgIH1cbiAgICAvLyBtZXJnZTxJbmNvbWluZyBleHRlbmRzIEFueVpvZE9iamVjdD4oXG4gICAgLy8gICBtZXJnaW5nOiBJbmNvbWluZ1xuICAgIC8vICk6IC8vWm9kT2JqZWN0PFQgJiBJbmNvbWluZ1tcIl9zaGFwZVwiXSwgVW5rbm93bktleXMsIENhdGNoYWxsPiA9IChtZXJnaW5nKSA9PiB7XG4gICAgLy8gWm9kT2JqZWN0PFxuICAgIC8vICAgZXh0ZW5kU2hhcGU8VCwgUmV0dXJuVHlwZTxJbmNvbWluZ1tcIl9kZWZcIl1bXCJzaGFwZVwiXT4+LFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJjYXRjaGFsbFwiXVxuICAgIC8vID4ge1xuICAgIC8vICAgLy8gY29uc3QgbWVyZ2VkU2hhcGUgPSBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKFxuICAgIC8vICAgLy8gICB0aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAvLyAgIC8vICAgbWVyZ2luZy5fZGVmLnNoYXBlKClcbiAgICAvLyAgIC8vICk7XG4gICAgLy8gICBjb25zdCBtZXJnZWQ6IGFueSA9IG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgIC8vICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgIC8vICAgICBzaGFwZTogKCkgPT5cbiAgICAvLyAgICAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKHRoaXMuX2RlZi5zaGFwZSgpLCBtZXJnaW5nLl9kZWYuc2hhcGUoKSksXG4gICAgLy8gICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgIC8vICAgfSkgYXMgYW55O1xuICAgIC8vICAgcmV0dXJuIG1lcmdlZDtcbiAgICAvLyB9XG4gICAgY2F0Y2hhbGwoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2F0Y2hhbGw6IGluZGV4LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGljayhtYXNrKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHV0aWxfanNfMS51dGlsLm9iamVjdEtleXMobWFzaykpIHtcbiAgICAgICAgICAgIGlmIChtYXNrW2tleV0gJiYgdGhpcy5zaGFwZVtrZXldKSB7XG4gICAgICAgICAgICAgICAgc2hhcGVba2V5XSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbWl0KG1hc2spIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdXRpbF9qc18xLnV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKSkge1xuICAgICAgICAgICAgaWYgKCFtYXNrW2tleV0pIHtcbiAgICAgICAgICAgICAgICBzaGFwZVtrZXldID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgZGVlcFBhcnRpYWwoKSB7XG4gICAgICAgIHJldHVybiBkZWVwUGFydGlhbGlmeSh0aGlzKTtcbiAgICB9XG4gICAgcGFydGlhbChtYXNrKSB7XG4gICAgICAgIGNvbnN0IG5ld1NoYXBlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHV0aWxfanNfMS51dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkU2NoZW1hID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgaWYgKG1hc2sgJiYgIW1hc2tba2V5XSkge1xuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBmaWVsZFNjaGVtYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBmaWVsZFNjaGVtYS5vcHRpb25hbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBuZXdTaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlcXVpcmVkKG1hc2spIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdXRpbF9qc18xLnV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKSkge1xuICAgICAgICAgICAgaWYgKG1hc2sgJiYgIW1hc2tba2V5XSkge1xuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3RmllbGQgPSBmaWVsZFNjaGVtYTtcbiAgICAgICAgICAgICAgICB3aGlsZSAobmV3RmllbGQgaW5zdGFuY2VvZiBab2RPcHRpb25hbCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdGaWVsZCA9IG5ld0ZpZWxkLl9kZWYuaW5uZXJUeXBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gbmV3RmllbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IG5ld1NoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAga2V5b2YoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVab2RFbnVtKHV0aWxfanNfMS51dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kT2JqZWN0ID0gWm9kT2JqZWN0O1xuWm9kT2JqZWN0LmNyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIHVua25vd25LZXlzOiBcInN0cmlwXCIsXG4gICAgICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5ab2RPYmplY3Quc3RyaWN0Q3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgdW5rbm93bktleXM6IFwic3RyaWN0XCIsXG4gICAgICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5ab2RPYmplY3QubGF6eWNyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICBzaGFwZSxcbiAgICAgICAgdW5rbm93bktleXM6IFwic3RyaXBcIixcbiAgICAgICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZFVuaW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5fZGVmLm9wdGlvbnM7XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVJlc3VsdHMocmVzdWx0cykge1xuICAgICAgICAgICAgLy8gcmV0dXJuIGZpcnN0IGlzc3VlLWZyZWUgdmFsaWRhdGlvbiBpZiBpdCBleGlzdHNcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5yZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGlzc3VlcyBmcm9tIGRpcnR5IG9wdGlvblxuICAgICAgICAgICAgICAgICAgICBjdHguY29tbW9uLmlzc3Vlcy5wdXNoKC4uLnJlc3VsdC5jdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQucmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJldHVybiBpbnZhbGlkXG4gICAgICAgICAgICBjb25zdCB1bmlvbkVycm9ycyA9IHJlc3VsdHMubWFwKChyZXN1bHQpID0+IG5ldyBab2RFcnJvcl9qc18xLlpvZEVycm9yKHJlc3VsdC5jdHguY29tbW9uLmlzc3VlcykpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF9qc18xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uLFxuICAgICAgICAgICAgICAgIHVuaW9uRXJyb3JzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsX2pzXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKG9wdGlvbnMubWFwKGFzeW5jIChvcHRpb24pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEN0eCA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN0eC5jb21tb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IGF3YWl0IG9wdGlvbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjaGlsZEN0eCxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIGN0eDogY2hpbGRDdHgsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pKS50aGVuKGhhbmRsZVJlc3VsdHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGRpcnR5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgaXNzdWVzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRDdHggPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmN0eCxcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jdHguY29tbW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gb3B0aW9uLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY2hpbGRDdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIgJiYgIWRpcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGRpcnR5ID0geyByZXN1bHQsIGN0eDogY2hpbGRDdHggfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkQ3R4LmNvbW1vbi5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzc3Vlcy5wdXNoKGNoaWxkQ3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkaXJ0eSkge1xuICAgICAgICAgICAgICAgIGN0eC5jb21tb24uaXNzdWVzLnB1c2goLi4uZGlydHkuY3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkaXJ0eS5yZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1bmlvbkVycm9ycyA9IGlzc3Vlcy5tYXAoKGlzc3VlcykgPT4gbmV3IFpvZEVycm9yX2pzXzEuWm9kRXJyb3IoaXNzdWVzKSk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb24sXG4gICAgICAgICAgICAgICAgdW5pb25FcnJvcnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfanNfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm9wdGlvbnM7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RVbmlvbiA9IFpvZFVuaW9uO1xuWm9kVW5pb24uY3JlYXRlID0gKHR5cGVzLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFVuaW9uKHtcbiAgICAgICAgb3B0aW9uczogdHlwZXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5pb24sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgWm9kRGlzY3JpbWluYXRlZFVuaW9uICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuY29uc3QgZ2V0RGlzY3JpbWluYXRvciA9ICh0eXBlKSA9PiB7XG4gICAgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RMYXp5KSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuc2NoZW1hKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEVmZmVjdHMpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5pbm5lclR5cGUoKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RMaXRlcmFsKSB7XG4gICAgICAgIHJldHVybiBbdHlwZS52YWx1ZV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RFbnVtKSB7XG4gICAgICAgIHJldHVybiB0eXBlLm9wdGlvbnM7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROYXRpdmVFbnVtKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBiYW4vYmFuXG4gICAgICAgIHJldHVybiB1dGlsX2pzXzEudXRpbC5vYmplY3RWYWx1ZXModHlwZS5lbnVtKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZERlZmF1bHQpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5fZGVmLmlubmVyVHlwZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RVbmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFt1bmRlZmluZWRdO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTnVsbCkge1xuICAgICAgICByZXR1cm4gW251bGxdO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kT3B0aW9uYWwpIHtcbiAgICAgICAgcmV0dXJuIFt1bmRlZmluZWQsIC4uLmdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSldO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTnVsbGFibGUpIHtcbiAgICAgICAgcmV0dXJuIFtudWxsLCAuLi5nZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEJyYW5kZWQpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RSZWFkb25seSkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnVud3JhcCgpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZENhdGNoKSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuX2RlZi5pbm5lclR5cGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbn07XG5jbGFzcyBab2REaXNjcmltaW5hdGVkVW5pb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gdXRpbF9qc18xLlpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF9qc18xLlpvZFBhcnNlZFR5cGUub2JqZWN0LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF9qc18xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGlzY3JpbWluYXRvciA9IHRoaXMuZGlzY3JpbWluYXRvcjtcbiAgICAgICAgY29uc3QgZGlzY3JpbWluYXRvclZhbHVlID0gY3R4LmRhdGFbZGlzY3JpbWluYXRvcl07XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IHRoaXMub3B0aW9uc01hcC5nZXQoZGlzY3JpbWluYXRvclZhbHVlKTtcbiAgICAgICAgaWYgKCFvcHRpb24pIHtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfanNfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFycmF5LmZyb20odGhpcy5vcHRpb25zTWFwLmtleXMoKSksXG4gICAgICAgICAgICAgICAgcGF0aDogW2Rpc2NyaW1pbmF0b3JdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsX2pzXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb24uX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZGlzY3JpbWluYXRvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5kaXNjcmltaW5hdG9yO1xuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vcHRpb25zO1xuICAgIH1cbiAgICBnZXQgb3B0aW9uc01hcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vcHRpb25zTWFwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY29uc3RydWN0b3Igb2YgdGhlIGRpc2NyaW1pbmF0ZWQgdW5pb24gc2NoZW1hLiBJdHMgYmVoYXZpb3VyIGlzIHZlcnkgc2ltaWxhciB0byB0aGF0IG9mIHRoZSBub3JtYWwgei51bmlvbigpIGNvbnN0cnVjdG9yLlxuICAgICAqIEhvd2V2ZXIsIGl0IG9ubHkgYWxsb3dzIGEgdW5pb24gb2Ygb2JqZWN0cywgYWxsIG9mIHdoaWNoIG5lZWQgdG8gc2hhcmUgYSBkaXNjcmltaW5hdG9yIHByb3BlcnR5LiBUaGlzIHByb3BlcnR5IG11c3RcbiAgICAgKiBoYXZlIGEgZGlmZmVyZW50IHZhbHVlIGZvciBlYWNoIG9iamVjdCBpbiB0aGUgdW5pb24uXG4gICAgICogQHBhcmFtIGRpc2NyaW1pbmF0b3IgdGhlIG5hbWUgb2YgdGhlIGRpc2NyaW1pbmF0b3IgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0gdHlwZXMgYW4gYXJyYXkgb2Ygb2JqZWN0IHNjaGVtYXNcbiAgICAgKiBAcGFyYW0gcGFyYW1zXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShkaXNjcmltaW5hdG9yLCBvcHRpb25zLCBwYXJhbXMpIHtcbiAgICAgICAgLy8gR2V0IGFsbCB0aGUgdmFsaWQgZGlzY3JpbWluYXRvciB2YWx1ZXNcbiAgICAgICAgY29uc3Qgb3B0aW9uc01hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gdHJ5IHtcbiAgICAgICAgZm9yIChjb25zdCB0eXBlIG9mIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc2NyaW1pbmF0b3JWYWx1ZXMgPSBnZXREaXNjcmltaW5hdG9yKHR5cGUuc2hhcGVbZGlzY3JpbWluYXRvcl0pO1xuICAgICAgICAgICAgaWYgKCFkaXNjcmltaW5hdG9yVmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQSBkaXNjcmltaW5hdG9yIHZhbHVlIGZvciBrZXkgXFxgJHtkaXNjcmltaW5hdG9yfVxcYCBjb3VsZCBub3QgYmUgZXh0cmFjdGVkIGZyb20gYWxsIHNjaGVtYSBvcHRpb25zYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGRpc2NyaW1pbmF0b3JWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc01hcC5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRGlzY3JpbWluYXRvciBwcm9wZXJ0eSAke1N0cmluZyhkaXNjcmltaW5hdG9yKX0gaGFzIGR1cGxpY2F0ZSB2YWx1ZSAke1N0cmluZyh2YWx1ZSl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wdGlvbnNNYXAuc2V0KHZhbHVlLCB0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZERpc2NyaW1pbmF0ZWRVbmlvbih7XG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERpc2NyaW1pbmF0ZWRVbmlvbixcbiAgICAgICAgICAgIGRpc2NyaW1pbmF0b3IsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgb3B0aW9uc01hcCxcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2REaXNjcmltaW5hdGVkVW5pb24gPSBab2REaXNjcmltaW5hdGVkVW5pb247XG5mdW5jdGlvbiBtZXJnZVZhbHVlcyhhLCBiKSB7XG4gICAgY29uc3QgYVR5cGUgPSAoMCwgdXRpbF9qc18xLmdldFBhcnNlZFR5cGUpKGEpO1xuICAgIGNvbnN0IGJUeXBlID0gKDAsIHV0aWxfanNfMS5nZXRQYXJzZWRUeXBlKShiKTtcbiAgICBpZiAoYSA9PT0gYikge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogYSB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChhVHlwZSA9PT0gdXRpbF9qc18xLlpvZFBhcnNlZFR5cGUub2JqZWN0ICYmIGJUeXBlID09PSB1dGlsX2pzXzEuWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgY29uc3QgYktleXMgPSB1dGlsX2pzXzEudXRpbC5vYmplY3RLZXlzKGIpO1xuICAgICAgICBjb25zdCBzaGFyZWRLZXlzID0gdXRpbF9qc18xLnV0aWwub2JqZWN0S2V5cyhhKS5maWx0ZXIoKGtleSkgPT4gYktleXMuaW5kZXhPZihrZXkpICE9PSAtMSk7XG4gICAgICAgIGNvbnN0IG5ld09iaiA9IHsgLi4uYSwgLi4uYiB9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBzaGFyZWRLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBzaGFyZWRWYWx1ZSA9IG1lcmdlVmFsdWVzKGFba2V5XSwgYltrZXldKTtcbiAgICAgICAgICAgIGlmICghc2hhcmVkVmFsdWUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld09ialtrZXldID0gc2hhcmVkVmFsdWUuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogbmV3T2JqIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGFUeXBlID09PSB1dGlsX2pzXzEuWm9kUGFyc2VkVHlwZS5hcnJheSAmJiBiVHlwZSA9PT0gdXRpbF9qc18xLlpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3QXJyYXkgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGEubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtQSA9IGFbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgaXRlbUIgPSBiW2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IHNoYXJlZFZhbHVlID0gbWVyZ2VWYWx1ZXMoaXRlbUEsIGl0ZW1CKTtcbiAgICAgICAgICAgIGlmICghc2hhcmVkVmFsdWUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0FycmF5LnB1c2goc2hhcmVkVmFsdWUuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IG5ld0FycmF5IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGFUeXBlID09PSB1dGlsX2pzXzEuWm9kUGFyc2VkVHlwZS5kYXRlICYmIGJUeXBlID09PSB1dGlsX2pzXzEuWm9kUGFyc2VkVHlwZS5kYXRlICYmICthID09PSArYikge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogYSB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgfVxufVxuY2xhc3MgWm9kSW50ZXJzZWN0aW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGhhbmRsZVBhcnNlZCA9IChwYXJzZWRMZWZ0LCBwYXJzZWRSaWdodCkgPT4ge1xuICAgICAgICAgICAgaWYgKCgwLCBwYXJzZVV0aWxfanNfMS5pc0Fib3J0ZWQpKHBhcnNlZExlZnQpIHx8ICgwLCBwYXJzZVV0aWxfanNfMS5pc0Fib3J0ZWQpKHBhcnNlZFJpZ2h0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfanNfMS5JTlZBTElEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWVyZ2VkID0gbWVyZ2VWYWx1ZXMocGFyc2VkTGVmdC52YWx1ZSwgcGFyc2VkUmlnaHQudmFsdWUpO1xuICAgICAgICAgICAgaWYgKCFtZXJnZWQudmFsaWQpIHtcbiAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS5pbnZhbGlkX2ludGVyc2VjdGlvbl90eXBlcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsX2pzXzEuSU5WQUxJRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoMCwgcGFyc2VVdGlsX2pzXzEuaXNEaXJ0eSkocGFyc2VkTGVmdCkgfHwgKDAsIHBhcnNlVXRpbF9qc18xLmlzRGlydHkpKHBhcnNlZFJpZ2h0KSkge1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBtZXJnZWQuZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWYubGVmdC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVmLnJpZ2h0Ll9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF0pLnRoZW4oKFtsZWZ0LCByaWdodF0pID0+IGhhbmRsZVBhcnNlZChsZWZ0LCByaWdodCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVBhcnNlZCh0aGlzLl9kZWYubGVmdC5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pLCB0aGlzLl9kZWYucmlnaHQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlpvZEludGVyc2VjdGlvbiA9IFpvZEludGVyc2VjdGlvbjtcblpvZEludGVyc2VjdGlvbi5jcmVhdGUgPSAobGVmdCwgcmlnaHQsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kSW50ZXJzZWN0aW9uKHtcbiAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgcmlnaHQ6IHJpZ2h0LFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEludGVyc2VjdGlvbixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbi8vIHR5cGUgWm9kVHVwbGVJdGVtcyA9IFtab2RUeXBlQW55LCAuLi5ab2RUeXBlQW55W11dO1xuY2xhc3MgWm9kVHVwbGUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSB1dGlsX2pzXzEuWm9kUGFyc2VkVHlwZS5hcnJheSkge1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF9qc18xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfanNfMS5ab2RQYXJzZWRUeXBlLmFycmF5LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF9qc18xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA8IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfanNfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgIG1pbmltdW06IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfanNfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3QgPSB0aGlzLl9kZWYucmVzdDtcbiAgICAgICAgaWYgKCFyZXN0ICYmIGN0eC5kYXRhLmxlbmd0aCA+IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfanNfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICBtYXhpbXVtOiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpdGVtcyA9IFsuLi5jdHguZGF0YV1cbiAgICAgICAgICAgIC5tYXAoKGl0ZW0sIGl0ZW1JbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2NoZW1hID0gdGhpcy5fZGVmLml0ZW1zW2l0ZW1JbmRleF0gfHwgdGhpcy5fZGVmLnJlc3Q7XG4gICAgICAgICAgICBpZiAoIXNjaGVtYSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBzY2hlbWEuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaXRlbUluZGV4KSk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuZmlsdGVyKCh4KSA9PiAhIXgpOyAvLyBmaWx0ZXIgbnVsbHNcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChpdGVtcykudGhlbigocmVzdWx0cykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfanNfMS5QYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfanNfMS5QYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgaXRlbXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBpdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pdGVtcztcbiAgICB9XG4gICAgcmVzdChyZXN0KSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kVHVwbGUoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgcmVzdCxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RUdXBsZSA9IFpvZFR1cGxlO1xuWm9kVHVwbGUuY3JlYXRlID0gKHNjaGVtYXMsIHBhcmFtcykgPT4ge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShzY2hlbWFzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgbXVzdCBwYXNzIGFuIGFycmF5IG9mIHNjaGVtYXMgdG8gei50dXBsZShbIC4uLiBdKVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBab2RUdXBsZSh7XG4gICAgICAgIGl0ZW1zOiBzY2hlbWFzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFR1cGxlLFxuICAgICAgICByZXN0OiBudWxsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kUmVjb3JkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgZ2V0IGtleVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgIH1cbiAgICBnZXQgdmFsdWVTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSB1dGlsX2pzXzEuWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfanNfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsX2pzXzEuWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsX2pzXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWlycyA9IFtdO1xuICAgICAgICBjb25zdCBrZXlUeXBlID0gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGN0eC5kYXRhKSB7XG4gICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXk6IGtleVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBrZXksIGN0eC5wYXRoLCBrZXkpKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgY3R4LmRhdGFba2V5XSwgY3R4LnBhdGgsIGtleSkpLFxuICAgICAgICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfanNfMS5QYXJzZVN0YXR1cy5tZXJnZU9iamVjdEFzeW5jKHN0YXR1cywgcGFpcnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF9qc18xLlBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoZmlyc3QsIHNlY29uZCwgdGhpcmQpIHtcbiAgICAgICAgaWYgKHNlY29uZCBpbnN0YW5jZW9mIFpvZFR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgICAgICAgICAgICBrZXlUeXBlOiBmaXJzdCxcbiAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IHNlY29uZCxcbiAgICAgICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZCxcbiAgICAgICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXJkKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgICAgICAgIGtleVR5cGU6IFpvZFN0cmluZy5jcmVhdGUoKSxcbiAgICAgICAgICAgIHZhbHVlVHlwZTogZmlyc3QsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZCxcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMoc2Vjb25kKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RSZWNvcmQgPSBab2RSZWNvcmQ7XG5jbGFzcyBab2RNYXAgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBnZXQga2V5U2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgfVxuICAgIGdldCB2YWx1ZVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IHV0aWxfanNfMS5ab2RQYXJzZWRUeXBlLm1hcCkge1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF9qc18xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfanNfMS5ab2RQYXJzZWRUeXBlLm1hcCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfanNfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGtleVR5cGUgPSB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICAgICAgY29uc3QgcGFpcnMgPSBbLi4uY3R4LmRhdGEuZW50cmllcygpXS5tYXAoKFtrZXksIHZhbHVlXSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAga2V5OiBrZXlUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwga2V5LCBjdHgucGF0aCwgW2luZGV4LCBcImtleVwiXSkpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCB2YWx1ZSwgY3R4LnBhdGgsIFtpbmRleCwgXCJ2YWx1ZVwiXSkpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICBjb25zdCBmaW5hbE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgcGFpci5rZXk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFpci52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfanNfMS5JTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImRpcnR5XCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsTWFwLnNldChrZXkudmFsdWUsIHZhbHVlLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBmaW5hbE1hcCB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBmaW5hbE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHBhaXIua2V5O1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcGFpci52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsX2pzXzEuSU5WQUxJRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxNYXAuc2V0KGtleS52YWx1ZSwgdmFsdWUudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBmaW5hbE1hcCB9O1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5ab2RNYXAgPSBab2RNYXA7XG5ab2RNYXAuY3JlYXRlID0gKGtleVR5cGUsIHZhbHVlVHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RNYXAoe1xuICAgICAgICB2YWx1ZVR5cGUsXG4gICAgICAgIGtleVR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTWFwLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kU2V0IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gdXRpbF9qc18xLlpvZFBhcnNlZFR5cGUuc2V0KSB7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF9qc18xLlpvZFBhcnNlZFR5cGUuc2V0LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF9qc18xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVmID0gdGhpcy5fZGVmO1xuICAgICAgICBpZiAoZGVmLm1pblNpemUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5zaXplIDwgZGVmLm1pblNpemUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGRlZi5taW5TaXplLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1pblNpemUubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLm1heFNpemUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5zaXplID4gZGVmLm1heFNpemUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBkZWYubWF4U2l6ZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5tYXhTaXplLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICAgICAgZnVuY3Rpb24gZmluYWxpemVTZXQoZWxlbWVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZFNldCA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfanNfMS5JTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICBwYXJzZWRTZXQuYWRkKGVsZW1lbnQudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBwYXJzZWRTZXQgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtZW50cyA9IFsuLi5jdHguZGF0YS52YWx1ZXMoKV0ubWFwKChpdGVtLCBpKSA9PiB2YWx1ZVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaSkpKTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChlbGVtZW50cykudGhlbigoZWxlbWVudHMpID0+IGZpbmFsaXplU2V0KGVsZW1lbnRzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmluYWxpemVTZXQoZWxlbWVudHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1pbihtaW5TaXplLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1pblNpemU6IHsgdmFsdWU6IG1pblNpemUsIG1lc3NhZ2U6IGVycm9yVXRpbF9qc18xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heFNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWF4U2l6ZTogeyB2YWx1ZTogbWF4U2l6ZSwgbWVzc2FnZTogZXJyb3JVdGlsX2pzXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzaXplKHNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKHNpemUsIG1lc3NhZ2UpLm1heChzaXplLCBtZXNzYWdlKTtcbiAgICB9XG4gICAgbm9uZW1wdHkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oMSwgbWVzc2FnZSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RTZXQgPSBab2RTZXQ7XG5ab2RTZXQuY3JlYXRlID0gKHZhbHVlVHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICB2YWx1ZVR5cGUsXG4gICAgICAgIG1pblNpemU6IG51bGwsXG4gICAgICAgIG1heFNpemU6IG51bGwsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU2V0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kRnVuY3Rpb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSA9IHRoaXMuaW1wbGVtZW50O1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gdXRpbF9qc18xLlpvZFBhcnNlZFR5cGUuZnVuY3Rpb24pIHtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfanNfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsX2pzXzEuWm9kUGFyc2VkVHlwZS5mdW5jdGlvbixcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfanNfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VBcmdzSXNzdWUoYXJncywgZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsX2pzXzEubWFrZUlzc3VlKSh7XG4gICAgICAgICAgICAgICAgZGF0YTogYXJncyxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBlcnJvck1hcHM6IFtjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCwgY3R4LnNjaGVtYUVycm9yTWFwLCAoMCwgZXJyb3JzX2pzXzEuZ2V0RXJyb3JNYXApKCksIGVycm9yc19qc18xLmRlZmF1bHRFcnJvck1hcF0uZmlsdGVyKCh4KSA9PiAhIXgpLFxuICAgICAgICAgICAgICAgIGlzc3VlRGF0YToge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl9qc18xLlpvZElzc3VlQ29kZS5pbnZhbGlkX2FyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzRXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBtYWtlUmV0dXJuc0lzc3VlKHJldHVybnMsIGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF9qc18xLm1ha2VJc3N1ZSkoe1xuICAgICAgICAgICAgICAgIGRhdGE6IHJldHVybnMsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgZXJyb3JNYXBzOiBbY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsIGN0eC5zY2hlbWFFcnJvck1hcCwgKDAsIGVycm9yc19qc18xLmdldEVycm9yTWFwKSgpLCBlcnJvcnNfanNfMS5kZWZhdWx0RXJyb3JNYXBdLmZpbHRlcigoeCkgPT4gISF4KSxcbiAgICAgICAgICAgICAgICBpc3N1ZURhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9yZXR1cm5fdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuVHlwZUVycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyYW1zID0geyBlcnJvck1hcDogY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAgfTtcbiAgICAgICAgY29uc3QgZm4gPSBjdHguZGF0YTtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5yZXR1cm5zIGluc3RhbmNlb2YgWm9kUHJvbWlzZSkge1xuICAgICAgICAgICAgLy8gV291bGQgbG92ZSBhIHdheSB0byBhdm9pZCBkaXNhYmxpbmcgdGhpcyBydWxlLCBidXQgd2UgbmVlZFxuICAgICAgICAgICAgLy8gYW4gYWxpYXMgKHVzaW5nIGFuIGFycm93IGZ1bmN0aW9uIHdhcyB3aGF0IGNhdXNlZCAyNjUxKS5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICAgICAgY29uc3QgbWUgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfanNfMS5PSykoYXN5bmMgZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBab2RFcnJvcl9qc18xLlpvZEVycm9yKFtdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRBcmdzID0gYXdhaXQgbWUuX2RlZi5hcmdzLnBhcnNlQXN5bmMoYXJncywgcGFyYW1zKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5hZGRJc3N1ZShtYWtlQXJnc0lzc3VlKGFyZ3MsIGUpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUmVmbGVjdC5hcHBseShmbiwgdGhpcywgcGFyc2VkQXJncyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkUmV0dXJucyA9IGF3YWl0IG1lLl9kZWYucmV0dXJucy5fZGVmLnR5cGVcbiAgICAgICAgICAgICAgICAgICAgLnBhcnNlQXN5bmMocmVzdWx0LCBwYXJhbXMpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5hZGRJc3N1ZShtYWtlUmV0dXJuc0lzc3VlKHJlc3VsdCwgZSkpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkUmV0dXJucztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gV291bGQgbG92ZSBhIHdheSB0byBhdm9pZCBkaXNhYmxpbmcgdGhpcyBydWxlLCBidXQgd2UgbmVlZFxuICAgICAgICAgICAgLy8gYW4gYWxpYXMgKHVzaW5nIGFuIGFycm93IGZ1bmN0aW9uIHdhcyB3aGF0IGNhdXNlZCAyNjUxKS5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICAgICAgY29uc3QgbWUgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfanNfMS5PSykoZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRBcmdzID0gbWUuX2RlZi5hcmdzLnNhZmVQYXJzZShhcmdzLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIGlmICghcGFyc2VkQXJncy5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBab2RFcnJvcl9qc18xLlpvZEVycm9yKFttYWtlQXJnc0lzc3VlKGFyZ3MsIHBhcnNlZEFyZ3MuZXJyb3IpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuYXBwbHkoZm4sIHRoaXMsIHBhcnNlZEFyZ3MuZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkUmV0dXJucyA9IG1lLl9kZWYucmV0dXJucy5zYWZlUGFyc2UocmVzdWx0LCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIGlmICghcGFyc2VkUmV0dXJucy5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBab2RFcnJvcl9qc18xLlpvZEVycm9yKFttYWtlUmV0dXJuc0lzc3VlKHJlc3VsdCwgcGFyc2VkUmV0dXJucy5lcnJvcildKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlZFJldHVybnMuZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBhcmFtZXRlcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuYXJncztcbiAgICB9XG4gICAgcmV0dXJuVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5yZXR1cm5zO1xuICAgIH1cbiAgICBhcmdzKC4uLml0ZW1zKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRnVuY3Rpb24oe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgYXJnczogWm9kVHVwbGUuY3JlYXRlKGl0ZW1zKS5yZXN0KFpvZFVua25vd24uY3JlYXRlKCkpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJucyhyZXR1cm5UeXBlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRnVuY3Rpb24oe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgcmV0dXJuczogcmV0dXJuVHlwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGltcGxlbWVudChmdW5jKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRlZEZ1bmMgPSB0aGlzLnBhcnNlKGZ1bmMpO1xuICAgICAgICByZXR1cm4gdmFsaWRhdGVkRnVuYztcbiAgICB9XG4gICAgc3RyaWN0SW1wbGVtZW50KGZ1bmMpIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGVkRnVuYyA9IHRoaXMucGFyc2UoZnVuYyk7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZWRGdW5jO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGFyZ3MsIHJldHVybnMsIHBhcmFtcykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgICAgIGFyZ3M6IChhcmdzID8gYXJncyA6IFpvZFR1cGxlLmNyZWF0ZShbXSkucmVzdChab2RVbmtub3duLmNyZWF0ZSgpKSksXG4gICAgICAgICAgICByZXR1cm5zOiByZXR1cm5zIHx8IFpvZFVua25vd24uY3JlYXRlKCksXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEZ1bmN0aW9uLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLlpvZEZ1bmN0aW9uID0gWm9kRnVuY3Rpb247XG5jbGFzcyBab2RMYXp5IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgZ2V0IHNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5nZXR0ZXIoKTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBsYXp5U2NoZW1hID0gdGhpcy5fZGVmLmdldHRlcigpO1xuICAgICAgICByZXR1cm4gbGF6eVNjaGVtYS5fcGFyc2UoeyBkYXRhOiBjdHguZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kTGF6eSA9IFpvZExhenk7XG5ab2RMYXp5LmNyZWF0ZSA9IChnZXR0ZXIsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTGF6eSh7XG4gICAgICAgIGdldHRlcjogZ2V0dGVyLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExhenksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RMaXRlcmFsIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmIChpbnB1dC5kYXRhICE9PSB0aGlzLl9kZWYudmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfanNfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfbGl0ZXJhbCxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdGhpcy5fZGVmLnZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsX2pzXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kTGl0ZXJhbCA9IFpvZExpdGVyYWw7XG5ab2RMaXRlcmFsLmNyZWF0ZSA9ICh2YWx1ZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RMaXRlcmFsKHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExpdGVyYWwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5mdW5jdGlvbiBjcmVhdGVab2RFbnVtKHZhbHVlcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RFbnVtKHtcbiAgICAgICAgdmFsdWVzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW0sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmNsYXNzIFpvZEVudW0gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dC5kYXRhICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsX2pzXzEudXRpbC5qb2luVmFsdWVzKGV4cGVjdGVkVmFsdWVzKSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsX2pzXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZSA9IG5ldyBTZXQodGhpcy5fZGVmLnZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZS5oYXMoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdGhpcy5fZGVmLnZhbHVlcztcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfanNfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfZW51bV92YWx1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBleHBlY3RlZFZhbHVlcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF9qc18xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfanNfMS5PSykoaW5wdXQuZGF0YSk7XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlcztcbiAgICB9XG4gICAgZ2V0IGVudW0oKSB7XG4gICAgICAgIGNvbnN0IGVudW1WYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgdGhpcy5fZGVmLnZhbHVlcykge1xuICAgICAgICAgICAgZW51bVZhbHVlc1t2YWxdID0gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICAgIH1cbiAgICBnZXQgVmFsdWVzKCkge1xuICAgICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgICB9XG4gICAgZ2V0IEVudW0oKSB7XG4gICAgICAgIGNvbnN0IGVudW1WYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgdGhpcy5fZGVmLnZhbHVlcykge1xuICAgICAgICAgICAgZW51bVZhbHVlc1t2YWxdID0gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICAgIH1cbiAgICBleHRyYWN0KHZhbHVlcywgbmV3RGVmID0gdGhpcy5fZGVmKSB7XG4gICAgICAgIHJldHVybiBab2RFbnVtLmNyZWF0ZSh2YWx1ZXMsIHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIC4uLm5ld0RlZixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGV4Y2x1ZGUodmFsdWVzLCBuZXdEZWYgPSB0aGlzLl9kZWYpIHtcbiAgICAgICAgcmV0dXJuIFpvZEVudW0uY3JlYXRlKHRoaXMub3B0aW9ucy5maWx0ZXIoKG9wdCkgPT4gIXZhbHVlcy5pbmNsdWRlcyhvcHQpKSwge1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgLi4ubmV3RGVmLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLlpvZEVudW0gPSBab2RFbnVtO1xuWm9kRW51bS5jcmVhdGUgPSBjcmVhdGVab2RFbnVtO1xuY2xhc3MgWm9kTmF0aXZlRW51bSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBuYXRpdmVFbnVtVmFsdWVzID0gdXRpbF9qc18xLnV0aWwuZ2V0VmFsaWRFbnVtVmFsdWVzKHRoaXMuX2RlZi52YWx1ZXMpO1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gdXRpbF9qc18xLlpvZFBhcnNlZFR5cGUuc3RyaW5nICYmIGN0eC5wYXJzZWRUeXBlICE9PSB1dGlsX2pzXzEuWm9kUGFyc2VkVHlwZS5udW1iZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdXRpbF9qc18xLnV0aWwub2JqZWN0VmFsdWVzKG5hdGl2ZUVudW1WYWx1ZXMpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF9qc18xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF9qc18xLnV0aWwuam9pblZhbHVlcyhleHBlY3RlZFZhbHVlcyksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF9qc18xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZSkge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGUgPSBuZXcgU2V0KHV0aWxfanNfMS51dGlsLmdldFZhbGlkRW51bVZhbHVlcyh0aGlzLl9kZWYudmFsdWVzKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZS5oYXMoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdXRpbF9qc18xLnV0aWwub2JqZWN0VmFsdWVzKG5hdGl2ZUVudW1WYWx1ZXMpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF9qc18xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfanNfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGV4cGVjdGVkVmFsdWVzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsX2pzXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF9qc18xLk9LKShpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgZ2V0IGVudW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVzO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kTmF0aXZlRW51bSA9IFpvZE5hdGl2ZUVudW07XG5ab2ROYXRpdmVFbnVtLmNyZWF0ZSA9ICh2YWx1ZXMsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTmF0aXZlRW51bSh7XG4gICAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hdGl2ZUVudW0sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RQcm9taXNlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSB1dGlsX2pzXzEuWm9kUGFyc2VkVHlwZS5wcm9taXNlICYmIGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF9qc18xLlpvZFBhcnNlZFR5cGUucHJvbWlzZSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfanNfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb21pc2lmaWVkID0gY3R4LnBhcnNlZFR5cGUgPT09IHV0aWxfanNfMS5ab2RQYXJzZWRUeXBlLnByb21pc2UgPyBjdHguZGF0YSA6IFByb21pc2UucmVzb2x2ZShjdHguZGF0YSk7XG4gICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsX2pzXzEuT0spKHByb21pc2lmaWVkLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZS5wYXJzZUFzeW5jKGRhdGEsIHtcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBlcnJvck1hcDogY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kUHJvbWlzZSA9IFpvZFByb21pc2U7XG5ab2RQcm9taXNlLmNyZWF0ZSA9IChzY2hlbWEsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kUHJvbWlzZSh7XG4gICAgICAgIHR5cGU6IHNjaGVtYSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQcm9taXNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kRWZmZWN0cyBleHRlbmRzIFpvZFR5cGUge1xuICAgIGlubmVyVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWE7XG4gICAgfVxuICAgIHNvdXJjZVR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hLl9kZWYudHlwZU5hbWUgPT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzXG4gICAgICAgICAgICA/IHRoaXMuX2RlZi5zY2hlbWEuc291cmNlVHlwZSgpXG4gICAgICAgICAgICA6IHRoaXMuX2RlZi5zY2hlbWE7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBlZmZlY3QgPSB0aGlzLl9kZWYuZWZmZWN0IHx8IG51bGw7XG4gICAgICAgIGNvbnN0IGNoZWNrQ3R4ID0ge1xuICAgICAgICAgICAgYWRkSXNzdWU6IChhcmcpID0+IHtcbiAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwgYXJnKTtcbiAgICAgICAgICAgICAgICBpZiAoYXJnLmZhdGFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBwYXRoKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdHgucGF0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGNoZWNrQ3R4LmFkZElzc3VlID0gY2hlY2tDdHguYWRkSXNzdWUuYmluZChjaGVja0N0eCk7XG4gICAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gXCJwcmVwcm9jZXNzXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZCA9IGVmZmVjdC50cmFuc2Zvcm0oY3R4LmRhdGEsIGNoZWNrQ3R4KTtcbiAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwcm9jZXNzZWQpLnRoZW4oYXN5bmMgKHByb2Nlc3NlZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLnZhbHVlID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfanNfMS5JTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHByb2Nlc3NlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsX2pzXzEuSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsX2pzXzEuRElSVFkpKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsX2pzXzEuRElSVFkpKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLnZhbHVlID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF9qc18xLklOVkFMSUQ7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogcHJvY2Vzc2VkLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsX2pzXzEuSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF9qc18xLkRJUlRZKShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfanNfMS5ESVJUWSkocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gXCJyZWZpbmVtZW50XCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4ZWN1dGVSZWZpbmVtZW50ID0gKGFjYykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVmZmVjdC5yZWZpbmVtZW50KGFjYywgY2hlY2tDdHgpO1xuICAgICAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXN5bmMgcmVmaW5lbWVudCBlbmNvdW50ZXJlZCBkdXJpbmcgc3luY2hyb25vdXMgcGFyc2Ugb3BlcmF0aW9uLiBVc2UgLnBhcnNlQXN5bmMgaW5zdGVhZC5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5uZXIgPSB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsX2pzXzEuSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIC8vIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkXG4gICAgICAgICAgICAgICAgZXhlY3V0ZVJlZmluZW1lbnQoaW5uZXIudmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5uZXIudmFsdWUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZUFzeW5jKHsgZGF0YTogY3R4LmRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KS50aGVuKChpbm5lcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfanNfMS5JTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4ZWN1dGVSZWZpbmVtZW50KGlubmVyLnZhbHVlKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5uZXIudmFsdWUgfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVmZmVjdC50eXBlID09PSBcInRyYW5zZm9ybVwiKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoISgwLCBwYXJzZVV0aWxfanNfMS5pc1ZhbGlkKShiYXNlKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF9qc18xLklOVkFMSUQ7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZWZmZWN0LnRyYW5zZm9ybShiYXNlLnZhbHVlLCBjaGVja0N0eCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBc3luY2hyb25vdXMgdHJhbnNmb3JtIGVuY291bnRlcmVkIGR1cmluZyBzeW5jaHJvbm91cyBwYXJzZSBvcGVyYXRpb24uIFVzZSAucGFyc2VBc3luYyBpbnN0ZWFkLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IHJlc3VsdCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlQXN5bmMoeyBkYXRhOiBjdHguZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pLnRoZW4oKGJhc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoMCwgcGFyc2VVdGlsX2pzXzEuaXNWYWxpZCkoYmFzZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsX2pzXzEuSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShlZmZlY3QudHJhbnNmb3JtKGJhc2UudmFsdWUsIGNoZWNrQ3R4KSkudGhlbigocmVzdWx0KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdXRpbF9qc18xLnV0aWwuYXNzZXJ0TmV2ZXIoZWZmZWN0KTtcbiAgICB9XG59XG5leHBvcnRzLlpvZEVmZmVjdHMgPSBab2RFZmZlY3RzO1xuZXhwb3J0cy5ab2RUcmFuc2Zvcm1lciA9IFpvZEVmZmVjdHM7XG5ab2RFZmZlY3RzLmNyZWF0ZSA9IChzY2hlbWEsIGVmZmVjdCwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgc2NoZW1hLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICAgIGVmZmVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcblpvZEVmZmVjdHMuY3JlYXRlV2l0aFByZXByb2Nlc3MgPSAocHJlcHJvY2Vzcywgc2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICBzY2hlbWEsXG4gICAgICAgIGVmZmVjdDogeyB0eXBlOiBcInByZXByb2Nlc3NcIiwgdHJhbnNmb3JtOiBwcmVwcm9jZXNzIH0sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZE9wdGlvbmFsIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgPT09IHV0aWxfanNfMS5ab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfanNfMS5PSykodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2UoaW5wdXQpO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kT3B0aW9uYWwgPSBab2RPcHRpb25hbDtcblpvZE9wdGlvbmFsLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9wdGlvbmFsKHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9wdGlvbmFsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kTnVsbGFibGUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSA9PT0gdXRpbF9qc18xLlpvZFBhcnNlZFR5cGUubnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfanNfMS5PSykobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKGlucHV0KTtcbiAgICB9XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5leHBvcnRzLlpvZE51bGxhYmxlID0gWm9kTnVsbGFibGU7XG5ab2ROdWxsYWJsZS5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROdWxsYWJsZSh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsYWJsZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZERlZmF1bHQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGxldCBkYXRhID0gY3R4LmRhdGE7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSA9PT0gdXRpbF9qc18xLlpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkYXRhID0gdGhpcy5fZGVmLmRlZmF1bHRWYWx1ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZSh7XG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlbW92ZURlZmF1bHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kRGVmYXVsdCA9IFpvZERlZmF1bHQ7XG5ab2REZWZhdWx0LmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZERlZmF1bHQoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGVmYXVsdCxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiB0eXBlb2YgcGFyYW1zLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiA/IHBhcmFtcy5kZWZhdWx0IDogKCkgPT4gcGFyYW1zLmRlZmF1bHQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RDYXRjaCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgLy8gbmV3Q3R4IGlzIHVzZWQgdG8gbm90IGNvbGxlY3QgaXNzdWVzIGZyb20gaW5uZXIgdHlwZXMgaW4gY3R4XG4gICAgICAgIGNvbnN0IG5ld0N0eCA9IHtcbiAgICAgICAgICAgIC4uLmN0eCxcbiAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgIC4uLmN0eC5jb21tb24sXG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKHtcbiAgICAgICAgICAgIGRhdGE6IG5ld0N0eC5kYXRhLFxuICAgICAgICAgICAgcGF0aDogbmV3Q3R4LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IHtcbiAgICAgICAgICAgICAgICAuLi5uZXdDdHgsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCgwLCBwYXJzZVV0aWxfanNfMS5pc0FzeW5jKShyZXN1bHQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJ2YWxpZFwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJlc3VsdC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl9kZWYuY2F0Y2hWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFpvZEVycm9yX2pzXzEuWm9kRXJyb3IobmV3Q3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IG5ld0N0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFwidmFsaWRcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiXG4gICAgICAgICAgICAgICAgICAgID8gcmVzdWx0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5fZGVmLmNhdGNoVmFsdWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgWm9kRXJyb3JfanNfMS5ab2RFcnJvcihuZXdDdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IG5ld0N0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlQ2F0Y2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kQ2F0Y2ggPSBab2RDYXRjaDtcblpvZENhdGNoLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZENhdGNoKHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZENhdGNoLFxuICAgICAgICBjYXRjaFZhbHVlOiB0eXBlb2YgcGFyYW1zLmNhdGNoID09PSBcImZ1bmN0aW9uXCIgPyBwYXJhbXMuY2F0Y2ggOiAoKSA9PiBwYXJhbXMuY2F0Y2gsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2ROYU4gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gdXRpbF9qc18xLlpvZFBhcnNlZFR5cGUubmFuKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsX2pzXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yX2pzXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF9qc18xLlpvZFBhcnNlZFR5cGUubmFuLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF9qc18xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxufVxuZXhwb3J0cy5ab2ROYU4gPSBab2ROYU47XG5ab2ROYU4uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTmFOKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYU4sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnRzLkJSQU5EID0gU3ltYm9sKFwiem9kX2JyYW5kXCIpO1xuY2xhc3MgWm9kQnJhbmRlZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGN0eC5kYXRhO1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGUuX3BhcnNlKHtcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGU7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RCcmFuZGVkID0gWm9kQnJhbmRlZDtcbmNsYXNzIFpvZFBpcGVsaW5lIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVBc3luYyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpblJlc3VsdCA9IGF3YWl0IHRoaXMuX2RlZi5pbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfanNfMS5JTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfanNfMS5ESVJUWSkoaW5SZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vdXQuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogaW5SZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUFzeW5jKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpblJlc3VsdCA9IHRoaXMuX2RlZi5pbi5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF9qc18xLklOVkFMSUQ7XG4gICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFwiZGlydHlcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGluUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm91dC5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogaW5SZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RQaXBlbGluZSh7XG4gICAgICAgICAgICBpbjogYSxcbiAgICAgICAgICAgIG91dDogYixcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUGlwZWxpbmUsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kUGlwZWxpbmUgPSBab2RQaXBlbGluZTtcbmNsYXNzIFpvZFJlYWRvbmx5IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgY29uc3QgZnJlZXplID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGlmICgoMCwgcGFyc2VVdGlsX2pzXzEuaXNWYWxpZCkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnZhbHVlID0gT2JqZWN0LmZyZWV6ZShkYXRhLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF9qc18xLmlzQXN5bmMpKHJlc3VsdCkgPyByZXN1bHQudGhlbigoZGF0YSkgPT4gZnJlZXplKGRhdGEpKSA6IGZyZWV6ZShyZXN1bHQpO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kUmVhZG9ubHkgPSBab2RSZWFkb25seTtcblpvZFJlYWRvbmx5LmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFJlYWRvbmx5KHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlYWRvbmx5LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgIHouY3VzdG9tICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZnVuY3Rpb24gY2xlYW5QYXJhbXMocGFyYW1zLCBkYXRhKSB7XG4gICAgY29uc3QgcCA9IHR5cGVvZiBwYXJhbXMgPT09IFwiZnVuY3Rpb25cIiA/IHBhcmFtcyhkYXRhKSA6IHR5cGVvZiBwYXJhbXMgPT09IFwic3RyaW5nXCIgPyB7IG1lc3NhZ2U6IHBhcmFtcyB9IDogcGFyYW1zO1xuICAgIGNvbnN0IHAyID0gdHlwZW9mIHAgPT09IFwic3RyaW5nXCIgPyB7IG1lc3NhZ2U6IHAgfSA6IHA7XG4gICAgcmV0dXJuIHAyO1xufVxuZnVuY3Rpb24gY3VzdG9tKGNoZWNrLCBfcGFyYW1zID0ge30sIFxuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICpcbiAqIFBhc3MgYGZhdGFsYCBpbnRvIHRoZSBwYXJhbXMgb2JqZWN0IGluc3RlYWQ6XG4gKlxuICogYGBgdHNcbiAqIHouc3RyaW5nKCkuY3VzdG9tKCh2YWwpID0+IHZhbC5sZW5ndGggPiA1LCB7IGZhdGFsOiBmYWxzZSB9KVxuICogYGBgXG4gKlxuICovXG5mYXRhbCkge1xuICAgIGlmIChjaGVjaylcbiAgICAgICAgcmV0dXJuIFpvZEFueS5jcmVhdGUoKS5zdXBlclJlZmluZSgoZGF0YSwgY3R4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByID0gY2hlY2soZGF0YSk7XG4gICAgICAgICAgICBpZiAociBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gci50aGVuKChyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gY2xlYW5QYXJhbXMoX3BhcmFtcywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBfZmF0YWwgPSBwYXJhbXMuZmF0YWwgPz8gZmF0YWwgPz8gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5hZGRJc3N1ZSh7IGNvZGU6IFwiY3VzdG9tXCIsIC4uLnBhcmFtcywgZmF0YWw6IF9mYXRhbCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gY2xlYW5QYXJhbXMoX3BhcmFtcywgZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgX2ZhdGFsID0gcGFyYW1zLmZhdGFsID8/IGZhdGFsID8/IHRydWU7XG4gICAgICAgICAgICAgICAgY3R4LmFkZElzc3VlKHsgY29kZTogXCJjdXN0b21cIiwgLi4ucGFyYW1zLCBmYXRhbDogX2ZhdGFsIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9KTtcbiAgICByZXR1cm4gWm9kQW55LmNyZWF0ZSgpO1xufVxuZXhwb3J0cy5sYXRlID0ge1xuICAgIG9iamVjdDogWm9kT2JqZWN0LmxhenljcmVhdGUsXG59O1xudmFyIFpvZEZpcnN0UGFydHlUeXBlS2luZDtcbihmdW5jdGlvbiAoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kKSB7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kU3RyaW5nXCJdID0gXCJab2RTdHJpbmdcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROdW1iZXJcIl0gPSBcIlpvZE51bWJlclwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE5hTlwiXSA9IFwiWm9kTmFOXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQmlnSW50XCJdID0gXCJab2RCaWdJbnRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RCb29sZWFuXCJdID0gXCJab2RCb29sZWFuXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRGF0ZVwiXSA9IFwiWm9kRGF0ZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFN5bWJvbFwiXSA9IFwiWm9kU3ltYm9sXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVW5kZWZpbmVkXCJdID0gXCJab2RVbmRlZmluZWRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROdWxsXCJdID0gXCJab2ROdWxsXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQW55XCJdID0gXCJab2RBbnlcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RVbmtub3duXCJdID0gXCJab2RVbmtub3duXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTmV2ZXJcIl0gPSBcIlpvZE5ldmVyXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVm9pZFwiXSA9IFwiWm9kVm9pZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEFycmF5XCJdID0gXCJab2RBcnJheVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE9iamVjdFwiXSA9IFwiWm9kT2JqZWN0XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVW5pb25cIl0gPSBcIlpvZFVuaW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRGlzY3JpbWluYXRlZFVuaW9uXCJdID0gXCJab2REaXNjcmltaW5hdGVkVW5pb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RJbnRlcnNlY3Rpb25cIl0gPSBcIlpvZEludGVyc2VjdGlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFR1cGxlXCJdID0gXCJab2RUdXBsZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFJlY29yZFwiXSA9IFwiWm9kUmVjb3JkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTWFwXCJdID0gXCJab2RNYXBcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RTZXRcIl0gPSBcIlpvZFNldFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEZ1bmN0aW9uXCJdID0gXCJab2RGdW5jdGlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZExhenlcIl0gPSBcIlpvZExhenlcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RMaXRlcmFsXCJdID0gXCJab2RMaXRlcmFsXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRW51bVwiXSA9IFwiWm9kRW51bVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEVmZmVjdHNcIl0gPSBcIlpvZEVmZmVjdHNcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROYXRpdmVFbnVtXCJdID0gXCJab2ROYXRpdmVFbnVtXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kT3B0aW9uYWxcIl0gPSBcIlpvZE9wdGlvbmFsXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTnVsbGFibGVcIl0gPSBcIlpvZE51bGxhYmxlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRGVmYXVsdFwiXSA9IFwiWm9kRGVmYXVsdFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZENhdGNoXCJdID0gXCJab2RDYXRjaFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFByb21pc2VcIl0gPSBcIlpvZFByb21pc2VcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RCcmFuZGVkXCJdID0gXCJab2RCcmFuZGVkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kUGlwZWxpbmVcIl0gPSBcIlpvZFBpcGVsaW5lXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kUmVhZG9ubHlcIl0gPSBcIlpvZFJlYWRvbmx5XCI7XG59KShab2RGaXJzdFBhcnR5VHlwZUtpbmQgfHwgKGV4cG9ydHMuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kID0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kID0ge30pKTtcbi8vIHJlcXVpcmVzIFRTIDQuNCtcbmNsYXNzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvciguLi5fKSB7IH1cbn1cbmNvbnN0IGluc3RhbmNlT2ZUeXBlID0gKFxuLy8gY29uc3QgaW5zdGFuY2VPZlR5cGUgPSA8VCBleHRlbmRzIG5ldyAoLi4uYXJnczogYW55W10pID0+IGFueT4oXG5jbHMsIHBhcmFtcyA9IHtcbiAgICBtZXNzYWdlOiBgSW5wdXQgbm90IGluc3RhbmNlIG9mICR7Y2xzLm5hbWV9YCxcbn0pID0+IGN1c3RvbSgoZGF0YSkgPT4gZGF0YSBpbnN0YW5jZW9mIGNscywgcGFyYW1zKTtcbmV4cG9ydHMuaW5zdGFuY2VvZiA9IGluc3RhbmNlT2ZUeXBlO1xuY29uc3Qgc3RyaW5nVHlwZSA9IFpvZFN0cmluZy5jcmVhdGU7XG5leHBvcnRzLnN0cmluZyA9IHN0cmluZ1R5cGU7XG5jb25zdCBudW1iZXJUeXBlID0gWm9kTnVtYmVyLmNyZWF0ZTtcbmV4cG9ydHMubnVtYmVyID0gbnVtYmVyVHlwZTtcbmNvbnN0IG5hblR5cGUgPSBab2ROYU4uY3JlYXRlO1xuZXhwb3J0cy5uYW4gPSBuYW5UeXBlO1xuY29uc3QgYmlnSW50VHlwZSA9IFpvZEJpZ0ludC5jcmVhdGU7XG5leHBvcnRzLmJpZ2ludCA9IGJpZ0ludFR5cGU7XG5jb25zdCBib29sZWFuVHlwZSA9IFpvZEJvb2xlYW4uY3JlYXRlO1xuZXhwb3J0cy5ib29sZWFuID0gYm9vbGVhblR5cGU7XG5jb25zdCBkYXRlVHlwZSA9IFpvZERhdGUuY3JlYXRlO1xuZXhwb3J0cy5kYXRlID0gZGF0ZVR5cGU7XG5jb25zdCBzeW1ib2xUeXBlID0gWm9kU3ltYm9sLmNyZWF0ZTtcbmV4cG9ydHMuc3ltYm9sID0gc3ltYm9sVHlwZTtcbmNvbnN0IHVuZGVmaW5lZFR5cGUgPSBab2RVbmRlZmluZWQuY3JlYXRlO1xuZXhwb3J0cy51bmRlZmluZWQgPSB1bmRlZmluZWRUeXBlO1xuY29uc3QgbnVsbFR5cGUgPSBab2ROdWxsLmNyZWF0ZTtcbmV4cG9ydHMubnVsbCA9IG51bGxUeXBlO1xuY29uc3QgYW55VHlwZSA9IFpvZEFueS5jcmVhdGU7XG5leHBvcnRzLmFueSA9IGFueVR5cGU7XG5jb25zdCB1bmtub3duVHlwZSA9IFpvZFVua25vd24uY3JlYXRlO1xuZXhwb3J0cy51bmtub3duID0gdW5rbm93blR5cGU7XG5jb25zdCBuZXZlclR5cGUgPSBab2ROZXZlci5jcmVhdGU7XG5leHBvcnRzLm5ldmVyID0gbmV2ZXJUeXBlO1xuY29uc3Qgdm9pZFR5cGUgPSBab2RWb2lkLmNyZWF0ZTtcbmV4cG9ydHMudm9pZCA9IHZvaWRUeXBlO1xuY29uc3QgYXJyYXlUeXBlID0gWm9kQXJyYXkuY3JlYXRlO1xuZXhwb3J0cy5hcnJheSA9IGFycmF5VHlwZTtcbmNvbnN0IG9iamVjdFR5cGUgPSBab2RPYmplY3QuY3JlYXRlO1xuZXhwb3J0cy5vYmplY3QgPSBvYmplY3RUeXBlO1xuY29uc3Qgc3RyaWN0T2JqZWN0VHlwZSA9IFpvZE9iamVjdC5zdHJpY3RDcmVhdGU7XG5leHBvcnRzLnN0cmljdE9iamVjdCA9IHN0cmljdE9iamVjdFR5cGU7XG5jb25zdCB1bmlvblR5cGUgPSBab2RVbmlvbi5jcmVhdGU7XG5leHBvcnRzLnVuaW9uID0gdW5pb25UeXBlO1xuY29uc3QgZGlzY3JpbWluYXRlZFVuaW9uVHlwZSA9IFpvZERpc2NyaW1pbmF0ZWRVbmlvbi5jcmVhdGU7XG5leHBvcnRzLmRpc2NyaW1pbmF0ZWRVbmlvbiA9IGRpc2NyaW1pbmF0ZWRVbmlvblR5cGU7XG5jb25zdCBpbnRlcnNlY3Rpb25UeXBlID0gWm9kSW50ZXJzZWN0aW9uLmNyZWF0ZTtcbmV4cG9ydHMuaW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0aW9uVHlwZTtcbmNvbnN0IHR1cGxlVHlwZSA9IFpvZFR1cGxlLmNyZWF0ZTtcbmV4cG9ydHMudHVwbGUgPSB0dXBsZVR5cGU7XG5jb25zdCByZWNvcmRUeXBlID0gWm9kUmVjb3JkLmNyZWF0ZTtcbmV4cG9ydHMucmVjb3JkID0gcmVjb3JkVHlwZTtcbmNvbnN0IG1hcFR5cGUgPSBab2RNYXAuY3JlYXRlO1xuZXhwb3J0cy5tYXAgPSBtYXBUeXBlO1xuY29uc3Qgc2V0VHlwZSA9IFpvZFNldC5jcmVhdGU7XG5leHBvcnRzLnNldCA9IHNldFR5cGU7XG5jb25zdCBmdW5jdGlvblR5cGUgPSBab2RGdW5jdGlvbi5jcmVhdGU7XG5leHBvcnRzLmZ1bmN0aW9uID0gZnVuY3Rpb25UeXBlO1xuY29uc3QgbGF6eVR5cGUgPSBab2RMYXp5LmNyZWF0ZTtcbmV4cG9ydHMubGF6eSA9IGxhenlUeXBlO1xuY29uc3QgbGl0ZXJhbFR5cGUgPSBab2RMaXRlcmFsLmNyZWF0ZTtcbmV4cG9ydHMubGl0ZXJhbCA9IGxpdGVyYWxUeXBlO1xuY29uc3QgZW51bVR5cGUgPSBab2RFbnVtLmNyZWF0ZTtcbmV4cG9ydHMuZW51bSA9IGVudW1UeXBlO1xuY29uc3QgbmF0aXZlRW51bVR5cGUgPSBab2ROYXRpdmVFbnVtLmNyZWF0ZTtcbmV4cG9ydHMubmF0aXZlRW51bSA9IG5hdGl2ZUVudW1UeXBlO1xuY29uc3QgcHJvbWlzZVR5cGUgPSBab2RQcm9taXNlLmNyZWF0ZTtcbmV4cG9ydHMucHJvbWlzZSA9IHByb21pc2VUeXBlO1xuY29uc3QgZWZmZWN0c1R5cGUgPSBab2RFZmZlY3RzLmNyZWF0ZTtcbmV4cG9ydHMuZWZmZWN0ID0gZWZmZWN0c1R5cGU7XG5leHBvcnRzLnRyYW5zZm9ybWVyID0gZWZmZWN0c1R5cGU7XG5jb25zdCBvcHRpb25hbFR5cGUgPSBab2RPcHRpb25hbC5jcmVhdGU7XG5leHBvcnRzLm9wdGlvbmFsID0gb3B0aW9uYWxUeXBlO1xuY29uc3QgbnVsbGFibGVUeXBlID0gWm9kTnVsbGFibGUuY3JlYXRlO1xuZXhwb3J0cy5udWxsYWJsZSA9IG51bGxhYmxlVHlwZTtcbmNvbnN0IHByZXByb2Nlc3NUeXBlID0gWm9kRWZmZWN0cy5jcmVhdGVXaXRoUHJlcHJvY2VzcztcbmV4cG9ydHMucHJlcHJvY2VzcyA9IHByZXByb2Nlc3NUeXBlO1xuY29uc3QgcGlwZWxpbmVUeXBlID0gWm9kUGlwZWxpbmUuY3JlYXRlO1xuZXhwb3J0cy5waXBlbGluZSA9IHBpcGVsaW5lVHlwZTtcbmNvbnN0IG9zdHJpbmcgPSAoKSA9PiBzdHJpbmdUeXBlKCkub3B0aW9uYWwoKTtcbmV4cG9ydHMub3N0cmluZyA9IG9zdHJpbmc7XG5jb25zdCBvbnVtYmVyID0gKCkgPT4gbnVtYmVyVHlwZSgpLm9wdGlvbmFsKCk7XG5leHBvcnRzLm9udW1iZXIgPSBvbnVtYmVyO1xuY29uc3Qgb2Jvb2xlYW4gPSAoKSA9PiBib29sZWFuVHlwZSgpLm9wdGlvbmFsKCk7XG5leHBvcnRzLm9ib29sZWFuID0gb2Jvb2xlYW47XG5leHBvcnRzLmNvZXJjZSA9IHtcbiAgICBzdHJpbmc6ICgoYXJnKSA9PiBab2RTdHJpbmcuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSkpLFxuICAgIG51bWJlcjogKChhcmcpID0+IFpvZE51bWJlci5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG4gICAgYm9vbGVhbjogKChhcmcpID0+IFpvZEJvb2xlYW4uY3JlYXRlKHtcbiAgICAgICAgLi4uYXJnLFxuICAgICAgICBjb2VyY2U6IHRydWUsXG4gICAgfSkpLFxuICAgIGJpZ2ludDogKChhcmcpID0+IFpvZEJpZ0ludC5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG4gICAgZGF0ZTogKChhcmcpID0+IFpvZERhdGUuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSkpLFxufTtcbmV4cG9ydHMuTkVWRVIgPSBwYXJzZVV0aWxfanNfMS5JTlZBTElEO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/zod/v3/types.cjs\n"));

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["main"], function() { return __webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=private-next-pages%2F_app&page=%2F_app!"), __webpack_exec__("./node_modules/next/dist/client/router.js"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);